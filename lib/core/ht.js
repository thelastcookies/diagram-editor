!function(n,pR,xR){"use strict";var u,H,M,gR="ht";if(!n.ht){Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),n.performance&&n.performance.now||(U=Date.now(),n.performance||(n.performance={}),n.performance.now=function(){return Date.now()-U});for(var U,V=Date.now(),Y=["ms","moz","webkit","o"],c=0;c<Y.length&&!n.requestAnimationFrame;++c)n.requestAnimationFrame=n[Y[c]+"RequestAnimationFrame"],n.cancelAnimationFrame=n[Y[c]+"CancelAnimationFrame"]||n[Y[c]+"CancelRequestAnimationFrame"];n.requestAnimationFrame||(n.requestAnimationFrame=function(J){var a=Date.now(),z=16+V-a;return V=a,n.setTimeout(function(){V=Date.now(),J(performance.now())},z=z<0?0:z)}),n.cancelAnimationFrame||(n.cancelAnimationFrame=function(J){return n.clearTimeout(J)}),pR.assign===xR&&(pR.assign=function(J){if(J===xR||null===J)throw new TypeError("Cannot convert undefined or null to object");for(var a=pR(J),z=1;z<arguments.length;z++){var U=arguments[z];if(U!==xR&&null!==U)for(var g in U)pR.prototype.hasOwnProperty.call(U,g)&&(a[g]=U[g])}return a}),n.btoa===xR&&(n.btoa=function(J){for(var a,z,U=String(J),g=0,V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Y="";U.charAt(0|g)||(V="=",g%1);Y+=V.charAt(63&a>>8-g%1*8)){if(255<(z=U.charCodeAt(g+=.75)))throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");a=a<<8|z}return Y});var Q=(qH=n.location)&&n.document,WR=null,I=xR,m=n.ht={},e=n.htconfig,DR=m.Default=e&&e.Default||{},CR=m.Style=e&&e.Style||{},k=m.Attr=e&&e.Attr||{},E=function(){return!0},i=function(){return!1},w=function(){return null},L=function(J){return J},p=function(J){return!J},q=m.Color=e&&e.Color||{},x=m.IsGetter=e&&e.IsGetter||{},W=!1;try{var D=pR.defineProperty({},"passive",{get:function(){return W=!0,xR}});qH&&n.addEventListener("test",D,D),qH&&n.removeEventListener("test",D,D)}catch(J){W=!1}DR.passiveSupported=W;var VR,YR,K,cR,d,uR,HR,j,X,C,MR,IR,F,O,P,$,l,T,r,G,e=DR.passiveSupported,JR=DR.eventListenerOptionsFalse=!!e&&{passive:!1,capture:!1},aR=DR.eventListenerOptionsTrue=!e||{passive:!1,capture:!0},vR=function(J,a,z,U){J.addEventListener(a,z,U?aR:JR)},ZR=function(J,a,z,U){J.removeEventListener(a,z,U?aR:JR)},kR=(D=Math).round,ER=D.floor,iR=D.ceil,wR=D.sqrt,zR=D.max,UR=D.min,yR=D.abs,KR=D.cos,FR=D.acos,eR=D.sin,OR=D.pow,nR=D.asin,y=(D.exp,D.PI),QR=2*y,LR=y/2,bR=D.tan,SR=D.atan2,PR=D.random,e=D.log,$R=OR(2,1),lR=n.parseInt||global.parseInt,TR="2025-03-15",fR=qH&&!!n.navigator&&-1<n.navigator.platform.indexOf("Win"),NR=function(J){return J*J},AR=qH&&n.setTimeout,oR=qH&&n.clearTimeout,sR=qH&&(n.navigator?n.navigator.userAgent.toLowerCase():""),mR=(ie=function(J){return J.test(sR)})(/msie/),_R=ie(/msie/)||ie(/trident/),hR=ie(/msie 10/),BR=ie(/edge/),tR=ie(/firefox/),rR=ie(/mac/),GR=(ie(/mscAndroid/),DR.isTouchable===xR?!fR&&!!Q&&"ontouchend"in Q:DR.isTouchable),Je="default",ae="single",ze="multiple",Ue="front",ge="back",Ve="left",Ye="right",ce="top",ue="bottom",He="center",Me="eye",Ie="middle",ee="east",Qe="west",ve="north",Ze="none",ke="px",Ee="absolute",ie="border",we="triangle",f="rect",pe="circle",xe="cylinder",We="shape",De="items",Ke="normal",de="remove",je="clear",qe="width",Xe="height",Re="ingroup",Ce="check",ye="uncheck",Fe="radioOn",Oe="radioOff",ne="points",Le="values",be="series",Se="body",Pe="label",$e="label2",le="note",Te="note2",fe="icons",Ne="labelFont",Ae="labelColor",oe="labelSelectColor",se="note.expanded",me="note2.expanded",_e="edge.expanded",he="edge.points",Be="edge.type",te="rotation",re="hidden",Ge="visible",Jq="tuv",aq="no",zq="draw",Uq="select",gq="currentSubGraph",fR="selectBackground",Vq="autoMakeVisible",Yq="autoHideScrollBar",cq="scrollBarColor",uq="scrollBarSize",Hq="indent",Mq="rowHeight",Iq="columnLineColor",eq="rowLineColor",Qq="columnLineVisible",vq="rowLineVisible",Zq="visibleFunc",kq="expandIcon",Eq="collapseIcon",iq="checkMode",wq="sortFunc",pq="editable",xq="batchEditable",Wq="tristate",Dq="asc",Kq="desc",dq="position",jq="elevation",qq="children",Xq="translateX",Rq="translateY",Cq="dataModel",yq="state",Fq="encode",Oq="shape3d",nq="shape3d.resolution",Lq="shape3d.visible",bq="shape3d.from.visible",Sq="shape3d.to.visible",Pq="shape3d.top.visible",$q="shape3d.bottom.visible",lq="repeat.uv.length",Tq="serializeValue",fq="deserializeValue",Nq="centerUniform",Aq="uniform",oq="rgba(255,255,255,0)",sq="style",mq="string",_q="boolean",hq="color",Bq="int",tq="number",rq="ew-resize",Gq="ns-resize",JH="pointer",aH="auto",zH="mousedown",UH="mousemove",gH="mouseup",VH="mouseout",YH="touchstart",cH="touchmove",uH="touchend",HH="keydown",MH=["DOMMouseScroll","mousewheel"],IH=tR?MH[0]:MH[1],eH="__ht__"+Fq,QH=[YH,cH,uH,"tap"],vH=[zH,UH,gH,VH,IH,"wheel","mouseenter","mouseleave","mouseover"],ZH=[HH,"keyup","keypress","input","contextmenu","compositionstart","compositionupdate","compositionend"],kH=(GR?QH:vH).concat(ZH),EH=WR,iH=WR,wH=WR,pH=WR,xH=gH.length,WH=function(){wH&&(oR(wH.timeout),wH=WR)},DH=function(){wH&&ym(wH.e,wH.info)},KH=(n.addEventListener&&(I=qH)&&(GR||(vR(n,VH,function(){WH()}),vR(n,IH,function(){Fm()})),vR(n,"keyup",function(J){91===J.keyCode?nH={}:delete nH[J.keyCode]},!0),vR(n,HH,function(J){nH[J.keyCode]=!0},!0),vR(n,"blur",function(J){nH={}})),!1!==DR.canvasContentLossFix&&n.navigator&&Q&&(tR=n.navigator.userAgent)&&(tR=tR.match(/Chrome\/(\d+)/i))&&(tR=lR(tR[1]))&&124<=tR&&Q.addEventListener("visibilitychange",function(){if("visible"===Q.visibilityState)for(var J=Q.getElementsByTagName("canvas"),a=0;a<J.length;a++){var z=J.item(a);!z||z.parentElement&&z.parentElement._ht instanceof m.graph3d.Graph3dView||(z=z.getContext("2d"))&&(z.fillStyle="transparent",z.fillRect(0,0,1,1))}}),0),dH=WR,jH=function(J,a){var z=AR(function(){delete dH[z],FL(dH)&&(dH=WR),J()},a);return z},qH=WR,XH={},RH={},CH={},yH={},FH={},OH={},nH={},LH={},bH={},SH={},PH={},$H=/.json$/,lH="\\.(json|bin|htb|fbx|gltf|glb",TH=")([?#].*)?$",fH=new RegExp(lH+TH,"i"),NH=new RegExp("\\.([^.?#]*"+TH,"i"),AH=/^data:image\/svg\+xml/,oH=/(\w+)\s\(([^,]+),\s([^,]+)(,\s([^)]+))?\)/,sH=[],mH={},_H=WR,hH=function(){},BH=function(){throw"Oops!"},tH=[0,0,0],rH={x:0,y:0,width:0,height:0},GH=WR,JL=WR,aL=WR,zL=function(J,a){(RH[J]=a)&&a.comps&&!a.uuid&&(a.uuid=m.Math.generateUUID()),qf[J]&&(a.cacheRule=qf[J],delete qf[J])},UL=function(J){JL&&!J._72O&&((aL=aL||{})[J._72O=Ju()]=J),cR!=WR?(J=1e4*eR(xH++))-ER(J)<.05&&K&&!HR&&(eQ=WH):eQ=ZL},gL=function(z,U,g,V){if(!DR.isMaxConcurrencyReached()){var Y,c,J=(JL=JL||{})[z];if(J){if(J.url===U)return;J.image?(J.image.onload=hH,J.image.onerror=hH):J.request&&(J.request.onload=hH,J.request.onerror=hH)}$H.test(U)?(Y=new bw,JL[z]={request:Y,url:U},(U=DR.beforeLoadURL(U,z)).data?(c=DR.parse(U.data),VL(z,c),DR.handleImageLoaded(z,c)):(Y.onload=function(J){var a;200===this.status||0===this.status?(a=DR.parse(Y.getResponseText()),VL(z,a),DR.handleImageLoaded(z,a)):VL(z,DR.handleUnfoundImage(z,U)||WR)},Y.onerror=function(J){VL(z,DR.handleUnfoundImage(z,U)||WR)},(J={}).url=encodeURI(U),J.sync=!1,Y.send(J))):(c=new Image,JL[z]={image:c,url:U},/^data:/.test(U)||((U=DR.beforeLoadURL(U,z)).data?U=U.data:(U=DR.appendTimeStamp(U),U=encodeURI(U),c.crossOrigin=DR.crossOrigin)),DR.convertImageSrc(U,function(J){_R&&(0<U.toLowerCase().indexOf(".svg")||AH.test(U))?(Q.body.appendChild(c),c.style.visibility="hidden",c.onload=function(){AR(function(){var J,a;g&&(c.width=g),V&&(c.height=V),c.width&&c.height||(J=c.width||c.clientWidth,a=c.height||c.clientHeight,c.width=J,c.height=a),DR.handleImageLoaded(z,c),VL(z,c),Q.body.removeChild(c),c.style.visibility=""},180)},c.onerror=function(){VL(z,DR.handleUnfoundImage(z,U)||WR),Q.body.removeChild(c),c.style.visibility=""}):(c.onload=function(){g&&(c.width=g),V&&(c.height=V),DR.handleImageLoaded(z,c),VL(z,c)},c.onerror=function(){VL(z,DR.handleUnfoundImage(z,U)||WR)}),c.src=J}))}},VL=function(J,a){if(zL(J,a),delete JL[J],hw(J,a),FL(JL)&&(JL=WR,aL)){for(var z in aL)(U=aL[z])._2O&&U._2O[J]&&(U.deleteTexture(J),delete U._2O[J]),U.invalidateAll&&U.invalidateAll(xR,"imageLoaded",J),U.redraw&&U.redraw(),U.iv(),U instanceof Sr&&U.dm().each(function(J){J instanceof kw&&J.updateLayoutAttaches()}),delete U._72O;aL=WR}if(a&&aL)for(var z in aL){var U;(U=aL[z]).invalidateAll&&U.invalidateAll(xR,"imageLoading",J),U.redraw&&U.redraw(),U.iv(),U instanceof Sr&&U.dm().each(function(J){J instanceof kw&&J.updateLayoutAttaches()})}},YL=(e=D&&Date,function(){return(n.performance&&n.performance.now?n.performance:Date).now()}),cL=function(J,a,z){return{width:J,height:a,comps:jR(z)?z:[z]}},uL=function(J,a){return{type:pe,rect:[J,a,1.6,1.6],borderWidth:1,borderColor:v,gradient:Cm,gradientColor:AW,background:v}},HL=function(J,a){return cL(16,16,{type:we,rect:[4,4,10,8],background:J,rotation:a?1.57:3.14})},VH=function(J,a){return cL(16,16,{type:we,rect:[4,4,8,7],background:J,rotation:a?3.14:0})},ML=function(J){return"horizontal"===(J=J._orientation)||"h"===J},IL=function(J,a,z,U){return z||(z=GR?DR.touchHitTolerance:DR.mouseHitTolerance,z/=U||1),{x:J-z,y:a-z,width:2*z,height:2*z}},eL=function(J){var a=/^is:/.test(J);return a&&(J=J.slice(3)),(a||/ble$/.test(J)||/ed$/.test(J)||x[J]?"is":"get")+J.charAt(0).toUpperCase()+J.slice(1)},QL=function(J){return"set"+J.charAt(0).toUpperCase()+J.slice(1)},dR=function(J){return typeof J==mq||J instanceof String},vL=function(J){return typeof J==tq},ZL=function(J){return typeof J===_q},kL=function(J){return J&&"object"==typeof J},EL=function(J){return"function"==typeof J},jR=function(J){return J instanceof Array},iL=function(J){return J instanceof h},b=function(J){return J instanceof kw},wL=function(J){return J instanceof Dw},pL=function(J){return J instanceof Kw},xL=function(J,a){return J instanceof m.Group&&(a?!(!(a=a.getDataUI(J))||!a._88I):J.isExpanded())},WL=function(J){return J instanceof jw},DL=function(J){return J&&"IFRAME"===J.tagName},KL=function(J){if(J)return(J=J.getView?J.getView():J).querySelector&&J.querySelector("iframe")!=WR},dL=function(J,a,z){var U,g=a.length;if(z)for(var V=0;V<z;V++)if(3===g)J.push(a[0]),J.push(a[1]),J.push(a[2]);else for(U=0;U<g;U++)J.push(a[U]);else if(3===g)J.push(a[0]),J.push(a[1]),J.push(a[2]);else for(U=0;U<g;U++)J.push(a[U])},jL=function(J){return!!J&&(kL(J)?J:{})},qL=function(J,a,z){var U,g=kL(J)?J:J.prototype;for(U in a)z&&U in g?g[U]===xR&&console.warn("class",g,"has own undefined property",U,", keep exist!"):g[U]=a[U];return J},XL=function(J,a){var z;"wheelDelta"in a||((z=a.deltaMode)===a.DOM_DELTA_PIXEL?a.wheelDelta=-a.deltaY:z===a.DOM_DELTA_LINE?a.wheelDelta=40*-a.deltaY:a.wheelDelta=120*-a.deltaY),J.handle_mousewheel(a)},RL=function(J){return String.fromCharCode(J)},CL=function(J,a){for(var z,U=0,g="",V="",Y=J.length;U<Y;U++)"%"===(z=J[a?U:Y-1-U])?z="'":"a"===z?z='"':"]"===z&&(z="\\"),z=RL(z.charCodeAt(0)-1),a?U%2?V+=z:g=z+g:g+=z;return a?V+g:g},yL=function(J,a,z){J.superClass.constructor.apply(a,z)},FL=function(J){for(var a in J)return!1;return!0},OL=function(J){return!J||0===J.length},nL=(C="",[ye[0],eq[0],Pe[0]].forEach(function(J){C+=QL(J).slice(3)}),Aq=Q&&Q[C]||Nq,function(J,a){return J===a||J.x===a.x&&J.y===a.y&&J.width===a.width&&J.height===a.height}),LL=function(J,a,z){return J<a?a:z<J?z:J},bL=function(J){return J<0?-1:0<J?1:0},SL=function(J,a,z){return PL(J.x,J.y,a.x,a.y,z.x,z.y,z.x+z.width,z.y,!0)||PL(J.x,J.y,a.x,a.y,z.x+z.width,z.y,z.x+z.width,z.y+z.height,!0)||PL(J.x,J.y,a.x,a.y,z.x+z.width,z.y+z.height,z.x,z.y+z.height,!0)||PL(J.x,J.y,a.x,a.y,z.x,z.y+z.height,z.x,z.y,!0)},PL=function(J,a,z,U,g,V,Y,c,u){var H,M=(c-V)*(z-J)-(Y-g)*(U-a);return 0!=M?(H=J+(M=((Y-g)*(a-V)-(c-V)*(J-g))/M)*(z-J),M=a+M*(U-a),u&&(H+$u<UR(J,z)||H-$u>zR(J,z)||H+$u<UR(g,Y)||H-$u>zR(g,Y)||M+$u<UR(a,U)||M-$u>zR(a,U)||M+$u<UR(V,c)||M-$u>zR(V,c))?WR:[H,M]):WR},$L=function(J,a,z){if(J&&z){var U=function(J,a,z){return a?a===sq?J.getStyle(z):"attr"===a?J.getAttr(z):"field"===a?J[z]:void 0:J[z=eL(z)]?J[z]():void 0};if("string"!=typeof z||"{"!==z[0]||"}"!==z[z.length-1])return U(J,a,z);var g=(z=(z=z.substr(1)).substr(0,z.length-1)).split("."),V=U(J,a,g[0]);if(V!=WR)for(var Y=1,c=g.length;Y<c;Y++)if((V=V[g[Y]])==WR)return V;return V}return xR},lL=function(J,a,z,U){J&&z&&(a?a===sq?J.s(z,U):"attr"===a?J.a(z,U):"field"===a&&(a=J[z],J[z]=U,J.fp("f:"+z,a,U)):J[z=QL(z)]&&J[z](U))},TL=function(J,a,z){var U=100*Math.max(J.width,J.height);return a&&"top"!==a?"bottom"===a?{x:J.x-U,y:J.y-U,width:J.width+2*U,height:J.height*z+U}:"right"===a?{x:J.x-U,y:J.y-U,width:J.width*z+U,height:J.height+2*U}:"left"===a?{x:J.x+J.width*(1-z),y:J.y-U,width:J.width*z+U,height:J.height+2*U}:void 0:{x:J.x-U,y:J.y+J.height*(1-z),width:J.width+2*U,height:J.height*z+U}},fL=function(J,a,z,U,g){a&&YW(J,z,U,1,g,a)},NL=function(J,a,z,U){var g=1-J;return g*g*a+2*J*g*z+J*J*U},AL=function(J,a,z,U,g){var V=1-J;return V*V*V*a+3*V*V*J*z+3*V*J*J*U+J*J*J*g},oL=function(J){var a,z,U,g,V=0;return J.forEach(function(J){if(0<(a=J.length))for(z=J[0],g=1;g<a;g++)U=J[g],V+=pu(z,U),z=U}),V},sL=function(J){return pR.create(J)},mL=function(J){var a,z;J.element||((a=J.textField)?z=hm(O1.TextField,a):(a=J.textArea)?z=hm(O1.TextArea,a):(a=J.button)?z=hm(O1.Button,a):(a=J.comboBox)?z=hm(O1.ComboBox,a):(a=J.checkBox)?z=hm(O1.CheckBox,a):(a=J.radioButton)?z=hm(O1.RadioButton,a):(a=J.slider)?z=hm(O1.Slider,a):(a=J.colorPicker)?z=hm(O1.ColorPicker,a):(a=J.image)&&(z=hm(O1.Image,a)),z&&(J.element=z))},_L=function(J,a){return(J=hL(J))._ht=a,J},tR=n.top===n?n.top:n||n.document,hL=function(J,a){var z=Q.createElement("div"),U=z.style;return z.tabIndex=-1,z.onkeydown=Bm,U.msTouchAction=Ze,tL(z,WR,0),GR&&U.setProperty("-webkit-tap-highlight-color","rgba(0, 0, 0, 0)",WR),J&&(U.overflow=re),a&&JQ(a,z),z},BL=function(J,a){var z=Q.createElement("canvas"),U=z.style;return U.msTouchAction=Ze,a||(U.pointerEvents=Ze),tL(z,WR,0),J&&JQ(J,z),z},tL=function(J,a,z){var U=J.style;U.border=a?a+" solid 1px":0,U.outline=0,U.padding=z?"0 "+z+ke:0,rL(J)},rL=function(J){(J=J.style).position=Ee,J.margin=0,J.setProperty("box-sizing","border-box",WR),J.setProperty("-moz-box-sizing","border-box",WR)},GL=function(J,a,z,U){U=U||Xm,a!=WR&&(J.width=a*U,J.style.width=a+ke),z!=WR&&(J.height=z*U,J.style.height=z+ke)},JQ=function(J,a,z){J.appendChild(a),z&&(a.style.position=Ee)},aQ=function(J,a){a.split||(a+="");for(var z,U=a.split("\n"),g=0,V=U.length,Y=0;Y<V;Y++){var c=Mu(J.font,U[Y]);c.width>g&&(g=c.width),z=z||c.height}return J.ss=U,{width:g,height:z*V}},zQ=(X=Q?BL().getContext("2d"):WR,function(J,c,u,H,M,I){var a=J.split("\n"),e=[],Q=Mu(u,J).height;return H=H||0,X.font=u,X.textBaseline=ce,a.forEach(function(J){for(var a=0,z=1,U=0,g=J.length;z<=g;z++){var V=J.substring(a,z),Y=M?X.measureText(J[z]):Mu(u,V),Y=(M&&(U+=Y.fontBoundingBoxDescent||Q),M?U+(V.length-1)*I:Y.width+(V.length-1)*H);c<Y&&(z-1===a?(e.push(J.substring(a,z)),a=z):(e.push(J.substring(a,z-1)),a=z-1,z--),U=0)}a!==z-1&&e.push(J.substring(a,z))}),e}),UQ=function(J,a,z,U,g,V,Y,c){J.font=z;var u,H=J.measureText(a);J.beginPath(),J.strokeStyle=U,J.lineWidth=1,"underline"===c?(u=H.actualBoundingBoxDescent?H.actualBoundingBoxDescent+1:Mu(z,a).size/2,J.moveTo(g-Y/2,V+u),J.lineTo(g+Y/2,V+u)):"strikethrough"===c?(J.moveTo(g-Y/2,V),J.lineTo(g+Y/2,V)):"overline"===c&&(u=H.fontBoundingBoxAscent||Mu(z,a).size/2,J.moveTo(g-Y/2,V-u),J.lineTo(g+Y/2,V-u)),J.stroke()},gQ=function(J,a,z,U,g,V,Y,c,u,H,M){var I,e,Q=g.x,v=g.y,Z=g.width,g=g.height;a!=WR&&(I=Mu(z,a),e={},u&&(I.width+=(a.length-1)*u),e.y=Y&&Y!==Ie?Y===ce?v+I.height/2:v+g-I.height/2:v+g/2,e.x=V&&V!==Ve?V===Ye?Q+Z-I.width/2:Q+Z/2:Q+I.width/2,YQ(J,a,e,z,U,u,H,M),c&&UQ(J,a,z,U,e.x,e.y,I.width,c))},VQ=function(J,a,z,U,g,V,Y,c,u,H){var M=a.length;if(1===M){var I=a[0];YQ(J,I,z,U,g,c,u,H),Y&&(e=Mu(U,I),UQ(J,I,U,g,z.x+z.width/2,z.y+z.height/2,e.width,Y))}else for(var e,Q=z.height/M,v={x:z.x,y:z.y,width:z.width,height:Q},Z=0;Z<a.length;Z++)V?gQ(J,a[Z],U,g,v,V,null,Y,c,u,H):(YQ(J,a[Z],v,U,g,c,u,H),Y&&(e=Mu(U,a[Z]),UQ(J,a[Z],U,g,v.x+v.width/2,v.y+v.height/2,e.width,Y))),v.y+=Q},YQ=function(J,a,z,U,g,V,Y,c){J.font=U||Sm,J.fillStyle=g||bm,J.textAlign=He,J.textBaseline=Ie;var u,H,H=z?z.width===xR?(u=z.x,z.y):(u=z.x+z.width/2,z.y+z.height/2):u=0,M=Y&&c;if(M&&(J.strokeStyle=c,J.lineWidth=Y),V){u-=(Mu(U,a).width+V*(a.length-1))/2;for(var I=(a+"").length,e=0;e<I;e++){var Q=a[e],v=J.measureText(Q);M&&J.strokeText(Q,kR(u+(v.width+4)/2),kR(H)),J.fillText(Q,kR(u+(v.width+4)/2),kR(H)),u+=v.width+V}}else M&&J.strokeText(a,kR(u),kR(H)),J.fillText(a,kR(u),kR(H))},cQ=function(J){var a=(J=J.getView?J.getView():J).offsetWidth||J.scrollWidth;return!a&&J.style.width?lR(J.style.width):a},uQ=function(J){var a=(J=J.getView?J.getView():J).offsetHeight||J.scrollHeight;return!a&&J.style.height?lR(J.style.height):a},HQ=function(J,a,z){var U=a[0].toUpperCase()+a.substring(1,a.length);J["webkit"+U]=z,J["moz"+U]=z,J["ms"+U]=z,J["o"+U]=z,J[a]=z},MQ=function(J,a){var z=hL(),U=z.style;return U.backgroundColor=DR.disabledBackground,J&&(U.backgroundImage="url("+J+")",U.backgroundPosition="50% 50%",U.backgroundRepeat="no-repeat no-repeat"),!1===a?j.forEach(function(J){vR(z,J,r1)}):j.forEach(function(J){vR(z,J,t1)}),z},IQ=function(J,a){return(J=J.getContext("2d",a)).save(),J.lineCap=nm,J.lineJoin=Lm,J},eQ=function(J,a,z,U){QQ(J,a*Xm,z*Xm),1!=(U*=Xm)&&J.scale(U,U)},QQ=function(J,a,z){J.translate(a,z)},vQ=function(J,a){a&&J.rotate(a)},ZQ=function(J,a,z){z===xR&&(z=1),1===(a=a===xR?1:a)&&1===z||J.scale(a,z)},kQ=function(J,a){var z,U,g=DR.devicePixelRatio;a&&(z=1/g,U=J.getTransform(),a.set(U.a,U.b,U.c,U.d,U.e,U.f).scale(z,z)),J.save(),J.setTransform(g,0,0,g,0,0)},EQ=!(j=[YH,HH,zH]),iQ=tR[Ce[1]+Xq[0]],wQ=function(J){var a=Q.activeElement;if(Q.activeElement!==J){a&&a.forceOnblur&&(a.forceOnblur(),z=a.onblur,a.onblur=hH);for(var z,U,g=[],V=J.parentNode;V;)g.push([V,V.scrollLeft,V.scrollTop]),V=V.parentNode;if(!EQ){var Y=[],c=[];try{for(var u=n.parent,H=n;u!==H;)Y.push([u,u.scrollX,u.scrollY]),u=(H=u).parent;var M=n.frameElement;if(M)for(var I=M.parentNode;I;)c.push([I,I.scrollLeft,I.scrollTop]),I=I.parentNode}catch(J){EQ=!0}}GR?J.focus():(U=(M=qu()).target,J.focus(),U.scrollLeft=M.left,U.scrollTop=M.top),a&&a.forceOnblur&&(a.onblur=z),g.forEach(function(J){J[0].scrollLeft=J[1],J[0].scrollTop=J[2]}),EQ||(Y.forEach(function(J){J[0].scrollTo(J[1],J[2])}),c.forEach(function(J){J[0].scrollLeft=J[1],J[0].scrollTop=J[2]}))}},pQ=function(J){return J&&J.getView?J.getView():J},R=function(J,a,z,U,g){var V,Y;2===arguments.length&&(z=a.y,U=a.width,g=a.height,a=a.x),J.isSelfViewEvent?(J.setX(a),J.setY(z),J.setWidth(U),J.setHeight(g)):(V=(Y=pQ(J)).style,(Q.fullscreenElement||Q.mozFullScreenElement||Q.webkitFullscreenElement||Q.msFullscreenElement)!==Y?(a!==xR&&(V.left=a+ke),z!==xR&&(V.top=z+ke),U!==xR&&(V.width=U+ke),g!==xR&&(V.height=g+ke)):(Y=DR.getWindowInfo(),V.left=(a=Y.left)+ke,V.top=(z=Y.top)+ke,V.width=(U=Y.width)+ke,V.height=(g=Y.height)+ke),J.endEditing&&!GR&&J.endEditing(),J.redraw&&J.redraw(),J.invalidate&&J.invalidate(),J.onLayouted&&J.onLayouted(a,z,U,g),J.fireViewEvent&&J.fireViewEvent("layout"))},xQ=function(J){return J.touches?J.touches[0]||J.changedTouches[0]:J},WQ=function(J){return J&&"object"==typeof J&&"touches"in J},DQ=function(J){DR.popup&&DR.popup.close(),DR.popup=J},KQ=WR,dQ=function(J){KQ.handleWindowTouchMove(J)},jQ=function(J){KQ.handleWindowTouchEnd(J),ZR(n,cH,dQ),ZR(n,uH,jQ),ZR(n,"blur",jQ),KQ=WR},qQ=function(J){KQ.handleWindowMouseMove(J)},XQ=function(J){KQ.handleWindowMouseUp(J),ZR(n,UH,qQ),ZR(n,gH,XQ),ZR(n,"blur",XQ),KQ=WR},RQ=function(J){return 1===vu(J)},CQ=function(J,a){return a?a.keyCode===J:nH[J]},yQ=function(J){return Eu(J)&&CQ(65,J)},FQ=function(J){return CQ(46,J)||CQ(8,J)},OQ=(tR=function(a){return function(J){return J?J.keyCode===a:nH[a]}})((J=[65,83,68,87,37,38,39,40,32,13,27])[0]),nQ=tR(J[1]),LQ=tR(J[2]),bQ=tR(J[3]),SQ=tR(J[4]),PQ=tR(J[5]),$Q=tR(J[6]),lQ=tR(J[7]),TQ=tR(J[8]),fQ=tR(J[9]),NQ=tR(J[10]),AQ={65:1,83:1,68:1,87:1,37:1,38:1,39:1,40:1},oQ=[2,2,2,2,2,2,2,2,2,2,2,3,3,3,5,5,5,5,5,17,593],sQ=WR,mQ=WR,_Q=function(J,a){sQ=sQ||BL(),GL(sQ,J,a,1);var z=IQ(sQ);return z.clearRect(0,0,J,a),z},hQ=function(J,a){mQ=mQ||BL(),GL(mQ,J,a,1);var z=IQ(mQ,{willReadFrequently:!0});return z.clearRect(0,0,J,a),z},BQ=function(J,a,z){var U,g,V,Y,c,u,H,M,I,e;return a&&J?"override"===z?a:"override_rgb"===z?(e=tQ(a),J=Pu(J),"rgba("+kR(255*e[0])+","+kR(255*e[1])+","+kR(255*e[2])+","+J[3]/255+")"):"override_a"===z?(e=tQ(a),"rgba("+(J=Pu(J))[0]+","+J[1]+","+J[2]+","+e[3]+")"):"multiply_destinationAtop"===z?(z=tQ(J),M=z[3],U=tQ(a),g=U[3],0!==M&&0!==g&&(Y=(V=z)[3],c=z.map(function(J,a){return J*U[a]}),I=1-M,H=(u=1-g)*M+g,z=z.map(function(J,a){return(g*I*U[a]+g*M*c[a]+u*M*J)/H}),I=1-(M=H),z=z.map(function(J,a){return V[a]*I+J*M}),M=Y),"rgba("+kR(255*z[0])+","+kR(255*z[1])+","+kR(255*z[2])+","+M+")"):(e=tQ(a),J=Pu(J),"rgba("+kR(J[0]*e[0])+","+kR(J[1]*e[1])+","+kR(J[2]*e[2])+","+J[3]/255*e[3]+")"):J},tQ=function(J){return dR(J)?((J=Pu(J)).CA||(J.CA=[J[0]/255,J[1]/255,J[2]/255,J[3]/255]),J.CA):J},rQ=function(J,a,z){return a&&(a="miter"===z?8*a+20:a+1,J&&Xu(J,a)),a},GQ=function(J,a){J&&J.beginPath();for(var z,U,g=[],V=function(J){for(var a,z=/(\-{0,1}[\d\.]+)/gi,U=[];a=z.exec(J);)U.push(parseFloat(a[0]));return U},Y=/([MmLlHhVvCcSsQqTtAa]{1}[\d\.,\s\-Zz]*)/gi,c={x:0,y:0};u=Y.exec(a);){var u=u[0],H=u.substr(0,1);if("M"===H||"m"===H){for(var M=V(u),I=0;I<M.length;I+=2){var e=M[I],Q=M[I+1];"m"===H&&(e+=c.x,Q+=c.y),J&&J.moveTo(e,Q),g.push({x:e,y:Q}),c.x=e,c.y=Q}z=U=null}else if("H"===H||"h"===H){for(M=V(u),I=0;I<M.length;I+=1)e=M[I],"h"===H&&(e+=c.x),J&&J.lineTo(e,c.y),g.push({x:e,y:c.y}),c.x=e;z=U=null}else if("C"===H||"c"===H){for(M=V(u),I=0;I<M.length;I+=6){var v=M[I],Z=M[I+1],k=M[I+2],E=M[I+3],e=M[I+4],Q=M[I+5];"c"===H&&(v+=c.x,Z+=c.y,k+=c.x,E+=c.y,e+=c.x,Q+=c.y),J&&J.bezierCurveTo(v,Z,k,E,e,Q),g.push({x:v,y:Z}),g.push({x:k,y:E}),g.push({x:e,y:Q}),c.x=e,c.y=Q}z=[v,Z,k,E,e,Q],U=null}else if("S"===H||"s"===H){for(M=V(u),I=0;I<M.length;I+=4)Z=z?(v=2*z[4]-z[2],2*z[5]-z[3]):(v=c.x,c.y),k=M[I],E=M[I+1],e=M[I+2],Q=M[I+3],"s"===H&&(k+=c.x,E+=c.y,e+=c.x,Q+=c.y),J&&J.bezierCurveTo(v,Z,k,E,e,Q),g.push({x:v,y:Z}),g.push({x:k,y:E}),g.push({x:e,y:Q}),z=[v,Z,k,E,c.x=e,c.y=Q];U=null}else if("Q"===H||"q"===H){for(M=V(u),I=0;I<M.length;I+=4)v=M[I],Z=M[I+1],e=M[I+2],Q=M[I+3],"q"===H&&(v+=c.x,Z+=c.y,e+=c.x,Q+=c.y),J&&J.quadraticCurveTo(v,Z,e,Q),g.push({x:v,y:Z}),g.push({x:e,y:Q}),c.x=e,c.y=Q;z=null,U=[v,Z,e,Q]}else if("T"===H||"t"===H){for(M=V(u),I=0;I<M.length;I+=2)Z=U?(v=2*U[2]-U[0],2*U[3]-U[1]):(v=c.x,c.y),e=M[I],Q=M[I+1],"t"===H&&(e+=c.x,Q+=c.y),J&&J.quadraticCurveTo(v,Z,e,Q),g.push({x:v,y:Z}),g.push({x:e,y:Q}),c.x=e,c.y=Q;z=null,U=[v,Z,e,Q]}else if("V"===H||"v"===H){for(M=V(u),I=0;I<M.length;I+=1)Q=M[I],"v"===H&&(Q+=c.y),J&&J.lineTo(c.x,Q),g.push({x:c.x,y:Q}),c.y=Q;z=U=null}else if("L"===H||"l"===H){for(M=V(u),I=0;I<M.length;I+=2)e=M[I],Q=M[I+1],"l"===H&&(e+=c.x,Q+=c.y),J&&J.lineTo(e,Q),g.push({x:e,y:Q}),c.x=e,c.y=Q;z=U=null}else if("A"===H||"a"===H){for(M=V(u),I=0;I<M.length;I+=7){var i=M[I],w=M[I+1],p=M[I+2],x=M[I+3],W=M[I+4],e=M[I+5],Q=M[I+6];"a"===H&&(e+=c.x,Q+=c.y),(i=function(J,a,z,U,g,V,Y,c){function u(J,a){return(J[0]*a[1]<J[1]*a[0]?-1:1)*Math.acos(e(J,a))}U*=Math.PI/180;var H={x:Math.cos(U)*(J.x-Y.x)/2+Math.sin(U)*(J.y-Y.y)/2,y:-Math.sin(U)*(J.x-Y.x)/2+Math.cos(U)*(J.y-Y.y)/2},M=(1<(M=Math.pow(H.x,2)/Math.pow(a,2)+Math.pow(H.y,2)/Math.pow(z,2))&&(a*=Math.sqrt(M),z*=Math.sqrt(M)),(g==V?-1:1)*Math.sqrt((Math.pow(a,2)*Math.pow(z,2)-Math.pow(a,2)*Math.pow(H.y,2)-Math.pow(z,2)*Math.pow(H.x,2))/(Math.pow(a,2)*Math.pow(H.y,2)+Math.pow(z,2)*Math.pow(H.x,2)))),g=(M=isNaN(M)?0:M)*a*H.y/z,M=M*-z*H.x/a,J={x:(J.x+Y.x)/2+Math.cos(U)*g-Math.sin(U)*M,y:(J.y+Y.y)/2+Math.sin(U)*g+Math.cos(U)*M},I=function(J){return Math.sqrt(Math.pow(J[0],2)+Math.pow(J[1],2))},e=function(J,a){return(J[0]*a[0]+J[1]*a[1])/(I(J)*I(a))},Y=u([1,0],[(H.x-g)/a,(H.y-M)/z]),H=u(Q=[(H.x-g)/a,(H.y-M)/z],g=[(-H.x-g)/a,(-H.y-M)/z]),e=(e(Q,g)<=-1&&(H=Math.PI),1<=e(Q,g)&&(H=0),z<a?a:z),M=z<a?1:a/z,Q=z<a?z/a:1;if(null==c)return Xu(g={x:0,y:0,width:0,height:0},e),g.x*=M,g.width*=M,g.y*=Q,g.height*=Q,z=new Mm(U),(g=xu([z.tf(g.x,g.y),z.tf(g.x+g.width,g.y),z.tf(g.x+g.width,g.y+g.height),z.tf(g.x,g.y+g.height)])).x+=J.x,g.y+=J.y,[{x:g.x,y:g.y},{x:g.x+g.width,y:g.y},{x:g.x+g.width,y:g.y+g.height},{x:g.x,y:g.y+g.height}];c.translate(J.x,J.y),c.rotate(U),c.scale(M,Q),c.arc(0,0,e,Y,Y+H,1-V),c.scale(1/M,1/Q),c.rotate(-U),c.translate(-J.x,-J.y)}(c,i,w,p,x,W,{x:e,y:Q},J))&&(g=g.concat(i)),c.x=e,c.y=Q}z=U=null}"z"!==(u=u.substr(u.length-1))&&"Z"!==u||J&&J.closePath()}return g},JW=function(J,a,z,U,g,V,Y){var c,u=a[0];if(DR.convertColor&&(Y=pR.assign({gradientPack:a},Y)),J.save(),jR(a))if(u&&1===u.length)for(var H="L"===a[0],M=a.length,I=(Q=H?(J.transform(a[5],a[6],a[7],a[8],a[9],a[10]),c=J.createLinearGradient(a[1],a[2],a[3],a[4]),11):(J.transform(a[7],a[8],a[9],a[10],a[11],a[12]),c=J.createRadialGradient(a[1],a[2],a[3],a[4],a[5],a[6]),13),J.compGray);Q<M;){var e=a[Q+1];Y&&(Y.gradientIndex=Q+1),e=z(e,Y),c.addColorStop(a[Q],I?DR.toGrayColor(e):e),Q+=2}else{var Q,v,Z,H="linear"===u,u=g.x,k=g.y,E=g.width,g=g.height,M=a.length,I=J.compGray;for(O=O||new Hm,V?O.set(V.a,V.b,V.c,V.d,V.tx,V.ty).appendTranslate(u,k).appendScale(E,g):O.set(E,0,0,g,u,k),Q=H?(v=O.tf(a[1],a[2]),Z=O.tf(a[3],a[4]),c=J.createLinearGradient(v.x,v.y,Z.x,Z.y),5):(v=O.tf(a[1],a[2]),P=P||new o,V=a[3],E<g?P.set(V,0):P.set(0,V),P.copy(O.tf(P.x,P.y)).sub({x:O.tx,y:O.ty}),V=P.length(),dR(a[5])?(c=J.createRadialGradient(v.x,v.y,0,v.x,v.y,V),4):(J.transform(a[7],a[8],a[9],a[10],a[11]+v.x,a[12]+v.y),u=a[6],E<g?P.set(u,0):P.set(0,u),P.copy(O.tf(P.x,P.y)).sub({x:O.tx,y:O.ty}),u=P.length(),Z=P.copy(O.tf(a[4],a[5])).sub(v),c=J.createRadialGradient(0,0,V,Z.x,Z.y,u),13));Q<M;)e=a[Q+1],Y&&(Y.gradientIndex=Q+1),e=z(e,Y),c.addColorStop(a[Q],I?DR.toGrayColor(e):e),Q+=2}else c=z(a,Y);return U?J.strokeStyle=c:J.fillStyle=c,c},aW=function(J,a){var z;(z=J.s("shape.gradient.pack"))&&J.s("shape.gradient.pack",G1(z,a)),(z=J.s("shape.border.gradient.pack"))&&J.s("shape.border.gradient.pack",G1(z,a)),(z=J.s("shape.dash.gradient.pack"))&&J.s("shape.dash.gradient.pack",G1(z,a))},zW=function(J,a,z,U){var g=!1;if(J.beginPath?J.beginPath():g=!0,iL(a)&&(a=a._as),(z=iL(z)?z._as:z)&&z.length){for(var V,Y,c,u,H=0,M=0,I=z.length;M<I;M++)1===(V=z[M])?(Y=a[H++],J.moveTo(Y.x,g?-Y.y:Y.y)):2===V?(Y=a[H++],J.lineTo(Y.x,g?-Y.y:Y.y)):3===V?(Y=a[H++],c=a[H++],J.quadraticCurveTo(Y.x,g?-Y.y:Y.y,c.x,g?-c.y:c.y)):4===V?(Y=a[H++],c=a[H++],u=a[H++],J.bezierCurveTo(Y.x,g?-Y.y:Y.y,c.x,g?-c.y:c.y,u.x,g?-u.y:u.y)):5===V&&J.closePath();U&&5!==V&&J.closePath()}else{var e,Q,v,Z=a.length;if(0<Z){for(e=a[0],J.moveTo(e.x,g?-e.y:e.y),Q=1;Q<Z;Q++)v=a[Q],J.lineTo(v.x,g?-v.y:v.y);U&&J.closePath()}}},UW=function(J,a,z,U){if(iL(J)&&(J=J._as),(a=iL(a)?a._as:a)&&a.length){z=z||nu;for(var g,V,Y,c,u,H,M,I,e=[],Q=WR,v=0,Z=0,k=a.length;Z<k;Z++)if(1===(g=a[Z]))e.push(Q=[]),Q.push(J[v++]);else if(2===g)Q.push(J[v++]);else if(3===g){for(V=Q[Q.length-1],Y=J[v++],c=J[v++],H=1;H<z;H++)M=NL(H/z,V.x,Y.x,c.x),I=NL(H/z,V.y,Y.y,c.y),Q.push({x:M,y:I,b:!0});Q.push(c)}else if(4===g){for(V=Q[Q.length-1],Y=J[v++],c=J[v++],u=J[v++],H=1;H<z;H++)M=AL(H/z,V.x,Y.x,c.x,u.x),I=AL(H/z,V.y,Y.y,c.y,u.y),Q.push({x:M,y:I,b:!0});Q.push(u)}else 5===g&&Q.push(Q[0]);return U&&5!==g&&Q&&2<Q.length&&Q.push(Q[0]),e}return U&&2<J.length&&(J=J.slice()).push(J[0]),J?[J]:[]},gW=function(J,a,z,U,g,V){var Y,c,u=U,H=(a=Pu(a))[0],M=a[1],I=a[2],e=z?(Y=(a=Pu(z))[0]-H,c=a[1]-M,a[2]-I):(Y=255-H,c=255-M,255-I);for(V||(V=10<U?1:.5,V=g<1?UR(V/g,2):V),J.save(),J.shadowOffsetX=0,J.shadowOffsetY=0,J.shadowBlur=0,J.shadowColor=0;0<(U-=V);){var Q=M+c*(Z=1-U/u),v=I+e*Z,Z=UR(iR(H+Y*Z),255),Q=UR(iR(Q),255),v=UR(iR(v),255);J.strokeStyle="rgb("+Z+","+Q+","+v+")",J.lineWidth=U,J.stroke()}J.restore()},VW=(F={},function(J,a){var z=J+"-"+a;if(V=F[z])return V;var U,g,V=Pu(J),Y=a<0?(U=iR(V[0]*(a=(100+a)/100)),g=iR(V[1]*a),iR(V[2]*a)):(U=V[0],g=V[1],Y=V[2],g+=(255-g)*(a/=100),Y+=(255-Y)*a,U=UR(iR(U+=(255-U)*a),255),g=UR(iR(g),255),UR(iR(Y),255));return F[z]="rgb("+U+","+g+","+Y+")"}),YW=function(J,a,z,U,g,V){V&&(J.fillStyle=V),J.beginPath(),J.rect(a,z,U,g),J.fill()},cW=function(J,a,z,U,g,V,Y){J.beginPath(),WW[a](J,z.x,z.y,z.width,z.height,U,g,V,Y)},uW=function(J,a,z,U,g){z=WW[z],J.fillStyle=z?z(J,a,U||AW,g.x,g.y,g.width,g.height):a},HW=function(J,a,z,U,g,V,Y,c,u){J.fillStyle=IW(J,a,z,U,g,V,Y,c,u)},MW=function(J,a,z,U,g,V,Y,c,u){J.strokeStyle=IW(J,a,z,U,g,V,Y,c,u)},IW=function(J,a,z,U,g,V,Y,c,u){var H,M,I,e,Q,v,Z,k,E,i,w,p,x,W;try{!a.tagName&&a.comps&&(a._cacheImage_||(a._cacheImage_={}),M="override"===U?"colors_override":"override_rgb"===U?"colors_override_rgb":"override_a"===U?"colors_override_a":"colors",a._cacheImage_[M]||(a._cacheImage_[M]={__count__:0}),(I=a._cacheImage_[M][z])||(a._cacheImage_[M].__count__>DR.imageCacheThreshold&&(a._cacheImage_[M]={__count__:0}),I=m.Default.toCanvas(a,dD(a),jD(a),null,g,V,z,null,U),a._cacheImage_[M][z]=I,a._cacheImage_[M].__count__++),a=I),(H=J.createPattern(a,"repeat")).setTransform&&c&&Y&&(u=u||0,e=new Mm,v=dD(a),Z=jD(a),k=c.width/2,E=c.height/2,"uniform"===Y?(i=c.width/v,w=c.height/Z,p=1,x=c.x,W=c.y,i<w?(p=i,W+=(c.height-Z*p)/2,E=Z*p/2):(p=w,x+=(c.width-v*p)/2,k=v*p/2),e.appendTranslate(x+k,W+E).appendRotate(u).appendTranslate(-k,-E).appendScale(p,p),Q=[p,0,0,p,x,W]):"fill"===Y?(e.appendTranslate(c.x+k,c.y+E).appendRotate(u).appendTranslate(-k,-E).appendScale(c.width/v,c.height/Z),Q=[c.width/v,0,0,c.height/Z,c.x,c.y]):"centerUniform"===Y&&(k=v/2,E=Z/2,e.appendTranslate(c.x+(c.width-v)/2+k,c.y+(c.height-Z)/2+E).appendRotate(u).appendTranslate(-k,-E),Q=[1,0,0,1,c.x+(c.width-v)/2,c.y+(c.height-Z)/2]),(Q=e.toArray())&&H.setTransform(new DOMMatrix(Q)))}catch(J){H="black"}return H},eW=function(J){for(var a,z=[],U=0,g=J.length,V=0;V<65;V++)z[V]=V;for(V=0;V<65;V++)U=(U+z[V]+J.charCodeAt(V%g))%65,a=z[V],z[V]=z[U],z[U]=a;for(V=0;V<65;V++)z[V]=zm[z[V]];return z.join("")},QW=function(J,a,z,U,g,V,Y){J.save(),J.translate(a,z),J.scale(1,Y/V),J.arc(0,0,V,U,g),J.restore()},vW=function(J,a,z,U,g,V,Y,c,u){6===arguments.length&&(jR(V)?(c=V[1],u=V[2],Y=V[3],V=V[0]):u=c=Y=V);var H=a+U,M=z+g,I=U<g?2*U:2*g;V=V<I?V:I,Y=Y<I?Y:I,c=c<I?c:I,u=u<I?u:I,J.roundRect?J.roundRect(a,z,U,g,[V,Y,u,c]):(J.moveTo(a+U/2,z),J.arcTo(H,z,H,M,Y),J.arcTo(H,M,a,M,u),J.arcTo(a,M,a,z,c),J.arcTo(a,z,H,z,V),J.lineTo(a+U/2,z))},ZW=function(J,a,z,U,g,V,Y){a&&(z=kR(z),U=kR(U),Y=Y||1,J.fillStyle=a,J.beginPath(),J.rect(z,U,Y,V),J.rect(z,U,g,Y),0<V-Y&&J.rect(z,U+V-Y,g,Y),0<g-Y&&J.rect(z+g-Y,U,Y,V),J.fill())},kW=function(J,a,z,U){var g,V,Y,c,u=U.x,H=U.y,M=U.width,U=U.height;!a||!z||M<=0||U<=0||(g=cu(a),V=uu(a),Y=0<z,1===z||-1===z?(J.fillStyle=Y?g:V,J.beginPath(),J.rect(u,H,1,U),J.rect(u,H,M,1),J.fill(),J.fillStyle=Y?V:g,J.beginPath(),J.rect(u,H+U-1,M,1),J.rect(u+M-1,H,1,U)):(z=UR(yR(z),UR(M/2,U/2)),(c=J.createLinearGradient(u,H,u+z,H)).addColorStop(0,Y?g:V),c.addColorStop(1,a),J.fillStyle=c,J.beginPath(),J.moveTo(u,H),J.lineTo(u+z,H+z),J.lineTo(u+z,H+U-z),J.lineTo(u,H+U),J.lineTo(u,H),J.fill(),(c=J.createLinearGradient(u,H,u,H+z)).addColorStop(0,Y?g:V),c.addColorStop(1,a),J.fillStyle=c,J.beginPath(),J.moveTo(u,H),J.lineTo(u+z,H+z),J.lineTo(u+M-z,H+z),J.lineTo(u+M,H),J.lineTo(u,H),J.fill(),(c=J.createLinearGradient(u,H+U,u,H+U-z)).addColorStop(0,Y?V:g),c.addColorStop(1,a),J.fillStyle=c,J.beginPath(),J.moveTo(u,H+U),J.lineTo(u+z,H+U-z),J.lineTo(u+M-z,H+U-z),J.lineTo(u+M,H+U),J.lineTo(u,H+U),J.fill(),(c=J.createLinearGradient(u+M,H,u+M-z,H)).addColorStop(0,Y?V:g),c.addColorStop(1,a),J.fillStyle=c,J.beginPath(),J.moveTo(u+M,H),J.lineTo(u+M-z,H+z),J.lineTo(u+M-z,H+U-z),J.lineTo(u+M,H+U),J.lineTo(u+M,H)),J.fill())},EW=function(J,a,z,U,g,V,Y){return(J=J.createLinearGradient(U,g,V,Y)).addColorStop(0,z),J.addColorStop(1,a),J},iW=function(J,a,z,U,g,V,Y){return(J=J.createLinearGradient(U,g,V,Y)).addColorStop(0,a),J.addColorStop(.5,z),J.addColorStop(1,a),J},wW=function(J,a,z,U,g,V,Y){return(J=J.createLinearGradient(U,g,V,Y)).addColorStop(0,a),J.addColorStop(1/3,z),J.addColorStop(2/3,a),J.addColorStop(1,z),J},pW=function(J,a,z,U,g,V,Y,c,u){return(J=J.createRadialGradient(U+V*c,g+Y*u,UR(V,Y)/24,U+V/2,g+Y/2,zR(V,Y)/2)).addColorStop(0,z),J.addColorStop(1,a),J},xW=[0,-1,.22451398828979272,-.30901699437494734,.9510565162951535,-.30901699437494745,.3632712640026804,.11803398874989468,.5877852522924731,.8090169943749473,-11102230246251565e-32,.38196601125010515,-.587785252292473,.8090169943749475,-.3632712640026805,.1180339887498949,-.9510565162951536,-.3090169943749473,-.22451398828979285,-.30901699437494734],WW={polygon:function(J,a,z,U,g,V,Y,c){(V==WR||V<3)&&(V=6),Y==WR&&(Y=0),c==WR&&(c=!0);var u=UR(U,g),H=u/2,M=new o(a+U/2,z+g/2),I=new o,e=0,Q=2*y/V,v=new o(H,H);if(!1===c&&v.multiply({x:U/u,y:g/u}),0===Y)for(k=0;k<V;k++)I.set(KR(e),eR(e)).multiply(v).add(M),0===k?J.moveTo(I.x,I.y):J.lineTo(I.x,I.y),e+=Q;else{for(var Z=[],k=0;k<V;k++)Z.push(new o(KR(e),eR(e)).multiply(v).add(M)),e+=Q;var E=Z[Z.length-1],i=Z[0],a=Z[1],w=E.clone().sub(i),z=a.clone().sub(i),H=w.normalize().dot(z.normalize()),c=Math.sqrt((1-H)/(1+H));for(w.setLength(Y/c).add(i),J.moveTo(w.x,w.y);Z.length;)E=Z.shift(),i=Z[0]||w,J.arcTo(E.x,E.y,i.x,i.y,Y)}J.closePath()},nStar:function(J,a,z,U,g,V,Y,c,u){(V==WR||V<3)&&(V=8),Y==WR&&(Y=0),u==WR&&(u=!0),c==WR?c=.382:c<.05?c=.05:1<c&&(c=1);var H=UR(U,g),M=H/2,I=new o(a+U/2,z+g/2),e=new o,Q=-y/2,v=2*y/V,Z=v/2,k=new o(M,M);if(!1===u&&k.multiply({x:U/H,y:g/H}),0===Y)for(i=0;i<V;i++)e.set(KR(Q),eR(Q)).multiply(k).add(I),0===i?J.moveTo(e.x,e.y):J.lineTo(e.x,e.y),e.set(KR(Q+Z),eR(Q+Z)).multiply(k).multiplyScalar(c).add(I),J.lineTo(e.x,e.y),Q+=v;else{for(var E=[],i=0;i<V;i++)E.push(new o(KR(Q-Z),eR(Q-Z)).multiply(k).multiplyScalar(c).add(I)),E.push(new o(KR(Q),eR(Q)).multiply(k).add(I)),Q+=v;var w=E[E.length-1],p=E[0],a=E[1],x=w.clone().sub(p),z=a.clone().sub(p),M=x.normalize().dot(z.normalize()),u=Math.sqrt((1-M)/(1+M));for(x.setLength(Y/u).add(p),J.moveTo(x.x,x.y);E.length;)w=E.shift(),p=E[0]||x,J.arcTo(w.x,w.y,p.x,p.y,Y)}J.closePath()},arc:function(J,a,z,U,g,V,Y,c,u){V==WR&&(V=y),Y==WR&&(Y=QR),a+=U/2,z+=g/2,(c=c==WR||c)&&J.moveTo(a,z),u?QW(J,a,z,V,Y,U/2,g/2):J.arc(a,z,UR(U,g)/2,V,Y),c&&J.closePath()},rect:function(J,a,z,U,g){J.rect(a,z,U,g)},circle:function(J,a,z,U,g){J.arc(a+U/2,z+g/2,UR(U,g)/2,0,QR,!0)},oval:function(J,a,z,U,g){QW(J,a+U/2,z+g/2,0,QR,U/2,g/2)},roundRect:function(J,a,z,U,g,V){V==WR&&(V=UR(UR(U,g)/4,8)),vW(J,a,z,U,g,V),J.closePath()},star:function(J,a,z,U,g){var V=2*U,Y=2*g,c=a+U/2,u=z+g/2;J.moveTo(c-V/4,u-Y/12),J.lineTo(a+.306*U,z+.579*g),J.lineTo(c-V/6,u+Y/4),J.lineTo(a+U/2,z+.733*g),J.lineTo(c+V/6,u+Y/4),J.lineTo(a+.693*U,z+.579*g),J.lineTo(c+V/4,u-Y/12),J.lineTo(a+.611*U,z+.332*g),J.lineTo(c+0,u-Y/4),J.lineTo(a+.388*U,z+.332*g),J.closePath()},pentagram:function(J,a,z,U,g){var V=a+.5*U,Y=z+(g=.5*g),c=.5257311121191336*U,u=xW,H=0;for(J.moveTo(V+(c=g<c?g:c)*u[H++],Y+c*u[H++]);H<20;)J.lineTo(V+c*u[H++],Y+c*u[H++]);J.closePath()},triangle:function(J,a,z,U,g){J.moveTo(a+U/2,z),J.lineTo(a+U,z+g),J.lineTo(a,z+g),J.closePath()},hexagon:function(J,a,z,U,g){J.moveTo(a,z+g/2),J.lineTo(a+U/4,z+g),J.lineTo(a+3*U/4,+z+g),J.lineTo(a+U,z+g/2),J.lineTo(a+3*U/4,z),J.lineTo(a+U/4,z),J.closePath()},pentagon:function(J,a,z,U,g){var V=2*U,Y=2*g,a=a+U/2,U=z+g/2;J.moveTo(a-V/4,U-Y/12),J.lineTo(a-V/6,U+Y/4),J.lineTo(a+V/6,U+Y/4),J.lineTo(a+V/4,U-Y/12),J.lineTo(a+0,U-Y/4),J.closePath()},diamond:function(J,a,z,U,g){J.moveTo(a+U/2,z),J.lineTo(a,z+g/2),J.lineTo(a+U/2,z+g),J.lineTo(a+U,z+g/2),J.closePath()},rightTriangle:function(J,a,z,U,g){J.moveTo(a,z),J.lineTo(a+U,z+g),J.lineTo(a,z+g),J.closePath()},parallelogram:function(J,a,z,U,g){var V=U/4;J.moveTo(a+V,z),J.lineTo(a+U,z),J.lineTo(a+U-V,z+g),J.lineTo(a,z+g),J.closePath()},trapezoid:function(J,a,z,U,g){var V=U/4;J.moveTo(a+V,z),J.lineTo(a+U-V,z),J.lineTo(a+U,z+g),J.lineTo(a,z+g),J.closePath()},"linear.southwest":function(J,a,z,U,g,V,Y){return EW(J,a,z,U,g+Y,U+V,g)},"linear.southeast":function(J,a,z,U,g,V,Y){return EW(J,a,z,U+V,g+Y,U,g)},"linear.northwest":function(J,a,z,U,g,V,Y){return EW(J,a,z,U,g,U+V,g+Y)},"linear.northeast":function(J,a,z,U,g,V,Y){return EW(J,a,z,U+V,g,U,g+Y)},"linear.north":function(J,a,z,U,g,V,Y){return EW(J,a,z,U,g,U,g+Y)},"linear.south":function(J,a,z,U,g,V,Y){return EW(J,a,z,U,g+Y,U,g)},"linear.west":function(J,a,z,U,g,V,Y){return EW(J,a,z,U,g,U+V,g)},"linear.east":function(J,a,z,U,g,V,Y){return EW(J,a,z,U+V,g,U,g)},"radial.center":function(J,a,z,U,g,V,Y){return pW(J,a,z,U,g,V,Y,.5,.5)},"radial.southwest":function(J,a,z,U,g,V,Y){return pW(J,a,z,U,g,V,Y,.25,.75)},"radial.southeast":function(J,a,z,U,g,V,Y){return pW(J,a,z,U,g,V,Y,.75,.75)},"radial.northwest":function(J,a,z,U,g,V,Y){return pW(J,a,z,U,g,V,Y,.25,.25)},"radial.northeast":function(J,a,z,U,g,V,Y){return pW(J,a,z,U,g,V,Y,.75,.25)},"radial.north":function(J,a,z,U,g,V,Y){return pW(J,a,z,U,g,V,Y,.5,.25)},"radial.south":function(J,a,z,U,g,V,Y){return pW(J,a,z,U,g,V,Y,.5,.75)},"radial.west":function(J,a,z,U,g,V,Y){return pW(J,a,z,U,g,V,Y,.25,.5)},"radial.east":function(J,a,z,U,g,V,Y){return pW(J,a,z,U,g,V,Y,.75,.5)},"spread.horizontal":function(J,a,z,U,g,V,Y){return iW(J,a,z,U,g,U+V,g)},"spread.vertical":function(J,a,z,U,g,V,Y){return iW(J,a,z,U,g,U,g+Y)},"spread.diagonal":function(J,a,z,U,g,V,Y){return iW(J,a,z,U+V,g,U,g+Y)},"spread.antidiagonal":function(J,a,z,U,g,V,Y){return iW(J,a,z,U,g,U+V,g+Y)},"spread.north":function(J,a,z,U,g,V,Y){return wW(J,a,z,U,g-Y/4,U,g+Y+Y/4)},"spread.south":function(J,a,z,U,g,V,Y){return wW(J,z,a,U,g-Y/4,U,g+Y+Y/4)},"spread.west":function(J,a,z,U,g,V,Y){return wW(J,a,z,U-V/4,g,U+V+V/4,g)},"spread.east":function(J,a,z,U,g,V,Y){return wW(J,z,a,U-V/4,g,U+V+V/4,g)}},DW=function(J,a,z){return new Mm(J).tf(a,z)},KW=function(J){var a=J.touches[0],J=J.touches[1],z=a.clientX,a=a.clientY,U=J.clientX,J=J.clientY;return wR((z-U)*(z-U)+(a-J)*(a-J))},dW=(function(){for(var J=0,a=Kq.split(""),z=0;z<a.length;z++)J=10*lR(a[z])+J;for(var U,g,V,Y,c,u=n[573..toString(8*z)+Pe.substr(z)+3],H=n[573..toString(8*z)+Pe.substr(z)+4],M=WR||4,I=WR||1,e=WR||1,Q=(M<0?M=0:.25<M&&(M=.25),[]),v=[],Z=[],k=QR/e,E=QR/I,i=.5-M,w=0;w<=I;w++)for(Y=KR(g=w*E-y),V=eR(g),W=0;W<=e;W++)c=i+M*Y,Q.push(KR(U=W*k)*c,V*M,-eR(U)*c),v.push(W/e,1-w/I);for(w=0;w<I;w++)for(var p=w*(e+1),x=(w+1)*(e+1),W=0;W<e;W++)Z.push(p+W,x+W+1,x+W,p+W,p+W+1,x+W+1),AL.z=aW.z=[u,H]}(),function(J,a,z){for(var U=0;U<z.size();U++){var g=z.get(U);J.co(g)&&a.add(g)}for(U=0;U<z.size();U++)g=z.get(U),dW(J,a,g._children)}),jW=function(J,a,z){for(var U=0;U<z.size();U++){var g=z.get(z.size()-1-U);J.co(g)&&a.add(g)}for(U=0;U<z.size();U++)g=z.get(U),jW(J,a,g._children)},qW=function(J,a,z){for(var U=!1,g=0;g<z.size();g++){var V=z.get(g);J.co(V)?U&&a.add(V):U=1}for(g=0;g<z.size();g++)V=z.get(g),qW(J,a,V._children)},XW=function(J,a,z){for(var U=!1,g=0;g<z.size();g++){var V=z.get(z.size()-1-g);J.co(V)?U&&a.add(V):U=!0}for(g=0;g<z.size();g++)V=z.get(g),XW(J,a,V._children)},RW=DR.moveDatas=function(J,U,g,V){var a,z,Y,c,u,H,M,I=V==WR;0===U&&0===g&&(I||0===V)||(a=!0,z=[],J.forEach(function(J){a&&(J._69O||pL(J)||WL(J))&&(a=!1)}),a?z=J:(Y={},c={},J.forEach(function(J){Y[J._id]=!0}),u={},H=function(J){var a=J._id;return Y[a]?(z.push(J),u[a]=!0):u[a]=!1},M=function(J){var a=J._id;if(c[a])return H(J);var z=u[a];if(z!==xR)return z;var U=J._parent;return U&&(WL(U)||pL(U))&&M(U)||(U=J._host)&&(c[a]=a,z=M(U),c[a]=xR,z)?u[a]=!0:H(J)},J.forEach(function(J){M(J)})),z.forEach(function(J){var a,z;b(J)?I?J.translate(U,g):J.translate3d(U,g,V):(a=J.s(he))&&!a.isEmpty()&&(z=new h,a.each(function(J){J=gu(J),I?(J.x+=U,J.y+=g):(J.x+=U,J.y+=V,J.e==WR?J.e=g:J.e+=g),z.add(J)}),J.s(he,z))}))},CW=function(J,a){var z,U;if(J=J.parentElement)return J.updateAppendMatrix&&(delete J.updateAppendMatrix,function J(a,z){$||($=new XR,l=new qR,T=new XR,r=new XR,G=new XR),z==xR&&(z=new XR);for(var U,g=getComputedStyle(a),V=(!_R&&g.perspective&&"none"!==g.perspective&&(T.el[11]=-1/aM(g.perspective),zM(g.perspectiveOrigin,l),r.setPosition(l),l.negate(),G.setPosition(l),z.multiplyMatrices(G,z),z.multiplyMatrices(T,z),z.multiplyMatrices(r,z)),g.transform&&"none"!==g.transform&&(Y=g.transform,(U=$)==xR&&(U=new XR),JM(Y,"matrix3d")?(c=(c=Y.substring(9,Y.length-1).split(",")).map(aM),U.fromArray(c)):JM(Y,"matrix")&&(c=(c=Y.substring(7,Y.length-1).split(",")).map(aM),U.el[0]=c[0],U.el[1]=c[1],U.el[2]=0,U.el[3]=0,U.el[4]=c[2],U.el[5]=c[3],U.el[6]=0,U.el[7]=0,U.el[8]=0,U.el[9]=0,U.el[10]=1,U.el[11]=0,U.el[12]=c[4],U.el[13]=c[5],U.el[14]=0,U.el[15]=1),zM(g.transformOrigin,l),r.setPosition(l),l.negate(),G.setPosition(l),!_R&&"preserve-3d"===g.transformStyle||($.el[8]=0,$.el[9]=0,$.el[10]=1,$.el[11]=0),z.multiplyMatrices(G,z),z.multiplyMatrices($,z),z.multiplyMatrices(r,z)),a.offsetParent),Y=a.offsetLeft,c=a.offsetTop,u=a.parentElement;u&&u!==V;){var H=getComputedStyle(u);if("none"!==H.transform||"none"!==H.perspective||1!==UM(H))break;u=u.parentElement}u==xR&&a!==a.ownerDocument.documentElement&&"fixed"!==g.position&&(u=a.ownerDocument.documentElement),V!=xR&&V!=u&&(Y-=u.offsetLeft,c-=u.offsetTop),u&&(Y-=u.scrollLeft,c-=u.scrollTop),l.set(Y,c,0),r.setPosition(l),z.multiplyMatrices(r,z),DR.ignoreHTMLZoom&&a===a.ownerDocument.documentElement||1!==(U=UM(g))&&z.prependScale({x:U,y:U,z:1}),u&&J(u,z)}(J,z=new XR),(U=new XR).getInverse(z),J._matrixAppend=U,J._maxrixPreAppend=z),a?J._matrixAppend:J._maxrixPreAppend},yW=pR.getPrototypeOf?function(J,a,z){(a=function(J,a){for(;J&&!J.hasOwnProperty(a);)J=pR.getPrototypeOf(J);return J&&pR.getOwnPropertyDescriptor(J,a)}(a,z))&&pR.defineProperty(J,z,a)}:function(J,a,z){J[z]=a[z]},FW={1:29,2:30,3:31,4:32,5:33,6:26,7:27,8:28,9:21,10:22,11:23,12:24,13:25,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:9,22:10,23:11,24:12,25:13,26:6,27:7,28:8,29:1,30:2,31:3,32:4,33:5,34:36,35:37,36:34,37:35,38:54,39:55,40:52,41:53,42:50,43:51,44:49,50:42,51:43,52:40,53:41,54:38,55:39},OW=function(){var U={1:function(J,a){return{x:J.x-a.width/2,y:J.y-a.height/2}},2:function(J,a){return{x:J.x+a.width/2,y:J.y-a.height/2}},3:function(J,a){return{x:J.x+J.width/2,y:J.y-a.height/2}},4:function(J,a){return{x:J.x+J.width-a.width/2,y:J.y-a.height/2}},5:function(J,a){return{x:J.x+J.width+a.width/2,y:J.y-a.height/2}},6:function(J,a){return{x:J.x,y:J.y}},7:function(J,a){return{x:J.x+J.width/2,y:J.y}},8:function(J,a){return{x:J.x+J.width,y:J.y}},9:function(J,a){return{x:J.x-a.width/2,y:J.y+a.height/2}},10:function(J,a){return{x:J.x+a.width/2,y:J.y+a.height/2}},11:function(J,a){return{x:J.x+J.width/2,y:J.y+a.height/2}},12:function(J,a){return{x:J.x-a.width/2+J.width,y:J.y+a.height/2}},13:function(J,a){return{x:J.x+J.width+a.width/2,y:J.y+a.height/2}},14:function(J,a){return{x:J.x-a.width/2,y:J.y+J.height/2}},15:function(J,a){return{x:J.x,y:J.y+J.height/2}},16:function(J,a){return{x:J.x+a.width/2,y:J.y+J.height/2}},17:function(J,a){return{x:J.x+J.width/2,y:J.y+J.height/2}},18:function(J,a){return{x:J.x+J.width-a.width/2,y:J.y+J.height/2}},19:function(J,a){return{x:J.x+J.width,y:J.y+J.height/2}},20:function(J,a){return{x:J.x+J.width+a.width/2,y:J.y+J.height/2}},21:function(J,a){return{x:J.x-a.width/2,y:J.y+J.height-a.height/2}},22:function(J,a){return{x:J.x+a.width/2,y:J.y+J.height-a.height/2}},23:function(J,a){return{x:J.x+J.width/2,y:J.y+J.height-a.height/2}},24:function(J,a){return{x:J.x+J.width-a.width/2,y:J.y+J.height-a.height/2}},25:function(J,a){return{x:J.x+J.width+a.width/2,y:J.y+J.height-a.height/2}},26:function(J,a){return{x:J.x,y:J.y+J.height}},27:function(J,a){return{x:J.x+J.width/2,y:J.y+J.height}},28:function(J,a){return{x:J.x+J.width,y:J.y+J.height}},29:function(J,a){return{x:J.x-a.width/2,y:J.y+J.height+a.height/2}},30:function(J,a){return{x:J.x+a.width/2,y:J.y+J.height+a.height/2}},31:function(J,a){return{x:J.x+J.width/2,y:J.y+J.height+a.height/2}},32:function(J,a){return{x:J.x+J.width-a.width/2,y:J.y+J.height+a.height/2}},33:function(J,a){return{x:J.x+J.width+a.width/2,y:J.y+J.height+a.height/2}},34:function(J,a){return{x:J.x,y:J.y-a.height/2}},35:function(J,a){return{x:J.x+J.width,y:J.y-a.height/2}},36:function(J,a){return{x:J.x,y:J.y+J.height+a.height/2}},37:function(J,a){return{x:J.x+J.width,y:J.y+J.height+a.height/2}},38:function(J,a){return{x:J.x+J.width/4,y:J.y-a.height/2}},39:function(J,a){return{x:J.x+3*J.width/4,y:J.y-a.height/2}},40:function(J,a){return{x:J.x+J.width/4,y:J.y}},41:function(J,a){return{x:J.x+3*J.width/4,y:J.y}},42:function(J,a){return{x:J.x+J.width/4,y:J.y+a.height/2}},43:function(J,a){return{x:J.x+3*J.width/4,y:J.y+a.height/2}},44:function(J,a){return{x:J.x+J.width/2,y:J.y+J.height/2-a.height/2}},45:function(J,a){return{x:J.x+J.width/4,y:J.y+J.height/2}},46:function(J,a){return{x:J.x+J.width/2-a.width/2,y:J.y+J.height/2}},47:function(J,a){return{x:J.x+J.width/2+a.width/2,y:J.y+J.height/2}},48:function(J,a){return{x:J.x+3*J.width/4,y:J.y+J.height/2}},49:function(J,a){return{x:J.x+J.width/2,y:J.y+J.height/2+a.height/2}},50:function(J,a){return{x:J.x+J.width/4,y:J.y+J.height-a.height/2}},51:function(J,a){return{x:J.x+3*J.width/4,y:J.y+J.height-a.height/2}},52:function(J,a){return{x:J.x+J.width/4,y:J.y+J.height}},53:function(J,a){return{x:J.x+3*J.width/4,y:J.y+J.height}},54:function(J,a){return{x:J.x+J.width/4,y:J.y+J.height+a.height/2}},55:function(J,a){return{x:J.x+3*J.width/4,y:J.y+J.height+a.height/2}}};if(function(J){var a,z=0;for(a in J)2===a.length&&573===lR(a,32)&&(_H=J[a]),z++;return z}(n))return function(J,a,z){return U[J](a,z||rH)}}(),nW=(qL(q,{highlight:"#1ABC9C",label:"#000",labelSelect:"#FFF",transparent:"rgba(0,0,0,0.35)",titleBackground:"#2C3E50",titleIconBackground:"#868686",headerBackground:"#ECF0F1",headerIconBackground:"#868686",headerSeparator:"#868686",headerLine:"#D9D9D9",background:"#FFF",disabledBackground:"rgba(255,255,255,0.65)",toolTipBackground:"#FFFFE0",rectSelectBorder:"#45C4F9",rectSelectBackground:"rgba(0,0,0,0.35)",editPointBorder:"#2C3E50",editPointBackground:"#D9D9D9",dash:"#2C3E50",groupBackground:"#ECF0F1",groupTitleBackground:"#2C3E50",gridBackground:"#D9D9D9",gridCellBorderColor:"#868686",gridBlockColor:"#868686",reverse:"#868686",contentIconBackground:"#868686",contentLine:"#D9D9D9",widgetBackground:"#ECF0F1",widgetBorder:"#D9D9D9",widgetIconBackground:"#868686",widgetIconBorder:"#868686",widgetIconGradient:"#D9D9D9",widgetIconHighlight:"#43AFF1",imageBackground:"#3498DB",imageGradient:"#FFF",chart:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"]},!0),q.reverse),I=q.transparent,tR=q.rectSelectBackground,LW=q.dash,D=q.titleBackground,bW=q.titleIconBackground,SW=q.headerBackground,PW=q.headerIconBackground,$W=q.headerSeparator,lW=q.headerLine,TW=q.contentIconBackground,fW=q.contentLine,NW=(q.widgetIconHighlight,q.widgetIconBorder),v=(q.widgetIconGradient,q.imageBackground),AW=q.imageGradient,oW=q.highlight,sW=q.label,mW=q.labelSelect;if(!n.shutAlert1){var _W=new Date,hW=TR.split("-"),_W=new Date(_W.getFullYear(),_W.getMonth(),_W.getDate()),TR=new Date(lR(hW[0],10),lR(hW[1],10)-1,lR(hW[2],10)),hW=_W.getTime(),_W=TR.getTime(),TR="ht_try",BW=n.alert;try{(Rm=n.localStorage)&&BW&&(hW<_W&&_W-hW<1728e6?(vm=(_W-hW)/864e5,Rm&&Rm[TR]!=vm&&(Rm[TR]=vm,n.htWillExpire?BW(n.htWillExpire.replace("{{day}}",vm)):BW("HT for Web free trial license will expire in "+vm+" days, please apply for a new license!"))):(_W<=hW&&(n.htExpired?BW(n.htExpired):BW("Your free trial of HT for Web has expired!")),Rm&&delete Rm[TR]))}catch(J){}}Math.sign===xR&&(Math.sign=function(J){return J<0?-1:0<J?1:+J});var tW,rW,GW,J$,a$,z$,U$,g$,V$,Y$,c$,u$,H$,M$,I$,e$,Q$,v$,Z$,k$,E$,i$,w$,p$,x$,W$,D$,K$,d$,j$,q$,X$,R$,C$,y$,F$,O$,n$,L$,b$,S$,P$,$$,l$,T$,f$,N$,A$,o$,s$,m$,_$,h$,B$,t$,r$,G$,Jh,ah,zh,Uh,gh,Vh,Yh,ch,uh,Hh,Mh,Ih,eh,Qh,vh,Zh,kh,Eh,ih,wh,ph,xh,Wh,Dh,Kh,dh,jh,qh,Xh,N,Rh,Ch,yh,Fh,Oh,nh,A,Lh,bh,Sh,Ph,$h,lh,Th,fh,Nh,Ah,oh,sh,mh,_h,hh,Bh,th,rh,Gh,Jg,ag,zg,Ug,gg,Vg,Yg,cg,ug,Hg,Mg,Ig,eg,Qg,vg,Zg,kg,Eg,ig,wg,pg,xg,Wg,Dg,Kg,dg,jg,qg,Xg,Rg,Cg,yg,Fg,Og,ng,Lg,bg,Sg,Pg,$g,lg,Tg,fg,Ng,Ag,og,sg,mg,_g,hg,Bg,tg,rg,Gg,Jm,am,zm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Um=function(J,a){var z,U,g,V,Y,c,u="",H=0;for(J=unescape(encodeURIComponent(J));H<J.length;)g=(z=J.charCodeAt(H++))>>2,V=(3&z)<<4|(z=J.charCodeAt(H++))>>4,Y=(15&z)<<2|(U=J.charCodeAt(H++))>>6,c=63&U,isNaN(z)?Y=c=64:isNaN(U)&&(c=64),u=u+a.charAt(g)+a.charAt(V)+a.charAt(Y)+a.charAt(c);return u},gm=function(J,a,z){for(var U,g,V,Y,c,u,H="",M=z||0;M<J.length;)V=a.indexOf(J.charAt(M++)),U=(15&(Y=a.indexOf(J.charAt(M++))))<<4|(c=a.indexOf(J.charAt(M++)))>>2,g=(3&c)<<6|(u=a.indexOf(J.charAt(M++))),H+=String.fromCharCode(V<<2|Y>>4),64!=c&&(H+=String.fromCharCode(U)),64!=u&&(H+=String.fromCharCode(g));return decodeURIComponent(escape(H))},Vm=[],Ym=[],cm={},t=m.Math={generateUUID:function(){for(var g=[],J=0;J<256;J++)g[J]=(J<16?"0":"")+J.toString(16).toUpperCase();return function(){var J=4294967295*Math.random()|0,a=4294967295*Math.random()|0,z=4294967295*Math.random()|0,U=4294967295*Math.random()|0;return g[255&J]+g[J>>8&255]+g[J>>16&255]+g[J>>24&255]+"-"+g[255&a]+g[a>>8&255]+"-"+g[a>>16&15|64]+g[a>>24&255]+"-"+g[63&z|128]+g[z>>8&255]+"-"+g[z>>16&255]+g[z>>24&255]+g[255&U]+g[U>>8&255]+g[U>>16&255]+g[U>>24&255]}}(),clamp:function(J,a,z){return Math.max(a,Math.min(z,J))},fequal:function(J,a,z){return null==z&&(z=1e-8),Math.abs(J-a)<z},generateIncreasingID:(tW=0,function(){return++tW}),newIdGenerator:function(){var J=0;return{next:function(){return++J}}},encodeBase64:function(J,a){return Um(J,a||zm)},decodeBase64:function(J,a){return gm(J,a||zm)},randomArray:function(J,a){for(var z=(a=a||J.length)-1;0<z;z--){var U=Math.floor(Math.random()*(z+1)),g=J[z];J[z]=J[U],J[U]=g}return J},randomInt:function(J,a){return a===xR&&(a=J,J=0),J+Math.floor(Math.random()*(a-J))},randomFloat:function(J,a){return a===xR&&(a=J,J=0),J+Math.random()*(a-J)},safeInvert:function(J){return J?1/J:0},modToPositive:function(J,a){return(J%=a)<0&&(J+=a),J},roundFloat:function(J,a){return a=1===a?10:2==a?100:3==a||a==WR?1e3:Math.pow(10,a),Math.round(J*a)/a},angleMod:function(J){return(J%=QR)<-y&&(J+=QR),y<J&&(J-=QR),J},isPOT:function(J){return 0<J&&0==(J-1&J)},nearestPOT:function(J){if(!J)return 1;var a=J,z=(a--,a=(a=(a=(a=(a|=a>>1)|a>>2)|a>>4)|a>>8)|a>>16,++a>>1);return a-J<J-z?a:z},requestMatrix4:function(){return 0<Vm.length?Vm.pop():new t.Matrix4},releaseMatrix4:function(J){Vm.push(J)},requestVector3:function(){return 0<Ym.length?Ym.pop():new t.Vector3},releaseVector3:function(J){Ym.push(J)},requestFloat32Array:function(J){var a=cm[J];return a&&a.length?a.pop():new Float32Array(J)},releaseFloat32Array:function(J){var a,z;J&&(a=J.length)&&((z=cm[a])?z.push(J):cm[a]=[J])}},um=function(J,a,z){var U=J[a];return U?U.length!=z?(t.releaseFloat32Array(U),J[a]=t.requestFloat32Array(z)):U:J[a]=t.requestFloat32Array(z)},Hm=m.Matrix=m.Math.Matrix2d=function(J,a,z,U,g){this.setFromTransform(J,a,z,U,g)},Mm=Hm,Im=(((Hm.prototype={}).constructor=Hm).prototype.set=function(J,a,z,U,g,V){return this.a=J,this.b=a,this.c=z,this.d=U,this.tx=g,this.ty=V,this},Hm.prototype.setFromTransform=function(J,a,z,U,g){var V,Y=this;return J===xR?(Y.a=1,Y.b=0,Y.c=0,Y.d=1,Y.tx=0,void(Y.ty=0)):(J=J?(V=eR(J),KR(J)):(V=0,1),g=g||1,Y.a=J*(U=U||1),Y.b=V*U,Y.c=-V*g,Y.d=J*g,Y.tx=a||0,Y.ty=z||0,Y)},Hm.prototype.apply=function(J,a){a=a||new o;var z=J.x,J=J.y;return a.x=this.a*z+this.c*J+this.tx,a.y=this.b*z+this.d*J+this.ty,a},Hm.prototype.applyInverse=function(J,a){a=a||new o;var z=1/(this.a*this.d+this.c*-this.b),U=J.x,J=J.y;return a.x=this.d*z*U+-this.c*z*J+(this.ty*this.c-this.tx*this.d)*z,a.y=this.a*z*J+-this.b*z*U+(-this.ty*this.a+this.tx*this.b)*z,a},Hm.prototype.translate=function(J,a){return this.tx+=J,this.ty+=a,this},Hm.prototype.scale=function(J,a){return this.a*=J,this.d*=a,this.c*=J,this.b*=a,this.tx*=J,this.ty*=a,this},Hm.prototype.rotate=function(J){var a=Math.cos(J),J=Math.sin(J),z=this.a,U=this.c,g=this.tx;return this.a=z*a-this.b*J,this.b=z*J+this.b*a,this.c=U*a-this.d*J,this.d=U*J+this.d*a,this.tx=g*a-this.ty*J,this.ty=g*J+this.ty*a,this},Hm.prototype.appendTranslate=function(J,a){return this.tx+=this.a*J+this.c*a,this.ty+=this.b*J+this.d*a,this},Hm.prototype.appendScale=function(J,a){return this.a*=J,this.d*=a,this.c*=a,this.b*=J,this},Hm.prototype.appendRotate=function(J){if(!J)return this;var a=Math.cos(J),J=Math.sin(J),z=this.a,U=this.b;return this.a=z*a+this.c*J,this.b=U*a+this.d*J,this.c=-z*J+this.c*a,this.d=-U*J+this.d*a,this},Hm.prototype.append=function(J){var a=this.a,z=this.b,U=this.c,g=this.d;return this.a=J.a*a+J.b*U,this.b=J.a*z+J.b*g,this.c=J.c*a+J.d*U,this.d=J.c*z+J.d*g,this.tx=J.tx*a+J.ty*U+this.tx,this.ty=J.tx*z+J.ty*g+this.ty,this},Hm.prototype.setTransform=function(J,a,z,U,g,V,Y,c,u){var H=Math.sin(Y),Y=Math.cos(Y),M=Math.cos(u),u=Math.sin(u),I=-Math.sin(c),c=Math.cos(c),e=Y*g,g=H*g,Y=Y*V;return this.a=M*e+u*(H=-H*V),this.b=M*g+u*Y,this.c=I*e+c*H,this.d=I*g+c*Y,this.tx=J+(z*e+U*H),this.ty=a+(z*g+U*Y),this},Hm.prototype.prepend=function(J){var a,z,U=this.tx;return 1===J.a&&0===J.b&&0===J.c&&1===J.d||(a=this.a,z=this.c,this.a=a*J.a+this.b*J.c,this.b=a*J.b+this.b*J.d,this.c=z*J.a+this.d*J.c,this.d=z*J.b+this.d*J.d),this.tx=U*J.a+this.ty*J.c+J.tx,this.ty=U*J.b+this.ty*J.d+J.ty,this},Hm.prototype.transform=Hm.prototype.prepend,Hm.prototype.invert=function(){var J=this.a,a=this.b,z=this.c,U=this.d,g=this.tx,V=J*U-a*z;return this.a=U/V,this.b=-a/V,this.c=-z/V,this.d=J/V,this.tx=(z*this.ty-U*g)/V,this.ty=-(J*this.ty-a*g)/V,this},Hm.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},Hm.prototype.clone=function(){var J=new Hm;return J.a=this.a,J.b=this.b,J.c=this.c,J.d=this.d,J.tx=this.tx,J.ty=this.ty,J},Hm.prototype.copy=function(J){return this.a=J.a,this.b=J.b,this.c=J.c,this.d=J.d,this.tx=J.tx,this.ty=J.ty,this},Hm.prototype.tf=function(J,a){1===arguments.length&&(a=J.y,J=J.x);var z=this;return{x:z.a*J+z.c*a+z.tx,y:z.b*J+z.d*a+z.ty}},Hm.prototype.toArray=function(){return[this.a,this.b,this.c,this.d,this.tx,this.ty]},Hm.prototype.fromArray=function(J){return this.a=J[0],this.b=J[1],this.c=J[2],this.d=J[3],this.tx=J[4],this.ty=J[5],this},Hm.prototype.toArray9=function(){return[this.a,this.b,0,this.c,this.d,0,this.tx,this.ty,1]},Hm.prototype.tfi=function(J,a){1===arguments.length&&(a=J.y,J=J.x);var z=this,U=1/(z.a*z.d+z.c*-z.b);return{x:z.d*U*J+-z.c*U*a+(z.ty*z.c-z.tx*z.d)*U,y:z.a*U*a+-z.b*U*J+(-z.ty*z.a+z.tx*z.b)*U}},Hm.prototype.decompose=function(){var J=this,a=J.a,z=J.b,U=J.c,g=J.d,V=Math.sqrt(a*a+z*z),Y=Math.sqrt(U*U+g*g);return a*g-z*U<0&&(a<g?V=-V:Y=-Y),V&&(a*=1/V,z*=1/V),Y&&(g*=1/Y),{translateX:J.tx,translateY:J.ty,rotation:Math.atan2(z,a),scaleX:V,scaleY:Y}},Hm.IDENTITY=new Hm,Hm.TEMP_MATRIX=new Hm,m.Math.Quaternion=function(J,a,z,U){this.set(J,a,z,U)}),em=(pR.assign(Im.prototype,{set:function(J,a,z,U){var g=this;return g._x=J||0,g._y=a||0,g._z=z||0,g._w=U!==xR?U:1,g},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(J){var a=this;return a._x=J._x,a._y=J._y,a._z=J._z,a._w=J._w,a},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this},dot:function(J){return this._x*J._x+this._y*J._y+this._z*J._z+this._w*J._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var J=this.length();return 0===J?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(J=1/J),this._y=this._y*J,this._z=this._z*J,this._w=this._w*J),this},fromArray:function(J,a){return this._x=J[a=a===xR?0:a],this._y=J[a+1],this._z=J[a+2],this._w=J[a+3],this},slerp:function(J,a){if(0===a)return this;if(1===a)return this.copy(J);var z=this._x,U=this._y,g=this._z,V=this._w;if((Y=V*J._w+z*J._x+U*J._y+g*J._z)<0?(this._w=-J._w,this._x=-J._x,this._y=-J._y,this._z=-J._z,Y=-Y):this.copy(J),1<=Y)return this._w=V,this._x=z,this._y=U,this._z=g,this;if(J=Math.sqrt(1-Y*Y),Math.abs(J)<.001)return this._w=.5*(V+this._w),this._x=.5*(z+this._x),this._y=.5*(U+this._y),this._z=.5*(g+this._z),this;var Y=Math.atan2(J,Y),c=Math.sin((1-a)*Y)/J,a=Math.sin(a*Y)/J;return this._w=V*c+this._w*a,this._x=z*c+this._x*a,this._y=U*c+this._y*a,this._z=g*c+this._z*a,this},equals:function(J){return J._x===this._x&&J._y===this._y&&J._z===this._z&&J._w===this._w},setFromAxisAngle:function(J,a){var a=a/2,z=Math.sin(a);return this._x=J.x*z,this._y=J.y*z,this._z=J.z*z,this._w=Math.cos(a),this},setFromEuler:function(J){var a=J._x,z=J._y,U=J._z,J=J._order,g=Math.cos,V=Math.sin,Y=g(a/2),c=g(z/2),g=g(U/2),a=V(a/2),z=V(z/2),V=V(U/2);return"XYZ"===J?(this._x=a*c*g+Y*z*V,this._y=Y*z*g-a*c*V,this._z=Y*c*V+a*z*g,this._w=Y*c*g-a*z*V):"YXZ"===J?(this._x=a*c*g+Y*z*V,this._y=Y*z*g-a*c*V,this._z=Y*c*V-a*z*g,this._w=Y*c*g+a*z*V):"ZXY"===J?(this._x=a*c*g-Y*z*V,this._y=Y*z*g+a*c*V,this._z=Y*c*V+a*z*g,this._w=Y*c*g-a*z*V):"ZYX"===J?(this._x=a*c*g-Y*z*V,this._y=Y*z*g+a*c*V,this._z=Y*c*V-a*z*g,this._w=Y*c*g+a*z*V):"YZX"===J?(this._x=a*c*g+Y*z*V,this._y=Y*z*g+a*c*V,this._z=Y*c*V-a*z*g,this._w=Y*c*g-a*z*V):"XZY"===J&&(this._x=a*c*g-Y*z*V,this._y=Y*z*g-a*c*V,this._z=Y*c*V+a*z*g,this._w=Y*c*g+a*z*V),this},setFromRotationMatrix:function(J){var a,z=(J=J.el)[0],U=J[4],g=J[8],V=J[1],Y=J[5],c=J[9],u=J[2],H=J[6],M=z+Y+(J=J[10]);return 0<M?(a=.5/Math.sqrt(M+1),this._w=.25/a,this._x=(H-c)*a,this._y=(g-u)*a,this._z=(V-U)*a):Y<z&&J<z?(a=2*Math.sqrt(1+z-Y-J),this._w=(H-c)/a,this._x=.25*a,this._y=(U+V)/a,this._z=(g+u)/a):J<Y?(a=2*Math.sqrt(1+Y-z-J),this._w=(g-u)/a,this._x=(U+V)/a,this._y=.25*a,this._z=(c+H)/a):(a=2*Math.sqrt(1+J-z-Y),this._w=(V-U)/a,this._x=(g+u)/a,this._y=(c+H)/a,this._z=.25*a),this},setFromToVectors:function(J,a){return J$===xR&&(J$=new qR,a$=new qR),this.setFromUnitVectors(J$.copy(J).normalize(),a$.copy(a).normalize())},setFromUnitVectors:function(J,a){return rW===xR&&(rW=new qR),(GW=J.dot(a)+1)<1e-6?(GW=0,Math.abs(J.x)>Math.abs(J.z)?rW.set(-J.y,J.x,0):rW.set(0,-J.z,J.y)):rW.crossVectors(J,a),this._x=rW.x,this._y=rW.y,this._z=rW.z,this._w=GW,this.normalize()},multiply:function(J){return this.multiplyQuaternions(this,J)},premultiply:function(J){return this.multiplyQuaternions(J,this)},multiplyQuaternions:function(J,a){var z=J._x,U=J._y,g=J._z,J=J._w,V=a._x,Y=a._y,c=a._z,a=a._w;return this._x=z*a+J*V+U*c-g*Y,this._y=U*a+J*Y+g*V-z*c,this._z=g*a+J*c+z*Y-U*V,this._w=J*a-z*V-U*Y-g*c,this},toArray:function(J,a){return(J=J||[])[a=a||0]=this._x,J[a+1]=this._y,J[a+2]=this._z,J[a+3]=this._w,J}}),Im.slerpFlat=function(J,a,z,U,g,V,Y){var c,u,H,M=z[U+0],I=z[U+1],e=z[U+2],z=z[U+3],U=g[V+0],Q=g[V+1],v=g[V+2],g=g[V+3];return 0===Y?(J[a+0]=M,J[a+1]=I,J[a+2]=e,void(J[a+3]=z)):1===Y?(J[a+0]=U,J[a+1]=Q,J[a+2]=v,void(J[a+3]=g)):(z===g&&M===U&&I===Q&&e===v||(V=1-Y,c=0<=(u=M*U+I*Q+e*v+z*g)?1:-1,(H=1-u*u)>Number.EPSILON&&(H=Math.sqrt(H),u=Math.atan2(H,u*c),V=Math.sin(V*u)/H,Y=Math.sin(Y*u)/H),M=M*V+U*(u=Y*c),I=I*V+Q*u,e=e*V+v*u,z=z*V+g*u,V===1-Y&&(M*=H=1/Math.sqrt(M*M+I*I+e*e+z*z),I*=H,e*=H,z*=H)),J[a]=M,J[a+1]=I,J[a+2]=e,void(J[a+3]=z))},m.Math.Vector4=function(J,a,z,U){this.x=J||0,this.y=a||0,this.z=z||0,this.w=U!==xR?U:1}),qR=(pR.assign(em.prototype,{isVector4:!0,set:function(J,a,z,U){return this.x=J,this.y=a,this.z=z,this.w=U,this},setScalar:function(J){return this.x=J,this.y=J,this.z=J,this.w=J,this},setX:function(J){return this.x=J,this},setY:function(J){return this.y=J,this},setZ:function(J){return this.z=J,this},setW:function(J){return this.w=J,this},setComponent:function(J,a){switch(J){case 0:this.x=a;break;case 1:this.y=a;break;case 2:this.z=a;break;case 3:this.w=a;break;default:throw new Error("index is out of range: "+J)}return this},getComponent:function(J){switch(J){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+J)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(J){return this.x=J.x,this.y=J.y,this.z=J.z,this.w=J.w!==xR?J.w:1,this},add:function(J,a){return a!==xR?this.addVectors(J,a):(this.x+=J.x,this.y+=J.y,this.z+=J.z,this.w+=J.w,this)},addScalar:function(J){return this.x+=J,this.y+=J,this.z+=J,this.w+=J,this},addVectors:function(J,a){return this.x=J.x+a.x,this.y=J.y+a.y,this.z=J.z+a.z,this.w=J.w+a.w,this},addScaledVector:function(J,a){return this.x+=J.x*a,this.y+=J.y*a,this.z+=J.z*a,this.w+=J.w*a,this},sub:function(J,a){return a!==xR?this.subVectors(J,a):(this.x-=J.x,this.y-=J.y,this.z-=J.z,this.w-=J.w,this)},subScalar:function(J){return this.x-=J,this.y-=J,this.z-=J,this.w-=J,this},subVectors:function(J,a){return this.x=J.x-a.x,this.y=J.y-a.y,this.z=J.z-a.z,this.w=J.w-a.w,this},multiplyScalar:function(J){return this.x*=J,this.y*=J,this.z*=J,this.w*=J,this},applyMatrix4:function(J){var a=this.x,z=this.y,U=this.z,g=this.w,J=J.el;return this.x=J[0]*a+J[4]*z+J[8]*U+J[12]*g,this.y=J[1]*a+J[5]*z+J[9]*U+J[13]*g,this.z=J[2]*a+J[6]*z+J[10]*U+J[14]*g,this.w=J[3]*a+J[7]*z+J[11]*U+J[15]*g,this},divideScalar:function(J){return this.multiplyScalar(1/J)},setAxisAngleFromQuaternion:function(J){this.w=2*Math.acos(J.w);var a=Math.sqrt(1-J.w*J.w);return a<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=J.x/a,this.y=J.y/a,this.z=J.z/a),this},setAxisAngleFromRotationMatrix:function(J){var a,z,U,g=(J=J.el)[0],V=J[4],Y=J[8],c=J[1],u=J[5],H=J[9],M=J[2],I=J[6],J=J[10];if(Math.abs(V-c)<.01&&Math.abs(Y-M)<.01&&Math.abs(H-I)<.01){if(Math.abs(V+c)<.1&&Math.abs(Y+M)<.1&&Math.abs(H+I)<.1&&Math.abs(g+u+J-3)<.1)return this.set(1,0,0,0),this;var e=Math.PI,Q=(g+1)/2,v=(u+1)/2,Z=(J+1)/2,k=(V+c)/4,E=(Y+M)/4,i=(H+I)/4;return v<Q&&Z<Q?U=Q<.01?(a=0,z=.707106781):(z=k/(a=Math.sqrt(Q)),E/a):Z<v?U=v<.01?(z=0,a=.707106781):(a=k/(z=Math.sqrt(v)),i/z):Z<.01?(z=a=.707106781,U=0):(a=E/(U=Math.sqrt(Z)),z=i/U),this.set(a,z,U,e),this}return Q=Math.sqrt((I-H)*(I-H)+(Y-M)*(Y-M)+(c-V)*(c-V)),Math.abs(Q)<.001&&(Q=1),this.x=(I-H)/Q,this.y=(Y-M)/Q,this.z=(c-V)/Q,this.w=Math.acos((g+u+J-1)/2),this},min:function(J){return this.x=Math.min(this.x,J.x),this.y=Math.min(this.y,J.y),this.z=Math.min(this.z,J.z),this.w=Math.min(this.w,J.w),this},max:function(J){return this.x=Math.max(this.x,J.x),this.y=Math.max(this.y,J.y),this.z=Math.max(this.z,J.z),this.w=Math.max(this.w,J.w),this},clamp:function(J,a){return this.x=Math.max(J.x,Math.min(a.x,this.x)),this.y=Math.max(J.y,Math.min(a.y,this.y)),this.z=Math.max(J.z,Math.min(a.z,this.z)),this.w=Math.max(J.w,Math.min(a.w,this.w)),this},clampScalar:function(J,a){return z$===xR&&(z$=new em,U$=new em),z$.set(J,J,J,J),U$.set(a,a,a,a),this.clamp(z$,U$)},clampLength:function(J,a){var z=this.length();return this.divideScalar(z||1).multiplyScalar(Math.max(J,Math.min(a,z)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(J){return this.x*J.x+this.y*J.y+this.z*J.z+this.w*J.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(J){return this.normalize().multiplyScalar(J)},lerp:function(J,a){return this.x+=(J.x-this.x)*a,this.y+=(J.y-this.y)*a,this.z+=(J.z-this.z)*a,this.w+=(J.w-this.w)*a,this},lerpVectors:function(J,a,z){return this.subVectors(a,J).multiplyScalar(z).add(J)},equals:function(J){return J.x===this.x&&J.y===this.y&&J.z===this.z&&J.w===this.w},fromArray:function(J,a){return this.x=J[a=a===xR?0:a],this.y=J[a+1],this.z=J[a+2],this.w=J[a+3],this},toArray:function(J,a){return(J=J===xR?[]:J)[a=a===xR?0:a]=this.x,J[a+1]=this.y,J[a+2]=this.z,J[a+3]=this.w,J},fromBufferAttribute:function(J,a,z){return this.x=J.getX(a),this.y=J.getY(a),this.z=J.getZ(a),this.w=J.getW(a),this}}),m.Math.Vector3=function(J,a,z){J===xR?(this.x=0,this.y=0,this.z=0):"object"==typeof J?this.copy(J):this.set(J,a==xR?J:a,z==xR?J:z)}),Qm=(pR.assign(qR.prototype,{isVector3:!0,isNaN:function(){return isNaN(this.x)||isNaN(this.y)||isNaN(this.z)},set:function(J,a,z){return this.x=J,this.y=a,this.z=z,this},equals:function(J){return J&&this.x===J.x&&this.y===J.y&&this.z===J.z},setScalar:function(J){return this.x=J,this.y=J,this.z=J,this},setX:function(J){return this.x=J,this},setY:function(J){return this.y=J,this},setZ:function(J){return this.z=J,this},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(J){return J.x===xR?(this.x=J[0],this.y=J[1],this.z=J[2]):(this.x=J.x,this.y=J.y,this.z=J.z||0),this},add:function(J){return this.x+=J.x,this.y+=J.y,this.z+=J.z,this},addScalar:function(J){return this.x+=J,this.y+=J,this.z+=J,this},addVectors:function(J,a){return this.x=J.x+a.x,this.y=J.y+a.y,this.z=J.z+a.z,this},addScaledVector:function(J,a){return this.x+=J.x*a,this.y+=J.y*a,this.z+=J.z*a,this},sub:function(J){return this.x-=J.x,this.y-=J.y,this.z-=J.z,this},subScalar:function(J){return this.x-=J,this.y-=J,this.z-=J,this},subVectors:function(J,a){return this.x=J.x-a.x,this.y=J.y-a.y,this.z=J.z-a.z,this},divide:function(J){return this.x/=J.x,this.y/=J.y,this.z/=J.z,this},multiply:function(J){return this.x*=J.x,this.y*=J.y,this.z*=J.z,this},multiplyScalar:function(J){return this.x*=J,this.y*=J,this.z*=J,this},divideScalar:function(J){return 0!==J?(this.x*=J=1/J,this.y*=J,this.z*=J):(this.x=0,this.y=0,this.z=0),this},distanceTo:function(J){return Math.sqrt(this.distanceToSquared(J))},distanceToSquared:function(J){var a=this.x-J.x,z=this.y-J.y;return a*a+z*z+(J=this.z-J.z)*J},distanceToSquared2:function(J){var a=this.x-J[0],z=this.y-J[1];return a*a+z*z+(J=this.z-J[2])*J},divideVectors:function(J,a){return this.x=J.x/a.x,this.y=J.y/a.y,this.z=J.z/a.z,this},multiplyVectors:function(J,a){return this.x=J.x*a.x,this.y=J.y*a.y,this.z=J.z*a.z,this},transformDirection:function(J){var a=this.x,z=this.y,U=this.z,J=J.el;return this.x=J[0]*a+J[4]*z+J[8]*U,this.y=J[1]*a+J[5]*z+J[9]*U,this.z=J[2]*a+J[6]*z+J[10]*U,this.normalize()},applyAxisAngle:(Y$=new Im,function(J,a){return this.applyQuaternion(Y$.setFromAxisAngle(J,a))}),applyEuler:(V$=new Im,function(J){return this.applyQuaternion(V$.setFromEuler(J))}),applyQuaternion:function(J){var a=this.x,z=this.y,U=this.z,g=J._x,V=J._y,Y=J._z,c=(J=J._w)*a+V*U-Y*z,u=J*z+Y*a-g*U,H=J*U+g*z-V*a;return this.x=c*J+(a=-g*a-V*z-Y*U)*-g+u*-Y-H*-V,this.y=u*J+a*-V+H*-g-c*-Y,this.z=H*J+a*-Y+c*-V-u*-g,this},applyMatrix4:function(J){var a=this.x,z=this.y,U=this.z,g=1/((J=J.el)[3]*a+J[7]*z+J[11]*U+J[15]);return this.x=(J[0]*a+J[4]*z+J[8]*U+J[12])*g,this.y=(J[1]*a+J[5]*z+J[9]*U+J[13])*g,this.z=(J[2]*a+J[6]*z+J[10]*U+J[14])*g,this},applyMatrix3:function(J){var a=this.x,z=this.y,U=this.z,J=J.el;return this.x=J[0]*a+J[3]*z+J[6]*U,this.y=J[1]*a+J[4]*z+J[7]*U,this.z=J[2]*a+J[5]*z+J[8]*U,this},applyNormalMatrix:function(J){return this.applyMatrix3(J).normalize()},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},reflect:(g$=new qR,function(J){return this.sub(g$.copy(J).multiplyScalar(2*this.dot(J)))}),dot:function(J){return this.x*J.x+this.y*J.y+this.z*J.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){var J=this.length();return J?this.multiplyScalar(1/J):this},setLength:function(J){return this.normalize().multiplyScalar(J)},fromArray:function(J,a){return this.x=J[a=a===xR?0:a],this.y=J[a+1],this.z=J[a+2],this},toArray:function(J,a){return(J=J===xR?[0,0,0]:J)[a=a===xR?0:a]=this.x,J[a+1]=this.y,J[a+2]=this.z,J},cross:function(J){return this.crossVectors(this,J)},angleTo:function(J){return 1+1e-6<(J=this.dot(J)/Math.sqrt(this.lengthSq()*J.lengthSq()))||J<-1-1e-6?0:Math.acos(t.clamp(J,-1,1))},lerp:function(J,a){return this.x+=(J.x-this.x)*a,this.y+=(J.y-this.y)*a,this.z+=(J.z-this.z)*a,this},lerpVectors:function(J,a,z){return this.subVectors(a,J).multiplyScalar(z).add(J)},crossVectors:function(J,a){var z=J.x,U=J.y,J=J.z,g=a.x,V=a.y,a=a.z;return this.x=U*a-J*V,this.y=J*g-z*a,this.z=z*V-U*g,this},min:function(J){return this.x=Math.min(this.x,J.x),this.y=Math.min(this.y,J.y),this.z=Math.min(this.z,J.z),this},max:function(J){return this.x=Math.max(this.x,J.x),this.y=Math.max(this.y,J.y),this.z=Math.max(this.z,J.z),this},setFromMatrixPosition:function(J){return this.setFromMatrixColumn(J,3)},setFromMatrixScale:function(J){var a=this.setFromMatrixColumn(J,0).length(),z=this.setFromMatrixColumn(J,1).length(),J=this.setFromMatrixColumn(J,2).length();return this.x=a,this.y=z,this.z=J,this},setFromMatrixColumn:function(J,a){return this.fromArray(J.el,4*a)}}),qR.UP=new qR(0,1,0),qR.AxisX=new qR(1,0,0),qR.AxisY=new qR(0,1,0),qR.AxisZ=new qR(0,0,1),qR.normalizeArray=(c$=new qR,function(J){return c$.copy(J).normalize().toArray()}),u$=new qR,function(J,a){return(a=a||u$).x=J[0],a.y=J[1],a.z=J[2],a}),o=m.Math.Vector2=function(J,a,z){"object"==typeof J&&(J=J.x!=xR?(a=J.y,z=J.e,J.x):(z=J[2],a=J[1],J[0])),this.set(J||0,a||0,z)},vm=(o.prototype={},(o.prototype.constructor=o).prototype.isVector2=!0,pR.defineProperties(o.prototype,{width:{get:function(){return this.x},set:function(J){this.x=J}},height:{get:function(){return this.y},set:function(J){this.y=J}}}),o.prototype.clone=function(){return new o(this.x,this.y,this.e)},o.prototype.copy=function(J){return this.set(J.x,J.y,J.e),this},o.prototype.equals=function(J){return J.x===this.x&&J.y===this.y&&J.e===this.e},o.prototype.set=function(J,a,z){return this.x=J||0,this.y=a||(0!==a?this.x:0),z!=xR&&(this.e=z),this},o.prototype.setScalar=function(J){return this.x=J,this.y=J,this.e=J,this},o.prototype.setX=function(J){return this.x=J||0,this},o.prototype.setY=function(J){return this.y=J||0,this},o.prototype.setE=function(J){return this.e=J||0,this},o.prototype.add=function(J){return this.x+=J.x,this.y+=J.y,this},o.prototype.addVectors=function(J,a){return this.x=J.x+a.x,this.y=J.y+a.y,this},o.prototype.addScalar=function(J){return this.x+=J,this.y+=J,this},o.prototype.addScaledVector=function(J,a){return this.x+=J.x*a,this.y+=J.y*a,this},o.prototype.sub=function(J){return this.x-=J.x,this.y-=J.y,this},o.prototype.subScalar=function(J){return this.x-=J,this.y-=J,this},o.prototype.subVectors=function(J,a){return this.x=J.x-a.x,this.y=J.y-a.y,this},o.prototype.multiply=function(J){return this.x*=J.x,this.y*=J.y,this},o.prototype.multiplyScalar=function(J){return this.x*=J,this.y*=J,this},o.prototype.divide=function(J){return this.x/=J.x,this.y/=J.y,this},o.prototype.divideScalar=function(J){return this.multiplyScalar(1/J)},o.prototype.min=function(J){return this.x=Math.min(this.x,J.x),this.y=Math.min(this.y,J.y),this},o.prototype.max=function(J){return this.x=Math.max(this.x,J.x),this.y=Math.max(this.y,J.y),this},o.prototype.fromArray=function(J,a){return this.x=J[a=a===xR?0:a],this.y=J[a+1],this},o.prototype.toArray=function(J,a){return(J=J===xR?[0,0]:J)[a=a===xR?0:a]=this.x,J[a+1]=this.y,J},o.prototype.clamp=function(J,a){return this.x=Math.max(J.x,Math.min(a.x,this.x)),this.y=Math.max(J.y,Math.min(a.y,this.y)),this},o.prototype.clampScalar=function(J,a){return H$===xR&&(H$=new o,M$=new o),H$.set(J,J),M$.set(a,a),this.clamp(H$,M$)},o.prototype.clampLength=function(J,a){var z=this.length();return this.multiplyScalar(Math.max(J,Math.min(a,z))/z)},o.prototype.dot=function(J){return this.x*J.x+this.y*J.y},o.prototype.cross=function(J){return this.x*J.y-this.y*J.x},o.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},o.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},o.prototype.normalize=function(){return this.divideScalar(this.length())},o.prototype.angle=function(){var J=Math.atan2(this.y,this.x);return J<0&&(J+=2*Math.PI),J},o.prototype.distanceTo=function(J){return Math.sqrt(this.distanceToSquared(J))},o.prototype.distanceToSquared=function(J){var a=this.x-J.x;return a*a+(J=this.y-J.y)*J},o.prototype.isNearEnough=function(J){return this.distanceToSquared(J)<1e-8},o.prototype.setLength=function(J){var a=this.length();return a?this.multiplyScalar(J/a):this},o.prototype.lerp=function(J,a){return this.x+=(J.x-this.x)*a,this.y+=(J.y-this.y)*a,"number"==typeof J.e&&"number"==typeof this.e&&(this.e+=(J.e-this.e)*a),this},o.prototype.lerpVectors=function(J,a,z){return this.subVectors(a,J).multiplyScalar(z).add(J)},o.prototype.rotateAround=function(J,a){var z=J?J.x:0,J=J?J.y:0,U=Math.cos(a),a=Math.sin(a),g=this.x-z,V=this.y-J;return this.x=g*U-V*a+z,this.y=g*a+V*U+J,this},m.Math.Matrix3=function(){this.el=[1,0,0,0,1,0,0,0,1]}),Zm=(pR.assign(vm.prototype,{isMatrix3:!0,set:function(J,a,z,U,g,V,Y,c,u){var H=this.el;return H[0]=J,H[1]=U,H[2]=Y,H[3]=a,H[4]=g,H[5]=c,H[6]=z,H[7]=V,H[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.el)},copy:function(J){var a=this.el,J=J.el;return a[0]=J[0],a[1]=J[1],a[2]=J[2],a[3]=J[3],a[4]=J[4],a[5]=J[5],a[6]=J[6],a[7]=J[7],a[8]=J[8],this},setFromMatrix4:function(J){return J=J.el,this.set(J[0],J[4],J[8],J[1],J[5],J[9],J[2],J[6],J[10]),this},applyToBufferAttribute:(I$=new qR,function(J){for(var a=0,z=J.count;a<z;a++)I$.x=J.getX(a),I$.y=J.getY(a),I$.z=J.getZ(a),I$.applyMatrix3(this),J.setXYZ(a,I$.x,I$.y,I$.z);return J}),multiply:function(J){return this.multiplyMatrices(this,J)},premultiply:function(J){return this.multiplyMatrices(J,this)},multiplyMatrices:function(J,a){var J=J.el,a=a.el,z=this.el,U=J[0],g=J[3],V=J[6],Y=J[1],c=J[4],u=J[7],H=J[2],M=J[5],J=J[8],I=a[0],e=a[3],Q=a[6],v=a[1],Z=a[4],k=a[7],E=a[2],i=a[5],a=a[8];return z[0]=U*I+g*v+V*E,z[3]=U*e+g*Z+V*i,z[6]=U*Q+g*k+V*a,z[1]=Y*I+c*v+u*E,z[4]=Y*e+c*Z+u*i,z[7]=Y*Q+c*k+u*a,z[2]=H*I+M*v+J*E,z[5]=H*e+M*Z+J*i,z[8]=H*Q+M*k+J*a,this},multiplyScalar:function(J){var a=this.el;return a[0]*=J,a[3]*=J,a[6]*=J,a[1]*=J,a[4]*=J,a[7]*=J,a[2]*=J,a[5]*=J,a[8]*=J,this},determinant:function(){var J=this.el,a=J[0],z=J[1],U=J[2],g=J[3],V=J[4],Y=J[5],c=J[6],u=J[7];return a*V*(J=J[8])-a*Y*u-z*g*J+z*Y*c+U*g*u-U*V*c},getInverse:function(J,a){var J=J.el,z=this.el,U=J[0],g=J[1],V=J[2],Y=J[3],c=J[4],u=J[5],H=J[6],M=J[7],I=(J=J[8])*c-u*M,e=u*H-J*Y,Q=M*Y-c*H,v=U*I+g*e+V*Q;return 0==v?this.identity():(z[0]=I*(v=1/v),z[1]=(V*M-J*g)*v,z[2]=(u*g-V*c)*v,z[3]=e*v,z[4]=(J*U-V*H)*v,z[5]=(V*Y-u*U)*v,z[6]=Q*v,z[7]=(g*H-M*U)*v,z[8]=(c*U-g*Y)*v,this)},transpose:function(){var J=this.el,a=J[1];return J[1]=J[3],J[3]=a,a=J[2],J[2]=J[6],J[6]=a,a=J[5],J[5]=J[7],J[7]=a,this},getNormalMatrix:function(J){return this.setFromMatrix4(J).getInverse(this).transpose()},transposeIntoArray:function(J){var a=this.el;return J[0]=a[0],J[1]=a[3],J[2]=a[6],J[3]=a[1],J[4]=a[4],J[5]=a[7],J[6]=a[2],J[7]=a[5],J[8]=a[8],this},setUvTransform:function(J,a,z,U,g,V,Y){var c=Math.cos(g),g=Math.sin(g);this.set(z*c,z*g,-z*(c*V+g*Y)+V+J,-U*g,U*c,-U*(-g*V+c*Y)+Y+a,0,0,1)},scale:function(J,a){var z=this.el;return z[0]*=J,z[3]*=J,z[6]*=J,z[1]*=a,z[4]*=a,z[7]*=a,this},rotate:function(J){var a=Math.cos(J),J=Math.sin(J),z=this.el,U=z[0],g=z[3],V=z[6],Y=z[1],c=z[4],u=z[7];return z[0]=a*U+J*Y,z[3]=a*g+J*c,z[6]=a*V+J*u,z[1]=-J*U+a*Y,z[4]=-J*g+a*c,z[7]=-J*V+a*u,this},translate:function(J,a){var z=this.el;return z[0]+=J*z[2],z[3]+=J*z[5],z[6]+=J*z[8],z[1]+=a*z[2],z[4]+=a*z[5],z[7]+=a*z[8],this},equals:function(J){for(var a=this.el,z=J.el,U=0;U<9;U++)if(a[U]!==z[U])return!1;return!0},fromArray:function(J,a){a===xR&&(a=0);for(var z=0;z<9;z++)this.el[z]=J[z+a];return this},getElements:function(){return this.el},toArray:function(J,a){var z=this.el;return(J=J===xR?[]:J)[a=a===xR?0:a]=z[0],J[a+1]=z[1],J[a+2]=z[2],J[a+3]=z[3],J[a+4]=z[4],J[a+5]=z[5],J[a+6]=z[6],J[a+7]=z[7],J[a+8]=z[8],J}}),m.Math.Plane=function(J,a){this.normal=J!==xR?J:new qR(1,0,0),this.constant=a!==xR?a:0}),km=(pR.assign(Zm.prototype,{set:function(J,a){return this.normal.copy(J),this.constant=a,this},setComponents:function(J,a,z,U){return this.normal.set(J,a,z),this.constant=U,this},setFromNormalAndCoplanarPoint:function(J,a){return this.normal.copy(J),this.constant=-a.dot(this.normal),this},setFromCoplanarPoints:(Z$=new qR,k$=new qR,function(J,a,z){return z=Z$.subVectors(z,a).cross(k$.subVectors(J,a)).normalize(),this.setFromNormalAndCoplanarPoint(z,J),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(J){return this.normal.copy(J.normal),this.constant=J.constant,this},normalize:function(){var J=1/this.normal.length();return this.normal.multiplyScalar(J),this.constant*=J,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(J){return this.normal.dot(J)+this.constant},distanceToSphere:function(J){return this.distanceToPoint(J.center)-J.radius},projectPoint:function(J,a){return(a=a===xR?new qR:a).copy(this.normal).multiplyScalar(-this.distanceToPoint(J)).add(J)},intersectLine:(v$=new qR,function(J,a){a===xR&&(a=new qR);var z=J.delta(v$),U=this.normal.dot(z);return 0===U?0===this.distanceToPoint(J.start)?a.copy(J.start):xR:(U=-(J.start.dot(this.normal)+this.constant)/U)<0||1<U?xR:a.copy(z).multiplyScalar(U).add(J.start)}),intersectsLine:function(J){var a=this.distanceToPoint(J.start),J=this.distanceToPoint(J.end);return a<0&&0<J||J<0&&0<a},intersectsBox:function(J){return J.intersectsPlane(this)},intersectsSphere:function(J){return J.intersectsPlane(this)},coplanarPoint:function(J){return(J=J===xR?new qR:J).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:(e$=new qR,Q$=new vm,function(J,a){return a=a||Q$.getNormalMatrix(J),J=this.coplanarPoint(e$).applyMatrix4(J),a=this.normal.applyMatrix3(a).normalize(),this.constant=-J.dot(a),this}),translate:function(J){return this.constant-=J.dot(this.normal),this},equals:function(J){return J.normal.equals(this.normal)&&J.constant===this.constant}}),m.Math.Ray=function(J,a,z){this.origin=J!==xR?J.clone():new qR,this.direction=a!==xR?a.clone():new qR,this.inDisplaySpace=!!z}),Em=(pR.assign(km.prototype,{set:function(J,a){return this.origin.copy(J),this.direction.copy(a),this},setOriginTarget:function(J,a,z){return this.origin.copy(J),this.direction.subVectors(a,J),this.setMaxHitLength(this.direction.length()*(z||1)),this.direction.normalize(),this},clone:function(){return(new this.constructor).copy(this)},copy:function(J){return this.origin.copy(J.origin),this.direction.copy(J.direction),this.maxHitLen=J.maxHitLen,this},at:function(J,a){return(a||new qR).copy(this.direction).multiplyScalar(J).add(this.origin)},setMaxHitLength:function(J){this.maxHitLen=J},lookAt:function(J){return this.direction.copy(J).sub(this.origin).normalize(),this},applyMatrix4:function(J){var a,z=this.maxHitLen;return z&&(a=this.direction.clone().multiplyScalar(z).add(this.origin)).applyMatrix4(J),this.origin.applyMatrix4(J),this.direction.transformDirection(J),z&&(this.maxHitLen=this.origin.distanceTo(a)),this},distanceToPlane:function(J){var a=J.normal.dot(this.direction);return 0===a?0===J.distanceToPoint(this.origin)?0:null:0<=(J=-(this.origin.dot(J.normal)+J.constant)/a)?J:null},intersectPlane:function(J,a){return null===(J=this.distanceToPlane(J))?null:this.at(J,a)},intersectSphere:(D$=new qR,function(J,a){D$.subVectors(J.center,this.origin);var z=D$.dot(this.direction),U=D$.dot(D$)-z*z;return(J=J.radius*J.radius)<U?null:(U=z-(J=Math.sqrt(J-U)),z+=J,U<0&&z<0?null:U<0?this.at(z,a):this.at(U,a))}),intersectEllipsoid:(x$=new qR,W$=new qR,function(J,a){x$.subVectors(J.center,this.origin),x$.divide(J.radius),W$.divideVectors(this.direction,J.radius);var J=W$.lengthSq(),z=x$.dot(W$),U=x$.dot(x$)*J-z*z;if(J<U)return null;var g=(z-(U=Math.sqrt(J-U)))/J,z=(z+U)/J;return g<0&&z<0?null:g<0?this.at(z,a):this.at(g,a)}),intersectBox:function(J,a){var z,U,g,V=1/this.direction.x,Y=1/this.direction.y,c=1/this.direction.z,u=this.origin,V=0<=V?(z=(J.min.x-u.x)*V,(J.max.x-u.x)*V):(z=(J.max.x-u.x)*V,(J.min.x-u.x)*V);return(Y=0<=Y?(g=(J.min.y-u.y)*Y,(J.max.y-u.y)*Y):(g=(J.max.y-u.y)*Y,(J.min.y-u.y)*Y))<z||V<g?null:((z<g||z!=z)&&(z=g),(Y<V||V!=V)&&(V=Y),(g=0<=c?(U=(J.min.z-u.z)*c,(J.max.z-u.z)*c):(U=(J.max.z-u.z)*c,(J.min.z-u.z)*c))<z||V<U||(V=g<V||V!=V?g:V)<0?null:(Y=0<=(z=z<U||z!=z?U:z)?z:V,(J=this.maxHitLen)&&J<Y?null:this.at(Y,a)))},intersectTriangle:(E$=new qR,i$=new qR,w$=new qR,p$=new qR,function(J,a,z,U,g,V){if(i$.subVectors(a,J),w$.subVectors(z,J),p$.crossVectors(i$,w$),(a=g||0)<(z=this.direction.dot(p$))){if(U)return null}else if(-a<=z)return null;return g=1/z,E$.subVectors(this.origin,J),(U=g*this.direction.dot(w$.crossVectors(E$,w$)))<-a||(z=g*this.direction.dot(i$.cross(E$)))<-a||1+a<U+z||(J=-g*E$.dot(p$))<0||(a=this.maxHitLen)&&a<J?null:this.at(J,V)})}),m.Math.Box3=function(J,a){this.min=J!==xR?J:new qR(1/0,1/0,1/0),this.max=a!==xR?a:new qR(-1/0,-1/0,-1/0)}),_W=(pR.assign(Em.prototype,{set:function(J,a){return this.min.copy(J),this.max.copy(a),this},setFromArray:function(J){for(var a=1/0,z=1/0,U=1/0,g=-1/0,V=-1/0,Y=-1/0,c=0,u=J.length;c<u;c+=3){var H=J[c],M=J[c+1],I=J[c+2];H<a&&(a=H),M<z&&(z=M),I<U&&(U=I),g<H&&(g=H),V<M&&(V=M),Y<I&&(Y=I)}return this.min.set(a,z,U),this.max.set(g,V,Y),this},setFromPoints:function(J){return this.makeEmpty().expandByPoints(J)},clone:function(){return(new this.constructor).copy(this)},intersectsBox:function(J){return!(J.max.x<this.min.x||J.min.x>this.max.x||J.max.y<this.min.y||J.min.y>this.max.y||J.max.z<this.min.z||J.min.z>this.max.z)},copy:function(J){return this.min.copy(J.min),this.max.copy(J.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(J){return J=J||new qR,this.isEmpty()?J.set(0,0,0):J.addVectors(this.min,this.max).multiplyScalar(.5)},expandByPoint:function(J){return this.min.min(J),this.max.max(J),this},expandByPoints:function(J){for(var a=0,z=J.length;a<z;a++)this.expandByPoint(J[a]);return this},expandByBox:function(J){return this.min.min(J.min),this.max.max(J.max),this},applyMatrix4:(K$=[new qR,new qR,new qR,new qR,new qR,new qR,new qR,new qR],function(J){return this.isEmpty()||(K$[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(J),K$[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(J),K$[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(J),K$[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(J),K$[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(J),K$[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(J),K$[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(J),K$[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(J),this.setFromPoints(K$)),this})}),m.Math.Sphere=function(J,a){this.center=J!==xR?J:new qR,this.radius=a!==xR?a:0}),hW=(pR.assign(_W.prototype,{set:function(J,a){return this.center.copy(J),this.radius=a,this},setFromPoints:(d$=new Em,function(J,a){for(var z=this.center,U=(a!==xR?z.copy(a):d$.setFromPoints(J).getCenter(z),0),g=0,V=J.length;g<V;g++)U=Math.max(U,z.distanceToSquared(J[g]));return this.radius=Math.sqrt(U),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(J){return this.center.copy(J.center),this.radius=J.radius,this},empty:function(){return this.radius<=0},containsPoint:function(J){return J.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(J){return J.distanceTo(this.center)-this.radius},intersectsSphere:function(J){var a=this.radius+J.radius;return J.center.distanceToSquared(this.center)<=a*a},intersectsBox:function(J){return J.intersectsSphere(this)},intersectsPlane:function(J){return Math.abs(J.distanceToPoint(this.center))<=this.radius},clampPoint:function(J,a){var z=this.center.distanceToSquared(J);return(a=a===xR?new qR:a).copy(J),z>this.radius*this.radius&&(a.sub(this.center).normalize(),a.multiplyScalar(this.radius).add(this.center)),a},getBoundingBox:function(J){return(J=J===xR?new Em:J).set(this.center,this.center),J.expandByScalar(this.radius),J},applyMatrix4:function(J){return this.center.applyMatrix4(J),this.radius=this.radius*J.getMaxScaleOnAxis(),this},translate:function(J){return this.center.add(J),this},equals:function(J){return J.center.equals(this.center)&&J.radius===this.radius}}),m.Math.Frustum=function(J,a,z,U,g,V){this.planes=[J!==xR?J:new Zm,a!==xR?a:new Zm,z!==xR?z:new Zm,U!==xR?U:new Zm,g!==xR?g:new Zm,V!==xR?V:new Zm]}),XR=(pR.assign(hW.prototype,{set:function(J,a,z,U,g,V){var Y=this.planes;return Y[0].copy(J),Y[1].copy(a),Y[2].copy(z),Y[3].copy(U),Y[4].copy(g),Y[5].copy(V),this},clone:function(){return(new this.constructor).copy(this)},copy:function(J){for(var a=this.planes,z=0;z<6;z++)a[z].copy(J.planes[z]);return this},setFromMatrix:function(J){var a=this.planes,z=(J=J.el)[0],U=J[1],g=J[2],V=J[3],Y=J[4],c=J[5],u=J[6],H=J[7],M=J[8],I=J[9],e=J[10],Q=J[11],v=J[12],Z=J[13],k=J[14],J=J[15];return a[0].setComponents(V-z,H-Y,Q-M,J-v).normalize(),a[1].setComponents(V+z,H+Y,Q+M,J+v).normalize(),a[2].setComponents(V+U,H+c,Q+I,J+Z).normalize(),a[3].setComponents(V-U,H-c,Q-I,J-Z).normalize(),a[4].setComponents(V-g,H-u,Q-e,J-k).normalize(),a[5].setComponents(V+g,H+u,Q+e,J+k).normalize(),this},intersectsObject:(X$=new _W,function(J){var a=J.geometry;return null===a.boundingSphere&&a.computeBoundingSphere(),X$.copy(a.boundingSphere).applyMatrix4(J.matrixWorld),this.intersectsSphere(X$)}),intersectsSprite:(q$=new _W,function(J){return q$.center.set(0,0,0),q$.radius=.7071067811865476,q$.applyMatrix4(J.matrixWorld),this.intersectsSphere(q$)}),intersectsSphere:function(J){for(var a=this.planes,z=J.center,U=-J.radius,g=0;g<6;g++)if(a[g].distanceToPoint(z)<U)return!1;return!0},intersectsBox:(j$=new qR,function(J){for(var a=this.planes,z=0;z<6;z++){var U=a[z];if(j$.x=(0<U.normal.x?J.max:J.min).x,j$.y=(0<U.normal.y?J.max:J.min).y,j$.z=(0<U.normal.z?J.max:J.min).z,U.distanceToPoint(j$)<0)return!1}return!0}),containsPoint:function(J){for(var a=this.planes,z=0;z<6;z++)if(a[z].distanceToPoint(J)<0)return!1;return!0}}),m.Math.Matrix4=function(){this.el=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}),im=(pR.assign(XR.prototype,{isMatrix4:!0,set:function(J,a,z,U,g,V,Y,c,u,H,M,I,e,Q,v,Z){var k=this.el;return k[0]=J,k[4]=a,k[8]=z,k[12]=U,k[1]=g,k[5]=V,k[9]=Y,k[13]=c,k[2]=u,k[6]=H,k[10]=M,k[14]=I,k[3]=e,k[7]=Q,k[11]=v,k[15]=Z,this},clone:function(){return(new XR).fromArray(this.el)},fromArray:function(J,a){a===xR&&(a=0);for(var z=this.el,U=0;U<16;U++)z[U]=J[U+a];return this},getElements:function(){return this.el},scale:function(J){var a=this.el,z=J.x,U=J.y,J=J.z;return a[0]*=z,a[4]*=U,a[8]*=J,a[1]*=z,a[5]*=U,a[9]*=J,a[2]*=z,a[6]*=U,a[10]*=J,a[3]*=z,a[7]*=U,a[11]*=J,this},translate:function(J){var a=this.el,z=J.x||0,U=J.y||0,J=J.z||0;return a[12]+=a[0]*z+a[4]*U+a[8]*J,a[13]+=a[1]*z+a[5]*U+a[9]*J,a[14]+=a[2]*z+a[6]*U+a[10]*J,a[15]+=a[3]*z+a[7]*U+a[11]*J,this},rotate:(P$=new XR,function(J){return P$.makeRotationFromQuaternion(J),this.multiply(P$)}),prependScale:function(J){var a=this.el,z=J.x,U=J.y,J=J.z;return a[0]*=z,a[4]*=z,a[8]*=z,a[12]*=z,a[1]*=U,a[5]*=U,a[9]*=U,a[13]*=U,a[2]*=J,a[6]*=J,a[10]*=J,a[14]*=J,this},prependRotation:(S$=new XR,function(J){return S$.makeRotationFromQuaternion(J),this.premultiply(S$)}),prependTranslation:function(J){var a=this.el,z=J.x||0,U=J.y||0,J=J.z||0,g=a[3],V=a[7],Y=a[11],c=a[15];return a[0]+=g*z,a[4]+=V*z,a[8]+=Y*z,a[12]+=c*z,a[1]+=g*U,a[5]+=V*U,a[9]+=Y*U,a[13]+=c*U,a[2]+=g*J,a[6]+=V*J,a[10]+=Y*J,a[14]+=c*J,this},makeRotationFromEuler:function(J){var a,z,U,g,V,Y,c,u,H,M,I,e,Q=this.el,v=J._x,Z=J._y,k=J._z,J=J._order,E=Math.cos(v),v=Math.sin(v),i=Math.cos(Z),Z=Math.sin(Z),w=Math.cos(k),k=Math.sin(k);return"XYZ"===J?(V=E*w,Y=E*k,c=v*w,u=v*k,Q[0]=i*w,Q[4]=-i*k,Q[8]=Z,Q[1]=Y+c*Z,Q[5]=V-u*Z,Q[9]=-v*i,Q[2]=u-V*Z,Q[6]=c+Y*Z,Q[10]=E*i):"YXZ"===J?(z=i*k,U=Z*w,Q[0]=(a=i*w)+(g=Z*k)*v,Q[4]=U*v-z,Q[8]=E*Z,Q[1]=E*k,Q[5]=E*w,Q[9]=-v,Q[2]=z*v-U,Q[6]=g+a*v,Q[10]=E*i):"ZXY"===J?(z=i*k,U=Z*w,Q[0]=(a=i*w)-(g=Z*k)*v,Q[4]=-E*k,Q[8]=U+z*v,Q[1]=z+U*v,Q[5]=E*w,Q[9]=g-a*v,Q[2]=-E*Z,Q[6]=v,Q[10]=E*i):"ZYX"===J?(V=E*w,Y=E*k,c=v*w,u=v*k,Q[0]=i*w,Q[4]=c*Z-Y,Q[8]=V*Z+u,Q[1]=i*k,Q[5]=u*Z+V,Q[9]=Y*Z-c,Q[2]=-Z,Q[6]=v*i,Q[10]=E*i):"YZX"===J?(H=E*i,M=E*Z,I=v*i,e=v*Z,Q[0]=i*w,Q[4]=e-H*k,Q[8]=I*k+M,Q[1]=k,Q[5]=E*w,Q[9]=-v*w,Q[2]=-Z*w,Q[6]=M*k+I,Q[10]=H-e*k):"XZY"===J&&(H=E*i,M=E*Z,I=v*i,e=v*Z,Q[0]=i*w,Q[4]=-k,Q[8]=Z*w,Q[1]=H*k+e,Q[5]=E*w,Q[9]=M*k-I,Q[2]=I*k-M,Q[6]=v*w,Q[10]=e*k+H),Q[3]=0,Q[7]=0,Q[11]=0,Q[12]=0,Q[13]=0,Q[14]=0,Q[15]=1,this},makeRotationFromQuaternion:function(J){var a=this.el,z=J._x,U=J._y,g=J._z,V=g+g,Y=z*(H=z+z),c=z*(M=U+U),z=z*V,u=U*M,U=U*V,H=(J=J._w)*H,M=J*M,J=J*V;return a[0]=1-(u+(g=g*V)),a[4]=c-J,a[8]=z+M,a[1]=c+J,a[5]=1-(Y+g),a[9]=U-H,a[2]=z-M,a[6]=U+H,a[10]=1-(Y+u),a[3]=0,a[7]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},getInverse:function(J,a){var z=this.el,U=(J=J.el||J)[0],g=J[1],V=J[2],Y=J[3],c=J[4],u=J[5],H=J[6],M=J[7],I=J[8],e=J[9],Q=J[10],v=J[11],Z=J[12],k=J[13],E=J[14],i=e*E*M-k*Q*M+k*H*v-u*E*v-e*H*(J=J[15])+u*Q*J,w=Z*Q*M-I*E*M-Z*H*v+c*E*v+I*H*J-c*Q*J,p=I*k*M-Z*e*M+Z*u*v-c*k*v-I*u*J+c*e*J,x=Z*e*H-I*k*H-Z*u*Q+c*k*Q+I*u*E-c*e*E,W=U*i+g*w+V*p+Y*x;return 0==W?this.identity():(z[0]=i*(W=1/W),z[1]=(k*Q*Y-e*E*Y-k*V*v+g*E*v+e*V*J-g*Q*J)*W,z[2]=(u*E*Y-k*H*Y+k*V*M-g*E*M-u*V*J+g*H*J)*W,z[3]=(e*H*Y-u*Q*Y-e*V*M+g*Q*M+u*V*v-g*H*v)*W,z[4]=w*W,z[5]=(I*E*Y-Z*Q*Y+Z*V*v-U*E*v-I*V*J+U*Q*J)*W,z[6]=(Z*H*Y-c*E*Y-Z*V*M+U*E*M+c*V*J-U*H*J)*W,z[7]=(c*Q*Y-I*H*Y+I*V*M-U*Q*M-c*V*v+U*H*v)*W,z[8]=p*W,z[9]=(Z*e*Y-I*k*Y-Z*g*v+U*k*v+I*g*J-U*e*J)*W,z[10]=(c*k*Y-Z*u*Y+Z*g*M-U*k*M-c*g*J+U*u*J)*W,z[11]=(I*u*Y-c*e*Y-I*g*M+U*e*M+c*g*v-U*u*v)*W,z[12]=x*W,z[13]=(I*k*V-Z*e*V+Z*g*Q-U*k*Q-I*g*E+U*e*E)*W,z[14]=(Z*u*V-c*k*V-Z*g*H+U*k*H+c*g*E-U*u*E)*W,z[15]=(c*e*V-I*u*V+I*g*H-U*e*H-c*g*Q+U*u*Q)*W,this)},invert:function(){return this.getInverse(this)},makeRotationAxis:function(J,a){var z=Math.cos(a),a=Math.sin(a),U=1-z,g=J.x,V=J.y,J=J.z,Y=U*g,c=U*V;return this.set(Y*g+z,Y*V-a*J,Y*J+a*V,0,Y*V+a*J,c*V+z,c*J-a*g,0,Y*J-a*V,c*J+a*g,U*J*J+z,0,0,0,0,1),this},multiply:function(J){return this.multiplyMatrices(this,J)},premultiply:function(J){return this.multiplyMatrices(J,this)},multiplyMatrices:function(J,a){var J=J.el||J,a=a.el||a,z=this.el,U=J[0],g=J[4],V=J[8],Y=J[12],c=J[1],u=J[5],H=J[9],M=J[13],I=J[2],e=J[6],Q=J[10],v=J[14],Z=J[3],k=J[7],E=J[11],J=J[15],i=a[0],w=a[4],p=a[8],x=a[12],W=a[1],D=a[5],K=a[9],d=a[13],j=a[2],q=a[6],X=a[10],R=a[14],C=a[3],y=a[7],F=a[11],a=a[15];return z[0]=U*i+g*W+V*j+Y*C,z[4]=U*w+g*D+V*q+Y*y,z[8]=U*p+g*K+V*X+Y*F,z[12]=U*x+g*d+V*R+Y*a,z[1]=c*i+u*W+H*j+M*C,z[5]=c*w+u*D+H*q+M*y,z[9]=c*p+u*K+H*X+M*F,z[13]=c*x+u*d+H*R+M*a,z[2]=I*i+e*W+Q*j+v*C,z[6]=I*w+e*D+Q*q+v*y,z[10]=I*p+e*K+Q*X+v*F,z[14]=I*x+e*d+Q*R+v*a,z[3]=Z*i+k*W+E*j+J*C,z[7]=Z*w+k*D+E*q+J*y,z[11]=Z*p+k*K+E*X+J*F,z[15]=Z*x+k*d+E*R+J*a,this},lookAt:(b$=new qR,function(J,a,z){return b$.subVectors(J,a),this.lookAtDirection(b$,z)}),lookAtDirection:(O$=new qR,n$=new qR,L$=new qR,function(J,a){a=a||qR.UP;var z=this.el;return L$.copy(J),0===L$.lengthSq()&&(L$.z=1),L$.normalize(),O$.crossVectors(a,L$),0===O$.lengthSq()&&(1===Math.abs(a.z)?L$.x+=1e-4:L$.z+=1e-4,L$.normalize(),O$.crossVectors(a,L$)),O$.normalize(),n$.crossVectors(L$,O$),z[0]=O$.x,z[4]=n$.x,z[8]=L$.x,z[1]=O$.y,z[5]=n$.y,z[9]=L$.y,z[2]=O$.z,z[6]=n$.z,z[10]=L$.z,this}),extractScale:function(J){F$===xR&&(F$=new qR),J===xR&&(J=new qR);var a=F$.setFromMatrixColumn(this,0).length(),z=F$.setFromMatrixColumn(this,1).length(),U=F$.setFromMatrixColumn(this,2).length();return J.set(a,z,U),J},extractRotation:function(J){y$===xR&&(y$=new qR),J===xR&&(J=new XR);var a=this.el,z=J.el,U=1/y$.setFromMatrixColumn(J,0).length(),g=1/y$.setFromMatrixColumn(J,1).length(),J=1/y$.setFromMatrixColumn(J,2).length();return a[0]=z[0]*U,a[1]=z[1]*U,a[2]=z[2]*U,a[4]=z[4]*g,a[5]=z[5]*g,a[6]=z[6]*g,a[8]=z[8]*J,a[9]=z[9]*J,a[10]=z[10]*J,this},multiplyScalar:function(J){var a=this.el;return a[0]*=J,a[4]*=J,a[8]*=J,a[12]*=J,a[1]*=J,a[5]*=J,a[9]*=J,a[13]*=J,a[2]*=J,a[6]*=J,a[10]*=J,a[14]*=J,a[3]*=J,a[7]*=J,a[11]*=J,a[15]*=J,this},getPosition:function(J){return(J=J===xR?new qR:J).setFromMatrixColumn(this,3)},setPosition:function(J){var a=this.el;return a[12]=J.x,a[13]=J.y,a[14]=J.z,this},copyPosition:function(J){var a=this.el,J=J.el;return a[12]=J[12],a[13]=J[13],a[14]=J[14],this},toArray:function(J,a){var z=this.el;return(J=J===xR?[]:J)[a=a===xR?0:a]=z[0],J[a+1]=z[1],J[a+2]=z[2],J[a+3]=z[3],J[a+4]=z[4],J[a+5]=z[5],J[a+6]=z[6],J[a+7]=z[7],J[a+8]=z[8],J[a+9]=z[9],J[a+10]=z[10],J[a+11]=z[11],J[a+12]=z[12],J[a+13]=z[13],J[a+14]=z[14],J[a+15]=z[15],J},determinant:function(){var J=this.el||this,a=J[0],z=J[4],U=J[8],g=J[12],V=J[1],Y=J[5],c=J[9],u=J[13],H=J[2],M=J[6],I=J[10],e=J[14];return J[3]*(+g*c*M-U*u*M-g*Y*I+z*u*I+U*Y*e-z*c*e)+J[7]*(+a*c*e-a*u*I+g*V*I-U*V*e+U*u*H-g*c*H)+J[11]*(+a*u*M-a*Y*e-g*V*M+z*V*e+g*Y*H-z*u*H)+J[15]*(-U*Y*H-a*c*M+a*Y*I+U*V*M-z*V*I+z*c*H)},copy:function(J){var a=this.el,J=J.el||J;return a[0]=J[0],a[1]=J[1],a[2]=J[2],a[3]=J[3],a[4]=J[4],a[5]=J[5],a[6]=J[6],a[7]=J[7],a[8]=J[8],a[9]=J[9],a[10]=J[10],a[11]=J[11],a[12]=J[12],a[13]=J[13],a[14]=J[14],a[15]=J[15],this},composeFromArray:function(J,a,z){var U,g,V,Y,c,u,H,M,I,a=a?(U=a[0],g=a[1],V=a[2],a[3]):(V=g=U=0,1);return z?(Y=z[0],c=z[1],u=z[2]):Y=c=u=1,J?(H=J[0],M=J[1],I=J[2]):H=M=I=0,this._composeImpl(U,g,V,a,Y,c,u,H,M,I)},compose:function(J,a,z){var U,g,V,Y,c,u,H,M,I,a=a?(U=a._x,g=a._y,V=a._z,a._w):(V=g=U=0,1);return z?(Y=z.x,c=z.y,u=z.z):Y=c=u=1,J?(H=J.x,M=J.y,I=J.z):H=M=I=0,this._composeImpl(U,g,V,a,Y,c,u,H,M,I)},_composeImpl:function(J,a,z,U,g,V,Y,c,u,H){var M=this.el,I=z+z,e=J*(Z=J+J),Q=J*(k=a+a),J=J*I,v=a*k,a=a*I,z=z*I,Z=U*Z,k=U*k,U=U*I;return M[0]=(1-(v+z))*g,M[1]=(Q+U)*g,M[2]=(J-k)*g,M[3]=0,M[4]=(Q-U)*V,M[5]=(1-(e+z))*V,M[6]=(a+Z)*V,M[7]=0,M[8]=(J+k)*Y,M[9]=(a-Z)*Y,M[10]=(1-(e+v))*Y,M[11]=0,M[12]=c,M[13]=u,M[14]=H,M[15]=1,this},decompose:(R$=new qR,C$=new XR,function(J,a,z){var U=this.el,g=R$.set(U[0],U[1],U[2]).length(),V=R$.set(U[4],U[5],U[6]).length(),Y=R$.set(U[8],U[9],U[10]).length(),J=(this.determinant()<0&&(g=-g),J.x=U[12],J.y=U[13],J.z=U[14],C$.copy(this),1/g),U=1/V,c=1/Y;return C$.el[0]*=J,C$.el[1]*=J,C$.el[2]*=J,C$.el[4]*=U,C$.el[5]*=U,C$.el[6]*=U,C$.el[8]*=c,C$.el[9]*=c,C$.el[10]*=c,a.setFromRotationMatrix(C$),z.x=g,z.y=V,z.z=Y,this}),equals:function(J){for(var a=this.el,z=J.el,U=0;U<16;U++)if(a[U]!==z[U])return!1;return!0},transpose:function(){var J=this.el,a=J[1];return J[1]=J[4],J[4]=a,a=J[2],J[2]=J[8],J[8]=a,a=J[6],J[6]=J[9],J[9]=a,a=J[3],J[3]=J[12],J[12]=a,a=J[7],J[7]=J[13],J[13]=a,a=J[11],J[11]=J[14],J[14]=a,this}}),new XR),wm=new XR,pm=(XR.determinantOfArray=($$=m.Math.Matrix4.prototype.determinant,function(J){return J?$$.call(J):0}),XR.multiplyMatrixArray=function(J,a,z,U,g,V){var Y=J.el||J,a=a.el||a,z=z.el||z,c=a[g+0],u=a[g+4],H=a[g+8],M=a[g+12],I=a[g+1],e=a[g+5],Q=a[g+9],v=a[g+13],Z=a[g+2],k=a[g+6],E=a[g+10],i=a[g+14],w=a[g+3],p=a[g+7],x=a[g+11],a=a[g+15],g=z[V+0],W=z[V+4],D=z[V+8],K=z[V+12],d=z[V+1],j=z[V+5],q=z[V+9],X=z[V+13],R=z[V+2],C=z[V+6],y=z[V+10],F=z[V+14],O=z[V+3],n=z[V+7],L=z[V+11],z=z[V+15];return Y[U+0]=c*g+u*d+H*R+M*O,Y[U+4]=c*W+u*j+H*C+M*n,Y[U+8]=c*D+u*q+H*y+M*L,Y[U+12]=c*K+u*X+H*F+M*z,Y[U+1]=I*g+e*d+Q*R+v*O,Y[U+5]=I*W+e*j+Q*C+v*n,Y[U+9]=I*D+e*q+Q*y+v*L,Y[U+13]=I*K+e*X+Q*F+v*z,Y[U+2]=Z*g+k*d+E*R+i*O,Y[U+6]=Z*W+k*j+E*C+i*n,Y[U+10]=Z*D+k*q+E*y+i*L,Y[U+14]=Z*K+k*X+E*F+i*z,Y[U+3]=w*g+p*d+x*R+a*O,Y[U+7]=w*W+p*j+x*C+a*n,Y[U+11]=w*D+p*q+x*y+a*L,Y[U+15]=w*K+p*X+x*F+a*z,J},m.Math.Triangle=function(J,a,z){this.a=J!==xR?J:new qR,this.b=a!==xR?a:new qR,this.c=z!==xR?z:new qR}),xm=(pR.assign(pm,{barycoordFromPoint:(T$=new qR,f$=new qR,N$=new qR,function(J,a,z,U,g){T$.subVectors(U,a),f$.subVectors(z,a),N$.subVectors(J,a);var U=T$.dot(T$),z=T$.dot(f$),J=T$.dot(N$),a=f$.dot(f$),V=f$.dot(N$),Y=U*a-z*z,g=g||new qR;return 0==Y?g.set(-2,-1,-1):g.set(1-(a=(a*J-z*V)*(Y=1/Y))-(U=(U*V-z*J)*Y),U,a)}),uvIntersection:(l$=new qR,function(J,a,z,U,g,V,Y){return pm.barycoordFromPoint(J,a,z,U,l$),g.multiplyScalar(l$.x),V.multiplyScalar(l$.y),Y.multiplyScalar(l$.z),g.add(V).add(Y),g.clone()})}),m.Math.Euler=function(J,a,z,U,g){this.set(J,a,z,U,g)}),Wm=(xm.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],xm.DefaultOrder="XYZ",xm.ReverseOrder=(A$={xyz:"ZYX",xzy:"YZX",yxz:"ZXY",yzx:"XZY",zxy:"YXZ",zyx:"XYZ"},function(J){return A$[J]}),pR.defineProperties(xm.prototype,{x:{get:function(){return this._x},set:function(J){this._x=J,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(J){this._y=J,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(J){this._z=J,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(J){this._order=J,this.onChangeCallback()}}}),pR.assign(xm.prototype,{set:function(J,a,z,U,g){return jR(J)&&(g=z,U=a,z=J[2],a=J[1],J=J[0]),U?g&&(U=xm.ReverseOrder(U)):U=this._order||"ZYX",this._x=J||0,this._y=a||0,this._z=z||0,this._order=U,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(J){return this._x=J._x,this._y=J._y,this._z=J._z,this._order=J._order,this.onChangeCallback(),this},setFromRotationMatrix:function(J,a,z){var U=m.Math.clamp,g=(J=J.el||J)[0],V=J[4],Y=J[8],c=J[1],u=J[5],H=J[9],M=J[2],I=J[6],J=J[10];return"XYZ"===(a=a||this._order)?(this._y=Math.asin(U(Y,-1,1)),Math.abs(Y)<.9999999?(this._x=Math.atan2(-H,J),this._z=Math.atan2(-V,g)):(this._x=Math.atan2(I,u),this._z=0)):"YXZ"===a?(this._x=Math.asin(-U(H,-1,1)),Math.abs(H)<.9999999?(this._y=Math.atan2(Y,J),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-M,g),this._z=0)):"ZXY"===a?(this._x=Math.asin(U(I,-1,1)),Math.abs(I)<.9999999?(this._y=Math.atan2(-M,J),this._z=Math.atan2(-V,u)):(this._y=0,this._z=Math.atan2(c,g))):"ZYX"===a?(this._y=Math.asin(-U(M,-1,1)),Math.abs(M)<.9999999?(this._x=Math.atan2(I,J),this._z=Math.atan2(c,g)):(this._x=0,this._z=Math.atan2(-V,u))):"YZX"===a?(this._z=Math.asin(U(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-H,u),this._y=Math.atan2(-M,g)):(this._x=0,this._y=Math.atan2(Y,J))):"XZY"===a?(this._z=Math.asin(-U(V,-1,1)),Math.abs(V)<.9999999?(this._x=Math.atan2(I,u),this._y=Math.atan2(Y,g)):(this._x=Math.atan2(-H,J),this._y=0)):console.warn("unsupported order: "+a),this._order=a,!1!==z&&this.onChangeCallback(),this},setFromQuaternion:(t$=new XR,function(J,a,z){return t$.makeRotationFromQuaternion(J),this.setFromRotationMatrix(t$,a,z)}),setFromVector3:function(J,a){return this.set(J.x,J.y,J.z,a||this._order)},reorder:(B$=new Im,function(J){return B$.setFromEuler(this),this.setFromQuaternion(B$,J)}),equals:function(J){return J._x===this._x&&J._y===this._y&&J._z===this._z&&J._order===this._order},fromArray:function(J){return this._x=J[0],this._y=J[1],this._z=J[2],J[3]!==xR&&(this._order=J[3]),this.onChangeCallback(),this},toArray:function(J,a){return(J=J===xR?[]:J)[a=a===xR?0:a]=this._x,J[a+1]=this._y,J[a+2]=this._z,J[a+3]=this._order,J},toVector3:function(J){return J?J.set(this._x,this._y,this._z):new qR(this._x,this._y,this._z)},simpleXYZRotation:function(J,a){return J.x=a.x+t.angleMod(J.x-a.x),J.y=a.y+t.angleMod(J.y-a.y),J.z=a.z+t.angleMod(J.z-a.z),J},nearestRotation:(o$=new qR,s$=new qR,m$=new qR,_$=new qR,h$={X:"x",Y:"y",Z:"z"},function(J){jR(J)&&(J=_$.copy(J));var a,z=this.order;return this.simpleXYZRotation(this,J),a=h$[z[0]],m$[a]=y+this[a],a=h$[z[1]],m$[a]=y-this[a],a=h$[z[2]],m$[a]=y+this[a],this.simpleXYZRotation(m$,J),o$.subVectors(this,J),s$.subVectors(m$,J),o$.lengthSq()>s$.lengthSq()&&(this.x=m$.x,this.y=m$.y,this.z=m$.z),this}),onChange:function(J){return this.onChangeCallback=J,this},onChangeCallback:function(){}}),t.eulerArrayToQuaternionArray=(r$=new Im,G$=new xm,function(J,a){return r$.setFromEuler(G$.fromArray(J)).toArray(a)}),m.Math.Interpolant=function(J,a,z,U){this.parameterPositions=J,this._cachedIndex=0,J=a.length/J.length,z&&(J/=z),this.resultBuffer=U!==xR?U:new a.constructor(J),this.sampleValues=a,this.valueSize=J,this.settings=null,this.DefaultSettings_={}}),Dm=(pR.assign(Wm.prototype,{evaluate:function(J){var a,z=this.parameterPositions,U=this._cachedIndex,g=z[U],V=z[U-1];J:{a:{z:{U:if(!(J<g)){for(var Y=U+2;;){if(g===xR){if(J<V)break U;return U=z.length,this._cachedIndex=U,this.copySampleValue_(U-1,J,V)}if(U===Y)break;if(V=g,J<(g=z[++U]))break a}a=z.length;break z}if(V<=J)break J;var c=z[1];for(J<c&&(U=2,V=c),Y=U-2;;){if(V===xR)return this._cachedIndex=0,this.copySampleValue_(0,J,g);if(U===Y)break;if(g=V,(V=z[--U-1])<=J)break a}a=U,U=0}for(;U<a;){var u=U+a>>>1;J<z[u]?a=u:U=1+u}if(g=z[U],(V=z[U-1])===xR)return this._cachedIndex=0,this.copySampleValue_(0,J,g);if(g===xR)return U=z.length,this._cachedIndex=U,this.copySampleValue_(U-1,V,J)}this._cachedIndex=U,this.intervalChanged_(U,V,g)}return this.interpolateImpl(U,V,J,g)},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(J){for(var a=this.resultBuffer,z=this.sampleValues,U=this.valueSize,g=J*U,V=0;V!==U;++V)a[V]=z[g+V];return a},interpolateImpl:function(){},intervalChanged_:function(){}}),(gM.prototype=pR.create(Wm.prototype)).interpolateImpl=function(J){return this.copySampleValue_(J-1)},(VM.prototype=pR.create(Wm.prototype)).interpolateImpl=function(J,a,z,U){for(var g=this.resultBuffer,V=this.sampleValues,Y=this.valueSize,c=J*Y,u=c-Y,H=(z-a)/(U-a),M=1-H,I=0;I!==Y;++I)g[I]=V[u+I]*M+V[c+I]*H;return g},(YM.prototype=pR.create(Wm.prototype)).interpolateImpl=function(J,a,z,U){for(var g=this.resultBuffer,V=this.sampleValues,Y=this.valueSize,c=(z-a)/(U-a),u=J*Y,H=u+Y;u!==H;u+=4)Im.slerpFlat(g,0,V,u-Y,V,u,c);return g},(cM.prototype=pR.create(Wm.prototype)).intervalChanged_=function(J,a,z){var U=this.parameterPositions,g=J-2,V=J+1,Y=U[g],c=U[V];if(Y===xR)switch(this.getSettings_().endingStart){case"ZeroSlope":g=J,Y=2*a-z;break;case"WrapAround":Y=a+U[g=U.length-2]-U[g+1];break;default:g=J,Y=z}if(c===xR)switch(this.getSettings_().endingEnd){case"ZeroSlope":V=J,c=2*z-a;break;case"WrapAround":c=z+U[V=1]-U[0];break;default:V=J-1,c=a}var u=.5*(z-a),H=this.valueSize;this._weightPrev=u/(a-Y),this._weightNext=u/(c-z),this._offsetPrev=g*H,this._offsetNext=V*H},cM.prototype.interpolateImpl=function(J,a,z,U){for(var g=this.resultBuffer,V=this.sampleValues,Y=this.valueSize,c=J*Y,u=c-Y,H=this._offsetPrev,M=this._offsetNext,J=this._weightPrev,I=this._weightNext,e=-J*(a=(U=(z=(z-a)/(U-a))*z)*z)+2*J*U-J*z,Q=(1+J)*a+(-1.5-2*J)*U+(-.5+J)*z+1,v=(-1-I)*a+(1.5+I)*U+.5*z,Z=I*a-I*U,k=0;k!==Y;++k)g[k]=e*V[H+k]+Q*V[u+k]+v*V[c+k]+Z*V[M+k];return g},(uM.prototype=pR.create(Wm.prototype)).copySampleValue_=function(J){for(var a=this.resultBuffer,z=this.sampleValues,U=this.valueSize,g=J*U*3+U,V=0;V!==U;V++)a[V]=z[g+V];return a},uM.prototype.interpolateImpl=(Jh=new Im,function(J,a,z,U){for(var g=this.resultBuffer,V=this.sampleValues,Y=this.valueSize,c=2*Y,u=3*Y,H=U-a,M=J*u,I=M-u,e=-2*(a=(z=(U=(z-a)/H)*U)*U)+3*z,Q=a-z,v=1-e,Z=Q-z+U,k=0;k!==Y;k++){var E=V[I+k+Y],i=V[I+k+c]*H,w=V[M+k+Y],p=V[M+k]*H;g[k]=v*E+Z*i+e*w+Q*p}return this.isQuaternion&&Jh.fromArray(g).normalize().toArray(g),g}),m.Math.BitArray=function(J){J instanceof Dm?this.fromString(J.toString()):"string"==typeof J?this.fromString(J):(this.size=J=J||0,this.data=new Uint32Array(Math.ceil(J/32)))}),Km=(pR.assign(Dm.prototype,{set:function(J,a,z){var U=J>>5,J=31&J;z&&1<z?(z=8==z?255:4===z?15:3,a?a&=z:a=0,this.data[U]=this.data[U]&~(z<<J)|a<<J):a?this.data[U]|=1<<J:this.data[U]&=~(1<<J)},get:function(J,a){var z=J>>5,J=31&J;return a&&1<a?this.data[z]>>J&(8==a?255:4===a?15:3):0!=(this.data[z]&1<<J)},toString:(ah=["","0","00","000","0000","00000","000000","0000000","00000000"],function(){for(var J,a="",z=0,U=this.data.length;z<U;z++)J=this.data[z].toString(16),a+=ah[8-J.length]+J;return a}),fromString:function(J){var a=J.length/8;this.size=32*a,this.data=new Uint32Array(a);for(var z=0;z<a;z++)this.data[z]=lR(J.substr(8*z,8),16);return this}}),{ms_ac:function(J,a){for(var z=a.ms_ac,U=0;U<z.length;U++)!function(J,z){var U="_"+z;J[eL(z)]=function(){return this[U]},J[QL(z)]=function(J){var a=this[U];this[U]=J,this.fp(z,a,J)}}(J,z[U])},ms_listener:function(J,a){J.addListeners=function(){var a=this,J=kH;DR.mockTouch&&(J=QH.concat(vH).concat(ZH));for(var z=0,U=(a.__events__=J).length;z<U;z++){var g=J[z];"wheel"===g&&!a.handle_wheel&&a.handle_mousewheel&&(a.handle_wheel=function(J){XL(a,J)}),a["handle_"+g]&&function(a,J,z){function U(J){"mousedown"!==a&&"mouseup"!==a&&"touchstart"!==a&&"touchend"!==a||Zu(J),z.disabled||z["handle_"+a](J)}var g="__"+a;z[g]||(z[g]=U,vR(J,a,U))}(g,a.getView(),a)}},J.removeListeners=function(){var J=this.__events__;if(J){this.__events__=xR;for(var a,z,U,g,V=0,Y=J.length;V<Y;V++)this["handle_"+J[V]]&&(a=J[V],z=this.getView(),0,(g=this[U="__"+a])&&(ZR(z,a,g),delete this[U]))}}},ms_fire:function(J,a){J.mp=function(J,a,z){this.addPropertyChangeListener(J,a,z)},J.ump=function(J,a){this.removePropertyChangeListener(J,a)},J.fp=function(J,a,z,U,g){return this.firePropertyChange(J,a,z,U,g)},J.addPropertyChangeListener=function(J,a,z){this._62I||(this._62I=new sD),this._62I.add(J,a,z)},J.removePropertyChangeListener=function(J,a){this._62I&&this._62I.remove(J,a)},J.firePropertyChange=function(J,a,z,U,g){if(U){if(U(a,z))return!1}else if(a===z)return!1;return(U=g||{}).property=J,U.oldValue=a,U.newValue=z,U.source=this,(U.data=this)._62I&&this._62I.fire(U),this.onPropertyChanged&&this.onPropertyChanged(U),!0}},ms_attr:function(J,a){J.a=function(J,a){if(2===arguments.length)this.setAttr(J,a);else{if(!kL(J))return this.getAttr(J);for(var z in J)this.setAttr(z,J[z])}return this},J.getAttr=function(J,a){if(a===xR&&(a=1),this._attrObject&&J in this._attrObject)return this._attrObject[J];if(this.getCurrentDrawingImage){var z=this.getCurrentDrawingImage();if(dR(z)&&(z=RH[z]),kL(z)&&"dataBindings"in z)for(var U=z.dataBindings,g=U.length-1;0<=g;g--){var V=U[g];if(V.attr===J){if("defaultValue"in V)return V.defaultValue;break}}}return a?k[J]:xR},J.setAttr=function(J,a){this._attrObject||(this._attrObject={});var z=this._attrObject[J];a===xR?delete this._attrObject[J]:this._attrObject[J]=a,this.fp&&this.fp("a:"+J,z,a)&&this.onAttrChanged&&this.onAttrChanged(J,z,a)},J.getSerializableAttrs=function(){var J,a={};for(J in this._attrObject)a[J]=1;return a}},ms_bnb:function(J,a){J.getBodyColor=function(J){return J.s("body.color")},J.getBorderColor=function(J){return J.s("border.color")}},_51o:function(J,a){J.mi=function(J,a,z){this.addInteractorListener(J,a,z)},J.umi=function(J,a){this.removeInteractorListener(J,a)},J.fi=function(J){this.fireInteractorEvent(J)},J.addInteractorListener=function(J,a,z){this._63I||(this._63I=new sD),this._63I.add(J,a,z)},J.removeInteractorListener=function(J,a){this._63I&&this._63I.remove(J,a)},J.fireInteractorEvent=function(J){this._63I&&this._63I.fire(J)},J.setInteractors=function(J){var a=this._interactors;a&&a.each(function(J){J.tearDown()}),jR(J)&&(J=new h(J)),(this._interactors=J)&&J.each(function(J){J.setUp()}),this.fp("interactors",a,J),this.invalidateSelection()},J.getInteractors=function(){return this._interactors}},_49o:function(J,a){J._44O=WR,J._45O=WR,J.getTopPainters=function(){return this._44O},J.getBottomPainters=function(){return this._45O},J.addTopPainter=function(J){this._44O||(this._44O=new h),this._44O.contains(J)||(this._44O.add(J),this.redraw&&this.redraw())},J.removeTopPainter=function(J){this._44O&&(this._44O.remove(J),this.redraw&&this.redraw())},J.addBottomPainter=function(J){this._45O||(this._45O=new h),this._45O.contains(J)||(this._45O.add(J),this.redraw&&this.redraw())},J.removeBottomPainter=function(J){this._45O&&(this._45O.remove(J),this.redraw&&this.redraw())},J._93db=function(a,z){var U=this;U._45O&&U._45O.each(function(J){J.draw?J.draw(a,z):J.call(U,a,z)})},J._92db=function(a,z){var U=this;U._44O&&U._44O.each(function(J){J.draw?J.draw(a,z):J.call(U,a,z)})}},ms_sm:function(J,a){J.sm=function(){return this.getSelectionModel()},J.setSelectableFunc=function(J){this.sm().setFilterFunc(J)},J.getSelectableFunc=function(){return this.sm().getFilterFunc()},J.getSelectionModel=function(){return this._selectionModel||this.dm().sm()},J.isSelectionModelShared=function(){return!this._selectionModel},J.setSelectionModelShared=function(J){var a=this,z=a.sm(),U=!a._selectionModel,g=a.handleSelectionChange,V=a.dm();U!==J&&(a.invalidateSelection&&a.invalidateSelection(),J?(V.sm().ms(g,a),a._selectionModel.ums(g,a),a._selectionModel.dispose(),a._selectionModel=WR):(V.sm().ums(g,a),a._selectionModel=new BD(V),a._selectionModel.ms(g,a)),a.onSelectionModelSharedChanged(),a.fp("selectionModelShared",U,J),a.fireViewEvent({kind:"selectionModelSharedChange",oldValue:U,newValue:J,oldSelectionModel:z,newSelectionModel:a.sm()}))},J.onSelectionModelSharedChanged=function(){this.redraw(),this.invalidateSelection&&this.invalidateSelection()},J.removeSelection=function(){var J=this.dm();J.beginTransaction(),this.sm().toSelection().each(J.remove,J),J.endTransaction()},J.selectAll=function(){var a=this;a.sm().ss(a.dm().toDatas(function(J){return a.isVisible(J)&&a.isSelectable(J)}))},J.isSelected=function(J){return this.sm().co(J)},J.isSelectedById=function(J){return!!(J=this.dm().getDataById(J))&&this.isSelected(J)},J.isSelectable=function(J){return this.sm().isSelectable(J)}},ms_tx:function(J,a){J._64I=0,J._65O=0,J.isScrollable=function(){return this.getWidth()<this._64I},J._40o=function(){return this.isScrollable()},J.getLogicalPoint=function(J){return Ru(J,this._canvas||this._view,this.tx(),this.ty?this.ty():0)},J.tx=function(J){if(J===xR)return this.getTranslateX();this.setTranslateX(J)},J.getTranslateX=function(){return this._65O},J.setTranslateX=function(J){var a=this.getWidth()-this._64I,a=(J=kR(J=0<(J=J<a?a:J)?0:J),this._65O);this._65O=J,this.fp(Xq,a,J)}},ms_ty:function(J,a){J._23Q=0,J._66O=0,J._41o=function(){return this.getHeight()<this._23Q},J.getLogicalPoint=function(J){return Ru(J,this._canvas||this._view,this.tx?this.tx():0,this.ty())},J.ty=function(J){if(J===xR)return this.getTranslateY();this.setTranslateY(J)},J.getTranslateY=function(){return this._66O},J.setTranslateY=function(J){var a=this.getHeight()-this._23Q,a=(J=kR(J=0<(J=J<a?a:J)?0:J),this._66O);this._66O=J,this.fp(Rq,a,J)}},ms_txy:function(J,a){J._65O=0,J._66O=0,J.tx=function(J){if(J===xR)return this.getTranslateX();this.setTranslateX(J)},J.ty=function(J){if(J===xR)return this.getTranslateY();this.setTranslateY(J)},J.onTranslateEnded=function(){},J.setTranslate=function(a,z,J){var U,g,V=this;(J=jL(J))?(V._65I&&V._65I.stop(!0),U=V.tx(),g=V.ty(),J.action=function(J){V.setTranslate(U+(a-U)*J,g+(z-g)*J)},J._37o=function(){delete V._66I,delete V._65I,V.onTranslateEnded()},V._66I=1,V._65I=Yu(J)):(V.tx(a),V.ty(z))},J.getTranslateX=function(){return this._65O},J.setTranslateX=function(J){J=this.adjustTranslateX(J);var a=this._65O;this._65O=J,this.fp(Xq,a,J)},J.getTranslateY=function(){return this._66O},J.setTranslateY=function(J){J=this.adjustTranslateY(J);var a=this._66O;this._66O=J,this.fp(Rq,a,J)},J.adjustTranslateX=function(J){return kR(J)},J.adjustTranslateY=function(J){return kR(J)},J.translate=function(J,a,z){this.setTranslate(this.tx()+J,this.ty()+a,z)},J.getLogicalPoint=function(J){return Ru(J,this._canvas||this._view,this.tx(),this.ty())}},ms_dm:function(J,a){J.dm=function(J){if(!J)return this.getDataModel();this.setDataModel(J)},J.getDataModel=function(){return this._dataModel}},ms_lp:function(J,a){J.lp=function(J){return this.getLogicalPoint(J)}},ms_v:function(J,a){J._disabled=!1,J.setDisabled=function(J,a){var z=this._disabled;z!==J&&(z&&(Fu(this._63O),delete this._63O),J&&(JQ(this._view,this._63O=MQ(a)),this.iv()),this._disabled=J,this.fp("disabled",z,J))},J.isDisabled=function(){return this._disabled},J.getDisabledDiv=function(){return this._63O},J.getView=function(){return this._view},J.addToDOM=function(J){var a=this,z=a.getView(),U=z.style;(J=J||Q.body).appendChild(z),U.left="0",U.right="0",U.top="0",U.bottom="0",vR(n,"resize",function(){a.iv()}),a.iv()},J.setCursor=function(J){"default"===J&&(J=this._defaultCursor||J);var a=this.getView().style;a.cursor=J,a.cursor="-webkit-"+J,a.cursor="-moz-"+J},J.getWidth=function(){return this._view.clientWidth},J.getHeight=function(){return this._view.clientHeight},J.setWidth=function(J){this._view.style.width=J+ke,this.iv(),this.fp&&this.fp(qe,WR,J)},J.setHeight=function(J){this._view.style.height=J+ke,this.iv(),this.fp&&this.fp(Xe,WR,J)},J.setFocus=function(J){var a=this._currentEditor;return!(J&&a&&(a=a.getView?a.getView():a).contains(J.target)||(wQ(this._view),this.endEditing&&this.endEditing(),this.fireViewEvent("focus"),0))},J.iv=function(J){this.invalidate(J)},J.invalidate=function(J){this._68I||(this._68I=1,this._ivTimerId=au(this._validateImpl,this,WR,J),this._ivTimerDelay=J,this.onInvalidated&&this.onInvalidated(),this.fireViewEvent("invalidate"))},J.validate=function(){var J=this._ivTimerId,a=this._ivTimerDelay;!1!==this._validateImpl()&&J&&zu(J,a)},J._validateImpl=function(){var J,a=this,z=a._view;if(!a._68I)return!1;delete a._68I,z.parentNode&&(0===z.offsetWidth&&0===z.offsetHeight&&a._67I!==WR?(a._67I===xR&&(a._67I=DR.reinvalidateCount),0<a._67I?a._67I--:a._67I=WR,a.iv()):(a.fireViewEvent("beginValidate"),a.validateImpl(),a.onValidated&&a.onValidated(),a.fireViewEvent("validate"),(J=a._63O)&&(z.lastChild!==J&&(Fu(J),JQ(z,J)),R(J,0,0,a.getWidth(),a.getHeight())),UL(a),QD(a),u9(a),Tw(a)))},J.layout=function(J,a,z,U){1===arguments.length?R(this,J):R(this,J,a,z,U)},J.addViewListener=function(J,a,z){this._67O||(this._67O=new sD),this._67O.add(J,a,z)},J.removeViewListener=function(J,a){this._67O.remove(J,a)},J.fireViewEvent=function(J){this._67O&&(dR(J)&&(J={kind:J}),this._67O.fire(J)),DR.viewListener&&DR.viewListener(this,J)}},ms_tip:function(J,a){J.setToolTipEnabled=function(J){J?GR||this._13o||(this.enableToolTip(),this.fp("toolTipEnabled",!1,!0)):this._13o&&(this.disableToolTip(),this.fp("toolTipEnabled",!0,!1))},J.isToolTipEnabled=function(){return!!this._13o},J.enableToolTip=function(){var J,z=this;GR||z._13o||(z._13o=function(J){var a;J.toolTipView||((a=(J.toolTipView=z).getToolTip(J))!=WR?(DR.toolTipContinual&&DR.isToolTipShowing()?ym(J,a):(Fm(),wH={timeout:AR(DH,qm),e:J,info:a}),pH={e:J,view:z}):Fm())},J=z.getView(),vR(J,UH,z._13o),vR(J,"mouseleave",DR.hideToolTip))},J.disableToolTip=function(){var J;this._13o&&(J=this.getView(),ZR(J,UH,this._13o),ZR(J,"mouseleave",DR.hideToolTip),delete this._13o)},J.getToolTip=function(J){return this.getDataAt?(J=this.getDataAt(J))?J.getToolTip():WR:this.getValue?this.getValue():void 0}},_52o:function(J,a){J._zoom=1,J._29I=rH,J.zoomIn=function(J,a){this.setZoom(this._zoom*Am,J,a)},J.zoomOut=function(J,a){this.setZoom(this._zoom/Am,J,a)},J.zoomReset=function(J,a){this.setZoom(1,J,a)},J.scrollZoomIn=function(J){this.setZoom(this._zoom*om,WR,J)},J.scrollZoomOut=function(J){this.setZoom(this._zoom/om,WR,J)},J.pinchZoomIn=function(J){this.setZoom(this._zoom*sm,WR,J)},J.pinchZoomOut=function(J){this.setZoom(this._zoom/sm,WR,J)},J.adjustZoom=function(J){return J<_m?_m:mm<J?mm:J},J.getZoom=function(){return this._zoom},J.setZoom=function(a,J,z){var U,g=this;(J=jL(J))?(g._14o&&g._14o.stop(!0),U=g._zoom,J.action=function(J){g._96O(U+(a-U)*J,z)},J._37o=function(){delete g._zooming,delete g._14o,g.onZoomEnded()},g._zooming=1,g._14o=Yu(J)):g._96O(a,z)},J._96O=function(J,a){var z,U;(J=this.adjustZoom(J))!==this._zoom&&(this.validate(),z=this._29I,U=this._zoom,0!==z.width&&0!==z.height&&(a=a||{x:z.x+z.width/2,y:z.y+z.height/2},this.tx((a.x-z.x)*U-a.x*J),this.ty((a.y-z.y)*U-a.y*J)),this._zoom=J,this.fp("zoom",U,J))}},ms_edge:function(J,a){J._2I=function(J){this._44I||(this._44I=new h),this._42I||(this._42I=new h),this._44I.add(J),this._42I.add(J),this._20I()},J._4I=function(J){this._44I||(this._44I=new h),this._43I||(this._43I=new h),this._44I.add(J),this._43I.add(J),this._20I()},J._16I=function(J){this._44I.remove(J),this._42I.remove(J),this._44I.isEmpty()&&delete this._44I,this._42I.isEmpty()&&delete this._42I,this._20I()},J._18I=function(J){this._44I.remove(J),this._43I.remove(J),this._44I.isEmpty()&&delete this._44I,this._43I.isEmpty()&&delete this._43I,this._20I()},J._20I=function(){var a,z=this;delete z._45I,!z._44I||z._44I.isEmpty()?delete z._70O:(z._44I.each(function(J){J.isLooped()&&!(a=a||{})[J._id]&&(z._45I||(z._45I=new h),z._45I.add(J),a[J._id]=J)}),a?(z._70O=new h,z._44I.each(function(J){a[J._id]?"A"!==a[J._id]&&(a[J._id]="A",z._70O.add(J)):z._70O.add(J)})):z._70O=z._44I)},J.hasAgentEdges=function(){return!!this._49I&&!this._49I.isEmpty()},J.getSourceAgentEdges=function(){return this._46I},J.getTargetAgentEdges=function(){return this._47I},J._1I=function(J){this._46I||(this._46I=new h),this._48I||(this._48I=new h),this._46I.add(J),this._48I.add(J),this._19I()},J._3I=function(J){this._47I||(this._47I=new h),this._48I||(this._48I=new h),this._47I.add(J),this._48I.add(J),this._19I()},J._15I=function(J){this._46I.remove(J),this._48I.remove(J),this._46I.isEmpty()&&delete this._46I,this._48I.isEmpty()&&delete this._48I,this._19I()},J._17I=function(J){this._47I.remove(J),this._48I.remove(J),this._47I.isEmpty()&&delete this._47I,this._48I.isEmpty()&&delete this._48I,this._19I()},J._19I=function(){var a,z=this,J=(delete z._49I,z._48I);J&&!J.isEmpty()&&(a={},J.each(function(J){a[J._id]?z._49I||(z._49I=new h):a[J._id]=J}),z._49I?J.each(function(J){a[J._id]&&(z._49I.add(J),delete a[J._id])}):z._49I=J)},J.getLoopedEdges=function(){return this._45I},J.getEdges=function(){return this._70O},J.getAgentEdges=function(){return this._49I},J.getSourceEdges=function(){return this._42I},J.getTargetEdges=function(){return this._43I},J._8I=function(){this._70O&&this._70O.each(function(J){J._7I()})}}}),dm=(qL(DR,{getVersion:function(){return"8.0.3"}},!0),function(J){return J.devicePixelRatio||(J.screen&&J.screen.logicalXDPI?J.screen.deviceXDPI/J.screen.logicalXDPI:1)}),jm=(qL(DR,{numberDigits:5,crossOrigin:"",baseZIndex:xR,isTouchable:GR,mockTouch:!_R,devicePixelRatio:dm(n),reinvalidateCount:3,hitMaxArea:3e3,imageCacheThreshold:20,autoMakeVisible:!0,autoHideScrollBar:!0,disabledOpacity:.4,disabledBackground:q.disabledBackground,forceHierarchicalSerialization:!0,extractBatchTranslation:!1,extractShapeTranslation:!1,extractPolylineTranslation:!1,extractVerticesTranslation:!1,ignoreHTMLZoom:!0,touchHitTolerance:5,mouseHitTolerance:3,envmapProbeMinWaitTime:300,envmapProbeMaxWaitTime:25e3,EnvmapTextureSize:1024,hoverDelay:600,clickDelay:200,toolTipDelay:800,toolTipContinual:!1,getDragger:function(){return KQ},lineCap:"butt",lineJoin:"round",imageGradient:"linear.northeast",dashPattern:[16,16],blockMinSize:1,textExtraWidth:4,encodeStringKey:null,doubleClickSpeed:500,doubleClickRange:1,doubleTouchRange:20,touchMoveThreshold:10,animDuration:200,animEasing:function(J){return J*J},labelColor:sW,labelSelectColor:mW,labelFont:"12px arial, sans-serif",widgetIndent:GR?30:20,widgetRowHeight:GR?30:20,widgetHeaderHeight:GR?32:22,widgetTitleHeight:GR?34:24,scrollBarColor:I,scrollBarSize:7,scrollBarTimeout:1e3,scrollBarMinLength:20,scrollBarInteractiveSize:GR?32:16,zoomIncrement:1.3,scrollZoomIncrement:1.05,pinchZoomIncrement:1.08,pinchZoomThreshold:1,zoomMax:20,zoomMin:.01,segmentResolution:12,shapeResolution:24,shapeSide:24,resourceLoaderEventTimeout:3e4,blockThroughContinuous:!1,globalFuncMap:{},intersectionLineRect:SL,intersectionLineLine:PL,isEnter:fQ,isEsc:NQ,isDelete:FQ,isSpace:TQ,isLeft:SQ,isUp:PQ,isRight:$Q,isDown:lQ,isTouchEvent:WQ,getTarget:function(J){return(WQ(J)?xQ(J):J).target},isString:dR,isNumber:vL,isBoolean:ZL,isArray:jR,isSelectAll:yQ,isFunction:EL,isObject:kL,getPropertyValue:$L,setPropertyValue:lL,addMethod:qL,createGradient:function(J,a,z,U,g,V,Y,c){return(0,WW[a])(J,z,U,g,V,Y,c)},appendToScreen:function(J){J=J.getView?J.getView():J,(Q.fullscreenElement||Q.mozFullScreenElement||Q.webkitFullscreenElement||Q.msFullscreenElement||Q.body).appendChild(J)},encodeString:function(J){return m.Math.encodeBase64(J,DR.encodeStringKey)},decodeString:function(J){return m.Math.decodeBase64(J,DR.encodeStringKey)},findView:function(J){function a(J,a){for(var z,U,g=-1,V=null,Y="2d"===a?jf.GraphView:B.Graph3dView,c=0,u=J.length;c<u;c++)J[c]instanceof Y&&g<(U=(z=J[c]).getWidth()*z.getHeight())&&(g=U,V=z);return V}var z=[];return DR.traverse(Q.body,function(J){J._ht&&z.push(J._ht)},null,"children"),"all"===J?z:"2d"===J?a(z,"2d"):"3d"===J?a(z,"3d"):a(z,"3d")||a(z,"2d")},toggleFullscreen:function(a){var z,U,g,V,Y,c,u,J,H,M,I=!!a.getView,e=I?a.getView():a;Q.fullscreenElement||Q.mozFullScreenElement||Q.webkitFullscreenElement||Q.msFullscreenElement?Q.exitFullscreen?Q.exitFullscreen():Q.msExitFullscreen?Q.msExitFullscreen():Q.mozCancelFullScreen?Q.mozCancelFullScreen():Q.webkitExitFullscreen&&Q.webkitExitFullscreen():(z=!0,M=a.isSelfViewEvent?(U=a.getX(),g=a.getY(),c=a.getWidth(),u=a.getHeight(),J=e.style.background,H=e.style.backgroundColor,J||H||(e.style.backgroundColor="white"),e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),setInterval(function(){var J;e!==(Q.fullscreenElement||Q.mozFullScreenElement||Q.webkitFullscreenElement||Q.msFullscreenElement)?(clearInterval(M),a.setX(U),a.setY(g),a.setWidth(c),a.setHeight(u),a._fullscreen=!1,e.style.oldBackgroundColor=H,a.iv()):(J=m.Default.getWindowInfo(),!z&&J.width===a.getWidth()&&J.height===a.getHeight()||(a.setX(J.left),a.setY(J.top),a.setWidth(J.width),a.setHeight(J.height),a._fullscreen=!0,a.iv(),z=!1))},500)):(V=e.style.left,Y=e.style.top,c=e.style.width,u=e.style.height,J=e.style.background,H=e.style.backgroundColor,J||H||(e.style.backgroundColor="white"),e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),setInterval(function(){var J;e!==(Q.fullscreenElement||Q.mozFullScreenElement||Q.webkitFullscreenElement||Q.msFullscreenElement)?(clearInterval(M),e.style.left=V,e.style.top=Y,e.style.width=c,e.style.height=u,e.style.oldBackgroundColor=H,I&&a.iv()):(J=m.Default.getWindowInfo(),I&&(z||J.width!==a.getWidth()||J.height!==a.getHeight())&&(R(a),z=!1))},500)))},appendTimeStamp:function(J){return J},setCompType:function(J,a){dR(a)&&a.substr(0,12)==eH&&(a=DR.parse(a)),EL(a)||kL(a)?LH[J]=a:vD(J)},getCompType:function(J){var a=LH[J];return a===xR&&$H.test(J)&&(vD(J),a=LH[J]),a},getCompTypeMap:function(){return LH},drawCompType:function(J,a,z,U,g,V){J(a,z,U,g,V)},numberListener:(Zh={46:1,8:1,9:1,27:1,13:1,109:1,110:1,189:1,190:1},function(J){var a=J.keyCode;Zh[a]||65===a&&DR.isCtrlDown(J)||86===a&&DR.isCtrlDown(J)||67===a&&DR.isCtrlDown(J)||88===a&&DR.isCtrlDown(J)||35<=a&&a<=40||(J.shiftKey||a<48||57<a)&&(a<96||105<a)&&J.preventDefault()}),ignoreKeyCodes:[122,123],preventDefault:function(J){var a=J.target.tagName;"DIV"!==a&&"CANVAS"!==a||0<=DR.ignoreKeyCodes.indexOf(J.keyCode)||!("keydown"!==J.type||SQ(J)||$Q(J)||PQ(J)||lQ(J)||FQ(J)||65===J.keyCode&&(J.metaKey||J.ctrlKey))||!0!==J.cancelable||(J.preventDefault(),J.preventManipulation&&J.preventManipulation())},getWindowInfo:function(){var J=Q.documentElement;return{target:J=J&&(J.scrollLeft||J.scrollTop)?J:Q.body,left:J.scrollLeft,top:J.scrollTop,width:n.innerWidth||J.clientWidth,height:n.innerHeight||J.clientHeight}},isDragging:function(){return!!KQ},isLeftButton:function(J){return!!WQ(J)||0===J.button},isMiddleButton:function(J){return!WQ(J)&&J&&(1===J.button||4&(J.buttons||0))},isRightButton:function(J){return!WQ(J)&&J&&(2===J.button||2&(J.buttons||0))},isInput:function(J){return!!J&&("INPUT"===(J=J.tagName)||"TEXTAREA"===J||"SELECT"===J)},getTouchCount:function(J){return WQ(J)?J.touches.length:1},isDoubleClick:(vh={},qH=new e,d=qH.getTime(),function(J){if(1<vu(J))return!1;var a=J.button==WR?"":J.button,z=(a=J.type+a)+"_isDoubleClick",U=(U=vh[a])||(vh[a]={details:0,timeout:null,lastPoint:null});return J[z]===xR&&(J[z]=!0,a=iu(J),U.timeout&&(oR(U.timeout),U.timeout=null),z=WQ(J)?DR.doubleTouchRange:DR.doubleClickRange,U.lastPoint&&pu(U.lastPoint,a)>z&&QM(U),U.lastPoint=a,U.details++,U.timeout=AR(function(){QM(this)}.bind(U),DR.doubleClickSpeed)),2===U.details}),isShiftDown:function(J){return J?J.shiftKey:nH[16]},isCtrlDown:function(J){return J?rR?J.metaKey:J.ctrlKey:rR?nH[91]:nH[17]},getClientPoint:function(J){return{x:(J=WQ(J)?xQ(J):J).clientX,y:J.clientY}},isMouseEvent:function(J){return J instanceof MouseEvent||0===J.type.indexOf("mouse")},getTargetElement:function(J){var a=wu(J),z=DR.isMouseEvent(J)||!Q.elementFromPoint?J.target:Q.elementFromPoint(a.x,a.y);if(_R&&Q.elementFromPoint){for(var U=[],g=[];"none"===z.style.pointerEvents;)U.push(z),g.push(z.style.display||""),z.style.display="none",z=Q.elementFromPoint(a.x,a.y);U.forEach(function(J,a){J.style.display=g[a]})}return z},getPagePoint:function(J){return{x:(J=WQ(J)?xQ(J):J).pageX,y:J.pageY}},createObject:function(J,a){var z,U=new J;for(z in a){var g,V=a[z];EL(V)?U[z]=V:0===z.indexOf("s:")?U.s(z.substr(2),a[z]):0===z.indexOf("a:")?U.a(z.substr(2),a[z]):(g=QL(z),V=a[z],U[g]?(U[g](V),"setToolTip"===g&&U.enableToolTip&&U.enableToolTip()):U[z]=V)}return U},setImage:function(J,a,z,U){var g=arguments.length;4===g?gL(J,U,a,z):2===g?dR(a)?a.substr(0,12)==eH?zL(J,DR.parse(a)):gL(J,a):zL(J,a):1===g&&gL(J,J)},getImage:function(J,a,z,U){var g,V;return EL(a)&&(U=a,a=null),J==WR?(U&&U(WR),WR):(kL(J)?g=J:(g=RH[J],!J||g!==xR||JL&&JL[J]||(_w(J,U),U=null,gL(J,J),g=RH[J])),a&&g&&g.tagName?(g[J="override"===z?"colors_override":"override_rgb"===z?"colors_override_rgb":"override_a"===z?"colors_override_a":"colors"]||(g[J]={__count__:0}),(V=g[J][a])||(g[J].__count__>DR.imageCacheThreshold&&(g[J]={__count__:0}),V=function(J,a,z,U,g){var V=BL(),Y=(V.width=z,V.height=U,V.getContext("2d"));Y.drawImage(J,0,0,z,U);try{for(var c=Y.getImageData(0,0,z,U),u=c.data,H=0,M=u.length;H<M;H+=4){var I=u[H+0],e=u[H+1],Q=u[H+2],v=u[H+3];"override_a"===g?u[H+3]=255*a[3]:"override_rgb"===g?(u[H+0]=255*a[0],u[H+1]=255*a[1],u[H+2]=255*a[2]):"override"===g?(u[H+0]=255*a[0],u[H+1]=255*a[1],u[H+2]=255*a[2],u[H+3]=255*a[3]):(u[H+0]=a[0]*I,u[H+1]=a[1]*e,u[H+2]=a[2]*Q,u[H+3]=a[3]*v)}Y.putImageData(c,0,0)}catch(a){return J}return V}(g,tQ(a),g.width,g.height,z),g[J][a]=V,g[J].__count__++),U&&U(V),V):(U&&U(g),g))},isImageComplete:function(J,a,z){var U=s(J);if(!U)return!1;if(U.tagName)return"CANVAS"===U.tagName||("VIDEO"===U.tagName?2<=U.readyState:U.complete);for(var g=U.comps,V=!0,Y=0,c=g.length;Y<c;Y++){var u,H=(u=g[Y]).type;if("image"===u.type){if((J=u.name)&&J.func&&(J=_(J,a)),!tm(J,a,z)){V=!1;break}}else if($H.test(H)&&DR.getCompType(H)===xR){vD(H),DR.getCompType(H)===xR&&(V=!1);break}}return V},getId:(Qh=1,function(){return++Qh}),callLater:function(J,a,z,U){function g(){J.apply(a,z)}return U?AR(g,U):n.requestAnimationFrame(g)},cancelLater:function(J,a){a?oR(J):n.cancelAnimationFrame(J)},clone:function(J){if(null==J||"object"!=typeof J)return J;if(J instanceof Date)return(a=new Date).setTime(J.getTime()),a;if(J instanceof Array){for(var a=[],z=0,U=J.length;z<U;z++)a[z]=gu(J[z]);return a}if(Nu)for(z=0,U=Nu.length;z<U;z++)if(J instanceof Nu[z])return new Nu[z](J);if(J instanceof h){for(a=new h,z=0,U=J.length;z<U;z++)a.set(z,gu(J.get(z)));return a}if(J instanceof _D)return J;if(J instanceof hD)return(a=new hD).deserialize(J.serialize()),a;if(J instanceof pR){var g,a={};for(g in J)J.hasOwnProperty(g)&&(a[g]=gu(J[g]));return a}return J},callWhenLoaded:function(J,a){var z=jH(J,a=a||100);(dH=dH||{})[z]={tick:z,cb:J,delay:a}},beforeLoadURL:function(J,a){if(dH){var z={};for(a in dH){var U=dH[a],g=(oR(U.tick),jH(U.cb,U.delay));z[g]={tick:g,delay:U.delay,cb:U.cb}}dH=z}return DR.convertURL?DR.convertURL(J,a):J},convertURL:function(J){return J},handleRefGraphLoaded:function(J,a,z){},handleCompTypeLoaded:function(J,a){},handleImageLoaded:function(J,a){},handleUnfoundImage:function(J,a){return DR.getImage("default_blank")},resizeImage:function(J,a,z,U){z=z||a;var g=(U=U||BL()).getContext("2d");return GL(U,a,z,1),g.drawImage(J,0,0,a,z),U},resizeImagePOT:function(J,a,z){if(!J||!J.tagName)return J;var U,g=J.width,V=J.height;return g&&V&&(!t.isPOT(g)||!t.isPOT(V)||a&&g!==V)?(a=a?U=t.nearestPOT(Math.min(g,V)):(U=t.nearestPOT(g),t.nearestPOT(V)),DR.resizeImage(J,U,a,z)):J},sortFunc:function(J,a){if(J===a)return 0;if(J==WR&&a!=WR)return 1;if(J!=WR&&a==WR)return-1;if(J==WR&&a==WR)return 0;var z,U=typeof J,g=typeof a;return U==mq&&g==mq?z=J.localeCompare(a):U==tq&&g==tq&&(z=J-a),0<(z=z===xR?(""+J).localeCompare(""+a):z)?1:z<0?-1:0},getClassMap:function(){return XH},getClass:function(J){if(dR(J)){if(!(z=XH[J])){for(var a=J.split("."),z=n,U=0;U<a.length;U++)z=z[a[U]];XH[J]=z}return z}return J},def:function(J,a,z){function U(){}var g,V,Y;if(U.prototype=a.prototype,g=new U,dR(J)){if(XH[J])throw"'"+J+"' already defined";Y=Vu(J),g.getClassName=function(){return J}}else Y=J;if(g.constructor=Y,g.getClass=function(){return Y},g.getSuperClass=function(){return a},z)for(V in z)Km[V]&&Km.hasOwnProperty(V)?Km[V](g,z):yW(g,z,V);Y.prototype=g,Y.superClass=a.prototype},startAnim:function(a){return(a=gu(a)).easing=a.easing||DR.animEasing,a.duration||a.frames||(a.duration=DR.animDuration),a.t=0,a.duration?a.interval=0:(a.frame=0,a.interval=a.interval||10),a.tick=function(){var J;a.duration?(J=(YL()-a.startTime)/a.duration,a.t=J=1<J?1:J,a.action(a.easing(J),J),a.isRunning()&&(1===J?a.stop():a._isPaused||(a.timeId=au(a.tick)))):(a.frame++,J=a.t=a.frame/a.frames,a.action(a.easing(J),J),a.isRunning()&&(a.frame<a.frames?a._isPaused||(a.timeId=au(a.tick,WR,WR,a.interval)):a.stop()))},a.resume=function(){a._isPaused&&(delete a._isPaused,a.duration?a.t<1&&(a.startTime=YL()-a.duration*a.t,a.timeId=au(a.tick)):a.frame<a.frames&&(a.timeId=au(a.tick,WR,WR,a.interval)))},a.pause=function(){zu(a.timeId,!a.duration),a._isPaused=!0},a.isPaused=function(){return this._isPaused},a.stop=function(J){a.isRunning()&&(zu(a.timeId,!a.duration),delete a.timeId,a.duration?a.t<1&&J&&(a.t=1,a.action(a.easing(1),1)):a.frame<a.frames&&J&&(a.frame=a.frames,a.action(a.easing(1),1)),a._37o&&a._37o(),a.finishFunc&&a.finishFunc())},a.isRunning=function(){return a.timeId!=WR},a.delay?au(eM,WR,[a],a.delay):eM(a),a},getTextSize:(Ih={},eh=Q?BL().getContext("2d"):WR,function(J,a){return eh.font=J||Sm,(J=Ih[eh.font])||(J=2*eh.measureText("e").width+4,Ih[eh.font]=J),{width:eh.measureText(a).width+DR.textExtraWidth,height:J}}),drawText:function(J,a,z,U,g,V,Y,c,u,H,M){var I,e;a!=WR&&(I=Mu(z,a),(e={}).y=H&&H!==Ie?H===ce?V+I.height/2:V+c-I.height/2:V+c/2,e.x=u&&u!==Ve?u===Ye?g+Y-I.width/2:g+Y/2:g+I.width/2,YQ(J,a,e,z,U),M&&UQ(J,a,z,U,e.x,e.y,I.width,M))},getDistance:function(J,a){var z=J.length;return a?3===z?wR(NR(J[0]-a[0])+NR(J[1]-a[1])+NR(J[2]-a[2])):2===z?wR(NR(J[0]-a[0])+NR(J[1]-a[1])):J.z===xR?wR(NR(a.x-J.x)+NR(a.y-J.y)):wR(NR(a.x-J.x)+NR(a.y-J.y)+NR(a.z-J.z)):3===z?wR(NR(J[0])+NR(J[1])+NR(J[2])):2===z?wR(NR(J[0])+NR(J[1])):void 0},brighter:function(J,a){return VW(J,(a=a<0?-a:a)||40)},darker:function(J,a){return VW(J,(a=0<a?-a:a)||-40)},traverse:(Mh={},function(J,a,z,U){var g,u;(g=(g=Mh[U=U||""])?g:Mh[U]=(u=U,function J(a,z,U,g){var V;if(U&&U(a,z),V=(V=""===u?a.getChildren():a[u])instanceof m.List?V.getArray():V)for(var Y=0,c=V.length;Y<c;Y++)J(V[Y],a,U,g);g&&g(a,z)}))(J,null,a,z)}),unionPoint:function(J,a){if(!J)return WR;if(2===arguments.length)return J&&a?{x:UR(J.x,a.x),y:UR(J.y,a.y),width:yR(J.x-a.x),height:yR(J.y-a.y)}:WR;var z=J;if((z=z._as||z).length===xR)return WR;var U=z.length;if(U<=0)return WR;for(var g=1,V={x:(Y=z[0]).x,y:Y.y,width:0,height:0};g<U;g++){var Y=z[g],c=UR(V.x,Y.x),u=zR(V.x+V.width,Y.x),H=UR(V.y,Y.y),M=zR(V.y+V.height,Y.y);V.x=c,V.y=H,V.width=u-c,V.height=M-H}return V},unionRect:function(J,a){return J&&!a?gu(J):!J&&a?gu(a):J&&a?((z={x:UR(J.x,a.x),y:UR(J.y,a.y)}).width=zR(J.x+J.width,a.x+a.width)-z.x,z.height=zR(J.y+J.height,a.y+a.height)-z.y,z):WR;var z},containsPoint:function(J,a,z,U){var g,V,Y,c;return U!=WR&&1!==U&&(g=J.x+J.width/2,V=J.y+J.height/2,J={x:g-J.width/2*U,y:V-J.height/2*U,width:J.width*U,height:J.height*U}),z?(g=J.width/2,V=J.height/2,U=eR(-z),z=KR(-z),Y=a.x-J.x-g,c=a.y-J.y-V,Du({x:-g,y:-V,width:J.width,height:J.height},a={x:z*Y-U*c,y:U*Y+z*c})):!(!J||a.x<J.x||a.y<J.y||a.x>J.x+J.width||a.y>J.y+J.height)},containsRect:function(J,a){if(!J||!a)return!1;var z=a.x,U=a.y,g=a.width,a=a.height,V=J.width,Y=J.height;if((V|Y|g|a)<0)return!1;var c=J.x,J=J.y;if(z<c||U<J)return!1;if(V+=c,(g+=z)<=z){if(c<=V||V<g)return!1}else if(c<=V&&V<g)return!1;if(Y+=J,(a+=U)<=U){if(J<=Y||Y<a)return!1}else if(J<=Y&&Y<a)return!1;return!0},intersectsRect:function(J,a){if(!J||!a)return!1;var z=a.width,U=a.height,g=J.width,V=J.height;if(g<=0||V<=0||z<=0||U<=0)return!1;var Y=a.x,a=a.y,c=J.x;return V+=J=J.y,z+=Y,U+=a,Y<(g+=c)&&a<V&&c<z&&J<U},intersection:function(J,a){if(!J||!a)return WR;var z=a.x,U=a.y,g=J.x,V=J.y,Y=z,c=U,u=g,H=V;return Y+=a.width,c+=a.height,(u+=J.width)<Y&&(Y=u),(H+=J.height)<c&&(c=H),c-=U=U<V?V:U,(Y-=z=z<g?g:z)<=0||c<=0?WR:{x:z,y:U,width:Y,height:c}},grow:function(J,a,z){z===xR&&(z=a),J.x-=a,J.y-=z,J.width=J.width+2*a,J.height=J.height+2*z},getScreenPoint:function(J,a,z,U,g,V,Y){var c=z.getBoundingClientRect(),J=J*(V||1)-z.scrollLeft+(U||0),V=a*(Y||1)-z.scrollTop+(g||0);return(U=CW(z,!1))?((a=new qR(J,V,0)).applyMatrix4(U),{x:a.x,y:a.y}):{x:J+c.left,y:V+c.top}},getLogicalPoint:function(J,a,z,U,g,V){var Y,c=a.getBoundingClientRect(),u=J.target?(Eu(J)?rR?nH[91]=!0:nH[17]=!0:rR?nH[91]=!1:nH[17]=!1,ku(J)?nH[16]=!0:nH[16]=!1,Y=(J=WQ(J)?xQ(J):J).clientX,J.clientY):(Y=J.x,J.y),H=CW(a,!0);if(H){var M=new qR(Y,u,0);M.applyMatrix4(H);do{if(Math.abs(M.z)<=1e-6)break;var I=new qR(Y,u,1);if(I.applyMatrix4(H),Math.abs(I.z)<=1e-6){M=I;break}}while(I.sub(M),!(Math.abs(I.z)<=1e-6)&&(M.addScaledVector(I,-M.z/I.z),0));return{x:(M.x+a.scrollLeft-(z||0))/(g||1),y:(M.y+a.scrollTop-(U||0))/(V||1)}}return{x:(Y-c.left+a.scrollLeft-(z||0))/(g||1),y:(u-c.top+a.scrollTop-(U||0))/(V||1)}},removeHTML:function(J){return!(!(J=J&&J.getView?J.getView():J)||!J.parentNode||(Hh!==J&&((Hh=J).parentNode.removeChild(J),Hh=WR),0))},getToolTipDiv:function(){var J;return EH||(EH=hL(),iH=hL(),J=EH.style,DR.baseZIndex!=WR&&(J.zIndex=lR(DR.baseZIndex)+3+""),J.whiteSpace="nowrap",J.color=DR.toolTipLabelColor,J.background=DR.toolTipBackground,J.font=DR.toolTipLabelFont,J.padding="5px",J.boxShadow="0px 0px 3px "+DR.toolTipShadowColor),EH},isToolTipShowing:function(){return!(!EH||!EH.parentNode)||!(!iH||!iH.parentNode)},updateToolTipContent:function(J,a){DR.isToolTipShowing()&&(a=a||pH&&pH.view,(J=J===xR&&a&&pH.e?a.getToolTip(pH.e):J)!=WR&&((J.html?(J=J.html,iH):EH).innerHTML=J))},hideToolTip:function(){var J;WH(),DR.isToolTipShowing()&&(Fu(EH),Fu(iH),(J=pH&&pH.view)&&J.onHideToolTip&&J.onHideToolTip(),pH=WR)},showToolTip:function(J,a,z){var U,g,V,Y,c,u;J&&a!=WR?(DR.getToolTipDiv(),a.html?(a=a.html,U=iH,Fu(EH)):(U=EH,Fu(iH)),g=U.style,U.innerHTML="",a instanceof HTMLElement?U.appendChild(a):U.innerHTML=a,U.parentNode||m.Default.appendToScreen(U),J.target?(J=wu(J),a=qu(),V=J.x,Y=J.y,c=GR?60:12,GR?(u=U.getBoundingClientRect(),g.left=V-u.width/2+ke,Y-u.height-c<a.top?g.top=Y+c+ke:g.top=Y-u.height-c+ke):(g.left=V+c+ke,g.top=Y+c+ke,(u=U.getBoundingClientRect()).left+u.width>a.width&&(g.left=V-c-u.width+ke),u.top+u.height>a.height&&(g.top=Y-c-u.height+ke),u.left<0&&(g.left=V+c+ke),u.top<0&&(g.top=Y+c+ke))):(g.left=J.x+ke,g.top=J.y+ke),WH(),z===xR?z=pH&&pH.view:pH={e:J,view:z},z&&z.onShowToolTip&&z.onShowToolTip()):Fm()},startDragging:function(J,a,z){z==xR&&(z=!0),J!==KQ&&(KQ?z&&(WQ(a)?KQ.handleWindowTouchEnd(a):KQ.handleWindowMouseUp(a)):WQ(a)?(vR(n,cH,dQ),vR(n,uH,jQ),vR(n,"blur",jQ)):(vR(n,UH,qQ),vR(n,gH,XQ),vR(n,"blur",XQ)),KQ=J)},getImageMap:function(){return RH},toBoundaries:function(J,a,z,U){var g=[];return UW(J,a,z,U).forEach(function(J){var a=[];J.forEach(function(J){a.push(J.x,J.y)}),g.push(a)}),g},getCurrentKeyCodeMap:function(){return nH},drawCenterImage:function(J,a,z,U,g,V,Y,c){!g&&V&&V.isSelfViewEvent&&(g=V);var u=dD(a,g,V),H=jD(a,g,V);qD(J,a,kR(z-u/2),kR(U-H/2),u,H,g,V,Y,c)},drawStretchImage:function(J,a,z,U,g,V,Y,c,u,H,M,I){!c&&u&&u.isSelfViewEvent&&(c=u);var e,Q=dD(a,c,u,V),v=jD(a,c,u,Y);"uniform"===z?(v*=e=UR(V/Q,Y/v),U+=kR((V-(Q*=e))/2),g+=kR((Y-v)/2),V=Q,Y=v):"centerUniform"===z?((V<Q||Y<v)&&(Q*=e=UR(V/Q,Y/v),v*=e),U+=kR((V-Q)/2),g+=kR((Y-v)/2),V=Q,Y=v):"cover"===z&&(v*=e=Q/V<v/Y?V/Q:Y/v,U+=kR((V-(Q*=e))/2),g+=kR((Y-v)/2),V=Q,Y=v),"center"===z?((e=!1!==M&&(V<Q||Y<v))&&(J.save(),J.beginPath(),J.rect(U,g,V,Y),J.clip()),qD(J,a,U+V/2-Q/2,g+Y/2-v/2,Q,v,c,u,H,I),e&&J.restore()):qD(J,a,U,g,V,Y,c,u,H,I)},toCanvas:function(J,a,z,U,g,V,Y,c,u){J=s(J,Y),a=a||dD(J,g),z=z||jD(J,g);var H=BL(),M=IQ(H);return c?(GL(H,a,z,c),M.scale(c,c)):GL(H,a,z,1),Gm(M,J,U,0,0,a,z,g,V,Y,u),J&&J.clampToEdge&&(H.clampToEdge=J.clampToEdge),M.restore(),H},toGrayColor:function(J){if(!J)return J;var J=Pu(J),a=kR(.299*J[0]+.587*J[1]+.114*J[2]);return"rgba("+a+","+a+","+a+","+J[3]/255+")"},createGradientImage:function(J,a,z,U){for(var g=["L",0,0,J,0,1,0,0,1,0,0],V=0,Y=Math.min(a.length,z.length);V<Y;V++)g.push(z[V],a[V]);return m.Default.toCanvas({width:J,height:J,clampToEdge:!0,comps:[{type:"shape",rotation:U||0,points:[0,0,J,0,J,J,0,J],background:"#ffffff",gradientPack:g}]})},createElement:function(J,a,z,U){return J=Q.createElement(J),tL(J,a||q.widgetBorder,2),J.style.font=z||Sm,U!=WR&&(J.value=U),DR.onElementCreated&&DR.onElementCreated(J),J},containedInView:function(J,a){return a=pQ(a).getBoundingClientRect(),Du({x:a.left,y:a.top,width:a.width,height:a.height},iu(J))},isIsolating:function(){return 0<KH},setIsolating:function(J){J?KH++:KH--},getMSMap:function(){return Km},stringify:function(J,z,a){var U=Date.prototype.toJSON,g=(Date.prototype.toJSON=function(){return"__ht__date"+this.getTime()},hD.prototype.toJSON),J=(hD.prototype.toJSON=function(){return"__ht__dataModel"+this.serialize(0)},z=a?0:z==WR?2:z,JSON.stringify(J,function(J,a){return"function"==typeof a?"__ht__"+(a.__ht__||a.toString()):vL(a)?a==WR||DR.numberDigits==WR?a:parseFloat(a.toFixed(DR.numberDigits)):m2(a)?null:a instanceof m.List?"__ht__list"+(a.__ht__list||DR.stringify(a._as)):ArrayBuffer.isView(a)?"__ht__typedArray"+a.constructor.name+":"+JSON.stringify(Array.from(a),z):a},z));return Date.prototype.toJSON=U,hD.prototype.toJSON=g,a?eH+function(J){for(var a=8+t.randomInt(8),z=zm[8*t.randomInt(8)+(a-8)],U="",g=0;g<a;g++)U+=zm[t.randomInt(64)];var V=eW(U+gR+"__"+Fq);return z+U+Um(J,V)}(J):J},parse:function(J,c){return dR(J)&&(J.substr(0,12)!=eH||(J=function(J){var a=J[0];if((a=zm.indexOf(a))<0)return"";var z=J.slice(1,1+(a=8+(7&a))),z=eW(z+gR+"__"+Fq);return gm(J,z,1+a)}(J.substr(12)),dR(J)))?(c=c||{},JSON.parse(J,function(J,a){if(dR(a)&&"__ht__"==a.substr(0,6))if(c.ignoreFunction||"function"!=a.substr(6,8)){if(!c.ignoreDate&&"date"==a.substr(6,4))return new Date(lR(a.substr(10)));if("list"===a.substr(6,4))return new h(DR.parse(a.substr(10)));if(!c.ignoreDataModel&&"dataModel"===a.substr(6,9))return(U=new hD).deserialize(DR.parse(a.substr(15))),U;if("typedArray"===a.substr(6,10))return U=a.indexOf(":"),z=a.substring(16,U),new n[z](JSON.parse(a.substr(U+1)));if("ref_function"===a.substr(6,12))return DR.globalFuncMap[a.substring(18)]}else{var z=a.indexOf("{")+1,U=a.lastIndexOf("}"),g=a.indexOf("(")+1,V=a.indexOf(")");if(z&&U&&g&&V)try{var Y=new Function(a.substring(g,V),a.substring(z,U));return Y.__ht__=a.substr(6),Y}catch(J){throw console.info("=== SyntaxError ===\n",a),J}}return a})):J},loadJS:function(J,a){a&&J.push(a);var z,a=J.shift();jR(a)?(J=a.contact(J),DR.loadJS(J)):EL(a)?(a(),DR.loadJS(J)):dR(a)?((z=Q.createElement("script")).onload=function(){DR.loadJS(J)},z.setAttribute("src",a),Q.getElementsByTagName("head")[0].appendChild(z)):J.length&&DR.loadJS(J)},extendClass:function(J,a){var z,U=J.prototype;for(z in a)Km[z]&&Km.hasOwnProperty(z)?Km[z](U,a):U[z]=a[z]},toRoundedCorner:(Vh=new qR,Yh=new qR,ch=new qR,uh=new qR,function(J,a){var z,U=0,g=(J.getPoints&&(U=J.getElevation(),J=J.getPoints()),(z=J instanceof h?J:new h(J)).size());if(a<=0)return{points:z};var V=new h,Y=new h,c=z.get(0);IM(Vh,c,U),V.add(c),Y.add(1);for(var u,H,M=1;M<g;M++)M+1<g?(u=z.get(M),H=z.get(M+1),IM(Yh,u,U),IM(ch,H,U),uh.subVectors(Vh,Yh).setLength(Math.min(.99*uh.length(),a)).add(Yh),u.e!==xR||c.e!==xR?V.add({x:uh.x,y:uh.z,e:uh.y}):V.add({x:uh.x,y:uh.z}),V.add(u),uh.subVectors(ch,Yh).setLength(Math.min(.99*uh.length(),a)).add(Yh),u.e!==xR||H.e!==xR?V.add(c={x:uh.x,y:uh.z,e:uh.y}):V.add(c={x:uh.x,y:uh.z}),Vh.copy(uh),Y.addAll([2,3])):(V.add(z.get(M)),Y.add(2));return{points:V,segments:Y}}),setCanvas:GL,createDiv:hL,createDisabledDiv:MQ,createView:_L,createCanvas:BL,appendChild:JQ,initContext:IQ,checkLoadingImage:UL,translateAndScale:eQ,layout:R,getPosition:OW,drawPoints:zW,drawRoundRect:vW,drawBorder:ZW,setFocus:wQ,getter:eL,setter:QL,isEmptyObject:FL,cameraPriority:(gh={skybox:0,main:1e4,top:1e7,infinity:1/0},pR.seal(pR.defineProperties({},{skybox:{configurable:!1,enumerable:!1,get:function(){return gh.skybox},set:function(J){if(J>=gh.main)throw new RangeError("Skybox camera must have lower priority than the main camera.");gh.skybox=Number(J)}},main:{configurable:!1,enumerable:!1,get:function(){return gh.main},set:function(J){if(J<=gh.skybox)throw new RangeError("Main camera must have higher priority than the skybox camera.");if(J>=gh.top)throw new RangeError("Main camera must have lower priority than the top camera.");gh.main=Number(J)}},top:{configurable:!1,enumerable:!1,get:function(){return gh.top},set:function(J){if(J<=gh.main)throw new RangeError("Top camera must have higher priority than the main camera.");gh.top=Number(J)}},infinity:{get:function(){return gh.infinity},set:function(J){throw new RangeError("Infinity camera cannot be changed.")}}}))),addFontFace:(zh={ttf:"truetype",otf:"opentype",eot:"embedded-opentype"},Uh={eot:0,woff2:1,woff:2,ttf:3,otf:4},function(J,a,z,U){if(J){var g;if(U&&DR.removeFontFace(J,!0),U=CH[J])return U.parentNode||Q.head.appendChild(U),void(z&&z(U));0!==(a=(a=dR(a)?[a]:a).filter(function(J){return!!dR(J)&&0<J.length})).length&&(a=a.map(HM),g="",a.sort(MM).forEach(function(J){g+=", "+J.url}),g=g.substr(2),(U=Q.createElement("style")).innerText='@font-face{font-family: "'+J+'";src: '+g+";}",Q.head.appendChild(U),CH[J]=U,z&&z(U))}}),clearFontFace:function(){if(!FL(CH)){for(var J in CH)DR.removeFontFace(J);CH={}}},removeFontFace:function(J,a){if(J){var z=J;if(z.tagName){if(Fu(z),a){var U,g=[];for(U in CH)CH[U]===z&&g.push(U);if(0<g.length)for(var V=0,Y=g.length;V<Y;V++)delete CH[g[V]]}}else(z=CH[J])&&(Fu(z),a&&delete CH[J])}},getFontFaceMap:function(){return CH},handleFontFacesLoaded:function(J){},toColorData:function(){var U,J,g={};for(J in n){var a=ze.length;if(J.length==a&&J[0]===ze[2]&&J[1]===Ze[1]&&J[4]===ze[3]&&J[5]===ze[4]&&J.substr(a-2)===Ze[1]+Ze[2]){var z,V=n[J];for(z in V)z.length===a&&z.substr(0,3)===Ye[3]+de[3]+Uq[0]&&z.substr(a-2)===ze[0]+le[3]&&(MH=V[z])}}return function(J){var a,z=g[J];return z||(U||(U=BL(),GL(U,1,1,1)),(a=U.getContext("2d",{willReadFrequently:!0})).clearRect(0,0,1,1),YW(a,0,0,1,1,J),z=a.getImageData(0,0,1,1).data,z=g[J]=[z[0],z[1],z[2],z[3]]),z}}(),convertColor:WR},!0),Q&&Q.fonts&&Q.fonts.addEventListener&&Q.fonts.addEventListener("loadingdone",function(J){DR.handleFontFacesLoaded(J.fontfaces),DR.findView("all").forEach(function(J){J.redraw?J.redraw():J.iv()})}),qL(x,{autoAdjustIndex:1,hierarchicalRendering:1,adjustChildrenToTop:1,autoHideScrollBar:1,autoUpdate:1,firstPersonMode:1,ortho:1,strict:1,stickToRight:1,instant:1,closePath:1,hierarchical:1,doubleClickToToggle:1,continuousLayout:1,syncSize:1},!0),DR.disabledOpacity),qm=DR.toolTipDelay,Xm=DR.devicePixelRatio,BW=DR.autoMakeVisible,Rm=DR.autoHideScrollBar,Cm=DR.imageGradient,ym=DR.showToolTip,Fm=DR.hideToolTip,Om=DR.dashPattern,nm=DR.lineCap,Lm=DR.lineJoin,bm=DR.labelColor,TR=DR.labelSelectColor,Sm=DR.labelFont,Pm=DR.widgetIndent,sW=DR.widgetRowHeight,$m=DR.widgetHeaderHeight,lm=DR.widgetTitleHeight,mW=DR.scrollBarColor,e=DR.scrollBarSize,Tm=DR.scrollBarTimeout,fm=DR.scrollBarMinLength,Nm=DR.scrollBarInteractiveSize,Am=DR.zoomIncrement,om=DR.scrollZoomIncrement,sm=DR.pinchZoomIncrement,mm=DR.zoomMax,_m=DR.zoomMin,hm=DR.createObject,Bm=DR.preventDefault,qH=DR.setImage,s=DR.getImage,tm=DR.isImageComplete,rm=DR.drawCenterImage,Gm=DR.drawStretchImage,Ju=DR.getId,au=DR.callLater,zu=DR.cancelLater,Uu=DR.sortFunc,gu=DR.clone,Vu=DR.getClass,Yu=DR.startAnim,cu=DR.brighter,uu=DR.darker,Hu=DR.drawText,Mu=DR.getTextSize,Iu=DR.isLeftButton,eu=DR.isMiddleButton,Qu=DR.isRightButton,vu=DR.getTouchCount,Zu=DR.isDoubleClick,ku=DR.isShiftDown,Eu=DR.isCtrlDown,iu=DR.getClientPoint,wu=DR.getPagePoint,pu=DR.getDistance,xu=DR.unionPoint,Wu=DR.unionRect,Du=DR.containsPoint,Ku=DR.containsRect,du=DR.intersectsRect,ju=DR.intersection,qu=DR.getWindowInfo,Xu=DR.grow,Ru=DR.getLogicalPoint,Cu=DR.getScreenPoint,yu=DR.startDragging,Fu=DR.removeHTML,Ou=DR.createElement,nu=DR.segmentResolution,Lu=DR.shapeResolution,bu=DR.shapeSide,Su=DR.def,Pu=DR.toColorData,_W=function(J,a,z){Su("ht."+J,a,z)},$u=(Eh=!(kh=[]),qL(DR,{registerHeartbeat:function(J,a){kh.push({callback:J,priority:a=a||0}),kh.sort(function(J,a){return a.priority-J.priority}),Eh||(Eh=!0,ih=Date.now(),requestAnimationFrame(ZM))},unregisterHeartbeat:function(J){for(var a=0;a<kh.length;a++)if(kh[a].callback===J){kh.splice(a,1);break}0===kh.length&&vM()}},!(ih=0)),qL(DR,{toolTipLabelColor:bm,toolTipLabelFont:Sm,toolTipBackground:q.toolTipBackground,toolTipShadowColor:I,debugTipLabelFont:Sm,debugTipLabelColor:bm,debugTipBackground:q.toolTipBackground,drawBreakableText:VQ,setDevicePixelRatio:function(J){Xm=DR.devicePixelRatio="number"==typeof J?J:dm(n),DR.traverse(Q.body,function(J){(J=J._ht)&&J._canvas&&(GL(J._canvas,J.getWidth(),J.getHeight()),J.redraw?J.redraw():J.iv())},null,"childNodes")},getPosition3dGap:function(){return uJ()}},!0),1e-6),lu="undefined"!=typeof Uint16Array?Uint16Array:Array,Tu="undefined"!=typeof Uint32Array?Uint32Array:lu,fu="undefined"!=typeof Float32Array?Float32Array:Array,Nu="undefined"!=typeof Float32Array?[Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array]:null,Au=function(J,a,z){return J=[J[0]-a[0],J[1]-a[1],J[2]-a[2]],z&&0<(a=pu(J))&&(J[0]/=a,J[1]/=a,J[2]/=a),J},ou=function(){var J,a="charCodeAt",z=2*(2*Ee.length+1);for(J in n)if(J===gR+Ve[0]+(ke.length+2)){var U=n[J];if(!U)break;for(var g=U.length,V=0;V<g;V++)if(U[V][a](0)===z&&U[V+1]!=WR&&U[V+1]===ke[0]&&U[V+2]!=WR&&U[V+2][a](0)===z){for(var Y=V+3;Y<g;Y++)if(U[Y][a](0)===z){if(0==U[Y+1])for(var c,u=Y+2;u<g;u++){if(U[u][a](0)===z){0==U[u-1]&&c&&(mR=c.substr(0,c.length-1));break}c==WR?c=U[u]:c+=U[u]}break}break}break}return function(J){return[-J[0],-J[1],-J[2]]}}(),su=function(J,a){return 3===J.length?J[0]*a[0]+J[1]*a[1]+J[2]*a[2]:J[0]*a[0]+J[1]*a[1]},mu=function(){var J=new Array(16);return J[0]=1,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=1,J[6]=0,J[7]=0,J[8]=0,J[9]=0,J[10]=1,J[11]=0,J[12]=0,J[13]=0,J[14]=0,J[15]=1,J},_u=mu(),hu=function(J){var a=new Array(16);return a[0]=J[0],a[1]=J[1],a[2]=J[2],a[3]=J[3],a[4]=J[4],a[5]=J[5],a[6]=J[6],a[7]=J[7],a[8]=J[8],a[9]=J[9],a[10]=J[10],a[11]=J[11],a[12]=J[12],a[13]=J[13],a[14]=J[14],a[15]=J[15],a},Bu=function(J){return J[0]=1,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=1,J[6]=0,J[7]=0,J[8]=0,J[9]=0,J[10]=1,J[11]=0,J[12]=0,J[13]=0,J[14]=0,J[15]=1,J},tu=function(J,a){var z=J[0],U=J[1],g=J[2];return J[0]=a[0]*z+a[4]*U+a[8]*g+a[12],J[1]=a[1]*z+a[5]*U+a[9]*g+a[13],J[2]=a[2]*z+a[6]*U+a[10]*g+a[14],J},ru=function(J,a){var z=J[0],U=J[1],g=J[2],V=J[3];return J[0]=a[0]*z+a[4]*U+a[8]*g+a[12]*V,J[1]=a[1]*z+a[5]*U+a[9]*g+a[13]*V,J[2]=a[2]*z+a[6]*U+a[10]*g+a[14]*V,J[3]=a[3]*z+a[7]*U+a[11]*g+a[15]*V,J},Gu=function(J,a,z){var U,g;if("number"==typeof J?g=J:J&&(g=J.length,U=!0),g)for(var V,Y=0,c=0;Y<g;Y++)V=a?UR(g-1,1==c?Y+1:2==c?Y-1:Y):Y,z(U?J[V]:V),2<++c&&(c=0)},JD=(Wh=RL(J[1]+J[7]),Dh=RL(J[0]+J[3]-J[10]),Kh=RL(J[8]+2),dh=function(){return ph=xh.charAt(wh),wh+=1,ph},jh=function(){var J="";if(ph===Kh)for(;dh();){if(ph===Kh)return dh(),J;J+=ph}else dh()},qh=function(){for(;ph&&ph<=" ";)dh()},Xh=function(){if(qh(),ph!==Wh)return jh();var J,a={};if(ph===Wh){if(dh(),qh(),ph===Dh)return dh(),a;for(;ph;){if(J=jh(),qh(),dh(),a[J]=Xh(),qh(),ph===Dh)return dh(),a;dh(),qh()}}},function(J){if(K={},J&&(xh=J,wh=0,ph=" ",J=Xh(),qh(),!ph))return J}),aD=function(J,a){var z,U,g,V,Y,c,u,H,M;a&&(z=eR(a),a=KR(a),U=J[4],g=J[5],V=J[6],Y=J[7],c=J[8],u=J[9],H=J[10],M=J[11],J[4]=U*a+c*z,J[5]=g*a+u*z,J[6]=V*a+H*z,J[7]=Y*a+M*z,J[8]=c*a-U*z,J[9]=u*a-g*z,J[10]=H*a-V*z,J[11]=M*a-Y*z)},zD=function(J,a){var z,U,g,V,Y,c,u,H,M;a&&(z=eR(a),a=KR(a),U=J[0],g=J[1],V=J[2],Y=J[3],c=J[8],u=J[9],H=J[10],M=J[11],J[0]=U*a-c*z,J[1]=g*a-u*z,J[2]=V*a-H*z,J[3]=Y*a-M*z,J[8]=U*z+c*a,J[9]=g*z+u*a,J[10]=V*z+H*a,J[11]=Y*z+M*a)},UD=function(J,a){var z,U,g,V,Y,c,u,H,M;a&&(z=eR(a),a=KR(a),U=J[0],g=J[1],V=J[2],Y=J[3],c=J[4],u=J[5],H=J[6],M=J[7],J[0]=U*a+c*z,J[1]=g*a+u*z,J[2]=V*a+H*z,J[3]=Y*a+M*z,J[4]=c*a-U*z,J[5]=u*a-g*z,J[6]=H*a-V*z,J[7]=M*a-Y*z)},gD=function(J,a,z){return VD(WR,!1===z?WR:J.getFinalScale3d(),J.getFinalRotation3d(),J.getRotationMode(),J.p3(),WR,a)},VD=function(J,a,z,U,g,V,Y){return V=V||mu(),g&&QJ(V,g),Ww(V,z,U),Y&&ZJ(V,V,Y),a&&vJ(V,a),J&&ZJ(V,V,J),V},YD=function(J,a,z){a=lR(a),z=lR(z),this.g=J,this._84O=a,this._85O=z,this._70I=!0,this.F=0,this._83O=a+z,this.pen={x:0,y:0}},cD="lineDashOffset",uD="setLineDash",HD=function(J,a,z){return OL(a)?J:J[uD]?(J[uD](a),z&&(J.lineDashOffset=z),J):new YD(J,a[0],1<a.length?a[1]:a[0])},MD=function(J,a){!OL(a)&&J[uD]&&(J[uD](sH),J.lineDashOffset=0)},ID=(Su(YD,pR,{_69I:6,moveTo:function(J,a){var z=this.pen;z.x=J,z.y=a,this.g.moveTo(J,a),this.start||(this.start={x:J,y:a})},lineTo:function(J,a){var z=this,U=z.pen,g=J-U.x,V=a-U.y,V=SR(V,g),g=KR(V),V=eR(V),Y=z._23O(U.x,U.y,J,a),c=z._85O,u=z._84O,H=z._83O;if(z.F){if(z.F>Y)return z._70I?z._72I(J,a):z.moveTo(J,a),void(z.F-=Y);if(z._70I?z._72I(U.x+g*z.F,U.y+V*z.F):z.moveTo(U.x+g*z.F,U.y+V*z.F),Y-=z.F,z.F=0,z._70I=!z._70I,!Y)return}var M=ER(Y/H);if(M){for(var I=g*u,e=V*u,Q=g*c,v=V*c,Z=0;Z<M;Z++)z._70I?(z._72I(U.x+I,U.y+e),z.moveTo(U.x+Q,U.y+v)):(z.moveTo(U.x+Q,U.y+v),z._72I(U.x+I,U.y+e));Y-=H*M}z._70I?u<Y?(z._72I(U.x+g*u,U.y+V*u),z.moveTo(J,a),z.F=c-(Y-u),z._70I=!1):(z._72I(J,a),Y===u?(z.F=0,z._70I=!z._70I):(z.F=u-Y,z.moveTo(J,a))):c<Y?(z.moveTo(U.x+g*c,U.y+V*c),z._72I(J,a),z.F=u-(Y-c),z._70I=!0):(z.moveTo(J,a),Y===c?(z.F=0,z._70I=!z._70I):z.F=c-Y)},quadraticCurveTo:function(J,a,z,U){var g,V=this,Y=(u=V.pen).x,c=u.y,u=V._22O(Y,c,J,a,z,U),H=0,M=0,I=V._85O,e=V._84O;if(V.F){if(V.F>u)return V._70I?V._71I(J,a,z,U):V.moveTo(z,U),void(V.F-=u);if(H=V.F/u,g=V._20O(Y,c,J,a,z,U,H),V._70I?V._71I(g[2],g[3],g[4],g[5]):V.moveTo(g[4],g[5]),V.F=0,V._70I=!V._70I,!u)return}var Q,v=ER((u-u*H)/V._83O),Z=e/u,k=I/u;if(v)for(var E=0;E<v;E++)V._70I?(g=V._21O(Y,c,J,a,z,U,H,M=H+Z),V._71I(g[2],g[3],g[4],g[5]),H=M,g=V._21O(Y,c,J,a,z,U,H,M=H+k),V.moveTo(g[4],g[5])):(g=V._21O(Y,c,J,a,z,U,H,M=H+k),V.moveTo(g[4],g[5]),H=M,g=V._21O(Y,c,J,a,z,U,H,M=H+Z),V._71I(g[2],g[3],g[4],g[5])),H=M;Q=u-u*H,V._70I?e<Q?(g=V._21O(Y,c,J,a,z,U,H,M=H+Z),V._71I(g[2],g[3],g[4],g[5]),V.moveTo(z,U),V.F=I-(Q-e),V._70I=!1):(g=V._19O(Y,c,J,a,z,U,H),V._71I(g[2],g[3],g[4],g[5]),u===e?(V.F=0,V._70I=!V._70I):(V.F=e-Q,V.moveTo(z,U))):I<Q?(g=V._21O(Y,c,J,a,z,U,H,M=H+k),V.moveTo(g[4],g[5]),g=V._19O(Y,c,J,a,z,U,M),V._71I(g[2],g[3],g[4],g[5]),V.F=e-(Q-I),V._70I=!0):(V.moveTo(z,U),Q===I?(V.F=0,V._70I=!V._70I):V.F=I-Q)},bezierCurveTo:function(){var J=arguments;this.pen={x:J[4],y:J[5]},this.g.bezierCurveTo(J[0],J[1],J[2],J[3],J[4],J[5])},arc:function(J,a,z,U,g,V){V||(U=-U,g=-g);var Y,c,u,H,M,I=J,e=a,V=U,Q=z,v=z,a=!1,Z=-((J=yR(J=g-U)>2*y?2*y:J)/(Y=iR(yR(J)/(y/4)))),k=-V;if(0<Y){J=I+KR(V)*Q,V=e+eR(-V)*v,a?this.lineTo(J,V):this.moveTo(J,V);for(var E=0;E<Y;E++)M=(k+=Z)-Z/2,c=I+KR(k)*Q,u=e+eR(k)*v,H=I+KR(M)*(Q/KR(Z/2)),M=e+eR(M)*(v/KR(Z/2)),this.quadraticCurveTo(H,M,c,u)}},rect:function(J,a,z,U){this.pen={x:J,y:a},this.moveTo(J,a),this.lineTo(J,a+U),this.lineTo(J+z,a+U),this.lineTo(J+z,a),this.lineTo(J,a)},beginPath:function(){this.g.beginPath()},closePath:function(){this.lineTo(this.start.x,this.start.y)},_23O:function(J,a,z,U){return wR((z-=J)*z+(J=U-a)*J)},_22O:function(J,a,z,U,g,V,Y){for(var c,u,H,M,I=0,e=J,Q=a,v=0<Y?Y:this._69I,Z=1;Z<=v;Z++)I+=this._23O(e,Q,c=(u=(H=1-(M=Z/v))*H)*J+(H*=2*M)*z+(M*=M)*g,u=u*a+H*U+M*V),e=c,Q=u;return I},_21O:function(J,a,z,U,g,V,Y,c){return 0===Y?this._20O(J,a,z,U,g,V,c):1===c?this._19O(J,a,z,U,g,V,Y):((J=this._20O(J,a,z,U,g,V,c)).push(Y/c),this._19O.apply(this,J))},_20O:function(J,a,z,U,g,V,Y){var c,u;return 1!==Y&&(c=z+(g-z)*Y,u=U+(V-U)*Y,g=(z=J+(z-J)*Y)+(c-z)*Y,V=(U=a+(U-a)*Y)+(u-U)*Y),[J,a,z,U,g,V]},_19O:function(J,a,z,U,g,V,Y){var c;return 1!==Y&&(J=(c=J+(z-J)*Y)+((z+=(g-z)*Y)-c)*Y,a=(c=a+(U-a)*Y)+((U+=(V-U)*Y)-c)*Y),[J,a,z,U,g,V]},_72I:function(J,a){var z=this.pen;J===z.x&&a===z.y||(z.x=J,z.y=a,this.g.lineTo(J,a))},_71I:function(J,a,z,U){var g=this.pen;J===z&&a===U&&z===g.x&&U===g.y||(g.x=z,g.y=U,this.g.quadraticCurveTo(J,a,z,U))}}),Km.ms_quickVisible=function(J,a){J._4BQ=!1,J._4CQ=function(J){var a=J._4EQ;return a!==xR?a:J._4EQ=this._4FQ(J)},J._4DQ=function(J){var a;J?(J._4EQ=xR,a=this,J instanceof jw||pL(J)||J instanceof Ow||J.ISubGraph?J.eachChild(function(J){a.invalidateQuickVisible(J)}):J.getEdges&&(J=J.getEdges())&&J.each(function(J){a.invalidateQuickVisible(J)})):this.dm().each(function(J){J._4EQ=xR})},J.enableQuickVisibleMode=function(){return!this._4BQ&&!this._visibleFunc&&(this._4BQ=!0,this._4FQ=this.isVisible,this.isVisible=this._4CQ,this.invalidateQuickVisible=this._4DQ,!0)},J.disableQuickVisibleMode=function(){return this._quickVisiblePending=!1,!!this._4BQ&&(this._4BQ=!1,this.isVisible=this._4FQ,this.invalidateQuickVisible=hH,!0)},J.isQuickVisibleMode=function(){return this._4BQ},J.invalidateQuickVisible=hH},Km.ms_renderEvents=function(a,J){var U=J.ms_renderEvents;U.forEach(function(J){a["on"+J]=hH}),a.initRenderEvents=function(){var z=this;U.forEach(function(J){function U(J){if(g)for(var a=0;a<g.length;a++)if(g[a].listener===J)return a;return-1}var a,g,V;V="on"+(J=J),(a=z)["add"+J+"Listener"]=function(J,a){g=g||[];var z=U(J);if(0<=z){if(g[z].priority===a)return!1;g[z].priority=a}else g.push({listener:J,priority:a||0});return g.sort(function(J,a){return a.priority-J.priority}),!0},a["remove"+J+"Listener"]=function(J){return!((J=U(J))<0||(g.splice(J,1),g.length||(g=xR),0))},a["get"+J+"Listeners"]=function(){return g},a["emit"+J]=function(){if(g)for(var J=0,a=g.length;J<a;J++){var z=g[J].listener;z.apply(z,arguments)}this[V]()}})}},J=PR()+1,$R&&n.console,WR),eD=WR,QD=DR.checkLoadingCompType=function(J){ID&&!J._72O_&&((eD=eD||{})[J._72O_=Ju()]=J)},vD=function(z,J){var U,a;!(J=J||z)||DR.isMaxConcurrencyReached()||(ID=ID||{})[z]||(U=new bw,ID[J]={request:U,url:J},(J=DR.beforeLoadURL(J,z)).data?(a=DR.parse(J.data),ZD(z,a),DR.handleCompTypeLoaded(z,a)):(U.onload=function(J){var a;200===this.status||0===this.status?(a=DR.parse(U.getResponseText()),ZD(z,a),DR.handleCompTypeLoaded(z,a)):ZD(z,WR)},U.onerror=function(J){ZD(z,WR)},(a={}).url=encodeURI(J),a.sync=!1,U.send(a)))},ZD=function(J,a){if(LH[J]=a,delete ID[J],FL(ID)&&(ID=WR,eD)){for(var z in eD)(U=eD[z]).invalidateAll&&U.invalidateAll(xR,"compTypeLoaded",J),U.redraw&&U.redraw(),U.iv(),delete U._72O_;eD=WR}if(a&&eD)for(var z in eD){var U;(U=eD[z]).invalidateAll&&U.invalidateAll(xR,"compTypeLoading",J),U.redraw&&U.redraw(),U.iv()}},kD=q.chart,ED="",iD=!0,wD=DR.compStack=[],pD=/^style@/,xD=/^attr@/,WD=/^field@/,DD={x:.5,y:.5},KD=function(J,a,z){return!!J&&((U=z&&z.isImageFitSize?z.isImageFitSize(a,J):U)==WR?_(J.fitSize,a,z):U);var U},dD=function(J,a,z,U){return J?!(KD(J,a,z)&&U||null!=(U=_(J.width,a,z)))?20:U:0},jD=function(J,a,z,U){return J?!(KD(J,a,z)&&U||null!=(U=_(J.height,a,z)))?20:U:0},_=function(J,a,z){if(!J||!J.func)return J;var U=J.func,g=J.value,J=EL(U)?z&&z.vectorDataBindingDisabled&&!J.isSafeFunc?g:U(a,z):a instanceof _D||a&&a.getInteractorClasses&&a.initView?xD.test(U)?a.a(ED+U.slice(5)):pD.test(U)?a.s(ED+U.slice(6)):WD.test(U)?a[U.slice(6)]:a[U]?a[U](z):g:g;return g!==xR&&J==WR?g:J},qD=DR.drawImage=(nh=function(){if((Ch instanceof Sr||Ch instanceof gA)&&Rh&&Rh.dm){var J=Ch.dm();if(J instanceof hD&&J!==Rh.dm())return Rh}return xR},A=function(J,a,z){var U,g,V=!1;return J.prefix&&Rh instanceof _D&&(g=Rh.a(ED+a))!==xR&&(V=!0,U=g),(U=U===xR?J[a]:U)&&U.func&&(V=!0,U=_(U,Rh,Ch)),z&&(U=z(U),V||(J[a]=U)),U},Lh=function(J,a,z){var U,g=a?A(J,a):J;return DR.convertColor&&(U={data:Rh,view:Ch},a&&(U.comp=J,U.name=a),z&&pR.assign(U,z),g=DR.convertColor(g,U)),N&&N.compGray&&g?DR.toGrayColor(g):Fh&&g?BQ(g,Fh,Oh):g},bh=function(J){var a=A(J,"anchorX"),z=A(J,"anchorY");return a!==xR||z!==xR?{x:a===xR?DD.x:a,y:z===xR?DD.y:z}:(a=A(J,"type"),z=A(J,"name"),"image"===a&&z&&(J=s(z))&&J.anchorX!==xR&&J.anchorY!==xR?{x:J.anchorX,y:J.anchorY}:DD)},Sh=function(J,a){J.compInfos.push(a),J._parentCompInfo=a},Ph={border:function(J,a){ZW(N,Lh(J,hq),a.x,a.y,a.width,a.height,A(J,"width"))},image:function(J,a){var z=Fh||A(J,hq),U=Oh||A(J,"blendMode"),g=A(J,"name");(g=(g=s(g,z,U))&&g.cacheRule!=WR?Xf(N,g,A(J,"stretch"),a.width,a.height,Rh,Ch,z):g)?Gm(N,g,A(J,"stretch"),a.x,a.y,a.width,a.height,Rh,Ch,z,null,U):iD=!1},text:function(J,c){var a,u,z,H,U,M,I,e,Q,v,Z,k,E,i,w,p,g,x,V,Y,W=A(J,"text"),D=A(J,"background"),K=A(J,"outlineColor"),d=A(J,"outlineWidth"),j=A(J,"cornerRadius");(D||d&&K)&&(Y=c.x,a=c.y,z=c.width,U=c.height,N.beginPath(),vW(N,Y,a,z,U,j||0),D&&(N.fillStyle=JW(N,D,EM,!1,c,WR,iM(J,"background")),N.fill(),N.restore()),d&&K&&(N.lineWidth=d,N.strokeStyle=JW(N,K,EM,!0,c,WR,iM(J,"outlineColor")),N.stroke(),N.restore())),W!=WR&&(W+="",Y=A(J,"gradientPack"),a=A(J,"gradient"),u=A(J,"font"),z=A(J,"vertical"),H=A(J,"verticalGap")||0,U=A(J,"align"),M=A(J,"vAlign"),I=A(J,"decoration"),e=A(J,"letterGap")||0,j=A(J,"wrap"),Q=A(J,"borderWidth"),v=A(J,"borderColor"),Z=Mu(u,W),Y?(k=JW(N,Y,EM,!1,c,WR,iM(J,"gradientPack")),N.restore()):k=Lh(J,hq),!Y&&a&&(D=Lh(J,"gradientColor"),k=DR.createGradient(N,a,k||DR.labelColor,D||q.imageGradient,c.x,c.y,c.width,c.height)),Q&&jR(v)&&(v=JW(N,v,EM,!1,c,WR,iM(J,"borderColor")),N.restore()),z?(null==H&&(H=1),E=[],i=[],V=j?zQ(W,c.height,u,e,z,H):[W],N.textBaseline=ce,N.font=u,V.forEach(function(J){for(var a=J.length,z=0,U=(a-1)*H,g=0;g<a;g++){var V=N.measureText(J[g]);E.push(V),U+=V.fontBoundingBoxDescent||Z.height,z=zR(z,V.width)}i.push({width:z,height:U})}),g=(V.length-1)*e,i.forEach(function(J){g+=J.width}),w=U&&U!==Ve?U===Ye?c.x+c.width-g:c.x+(c.width-g)/2:c.x,x=0,V.forEach(function(J,a){var z=i[a],U=J.length;p=M&&M!==Ie?M===ce?c.y:c.y+c.height-z.height:c.y+(c.height-z.height)/2;for(var g=0;g<U;g++){var V=J[g],Y=E[x].fontBoundingBoxDescent||Z.height;gQ(N,V,u,k,{x:w,y:p,width:z.width,height:Y},He,M,I,e,Q,v),p+=Y+H,x++}w+=z.width+e})):1<(d=(V=j?zQ(W,c.width,u,e,z,H):W.split("\n")).length)?(K=d*Mu(u,W).height+H*(d-1),Y=gu(c),M&&M!==Ie?M===ue&&(Y.y=c.y+c.height-K):Y.y=c.y+(c.height-K)/2,Y.height=K,VQ(N,V,Y,u,k,U||Ve,I,e,Q,v)):gQ(N,W,u,k,c,U,M,I,e,Q,v))},pieChart:function(J,a){var z=A(J,Le),U=0;if(z&&(z.forEach(function(J){U+=J}),0<U)){for(var g=A(J,"colors")||kD,V=A(J,"startAngle")||0,Y=A(J,"hollow"),c=A(J,Pe),u=A(J,Ne),H=A(J,Ae),M=c?new h:WR,J=a.x,I=a.y,e=a.width,Q=J+e/2,v=I+(a=a.height)/2,Z=UR(e,a)/2,k=0,E=0;E<z.length;E++){var i,w,p,x,W=z[E],D=V+QR*W/U;N.fillStyle=g[k++],k===g.length&&(k=0),N.beginPath(),Y?(i=Q+KR(V)*Z/2,w=v+eR(V)*Z/2,p=Q+KR(D)*Z,x=v+eR(D)*Z,N.moveTo(i,w),N.arc(Q,v,Z/2,V,D,!1),N.lineTo(p,x)):N.moveTo(Q,v),N.arc(Q,v,Z,D,V,!0),M&&(i=(V+D)/2,M.add({text:EL(c)?c(W,E,U,Rh):W,x:Q+KR(i)*Z*.75,y:v+eR(i)*Z*.75})),N.closePath(),N.fill(),V=D}M&&M.each(function(J){Hu(N,J.text,u,H,J.x,J.y,0,0,He)})}},columnChart:function(J,a){var z=A(J,be);if(z&&0<z.length){var U=z.length,g=A(J,Pe),V=A(J,Ne),Y=A(J,Ae),c=g?new h:WR,u=A(J,"minValue")||0,H=A(J,"maxValue");if(H==WR&&(H=0,z.forEach(function(J){A(J,Le).forEach(function(J){H=zR(H,J)})})),u!==H){for(var M=a.height/(H-u),I=a.y+H*M,e=A(z[0],Le).length,Q=a.width/(3*e+1),v=2*Q/U,Z=0,k=0;k<U;k++)for(var E=z[k],i=A(E,hq),w=A(E,"colors"),p=A(E,Le),x=0;x<e;x++){w?N.fillStyle=w[x]:i?N.fillStyle=i:(N.fillStyle=kD[Z++],Z===kD.length&&(Z=0));var W,D=p[x],K=D*M,d=a.x+(1+3*x)*Q+k*v;YW(N,d,I-K,v,K),c&&(D=EL(g)?g(D,x,E,Rh):D,W=Mu(V,D).height,c.add({x:d,y:I-K-W,width:v,height:W,text:D}))}c&&c.each(function(J){Hu(N,J.text,V,Y,J.x,J.y,J.width,J.height,He)})}}},stackedColumnChart:function(J,a){var z=A(J,be);if(z&&0<z.length){var U=z.length,g=A(z[0],Le).length,V=a.width/(3*g+1),Y=0,c=A(J,"maxValue"),u=A(J,Pe),H=A(J,Ne),M=A(J,Ae),I=u?new h:WR;if(c==WR)for(var c=0,e=0;e<g;e++){for(var Q=0,v=0;v<U;v++)Q+=A(z[v],Le)[e];c=zR(c,Q)}if(0<c){for(e=0;e<g;e++)for(var Z=a.y+a.height,v=0;v<U;v++){var k=z[v],E=A(k,hq),i=A(k,Le)[e],w=i/c*a.height,E=(E?N.fillStyle=E:(N.fillStyle=kD[Y++],Y===kD.length&&(Y=0)),Z-=w,{x:a.x+(1+3*e)*V,y:Z,width:2*V,height:w});YW(N,E.x,E.y,E.width,E.height),I&&(E.text=EL(u)?u(i,e,k,Rh):i,I.add(E))}I&&I.each(function(J){Hu(N,J.text,H,M,J.x,J.y,J.width,J.height,He)})}}},percentageColumnChart:function(J,a){var z=A(J,be);if(z&&0<z.length){for(var U=z.length,g=A(z[0],Le).length,V=a.width/(3*g+1),Y=0,c=A(J,Pe),u=A(J,Ne),H=A(J,Ae),M=c?new h:WR,I=0;I<g;I++){for(var e=0,Q=0;Q<U;Q++)e+=A(z[Q],Le)[I];if(0<e)for(var v=a.y+a.height,Q=0;Q<U;Q++){var Z=z[Q],k=A(Z,hq),E=A(Z,Le)[I],i=E/e*a.height,k=(k?N.fillStyle=k:(N.fillStyle=kD[Y++],Y===kD.length&&(Y=0)),v-=i,{x:a.x+(1+3*I)*V,y:v,width:2*V,height:i});YW(N,k.x,k.y,k.width,k.height),M&&(k.text=EL(c)?c(E,I,Z,Rh):E,M.add(k))}}M&&M.each(function(J){Hu(N,J.text,u,H,J.x,J.y,J.width,J.height,He)})}},lineChart:function(J,a){var z=A(J,be);if(z&&0<z.length){var U=z.length,g=A(J,"minValue")||0,V=A(J,"maxValue");if(V==WR&&(V=0,z.forEach(function(J){A(J,Le).forEach(function(J){V=zR(V,J)})})),g!==V)for(var Y=a.height/(V-g),c=a.y+V*Y,u=A(z[0],Le).length,H=a.width/(3*u+1),M=0,I=A(J,"lineWidth")||2,e=A(J,"line3d"),Q=A(J,"linePoint"),v=A(J,Pe),Z=A(J,Ne),k=A(J,Ae),E=0;E<U;E++){var i=z[E],w=A(i,hq),p=A(i,Le);w?N.strokeStyle=w:(w=N.strokeStyle=kD[M++],M===kD.length&&(M=0)),N.beginPath();for(var x=0;x<u;x++){var W=a.x+(2+3*x)*H,D=c-p[x]*Y;0===x?N.moveTo(W,D):N.lineTo(W,D)}if(N.lineWidth=I,N.stroke(),e&&gW(N,w,WR,I,yh),Q||v)for(var K,d=I/2+2,x=0;x<u;x++){var j,q,X,R,C=p[x],W=a.x+(2+3*x)*H,D=c-C*Y;EL(Q)?Q(N,W,D,w,x,i,Rh):Q&&(N.fillStyle=w,N.beginPath(),N.arc(W,D,d,0,QR,!0),N.fill()),EL(v)?K=v(C,x,i,Rh):v&&(K=C),K&&(C=Mu(Z,K).height,(j=N.shadowBlur)&&(q=N.shadowOffsetX,X=N.shadowOffsetY,R=N.shadowColor,N.shadowOffsetX=0,N.shadowOffsetY=0,N.shadowBlur=0,N.shadowColor=WR),Hu(N,K,Z,k,W,D-C-d+2,0,C,He),j&&(N.shadowOffsetX=q,N.shadowOffsetY=X,N.shadowBlur=j,N.shadowColor=R))}}}}},function(J,L,a,z,U,g,b,V,Y,c){if(L&&U&&g){var u,H,M,I,e,S,Q,v,Z,k,E,i,w,P,p=[N,Rh,Ch,yh,Fh,Oh],J=(N=J,Ch=V,!(Rh=b)&&Ch&&Ch.isSelfViewEvent&&(Rh=Ch),yh=Ch&&Ch._zoom||1,Fh=Y,Oh=c,U),V=g;if(of()&&(0===N.maxSize&&!of[0]||(H=!0),N.texureImage2D&&!of[1]||(M=!0),N.texureImage3D&&!of[2]||(I=!0),N.drawDNDState&&!of[3]||(Q=!0),N.drawRect&&!of[Ne[2]]||(E=!0),N.drawArcCircle&&!of[Be[1]]||(u=!0),m[uq[1]+Vq[0]+Be[1]]&&!of[Vq[0]]||(v=!0),_H.widget[0]&&!of[4]||(e=!0),H&&M&&I&&e&&Q&&v&&E&&u&&(J=a,V=z)),L.tagName)return dR(mR)&&!n[mR]||N.drawImage(L,J,V,U,g),void dM(p);0!=A(L,"visible")&&((Y=N.interactiveInfo)&&(H={x:a,y:z,width:U,height:g},Y.rect?(M=Y._parentCompInfo)&&(H.image=L,Y.compInfos.push({comp:{type:"image",name:L,rect:H,pixelPerfect:M.comp.pixelPerfect},rect:H,matrix:M.matrix,prefix:M.prefix,refRect:M.refRect,exData:nh()})):Y.rect=H),Fh=Fh||_(L.color,Rh,Ch),c||(Oh=_(L.blendMode,Rh,Ch)),dR(mR)&&!n[mR]&&(U=J,g=V),I=dD(L,Rh,Ch,U),e=jD(L,Rh,Ch,g),S={x:0,y:0,width:I,height:e,fitSize:KD(L,Rh,Ch)},Q=A(L,"clip"),v=A(L,"opacity"),S.fitSize&&(A(L,"dynamicSize")?((Z=L.width)&&Z.func&&(Z=Z.value||20),(k=L.height)&&k.func&&(k=k.value||20)):(Z=_(L.width,Rh,Ch)||20,k=_(L.height,Rh,Ch)||20),S.rw=Z,S.widthScale=I/Z,S.rh=k,S.heightScale=e/k),N.save(),N.interactiveInfo&&(i=(E=N.interactiveInfo.matrix).clone(),E.appendTranslate(J,V).appendScale(U/I,g/e),w=N.interactiveInfo.refRect,N.interactiveInfo.refRect=S),QQ(N,J,V),I===U&&e===g||N.scale(U/I,g/e),Q&&(EL(Q)?Q(N,I,e,Rh,Ch,L):(N.beginPath(),N.rect(0,0,I,e),N.clip())),v!=WR&&(N.globalAlpha*=v),P=N.compGray,A(L,"comps").forEach(function(J){var a;if(J.prefix&&(a=ED,(q=_(J.prefix,Rh,Ch))&&(ED=ED+q+".")),0==(q=L,j=J,Ch&&Ch.getDrawableState?d=Ch.getDrawableState(Rh):Ch&&Ch.getState?d=Ch.getState(Rh):(d=Rh instanceof _D?Rh.s(yq):null)!==xR&&null!==d||(d=A(q,yq)),((q=A(j,yq))===xR||null===q||q===d)&&A(j,Ge)))J.prefix&&(ED=a);else{var z,U,g,V,Y,c,u,H,M,I,e,Q,v,Z,k,E,i,w,p,x,W,D,K,d=A(J,"composite"),j=(d&&(N.save(),N.globalCompositeOperation=d),_(J.gray,Rh,Ch)&&(N.compGray=!0),wD.splice(0,0,J),N.interactiveInfo&&(z=N.interactiveInfo.matrix.clone(),U=N.interactiveInfo._parentCompInfo),A(J,"opacity")),q=A(J,"shadow"),X=A(J,"shadowInset"),R=A(J,"type"),C=A(J,"refRect")||S,y=(I=C,H=A(M=J,f),w=bh(M),jR(H)&&(D=H.length,k=A(M,"relative"),K=I.width,p=I.height,4===D?(H={x:H[0],y:H[1],width:H[2],height:H[3]},k&&(H.x*=K,H.y*=p,H.width*=K,H.height*=p)):3===D&&(D=H[0],H={width:H[1],height:H[2]},k&&(H.width*=K,H.height*=p),"object"==typeof D?D.length&&(D={x:D[0],y:D[1]}):D=OW(D,I,H),H.x=D.x-H.width*w.x,H.y=D.y-H.height*w.y),H.x+=A(M,"offsetX")||0,H.y+=A(M,"offsetY")||0,!k&&I.fitSize&&(H=pM(M,H,I))),H);if(j!=WR&&(g=N.globalAlpha,N.globalAlpha*=j),q&&!X&&(K=yh*DR.devicePixelRatio,V=N.shadowOffsetX,Y=N.shadowOffsetY,c=N.shadowBlur,u=N.shadowColor,p=A(J,"shadowOffsetX"),D=A(J,"shadowOffsetY"),w=A(J,"shadowBlur"),k=Lh(J,"shadowColor"),N.shadowOffsetX=(p==WR?3:p)*K,N.shadowOffsetY=(D==WR?3:D)*K,N.shadowBlur=(w==WR?6:w)*K,N.shadowColor=k||Lh(oW)),"save"===R)N.save();else if("endClip"===R||"restore"===R)N.restore();else if("clip"===R)N.save(),zW(N,A(J,"points",wM),A(J,"segments",xM),!0),N.clip();else if(WW[R]){if(KM(J,R,y=y||{x:0,y:0,width:C.width,height:C.height},C),J.prefix&&dR(J.prefix)&&0===J.prefix.indexOf("ui.")&&Ch&&Ch.getInteractorClasses&&Ch.initView){Ch._vectorCompInfo||(Ch._vectorCompInfo=[]);for(var F=!1,O=0;O<Ch._vectorCompInfo.length;O++){var n=Ch._vectorCompInfo[O];if(J.prefix===n.comp.prefix&&b===n.data){Ch._vectorCompInfo[O]={comp:J,type:R,rect:y,compRefRect:C,data:b,image:L,transform:N.getTransform()},F=!0;break}}F||Ch._vectorCompInfo.push({comp:J,type:R,rect:y,compRefRect:C,data:b,image:L,transform:N.getTransform()})}}else R===We?KM(J,R,y,C):"SVGPath"===R?(M=R,I=y,X=A(H=J,"path"),w=A(H,te),p=A(H,"scaleX"),x=A(H,"scaleY"),W=bh(H),D=WR,K=GQ(null,X),I||((I=H.unionRect)||(I=xu(K),H.path.func||(H.unionRect=I)),D=I),I&&((D=D||H.unionRect)||(D=xu(K),H.path.func||(H.unionRect=D)),K=WM(H,I,D,w,p,x,W),I=A(H,"borderPattern"),w=HD(N,I),p=Lh(H,"background"),x=Lh(H,"borderColor"),W=A(H,"borderWidth"),k=A(H,"gradient"),i=A(H,"border3d"),e=Lh(H,"border3dColor"),Q=A(H,"border3dAccuracy"),v=N.lineJoin,Z=N.lineCap,N.lineJoin=A(H,"borderJoin")||Lm,N.lineCap=A(H,"borderCap")||nm,p?(k&&(E=Lh(H,"gradientColor")),uW(N,p,k,E,D),GQ(N,X),N.fill(),w!==N&&GQ(N,X)):GQ(N,X),(k=A(H,"borderWidthAbsolute"))&&kQ(N),W&&x&&(N.lineWidth=W,N.strokeStyle=x,N.stroke(),i&&gW(N,x,e,W,yh,Q)),MD(N,I),A(H,"dash")&&0<(E=A(H,"dashWidth")||W)&&(I=A(H,"dashPattern")||Om,w=HD(N,I,A(H,"dashOffset")),i=Lh(H,"dashColor")||Lh(LW),w!==N&&GQ(N,X),N.strokeStyle=i,N.lineWidth=E,N.stroke(),A(H,"dash3d")&&gW(N,i,Lh(H,"dash3dColor"),E,yh,A(H,"dash3dAccuracy")),MD(N,I)),k&&N.restore(),M===f&&kW(N,p,A(H,"depth"),D),N.lineJoin=v,N.lineCap=Z,K&&DM())):(w=WM(J,y=y||{x:0,y:0,width:C.width,height:C.height},y,x=A(J,te),e=A(J,"scaleX"),Q=A(J,"scaleY"),W=bh(J)),EL(R)?(kM(J,R),DR.drawCompType(R,N,y,J,Rh,Ch)):DR.getCompType(R)?(i=(X=DR.getCompType(R)).func||X,kM(J,X),DR.drawCompType(i,N,y,J,Rh,Ch)):Ph[R]?Ph[R](J,y):DR.getCompType(R)===xR&&$H.test(R)&&(vD(R),DR.getCompType(R)===xR&&(iD=!1)),w&&DM());q&&(N.shadowOffsetX=V,N.shadowOffsetY=Y,N.shadowBlur=c,N.shadowColor=u),j!=WR&&(N.globalAlpha=g),N.interactiveInfo&&(N.interactiveInfo.matrix=z,N.interactiveInfo._parentCompInfo=U),J.prefix&&(ED=a),wD.splice(0,1),N.compGray=P,d&&N.restore()}}),N.interactiveInfo&&(N.interactiveInfo.matrix=i,N.interactiveInfo.refRect=w),N.restore()),dM(p)}}),XD=(DR.getCurrentComp=function(){return wD[0]},DR.getParentComp=function(){return wD[1]},DR.compContextSave=function(J){var a,z,U;J.save(),(J=J.interactiveInfo)&&((a=J._compContextTransformStack)||(a=J._compContextTransformStack=[]),z={},(U=J.matrix)&&(z.matrix=U.clone()),J._parentCompInfo&&(U=J._parentCompInfo.matrix)&&(z.parentMatrix=U.clone()),a.push(z))},DR.compContextRestore=function(J){var a,z;J.restore(),(J=J.interactiveInfo)&&(a=J._compContextTransformStack)&&(a=a.pop(),(z=J.matrix)&&z.copy(a.matrix),J._parentCompInfo&&(z=J._parentCompInfo.matrix)&&z.copy(a.parentMatrix))},DR.compContextTranslate=function(J,a,z){var U;J.translate(a,z),(J=J.interactiveInfo)&&((U=J.matrix)&&U.appendTranslate(a,z),J._parentCompInfo&&(U=J._parentCompInfo.matrix)&&U.appendTranslate(a,z))},DR.compContextScale=function(J,a,z){var U;J.scale(a,z),(J=J.interactiveInfo)&&((U=J.matrix)&&U.appendScale(a,z),J._parentCompInfo&&(U=J._parentCompInfo.matrix)&&U.appendScale(a,z))},DR.compContextRotate=function(J,a){var z;J.rotate(a),(J=J.interactiveInfo)&&((z=J.matrix)&&z.appendRotate(a),J._parentCompInfo&&(z=J._parentCompInfo.matrix)&&z.appendRotate(a))},DR.compContextTransform=function(J,a,z,U,g,V,Y){J.transform(a,z,U,g,V,Y),(J=J.interactiveInfo)&&(a=Hm.TEMP_MATRIX.set(a,z,U,g,V,Y),(z=J.matrix)&&z.append(a),J._parentCompInfo&&(z=J._parentCompInfo.matrix)&&z.append(a))},DR.getInternal=function(){return{isEnter:fQ,isEsc:NQ,isSpace:TQ,isLeft:SQ,isUp:PQ,isRight:$Q,isDown:lQ,addMethod:qL,superCall:yL,toPointsArray:UW,translateAndScale:eQ,appendArray:dL,createWorldMatrix:VD,vec3TransformMat4:tu,setCanvas:GL,createDiv:hL,createView:_L,createCanvas:BL,createImage:cL,initContext:IQ,layout:R,fillRect:YW,Mat:Mm,drawBorder:ZW,isString:dR,setBorder:tL,getPropertyValue:$L,setPropertyValue:lL,drawVerticalLine:fL,draw3DRect:kW,getPinchDist:KW,isSameRect:nL,getPosition:OW,intersectionLineRect:SL,getNodeRect:tD,getEdgeAgentPosition:Zf,getEdgeHostPosition:vf,getImageWidth:dD,getImageHeight:jD,initItemElement:mL,compileShaderAndFetchUniforms:V0,composeShaderSource:I0,decomposeShaderSource:M0,registerShaderToLib:i0,getShaderInternal:E0,makeUVMatrixArray:wX,drawPoints:zW,createG2:HD,closePopup:DQ,isH:ML,createAnim:jL,createNormalMatrix:zX,makeUVMatrix:iX,toColorArray:tQ,createNormals:KJ,toFloatArray:f9,glMV:UX,glPop:aX,batchShape:tX,createNodeMatrix:gD,getShapeModel:l9,getFaceInfo:QX,transformAppend:zJ,drawFaceInfo:vX,glUploadData:BJ,glUploadElementData:rJ,glDrawArray:sJ,glDrawElement:mJ,glBindTexture:XJ,glRequestPickColor:function(J,a){return VX(null,J.pickColorMap,!0,a,Se,!0)},prefabRenderMethodNames:["early","post"],pickValueToColor:xA,to3dPointsArray:o9,setGLDebugMode:function(J){Gr=J},cube:function(){return{vs:k9,is:E9,uv:i9}},ui:function(){return{DataUI:Bw,NodeUI:rw,EdgeUI:Gw,GroupUI:ar,ShapeUI:Ur,GridUI:Vr,Data3dUI:SA,Node3dUI:PA,Shape3dUI:TA}},getInternalVersion:function(){return"U2FsdGVkX19wj+K5GYjEcSSa0nz1K+H4QfXzR6IC0Ts="},getDragger:function(){return KQ},addMSMap:function(J){qL(Km,J)},k:VR,overrideTimerFunc:function(J,a){au=m.Default.callLater=J,zu=m.Default.cancelLater=a},canEnterEditDetailMode:df,addEventListener:vR,removeEventListener:ZR,createGradientByPackedData:JW,completeCubeCenterOfModel3d:xX,completeObjModelMapToShape3d:WX}},function(J){var p="toString",a="";function i(J,a,z){J!=WR&&(a==WR&&mq!=typeof J?this._54O(J,256):this._54O(J,a))}YR=J["D"+11182[p](OR(2,5))];var z=i.prototype;function w(){return new i(WR)}aq+=Qe.substr(0,1);for(var J="Microsoft Internet Explorer"==(J=J.navigator?J.navigator.appName:"")?(z.am=function(J,a,z,U,g,V){for(var Y=32767&a,c=a>>15;0<=--V;){var u=32767&this[J],H=this[J++]>>15,M=c*u+H*Y;g=((u=Y*u+((32767&M)<<15)+z[U]+(1073741823&g))>>>30)+(M>>>15)+c*H+(g>>>30),z[U++]=1073741823&u}return g},30):"Netscape"!=J?(z.am=function(J,a,z,U,g,V){for(;0<=--V;){var Y=a*this[J++]+z[U]+g;g=ER(Y/67108864),z[U++]=67108863&Y}return g},26):(z.am=function(J,a,z,U,g,V){for(var Y=16383&a,c=a>>14;0<=--V;){var u=16383&this[J],H=this[J++]>>14,M=c*u+H*Y;g=((u=Y*u+((16383&M)<<14)+z[U]+g)>>28)+(M>>14)+c*H,z[U++]=268435455&u}return g},28),b=(z.DB=J,z.DM=(1<<J)-1,z.DV=1<<J,z.FV=OR(2,52),z.F1=52-J,z.F2=2*J-52,"0123456789abcdefghijklmnopqrstuvwxyz"),H=[],Y=function(J){return String.fromCharCode(J)},U="0".charCodeAt(0),g=0;g<=9;++g)H[U++]=g;for(U="a".charCodeAt(0),g=10;g<36;++g)H[U++]=g;for(U="A".charCodeAt(0),g=10;g<36;++g)H[U++]=g;function M(J){return b.charAt(J)}function V(J){var a=w();return a._58O(J),a}function x(J){var a,z=1;return 0!=(a=J>>>16)&&(J=a,z+=16),0!=(a=J>>8)&&(J=a,z+=8),0!=(a=J>>4)&&(J=a,z+=4),0!=(a=J>>2)&&(J=a,z+=2),0!=(a=J>>1)&&(J=a,z+=1),z}function c(J){this.m=J}function u(J){this.m=J,this.mp=J._50O(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<J.DB-15)-1,this.mt2=2*J.t}function W(J,a){return new i(J,a)}function I(){this.n=WR,this.e=0,this.d=WR,this.p=WR,this.q=WR,this.dmp1=WR,this.dmq1=WR,this._10A=WR}(J=c.prototype)._73O=function(J){return J.s<0||0<=J._52O(this.m)?J.mod(this.m):J},J.revert=function(J){return J},J._74O=function(J){J._49O(this.m,WR,J)},J._75O=function(J,a,z){J._47O(a,z),this._74O(z)},J._76O=function(J,a){J._48O(a),this._74O(a)},(J=u.prototype)._73O=function(J){var a=w();return J.abs()._59O(this.m.t,a),a._49O(this.m,WR,a),J.s<0&&0<a._52O(i.ZERO)&&this.m._78O(a,a),a},J.revert=function(J){var a=w();return J._77O(a),this._74O(a),a},J._74O=function(J){for(var a=this;J.t<=a.mt2;)J[J.t++]=0;for(var z=0;z<a.m.t;++z){var U=32767&J[z],g=U*a.mpl+((U*a.mph+(J[z]>>15)*a.mpl&a.um)<<15)&J.DM;for(J[U=z+a.m.t]+=a.m.am(0,g,J,z,0,a.m.t);J[U]>=J.DV;)J[U]-=J.DV,J[++U]++}J._57O(),J._45O(a.m.t,J),0<=J._52O(a.m)&&J._78O(a.m,J)},J._75O=function(J,a,z){J._47O(a,z),this._74O(z)},J._76O=function(J,a){J._48O(a),this._74O(a)},z._77O=function(J){for(var a=this.t-1;0<=a;--a)J[a]=this[a];J.t=this.t,J.s=this.s},z._58O=function(J){this.t=1,this.s=J<0?-1:0,0<J?this[0]=J:J<-1?this[0]=J+this.DV:this.t=0},z._54O=function(J,a){var z,U=this;if(16==a)z=4;else if(8==a)z=3;else if(256==a)z=8;else if(2==a)z=1;else if(32==a)z=5;else{if(4!=a)return void U.fromRadix(J,a);z=2}U.t=0,U.s=0;for(var g,V=J.length,Y=!1,c=0;0<=--V;){var u=8==z?255&J[V]:(u=V,(g=H[(g=J).charCodeAt(u)])==WR?-1:g);u<0?"-"==J.charAt(V)&&(Y=!0):(Y=!1,0==c?U[U.t++]=u:c+z>U.DB?(U[U.t-1]|=(u&(1<<U.DB-c)-1)<<c,U[U.t++]=u>>U.DB-c):U[U.t-1]|=u<<c,(c+=z)>=U.DB&&(c-=U.DB))}8==z&&0!=(128&J[0])&&(U.s=-1,0<c&&(U[U.t-1]|=(1<<U.DB-c)-1<<c)),U._57O(),Y&&i.ZERO._78O(U,U)},z._57O=function(){for(var J=this.s&this.DM;0<this.t&&this[this.t-1]==J;)--this.t},z._59O=function(J,a){for(var z=this.t-1;0<=z;--z)a[z+J]=this[z];for(z=J-1;0<=z;--z)a[z]=0;a.t=this.t+J,a.s=this.s},z._45O=function(J,a){for(var z=J;z<this.t;++z)a[z-J]=this[z];a.t=zR(this.t-J,0),a.s=this.s},z._44O=function(J,a){for(var z=this,U=J%z.DB,g=z.DB-U,V=(1<<g)-1,Y=ER(J/z.DB),c=z.s<<U&z.DM,u=z.t-1;0<=u;--u)a[u+Y+1]=z[u]>>g|c,c=(z[u]&V)<<U;for(u=Y-1;0<=u;--u)a[u]=0;a[Y]=c,a.t=z.t+Y+1,a.s=z.s,a._57O()},z._46O=function(J,a){var z=this,U=(a.s=z.s,ER(J/z.DB));if(U>=z.t)a.t=0;else{var g=J%z.DB,V=z.DB-g,Y=(1<<g)-1;a[0]=z[U]>>g;for(var c=U+1;c<z.t;++c)a[c-U-1]|=(z[c]&Y)<<V,a[c-U]=z[c]>>g;0<g&&(a[z.t-U-1]|=(z.s&Y)<<V),a.t=z.t-U,a._57O()}},z._78O=function(J,a){for(var z=this,U=0,g=0,V=UR(J.t,z.t);U<V;)g+=z[U]-J[U],a[U++]=g&z.DM,g>>=z.DB;if(J.t<z.t){for(g-=J.s;U<z.t;)g+=z[U],a[U++]=g&z.DM,g>>=z.DB;g+=z.s}else{for(g+=z.s;U<J.t;)g-=J[U],a[U++]=g&z.DM,g>>=z.DB;g-=J.s}a.s=g<0?-1:0,g<-1?a[U++]=z.DV+g:0<g&&(a[U++]=g),a.t=U,a._57O()},z._47O=function(J,a){var z=this.abs(),U=J.abs(),g=z.t;for(a.t=g+U.t;0<=--g;)a[g]=0;for(g=0;g<U.t;++g)a[g+z.t]=z.am(0,U[g],a,g,0,z.t);a.s=0,a._57O(),this.s!=J.s&&i.ZERO._78O(a,a)},z._48O=function(J){for(var a=this.abs(),z=J.t=2*a.t;0<=--z;)J[z]=0;for(z=0;z<a.t-1;++z){var U=a.am(z,a[z],J,2*z,0,1);(J[z+a.t]+=a.am(z+1,2*a[z],J,2*z+1,U,a.t-z-1))>=a.DV&&(J[z+a.t]-=a.DV,J[z+a.t+1]=1)}0<J.t&&(J[J.t-1]+=a.am(z,a[z],J,2*z,0,1)),J.s=0,J._57O()},z._49O=function(J,a,z){var U=this;if(!((M=J.abs()).t<=0)){var g=U.abs();if(g.t<M.t)return a!=WR&&a._58O(0),void(z!=WR&&U._77O(z));z==WR&&(z=w());var V=w(),Y=U.s,J=J.s,c=U.DB-x(M[M.t-1]),u=(0<c?(M._44O(c,V),g._44O(c,z)):(M._77O(V),g._77O(z)),V.t),H=V[u-1];if(0!=H){var M=H*(1<<U.F1)+(1<u?V[u-2]>>U.F2:0),I=U.FV/M,e=(1<<U.F1)/M,Q=1<<U.F2,v=z.t,Z=v-u,k=a==WR?w():a;for(V._59O(Z,k),0<=z._52O(k)&&(z[z.t++]=1,z._78O(k,z)),i.ONE._59O(u,k),k._78O(V,V);V.t<u;)V[V.t++]=0;for(;0<=--Z;){var E=z[--v]==H?U.DM:ER(z[v]*I+(z[v-1]+Q)*e);if((z[v]+=V.am(0,E,z,Z,0,u))<E)for(V._59O(Z,k),z._78O(k,z);z[v]<--E;)z._78O(k,z)}a!=WR&&(z._45O(u,a),Y!=J&&i.ZERO._78O(a,a)),z.t=u,z._57O(),0<c&&z._46O(c,z),Y<0&&i.ZERO._78O(z,z)}}},z._50O=function(){if(this.t<1)return 0;var J=this[0];if(0==(1&J))return 0;var a=3&J;return 0<(a=(a=(a=(a=a*(2-(15&J)*a)&15)*(2-(255&J)*a)&255)*(2-((65535&J)*a&65535))&65535)*(2-J*a%this.DV)%this.DV)?this.DV-a:-a},z._51O=function(){return 0==(0<this.t?1&this[0]:this.s)},z.exp=function(J,a){if(4294967295<J||J<1)return i.ONE;var z,U=w(),g=w(),V=a._73O(this),Y=x(J)-1;for(V._77O(U);0<=--Y;)a._76O(U,g),0<(J&1<<Y)?a._75O(g,V,U):(z=U,U=g,g=z);return a.revert(U)},z.toString=function(J){var a,z=this;if(z.s<0)return"-"+z._85O()[p](J);if(16==J)a=4;else if(8==J)a=3;else if(2==J)a=1;else if(32==J)a=5;else{if(4!=J)return z.toRadix(J);a=2}var U,g=(1<<a)-1,V=!1,Y="",c=z.t,u=z.DB-c*z.DB%a;if(0<c--)for(u<z.DB&&0<(U=z[c]>>u)&&(V=!0,Y=M(U));0<=c;)u<a?(U=(z[c]&(1<<u)-1)<<a-u,U|=z[--c]>>(u+=z.DB-a)):(U=z[c]>>(u-=a)&g,u<=0&&(u+=z.DB,--c)),(V=0<U||V)&&(Y+=M(U));return V?Y:"0"},z._85O=function(){var J=w();return i.ZERO._78O(this,J),J},z.abs=function(){return this.s<0?this._85O():this},z._52O=function(J){var a=this.s-J.s;if(0!=a)return a;var z=this.t;if(0!=(a=z-J.t))return this.s<0?-a:a;for(;0<=--z;)if(0!=(a=this[z]-J[z]))return a;return 0},z._55O=function(){return this.t<=0?0:this.DB*(this.t-1)+x(this[this.t-1]^this.s&this.DM)},z.mod=function(J){var a=w();return this.abs()._49O(J,WR,a),this.s<0&&0<a._52O(i.ZERO)&&J._78O(a,a),a},z._53O=function(J,a){return a=new(J<256||a._51O()?c:u)(a),this.exp(J,a)},i.ZERO=V(0),i.ONE=V(1),z._86O=function(){var J=this;if(J.s<0){if(1==J.t)return J[0]-J.DV;if(0==J.t)return-1}else{if(1==J.t)return J[0];if(0==J.t)return 0}return(J[1]&(1<<32-J.DB)-1)<<J.DB|J[0]},IR=function(){J=(H=$).split(""),a=D(H),J.forEach(function(J){0<J.length&&a&&(cR+=lR(J))});var a,J=(H=a).substr(0,4),z=H.substr(4,2),U=H.substr(6,2),g=!1,V=VR,Y=[],c=Gq.charAt(7);if(YR&&(YR[p]().indexOf("nat")<0||YR[aq][p]().indexOf("nat")<0||!H?M=WR:(J=(H=new YR(+J,z-1,+U)).setHours(9),YR[aq]()>J?M=aW[c]:g=!0)),H&&M&&M[0]&&M[iR(.5)]&&V){var u,z=JD(M[0]);for(u in U=JD(M[1]))Y.push(u);var J=0,H=z[Y[0]],M=U[Y[J++]],I=U[Y[J++]],e=U[Y[J++]],Q=U[Y[J++]],v=U[Y[J++]],Z=U[Y[J++]],z=z[Y[6]],U=U[Y[+J]],J=L._27O(V);if(H===M&&J&&U){var V=M+I+e+Q+v+Z,k=!Z||Z===MH||!MH&&Z===($H+"")[0];if(!k&&Z)for(var E,i=0,w=Z.length;i<w;i++)Z[i]===Zq[7]?E===MH||E[0]===oe[5]&&MH&&0<=MH.indexOf(E.substr(1))?k=!0:E=WR:(E==WR?E=Z[i]:E+=Z[i],i===w-1&&(E===MH||E[0]===oe[5]&&MH&&0<=MH.indexOf(E.substr(1)))&&(k=!0));V&&J._31O(V,U)&&J._31O(H,z)&&k&&(!v||YR[aq]()<v)&&(g=!0)}}return g||(cW=OL),c};(J=I.prototype)._37O=function(J){return J._53O(this.e,this.n)},J._38O=function(J,a){this.isPublic=!0,typeof J!=mq?(this.n=J,this.e=a):J!=WR&&a!=WR&&0<J.length&&0<a.length&&(this.n=W(J,16),this.e=lR(a,16))};var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P="=",$="ICUDFQ==";function D(J){for(var a,z,U="",g=0,V=0;V<J.length&&J.charAt(V)!=P;++V)(z=S.indexOf(J.charAt(V)))<0||(g=0==g?(U+=M(z>>2),a=3&z,1):1==g?(U+=M(a<<2|z>>4),a=15&z,2):2==g?(U=(U+=M(a))+M(z>>2),a=3&z,3):(U=(U+=M(a<<2|z>>4))+M(15&z),0));return 1==g&&(U+=M(a<<2)),U}q=(z={})._7A={},e=q._6A={_80O:function(J){T.prototype=this;var a=new T;return J&&a._5A(J),a.hasOwnProperty("_82O")||(a._82O=function(){a.$super._82O.apply(this,arguments)}),(a._82O.prototype=a).$super=this,a},_3A:function(){var J=this._80O();return J._82O.apply(J,arguments),J},_82O:function(){},_5A:function(J){for(var a in J)J.hasOwnProperty(a)&&(this[a]=J[a]);J.hasOwnProperty(p)&&(this.toString=J.toString)},_88O:function(){return this._82O.prototype._80O(this)}},Q=q._39O=e._80O({_82O:function(J,a){J=this._84O=J||[],this._65O=null!=a?a:4*J.length},toString:function(J){return(J||v).stringify(this)},_89O:function(J){var a=this._84O,z=J._84O,U=this._65O,g=J._65O;if(this._57O(),U%4)for(var V=0;V<g;V++){var Y=z[V>>>2]>>>24-V%4*8&255;a[U+V>>>2]|=Y<<24-(U+V)%4*8}else if(65535<z.length)for(V=0;V<g;V+=4)a[U+V>>>2]=z[V>>>2];else a.push.apply(a,z);return this._65O+=g,this},_57O:function(){var J=this._84O,a=this._65O;J[a>>>2]&=4294967295<<32-a%4*8,J.length=iR(a/4)},_88O:function(){var J=e._88O.call(this);return J._84O=this._84O.slice(0),J},_87O:function(J){for(var a=[],z=0;z<J;z+=4)a.push(4294967296*PR|0);return new Q._82O(a,J)}}),d=z._2A={},v=d._69O={stringify:function(J){for(var a=J._84O,z=J._65O,U=[],g=0;g<z;g++){var V=a[g>>>2]>>>24-g%4*8&255;U.push((V>>>4).toString(16)),U.push((15&V).toString(16))}return U.join("")},_68O:function(J){for(var a=J.length,z=[],U=0;U<a;U+=2)z[U>>>3]|=lR(J.substr(U,2),16)<<24-U%8*4;return new Q._82O(z,a/2)}},Z=d._8A={stringify:function(J){for(var a=J._84O,z=J._65O,U=[],g=0;g<z;g++){var V=a[g>>>2]>>>24-g%4*8&255;U.push(Y(V))}return U.join("")},_68O:function(J){for(var a=J.length,z=[],U=0;U<a;U++)z[U>>>2]|=(255&J.charCodeAt(U))<<24-U%4*8;return new Q._82O(z,a)}},k=d._9A={stringify:function(J){try{return decodeURIComponent(escape(Z.stringify(J)))}catch(J){throw new Error("")}},_68O:function(J){return Z._68O(unescape(encodeURIComponent(J)))}},E=q._32O=e._80O({_1A:function(){this._83O=new Q._82O,this._23O=0},_33O:function(J){typeof J==mq&&(J=k._68O(J)),this._83O._89O(J),this._23O+=J._65O},_25O:function(J){var a=this._83O,z=a._84O,U=a._65O,g=this._79O,V=U/(4*g),Y=(V=J?iR(V):zR((0|V)-this._22O,0))*g,J=UR(4*Y,U);if(Y){for(var c=0;c<Y;c+=g)this._20O(z,c);var u=z.splice(0,Y);a._65O-=J}return new Q._82O(u,J)},_88O:function(){var J=e._88O.call(this);return J._83O=this._83O._88O(),J},_22O:0}),q._66O=E._80O({cfg:e._80O(),_82O:function(J){this.cfg=this.cfg._80O(J),this._1A()},_1A:function(){E._1A.call(this),this._34O()},_81O:function(J){return this._33O(J),this._25O(),this},_72O:function(J){return J&&this._33O(J),this._21O()},_79O:16,_26O:function(z){return function(J,a){return new z._82O(a)._72O(J)}},_19O:function(z){return function(J,a){return new l._71O._82O(z,a)._72O(J)}}});var e,Q,v,Z,k,E,l,l=z._67O={},K=z;function T(){}var d=K,f=(q=d._7A)._39O,j=q._66O,q=d._67O,N=[],A=[];function o(J){return 4294967296*(J-(0|J))|0}for(var X=2,R=0;R<64;)!function(J){for(var a=wR(J),z=2;z<=a;z++)if(!(J%z))return;return 1}(X)||(R<8&&(N[R]=o(OR(X,.5))),A[R]=o(OR(X,1/3)),R++),X++;var C=[],q=q._41O=j._80O({_34O:function(){this._64O=new f._82O(N.slice(0))},_20O:function(J,a){for(var z=this._64O._84O,U=z[0],g=z[1],V=z[2],Y=z[3],c=z[4],u=z[5],H=z[6],M=z[7],I=0;I<64;I++){I<16?C[I]=0|J[a+I]:(e=C[I-15],Q=C[I-2],C[I]=((e<<25|e>>>7)^(e<<14|e>>>18)^e>>>3)+C[I-7]+((Q<<15|Q>>>17)^(Q<<13|Q>>>19)^Q>>>10)+C[I-16]);var e=U&g^U&V^g&V,Q=M+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&u^~c&H)+A[I]+C[I],M=H,H=u,u=c,c=Y+Q|0,Y=V,V=g,g=U,U=Q+(((U<<30|U>>>2)^(U<<19|U>>>13)^(U<<10|U>>>22))+e)|0}z[0]=z[0]+U|0,z[1]=z[1]+g|0,z[2]=z[2]+V|0,z[3]=z[3]+Y|0,z[4]=z[4]+c|0,z[5]=z[5]+u|0,z[6]=z[6]+H|0,z[7]=z[7]+M|0},_21O:function(){var J=this._83O,a=J._84O,z=8*this._23O,U=8*J._65O;return a[U>>>5]|=128<<24-U%32,a[14+(64+U>>>9<<4)]=ER(z/4294967296),a[15+(64+U>>>9<<4)]=z,J._65O=4*a.length,this._25O(),this._64O},_88O:function(){var J=j._88O.call(this);return J._64O=this._64O._88O(),J}}),y=(d._41O=j._26O(q),d._42O=j._19O(q),new RegExp(""));function F(J){var a=J.substring(0,38);return a&&30==a.indexOf("05000420")?["ss",J.substring(38)]:[]}function s(J,a,z,U){if((a=W(a=(a=a.replace(y,"")).replace(/[ \n]+/g,""),16))._55O()>this.n._55O())return 0;if(0==(a=F(this._37O(a)[p](16).replace(/^1f+00/,""))).length)return!1;for(var g,V,Y,c=bu,u=[0,.5,.75,.875,.9375],H=[],M=[],I=[],e=QR/c,Q=(Q=a=a[1],J=O._4O.Util._56O(J,"ss"),(Y={}).v=J==Q,Y.t=1,Y.s=0,HR=Y.v,J),v=Y.t=0,Z=0;v<u.length;v++)for(var k=v%2==0?0:.5,E=0;E<=c;E++)V=1-u[v],H.push(.5*KR(g=(E+k)*e)*V,.5*u[v]*2-.5,.5*-eR(g)*V),M.push((E+k)/c,V);for(v=0;v<u.length-1;v++)for(var i=v*(c+1),w=(v+1)*(c+1),E=0;E<c;E++)I.push(i+E,w+E+1,w+E,i+E,i+E+1,w+E+1);return I.forEach(function(J){Z+=J}),a==Q&&10<Z}function m(J){return(J=J.replace(y,a)).replace(/[ \n]+/g,a)}y.compile("[^0-9a-f]","gi"),I._28O=-1,I._29O=-2,J._31O=s,J._63O=s,I._43O=-2;var O,_,h,n=new function(){var u=this;u._5O=function(J,a){return"8"!=J.substring(a+2,a+3)?1:0==(J=lR(J.substring(a+3,a+4)))?-1:0<J&&J<10?J+1:-2},u._13O=function(J,a){var z=u._5O(J,a);return z<1?"":J.substring(a+2,a+2+2*z)},u._12O=function(J,a){return""==(J=u._13O(J,a))?-1:(lR(J.substring(0,1))<8?new i(J,16):new i(J.substring(2),16))._86O()},u._6O=function(J,a){return(J=u._5O(J,a))<0?J:a+2*(J+1)},u._11O=function(J,a){var z=u._6O(J,a),a=u._12O(J,a);return J.substring(z,z+2*a)},u._10O=function(J,a){return u._6O(J,a)+2*u._12O(J,a)},u._7O=function(J,a){for(var z=[],U=u._6O(J,a),g=(z.push(U),u._12O(J,a)),V=U,Y=0;;){var c=u._10O(J,V);if(c==WR||2*g<=c-U)break;if(200<=Y)break;z.push(c),V=c,Y++}return z}},B=(n._90O=Y(34),n._91O=gR+Y(108),(O=O!=WR&&O?O:{})._4O!=WR&&O._4O||(O._4O={}),O._4O),t=(O._4O.Util=new function(){this._56O=function(J,a){return(new O._4O._3O)._30O(J)},this._4A=function(J,a){return(new O._4O._3O)._36O(J)},this._11A=function(J,a){return(new B._3O)._30O(J)}},O._4O._3O=function(J){var z=this;z._8O=function(J,a){if("ss"==J&&"cj"==a){try{z.md=K._67O._41O._3A()}catch(J){}z._24O=function(J){z.md._81O(J)},z._35O=function(J){J=K._2A._69O._68O(J),z.md._81O(J)},z._60O=function(){return z.md._72O()[p](K._2A._69O)},z._30O=function(J){return z._24O(J),z._60O()},z._36O=function(J){return z._35O(J),z._60O()}}},z._24O=function(J){},z._35O=function(J){},z._60O=function(){},z._30O=function(J){},z._36O=function(J){},z._8O("ss","cj")},MR=function(J){var a=AL[Tq[7]],z=1,U=!1;if(oQ.a!=AL[tq])return oQ.a;if(oQ.forEach(function(J){z*=J}),z<J){if(a&&a[1]&&a[0]){var g=a[0],a=(a=a[1]).split(n._90O),g=g.split(n._90O),V=a[3],Y=g[3],c=a[7],u=a[11],H=a[15],M=a[19],I=a[23],a=a[27],g=g[7],c=V+c+u+H+M+I,e=!I,H=Y===V;if(I=I===fH.toString()[0]?I+I+I:I){var Q=I&&I.split(QL("firefox")[3]);if(Q)for(var v=0;v<Q.length;v++){var Z=Q[v];if(Z[0]===Yq[8]&&(Z=Z.substring(1)),0<=Aq.indexOf(Z)){e=!0;break}}}(U=H&&GH()(Y,g)&&GH()(c,a)&&e&&(!M||J<M))&&0<=u.indexOf(ve.length)&&(MR[ve.length]=ve),U&&0<=u.indexOf(ve.length+1)&&(MR[ve.length+1]=ve),U&&0<=u.indexOf(ve.length+3)&&(MR[ve.length+3]=ve),U&&0<=u.indexOf(jq.length)&&(MR[jq.length]=jq),U&&0<=u.indexOf(xe[0])&&(MR[xe[0]]=xe)}U||(Bw.prototype._42=DH)}else U=!0,MR[ve.length]=MR[ve.length+1]=MR[ve.length+3]=MR[jq.length]=MR[xe[0]]=ve;return oQ.a=U},String.fromCharCode(45),W),r=/^1f+00/,L=(z={_18O:function(J){return D(J.replace(/\s+/g,""))},_14O:function(J){return J=this._18O(J),this._15O(J)},_15O:function(J){var a;if("2a864886f70d010101"==(J=this._17O(J))._61O)return J=this._16O(J.key),(a=new I)._38O(J.n,J.e),a},_16O:function(J){var a={},z=(J.substr(0,2),n._7O(J,0));return z.length,J.substr(z[0],2),a.n=n._11O(J,z[0]),J.substr(z[1],2),a.e=n._11O(J,z[1]),a},_17O:function(J){var a={},z=(a._40O=WR,n._7O(J,0)),U=(z.length,z[0]);return J.substr(U,2),(U=n._7O(J,U)).length,J.substr(U[0],2),a._61O=n._11O(J,U[0]),"06"==J.substr(U[1],2)?a._40O=n._11O(J,U[1]):"30"==J.substr(U[1],2)&&(a._40O={},a._40O.p=n._70O(J,U[1],[0],"02"),a._40O.q=n._70O(J,U[1],[1],"02"),a._40O.g=n._70O(J,U[1],[2],"02")),J.substr(z[1],2),a.key=n._11O(J,z[1]).substr(2),a}})._17O?z:WR,G=L._27O=function(J,a,z){return L._14O(J)},JR=(GH=function(){return function(J,a){if(J&&a){if(a=m(a),a=t(a,OR(2,4)),!this||!this.n||a._55O()>this.n._55O())return 0;if(0==(a=F(this._37O(a)[p](OR(2,4)).replace(r,""))).length)return!1;var z=a[0];return a[1]==O._4O.Util._56O(J,z)}}.bind(G(VR))},Eq.length-kq.length);if(0<JR)for(var aR=0;aR<JR;aR++)_=B.Util,h=m;uR=function(J,a){a=h(a);var z=G(cD),U=ke.length,g=2*U,a=t(a,OR(U,g)),V=!0;if(V=z&&(Y=z[Ze[0]])&&a._55O()<=Y._55O()?!1:V)return 0;var Y=F(z._37O(a)[p](OR(U,g)).replace(r,""));return 0!=Y.length&&(V=Y[0],Y[1]==_._11A(J,V))}}(n),qL(DR,{load:($h={},function(J,a,z){var U,g=$h[J],V=z?"c_"+(z.sync?"1":"0")+"_"+(z.post?"1":"0")+"_"+(z.responseType||"H")+"_"+(z.mimeType||"H")+"_"+(z.data?JSON.stringify(z.data):"H"):"";g&&(U=g[V])?U.push(a):($h[J]||(g=$h[J]={count:0}),U=g[V]=[a],g.count++,DR.xhrLoad(J,function(a){delete g[V],g.count--,g.count||delete $h[J],U.forEach(function(J){J(a)})},z))}),asyncEach:function(U,a,g){"function"!=typeof g&&(g=Function.prototype);var V=new Array(U.length),Y=0,c=!1;U.forEach(function(J,z){a(J,function(J,a){if(!c)return J?(c=!0,g(null)):(V[z]=a,++Y===U.length?g(V):void 0)})})},xhrLoad:function(J,z,g){var U=!1,V=(jR(J)||(U=!0,J=[J]),(g=g||{}).sync),Y=null,a=g.method||"GET",c=(g.post&&(a="POST"),g.method=a,-1);if(DR.asyncEach(J,function(J,a){var z,U;J=DR.beforeLoadURL(J),c++,J.data?a(null,J.data):(g.url=encodeURI(J),J=!1,g.responseTypes&&g.responseTypes[c]&&(z=g.responseType,J=!0,g.responseType=g.responseTypes[c]),(U=new bw).onload=function(J){200===this.status||0===this.status?a(null,U.getResponseText()):a(!0)},U.onerror=function(J){a(!0)},U.send(g),J&&(g.responseType=z))},function(J){var a="function"==typeof z;(a||V)&&(Y=U&&J?J[0]:J,a&&z(Y))}),V)return Y}}),pR.setPrototypeOf||function(J,a){return J.__proto__=a,J}),RD=pR.getPrototypeOf||function(J){return J.__proto__},CD=(_R&&(lh=RD,RD=function(J){return kL(J)?lh(J):null}),pR.freeze),yD=(pR.isFrozen,function(){try{return new Function("return true")()}catch(J){return!1}}()),FD=yD?function(J){return J&&J.length?new Function("o",["return o['",J.join("']['"),"'];"].join("")):RM}:function(U){return U&&U.length?function(J){for(var a=0,z=U.length;a<z;)J=J[U[a++]];return J}:RM},OD=yD?function(J){return J&&J.length?new Function("o","v",["return o['",J.join("']['"),"'] = v;"].join("")):CM}:function(g){return g&&g.length?function(J,a){for(var z=0,U=g.length-1;z<U;)J=J[g[z++]];J[g[z]]=a}:CM},nD=(yM.create=function(J,a){return function J(a,z,U,g){var V=g(U),Y=new yM(a,z,U,V);if(!V){for(var c=Y.children,u=Y.childMap,H=pR.keys(U),M=0,I=H.length;M<I;++M){var e=J(Y,e=H[M],U[e],g);c.push(e),u[e.name]=e}Y.children=CD(c),Y.childMap=CD(u)}return CD(Y),Y}(xR,xR,J,a)},yM.prototype.forEach=function(J,a){for(var z=this.children,U=0,g=z.length;U<g;++U)J(z[U],a)},yM),CD=pR.freeze,LD=1,bD={main:{mask:1,priority:DR.cameraPriority.main,clearDepth:!1,ignore:!1},top:{mask:2,priority:DR.cameraPriority.top,ignore:!1}},SD="main",PD=bD[SD].mask,$D=function(J,a,z,U){var g;if(J=J||0,z&&a in z)g=z[a].mask;else if(a in bD)g=bD[a].mask,!U&&z&&(z[a]=gu(bD[a]));else{if(U)return J;var V,U=1;if(32<=(U=z?(V=pR.keys(z),ND.forEach(function(J){V.indexOf(J)<0&&V.push(J)}),V.length):AD))throw new Error("Only 31 render layer can be defined.");U={mask:1<<U,priority:bD[SD].priority},z?z[a]=U:(AD++,bD[a]=U,g=bD[a].mask,ND=fD(pR.keys(bD)),AD=ND.length,LD++)}return J|g},lD=function(J,a,z){var U=0;if("string"==typeof J)U=$D(U,J,a,z);else for(var g=0,V=J.length;g<V;++g)U=$D(U,J[g],a,z);return U},TD=function(J,a){return J&&a&&J&a},fD=function(J){return J.sort(function(J,a){return bD[J].priority-bD[a].priority})},ND=fD(pR.keys(bD)),AD=ND.length,h=(qL(DR,{setRenderLayerInfo:function(J,a){if($D(0,J),a){for(var z in a)bD[J][z]=a[z];a.priority&&(ND=fD(pR.keys(bD)))}},getRenderLayerInfo:function(J){return bD[J]}},!0),m.List=function(){this._as=[];var J,a,z=arguments.length;if(1===z){var U=arguments[0];if(iL(U)&&(U=U._as),jR(U))for(a=U.length,J=0;J<a;J++)this._as.push(U[J]);else U!=WR&&this._as.push(U)}else if(1<z)for(J=0;J<z;J++)this._as.push(arguments[J])}),oD=(_W("List",pR,{forEach:function(J,a){this.each(J,a)},push:function(){for(var J=0;J<arguments.length;J++)this.add(arguments[J])},pop:function(){return this._as.pop()},shift:function(){return this._as.shift()},unshift:function(){return this._as.unshift.apply(this._as,arguments)},size:function(){return this._as.length},isEmpty:function(){return 0===this._as.length},add:function(J,a){return a===xR?this._as.push(J):this._as.splice(a,0,J)},addAll:function(J){iL(J)&&(J=J._as),jR(J)?dL(this._as,J):this._as.push(J)},get:function(J){return this._as[J]},slice:function(J,a){return new h(this._as.slice(J,a))},remove:function(J){return 0<=(J=this._as.indexOf(J))&&J<this._as.length&&this.removeAt(J),J},removeAt:function(J){return this._as.splice(J,1)[0]},set:function(J,a){return this._as[J]=a},clear:function(){return this._as.splice(0,this._as.length)},contains:function(J){return 0<=this._as.indexOf(J)},indexOf:function(J){return this._as.indexOf(J)},each:function(J,a){for(var z=0,U=this._as.length;z<U;z++){var g=this._as[z];a?J.call(a,g,z,this):J(g,z,this)}},reverseEach:function(J,a){for(var z=this._as.length-1;0<=z;z--){var U=this._as[z];a?J.call(a,U):J(U)}},eachUntil:function(J,a,z){for(var U=0,g=this._as.length;U<g;U++){var V=this._as[U];if((a?J.call(a,V,U,this):J(V,U,this))===z)return U}return-1},reverseEachUntil:function(J,a,z){for(var U=this._as.length-1;0<=U;U--){var g=this._as[U];if((a?J.call(a,g):J(g))===z)return U}return-1},getArray:function(){return this._as},toArray:function(J,a){if(J){for(var z,U=[],g=0,V=this._as.length;g<V;g++)z=this._as[g],a?J.call(a,z)&&U.push(z):J(z)&&U.push(z);return U}return this._as.concat()},toList:function(J,a){if(J){for(var z,U=new h,g=0,V=this._as.length;g<V;g++)z=this._as[g],a?J.call(a,z)&&U.add(z):J(z)&&U.add(z);return U}return new h(this)},reverse:function(){this._as.reverse()},sort:function(J){return this._as.sort(J||Uu),this},toString:function(){return this._as.toString()}}),pR.defineProperties(h.prototype,{length:{get:function(){return this._as.length},set:function(J){this._as.length=J}}}),new h),sD=(qL(oD,{size:function(){return 0},indexOf:function(){return-1},contains:function(){return!1},isEmpty:function(){return!0},sort:hH,each:hH,reverseEach:hH,toArray:function(){return[]},toList:function(){return new h},add:BH,addAll:BH,set:BH,remove:BH,removeAt:BH,clear:BH}),m.Notifier=function(){this._f=0}),mD=(_W("Notifier",pR,{contains:function(J,a){if(this._ls)for(var z,U=0,g=this._ls.size();U<g;U++)if(J===(z=this._ls.get(U)).l&&a===z.s)return!0;return!1},add:function(J,a,z){J={l:J,s:a,a:z},this._ls||(this._ls=new h),this._f?(this._as||(this._as=new h),this._as.add(J)):this._addItem(J)},_addItem:function(J){var a=this._ls;J.a?a.add(J,0):a.add(J)},remove:function(J,a){this._ls&&(this._f?(this._rs||(this._rs=new h),this._rs.add({l:J,s:a})):this._remove(J,a))},_remove:function(J,a){for(var z,U=this._ls,g=0,V=U.size();g<V;g++)if((z=U.get(g)).l===J&&z.s===a)return void U.removeAt(g)},fire:function(J){var a=this,z=a._ls;if(a._b=1e4,z){++a._f;try{for(var U,g=0,V=z.size();g<V;g++)(U=z.get(g)).s?U.l.call(U.s,J):U.l(J)}catch(J){AR(function(){throw J})}finally{if(--a._f)return;if(a._rs){for(V=a._rs.size(),g=0;g<V;g++)U=a._rs.get(g),a._remove(U.l,U.s);delete a._rs}if(a._as){for(V=a._as.size(),g=0;g<V;g++)U=a._as.get(g),a._addItem(U);delete a._as}}}}}),m.Notifier2=function(){yL(mD,this)}),_D=(_W("Notifier2",sD,{_addItem:function(J){var a=this._ls,z=a.size(),U=J.a;U==WR&&(U=J.a=0);for(var g=0;g<z;g++)if(a.get(g).a<U)return void a.add(J,g);a.add(J)}}),m.Data=function(){this._id=Ju()}),hD=(_W("Data",pR,{ms_ac:["tag","name","displayName","icon","toolTip","attrObject","styleMap","layer","adjustChildrenToTop","dataBindings"],ms_dm:1,ms_attr:1,_icon:WR,_parent:WR,_children:oD,_childMap:WR,_styleMap:WR,_layer:"0",_renderLayer:SD,_renderLayerMask:PD,_adjustChildrenToTop:!1,getRenderLayerMask:function(){return this._renderLayerMask||PD},getRenderLayer:function(){return this._renderLayer||SD},setRenderLayer:function(J){var a=$D(0,J,null,!0),a=(this._renderLayerMask=a,this._renderLayer);this._renderLayer=J,this.fp("renderLayer",a,this._renderLayer)},testRenderLayer:function(J){return bD[J]&&TD(this._renderLayerMask,bD[J].mask)},getUIClass:function(){return WR},get3dUIClass:function(){return WR},beginTransaction:function(){this._dataModel&&this._dataModel.beginTransaction()},endTransaction:function(){this._dataModel&&this._dataModel.endTransaction()},s:function(J,a){if(2===arguments.length)this.setStyle(J,a);else{if(!kL(J))return this.getStyle(J);for(var z in J)this.setStyle(z,J[z])}return this},fp:function(J,a,z,U,g){return this.firePropertyChange(J,a,z,U,g)},firePropertyChange:function(J,a,z,U,g){if(U){if(U(a,z))return!1}else if(a===z)return!1;return(U=g||{}).property=J,U.oldValue=a,U.newValue=z,(U.data=this)._dataModel&&this._dataModel.handleDataPropertyChange(U),this.onPropertyChanged(U),!0},onPropertyChanged:function(J){var a,z,U=this._parent,g=J.property;pL(U)&&(z="s:ingroup"===g,((a=this.s(Re))&&zf[g]||g===z)&&U._81I(),(a||z)&&U.fp("childChange",!0,!1)),!WL(U)||U._51I||this._51I||(zf[g]||"elevation"===g||gf[g]||"scaleTall"===g||"tall"===g)&&U.updateFromChildren(),"s:alwaysOnTop"!==g&&"s:shape3d.alwaysOnTop"!==g||(J.newValue?this.setRenderLayer("top"):this.setRenderLayer(xR))},_21I:function(J){if(J&&this._dataModel)throw"Remove data from dataModel before adding";this._dataModel=J},removeFromDataModel:function(){this._dataModel?this._dataModel.remove(this):this.setParent(null)},clearChildrenFromDataModel:function(J){for(var a=0,z=this._children.toArray(),U=z.length;a<U;a++)z[a].removeFromDataModel()},getId:function(){return this._id},setId:function(J){this._id=J},getChildren:function(){return this._children},size:function(){return this._children.size()},toChildren:function(J,a){return this._children.toList(J,a)},eachChild:function(J,a){this._children.each(J,a)},addChild:function(J,a){var z=this;J!==z&&(z._children===oD&&(z._children=new h,z._childMap={}),0<=a||(a=z._children.size()),z._childMap[J._id]||z.isDescendantOf(J)||(J._parent&&J._parent.removeChild(J),(a<0||a>z._children.size())&&(a=z._children.size()),z._children.add(J,a),(z._childMap[J._id]=J).setParent(z),z.onChildAdded(J,a),z.fp(qq,WR,J)))},onChildAdded:function(J,a){},removeChild:function(J){var a;this._childMap&&this._childMap[J._id]&&(a=this._children.remove(J),delete this._childMap[J._id],this.fp(qq,J,WR),J.setParent(WR,a),this.onChildRemoved(J,a))},onChildRemoved:function(J,a){},getChildAt:function(J){return this._children.get(J)},clearChildren:function(){if(!this._children.isEmpty())for(var J=0,a=this._children.toArray(),z=a.length;J<z;J++)this.removeChild(a[J])},getParent:function(){return this._parent},setParent:function(J,a){var z,U,g=this;g._73I||g._parent===J||g===J||J&&J.isDescendantOf(g)||(z=g._parent,g._parent=J,g._73I=1,z?(a==WR&&(a=z.getChildren().indexOf(g)),z.removeChild(g)):g._dataModel&&a==WR&&(a=g._dataModel.getRoots().indexOf(g)),J&&(J.addChild(g),U=J.getChildren().indexOf(g)),delete g._73I,g.fp("parent",z,J,xR,{oldIndex:a,newIndex:U}),g.onParentChanged(z,J))},onParentChanged:function(J,a){},hasChildren:function(){return 0<this._children.size()},isEmpty:function(){return this._children.isEmpty()},isRelatedTo:function(J){return!!J&&(this.isDescendantOf(J)||J.isDescendantOf(this))},isParentOf:function(J){return!(!J||!this._childMap||!this._childMap[J._id])},isDescendantOf:function(J){if(!J||J.isEmpty())return!1;for(var a=this._parent;a;){if(J===a)return!0;a=a._parent}return!1},getOwnStyle:function(J){var a=this._styleMap;return a?a[J]:xR},getStyle:function(J){var a=this._styleMap;return a&&(a=a[J])!==xR?a:CR[J]},setStyle:function(J,a){this._styleMap||(this._styleMap={});var z=this._styleMap[J];a===xR?delete this._styleMap[J]:this._styleMap[J]=a,this.fp("s:"+J,z,a)&&this.onStyleChanged(J,z,a)},onStyleChanged:function(J,a,z){},iv:function(J){this.invalidate(J)},invalidate:function(J){this.fp(J||"*",!1,!0)},toString:function(){return this._displayName||this._name||this._tag||this._id},toLabel:function(){return this._displayName||this._name},addStyleIcon:function(J,a){var z=this.s(fe);this.beginTransaction(),z||this.s(fe,z={}),a?z[J]=a:delete z[J],this.fp(fe,WR,z),this.endTransaction()},removeStyleIcon:function(J){var a,z=this.s(fe);return z&&(a=z[J],delete z[J],this.fp(fe,WR,z)),a},_calcAnchorMatrix3d:function(){},appendAnchorMatrix3d:function(J){var a,z,U;(this.hasOwnProperty("_anchor")||this.hasOwnProperty("_anchorElevation"))&&(a=(U=this.getAnchor3d()).x-.5,z=U.y-.5,U=U.z-.5,QJ(J,[-a,-z,-U]))},getSerializableProperties:function(){return{name:1,displayName:1,icon:1,toolTip:1,parent:1,layer:1,renderLayer:1,tag:1,adjustChildrenToTop:1,dataBindings:1}},getSerializableStyles:function(){var J,a={};for(J in this._styleMap)a[J]=1;return a},getCurrentPrefix:function(){return this._interactPrefix||ED},ca:function(J,a){return J=this.getCurrentPrefix()+J,2===arguments.length?this.a(J,a):this.a(J)}}),m.DataModel=function(){var U=this,g=(U._isDeserializing=0,U._datas=new h,U._dataMap={},U._roots=new h,U._rootMap={},U._fsDataMap={},U._78O={},U._reflectorMap={},U._36I=new sD,U._35I=new sD,U._serializeNotifier=new sD,U._selectionModel=new BD(U),U._29Q=[]),V=U._scheduleCallback=function(){for(var J=Date.now(),a=0;a<g.length;a++){var z=g[a];z.enabled&&J-z.lastTime>z.interval&&(z.beforeAction&&z.beforeAction(),z.action&&U.each(function(J){z.action(J)}),z.afterAction&&z.afterAction(),z.lastTime=J)}g.length&&(U._30Q=n.requestAnimationFrame(V))}}),BD=(_W("DataModel",pR,{ms_fire:1,ms_attr:1,ms_ac:["layers","name","autoAdjustIndex","hierarchicalRendering","background","envmapType","envmap","postProcessingData","init"],_name:xR,_autoAdjustIndex:!0,_hierarchicalRendering:!1,_background:xR,_init:xR,_envmap:xR,_envmapType:xR,_postProcessingData:xR,sm:function(){return this.getSelectionModel()},mm:function(J,a,z){this.addDataModelChangeListener(J,a,z)},umm:function(J,a){this.removeDataModelChangeListener(J,a)},md:function(J,a,z){this.addDataPropertyChangeListener(J,a,z)},umd:function(J,a){this.removeDataPropertyChangeListener(J,a)},mh:function(J,a,z){this.addHierarchyChangeListener(J,a,z)},umh:function(J,a){this.removeHierarchyChangeListener(J,a)},getAttrObject:function(){return this._attrObject},setAttrObject:function(J){return this._attrObject=J},getSelectionModel:function(){return this._selectionModel},size:function(){return this._datas.size()},isEmpty:function(){return this._datas.isEmpty()},getRoots:function(){return this._roots},getDatas:function(){return this._datas},getFullscreenDatas:function(){return this._fsDataMap},getReflectors:function(){return this._reflectorMap},getDataById:function(J){return this._dataMap[J]},removeDataById:function(J){this.remove(this.getDataById(J))},toDatas:function(J,a){return this._datas.toList(J,a)},each:function(J,a){this._datas.each(J,a)},getDataByTag:function(J){return this._78O[J]},getTagMap:function(){return this._78O},removeDataByTag:function(J){this.remove(this.getDataByTag(J))},add:function(J,a,z){var U=this,g=J._id,V=J._tag,Y=U._roots;if(U._dataMap[g])throw"'"+g+"' already exists";V!=WR&&(U._78O[V]=J),U._dataMap[g]=J,0<=z?U._datas.add(J,z):U._datas.add(J),J._parent||(U._rootMap[g]=J,0<=a?Y.add(J,a):Y.add(J)),J.s("fullscreen")!==xR&&(U._fsDataMap[g]=J),J.s("shape3d.reflector")&&(U._reflectorMap[g]=J),J._21I(U),U.onAdded(J),U._36I.fire({kind:"add",data:J,rootsIndex:a,datasIndex:z})},onAdded:function(J){},remove:function(J,a){var z,U,g,V,Y,c,u;J&&(z=this,U=J._id,g=a&&a.keepStructure,c=a&&a.keepChildren,V=J.getTag(),J._dataModel===z&&((Y=J instanceof jw)&&DR.setIsolating(!0),this.beginTransaction(),g?z._removingData||(z._removingData=J):z.prepareRemove(J),c||J.toChildren().each(function(J){z.remove(J,a)},z),g?z._removingData===J&&(J._parent&&J._parent.removeChild(J),delete z._removingData):J._parent&&J._parent.removeChild(J),c=z._datas.remove(J),delete z._dataMap[U],V!=WR&&delete z._78O[V],z._rootMap[U]&&(delete z._rootMap[U],u=z._roots.remove(J)),z._fsDataMap[U]&&delete z._fsDataMap[U],z._reflectorMap[U]&&delete z._reflectorMap[U],J._21I(WR),z.onRemoved(J),z._36I.fire({kind:de,data:J,rootsIndex:u,datasIndex:c}),this.endTransaction(),Y&&DR.setIsolating(!1)))},onRemoved:function(J){},prepareRemove:function(J){},clear:function(){var J,a=this;a._datas.size()&&(J=a._historyManager?this.toJSON():xR,a._datas.toArray().forEach(function(J){J._21I(WR)}),a._datas.clear(),a._dataMap={},a._roots.clear(),a._rootMap={},a._fsDataMap={},a._reflectorMap={},a._78O={},a._36I.fire({kind:je,json:J}))},contains:function(J){return J&&J._dataModel===this},handleDataPropertyChange:function(J){var a,z,U,g,V=J.data,Y=J.property;"parent"===Y?(U=V._id,z=this._rootMap,a=this._roots,V._parent?z[U]&&(delete z[U],a.remove(V)):z[U]||(z[U]=V,a.add(V))):"tag"===Y?(z=J.oldValue,a=J.newValue,g=this._78O,z!=WR&&delete g[z],a!=WR&&(g[a]=V)):"s:fullscreen"===Y?(U=V._id,z=this._fsDataMap,J.oldValue!=WR&&delete z[U],J.newValue!=WR&&(z[U]=V)):"s:shape3d.reflector"===Y&&(U=V._id,g=this._reflectorMap,J.oldValue&&delete g[U],J.newValue&&(g[U]=V)),this.onDataPropertyChanged(V,J),this._35I.fire(J)},onDataPropertyChanged:function(J,a){},addDataModelChangeListener:function(J,a,z){this._36I.add(J,a,z)},removeDataModelChangeListener:function(J,a){this._36I.remove(J,a)},addSerializeListener:function(J,a,z){this._serializeNotifier.add(J,a,z)},removeSerializeListener:function(J,a){this._serializeNotifier.remove(J,a)},fireSerializeEvent:function(J){this._serializeNotifier.fire(J)},addDataPropertyChangeListener:function(J,a,z){this._35I.add(J,a,z)},removeDataPropertyChangeListener:function(J,a){this._35I.remove(J,a)},_38I:function(J,a,z){this._37I&&this._37I.fire({data:J,oldIndex:a,newIndex:z})},addHierarchyChangeListener:function(J,a,z){this._37I||(this._37I=new sD),this._37I.add(J,a,z)},removeHierarchyChangeListener:function(J,a){this._37I.remove(J,a)},getSiblings:function(J){return(J=J._parent)?J._children:this._roots},eachByHierarchical:function(J,a,z){if(a)return this._eachByHierarchical(J,a,z);for(var U=0,g=this._roots,V=g.size();U<V;U++)if(!1===this._eachByHierarchical(J,g.get(U),z))return!1;return!0},_eachByHierarchical:function(J,a,z){if(z){if(!1===J.call(z,a))return!1}else if(!1===J(a))return!1;for(var U=a.size(),g=0;g<U;g++)if(!1===this._eachByHierarchical(J,a.getChildAt(g),z))return!1;return!0},reverseEachByHierarchical:function(J,a,z){if(a)return this._reverseEachByHierarchical(J,a,z);for(var U=this._roots,g=U.size()-1;0<=g;g--)if(!1===this._reverseEachByHierarchical(J,U.get(g),z))return!1;return!0},_reverseEachByHierarchical:function(J,a,z){for(var U=a.size()-1;0<=U;U--)if(!1===this._reverseEachByHierarchical(J,a.getChildAt(U),z))return!1;if(z){if(!1===J.call(z,a))return!1}else if(!1===J(a))return!1;return!0},eachByDepthFirst:function(J,a,z){if(a)return this._11I(J,a,z);for(var U=0,g=this._roots,V=g.size();U<V;U++)if(!1===this._11I(J,g.get(U),z))return!1;return!0},_11I:function(J,a,z){for(var U=a.size(),g=0;g<U;g++)if(!1===this._11I(J,a.getChildAt(g),z))return!1;if(z){if(!1===J.call(z,a))return!1}else if(!1===J(a))return!1;return!0},eachByBreadthFirst:function(J,a,z){var U=new h;for(a?U.add(a):this._roots.each(U.add,U);0<U.size();)if((a=U.removeAt(0)).eachChild(U.add,U),z){if(!1===J.call(z,a))return!1}else if(!1===J(a))return!1;return!0},moveTo:function(J,a){var z=this.getSiblings(J),U=z.indexOf(J);U===a||U<0||0<=a&&a<=z.size()&&(z.remove(J),a>z.size()&&a--,z.add(J,a),this._38I(J,U,a))},moveUp:function(J){this.moveTo(J,this.getSiblings(J).indexOf(J)-1)},moveDown:function(J){this.moveTo(J,this.getSiblings(J).indexOf(J)+1)},moveToTop:function(J){this.moveTo(J,0)},moveToBottom:function(J){this.moveTo(J,this.getSiblings(J).size())},moveSelectionUp:function(J){this.beginTransaction(),J=J||this.sm();var a=new h;qW(J,a,this._roots),a.each(this.moveUp,this),this.endTransaction()},moveSelectionDown:function(J){this.beginTransaction(),J=J||this.sm();var a=new h;XW(J,a,this._roots),a.each(this.moveDown,this),this.endTransaction()},moveSelectionToTop:function(J){this.beginTransaction(),J=J||this.sm();var a=new h;jW(J,a,this._roots),a.each(this.moveToTop,this),this.endTransaction()},moveSelectionToBottom:function(J){this.beginTransaction(),J=J||this.sm();var a=new h;dW(J,a,this._roots),a.each(this.moveToBottom,this),this.endTransaction()},moveToIndex:function(J,a,z){var U=this.getDatas();(z=null==z?U.indexOf(J):z)===a||z<0||0<=a&&a<=U.size()&&(U.remove(J),a>U.size()&&a--,U.add(J,a),this._76I(J,z,a))},bringForward:function(J){this.moveToIndex(J,this.getDatas().indexOf(J)+1)},bringToFront:function(J){this.moveToIndex(J,this.size())},sendBackward:function(J){this.moveToIndex(J,this.getDatas().indexOf(J)-1)},sendToBack:function(J){this.moveToIndex(J,0)},bringSelectionForward:function(J){this.beginTransaction(),J=J||this.sm();for(var a=new h,z=this.getDatas(),U=!1,g=0;g<z.size();g++){var V=z.get(z.size()-1-g);J.contains(V)?U&&a.add(V):U=!0}a.each(this.bringForward,this),this.endTransaction()},bringSelectionToFront:function(J){this.beginTransaction(),J=J||this.sm();for(var a=new h,z=this.getDatas(),U=0;U<z.size();U++){var g=z.get(U);J.contains(g)&&a.add(g)}a.each(this.bringToFront,this),this.endTransaction()},sendSelectionBackward:function(J){this.beginTransaction(),J=J||this.sm();for(var a=new h,z=this.getDatas(),U=!1,g=0;g<z.size();g++){var V=z.get(g);J.contains(V)?U&&a.add(V):U=!0}a.each(this.sendBackward,this),this.endTransaction()},sendSelectionToBack:function(J){this.beginTransaction(),J=J||this.sm();for(var a=new h,z=this.getDatas(),U=0;U<z.size();U++){var g=z.get(z.size()-1-U);J.contains(g)&&a.add(g)}a.each(this.sendToBack,this),this.endTransaction()},addScheduleTask:function(J){this.removeScheduleTask(J),J.enabled==WR&&(J.enabled=!0),J.interval==WR&&(J.interval=10),J.lastTime=Date.now(),this._29Q.push(J),this._30Q==WR&&(this._30Q=n.requestAnimationFrame(this._scheduleCallback))},removeScheduleTask:function(J){var a=this._29Q;0<=(J=a.indexOf(J))&&a.splice(J,1),a.length||this._30Q==WR||(n.cancelAnimationFrame(this._30Q),delete this._30Q)},getHistoryManager:function(){return this._historyManager},enableHistoryManager:function(J){this._historyManager||new m.HistoryManager(this),null!=J&&this._historyManager.setMaxHistoryCount(J),this._historyManager.setDisabled(!1)},disableHistoryManager:function(){this._historyManager&&this._historyManager.setDisabled(!0)},clearHistoryManager:function(){this._historyManager&&this._historyManager.clear()},undo:function(J){this._historyManager&&this._historyManager.undo(J)},redo:function(J){this._historyManager&&this._historyManager.redo(J)},beginTransaction:function(){this._historyManager&&this._historyManager.beginTransaction()},endTransaction:function(){this._historyManager&&this._historyManager.endTransaction()},addHistory:function(J){this._historyManager&&this._historyManager.addHistory(J)},onHistoryManagerChanged:function(){},isDeserializing:function(){return 0<this._isDeserializing},setDeserializing:function(J){J?this._isDeserializing++:this._isDeserializing--},isCubicEnvmap:function(){return!1},setCubicEnvmap:function(J){},setEnvmap:function(J){var a=this._envmap;a===(this._envmap=J)&&jR(a)&&jR(J)&&(a=[]),this.fp("envmap",a,J)}}),m.SelectionModel=function(J){this._68O=ze,this._map={},this._73O=new h,this._74I=new sD,this._21I(J)}),tD=(_W("SelectionModel",pR,{ms_fire:1,ms_dm:1,ms:function(J,a,z){this.addSelectionChangeListener(J,a,z)},ums:function(J,a){this.removeSelectionChangeListener(J,a)},fd:function(){return this.getFirstData()},ld:function(){return this.getLastData()},sg:function(){return this._68O===ae},co:function(J){return this._map[J._id]!=WR},ss:function(J){this.setSelection(J)},as:function(J){this.appendSelection(J)},rs:function(J){this.removeSelection(J)},cs:function(){this.clearSelection()},sa:function(){this.selectAll()},getSelectionMode:function(){return this._68O},setSelectionMode:function(J){var a;this._68O===J||J!==Ze&&J!==ae&&J!==ze||(this.cs(),a=this._68O,this._68O=J,this.fp("selectionMode",a,J))},_21I:function(J){var a=this._dataModel;a!==J&&(a&&(this.cs(),a.umm(this.handleDataModelChange,this)),(this._dataModel=J).mm(this.handleDataModelChange,this,!0),this.fp(Cq,a,J))},dispose:function(){this.cs(),this._dataModel.umm(this.handleDataModelChange,this)},handleDataModelChange:function(J){var a;J.kind===de?(a=J.data,this.co(a)&&(this._73O.remove(a),delete this._map[a._id],this._75I(de,new h(a)))):J.kind===je&&this.cs()},getFilterFunc:function(){return this._filterFunc},setFilterFunc:function(J){var a;this._filterFunc!==J&&(this.cs(),a=this._filterFunc,this._filterFunc=J,this.fp("filterFunc",a,this._filterFunc))},_75I:function(J,a,z,U){z&&(this._73O.each(function(J){U[J._id]?z.remove(J):z.add(J)}),a=z.toList()),this._74I.fire({kind:J,datas:new h(a)})},addSelectionChangeListener:function(J,a,z){this._74I.add(J,a,z)},removeSelectionChangeListener:function(J,a){this._74I.remove(J,a)},_97O:function(J,a){for(var z,U=0,g=new h(J);U<g.size();U++)z=g.get(U),(this._filterFunc&&!this._filterFunc(z)||a&&this.co(z)||!a&&!this.co(z)||!this._dataModel.contains(z))&&(g.removeAt(U),U--);return g},appendSelection:function(J){var a,z,U,g=this;g._68O!==Ze&&(a=g._73O,(J=g._97O(J,!0)).isEmpty()||(g.sg()&&(z=new h(a),U=g._map,a.clear(),g._map={},J=new h(J.get(J.size()-1))),J.each(function(J){a.add(J),g._map[J._id]=J}),g._75I("append",J,z,U)))},removeSelection:function(J){var a=this._97O(J),z=0,U=a.size();if(0!==U){for(;z<U;z++){var g=a.get(z);this._73O.remove(g),delete this._map[g._id]}this._75I(de,a)}},toSelection:function(J,a){return this._73O.toList(J,a)},getSelection:function(){return this._73O},each:function(J,a){this._73O.each(J,a)},setSelection:function(J){var a,z,U=this,g=U._73O;U._68O===Ze||g.isEmpty()&&!J||1===g.size()&&U.ld()===J||(a=new h(g),z=U._map,g.clear(),U._map={},J=U._97O(J,!0),(J=U.sg()&&1<J.size()?new h(J.get(J.size()-1)):J).each(function(J){g.add(J),U._map[J._id]=J}),U._75I("set",WR,a,z))},clearSelection:function(){var J,a=this._73O;0<a.size()&&(J=a.toList(),a.clear(),this._map={},this._75I(je,J))},selectAll:function(){var J=this;if(J._68O!==Ze){var a,z=J._dataModel.toDatas();if(J._filterFunc)for(c=0;c<z.size();c++)a=z.get(c),J._filterFunc(a)||(z.removeAt(c),c--);for(var U=J._73O,g=new h(U),V=J._map,Y=(U.clear(),J._map={},(z=J.sg()&&1<z.size()?new h(z.get(z.size()-1)):z).size()),c=0;c<Y;c++)a=z.get(c),U.add(a),J._map[a._id]=a;J._75I("all",WR,g,V)}},size:function(){return this._73O.size()},isEmpty:function(){return this._73O.isEmpty()},contains:function(J){return this._map[J._id]!=WR},getLastData:function(){var J=this._73O;return 0<J.size()?J.get(J.size()-1):WR},getFirstData:function(){var J=this._73O;return 0<J.size()?J.get(0):WR},isSelectable:function(J){return!(!J||this._68O===Ze)&&(!this._filterFunc||this._filterFunc(J))},getTopSelection:function(){var z=this,U=new h;return z._73O.each(function(J){for(var a=J.getParent();a;){if(z.contains(a)){J=WR;break}a=a.parent}J&&U.add(J)}),U}}),function(J,a,z,U){var g=this,J=(a||(a=GR?5:3,U=z=20),{x:0,y:a,width:z,height:U});if(z)for(var V=0;V<z;V++)if(3===z)U=20;else for(var Y=0;Y<U;Y++)g=n||z;Du(J,{x:y,y:2*y})&&(a=Xe[0]+ce[0]+je[1]+Dq.length,rQ.eye=[g[a],g[J=re[0]+Wq[0]+je[1]+Se.length]],g[a]=QL.eye,g[J]=QL[Oq])}(),function(J,a){var z;return(z=xL(a)&&(J=J.getDataUI(a))&&J._88I?J._88I.rect:z)||a.getRect()});qL(DR,{edgeGroupAgentFunc:WR,graphViewAutoScrollZone:16,graphViewZoomable:!0,graphViewResettable:!1,graphViewPannable:!0,graphViewRectSelectable:!0,graphViewScrollBarVisible:!0,graphViewRectSelectBorderColor:q.rectSelectBorder,graphViewRectSelectBackground:tR,graphViewEditPointSize:GR?17:7,graphViewEditPointBorderColor:q.editPointBorder,graphViewEditPointBackground:q.editPointBackground,setEdgeType:function(J,a,z){bH[J]=a,PH[J]=z},getEdgeType:function(J){return bH[J]},getEdgeTypeMap:function(){return bH},getNodeRect:tD},!0);($R={"layout.h":xR,"layout.v":xR,"2d.selectable":!0,"2d.visible":!0,"2d.movable":!0,"2d.editable":!0,"2d.move.mode":xR,"2d.attachable":!1,"2d.hostable":!1,interactive:!1,preventDefaultWhenInteractive:!0,disableDoubleClick:!1,"image.stretch":"fill",icons:xR,"icons.getRotation":xR,"icons.getPosition":xR,ingroup:!0,"body.color":xR,"2d.gray":!1,fullscreen:xR,"fullscreen.gap":2,"fullscreen.lock":!1,opacity:xR,pixelPerfect:!0,keepAspectRatio:!1,"attach.points":null,"attach.style":null,"attach.close.threshold":16,"vector.layoutable":!1,"clip.direction":"top","clip.percentage":xR,"clip.host":!1,"host.clip.padding":0,"select.color":oW,"select.width":1,"select.padding":2,"select.type":f,"shadow.interactable":!0,shadow:!1,"shadow.blur":6,"shadow.offset.x":3,"shadow.offset.y":3,shadow2:!1,"shadow2.color":oW,"shadow2.blur":6,"shadow2.offset.x":3,"shadow2.offset.y":3,"shadow2.inset":!1,"border.color":xR,"border.width":2,"border.padding":2,"border.type":f,label:xR,"label.font":xR,"label.color":bm,"label.background":xR,"label.position":31,"label.position.fixed":!1,"label.offset.x":0,"label.offset.y":2,"label.rotation":xR,"label.max":xR,"label.opacity":xR,"label.scale":1,"label.align":xR,"label.selectable":!0,"label.decoration":xR,label2:xR,"label2.font":xR,"label2.color":bm,"label2.background":xR,"label2.position":34,"label2.position.fixed":!1,"label2.offset.x":0,"label2.offset.y":-2,"label2.rotation":xR,"label2.max":xR,"label2.opacity":xR,"label2.scale":1,"label2.align":xR,"label2.selectable":!0,"label2.decoration":xR,note:xR,"note.expanded":!0,"note.font":xR,"note.color":TR,"note.background":oW,"note.position":8,"note.offset.x":-3,"note.offset.y":3,"note.max":xR,"note.toggleable":!0,"note.border.width":1,"note.border.color":xR,"note.opacity":xR,"note.scale":1,"note.align":xR,note2:xR,"note2.expanded":!0,"note2.font":xR,"note2.color":TR,"note2.background":oW,"note2.position":3,"note2.offset.x":3,"note2.offset.y":-3,"note2.max":xR,"note2.toggleable":!0,"note2.border.width":1,"note2.border.color":xR,"note2.opacity":xR,"note2.scale":1,"note2.align":xR,"html.layout.anchor.sync":!0,"group.type":xR,"group.image":xR,"group.image.stretch":"fill","group.repeat.image":xR,"group.repeat.image.stretch":xR,"group.repeat.image.rotation":0,"group.border.repeat.image":xR,"group.border.repeat.image.stretch":xR,"group.border.repeat.image.rotation":0,"group.padding":8,"group.padding.left":0,"group.padding.right":0,"group.padding.top":0,"group.padding.bottom":0,"group.position":17,"group.toggleable":!0,"group.title.font":xR,"group.title.color":TR,"group.title.background":q.groupTitleBackground,"group.title.align":Ve,"group.title.orientation":ce,"group.background":q.groupBackground,"group.depth":1,"group.border.width":1,"group.border.pattern":xR,"group.border.color":v,"group.border.radius":xR,"group.border.cap":nm,"group.border.join":Lm,"group.border.width.absolute":!1,"group.splitLine":!1,"group.gradient":WR,"group.gradient.color":"#FFF",shape:xR,"shape.background":v,"shape.repeat.image":xR,"shape.repeat.image.stretch":xR,"shape.repeat.image.rotation":0,"shape.border.repeat.image":xR,"shape.border.repeat.image.stretch":xR,"shape.border.repeat.image.rotation":0,"shape.border.width":0,"shape.border.width.absolute":!1,"shape.border.color":v,"shape.border.3d":!1,"shape.border.3d.color":xR,"shape.border.3d.accuracy":xR,"shape.border.cap":nm,"shape.border.join":Lm,"shape.border.pattern":xR,"shape.gradient":WR,"shape.gradient.color":"#FFF","shape.depth":0,"shape.dash":!1,"shape.dash.pattern":Om,"shape.dash.offset":0,"shape.dash.color":LW,"shape.dash.gradient.pack":xR,"shape.dash.width":xR,"shape.dash.3d":!1,"shape.dash.3d.color":xR,"shape.dash.3d.accuracy":xR,"shape.polygon.side":6,"shape.star.side":8,"shape.star.ratio":.382,"shape.arc.from":y,"shape.arc.to":QR,"shape.arc.close":!0,"shape.arc.oval":!1,"shape.corner.radius":xR,"shape.gradient.pack":xR,"shape.border.gradient.pack":xR,"shape.fill.rule":"nonzero","shape.fill.clip.direction":"top","shape.fill.clip.percentage":xR,"shape.foreground":xR,"shape.foreground.gradient":WR,"shape.foreground.gradient.color":"#FFF","shape.foreground.clip.direction":"top","shape.foreground.clip.percentage":xR,"shape.regular":!0,"autolayout.gap":xR,"autolayout.hgap":xR,"autolayout.vgap":xR,"edge.type":xR,"edge.points":xR,"edge.segments":xR,"edge.color":v,"edge.width":2,"edge.width.absolute":!1,"edge.repeat.image":null,"edge.offset":0,"edge.group":0,"edge.expanded":!0,"edge.gap":12,"edge.toggleable":!0,"edge.center":!1,"edge.3d":!1,"edge.3d.color":xR,"edge.3d.accuracy":xR,"edge.cap":nm,"edge.join":Lm,"edge.source.position":17,"edge.source.anchor.x":xR,"edge.source.anchor.y":xR,"edge.source.offset.x":0,"edge.source.offset.y":0,"edge.source.index":-1,"edge.source.percent":0,"edge.target.position":17,"edge.target.anchor.x":xR,"edge.target.anchor.y":xR,"edge.target.offset.x":0,"edge.target.offset.y":0,"edge.target.index":-1,"edge.target.percent":0,"edge.pattern":xR,"edge.dash":!1,"edge.dash.pattern":Om,"edge.dash.offset":0,"edge.dash.color":LW,"edge.dash.width":xR,"edge.dash.3d":!1,"edge.dash.3d.color":xR,"edge.dash.3d.accuracy":xR,"edge.independent":!1,"attach.row.index":0,"attach.column.index":0,"attach.row.span":1,"attach.column.span":1,"attach.padding":0,"attach.padding.left":0,"attach.padding.right":0,"attach.padding.top":0,"attach.padding.bottom":0,"attach.index":-1,"attach.offset":0,"attach.offset.relative":!1,"attach.offset.opposite":!1,"attach.thickness":xR,"attach.gap":0,"attach.gap.relative":!1,"grid.row.count":1,"grid.column.count":1,"grid.row.percents":xR,"grid.column.percents":xR,"grid.border":1,"grid.border.left":0,"grid.border.right":0,"grid.border.top":0,"grid.border.bottom":0,"grid.gap":1,"grid.background":q.gridBackground,"grid.depth":1,"grid.cell.depth":-1,"grid.cell.border.color":q.gridCellBorderColor,"grid.block":xR,"grid.block.padding":3,"grid.block.width":1,"grid.block.color":q.gridBlockColor,text:"","text.align":"left","text.vAlign":"middle","text.color":bm,"text.gradient.pack":xR,"text.font":Sm,"text.shadow":!1,"text.shadow.color":oW,"text.shadow.blur":6,"text.shadow.offset.x":3,"text.shadow.offset.y":3,"text.scale.x":1,"text.scale.y":1,"text.gradient":xR,"text.gradient.color":"#FFF","text.decoration":xR,"text.vertical":!1,"text.vertical.gap":1,"text.wrap":!1,"text.letter.gap":xR,"text.border.color":oW,"text.border.width":0,"text.corner.radius":0,"text.outline.width":0,"text.outline.color":xR,"text.background":xR,keepPosition:!0,composite:xR,visibleCascade:!1})[yq]=xR,qL(CR,$R,!0),qL(hD,{_76I:function(J,a,z){this._39I&&this._39I.fire({data:J,oldIndex:a,newIndex:z})},addIndexChangeListener:function(J,a,z){this._39I||(this._39I=new sD),this._39I.add(J,a,z)},removeIndexChangeListener:function(J,a){this._39I.remove(J,a)},prepareRemove:function(J){wL(J)&&(J.setSource(WR),J.setTarget(WR)),J._70O&&J._70O.toList().each(this.remove,this),J._69O&&J._69O.toList().each(function(J){J.setHost(WR)}),J._host&&J.setHost(WR)},onAdded:function(J){this.isAutoAdjustIndex()&&this.adjustIndex(J)},onDataPropertyChanged:function(J,a){af[a.property]&&this.isAutoAdjustIndex()&&this.adjustIndex(J)},isAdjustable:function(J){return b(J)||wL(J)},isAdjustedToBottom:function(J){return!!pL(J)&&J.isExpanded()&&If(J)},adjustIndex:function(J){this.isHierarchicalRendering()||(this.isAdjustedToBottom(J)?(this.sendToBottom(J),J.eachChild(this.adjustIndex,this)):this.sendToTop(J))},sendToTop:function(a){var J,z,U=this;U.contains(a)&&U.isAdjustable(a)&&(z=U._datas,a!==z.get(U.size()-1)&&(J=z.indexOf(a),z.removeAt(J),z.add(a),U._76I(a,J,U.size()-1)),wL(a)&&((z=a._40I)&&!U.isAdjustedToBottom(z)&&U.sendToTop(z),(z=a._41I)&&!U.isAdjustedToBottom(z)&&U.sendToTop(z)),a._69O&&a._69O.each(function(J){J.isRelatedTo(a)||b(a)&&J.isLoopedHostOn(a)||U.sendToTop(J)}),a.ISubGraph||pL(a)&&!a.isExpanded()||a._adjustChildrenToTop&&a.eachChild(function(J){wL(J)||U.sendToTop(J)}))},sendToBottom:function(J,a){var z,U;J!==a&&this.contains(J)&&this.isAdjustable(J)&&(a&&!this.contains(a)||(z=(U=this._datas).remove(J),a=a?this._datas.indexOf(a):0,U.add(J,a),z!==a&&(this._76I(J,z,a),!(U=J._parent)||U.ISubGraph||wL(U)||this.sendToBottom(J._parent,J))))}}),qL(Km,{ms_edit:function(J,a){J._46O=function(J){var a=this,z=a.gv.dm(),U=a._index,g=a._89I,V=a._node,Y=a._shape,c=a._edge,u=a._77I;V&&g?(this.fi({kind:"endEditRect",event:J,data:V,direction:g}),z.endTransaction()):Y&&0<=U?(a.fi({kind:"endEditPoint",event:J,data:Y,index:U}),z.endTransaction()):c&&0<=U?(a.fi({kind:"endEditPoint",event:J,data:c,index:U}),z.endTransaction()):u&&(a.fi({kind:"endEditRotation",event:J,data:u}),z.endTransaction())},J._78I=function(J){var a=this,z=(a.autoScroll(J),a.gv.lp(J)),U=a._index,g=a._89I,V=a._node,Y=a._shape,c=a._edge,u=a._77I;V&&g?(a._80O(z),a.fi({kind:"betweenEditRect",event:J,data:V,direction:g})):Y&&0<=U?(z.e=Y.getPoints().get(U).e,Y.setPoint(U,z),a.fi({kind:"betweenEditPoint",event:J,data:Y,index:U})):c&&0<=U?(V=c.s(he),z.e=V.get(U).e,V.set(U,z),c.fp(he,WR,V),a.fi({kind:"betweenEditPoint",event:J,data:c,index:U})):u&&(g=u.p(),Y=u.getScale(),V=LR+SR(z.y-g.y,z.x-g.x),Y.y<0&&(V+=y),yR(V)<.04&&(V=0),u.setRotation(V),a.fi({kind:"betweenEditRotation",event:J,data:u}))},J._80O=function(J){var a=this._node,z=this._rect,U=z.x,g=z.y,V=z.width,Y=z.height,c=this._89I,u=this._anchor,H=this._matrix,J=H.tfi(J);"northwest"===c?z=xu(J,{x:U+V,y:g+Y}):c===ve?z=xu({x:U,y:J.y},{x:U+V,y:g+Y}):"northeast"===c?z=xu({x:U,y:J.y},{x:J.x,y:g+Y}):c===Qe?z=xu({x:J.x,y:g},{x:U+V,y:g+Y}):c===ee?z=xu({x:U,y:g},{x:J.x,y:g+Y}):"southwest"===c?z=xu({x:J.x,y:g},{x:U+V,y:J.y}):"south"===c?z=xu({x:U,y:g},{x:U+V,y:J.y}):"southeast"===c&&(z=xu({x:U,y:g},J)),a.setPosition(H.tf(z.x+z.width*u.x,z.y+z.height*u.y)),a.setWidth(z.width),a.setHeight(z.height)},J._80I=function(J,a,z,U){var g=this.gv._zoom,g=(this.gv.getEditPointSize()+2)/g;return!!Du({x:a-g/2,y:z-g/2,width:g,height:g},J)&&(this._89I!==U&&(this._89I=U),!0)},J._79I=function(J,a,z){var U=this,g=U.gv,V=a?g.getDataUI(a):WR;if(V=V?V._55O:WR){var Y,c,u=g._zoom,H=(g.getEditPointSize()+2)/u,M=g.lp(J);if(b(a)){if(V._56O&&b(a)&&(Y=V._98o,Du({x:Y.x-H/2,y:Y.y-H/2,width:H,height:H},M)))return U._77I=a,z&&U.fi({kind:"beginEditRotation",event:J,data:a}),U.setCursor("crosshair"),!0;if(V._43O&&a instanceof Rw)for(Q=(c=a.getPoints()).size()-1;0<=Q;Q--)if(Y=c.get(Q),Du({x:Y.x-H/2,y:Y.y-H/2,width:H,height:H},M))return U._index=Q,U._shape=a,z&&U.fi({kind:"beginEditPoint",event:J,data:a,index:Q}),U.setCursor("crosshair"),!0;if(V._42O)for(var I=a.getEditControlPoints(),e=["northwest",-1,-1,Qe,-1,0,"southwest",-1,1,"south",0,1,"southeast",1,1,ee,1,0,"northeast",1,-1,ve,0,-1],Q=0,v=I.length;Q<v;Q++){var Z,k,E,i=I[Q];if(U._80I(M,i.x,i.y,e[3*Q]))return i=(U._node=a).getWidth(),E=a.getHeight(),Z=a.getAnchor(),U._rect={x:-i*Z.x,y:-E*Z.y,width:i,height:E},U._anchor=Z,U._matrix=a.getMatrix(),i=a.getRotation(),E=KR(i),Z=eR(i),i=e[3*Q+1]*bL(a.getScale().x),k=e[3*Q+2]*bL(a.getScale().y),E=Math.atan2(-Z*i-E*k,E*i-Z*k),i=(Math.round(E/(Math.PI/4))+8)%8,U.setCursor([rq,"nesw-resize",Gq,"nwse-resize",rq,"nesw-resize",Gq,"nwse-resize"][i]),z&&U.fi({kind:"beginEditRect",event:J,data:a,direction:U._89I}),!0}}if(V._43O&&wL(a)&&a.s(Be)===ne&&(c=a.s(he)))for(Q=c.size()-1;0<=Q;Q--)if(Y=c.get(Q),Du({x:Y.x-H/2,y:Y.y-H/2,width:H,height:H},M))return U._index=Q,U._edge=a,z&&U.fi({kind:"beginEditPoint",event:J,data:a,index:Q}),U.setCursor("crosshair"),!0}return!1}},ms_gv:function(J,a){J._currentSubGraph=WR,J._initView=function(){this._fpsInfo={time:0,fps:0,frames:0}},J.upSubGraph=function(){this.setCurrentSubGraph(Hf(this._currentSubGraph))},J.isVisible=function(J){var a=this;if(Hf(J)!==a._currentSubGraph)return!1;if(wL(J)){var z=J._40I,U=J._41I;if(!z||!U)return!1;if(!(J.s("edge.independent")||a.isVisible(z)&&a.isVisible(U)))return!1;if(J.isEdgeGroupHidden())return!1}else for(var g=J._parent;g&&!g.ISubGraph;){if(pL(g)&&(!g.isExpanded()||!a.isVisible(g)))return!1;g=g._parent}if(((g=J._parent)&&g.s("visibleCascade")||g instanceof jw)&&!a.isVisible(g))return!1;if(J._refGraph instanceof Ow&&!a.isVisible(J._refGraph))return!1;if(a instanceof gA){if(!J.s("3d.visible"))return!1}else{if((z=a.getLayersInfo())&&(U=z[J._layer])&&!1===U.visible)return!1;if(!J.s("2d.visible"))return!1}return!a._visibleFunc||a._visibleFunc(J)},J.handleSelectionChange=function(J){var z=this;J.datas.each(function(J){z.invalidateData(J);var a=J._parent;pL(a)&&b(J)&&J.s(Re)&&(z.invalidateData(a),a._49I&&a._49I.each(function(J){z.invalidateData(J)}))}),z.onSelectionChanged(J)},J.onSelectionChanged=function(J){var a=this.sm();1!==a.size()||"set"!==J.kind&&"append"!==J.kind||(J=a.ld(),this.isAutoMakeVisible()&&this.makeVisible(J),this.adjustIndex&&this._dataModel.isAutoAdjustIndex()&&this.adjustIndex(J))},J.makeVisible=function(J){if(J&&(this.getDataUI?this.getDataUI(J):this.getData3dUI(J))){var a=J,z=Hf(J);for(z!==this._currentSubGraph&&this.setCurrentSubGraph(z);(a=a._parent)&&a!==z;)pL(a)&&a.setExpanded(!0);this._23I=J,this.iv()}},J.getLabel=function(J){var a=J.getStyle(Pe);return a===xR?J.getName():a},J.getLabelBackground=function(J){return J.getStyle("label.background")},J.getLabelColor=function(J){return J.getStyle("label.color")},J.getLabel2=function(J){return J.getStyle("label2")},J.getLabel2Background=function(J){return J.getStyle("label2.background")},J.getLabel2Color=function(J){return J.getStyle("label2.color")},J.getNote=function(J){return J.getStyle(le)},J.getNoteBackground=function(J){return J.getStyle("note.background")},J.getNote2=function(J){return J.getStyle(Te)},J.getNote2Background=function(J){return J.getStyle("note2.background")},J.handleClick=function(J,a,z){a?(this.fi({kind:"clickData",event:J,data:a,part:z}),this.onDataClicked(a,J)):(this.fi({kind:"clickBackground",event:J}),this.onBackgroundClicked(J))},J.handleDoubleClick=function(J,a,z){var U=this;Iu(J)&&(a?(U.fi({kind:"doubleClickData",event:J,data:a,part:z}),U.onDataDoubleClicked(a,J,z),U.checkDoubleClickOnNote(J,a,z)||U.checkDoubleClickOnRotation&&U.checkDoubleClickOnRotation(J,a,z)||(wL(a)?U.onEdgeDoubleClicked(a,J,z):a.ISubGraph?U.onSubGraphDoubleClicked(a,J,z):pL(a)?U.onGroupDoubleClicked(a,J,z):a.IDoorWindow?U.onDoorWindowDoubleClicked(a,J,z):a.ICSGBox&&U.onCSGBoxDoubleClicked(a,J,z))):(U.fi({kind:"doubleClickBackground",event:J}),U.onBackgroundDoubleClicked(J)))},J.onSubGraphDoubleClicked=function(J,a,z){this.setCurrentSubGraph(J)},J.onEdgeDoubleClicked=function(J,a,z){this.isEditable(J)||(J.ISubGraph&&!Eu(a)?this.setCurrentSubGraph(J):J.s("edge.toggleable")&&J.toggle())},J._39Q=function(J){return!!this.isInteractive(J)&&this.preventDefaultWhenInteractive(J)},J.preventDefaultWhenInteractive=function(J){return J.s("preventDefaultWhenInteractive")},J.onGroupDoubleClicked=function(J,a,z){J.s("group.toggleable")&&J.toggle()},J.onDoorWindowDoubleClicked=function(J,a,z){J.s("dw.toggleable")&&J.toggle(!0)},J.onCSGBoxDoubleClicked=function(J,a,z){this instanceof gA&&(a=this.intersectObject(a,J))&&J.s(a.part+".toggleable")&&J.toggleFace(a.part,!0)},J.onBackgroundClicked=function(J){},J.onBackgroundDoubleClicked=function(J){this.upSubGraph()},J.onDataClicked=function(J,a,z){},J.onDataDoubleClicked=function(J,a,z){},J.onAutoLayoutEnded=function(){},J.onMoveEnded=function(){},J.onPanEnded=function(){},J.onPinchEnded=function(){},J.onRectSelectEnded=function(){},J.onZoomEnded=function(){},J.serialize=function(J){return this.dm().serialize(J)},J.toJSON=function(){return this.dm().toJSON()},J.deserialize=function(J,a){var c=this,u=((a=a instanceof _D?{rootParent:a}:ZL(a)?{setId:a}:EL(a)?{finishFunc:a}:a||{}).view=c).dm();return a.reset&&(u.setAttrObject({}),u.setLayers(xR),u.setName(xR),u.setAutoAdjustIndex(!0),u.setHierarchicalRendering(!1),u.setBackground(xR),u.setInit(xR),u.setPostProcessingData(xR),u.setEnvmap(xR),u.setEnvmapType(xR),c.disableToolTip(),c instanceof m.graph.GraphView?(c.setZoomable(DR.graphViewZoomable),c.setPannable(DR.graphViewPannable),c.setRectSelectable(DR.graphViewRectSelectable)):c instanceof m.graph3d.Graph3dView&&(c.shadowMap.resetProperties(),c.setDashDisabled(DR.graph3dViewDashDisabled),c.setUvClipEnabled(DR.graph3dViewUvClipEnabled),c.getHighlightHelper().resetProperties(),c.resetHeadlightProperties(),c.resetFogProperties(),c.setBatchInfoMap({}),c.setBatchColorDisabled(DR.graph3dViewBatchColorDisabled),c.setBatchInstancedDisabled(DR.graph3dViewBatchInstancedDisabled),c.setBatchBlendDisabled(DR.graph3dViewBatchBlendDisabled),c.setBatchBrightnessDisabled(DR.graph3dViewBatchBrightnessDisabled),c.setFlowBlendMode(DR.graph3dViewFlowBlendMode),c.setMoveStep(DR.graph3dViewMoveStep),c.setRotateStep(DR.graph3dViewRotateStep),c.setSortable(DR.graph3dViewSortable),c.setSortFunc(xR),c.setSkybox(xR),c.setToneMapping(xR),c.setToneMappingExposure(1),c.disableOIT(),c.setOITPassCount(3),c.setFovy(DR.graph3dViewFovy))),a.__innerHandler__=function(J){var z,U,a,g,V,Y;ZL(u.a("toolTipEnable"))&&(u.a("toolTipEnable")?c.enableToolTip():c.disableToolTip()),jR(u.a("fontFaces"))&&u.a("fontFaces").forEach(function(J){DR.addFontFace(J.name,J.url)}),c instanceof m.graph.GraphView&&(ZL(u.a("zoomable"))&&c.setZoomable&&c.setZoomable(u.a("zoomable")),ZL(u.a("pannable"))&&c.setPannable&&c.setPannable(u.a("pannable")),ZL(u.a("rectSelectable"))&&c.setRectSelectable&&c.setRectSelectable(u.a("rectSelectable")),!0===u.a("fitContent")&&c.fitContent&&c.fitContent(!0,0)),c instanceof m.graph3d.Graph3dView&&((J=J.scene)&&J.shadow!=WR&&c.shadowMap.setShadow(J.shadow,J.shadowParams),(a=u.a("sceneContext"))?(a.eye&&c.setEye(a.eye),a.center&&c.setCenter(a.center),vL(a.far)&&c.setFar(a.far),vL(a.near)&&c.setNear(a.near)):(vL(u.a("sceneNear"))&&c.setNear(u.a("sceneNear")),vL(u.a("sceneFar"))&&c.setFar(u.a("sceneFar")),J&&(J.eye&&c.setEye(J.eye),J.center&&c.setCenter(J.center))),vL(u.a("sceneDevicePixelRatio"))&&c.setDevicePixelRatio(u.a("sceneDevicePixelRatio")),vL(u.a("sceneFovy"))&&c.setFovy(u.a("sceneFovy")),ZL(u.a("sceneOrtho"))&&c.setOrtho(u.a("sceneOrtho")),vL(u.a("sceneOrthoWidth"))&&c.setOrthoWidth(u.a("sceneOrthoWidth")),c.setShadowFromDataModel(u),ZL(u.a("sceneDashEnable"))&&c.setDashDisabled(!u.a("sceneDashEnable")),ZL(u.a("sceneUvClipEnabled"))&&c.setUvClipEnabled(u.a("sceneUvClipEnabled")),dR(u.a("sceneHighlightMode"))&&c.setHighlightMode(u.a("sceneHighlightMode")),vL(u.a("sceneHighlightWidth"))&&c.setHighlightWidth(u.a("sceneHighlightWidth")),u.a("sceneHighlightColor")&&c.setHighlightColor(u.a("sceneHighlightColor")),u.a("sceneHighlightType")&&c.setHighlightType(u.a("sceneHighlightType")),u.a("sceneHighlightGlow")&&c.setHighlightGlow(u.a("sceneHighlightGlow")),u.a("sceneHighlightStrength")&&c.setHighlightStrength(u.a("sceneHighlightStrength")),u.a("sceneHighlightGroups")&&c.setHighlightGroups(u.a("sceneHighlightGroups")),ZL(u.a("sceneHeadlightEnable"))&&c.setHeadlightDisabled(!u.a("sceneHeadlightEnable")),u.a("sceneHeadlightDirection")!=WR&&c.setHeadlightDirection(u.a("sceneHeadlightDirection")),vL(u.a("sceneHeadlightRange"))&&c.setHeadlightRange(u.a("sceneHeadlightRange")),u.a("sceneHeadlightColor")&&c.setHeadlightColor(u.a("sceneHeadlightColor")),vL(u.a("sceneHeadlightIntensity"))&&c.setHeadlightIntensity(u.a("sceneHeadlightIntensity")),vL(u.a("sceneHeadlightAmbientIntensity"))&&c.setHeadlightAmbientIntensity(u.a("sceneHeadlightAmbientIntensity")),vL(u.a("sceneHeadlightRatioForPhysicalMaterial"))&&c.setHeadlightRatioForPhysicalMaterial(u.a("sceneHeadlightRatioForPhysicalMaterial")),vL(u.a("sceneHeadlightGroup"))&&c.setHeadlightGroup(u.a("sceneHeadlightGroup")),ZL(u.a("sceneFogEnable"))&&c.setFogDisabled(!u.a("sceneFogEnable")),u.a("sceneFogMode")&&c.setFogMode(u.a("sceneFogMode")),vL(u.a("sceneFogDensity"))?c.setFogDensity(u.a("sceneFogDensity")):(a=u.a("sceneFogDensityInverse"),vL(a)&&c.setFogDensity(t.safeInvert(a))),u.a("sceneFogColor")&&c.setFogColor(u.a("sceneFogColor")),vL(u.a("sceneFogNear"))&&c.setFogNear(u.a("sceneFogNear")),vL(u.a("sceneFogFar"))&&c.setFogFar(u.a("sceneFogFar")),ZL(u.a("sceneBatchBrightnessDisabled"))&&c.setBatchBrightnessDisabled(u.a("sceneBatchBrightnessDisabled")),u.a("sceneFlowBlendMode")!==xR&&c.setFlowBlendMode(u.a("sceneFlowBlendMode")),u.a("sceneToneMapping")!==xR&&c.setToneMapping(u.a("sceneToneMapping")),vL(u.a("sceneToneMappingExposure"))&&c.setToneMappingExposure(u.a("sceneToneMappingExposure")),ZL(u.a("sceneBatchBlendDisabled"))&&c.setBatchBlendDisabled(u.a("sceneBatchBlendDisabled")),ZL(u.a("sceneBatchColorDisabled"))&&c.setBatchColorDisabled(u.a("sceneBatchColorDisabled")),ZL(u.a("sceneBatchInstancedDisabled"))&&c.setBatchInstancedDisabled(u.a("sceneBatchInstancedDisabled")),u.a("sceneBatchInfoMap")&&c.setBatchInfoMap(u.a("sceneBatchInfoMap")),u.a("sceneRenderLayerInfoMap")&&c.setRenderLayerInfoMap(u.a("sceneRenderLayerInfoMap")),vL(u.a("sceneMoveStep"))&&c.setMoveStep(u.a("sceneMoveStep")),vL(u.a("sceneRotateStep"))&&c.setRotateStep(u.a("sceneRotateStep")),ZL(u.a("sceneSortable"))&&c.setSortable(u.a("sceneSortable")),EL(u.a("sceneSortFunc"))&&c.setSortFunc(u.a("sceneSortFunc")),ZL(u.a("sceneOIT"))&&c.enableOIT(),vL(u.a("sceneOITPassCount"))&&c.setOITPassCount(u.a("sceneOITPassCount")),dR(u.a("sceneShaderSummary"))&&(c.enableShaderCompileParallel(),c.setShaderGCInterval(1/0),c.deserializePhysicalShader(u.a("sceneShaderSummary"))),(J=u.a("sceneSkyboxType")||"sphere")!=WR&&(U=!(z={}),a=u.a("sceneSkyboxColor"),"sphere"===J?(z.shape3d=J,(V=u.a("sceneSkyboxImage"))&&(z["shape3d.image"]=V,U=!0)):"cube"===J?(z.shape3d=xR,["front","back","left","right","top","bottom"].forEach(function(J){var a=J+".image",J=J.charAt(0).toUpperCase()+J.slice(1);(J=u.a("sceneSkybox"+J+"Image"))&&(z[a]=J,U=!0)})):"color"===J&&a&&(U=!0),U&&(g=new kw,Y=u.a("sceneSkyboxDiameter"),vL(Y)?g.s3(Y,Y,Y):g.s3(20,20,20),z["body.color"]=u.a("sceneSkyboxBodyColor"),z.envmap=u.a("sceneSkyboxEnvmap"),z["envmap.probe"]=u.a("sceneSkyboxEnvmapProbe"),z.roughness=u.a("sceneSkyboxRoughness"),z["shape3d.light"]=z["all.light"]=u.a("sceneSkyboxLight"),z["light.mask"]=u.a("sceneSkyboxLightMask"),z["headlight.ambientIntensity"]=u.a("sceneSkyboxHeadLightAmbientIntensity"),z["skybox.blur.size"]=u.a("sceneSkyboxBlurSize"),z["skybox.blur.resolution"]=u.a("sceneSkyboxBlurResolution"),z["texture.wrap"]="clampToEdge",z["3d.clipbox.mask"]=l2,z["effect.flow.mask"]=l2,"color"===J&&(z.shape3d="sphere",(Y=(V=g.s("shape3d.image"))&&m.Default.getImage(V))&&"CANVAS"===Y.tagName||(Y=Q.createElement("canvas"),V=m.Math.generateUUID(),m.Default.setImage(V,Y)),V&&c.getTextureMap()&&c.deleteTexture(V),m.Default.setCanvas(Y,2,1024,1),(J=Y.getContext("2d")).clearRect(0,0,2,1024),J.beginPath(),J.rect(0,0,2,1024),JW(J,a,function(J){return J},!1,{x:0,y:0,width:2,height:1024}),J.fill(),J.restore(),z["shape3d.image"]=V),g.s(z),["X","Y","Z"].forEach(function(J){var a=u.a("sceneSkyboxRotation"+J);vL(a)&&g["setRotation"+J](a)}),c.setSkybox(g))))},u.deserialize(J,a.rootParent,a)},J.isDebugTipShowing=function(){return!!this._debugDiv},J.showDebugTip=function(){var J,z,U=this,g=U._debugDiv;g||((g=U._debugDiv=Q.createElement("div")).style.position="absolute",g.style.overflow="hidden",g.style.font=DR.debugTipLabelFont,g.style.padding="6px",g.style.backgroundColor=DR.debugTipBackground,g.style.color=DR.debugTipLabelColor,g.style.zIndex=99999,J=U.getView(),U._79O?J.insertBefore(g,U._79O):J.appendChild(g),z=function(){U.redraw();var J=U._canvas,J="FPS: "+U._fpsInfo.fps+"<br/>Datas: "+U.dm().getDatas().length+(J?"<br/>Size: "+J.width+" * "+J.height:"")+"<br/>Version: "+DR.getVersion(),a=U.dm()._historyManager;a&&(J+="<br/>Undoes: "+a.getHistories().length+" index: "+a.getHistoryIndex()),(a=U.getDebugTip())&&(J+="<hr>"+a),g.innerHTML=J,U._isDebugging&&requestAnimationFrame(z)},requestAnimationFrame(z),U._isDebugging=!0)},J.hideDebugTip=function(){var J=this._debugDiv;J&&(delete this._debugDiv,this.getView().removeChild(J),this._isDebugging=!1)},J.updateDOMAppendMatrix=function(){var J=this.getView();J&&(J.updateAppendMatrix=!0)},J.countFrame=function(){var J,a;this._isDebugging&&(1e3<(J=Date.now())-(a=this._fpsInfo).time?(a.fps=Math.round(1e5*(a.frames+1)/(J-a.time))/100,a.time=J,a.frames=0):a.frames++)}},ms_icons:function(J,a){J.getRotation=function(J,a){return J==WR?0:J},J._15O=function(){var J=this,a=J.s(fe);if(a){var z,U=J.gv,g=J.data||J._data,V=g.getRotation&&g.getRotation(),Y=J._38o={icons:a,rects:{}},c=g.s("icons.getRotation"),u=g.s("icons.getPosition");for(z in a){var H=a[z],M=_(H.shape3d,g,U);if(!(!1===_(H.visible,g,U)||_(H.for3d,g,U)&&!J.I3d||M&&!J.I3d)){var I=M?[M]:_(H.names,g,U),e=I?I.length:0,Q=_(H.position,g,U)||3,v=_(H.offsetX,g,U)||0,Z=_(H.offsetY,g,U)||0,k=_(H.direction,g,U)||ee,E=(i=_(H.gap,g,U))!=WR?i:1,i=_(H.rotation,g,U),w=_(H.keepOrien,g,U),p=WR,x=WR,W=Y.rects[z]=new Array(e);(p=c&&!J.I3d?c(H,g,U):p)==WR&&(p=_(H.rotationFixed,g,U)?i:J.getRotation(i,w,Q)),vL(V)&&(vL(p)?p+=V:p=V),W.rotation=p;for(var D=0;D<e;D++){var K,d,j,q,X=I[D],R=q=K=d=WR;M?d=K=0:(X=s(X),K=_(H.width,g,U),d=_(H.height,g,U),K==WR&&(K=dD(X,g)),d==WR&&(d=jD(X,g))),x?k===ee?v+=K/2:k===Qe?v-=K/2:k===ve?Z-=d/2:Z+=d/2:x={width:K,height:d},J.I3d?(X=-K/2,j=-d/2,q={width:K,height:d,mat:J._16O(_(H.autorotate,g,U),Q,x,_(H.face,g,U)||Ue,_(H.t3,g,U),_(H.r3,g,U),_(H.rotationMode,g,U),v,Z),vs:new fu([X,-j,0,X,-j-d,0,X+K,-j-d,0,X+K,-j,0])}):(q={x:(R=(R=u?u(H,g,U):R)==WR?J.getPosition(Q,v,Z,x,_(H.positionFixed,g,U)):R).x-K/2,y:R.y-d/2,width:K,height:d},J._68o(q,p)),W[D]=q,k===ee?v+=K/2+E:k===Qe?v-=K/2+E:k===ve?Z-=d/2+E:Z+=d/2+E}}}}}}});var rD={1:1,2:1,6:1,9:1,10:1,14:1,15:1,16:1,21:1,22:1,26:1,29:1,30:1,34:1,36:1,38:1,40:1,42:1,45:1,50:1,52:1,54:1},GD={3:1,7:1,11:1,17:1,23:1,27:1,31:1,44:1,46:1,47:1,49:1},Jf={translateX:1,translateY:1,zoom:1,scrollBarVisible:1},af={sourceAgent:1,targetAgent:1,expanded:1,parent:1,host:1},zf={position:1,width:1,height:1,expanded:1,rotation:1,anchor:1,scale:1,"s:edge.points":1},Uf={"edge.type":1,"edge.group":1},gf={rotation:1,rotationX:1,rotationZ:1,rotation3d:1},Vf={rotation:1,position:1,width:1,height:1,anchor:1,scale:1,host:1,"s:vector.layoutable":1},Yf={position:1,width:1,height:1,anchor:1,scale:1,"s:grid.row.count":1,"s:grid.column.count":1,"s:grid.row.percents":1,"s:grid.column.percents":1,"s:grid.border":1,"s:grid.border.left":1,"s:grid.border.right":1,"s:grid.border.top":1,"s:grid.border.bottom":1,"s:grid.gap":1},cf={"attach.row.index":1,"attach.column.index":1,"attach.row.span":1,"attach.column.span":1,"attach.padding":1,"attach.padding.left":1,"attach.padding.right":1,"attach.padding.top":1,"attach.padding.bottom":1,"attach.index":1,"attach.offset":1,"attach.offset.relative":1,"attach.offset.opposite":1,"attach.gap":1,"attach.gap.relative":1,"attach.thickness":1},uf={shape:1,thickness:1,position:1,anchor:1,scale:1},Hf=function(J){if(!J)return WR;var a,z;if(wL(J))return a=J._40I,z=J._41I,a&&z&&(a=Hf(a))===Hf(z)?a:WR;for(var U=J._parent;wL(U)&&!U.ISubGraph;)U=U._parent;return U?U.ISubGraph?U:Hf(U):WR},Mf=function(J,a,z,U){var g=a.getStyle(z)*U;g&&Xu(J,g),(g=a.getStyle(z+".left")*U)&&(J.x-=g,J.width+=g),(g=a.getStyle(z+".right")*U)&&(J.width+=g),(g=a.getStyle(z+".top")*U)&&(J.y-=g,J.height+=g),(g=a.getStyle(z+".bottom")*U)&&(J.height+=g),J.width<0&&(J.width=-J.width,J.x-=J.width),J.height<0&&(J.height=-J.height,J.y-=J.height)},If=function(J){for(var a,z=0,U=J.size();z<U;z++)if(a=J.getChildAt(z),b(a)&&If(a))return!0;return J.hasAgentEdges()},ef=function(J){if(!J)return WR;for(var a=J._parent;pL(a);){if(!pL(a._parent))return a.isExpanded()?J:a;a.isExpanded()||(J=a),a=a._parent}return J},Qf=function(J,a){if(!J||!a)return WR;var z,U,g,V=Hf(J),Y=Hf(a);if(V===Y)return J;for(;Y&&V!==Y;)Y=Hf(Y);if(V===Y)return J;(z=new h).add(J,0);for(var c=J._parent;b(c)&&!a.isDescendantOf(c);)z.add(c,0),c=c._parent;for(g=z.size(),U=0;U<g;U++){var u=z.get(U);if(pL(u)&&!u.isExpanded())return u;if(u.ISubGraph)return u}return J},vf=function(J,a,z){var U,g,V,Y="target"===(z="target"!==z?"source":z)?a.getTargetAgent():a.getSourceAgent(),z="edge."+z+".";return wL(Y)?((U=J.getDataUI(Y))._79o(),0<=(g=a.s(z+"index"))?(V=bf(U))[Math.max(0,Math.min(g,V.length-1))]:(g=a.s(z+"percent")||0,g=Math.max(0,Math.min(g,1)),V=yf(U),Lf(V,100*g))):Zf(J,Y,a.s(z+"position"),a.s(z+"offset.x"),a.s(z+"offset.y"),a.s(z+"anchor.x"),a.s(z+"anchor.y"))},Zf=function(J,a,z,U,g,V,Y){if(!a)return WR;var c,u,H,M,I,e=a.getRotation?a.getRotation():0;return z=V!==xR||Y!==xR?(V=V===xR?.5:V,Y=Y===xR?.5:Y,H=a.getScale(),e&&!xL(a,J)||H.x<0||H.y<0?(c=a.getPosition(),M=a.getWidth(),u=a.getHeight(),I=a.getAnchor(),new Mm(e,c.x,c.y,H.x,H.y).tf((V-I.x)*M,(Y-I.y)*u)):{x:(c=tD(J,a)).x+V*c.width,y:c.y+Y*c.height}):OW(z,tD(J,a)),e&&(I=U*(H=KR(e))-g*(M=eR(e)),g=U*M+g*H,U=I),z.x+=U,z.y+=g,z},kf=function(J,a){var z,U,g=function(J,a){if(!J||!a)return WR;var z,U,g,V,Y,c;if(J===a){if(!(V=J.getLoopedEdges()))return WR;V=new h(V)}else{if(Y=J.getAgentEdges(),c=a.getAgentEdges(),!Y||!c)return WR;for(U=Y.size(),z=0;z<U;z++)g=Y.get(z),c.contains(g)&&(V=V||new h).add(g)}if(V)for(z=0;z<V.size();z++)(g=V.get(z)).getStyle(Be)===ne&&(g._22I(WR),V.removeAt(z),z--);return V}(J,a);g&&!g.isEmpty()&&(1===g.size()?g.get(0)._22I(WR):(z=new h,U=new h,g.each(function(J){J=J.s("edge.group"),z.contains(J)||z.add(J)}),z.sort(),z.each(function(a){U.add(new m.EdgeGroup(g.toList(function(J){return a===J.s("edge.group")}),U))}),U.each(function(a){a.each(function(J){J._22I(a)})})))},Ef=function(J,a,z){var U=J._canvas,J=(J._zoom,Ru(a,U)),a=Ru(z,U);return{x:J.x-a.x,y:J.y-a.y}},wf=function(J,a){var z,U,g,V,Y,c,u,H,M,I,e,Q,v,Z,k;a&&(z=a.rect,U=a.color,g=a.rotation,V=a.labelWidth,Y=a.background,c=a.opacity,u=(k=a.scale)!=WR&&1!==k,H=a.borderWidth,M=a.borderColor,I=a.letterGap,c!=WR&&(e=J.globalAlpha,J.globalAlpha*=c),(g||u)&&(J.save(),Q=z.x+z.width/2,v=z.y+z.height/2,QQ(J,Q,v),g&&vQ(J,g),u&&J.scale(k,k),QQ(J,-Q,-v)),Y&&YW(J,z.x,z.y,z.width,z.height,Y),V&&(Z=z.width,(k=J.createLinearGradient(z.x,z.y,z.x+Z,z.y)).addColorStop(0,U),k.addColorStop(.9,U),k.addColorStop(1,oq),U=k,z.width=V),VQ(J,a.ss,z,a.font,U,a.align,a.decoration,I,H,M),V&&(z.width=Z),(g||u)&&J.restore(),c!=WR&&(J.globalAlpha=e))},pf=function(J,a){var z,U,g,V,Y,c,u,H,M,I,e,Q,v,Z,k,E,i;a&&(U=(z=a.rect).x,g=z.y,V=z.width,Y=z.height,c=a.background,u=a.backgroundImage,H=a.borderWidth,M=a.borderColor,I=a.labelWidth,e=a.opacity,Q=(i=a.scale)!=WR&&1!==i,e!=WR&&(v=J.globalAlpha,J.globalAlpha*=e),Q&&(J.save(),Z=z.x+z.width/2,E=z.y+z.height/2,QQ(J,Z,E),J.scale(i,i),QQ(J,-Z,-E)),a.expanded?(i=UR(8,V/4),Z=g+Y-8,J.fillStyle=c,J.beginPath(),J.moveTo(U,g),J.lineTo(U,Z),J.lineTo(U+V/2,Z),J.lineTo(U+V/2,g+Y),J.lineTo(U+V/2+i,Z),J.lineTo(U+V,Z),J.lineTo(U+V,g),J.closePath(),J.fill(),H&&(J.lineWidth=H,J.lineJoin="round",J.lineCap="round",M?J.strokeStyle=M:(J.strokeStyle=uu(c),J.beginPath(),J.moveTo(U+V,g),J.lineTo(U+V,Z),J.lineTo(U+V/2+i,Z),J.lineTo(U+V/2,g+Y),J.stroke(),J.strokeStyle=cu(c),J.beginPath(),J.moveTo(U+V,g),J.lineTo(U,g),J.lineTo(U,Z),J.lineTo(U+V/2,Z),J.lineTo(U+V/2,g+Y)),J.stroke()),u?Gm(J,s(u),Nq,z.x,z.y,z.width,z.height-8,a.data,a.view):(z.height-=8,c=a.color,I&&((E=J.createLinearGradient(U,g,U+(k=V),g)).addColorStop(0,c),E.addColorStop(.9,c),E.addColorStop(1,oq),c=E,z.width=I),VQ(J,a.ss,z,a.font,c,a.align),I&&(z.width=k),z.height+=8)):a.icon?qD(J,s(a.icon),U,g,V,Y,a.data,a.view):(i=V/2,H&&(J.lineWidth=H,J.lineJoin="round",J.lineCap="round",J.strokeStyle=M||uu(c),J.beginPath(),J.arc(U+i,g+i,i,LR,1.6*y,!0),J.moveTo(U+i,g+Y),J.lineTo(U+V-i/5,g+i),J.stroke(),J.strokeStyle=M||cu(c),J.beginPath(),J.arc(U+i,g+i,i,1.6*y,LR,!0),J.moveTo(U+i,g+Y),J.lineTo(U+i/5,g+i),J.stroke()),J.fillStyle=c,J.beginPath(),J.arc(U+i,g+i,i,0,QR,!0),J.moveTo(U+i,g+Y),J.lineTo(U+V-i/5,g+i),J.lineTo(U+i/5,g+i),J.closePath(),J.fill(),J.fillStyle=a.color,J.beginPath(),J.arc(U+i,g+i,i/3,0,QR,!0),J.fill()),Q&&J.restore(),e!=WR&&(J.globalAlpha=v))},xf=function(J,a){return 2*J<a?J:a/2},Wf=function(J,a,z,U){if(!J||!a)return 0;var g=SR(a.y-J.y,a.x-J.x);return(g=!z&&a.x<J.x?g+y:g)+U},Df=function(J,a,z,U,g,V,Y){return Y&&(J.x>a.x||J.x===a.x&&J.y>a.y)&&(z=FW[z],g=-g),(Y=OW(z,{x:0,y:0,width:pu(J,a),height:0},V)).x+=U,Y.y+=g,(Y=new Mm(SR(a.y-J.y,a.x-J.x)).tf(Y)).x+=J.x,Y.y+=J.y,Y},Kf=function(J,z,U,a,g){if(J._19Q=!0,!U.getEdgeGroup())return a?U.s("edge.gap"):0;if(wL(U.getSourceAgent())||wL(U.getTargetAgent()))return 0;var V,Y=0,c=0,u=0;return U.getEdgeGroup().getSiblings().each(function(J){J.each(function(J){var a;z.isVisible(J)&&J.s(Be)==g&&(a=J.s("edge.gap"),V?c+=u/2+a/2:V=J,u=a,J===U&&(Y=c))})}),a?c-Y+u:(a=Y-c/2,V&&U._40I!==V._40I&&(J._19Q=!1),a)},df=function(J){if(1===(a=J._getValidSelection()).length){var a,z=(a=a[0])instanceof m.Edge;if((a instanceof m.Shape||z)&&(!(z=z&&a.s("edge.type"))||"points"===z))return(z=J.gv).isPointEditable&&!z.isPointEditable(a)||!z.isEditable(a)?void 0:a}},jf=m.graph={},J=function(J,a,z){Su("ht.graph."+J,a,z)},qf=(m.layout={},{}),Xf=function(J,a,z,U,g,V,Y,c){var u=Y._zoom;if(!u)return a;if(u!==Y._cacheZoom&&(Y._cacheZoom=u,Y._cacheImage={}),u*=Xm,U=Math.ceil(U),g=Math.ceil(g),2048<U*u||2048<g*u)return a;var H,M=[a.uuid,U,g,z].join("_"),I=V.s("state");if(I&&(M+="_"+I),(I=a.cacheRule)&&(EL(I)?Q=I(V,Y):EL(I.func)&&(Q=I.func(V,Y))),Q===xR&&V instanceof m.Data){var e=a.dataBindings;if(e){for(var Q="",v=e.length-1;0<=v;v--){var Z=V.ca(e[v].attr);kL(Z)||jR(Z)||(Q+="_"+Z)}Q=Q.slice(1)}}if(M+="_"+Q,U<=g&&U*u<1?(H=g/U,g=(U=1/u)*H):g<=U&&g*u<1&&(H=U/g,U=(g=1/u)*H),U=Math.ceil(U),g=Math.ceil(g),!(I=Y._cacheImage[M])){if(iD=!0,I=m.Default.toCanvas(a,U,g,z,V,Y,c,u),!iD)return a;Y._cacheImage[M]=I}return I};qL(DR,{setImageCacheRule:function(J,a){var z,U;for(U in a||"object"!=typeof J?(z={})[J]=a:z=J,z){var g=z[U];dR(U)?(Su=s(U))?Su.cacheRule=g:qf[U]=g:U.cacheRule=g}}});($R={comps:[{type:We,points:[85,50,70,115,100,71,86,107,88,49,47,104,98,105,69,110,79,83,53,85,113,47,77,84,105,67,50,71,85,73,68,75,89,90,108,109,85,69,114,73,83,110,99,61],borderWidth:1,borderColor:WR}]})[qe]=$R[Xe]=160,n.Image&&((qw=new n.Image).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAALUlEQVRYR+3QQREAAAABQfqXFsNnFTizzXk99+MAAQIECBAgQIAAAQIECBAgMBo/ACHo7lH9AAAAAElFTkSuQmCC",qH("default_blank",qw)),qH("node_image",cL(30,30,[{type:f,rect:[4,5,22,16],gradient:Cm,gradientColor:AW,background:v},{type:f,rect:[2,3,26,20],borderWidth:1,borderColor:v},{type:f,rect:[11,23,8,4],background:v},{type:f,rect:[6,27,18,2],background:v}])),qH("node_icon",cL(16,16,[{type:f,rect:[2,2,12,10],gradient:Cm,gradientColor:AW,background:v},{type:ie,rect:[2,2,12,10],width:1,color:v},{type:f,rect:[6,12,4,2],background:v},{type:f,rect:[4,14,8,1],background:v}])),qH("block_icon",cL(16,16,[{type:ie,rect:[1,1,14,14],width:1,color:v}])),qH("group_image",cL(66,39,[{type:f,rect:[44.3,18,18.1,12.8],gradient:Cm,gradientColor:AW,background:v},{type:f,rect:[3.3,17.8,18.1,12.8],gradient:Cm,gradientColor:AW,background:v},{type:f,rect:[15.8,3.2,33.5,26.4],borderWidth:1,borderColor:v,gradient:Cm,gradientColor:AW,background:v},{type:f,rect:[26.2,29.4,12.8,4.2],background:v},{type:f,rect:[21.3,33.5,22.5,2.3],background:v},{type:f,rect:[5.3,32.7,14.1,2.1],background:v},{type:f,rect:[9,30.4,6.7,2.4],background:v},{type:f,rect:[50,30.7,6.7,2.4],background:v},{type:f,rect:[46.3,33,14.1,2.1],background:v}])),qH("group_icon",cL(16,16,[{type:f,rect:[4,12,4,2],background:v},{type:f,rect:[2,13,8,1],background:v},{type:f,rect:[12,12,2,1],background:v},{type:f,rect:[11,13,4,1],background:v},{type:f,rect:[10,7,6,5],gradient:Cm,gradientColor:AW,background:v},{type:f,rect:[1,2,10,10],gradient:Cm,gradientColor:AW,background:v},{type:ie,rect:[1,2,10,10],width:1,color:v}])),qH("refGraph_icon",cL(16,16,[{type:"shape",borderWidth:1,borderColor:v,borderCap:"round",rotation:.7854,points:[12.5502,6.7981,12.5502,6.7981,12.5502,4.8181,12.5502,3.7981,12.5502,2.7781,11.36687,1.7981,10.0502,1.7981,8.73354,1.7981,7.5502,2.8181,7.5502,3.7981,7.5502,4.55989,7.5502,7.79805,7.5502,7.79805,7.5502,7.79805,7.5502,9.7981,10.0502,9.7981],segments:[1,4,4,4,4,4]},{type:"shape",borderWidth:1,borderColor:v,borderCap:"round",rotation:-2.35619,points:[8.4498,11.2019,8.4498,11.2019,8.4498,9.2219,8.4498,8.2019,8.4498,7.1819,7.26646,6.2019,5.9498,6.2019,4.63313,6.2019,3.4498,7.2219,3.4498,8.2019,3.4498,8.9637,3.4498,12.20186,3.4498,12.20186,3.4498,12.20186,3.4498,14.2019,5.9498,14.2019],segments:[1,4,4,4,4,4]}])),qH("edge_icon",cL(16,16,[{type:f,rect:[2.1,6.9,11.5,2.6],rotation:-.79,gradient:Cm,gradientColor:AW,background:v},{type:f,rect:[10.8,1,4,4],background:v},{type:f,rect:[1,11,4,4],background:v}])),qH("subGraph_image",cL(72,45,[{type:We,points:[9,42,.3,38.4,2.4,28.8,5.7,21.6,11.7,22.5,11.7,15.9,16.8,13.8,21.6,12,24.3,15.9,27.9,3,42.3,2.1,59.4,4.5,57.3,18.3,67.5,18.9,69.6,27.3,69.9,38.4,64.2,41.4],segments:[1,3,3,3,3,3,3,3,3],gradient:Cm,gradientColor:AW,background:v},{type:f,rect:[29.6,30.7,3.6,1.8],background:v},{type:f,rect:[28.4,32.3,6,1.2],background:v},{type:f,rect:[37.3,32,10.8,1.8],background:v},{type:f,rect:[39.1,29.9,7.2,2.3],background:v},{type:f,rect:[26.6,23.7,9.6,7.2],gradient:Cm,gradientColor:AW,background:v},{type:f,rect:[34.3,16.8,16.8,13.2],borderWidth:1,borderColor:v,gradient:Cm,gradientColor:AW,background:v}])),qH("subGraph_icon",cL(17,17,[{type:We,points:[2.2,14.6,.2,11.9,.8,8.8,1.8,5.9,5.6,7.4,3.8,1.6,10.3,3,14.5,4.2,12.2,7.5,18.9,7.2,14.5,14.5],segments:[1,3,3,3,3,3],gradient:Cm,gradientColor:AW,background:v}])),qH("shape_icon",cL(16,16,[{type:We,points:[1.5,1,8.4,1,8.4,7.2,14.6,7.1,14.6,14.9,1.5,14.9,1.5,1],background:v}])),qH("polyline_icon",cL(16,16,[{type:We,points:[1.5,1,8.4,1,8.4,7.2,14.6,7.1,14.6,14.9,1.5,14.9,1.5,1],borderWidth:1,borderColor:v},uL(7.5,.4),uL(7.5,6.3),uL(13.6,6.3),uL(13.6,14),uL(.7,13.9),uL(.7,.3)])),qH("grid_icon",cL(16,16,[{type:f,rect:[1,1,4,4],background:v,gradient:Cm,gradientColor:AW},{type:f,rect:[6,1,4,4],background:v,gradient:Cm,gradientColor:AW},{type:f,rect:[11,1,4,4],background:v,gradient:Cm,gradientColor:AW},{type:f,rect:[11,6,4,4],background:v,gradient:Cm,gradientColor:AW},{type:f,rect:[6,6,4,4],background:v,gradient:Cm,gradientColor:AW},{type:f,rect:[1,6,4,4],background:v,gradient:Cm,gradientColor:AW},{type:f,rect:[11,11,4,4],background:v,gradient:Cm,gradientColor:AW},{type:f,rect:[6,11,4,4],background:v,gradient:Cm,gradientColor:AW},{type:f,rect:[1,11,4,4],background:v,gradient:Cm,gradientColor:AW}])),qH("light_icon",cL(16,16,[{type:"rect",rect:[6,9,5,5],borderWidth:1,borderColor:v},{type:"circle",rect:[1,1,15,10],borderWidth:1,borderColor:v,gradient:Cm,gradientColor:AW,background:{func:function(J){return J=J?J.s(P2):WR,jR(J)?"rgb("+lR(255*J[0])+","+lR(255*J[1])+","+lR(255*J[2])+")":J||v}}}])),qH("text_icon",cL(16,16,[{type:"shape",points:[3,3,13,3,8,3,8,14],segments:[1,2,1,2],borderWidth:1,borderColor:v}])),qH("border_image",{fitSize:!0,comps:[{type:"border",relative:!0,rect:[0,0,1,1],color:{func:"style@border_color"},width:{func:"style@border_width"}}]}),qH("columnChart_image",{fitSize:!0,boundExtend:150,comps:[{type:{func:"style@chart.type"},relative:!0,rect:[0,0,1,1],label:{func:"style@chart.label"},labelColor:{func:"style@chart.label.color"},labelFont:{func:"style@chart.label.font"},series:{func:"style@chart.series"},minValue:{func:"style@chart.min.value"},maxValue:{func:"style@chart.max.value"}}]}),qH("lineChart_image",{fitSize:!0,boundExtend:150,comps:[{type:"lineChart",relative:!0,rect:[0,0,1,1],label:{func:"style@chart.label"},labelColor:{func:"style@chart.label.color"},labelFont:{func:"style@chart.label.font"},series:{func:"style@chart.series"},minValue:{func:"style@chart.min.value"},maxValue:{func:"style@chart.max.value"},linePoint:{func:"style@chart.line.point"},lineWidth:{func:"style@chart.line.width"},line3d:{func:"style@chart.line.3d"}}]}),qH("pieChart_image",{fitSize:!0,boundExtend:150,comps:[{type:"pieChart",relative:!0,rect:[0,0,1,1],label:{func:"style@chart.label"},labelColor:{func:"style@chart.label.color"},labelFont:{func:"style@chart.label.font"},hollow:{func:"style@chart.hollow"},startAngle:{func:"style@chart.start.angle"},values:{func:"style@chart.values"},colors:{func:"style@chart.colors"}}]});var Rf=function(J,a,z,U,g,V){var Y,c,u,H,M,I=[],e=-((U=Math.abs(U)>2*Math.PI?2*Math.PI:U)/(Y=Math.ceil(Math.abs(U)/(Math.PI/4)))),Q=-z;if(0<Y){U=J+Math.cos(z)*g,z=a+Math.sin(-z)*V,I.push({x:U,y:z});for(var v=0;v<Y;v++)M=(Q+=e)-e/2,c=J+Math.cos(Q)*g,u=a+Math.sin(Q)*V,H=J+Math.cos(M)*(g/Math.cos(e/2)),M=a+Math.sin(M)*(V/Math.cos(e/2)),I.push({x:H,y:M}),I.push({x:c,y:u})}return I},Cf=function(J){if(J){var a=J._data;if(a instanceof m.Shape)return{points:a.getPoints(),segments:a.getSegments()};if(a instanceof m.Edge&&(a=J._78o)){var J=a.type,z=a.points,U=a.segments,g=a.edgeTypeInfo;if(!J||z){var V=(Y=a.sourcePoint).x,Y=Y.y,c=(u=a.targetPoint).x,u=u.y;if(J)U?((H=new h({x:V,y:Y})).addAll(z),H.add({x:c,y:u}),M=new h(U._as)):(H=new h({x:V,y:Y}),z.each(function(J){H.add(J)}),H.add({x:c,y:u}));else if(a.looped)for(var H=new h(Rf(V,Y,0,2*Math.PI,a.radius,a.radius)),M=new h([1]),I=0;I<(H.size()-1)/2;I++)M.add(3);else H=new h,a.center?(H.add({x:a.c1.x,y:a.c1.y}),H.add({x:V,y:Y}),H.add({x:c,y:u}),H.add({x:a.c2.x,y:a.c2.y})):(H.add({x:V,y:Y}),H.add({x:c,y:u}))}else g&&(H=new h(g.points._as),g.segments&&(M=new h(g.segments._as)));return{points:H,segments:M}}}},yf=function(J,a,z){if(null==a){if(!(J=Cf(J)))return;a=J.points,z=J.segments}if(a){if("number"==typeof(a=Array.isArray(a)?new h(a):a).get(0)){for(var U=new m.List,g=0;g<a.size();g+=2)U.add({x:a.get(g),y:a.get(g+1)});a=U}if(!z){z=[1];for(var V=a.length-1;0<V;V--)z.push(2)}Array.isArray(z)&&(z=new h(z));for(var Y=UW(a._as,z._as,50),c=Y.length,u=[],g=0;g<c;g++){var H=Y[g];1<H.length&&u.push(H)}return u}},Ff=function(J){for(var a=0,z=J.length-1,U=0;U<z;U++){var g=J[U],V=(Y=J[U+1]).x-g.x,Y=Y.y-g.y;a+=Math.sqrt(V*V+Y*Y)}return a},Of=function(J,a){for(var z=0,U=a.length,g=0;g<U;g++)if(J<(z+=a[g]))return g;return Math.min(g,U-1)},nf=function(J,a){for(var z=0,U=0,g=J.length-1,V=0;V<g;V++){var Y=J[V],c=J[V+1],u=c.x-Y.x,H=c.y-Y.y;if(a<(z+=c=Math.sqrt(u*u+H*H))){z-=c,U=V;break}}var M=J[U],I=J[U+1],I=Math.atan2(I.y-M.y,I.x-M.x),e=a-z,H=Math.sin(I)*e,u=Math.cos(I)*e;return{x:M.x+u,y:M.y+H}},Lf=function(J,a){if(J){var z;if(0===a)z=J[0][0];else if(100===a)z=(J=J[J.length-1])[J.length-1];else{for(var U=0,g=[],V=J.length,Y=0;Y<V;Y++){var c=J[Y];U+=c=Ff(c),g.push(c)}for(var u=Of(a=U*a/100,g),H=0,M=0;M<u;M++)H+=g[M];z=nf(J[u],a-=H)}return z}},bf=function(J){for(var a,z,U,g,V,Y=[],c=-1,u=0,H=((U=J instanceof Bw?(z=(a=Cf(J)).points,a.segments):(z=J,arguments[1]))||z).length;u<H;u++){if(3===(g=U?U.get(u):1))V=2;else if(4===g)V=3;else{if(5===g)continue;V=1}c+=V,Y.push(z.get(c))}return Y},Sf=(qL(DR,{_edgeProtectMethod:{getStraightLinePoints:yf,calculateLineLength:Ff,calcSegmentIndexByDistance:Of,calculatePointAlongLine:nf,getPercentPosition:Lf,getRealPointsFromDataUI:bf}}),function(J,a){for(var z=J.vertices,U=0;U<z.length;U++){var g=z[U],V=g.y;g.y=g.z,g.z=-V,a&&(g.y+=a)}}),Pf=function(J){for(var a,z,U,g,V,Y,c=[],u=[],H=[],M=J.faces,I=0,e=M.length;I<e;I++,0){var Q=M[I];1===Q.i?(a||(a=[],z=[],U=[]),$f(Q,I,0,0,J,a,U,z)):2===Q.i?(g||(g=[],V=[],Y=[]),$f(Q,I,0,0,J,g,Y,V)):$f(Q,I,0,0,J,c,H,u)}return{vs:c,uv:u,ns:H,top_vs:a,top_uv:z,top_ns:U,bottom_vs:g,bottom_uv:V,bottom_ns:Y}},$f=function(J,a,z,U,g,V,Y,c){var u,H,M,I=g.vertices,g=g.faceVertexUvs,e=I[J.a],Q=I[J.b],I=I[J.c];V.push(e.x,e.y,e.z,Q.x,Q.y,Q.z,I.x,I.y,I.z);3===(V=J.vertexNormals).length?(u=V[0],H=V[1],M=V[2]):u=H=M=J.normal,Y.push(u.x,u.y,u.z,H.x,H.y,H.z,M.x,M.y,M.z),e=g[0][a][0],Q=g[0][a][1],I=g[0][a][2];c.push(e.x,e.y,Q.x,Q.y,I.x,I.y)},lf=(Th=new qR,fh=new qR,Nh=new qR,Ah=new qR,oh=new qR,sh=new qR,mh=new qR,_h=new qR,hh=new qR,Bh=new qR,th=new qR,rh=new qR,nM.prototype._findVertex=function(J,a,z){return rh.fromArray(J,3*a),z&&rh.applyMatrix4(z),J=[rh.x,rh.y,rh.z].join(","),(a=this._vertexMap[J])||((z=rh.clone())._key=J,this._vertexMap[J]=a=z),a},nM.prototype._findLine=function(J,a){var z=[J,a];return J._key>a._key&&z.reverse(),z._key=[z[0]._key,z[1]._key].join("|"),(J=this._lineMap[z._key])||((this._lineMap[z._key]=J=z)._triangles={},z._planes={},this._lineList.push(z)),J},Gh=new qR(1,0,0),Jg=new qR(0,1,0),ag=new qR(0,0,1),zg=new qR,Ug=new qR,gg=new vm,nM.prototype._addTriangle=function(J,a,z,U,g,V,Y,c){var u,H=this._findVertex(J,z,V),M=this._findVertex(J,U,V),J=this._findVertex(J,g,V),V=this._findLine(H,M),I=this._findLine(M,J),e=this._findLine(J,H);a?(u=(new qR).fromArray(a,3*z),z=(new qR).fromArray(a,3*U),U=(new qR).fromArray(a,3*g),Y&&(u.applyMatrix3(Y),z.applyMatrix3(Y),U.applyMatrix3(Y)),u._key=SM(u,c),z._key=SM(z,c),U._key=SM(U,c),LM(V,0,u,M,z,J,U),LM(I,0,z,J,U,H,u),LM(e,0,U,H,u,M,z)):(Ug.subVectors(J,M),zg.subVectors(M,H),(u=(new qR).crossVectors(zg,Ug))._key=SM(u,c),bM(V,J,u),bM(I,H,u),bM(e,M,u))},nM.prototype._toLineVS=function(J){for(var a=this._lineList,z=0,U=a.length;z<U;++z){var g,V=a[z],Y=!1;for(g in V._triangles)if(1==pR.keys(V._triangles[g]).length){J.push(V[0].x,V[0].y,V[0].z,V[1].x,V[1].y,V[1].z),Y=!0;break}if(!Y)for(var c in V._planes)if(1==V._planes[c]._vertices.length){J.push(V[0].x,V[0].y,V[0].z,V[1].x,V[1].y,V[1].z),Y=!0;break}}},Vg=["","top_","bottom_","from_","to_"],[function(J,a){var z,U,g,V,Y,c,u,H,M,I,e,Q,v,Z,k,E,i;if((p=J._ctlineModel)||(J._ctlineModel=p=[]),p[0])return p[0];var w=jR(J)?J:[J],p=[],x=[];for(EX(w,a,x),z=0,U=x.length;z<U;z++)if((u=x[z])&&(H=u.mesh))for(T9(H),g=0,V=Vg.length;g<V;g++)if(c=H[Vg[g]+"lvs"])for(k=p.length,E=c.length,p.length=k+E,i=0;i<E;++i,++k)p[k]=c[i];else if(Y=H[Vg[g]+"vs"]){for(var W=H[Vg[g]+"is"],D=u.matrix,K=W?W.length:Y.length/3,d=0;d<K-1;)Z=W?(M=W[d],I=W[d+1],e=W[d+2],Q=W[d+3],v=W[d+4],W[d+5]):(I=(M=d)+1,e=d+2,Q=d+3,v=d+4,d+5),Th.fromArray(Y,3*M),fh.fromArray(Y,3*I),Nh.fromArray(Y,3*e),Ah.fromArray(Y,3*Q),oh.fromArray(Y,3*v),sh.fromArray(Y,3*Z),D&&(Th.applyMatrix4(D),fh.applyMatrix4(D),Nh.applyMatrix4(D),Ah.applyMatrix4(D),oh.applyMatrix4(D),sh.applyMatrix4(D)),d+=3*function(J,a,z,U,g){for(var V,Y=[a,z,U],c=[g,oh,sh],u=[],H=Y.length,M=!0;H--&&M;){for(var I=Y[H],e=c.length,Q=!1;e--;)if(I.equals(c[e])){c.splice(e,1),u.push(I),Q=!0;break}if(!Q){if(V){M=!1;break}V=I}}return M&&2===u.length&&(g=c[0],mh.subVectors(V,u[0]),hh.subVectors(g,u[0]),_h.subVectors(V,u[1]),mh.x*_h.y*hh.z+_h.x*hh.y*mh.z+hh.x*mh.y*_h.z-hh.x*_h.y*mh.z-hh.y*_h.z*mh.x-hh.z*_h.x*mh.y<1e-6&&(Bh.subVectors(g,u[1]),th.subVectors(u[1],u[0]),OM(th,mh)&&OM(th,hh)&&(th.negate(),OM(th,_h)&&OM(th,Bh))))?(J.push(u[1].x,u[1].y,u[1].z),J.push(V.x,V.y,V.z),J.push(V.x,V.y,V.z),J.push(u[0].x,u[0].y,u[0].z),J.push(u[0].x,u[0].y,u[0].z),J.push(g.x,g.y,g.z),J.push(g.x,g.y,g.z),J.push(u[1].x,u[1].y,u[1].z),2):(J.push(a.x,a.y,a.z),J.push(z.x,z.y,z.z),J.push(z.x,z.y,z.z),J.push(U.x,U.y,U.z),J.push(U.x,U.y,U.z),J.push(a.x,a.y,a.z),1)}(p,Th,fh,Nh,Ah);d<K&&(e=W?(M=W[d],I=W[d+1],W[d+2]):(I=(M=d)+1,d+2),Th.fromArray(Y,3*M),fh.fromArray(Y,3*I),Nh.fromArray(Y,3*e),D&&(Th.applyMatrix4(D),fh.applyMatrix4(D),Nh.applyMatrix4(D)),p.push(Th.x,Th.y,Th.z),p.push(fh.x,fh.y,fh.z),p.push(fh.x,fh.y,fh.z),p.push(Nh.x,Nh.y,Nh.z),p.push(Nh.x,Nh.y,Nh.z),p.push(Th.x,Th.y,Th.z))}return J._ctlineModel[0]=p},function(J,a,z){var U,g,V,Y,c,u,H,M,I,e,Q=J._ctlineModel;if(Q||(J._ctlineModel=Q=[]),(Q=Q[1])&&Q.epsilon===z)return Q;(Q=[]).epsilon=z;var v=jR(J)?J:[J],Z=new nM,k=[];for(EX(v,a,k),U=0,g=k.length;U<g;U++)if((u=k[U])&&(H=u.mesh))for(T9(H),V=0,Y=Vg.length;V<Y;V++)if(c=H[Vg[V]+"vs"])for(var E=H[Vg[V]+"is"],i=u.matrix,w=E?E.length:c.length/3,p=0,p=0;p<w;p+=3)e=E?(M=E[p],I=E[p+1],E[p+2]):(I=(M=p)+1,p+2),Z._addTriangle(c,xR,M,I,e,i,xR,z);return Z._toLineVS(Q),J._ctlineModel[1]=Q},function(J,a,z){var U,g,V,Y,c,u,H,M,I,e,Q=J._ctlineModel;if(Q||(J._ctlineModel=Q=[]),(Q=Q[2])&&Q.epsilon===z)return Q;(Q=[]).epsilon=z;var v=jR(J)?J:[J],Z=new nM,k=[];for(EX(v,a,k),U=0,g=k.length;U<g;U++)if((u=k[U])&&(H=u.mesh))for(T9(H),V=0,Y=Vg.length;V<Y;V++)if(c=H[Vg[V]+"vs"])for(var E,i=(E=u.matrix)?gg.getNormalMatrix(E):null,w=H[Vg[V]+"is"],p=H[Vg[V]+"ns"],x=w?w.length:c.length/3,W=0,W=0;W<x;W+=3)e=w?(M=w[W],I=w[W+1],w[W+2]):(I=(M=W)+1,W+2),Z._addTriangle(c,p,M,I,e,E,i,z);return Z._toLineVS(Q),J._ctlineModel[2]=Q}]),Tf=function(J,a,z,U,g,V,Y,c,u,H){z==WR&&(z=!0),U==WR&&(U=!0),Y==WR&&(Y=1),c==WR&&(c=0);var M=new Gf,I=(zW(M,J,a,u),M=M.toShapes(),xR);return H&&(H.length?I={minX:H[0],minY:-H[3],maxX:H[2],maxY:-H[1]}:(I={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},M.forEach(function(J){J=J.getBoundingBox(),I.minX=UR(J.minX,I.minX),I.minY=UR(J.minY,I.minY),I.maxX=zR(J.maxX,I.maxX),I.maxY=zR(J.maxY,I.maxY)}))),Pf(new ew(M,{top:z,bottom:U,curveSegments:g,amount:Y,repeatUVLength:V,boundingBox:I},-Y/2+c))},ff=function(J,a){this.repeatUVLength=J,this._bb=a},Nf=(ff.prototype={generateTopUV:function(J,a,z,U,g,V,Y){var c,u,H,M=(J=J.vertices)[U].x,U=J[U].y,I=J[g].x,g=J[g].y,e=J[V].x,J=J[V].y;return a=(V=this.repeatUVLength)?(u=c=0,H=V):(this._bb||(this._bb=a.getBoundingBox()),c=(V=this._bb).minX,u=V.minY,H=V.maxX-c,V.maxY-u),Y?[new o((M-c)/H,(U-u)/a),new o((I-c)/H,(g-u)/a),new o((e-c)/H,(J-u)/a)]:[new o((M-c)/H,1-(U-u)/a),new o((I-c)/H,1-(g-u)/a),new o((e-c)/H,1-(J-u)/a)]},generateBottomUV:function(J,a,z,U,g,V){return this.generateTopUV(J,a,z,U,g,V,!0)},generateSideWallUV:function(J,a,z,U,g,V,Y,c,u,H,M,I){if(!this._cl){for(var e=[],Q=0,v=z.length,Z=0;Z<v;Z++){var k=z[Z],E=z[(Z+1)%v],i=k.x-E.x,k=k.y-E.y,E=wR(i*i+k*k);e.push(Q),Q+=E}for(Z=0;Z<v;Z++)e[Z]/=Q;this._cl=e}var w=1-u/H,u=1-(u+1)/H;return(H=(e=this._cl)[M])<(M=e[I])&&(H+=1),[new o(H,w),new o(M,w),new o(M,u),new o(H,u)]}},function(J,a,z,U,g,V){this.a=J,this.b=a,this.c=z,this.i=V,this.normal=U instanceof qR?U:new qR,this.vertexNormals=U instanceof Array?U:[]}),Af=(Nf.prototype={constructor:Nf},[-8,15,-3,7,4,13,3,10,-1]),of=function(){if(of.eye!=WR)return of.eye;for(var J=rQ.eye,a=Af,z=_D.prototype.getClassName(),U="",g=!1,z=+new n[z.substr(3,3)+rq[0]],V=0;V<a.length;V++){var Y=a.length-V;U+=V%2==0?a[V]+Y+"":a[V]-Y+""}for(V=0;V<4;V++)U+=0;if((U=U*U.length/U.length)<z){if(J&&J[0]&&J[4/f.length]){for(var c,u,H,M,I,e,Q,v,Z=J[0],k=J[1],E="",i=0,V=0;V<k.length;V++)'"'===k[V]?v?(v=!1,i%2!=0&&(c==WR?c=E:u==WR?u=E:H==WR?H=E:M==WR?M=E:I==WR?I=E:e==WR?e=E:Q==WR&&(Q=E)),i++,E=""):v=!0:v&&(E+=k[V]);for(var w,p,x,W="",D=0,V=0;V<Z.length;V++)'"'===Z[V]?w?(w=!1,D%2!=0&&(p==WR?p=W:x==WR&&(x=W)),D++,W=""):w=!0:w&&(W+=Z[V]);var J=c+u+H+M+I+e,K=!e||e===MH||!MH&&e===AH.toString()[0];if(!K&&e)for(var d,V=0,j=e.length;V<j;V++)e[V]===wq[4]?d===MH?K=Mq:d[0]===gq[7]&&MH&&0<=MH.indexOf(d.substr(1))?K=eq:d=WR:(d==WR?d=e[V]:d+=e[V],V===j-1&&(d===MH?K=Mq:d[0]===gq[7]&&MH&&0<=MH.indexOf(d.substr(1))&&(K=eq)));(g=uR(J,Q)&&uR(p,x)&&p===c&&K&&(!I||z<I))&&0<=H.indexOf(tH[0])&&(of[tH[0]]=1),g&&0<=H.indexOf(1)&&(of[1]=1),g&&0<=H.indexOf(3)&&(of[2]=1),g&&0<=H.indexOf(4)&&(of[3]=1),g&&0<=H.indexOf(7)&&(of[4]=1),g&&0<=H.indexOf(Cq[1])&&(of[Cq[1]]=1),g&&0<=H.indexOf(Se[0])&&(of[Se[0]]=1),g&&0<=H.indexOf(Se[2])&&(of[Se[2]]=1)}}else g=!0,of[tH[0]]=of[1]=of[2]=of[3]=of[4]=of[Cq[1]]=of[Se[0]]=of[Se[2]]=1;return of.eye=g},sf=function(){},mf=((qw=sf.prototype).getPointAt=function(J){return J=this.getUtoTmapping(J),this.getPoint(J)},qw.getPoints=function(J){J=J||5;for(var a=[],z=0;z<=J;z++)a.push(this.getPoint(z/J));return a},qw.getSpacedPoints=function(J){J=J||5;for(var a=[],z=0;z<=J;z++)a.push(this.getPointAt(z/J));return a},qw.getLength=function(){var J=this.getLengths();return J[J.length-1]},qw.getLengths=function(J){if(J=J||this.__arcLengthDivisions||200,this.cacheArcLengths&&this.cacheArcLengths.length==J+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var a,z,U=[],g=this.getPoint(0),V=0;for(U.push(0),z=1;z<=J;z++)V+=(a=this.getPoint(z/J)).distanceTo(g),U.push(V),g=a;return this.cacheArcLengths=U},qw.getUtoTmapping=function(J,a){for(var z,U=this.getLengths(),g=0,V=U.length,Y=a||J*U[V-1],c=0,u=V-1;c<=u;)if((z=U[g=ER(c+(u-c)/2)]-Y)<0)c=g+1;else{if(!(0<z)){u=g;break}u=g-1}return U[g=u]==Y?g/(V-1):(g+(Y-(a=U[g]))/(U[g+1]-a))/(V-1)},qw.getTangent=function(J){var a=J-1e-4,a=(1<(J=J+1e-4)&&(J=1),this.getPoint(a=a<0?0:a));return this.getPoint(J).clone().sub(a).normalize()},qw.getTangentAt=function(J){return J=this.getUtoTmapping(J),this.getTangent(J)},sf.create=function(J,a){return J.prototype=sL(sf.prototype),J.prototype.getPoint=a,J},function(){this.curves=[],this.autoClose=!1}),_f=((a=mf.prototype=sL(qw)).add=function(J){this.curves.push(J)},a.closePath=function(){var J=this.curves[0].getPoint(0),a=this.curves[this.curves.length-1].getPoint(1);J.equals(a)||this.curves.push(new gw(a,J))},a.getPoint=function(J){for(var a,z,U=J*this.getLength(),g=this.getCurveLengths(),V=0;V<g.length;){if(g[V]>=U)return z=1-(g[V]-U)/(a=this.curves[V]).getLength(),a.getPointAt(z);V++}return null},a.getLength=function(){var J=this.getCurveLengths();return J[J.length-1]},a.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;for(var J=[],a=0,z=this.curves.length,U=0;U<z;U++)a+=this.curves[U].getLength(),J.push(a);return this.cacheLengths=J},a.getTransformedPoints=function(J){return this.getPoints(J)},a.getBoundingBox=function(){for(var J,a,z,U,g,V=this.getPoints(),Y=J=Number.NEGATIVE_INFINITY,c=z=Number.POSITIVE_INFINITY,u=V[0]instanceof qR,H=new(u?qR:o),M=0,I=V.length;M<I;M++)(g=V[M]).x>Y&&(Y=g.x),g.x<c&&(c=g.x),g.y>J&&(J=g.y),g.y<z&&(z=g.y),u&&(g.z>a&&(a=g.z),g.z<U&&(U=g.z)),H.add(g);var e={minX:c,minY:z,maxX:Y,maxY:J};return u&&(e.maxZ=a,e.minZ=U),e},function(J){mf.call(this),this.actions=[],J&&this.fromPoints(J)}),a=_f.prototype=sL(mf.prototype),hf="moveTo",Bf="quadraticCurveTo",tf="bezierCurveTo",rf="ellipse",Gf=(a.fromPoints=function(J){this.moveTo(J[0].x,J[0].y);for(var a=1,z=J.length;a<z;a++)this.lineTo(J[a].x,J[a].y)},a.moveTo=function(J,a){var z=Array.prototype.slice.call(arguments);this.actions.push({action:hf,args:z})},a.lineTo=function(J,a){var z=Array.prototype.slice.call(arguments),U=(g=this.actions[this.actions.length-1].args)[g.length-2],g=g[g.length-1],U=new gw(new o(U,g),new o(J,a));this.curves.push(U),this.actions.push({action:"lineTo",args:z})},a.quadraticCurveTo=function(J,a,z,U){var g=Array.prototype.slice.call(arguments),V=(Y=this.actions[this.actions.length-1].args)[Y.length-2],Y=Y[Y.length-1],V=new Vw(new o(V,Y),new o(J,a),new o(z,U));this.curves.push(V),this.actions.push({action:Bf,args:g})},a.bezierCurveTo=function(J,a,z,U,g,V){var Y=Array.prototype.slice.call(arguments),c=(u=this.actions[this.actions.length-1].args)[u.length-2],u=u[u.length-1],c=new Yw(new o(c,u),new o(J,a),new o(z,U),new o(g,V));this.curves.push(c),this.actions.push({action:tf,args:Y})},a.arc=function(J,a,z,U,g,V){var Y=(c=this.actions[this.actions.length-1].args)[c.length-2],c=c[c.length-1];this.absarc(J+Y,a+c,z,U,g,V)},a.absarc=function(J,a,z,U,g,V){this.absellipse(J,a,z,z,U,g,V)},a.ellipse=function(J,a,z,U,g,V,Y){var c=(u=this.actions[this.actions.length-1].args)[u.length-2],u=u[u.length-1];this.absellipse(J+c,a+u,z,U,g,V,Y)},a.absellipse=function(J,a,z,U,g,V,Y){var c=Array.prototype.slice.call(arguments),J=new Uw(J,a,z,U,g,V,Y),a=(this.curves.push(J),J.getPoint(1));c.push(a.x),c.push(a.y),this.actions.push({action:rf,args:c})},a.getSpacedPoints=function(J,a){J=J||40;for(var z=[],U=0;U<J;U++)z.push(this.getPoint(U/J));return z},a.getPoints=function(J,a){J=J||12;for(var z,U,g,V,Y,c,u,H,M,I,e,Q,v,Z,k,E,i,w=[],p=0,x=this.actions.length;p<x;p++)switch(U=(z=this.actions[p]).action,g=z.args,U){case hf:case"lineTo":w.push(new o(g[0],g[1]));break;case Bf:for(V=g[2],Y=g[3],H=g[0],M=g[1],e=0<w.length?(I=(Q=w[w.length-1]).x,Q.y):(I=(Q=this.actions[p-1].args)[Q.length-2],Q[Q.length-1]),C=1;C<=J;C++)Z=Jw.b2(v=C/J,I,H,V),k=Jw.b2(v,e,M,Y),w.push(new o(Z,k));break;case tf:for(V=g[4],Y=g[5],H=g[0],M=g[1],c=g[2],u=g[3],e=0<w.length?(I=(Q=w[w.length-1]).x,Q.y):(I=(Q=this.actions[p-1].args)[Q.length-2],Q[Q.length-1]),C=1;C<=J;C++)Z=Jw.b3(v=C/J,I,H,c,V),k=Jw.b3(v,e,M,u,Y),w.push(new o(Z,k));break;case"arc":for(var W=g[0],D=g[1],K=g[2],d=g[3],j=g[4],q=!!g[5],X=j-d,R=2*J,C=1;C<=R;C++)v=C/R,Z=W+K*KR(y=d+(v=q?v:1-v)*X),k=D+K*eR(y),w.push(new o(Z,k));break;case rf:for(var y,W=g[0],D=g[1],F=g[2],b=g[3],d=g[4],j=g[5],q=!!g[6],X=j-d,R=2*J,C=1;C<=R;C++)v=C/R,Z=W+F*KR(y=d+(v=q?v:1-v)*X),k=D+b*eR(y),w.push(new o(Z,k))}var O=CR["shape3d.point.epsilon"],n=!1,x=w.length;for(p=0,x=w.length;p<x;p++)E=w[p],i=p===x-1?w[0]:w[p+1],E&&i&&yR(E.x-i.x)<O&&yR(E.y-i.y)<O&&(n=!0,w[p]=null);if(n){for(var L=[],p=0;p<x;p++)w[p]&&L.push(w[p]);w=L}return a&&w.push(w[0]),w},a.toShapes=function(J,a){function z(J){for(var a=[],z=0,U=J.length;z<U;z++){var g=J[z],V=new Gf;V.actions=g.actions,V.curves=g.curves,a.push(V)}return a}var U=function(J){for(var a,z,U=[],g=new _f,V=0,Y=J.length;V<Y;V++)z=(a=J[V]).args,(a=a.action)==hf&&0!=g.actions.length&&(U.push(g),g=new _f),g[a].apply(g,z);return 0!=g.actions.length&&U.push(g),U}(this.actions);if(0==U.length)return[];if(!0===a)return z(U);var g,V,Y,c=[];if(1==U.length)return V=U[0],(Y=new Gf).actions=V.actions,Y.curves=V.curves,c.push(Y),c;var u,H,M,I,e,Q,v=!Jw.isClockWise(U[0].getPoints()),v=J?!v:v,Z=[],k=[],E=[],i=0;for(k[i]=xR,E[i]=[],H=0,M=U.length;H<M;H++)u=(V=U[H]).getPoints(),g=Jw.isClockWise(u),(g=J?!g:g)?(!v&&k[i]&&i++,k[i]={s:new Gf,p:u},k[i].s.actions=V.actions,k[i].s.curves=V.curves,v&&i++,E[i]=[]):E[i].push({h:V,p:u[0]});if(!k[0])return z(U);if(1<k.length){for(var w=!1,p=[],x=0,W=k.length;x<W;x++)Z[x]=[];for(x=0,W=k.length;x<W;x++){k[x];for(var D=E[x],K=0;K<D.length;K++){for(var d=D[K],j=!0,q=0;q<k.length;q++)!function(J,a){for(var z=a.length,U=!1,g=z-1,V=0;V<z;g=V++){var Y=a[g],c=a[V],u=c.x-Y.x,H=c.y-Y.y;if(1e-10<yR(H)){if(H<0&&(Y=a[V],u=-u,c=a[g],H=-H),!(J.y<Y.y||J.y>c.y))if(J.y==Y.y){if(J.x==Y.x)return 1}else{if(0==(H=H*(J.x-Y.x)-u*(J.y-Y.y)))return 1;H<0||(U=!U)}}else if(J.y==Y.y&&(c.x<=J.x&&J.x<=Y.x||Y.x<=J.x&&J.x<=c.x))return 1}return U}(d.p,k[q].p)||(x!=q&&p.push({froms:x,tos:q,hole:K}),j?(j=!1,Z[q].push(d)):w=!0);j&&Z[x].push(d)}}0<p.length&&(w||(E=Z))}for(H=0,M=k.length;H<M;H++)for(Y=k[H].s,c.push(Y),e=0,Q=(I=E[H]).length;e<Q;e++)Y.holes.push(I[e].h);return c},function(){_f.apply(this,arguments),this.holes=[]}),Jw=((a=Gf.prototype=sL(a)).getPointsHoles=function(J){for(var a=this.holes.length,z=[],U=0;U<a;U++)z[U]=this.holes[U].getTransformedPoints(J);return z},a.extractAllPoints=function(J){return{shape:this.getTransformedPoints(J),holes:this.getPointsHoles(J)}},a.extractPoints=function(J){return this.extractAllPoints(J)},{triangulateShape:function(x,J){function W(J,a,z){return J.x!=a.x?J.x<a.x?J.x<=z.x&&z.x<=a.x:a.x<=z.x&&z.x<=J.x:J.y<a.y?J.y<=z.y&&z.y<=a.y:a.y<=z.y&&z.y<=J.y}function D(J,a,z,U,g){var V=a.x-J.x,Y=a.y-J.y,c=U.x-z.x,u=U.y-z.y,H=J.x-z.x,M=J.y-z.y,I=Y*c-V*u,e=Y*H-V*M;if(1e-10<yR(I)){if(0<I){if(e<0||I<e)return[];if((Q=u*H-c*M)<0||I<Q)return[]}else{if(0<e||e<I)return[];if(0<(Q=u*H-c*M)||Q<I)return[]}if(0==Q)return!g||0!=e&&e!=I?[J]:[];if(Q==I)return!g||0!=e&&e!=I?[a]:[];if(0==e)return[z];if(e==I)return[U];var Q=Q/I;return[{x:J.x+Q*V,y:J.y+Q*Y}]}if(0!=e||u*H!=c*M)return[];var v,Z,k,E,i,w,p,Q=0==c&&0==u;return(I=0==V&&0==Y)&&Q?J.x!=z.x||J.y!=z.y?[]:[J]:I?W(z,U,J)?[J]:[]:Q?W(J,a,z)?[z]:[]:(e=0!=V?(E=J.x<a.x?(k=(v=J).x,(Z=a).x):(k=(v=a).x,(Z=J).x),z.x<U.x?(p=(i=z).x,(w=U).x):(p=(i=U).x,(w=z).x)):(E=J.y<a.y?(k=(v=J).y,(Z=a).y):(k=(v=a).y,(Z=J).y),z.y<U.y?(p=(i=z).y,(w=U).y):(p=(i=U).y,(w=z).y)),k<=p?E<p?[]:E==p?g?[]:[i]:E<=e?[i,Z]:[i,w]:e<k?[]:k==e?g?[]:[v]:E<=e?[v,Z]:[v,w])}function K(J,a,z,U){var g=a.x-J.x,a=a.y-J.y,V=z.x-J.x,z=z.y-J.y,Y=U.x-J.x,U=U.y-J.y,J=g*z-a*V,g=g*U-a*Y;return 1e-10<yR(J)?(a=Y*z-U*V,0<J?0<=g&&0<=a:0<=g||0<=a):0<g}for(var a,z,U,g,V={},Y=x.concat(),c=0,u=J.length;c<u;c++)Array.prototype.push.apply(Y,J[c]);for(M=0,I=Y.length;M<I;M++)V[U=Y[M].x+":"+Y[M].y],V[U]=M;for(var x=function(Y){for(var J,a,z,U,g=x.concat(),c=[],V=[],u=0,H=Y.length;u<H;u++)c.push(u);for(var M,I,e,Q,v,Z=0,k=2*c.length;0<c.length&&!(--k<0);)for(J=Z;J<g.length;J++){for(var E=g[J],i=-1,u=0;u<c.length;u++)if(a=c[u],V[z=E.x+":"+E.y+":"+a]===xR){for(var w=Y[a],p=0;p<w.length;p++)if(U=w[p],M=J,I=p,v=Q=e=void 0,e=g.length-1,Q=M-1,v=M+1,K(g[M],g[Q=Q<0?e:Q],g[v=e<v?0:v],w[I])&&(Q=w.length-1,!!K(w[I],w[e=(e=I-1)<0?Q:e],w[v=Q<(v=I+1)?0:v],g[M]))&&!function(J,a){for(var z,U=0;U<g.length;U++)if(z=U+1,z%=g.length,0<D(J,a,g[U],g[z],!0).length)return 1}(E,U)&&!function(J,a){for(var z,U,g,V=0;V<c.length;V++)for(z=Y[c[V]],U=0;U<z.length;U++)if(g=U+1,g%=z.length,0<D(J,a,z[U],z[g],!0).length)return 1}(E,U)){i=p,c.splice(u,1),U=g.slice(0,J+1),e=g.slice(J),Q=w.slice(i),I=w.slice(0,i+1),g=U.concat(Q).concat(I).concat(e),Z=J;break}if(0<=i)break;V[z]=!0}if(0<=i)break}return g}(J),H=aw.Triangulate(x,!1),M=0,I=H.length;M<I;M++)for(z=H[M],a=0;a<3;a++)(g=V[U=z[a].x+":"+z[a].y])!==xR&&(z[a]=g);return H.concat()},isClockWise:function(J){return aw.Triangulate.area(J)<0},b2p0:function(J,a){return(J=1-J)*J*a},b2p1:function(J,a){return 2*(1-J)*J*a},b2p2:function(J,a){return J*J*a},b2:function(J,a,z,U){return this.b2p0(J,a)+this.b2p1(J,z)+this.b2p2(J,U)},b3p0:function(J,a){return(J=1-J)*J*J*a},b3p1:function(J,a){var z=1-J;return 3*z*z*J*a},b3p2:function(J,a){return 3*(1-J)*J*J*a},b3p3:function(J,a){return J*J*J*a},b3:function(J,a,z,U,g){return this.b3p0(J,a)+this.b3p1(J,z)+this.b3p2(J,U)+this.b3p3(J,g)}}),aw={faces:{},face:"",weight:"normal",style:"normal",size:150,divisions:10,getDefaultFont:function(){var J=pR.keys(this.faces);return J.length?J[0]:null},getFace:function(){try{return this.faces[this.face][this.weight][this.style]}catch(J){throw"The font "+this.face+" with "+this.weight+" weight and "+this.style+" style is missing."}},loadFace:function(J){var a=J.familyName.toLowerCase();return this.faces[a]=this.faces[a]||{},this.faces[a][J.cssFontWeight]=this.faces[a][J.cssFontWeight]||{},this.faces[a][J.cssFontWeight][J.cssFontStyle]=J},drawText:function(J){for(var a=this.getFace(),z=this.size/a.resolution,U=0,g=String(J).split(""),V=g.length,Y=[],c=0;c<V;c++){var u=new _f;(u=this.extractGlyphPoints(g[c],a,z,U,u))&&(U+=u.offset*this.spacing,Y.push(u.path))}return{paths:Y,offset:U/2}},extractGlyphPoints:function(J,a,z,U,g){var V,Y,c,u,H,M,I,e,Q,v,Z,k,E,i,w,p,x,W,D=[];if(J=a.glyphs[J]||a.glyphs["?"]){if(J.o)for(H=(u=J._cachedOutline||(J._cachedOutline=J.o.split(" "))).length,I=M=z,V=0;V<H;)switch(u[V++]){case"m":e=u[V++]*M+U,Q=u[V++]*I,g.moveTo(e,Q);break;case"l":e=u[V++]*M+U,Q=u[V++]*I,g.lineTo(e,Q);break;case"q":if(v=u[V++]*M+U,Z=u[V++]*I,i=u[V++]*M+U,w=u[V++]*I,g.quadraticCurveTo(i,w,v,Z),W=D[D.length-1])for(k=W.x,E=W.y,Y=1,c=this.divisions;Y<=c;Y++){var K=Y/c;Jw.b2(K,k,i,v),Jw.b2(K,E,w,Z)}break;case"b":if(v=u[V++]*M+U,Z=u[V++]*I,i=u[V++]*M+U,w=u[V++]*I,p=u[V++]*M+U,x=u[V++]*I,g.bezierCurveTo(i,w,p,x,v,Z),W=D[D.length-1])for(k=W.x,E=W.y,Y=1,c=this.divisions;Y<=c;Y++)Jw.b3(K=Y/c,k,i,p,v),Jw.b3(K,E,w,x,Z)}return{offset:J.ha*z,path:g}}},generateShapes:function(J,a){var z=(a=a||{}).font;if(z===xR&&!(z=aw.getDefaultFont()))return console.log("There's no valid font face, use ht.Default.loadFontFace to load font first."),[];var U=a.size!==xR?a.size:1,g=a.curveSegments!==xR?a.curveSegments:4,V=a.spacing!==xR?a.spacing:1,Y=a.weight!==xR?a.weight:"normal",a=a.style!==xR?a.style:"normal";aw.size=U,aw.divisions=g,aw.face=z,aw.weight=Y,aw.style=a,aw.spacing=V;for(var c=aw.drawText(J).paths,u=[],H=0,M=c.length;H<M;H++)Array.prototype.push.apply(u,c[H].toShapes());return u}},zw=(Yg=1e-10,(a=aw).Triangulate=function(J,a){var z=J.length;if(z<3)return null;var U,g,V=[],Y=[],c=[];if(0<PM(J))for(M=0;M<z;M++)Y[M]=M;else for(M=0;M<z;M++)Y[M]=z-1-M;for(var u=z,H=2*u,M=u-1;2<u;){if(H--<=0)return a?c:V;if(function(J,a,z,U,g,V){var Y,c,u,H,M,I,e,Q,v,Z=J[V[a]].x,k=J[V[a]].y,E=J[V[z]].x,i=J[V[z]].y,w=J[V[U]].x,p=J[V[U]].y;if(!((E-Z)*(p-k)-(i-k)*(w-Z)<Yg)){for(H=w-E,M=p-i,I=Z-w,e=k-p,Q=E-Z,v=i-k,Y=0;Y<g;Y++)if(c=J[V[Y]].x,u=J[V[Y]].y,!(c===Z&&u===k||c===E&&u===i||c===w&&u===p)&&-Yg<=H*(u-i)-M*(c-E)&&-Yg<=I*(u-p)-e*(c-w)&&-Yg<=Q*(u-k)-v*(c-Z))return;return 1}}(J,U=u<=(U=M)?0:U,M=u<=(M=U+1)?0:M,g=u<=(g=M+1)?0:g,u,Y)){var I,e,Q=Y[U],v=Y[M],Z=Y[g];for(V.push([J[Q],J[v],J[Z]]),c.push([Y[U],Y[M],Y[g]]),e=(I=M)+1;e<u;I++,e++)Y[I]=Y[e];H=2*--u}}return a?c:V},a.Triangulate.area=PM,n._typeface_js={faces:aw.faces,loadFace:aw.loadFace},function(){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]]}),a=zw.prototype={constructor:zw,computeFaceNormals:function(){for(var J=new qR,a=new qR,z=0,U=this.faces.length;z<U;z++){var g=this.faces[z],V=this.vertices[g.a],Y=this.vertices[g.b],c=this.vertices[g.c];J.subVectors(c,Y),a.subVectors(V,Y),J.cross(a),J.normalize(),g.normal.copy(J)}},computeVertexNormals:function(J){for(var a,z=new Array(this.vertices.length),U=0,g=this.vertices.length;U<g;U++)z[U]=new qR;if(J)for(var V,Y,c,u=new qR,H=new qR,M=0,I=this.faces.length;M<I;M++)a=this.faces[M],V=this.vertices[a.a],Y=this.vertices[a.b],c=this.vertices[a.c],u.subVectors(c,Y),H.subVectors(V,Y),u.cross(H),z[a.a].add(u),z[a.b].add(u),z[a.c].add(u);else for(M=0,I=this.faces.length;M<I;M++)z[(a=this.faces[M]).a].add(a.normal),z[a.b].add(a.normal),z[a.c].add(a.normal);for(U=0,g=this.vertices.length;U<g;U++)z[U].normalize();for(M=0,I=this.faces.length;M<I;M++)(a=this.faces[M]).vertexNormals[0]=z[a.a].clone(),a.vertexNormals[1]=z[a.b].clone(),a.vertexNormals[2]=z[a.c].clone()},mergeVertices:function(){for(var J,a,z,U,g={},V=[],Y=[],c=OR(10,4),u=0,H=this.vertices.length;u<H;u++)J=this.vertices[u],g[J=kR(J.x*c)+"_"+kR(J.y*c)+"_"+kR(J.z*c)]===xR?(g[J]=u,V.push(this.vertices[u]),Y[u]=V.length-1):Y[u]=Y[g[J]];for(var M=[],u=0,H=this.faces.length;u<H;u++){(a=this.faces[u]).a=Y[a.a],a.b=Y[a.b],a.c=Y[a.c];for(var I=[a.a,a.b,a.c],e=0;e<3;e++)if(I[e]==I[(e+1)%3]){M.push(u);break}}for(u=M.length-1;0<=u;u--){var Q=M[u];for(this.faces.splice(Q,1),z=0,U=this.faceVertexUvs.length;z<U;z++)this.faceVertexUvs[z].splice(Q,1)}var v=this.vertices.length-V.length;return this.vertices=V,v}},Uw=function(J,a,z,U,g,V,Y){this.aX=J,this.aY=a,this.xRadius=z,this.yRadius=U,this.aStartAngle=g,this.aEndAngle=V,this.aClockwise=Y},gw=(Uw.prototype=sL(qw),Uw.prototype.getPoint=function(J){(a=this.aEndAngle-this.aStartAngle)<0&&(a+=QR),QR<a&&(a-=QR),J=!0===this.aClockwise?this.aEndAngle+(1-J)*(QR-a):this.aStartAngle+J*a;var a=this.aX+this.xRadius*KR(J),J=this.aY+this.yRadius*eR(J);return new o(a,J)},function(J,a){this.v1=J,this.v2=a}),Vw=((z=gw.prototype=sL(qw)).getPoint=function(J){var a=this.v2.clone().sub(this.v1);return a.multiplyScalar(J).add(this.v1),a},z.getPointAt=function(J){return this.getPoint(J)},z.getTangent=function(J){return this.v2.clone().sub(this.v1).normalize()},function(J,a,z){this.v0=J,this.v1=a,this.v2=z}),Yw=(Vw.prototype=sL(qw),Vw.prototype.getPoint=function(J){var a=Jw.b2(J,this.v0.x,this.v1.x,this.v2.x),J=Jw.b2(J,this.v0.y,this.v1.y,this.v2.y);return new o(a,J)},function(J,a,z,U){this.v0=J,this.v1=a,this.v2=z,this.v3=U}),cw=(Yw.prototype=sL(qw),Yw.prototype.getPoint=function(J){var a=Jw.b3(J,this.v0.x,this.v1.x,this.v2.x,this.v3.x),J=Jw.b3(J,this.v0.y,this.v1.y,this.v2.y,this.v3.y);return new o(a,J)},sf.create(function(J,a){this.v1=J,this.v2=a},function(J){var a=new qR;return a.subVectors(this.v2,this.v1),a.multiplyScalar(J),a.add(this.v1),a}),sf.create(function(J,a,z){this.v0=J,this.v1=a,this.v2=z},function(J){var a=Jw.b2(J,this.v0.x,this.v1.x,this.v2.x),z=Jw.b2(J,this.v0.y,this.v1.y,this.v2.y),J=Jw.b2(J,this.v0.z,this.v1.z,this.v2.z);return new qR(a,z,J)})),uw=sf.create(function(J,a,z,U){this.v0=J,this.v1=a,this.v2=z,this.v3=U},function(J){var a=Jw.b3(J,this.v0.x,this.v1.x,this.v2.x,this.v3.x),z=Jw.b3(J,this.v0.y,this.v1.y,this.v2.y,this.v3.y),J=Jw.b3(J,this.v0.z,this.v1.z,this.v2.z,this.v3.z);return new qR(a,z,J)}),Hw=function(J,b,S,a,z,U,g,V){zw.call(this),a=a!==xR?a:.5,z=z!==xR?z:.5,J=J||8,U=U||0,g=g||QR;for(var Y=(V=V!==xR?V:1)/2,c=[],u=[],H=this.vertices,M=this.faces,I=this.faceVertexUvs,e=0;e<=1;e++){for(var Q=[],v=[],Z=+e,k=Z*(z-a)+a,E=0;E<=J;E++){var i=E/J,w=new qR,p=-(i*g+U);w.z=k*eR(p),w.y=-Z*V+Y,w.x=k*KR(p),H.push(w),Q.push(H.length-1),v.push(new o(i,Z))}c.push(Q),u.push(v)}for(var x,W,D=(z-a)/V,E=0;E<J;E++)for(W=0!==a?(x=H[c[0][E]].clone(),H[c[0][E+1]].clone()):(x=H[c[1][E]].clone(),H[c[1][E+1]].clone()),x.setY(wR(x.x*x.x+x.z*x.z)*D).normalize(),W.setY(wR(W.x*W.x+W.z*W.z)*D).normalize(),e=0;e<1;e++){var K=c[e][E],d=c[e+1][E],j=c[e+1][E+1],q=c[e][E+1],X=x.clone(),R=x.clone(),C=W.clone(),y=W.clone(),F=u[e][E].clone(),O=u[e+1][E].clone(),P=u[e+1][E+1].clone(),$=u[e][E+1].clone();M.push(new Nf(K,d,q,[X,R,y])),I[0].push([F,O,$]),M.push(new Nf(d,j,q,[R.clone(),C,y.clone()])),I[0].push([O.clone(),P,$.clone()])}if(b&&0<a)for(this.vertices.push(new qR(0,Y,0)),E=0;E<J;E++){K=c[0][E],d=c[0][E+1],j=this.vertices.length-1,X=new qR(0,1,0),R=new qR(0,1,0),C=new qR(0,1,0),F=u[0][E].clone(),O=u[0][E+1].clone(),P=new o(O.x,0),M.push(new Nf(K,d,j,[X,R,C],0,1));var l=KR(n=E/J*QR),T=eR(n),f=KR(L=(E+1)/J*QR),N=eR(L);I[0].push([new o(.5+.5*l,.5+.5*T),new o(.5+.5*f,.5+.5*N),new o(.5,.5)])}if(S&&0<z)for(this.vertices.push(new qR(0,-Y,0)),E=0;E<J;E++){K=c[e][E+1],d=c[e][E],j=H.length-1,X=new qR(0,-1,0),R=new qR(0,-1,0),C=new qR(0,-1,0),F=u[e][E+1].clone(),O=u[e][E].clone(),M.push(new Nf(K,d,j,[X,R,C],0,2));var n,L,l=KR(n=E/J*QR),T=eR(n),f=KR(L=(E+1)/J*QR),N=eR(L);I[0].push([new o(.5+.5*f,.5-.5*N),new o(.5+.5*l,.5-.5*T),new o(.5,.5)])}},Mw=(Hw.prototype=sL(a),function(J,a,z,U,g,V,Y){zw.call(this),Y=Y||.5,J=J||16,a=a||16,z=(z!==xR?z:0)-y,U=U!==xR?U:QR,g=g!==xR?g:0,V=V!==xR?V:y;for(var c=[],u=[],H=this.vertices,M=this.faces,I=this.faceVertexUvs,e=0;e<=a;e++){for(var Q=[],v=[],Z=0;Z<=J;Z++){var k=Z/J,E=e/a,i=new qR;i.x=-Y*KR(z+k*U)*eR(g+E*V),i.y=Y*KR(g+E*V),i.z=Y*eR(z+k*U)*eR(g+E*V),H.push(i),Q.push(H.length-1),v.push(new o(k,E))}c.push(Q),u.push(v)}for(e=0;e<a;e++)for(Z=0;Z<J;Z++){var w=c[e][Z+1],p=c[e][Z],x=c[e+1][Z],W=c[e+1][Z+1],D=H[w].clone().normalize(),K=H[p].clone().normalize(),d=H[x].clone().normalize(),j=H[W].clone().normalize(),q=u[e][Z+1].clone(),X=u[e][Z].clone(),R=u[e+1][Z].clone(),C=u[e+1][Z+1].clone();yR(H[w].y)===Y?(q.x=(q.x+X.x)/2,M.push(new Nf(w,x,W,[D,d,j])),I[0].push([q,R,C])):yR(H[x].y)===Y?(R.x=(R.x+C.x)/2,M.push(new Nf(w,p,x,[D,K,d])),I[0].push([q,X,R])):(M.push(new Nf(w,p,W,[D,K,j])),I[0].push([q,X,C]),M.push(new Nf(p,x,W,[K.clone(),d,j.clone()])),I[0].push([X.clone(),R,C.clone()]))}}),Iw=(Mw.prototype=sL(a),function(J,a,z,U,g,V){zw.call(this),J=J||.33,a=a||.17,U=U||8,z=z||6,g=g||0,V=V||QR;for(var Y=new qR,c=[],u=[],H=0;H<=U;H++)for(var M=H/U*QR+y,I=0;I<=z;I++){var e=I/z*V+g,Q=(Y.x=J*KR(e),Y.z=-J*eR(e),new qR),v=J+a*KR(M);Q.x=v*KR(e),Q.z=-v*eR(e),Q.y=a*eR(M),this.vertices.push(Q),c.push(new o(I/z,1-H/U)),u.push(Q.clone().sub(Y).normalize())}for(H=1;H<=U;H++)for(I=1;I<=z;I++){var Z=(z+1)*H+I-1,k=(z+1)*(H-1)+I-1,E=(z+1)*(H-1)+I,i=(z+1)*H+I,w=new Nf(Z,k,i,[u[Z].clone(),u[k].clone(),u[i].clone()]);this.faces.push(w),this.faceVertexUvs[0].push([c[Z].clone(),c[k].clone(),c[i].clone()]),w=new Nf(k,E,i,[u[k].clone(),u[E].clone(),u[i].clone()]),this.faces.push(w),this.faceVertexUvs[0].push([c[k].clone(),c[E].clone(),c[i].clone()])}this.computeFaceNormals()}),ew=(Iw.prototype=sL(a),function(J,a,z){J&&(zw.call(this),J=J instanceof Array?J:[J],this.addShapeList(J,a),!1!==a.convertYZ&&Sf(this,z),this.computeFaceNormals())}),Qw=((z=ew.prototype=sL(zw.prototype)).addShapeList=function(J,a){for(var z=J.length,U=0;U<z;U++){var g=J[U];this.addShape(g,a)}},z.addShape=function(k,E){var J,a,z,U,g,V,Y=E.amount,c=E.curveSegments||Lu,i=E.steps||1,u=E.extrudePath,H=!1,w=new ff(E.repeatUVLength,E.boundingBox),p=(u&&(J=u.getSpacedPoints(i),H=!0,a=E.frames!==xR?E.frames:new Qw.FrenetFrames(u,i,!1),z=new qR,U=new qR,g=new qR),this),x=this.vertices.length,M=(u=k.extractPoints(c)).shape,I=u.holes;if(!Jw.isClockWise(M))for(M=M.reverse(),Q=0,v=I.length;Q<v;Q++)V=I[Q],Jw.isClockWise(V)&&(I[Q]=V.reverse());for(var e=Jw.triangulateShape(M,I),c=M,Q=0,v=I.length;Q<v;Q++)V=I[Q],M=M.concat(V);for(var Z,W,D,K=M.length,d=e.length,j=0;j<K;j++)Z=M[j],H?(U.copy(a.normals[0]).multiplyScalar(Z.x),z.copy(a.binormals[0]).multiplyScalar(Z.y),g.copy(J[0]).add(U).add(z),C(g.x,g.y,g.z)):C(Z.x,Z.y,0);for(D=1;D<=i;D++)for(j=0;j<K;j++)Z=M[j],H?(U.copy(a.normals[D]).multiplyScalar(Z.x),z.copy(a.binormals[D]).multiplyScalar(Z.y),g.copy(J[D]).add(U).add(z),C(g.x,g.y,g.z)):C(Z.x,Z.y,Y/i*D);if(E.bottom)for(var q=0;q<d;q++)y((W=e[q])[2],W[1],W[0],!0);if(E.top)for(q=0;q<d;q++)y((W=e[q])[0]+K*i,W[1]+K*i,W[2]+K*i,!1);var X=0;for(R(c,X),X+=c.length,Q=0,v=I.length;Q<v;Q++)R(V=I[Q],X),X+=V.length;function R(J,a){for(var z,U,g=J.length;0<=--g;){(U=(z=g)-1)<0&&(U=J.length-1);for(var V=0,Y=i,V=0;V<Y;V++){var c=K*V,u=K*(V+1),H=(I=void 0,a+z+c),c=a+U+c,M=a+U+u,u=a+z+u,I=J,e=V,Q=Y,v=z,Z=U;H+=x,c+=x,M+=x,u+=x,p.faces.push(new Nf(H,c,u)),p.faces.push(new Nf(c,M,u)),I=w.generateSideWallUV(p,k,I,E,H,c,M,u,e,Q,v,Z),p.faceVertexUvs[0].push([I[0],I[1],I[3]]),p.faceVertexUvs[0].push([I[1],I[2],I[3]])}}}function C(J,a,z){p.vertices.push(new qR(J,a,z))}function y(J,a,z,U){p.faces.push(new Nf(J+=x,a+=x,z+=x,null,0,U?2:1)),U=U?w.generateBottomUV(p,k,E,J,a,z):w.generateTopUV(p,k,E,J,a,z),p.faceVertexUvs[0].push(U)}},function(J,a,z,U,g){zw.call(this),z=z||1,U=U||8,g=g||!1;var V,Y,c,u,H,M,I,e,Q,v,Z,k,E,i,w,p,x=[],W=(a=a||64)+1,D=new qR,K=new Qw.FrenetFrames(J,a,g),d=K.tangents,j=K.normals,q=K.binormals;for(this.tangents=d,this.normals=j,this.binormals=q,u=0;u<W;u++)for(x[u]=[],c=J.getPointAt(u/(W-1)),d[u],V=j[u],Y=q[u],H=0;H<U;H++)i=-z*KR(w=H/U*QR),w=z*eR(w),D.copy(c),D.x+=i*V.x+w*Y.x,D.y+=i*V.y+w*Y.y,D.z+=i*V.z+w*Y.z,x[u][H]=(i=D.x,w=D.y,p=D.z,this.vertices.push(new qR(i,w,p))-1);for(u=0;u<a;u++)for(H=0;H<U;H++)M=x[u][H],I=x[Q=g?(u+1)%a:u+1][H],e=x[Q][Q=(H+1)%U],Q=x[u][Q],v=new o(u/a,H/U),Z=new o((u+1)/a,H/U),k=new o((u+1)/a,(H+1)/U),E=new o(u/a,(H+1)/U),this.faces.push(new Nf(M,I,Q)),this.faceVertexUvs[0].push([v,Z,E]),this.faces.push(new Nf(I,e,Q)),this.faceVertexUvs[0].push([Z.clone(),k,E.clone()]);this.computeFaceNormals(),this.computeVertexNormals()}),vw=(Qw.prototype=sL(a),Qw.FrenetFrames=function(J,a,z){var U,g,V,Y,c,u=new qR,H=[],M=[],I=[],e=new qR,Q=new XR,v=a+1;for(this.tangents=H,this.normals=M,this.binormals=I,c=0;c<v;c++)H[c]=J.getTangentAt(c/(v-1)),H[c].normalize();for(M[0]=new qR,I[0]=new qR,a=Number.MAX_VALUE,g=yR(H[0].x),V=yR(H[0].y),Y=yR(H[0].z),g<=a&&(a=g,u.set(1,0,0)),V<=a&&(a=V,u.set(0,1,0)),Y<=a&&u.set(0,0,1),e.crossVectors(H[0],u).normalize(),M[0].crossVectors(H[0],e),I[0].crossVectors(H[0],M[0]),c=1;c<v;c++)M[c]=M[c-1].clone(),I[c]=I[c-1].clone(),e.crossVectors(H[c-1],H[c]),1e-4<e.length()&&(e.normalize(),U=FR(LL(H[c-1].dot(H[c]),-1,1)),M[c].applyMatrix4(Q.makeRotationAxis(e,U))),I[c].crossVectors(H[c],M[c]);if(z)for(U=FR(LL(M[0].dot(M[v-1]),-1,1)),U/=v-1,0<H[0].dot(e.crossVectors(M[0],M[v-1]))&&(U=-U),c=1;c<v;c++)M[c].applyMatrix4(Q.makeRotationAxis(H[c],U*c)),I[c].crossVectors(H[c],M[c])},function(J,a,z,U){zw.call(this),z=z||0,U=U==WR?QR:U;for(var g=1/(J.length-1),V=1/(a=a||18),Y=0,c=a;Y<=c;Y++)for(var u=z+Y*V*U,H=KR(u),M=eR(u),I=0,e=J.length;I<e;I++){var Q=J[I],v=new qR;v.x=H*Q.x-M*Q.y,v.y=M*Q.x+H*Q.y,v.z=Q.z,this.vertices.push(v)}for(var Z=J.length,Y=0,c=a;Y<c;Y++)for(I=0,e=J.length-1;I<e;I++){var k=I+Z*Y,E=k+Z,H=k+1+Z,i=k+1,w=Y*V,p=I*g,x=w+V,W=p+g;this.faces.push(new Nf(k,i,E)),this.faceVertexUvs[0].push([new o(w,p),new o(w,W),new o(x,p)]),this.faces.push(new Nf(E,i,H)),this.faceVertexUvs[0].push([new o(x,p),new o(w,W),new o(x,W)])}this.mergeVertices(),Sf(this),this.computeFaceNormals(),this.computeVertexNormals()}),Zw=(vw.prototype=sL(a),function(J,a){J=aw.generateShapes(J,a=a||{}),a.amount=a.amount!==xR?a.amount:.5,(a.convertYZ=!1)!==a.fill&&(a.bottom=!0,a.top=!0),ew.call(this,J,a)}),kw=(Zw.prototype=sL(z),m.Node=function(){yL(kw,this);var z=this._styleMap={};this.getStyle=function(J){var a=z[J];return a!==xR?a:CR[J]},this.setStyleMap=function(J){var a=z;z=this._styleMap=J||{},this.fp("styleMap",a,z)}}),Ew={X:aD,Y:zD,Z:UD},iw={X:0,Y:1,Z:2},ww={xyz:"XYZ",xzy:"XZY",yxz:"YXZ",yzx:"YZX",zxy:"ZXY",zyx:"ZYX"},pw=new Im,xw="xzy",Ww=function(J,a,z){var U,g;a&&(U=a[0],g=a[1],a=a[2],"xzy"===z?(zD(J,g),UD(J,a),aD(J,U)):"xyz"===z?(UD(J,a),zD(J,g),aD(J,U)):"yxz"===z?(UD(J,a),aD(J,U),zD(J,g)):"yzx"===z?(aD(J,U),UD(J,a),zD(J,g)):"zxy"===z?(zD(J,g),aD(J,U),UD(J,a)):"zyx"===z?(aD(J,U),zD(J,g),UD(J,a)):(zD(J,g),UD(J,a),aD(J,U)))},Dw=(_W("Node",_D,{ms_ac:["rotationMode","anchorElevation"],ms_edge:!0,_adjustChildrenToTop:!0,_icon:"node_icon",_image:"node_image",_rotationMode:xw,_64O:0,_rotationX:0,_53O:0,_host:WR,_position:{x:0,y:0},_anchor:{x:.5,y:.5},_anchorElevation:.5,_scale:{x:1,y:1},_scaleTall:1,_54O:0,getUIClass:function(){return rw},get3dUIClass:function(){return PA},getX:function(){return this.p().x},setX:function(J){this.p(J,this.p().y)},getY:function(){return this.p().y},setY:function(J){this.p(this.p().x,J)},getAnchorX:function(){return this.getAnchor().x},setAnchorX:function(J){this.setAnchor(J,this.getAnchor().y)},getAnchorY:function(){return this.getAnchor().y},setAnchorY:function(J){this.setAnchor(this.getAnchor().x,J)},getScaleX:function(){return this.getScale().x},setScaleX:function(J){this.setScale(J,this.getScale().y)},getScaleY:function(){return this.getScale().y},setScaleY:function(J){this.setScale(this.getScale().x,J)},p:function(){return 0===arguments.length?this.getPosition():(this.setPosition.apply(this,arguments),this)},p3:function(){return 0===arguments.length?this.getPosition3d():(this.setPosition3d.apply(this,arguments),this)},s3:function(){return 0===arguments.length?this.getSize3d():(this.setSize3d.apply(this,arguments),this)},r3:function(){return 0===arguments.length?this.getRotation3d():(this.setRotation3d.apply(this,arguments),this)},setQuaternion:function(J){return J=(new xm).setFromQuaternion(J,xm.ReverseOrder(this.getRotationMode())),this._applyClosestR3(J.x,J.y,J.z)},getQuaternion:(Rg=new xm,Cg=new xm,yg=new Im,function(J){return J=J||new Im,this.getEuler(Rg),Rg.equals(Cg)?J.copy(yg):J.copy(yg.setFromEuler(Cg.copy(Rg)))}),getEuler:function(J){var a=this.r3();return(J=J||new xm).set(a[0],a[1],a[2],xm.ReverseOrder(this.getRotationMode()))},setEuler:function(J){return J=J.clone().reorder(xm.ReverseOrder(this.getRotationMode())),this.r3(J.x,J.y,J.z)},t3:function(){return this.translate3d.apply(this,arguments),this},translate3dBy:function(J,a){tu(J,VD(WR,WR,this.r3(),this.getRotationMode())),this.translate3d(J[0]*a,J[1]*a,J[2]*a)},translateFront:function(J){this.translate3dBy([0,0,1],J)},translateBack:function(J){this.translate3dBy([0,0,-1],J)},translateLeft:function(J){this.translate3dBy([-1,0,0],J)},translateRight:function(J){this.translate3dBy([1,0,0],J)},translateTop:function(J){this.translate3dBy([0,1,0],J)},translateBottom:function(J){this.translate3dBy([0,-1,0],J)},getPosition3d:function(){return[this._position.x,this._54O,this._position.y]},setPosition3d:function(J,a,z){1===arguments.length&&(a=J[1],z=J[2],J=J[0]),this.p(J,z),this.setElevation(a)},translate3d:function(J,a,z){1===arguments.length&&(a=J[1],z=J[2],J=J[0]),this.translate(J,z),this.setElevation(this._54O+a)},getSize3d:function(){return[this.getWidth(),this.getTall(),this.getHeight()]},setSize3d:function(J,a,z){1===arguments.length&&(a=J[1],z=J[2],J=J[0]),this.setSize(J,z),this.setTall(a)},getRotation3d:function(){return[this._rotationX,-this._64O,this._53O]},setRotation3d:function(J,a,z){var U,g=this;g._updatingRotation3d||((g._updatingRotation3d=1)===arguments.length&&(a=J[1],z=J[2],J=J[0]),U=[g._rotationX,-g._64O,g._53O],g._rotationX=J,g._64O=-a,g._53O=z,g.fp("rotation3d",U,[J,a,z]),delete g._updatingRotation3d)},_applyClosestR3:(Xg=new xm,function(J,a,z){Xg.set(J,a,z,xm.ReverseOrder(this.getRotationMode())).nearestRotation(this.r3()),this.r3(Xg.x,Xg.y,Xg.z)}),setRotationY:function(J){this.setRotation(-J)},getRotationY:function(){return-this._64O},lookAtDirection:function(J,a){a=a||Ue;var z=this,U=pu(J);a===Ue?(z.r3([-nR(J[1]/U),-SR(J[2],J[0])+LR,0]),z.setRotationMode("xzy")):a===Ye?(z.r3(0,-SR(J[2],J[0]),nR(J[1]/U)),z.setRotationMode("zyx")):a===Ve?(z.r3(0,-SR(J[2],J[0])+y,-nR(J[1]/U)),z.setRotationMode("zyx")):a===ce?(z.r3([-nR(J[1]/U)+LR,-SR(J[2],J[0])+LR,0]),z.setRotationMode("xzy")):a===ue&&(z.r3([-nR(J[1]/U)-LR,-SR(J[2],J[0])+LR,0]),z.setRotationMode("xzy")),a===ge&&(z.r3([-nR(J[1]/U)+y,-SR(J[2],J[0])+LR,y]),z.setRotationMode("zxy"))},lookAt:function(J,a){return this.lookAtDirection(Au(J,this.p3()),a)},lookAtX:(Wg=new qR,Dg=new qR,Kg=new qR,dg=new XR,jg=new XR,qg=new xm,function(J,a){var z=gD(this);dg.fromArray(z),Kg.copy(this.p3()),Wg.copy(J).sub(Kg),Wg.lengthSq()<1e-6||(Wg.normalize(),"string"==typeof(a=a||Ue)?a===Ue?Dg.set(0,0,1):a===ge?Dg.set(0,0,-1):a===Ve?Dg.set(-1,0,0):a===Ye?Dg.set(1,0,0):a===ce?Dg.set(0,1,0):a===ue&&Dg.set(0,-1,0):Dg.copy(a).normalize(),Dg.applyMatrix4(dg).sub(Kg).normalize(),(z=Math.acos(Wg.dot(Dg)))&&((J=Wg.clone().cross(Dg)).lengthSq()<1e-6&&(a===ce||a===ue||0===a[0]&&0===a[1]?J.set(0,0,1):J.set(0,1,0)).applyMatrix4(dg).sub(Kg),J.normalize(),qg.set(this.r3(),this.getRotationMode(),!0),dg.makeRotationFromEuler(qg),jg.makeRotationAxis(J,-z),qg.setFromRotationMatrix(jg.multiply(dg)),this._applyClosestR3(qg.x,qg.y,qg.z)))}),getHost:function(){return this._host},setHost:function(J){var a,z=this;z!==J&&z._host!==J&&((a=z._host)&&(a._removeAttach(z),a.updateLayoutAttaches()),z._host=J,z._host&&(z._host._addAttach(z),z._host.updateLayoutAttaches()),z.fp("host",a,J),z.onHostChanged(a,J))},getAttaches:function(){return this._69O},_addAttach:function(J){this._69O||(this._69O=new h),this._69O.add(J),this.fp("attaches",WR,J)},_removeAttach:function(J){this._69O.remove(J),this._69O.isEmpty()&&delete this._69O,this.fp("attaches",J,WR)},getImage:function(){return this._pendingCheckImageJSON&&DR.getImage(this._image)&&(this._pendingCheckImageJSON=!1,this.getParent()instanceof Ow&&this.getParent().checkPendingUpdateInfo()),this._image},setImage:function(J){var a=this._image,z=this.getWidth(),U=this.getHeight();this._image=J,this.fp("image",a,J)&&(null!=J&&(kL(J)||dR(J)&&/\.json$/i.test(J))&&(this._pendingCheckImageJSON=!0),KH||(this.fp(qe,z,this.getWidth()),this.fp(Xe,U,this.getHeight())))},getCurrentDrawingImage:function(){return this._drawingImage||this.getImage()},setCurrentDrawingImage:function(J){this._drawingImage=J},getElevation:function(){return this._54O},setElevation:function(J){var a;this._50O||(this._50O=1,a=this._54O,this._54O=J,this.fp(jq,a,J),delete this._50O)},getRotation:function(){return this._64O},setRotation:function(J){var a;this._49O||(this._49O=1,a=this._64O,this._64O=J,this.fp(te,a,J),delete this._49O)},getRotationX:function(){return this._rotationX},setRotationX:function(J){var a;this._51O||(this._51O=1,a=this._rotationX,this._rotationX=J,this.fp("rotationX",a,J),delete this._51O)},getRotationZ:function(){return this._53O},setRotationZ:function(J){var a;this._52O||(this._52O=1,a=this._53O,this._53O=J,this.fp("rotationZ",a,J),delete this._52O)},getPosition:function(){return this._position},setPosition:function(J,a){this._50I||(this._50I=1,(a=2===arguments.length?{x:J,y:a}:J).x===this._position.x&&a.y===this._position.y||(J=this._position,this._position=a,this.fp(dq,J,a)),delete this._50I)},translate:function(J,a){var z=this._position;this.p(z.x+J,z.y+a)},hasInheritedSize:function(){var J=this.getStyle("shape3d");if(J){var a=o2(J);if(a&&a.rawS3)return!0;if(("billboard"===J||"plane"===J)&&s(this.getStyle("shape3d.image")))return!0}return!(!this.hasOwnProperty("_image")||!s(this._image))},getWidth:function(){if(0<=this._width)return this._width;var J=this.getStyle("shape3d");if(J){var a,z=o2(J);if(z&&z.rawS3)return z.rawS3[0];if("billboard"===J||"plane"===J)return(a=s(this.getStyle("shape3d.image")))?eA(a,this):20}return(a=s(this._image))?dD(a,this):20},setWidth:function(J){var a=this._width;this._width=J,this.fp(qe,a,J)},getHeight:function(){if(0<=this._height)return this._height;var J=this.getStyle("shape3d");if(J){var a,z=o2(J);if(z&&z.rawS3)return z.rawS3[2];if("plane"===J)return(a=s(this.getStyle("shape3d.image")))?QA(a,this):20;if("billboard"===J)return 2}return(a=s(this._image))?jD(a,this):20},setHeight:function(J){var a=this._height;this._height=J,this.fp(Xe,a,J)},getTall:function(){if(0<=this._tall)return this._tall;var J=this.getStyle("shape3d");if(J){var a=o2(J);if(a&&a.rawS3)return a.rawS3[1];if("billboard"===J)return(a=s(this.getStyle("shape3d.image")))?QA(a,this):20;if("plane"===J)return 2}return 20},setTall:function(J){var a=this._tall;this._tall=J,this.fp("tall",a,J)},setSize:function(J,a){2===arguments.length?(this.setWidth(J),this.setHeight(a)):(this.setWidth(J.width),this.setHeight(J.height))},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},setRect:function(J,a,z,U,g){var V=this.getAnchor(),Y=this.getScale(),c=(arguments.length<=2&&(g=a,a=J.y,z=J.width,U=J.height,J=J.x),g&&Y.x<0?1-V.x:V.x),V=g&&Y.y<0?1-V.y:V.y;this.p(J+z*c,a+U*V),g&&(z/=Math.abs(Y.x),U/=Math.abs(Y.y)),this.setWidth(z),this.setHeight(U)},getMatrix:function(){var J=this._64O,a=this._position,z=this.getScale();return new Mm(J,a.x,a.y,z.x,z.y)},getMatrix4:(wg=new qR,pg=new Im,xg=new qR,function(J){return this.getQuaternion(pg),wg.copy(this.p3()),xg.copy(this.getFinalScale3d()),(J=J||new XR).compose(wg,pg,xg)}),getAnchorRect:function(){var J=this.getWidth(),a=this.getHeight(),z=this.getAnchor();return{x:-J*z.x,y:-a*z.y,width:J,height:a}},toLocal:function(J){return this.getMatrix().tfi(J)},toGlobal:function(J){return this.getMatrix().tf(J)},getAttachPosition:(ig=new Mm,function(J,a,z,U){z=z||0,U=U||0;var g=this.getAnchor(),V=this._64O,Y=this._position,c=this.getScale();return ig.setFromTransform(V,Y.x,Y.y).tf({x:z+c.x*this.getWidth()*(J-g.x),y:U+c.y*this.getHeight()*(a-g.y)})}),isInRect:function(J){J=this.toLocal(J);var a=this.getWidth(),z=this.getHeight();return J.x+=a*this.getAnchorX(),J.y+=z*this.getAnchorY(),!(J.x<0||J.y<0||J.x>a||J.y>z)},getRect:function(){var J=this.getWidth(),a=this.getHeight(),z={x:-J*(z=this.getAnchor()).x,y:-a*z.y,width:J,height:a},J=this.getMatrix();return xu([J.tf(z.x,z.y),J.tf(z.x+z.width,z.y),J.tf(z.x+z.width,z.y+z.height),J.tf(z.x,z.y+z.height)])},getAnchorElevation:function(){return this._anchorElevation},getAnchor3d:function(){var J=this.getAnchor(),a=this._anchorElevation;return{x:J.x,y:a,z:J.y}},setAnchorElevation:function(J){var a=this._anchorElevation;return a!==J&&(this._anchorElevation=J,this.fp("anchorElevation",a,J),!0)},setAnchor3d:function(J,a,z,U){"number"==typeof J?g={x:J,y:a,z:z}:(g=J.length?{x:J[0],y:J[1],z:J[2]}:J,U=a),this.beginTransaction();var g,z=this.getAnchor3d(),J=this.setAnchor(g.x,g.z);return(J=!!this.setAnchorElevation(g.y)||J)&&U&&!KH&&(this.getAnchor3d(),a=gD(this),U=tu([g.x-z.x,g.y-z.y,g.z-z.z],a),this.p3(U)),this.endTransaction(),J},getAnchor:function(){if(this.hasOwnProperty("_anchor"))return this._anchor;var J=s(this._image);return J&&J.anchorX!==xR?{x:J.anchorX,y:J.anchorY}:this._anchor},setAnchor:function(J,a,z){var U,g,V,Y,c=this;return"number"==typeof J?Y={x:J,y:a}:(Y=J.length?{x:J[0],y:J[1]}:J,z=a),((J=c.getAnchor()).x!==Y.x||J.y!==Y.y)&&(c.beginTransaction(),c._anchor=Y,c.fp("anchor",J,Y),z&&!KH&&(a=c.getPosition(),z=c.getSize(),U=c.getRotation(),g=c.getScale(),V=-z.width*(J.x-Y.x)*g.x,z=-z.height*(J.y-Y.y)*g.y,J=eR(U),Y=KR(U),c.setPosition(a.x+Y*V-J*z,a.y+J*V+Y*z)),c.endTransaction(),!0)},getLocalQuaternion:function(J){if(!(a=this.getHost()))return this.getQuaternion(J);var a=a.getQuaternion(),z=this.getQuaternion();return(J=J||new Im).copy(a).inverse().multiply(z)},setLocalQuaternion:function(J){var a=this.getHost();if(!a)return this.setQuaternion(J);a=a.getQuaternion(),this.setQuaternion(a.clone().multiply(J))},getLocalEuler:(Eg=new Im,function(J){if(!this.getHost())return this.getEuler(J);this.getLocalQuaternion(Eg),J=J||new xm;var a=this._lastLocalEuler;return J.setFromQuaternion(Eg,xm.ReverseOrder(this.getRotationMode())),a?(J.nearestRotation(a),J.toArray(a)):this._lastLocalEuler=J.toArray(),J}),setLocalEuler:(kg=new Im,function(J){var a=this.getHost(),z=this._lastLocalEuler;return z?J.toArray(z):this._lastLocalEuler=J.toArray(),a?(kg.setFromEuler(J),this.setLocalQuaternion(kg)):this.setEuler(J)}),getLocalPosition3d:function(J){(J=J||new qR).copy(this.p3());var a=this.getHost();return a?(a=a.getMatrix4(),J.applyMatrix4(a.getInverse(a))):J},setLocalPosition3d:function(J){var a,z=this.getHost();z?(z=z.getMatrix4(),(a=new qR(J)).applyMatrix4(z),this.p3(a.x,a.y,a.z)):J.x!==xR?this.p3(J.x,J.y,J.z):this.p3(J)},getScale:function(){return this._scale},setScale:function(J,a){a=2===arguments.length?{x:J,y:a}:J,(J=this.getScale()).x===a.x&&J.y===a.y||(this._scale=a,this.fp("scale",J,a))},getScaleTall:function(){return this._scaleTall},getScale3d:function(){var J=this._scaleTall,a=this.getScale();return[a.x,J,a.y]},getFinalScale3d:function(){var J=this.s3(),a=this._dynamicScale3d,z=this.getScale3d();return J&&(z[0]*=J[0],z[1]*=J[1],z[2]*=J[2]),a&&(z[0]*=a[0],z[1]*=a[1],z[2]*=a[2]),z},getFinalRotation3d:function(){return this._dynamicRotation||this.r3()},setScaleTall:function(J){var a=this._scaleTall;a!==J&&(this._scaleTall=J,this.fp("scaleTall",a,J))},setScale3d:function(J,a,z){a="number"==typeof J?{x:J,y:a,z:z}:J.length?{x:J[0],y:J[1],z:J[2]}:J,this.setScaleTall(a.y),this.setScale(a.x,a.z)},getCorners:function(J,a){J==WR&&(J=0),a==WR&&(a=J);var z=this.getAnchor(),U=this.getWidth(),g=this.getHeight(),V=-U*z.x-J,z=-g*z.y-a,U=U+2*J,J=g+2*a;return[(g=this.getMatrix()).tf(V,z),g.tf(V,z+J),g.tf(V+U,z+J),g.tf(V+U,z)]},getEditControlPoints:function(J,a,z){a==WR&&(a=0),z==WR&&(z=a);var U=this.getAnchor(),g=this.getWidth(),V=this.getHeight(),Y=-g*U.x-a,U=-V*U.y-z,g=g+2*a,a=V+2*z;return J?[{x:Y,y:U},{x:Y,y:0},{x:Y,y:U+a},{x:0,y:U+a},{x:Y+g,y:U+a},{x:Y+g,y:0},{x:Y+g,y:U},{x:0,y:U}]:[(V=this.getMatrix()).tf(Y,U),V.tf(Y,0),V.tf(Y,U+a),V.tf(0,U+a),V.tf(Y+g,U+a),V.tf(Y+g,0),V.tf(Y+g,U),V.tf(0,U)]},rotateAt:function(J,a,z){var U=this._position,g=this._64O,V=new Mm(g,U.x,U.y).tf(J,a),J=wR(J*J+a*a),a=SR(U.y-V.y,U.x-V.x)+z;this.setRotation(g+z),this.p(V.x+J*KR(a),V.y+J*eR(a))},rotateAroundAxis:function(J,a){this.setQuaternion(this.getQuaternion().multiply(pw.setFromAxisAngle(J,a)))},rotateAroundWorldAxis:function(J,a){this.setQuaternion(this.getQuaternion().premultiply(pw.setFromAxisAngle(J,a)))},rotateX:function(J){return this.rotateAroundAxis(qR.AxisX,J)},rotateY:function(J){return this.rotateAroundAxis(qR.AxisY,J)},rotateZ:function(J){return this.rotateAroundAxis(qR.AxisZ,J)},onParentChanged:function(J,a){kw.superClass.onParentChanged.apply(this,arguments),this._8I();var z=this._host;z&&z.updateLayoutAttaches()},onPropertyChanged:(Zg={},"width|height|position|anchor|rotation|scale|s:layout.h|s:layout.v".split("|").forEach(function(J){Zg[J]=!0}),function(a){var J=this,z=(kw.superClass.onPropertyChanged.call(J,a),a.property),U=(Zg[z]&&!J._layoutUpdating&&J.updateLayoutParameters(null,z),J._69O&&J._69O.each(function(J){J.handleHostPropertyChange(a)}),J._49I&&J._49I.each(function(J){J.fp("agentChange",!0,!1)}),Vf[z]&&this.updateLayoutAttaches(),J._host);U&&0<=["s:2d.visible"].indexOf(z)&&U.updateLayoutAttaches(),"a:layout"===z.substring(0,8)&&(this.updateLayoutAttaches(),(U=J._host)&&U.updateLayoutAttaches()),"s:shape3d.autorotate"!==z&&"s:autorotate"!==z&&"s:shape3d.fixSizeOnScreen"!==z&&"s:fixSizeOnScreen"!==z&&"s:hide.overlapping.group"!==z||(J._47Q=J.s("autorotate")||J.s("shape3d.autorotate")||J.s("fixSizeOnScreen")||J.s("shape3d.fixSizeOnScreen")||J.s("hide.overlapping.group")),"a:animation.name"!==z&&"a:animation.time"!==z||((U=J.a("animation.time"))==WR?(delete J._recordBonePose,J.stopAnimation()):(z=J.a("animation.name"),J._recordBonePose={},J.playAnimation(z,0,U)))}),onHostChanged:function(J,a){this.updateAttach(),this.updateLayoutParameters()},handleHostPropertyChange:function(J){this.updateAttach(J)},onStyleChanged:(CR["transparent.syncToMaterials"]=!0,vg={},"shape3d|all|top|bottom|left|right|front|back".split("|").forEach(function(J){vg[J+".opacity"]=!0,vg[J+".transparent"]=!0}),function(J,a,z){var U;kw.superClass.onStyleChanged.apply(this,arguments),cf[J]&&this.updateAttach(),!KH&&vg[J]&&this.s("transparent.syncToMaterials")&&(0<J.indexOf("opacity")?"shape3d.opacity"===J?this.getMaterials().forEach(function(J){J.opacity=z}):(U=J.replace("opacity","material"),this.setMaterial(U,"opacity",z)):0<J.indexOf("transparent")&&("shape3d.transparent"===J?this.getMaterials().forEach(function(J){J.transparent=z}):(U=J.replace("transparent","material"),this.setMaterial(U,"transparent",z))))}),updateLayoutAttaches:function(){var J;if(!KH&&this.s("vector.layoutable"))return!!((J=s(this.getImage()))&&J.layoutAttach&&(J=J.layoutAttach)&&J(this))||void 0},updateAttach:function(J){KH?this.updateLayoutParameters():this._51I||(this._51I=1,this._71O(J),delete this._51I)},_71O:function(J){var a,z,U,g,V,Y,c=this,u=c._host,H=J?J.property:WR,M=J?J.oldValue:WR,I=J?J.newValue:WR;if(u instanceof kw&&(!J||Vf[H])){var e=s(u.getImage());if(e&&e.layoutAttach)return}u instanceof m.Grid?H===jq?c.setElevation(c._54O+I-M):J&&!Yf[H]||(e=c.s("attach.row.index"),g=c.s("attach.column.index"),(z=u.getCellRect(e,g))&&(U=c.s("attach.row.span"),a=c.s("attach.column.span"),1===U&&1===a||(z=Wu(z,u.getCellRect(e+U-1,g+a-1))),Mf(z,c,"attach.padding",1),c.setRect(z))):u instanceof Rw&&0<=(e=c.s("attach.index"))&&(!J||uf[H])?(U=c.s("attach.thickness"),g=u.getScale(),a=Math.max(g.x,g.y),0<U&&c.setHeight(u.getThickness()*U*a),z=c.s("attach.offset"),e<(U=(g=u.getPoints()).size())&&(V=u.getPointsMatrix2d(),Y=g.get(e),U=U===e+1?g.get(0):g.get(e+1),Y=V.apply(Y),g=[(U=V.apply(U)).x-Y.x,U.y-Y.y],(e=pu(g))&&(c.s("attach.offset.relative")&&(z*=e),c.s("attach.offset.opposite")&&(z=e-z),V={x:Y.x+g[0]/e*z,y:Y.y+g[1]/e*z},(Y=c.s("attach.gap"))&&(c.s("attach.gap.relative")&&(Y*=u.getThickness()*a),V=IJ(WR,V,U,Y)),c.p(V),c.setRotation(SR(g[1],g[0]))))):J&&(H===dq?c.translate(I.x-M.x,I.y-M.y):H===jq?c.setElevation(c._54O+I-M):gf[H]?"rotation3d"===H?c.syncRotation3d(u,I,M):c._11Q(u,H,I-M):"anchor"!==H&&"width"!==H&&"height"!==H&&"scale"!==H||c.layout(u))},_11Q:(Mg=new m.Math.Euler,Ig=m.Math.Euler.ReverseOrder,eg=new m.Math.Vector2,Qg=new m.Math.Vector2,function(J,a,z){var U=J.p3(),g=J.r3(),V=this.p3(),Y=this.r3();if(a===te&&(a="rotationY",z=-z),(a===te||"rotationY"===a)&&0===Y[0]&&0===Y[2]&&0===g[0]&&0===g[2]&&0===V[1]&&0===U[1])return this.setRotation(-Y[1]-z),eg.set(V[0],V[2]).rotateAround(Qg.set(U[0],U[2]),-z),void this.p(eg.x,eg.y);var J=(Y=ww[J.getRotationMode()])[0],c=Y[1],Y=Y[2],u=Ew[J],H=Ew[c],M=Ew[Y],I=mu(),J=(a===te+J?(M(I,g[iw[Y]]),H(I,g[iw[c]]),u(I,z),H(I,-g[iw[c]]),M(I,-g[iw[Y]])):a===te+c?(M(I,g[iw[Y]]),H(I,z),M(I,-g[iw[Y]])):a===te+Y&&M(I,z),Au(V,U)),u=(tu(J,I),this.p3(U[0]+J[0],U[1]+J[1],U[2]+J[2]),this.getRotationMode());Ww(I,this.r3(),u),Mg.setFromRotationMatrix(I,Ig(u)),this.r3([Mg.x,Mg.y,Mg.z])}),syncRotation3d:(cg=new Im,ug=new xm,Hg=new qR,function(J,a,z){var U;z[0]===a[0]&&z[1]===a[1]&&z[2]===a[2]||(U=xm.ReverseOrder(J.getRotationMode()),pw.setFromEuler(ug.set(z[0],z[1],z[2],U)),cg.setFromEuler(ug.set(a[0],a[1],a[2],U)),cg.multiply(pw.inverse()),z=J.p3(),a=this.p3(),Hg.set(a[0]-z[0],a[1]-z[1],a[2]-z[2]).applyQuaternion(cg),this.p3(z[0]+Hg.x,z[1]+Hg.y,z[2]+Hg.z),this.setQuaternion(this.getQuaternion(pw).premultiply(cg)))}),isHostOn:function(J){if(this._host&&J&&J._69O)for(var a={},z=this._host;z&&z!==this&&!a[z._id];){if(z===J)return!0;z=(a[z._id]=z)._host}return!1},isLoopedHostOn:function(J){return this.isHostOn(J)&&J.isHostOn(this)},getScaledSize:function(){var J=this.getSize(),a=this.getScale();return J.width*=Math.abs(a.x),J.height*=Math.abs(a.y),J},invalidateView:function(){var J=this.dm();J&&J.firePropertyChange("invalidateView",!1,!0)},layout:function(J){if(J=J||this.getHost()){var a=this,z=a.s("layout.h")||"center",U=a.s("layout.v")||"center";if("center"!==z||"center"!==U){var g,V,Y,c,u,H,M=new m.Math.Vector2,I=J.getPosition(),e=J.getAnchor(),Q=J.getScaledSize(),v=(a.getPosition(),1),Z=1;switch(a._layoutUpdating=!0,z){case"left":M.setX(a._layoutHValue-e.x*Q.width);break;case"right":M.setX((1-e.x)*Q.width-a._layoutHValue);break;case"leftright":g=Q.width-a._layoutHValue[2],Y=a.getRotation()-J.getRotation(),c=Math.abs(Math.sin(Y)),v+=(u=Math.abs(Math.cos(Y)))*g/a._layoutHValue[3],Z+=c*g/a._layoutHValue[4],M.setX(a._layoutHValue[1]+(a._layoutHValue[5]-e.x)*Q.width);break;case"center":M.setX((.5-e.x)*Q.width-a._layoutHValue);break;case"scale":Y=a.getRotation()-J.getRotation(),c=Math.abs(Math.sin(Y)),u=Math.abs(Math.cos(Y)),M.setX((.5-e.x)*Q.width-a._layoutHValue[1]*Q.width/a._layoutHValue[0]),v+=u*(V=Q.width/a._layoutHValue[2]-1),Z+=c*V}switch(U){case"top":M.setY(a._layoutVValue-e.y*Q.height);break;case"bottom":M.setY((1-e.y)*Q.height-a._layoutVValue);break;case"topbottom":Y||(Y=a.getRotation()-J.getRotation(),c=Math.abs(Math.sin(Y)),u=Math.abs(Math.cos(Y))),v+=c*(g=Q.height-a._layoutVValue[2])/a._layoutVValue[3],Z+=u*g/a._layoutVValue[4],M.setY(a._layoutVValue[1]+(a._layoutVValue[5]-e.y)*Q.height);break;case"center":M.setY((.5-e.y)*Q.height-a._layoutVValue);break;case"scale":Y||(Y=a.getRotation()-J.getRotation(),c=Math.abs(Math.sin(Y)),u=Math.abs(Math.cos(Y))),M.setY((.5-e.y)*Q.height-a._layoutVValue[1]*Q.height/a._layoutVValue[0]),v+=c*(V=Q.height/a._layoutVValue[2]-1),Z+=u*V}"leftright"!==z&&"scale"!==z&&"topbottom"!==U&&"scale"!==U||(U=this.getScale(),H=Math.abs(U.x),U=Math.abs(U.y),"leftright"===z||"scale"===z?a.setSize(a._layoutHValue[3]*v/H,a._layoutHValue[4]*Z/U):a.setSize(a._layoutVValue[3]*v/H,a._layoutVValue[4]*Z/U)),M.rotateAround(null,J.getRotation()),this.setPosition(M.x+I.x,M.y+I.y),a._layoutUpdating=xR}}},updateLayoutParameters:function(J,a){if(J=J||this.getHost()){var z=this,U=z.s("layout.h"),g=z.s("layout.v");if(U||g){var V,Y,c,u,H,M,I=new m.Math.Vector2,e=J.getPosition(),Q=J.getAnchor(),v=J.getScaledSize(),Z=z.getPosition(),k=z.getScaledSize();switch(I.set(Z.x-e.x,Z.y-e.y),I.rotateAround(null,-J.getRotation()),U){case"left":z._layoutHValue=I.x+Q.x*v.width;break;case"right":z._layoutHValue=-I.x+(1-Q.x)*v.width;break;case"center":z._layoutHValue=-I.x+(.5-Q.x)*v.width;break;case"leftright":case"scale":V="scale"===U?-I.x+(.5-Q.x)*v.width:(Y=z.getAnchor(),c=z.getRotation()-J.getRotation(),u=Math.cos(c),H=Math.sin(c),M=-Math.min(-Y.x*u+Y.y*H,-Y.x*u-(1-Y.y)*H,(1-Y.x)*u+Y.y*H,(1-Y.x)*u-(1-Y.y)*H),I.x-(M-Q.x)*v.width),"position"===a&&"object"==typeof z._layoutHValue?(z._layoutHValue[0]=v.width,z._layoutHValue[1]=V):z._layoutHValue=[v.width,V,v.width,k.width,k.height,M]}switch(g){case"top":z._layoutVValue=I.y+Q.y*v.height;break;case"bottom":z._layoutVValue=-I.y+(1-Q.y)*v.height;break;case"center":z._layoutVValue=-I.y+(.5-Q.y)*v.height;break;case"topbottom":case"scale":V="scale"===g?-I.y+(.5-Q.y)*v.height:(c||(Y=z.getAnchor(),c=z.getRotation()-J.getRotation(),u=Math.cos(c),H=Math.sin(c)),M=-Math.min(-Y.x*H-Y.y*u,-Y.x*H+(1-Y.y)*u,(1-Y.x)*H-Y.y*u,(1-Y.x)*H+(1-Y.y)*u),I.y-(M-Q.y)*v.height),"position"===a&&"object"==typeof z._layoutVValue?(z._layoutVValue[0]=v.height,z._layoutVValue[1]=V):z._layoutVValue=[v.height,V,v.height,k.width,k.height,M]}}}},getSerializableProperties:function(){var J=kw.superClass.getSerializableProperties.call(this);return qL(J,{image:1,host:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,position:1,anchor:1,anchorElevation:1,scale:1,scaleTall:1,_width:1,_height:1,_tall:1,elevation:1}),J}}),m.Edge=function(J,a){yL(Dw,this),this.setSource(J),this.setTarget(a),this._geometryVersion=0}),Kw=(_W("Edge",_D,{ms_edge:!0,_icon:"edge_icon",getUIClass:function(){return Gw},get3dUIClass:function(){return lA},getSource:function(){return this._source},getTarget:function(){return this._target},getSourceAgent:function(){return this._40I},getTargetAgent:function(){return this._41I},canSetSourceTarget:function(J,a){if(J===this)return!1;if(b(J))return!0;for(var z,U,g,V,Y=[this],c=-1,u=0;c<u;)if(z=Y[++c]._44I)for(g=0,V=(z=z.getArray()).length;g<V;g++)if(U=z[g],wL(U)&&!(0<=Y.indexOf(U))){if(U===J)return!1;Y.push(U),u++}return!0},setSource:function(J){var a;this._source!==J&&this.canSetSourceTarget(J)&&(a=this._source,this._source=J,a&&a._16I(this),J&&J._2I(this),this._7I(),this.fp("source",a,J))},setTarget:function(J){var a;this._target!==J&&this.canSetSourceTarget(J)&&(a=this._target,this._target=J,a&&a._18I(this),J&&J._4I(this),this._7I(),this.fp("target",a,J))},isLooped:function(){return this._source===this._target&&b(this._source)&&b(this._target)},onPropertyChanged:(Fg={},["source","target","sourceAgent","targetAgent","edgeGroup","agentChange","s:edge.width","s:edge.type","s:edge.offset","s:edge.center","s:edge.points","s:edge.segments","s:edge.gap","s:edge.source.t3","s:edge.source.position","s:edge.source.anchor.x","s:edge.source.anchor.y","s:edge.source.anchor.elevation","s:edge.source.offset.x","s:edge.source.offset.y","s:edge.source.offset.elevation","s:edge.source.index","s:edge.source.percent","s:edge.target.t3","s:edge.target.position","s:edge.target.anchor.x","s:edge.target.anchor.y","s:edge.target.anchor.elevation","s:edge.target.offset.x","s:edge.target.offset.y","s:edge.target.offset.elevation","s:edge.target.index","s:edge.target.percent","s:edge.color","s:edge.gradient.color","s:edge.pattern","s:edge.dash","s:edge.dash.color","s:edge.dash.pattern","s:edge.dash.offset","s:repeat.uv.length","s:rotate.uv.length","s:rotate.vs.length","s:body.color","s:shape3d","s:shape3d.visible","s:shape3d.image","s:shape3d.smooth","s:shape3d.resolution","s:shape3d.color","s:shape3d.blend","s:shape3d.side","s:shape3d.start.angle","s:shape3d.sweep.angle","s:shape3d.top.cap","s:shape3d.top.image","s:shape3d.top.visible","s:shape3d.top.color","s:shape3d.bottom.cap","s:shape3d.bottom.image","s:shape3d.bottom.visible","s:shape3d.bottom.color","s:shape3d.uv.union","s:shape3d.section","s:shape3d.section.angle","s:shape3d.section.twist","s:shape3d.polyline.depth","s:shape3d.polyline.offset","s:shape3d.polyline.radiusScale","s:shape3d.polyline.scaleOffset","s:shape3d.polyline.scaleMap"].forEach(function(J){Fg[J]=!0}),function(J){var a;Fg[J.property]&&(this._geometryVersion++,a=!0),a&&this._49I&&this._49I.each(function(J){J.fp("agentChange",!0,!1)}),"s:alwaysOnTop"!==J.property&&"s:shape3d.alwaysOnTop"!==J.property||(J.newValue?this.setRenderLayer("top"):this.setRenderLayer(xR))}),_7I:function(){var J,a=this,z=function(J){if(J.isLooped())return J._source;var a=ef(J._source),z=ef(J._target);return a===z?J._source:Qf(a,z)}(a),z=(a._40I!==z&&((J=this._40I)&&J._15I(a),(a._40I=z)&&z._1I(a),a.fp("sourceAgent",J,z),kf(J,a._41I),kf(z,a._41I)),function(J){if(J.isLooped())return J._target;var a=ef(J._source),z=ef(J._target);return a===z?J._target:Qf(z,a)}(a));a._41I!==z&&((J=a._41I)&&J._17I(a),(a._41I=z)&&z._3I(a),a.fp("targetAgent",J,z),kf(J,a._40I),kf(z,a._40I))},_22I:function(J){this._52I=J,this.fp("edgeGroup",!0,!1)},getEdgeGroup:function(){return this._52I},isEdgeGroupHidden:function(){return this._52I&&this._52I.get(0)!==this&&!this.getStyle(_e)},getEdgeGroupSize:function(){return this._52I?this._52I.size():1},getEdgeGroupIndex:function(){return this._52I?this._52I.indexOf(this):0},isEdgeGroupAgent:function(){var J=this._52I;return J&&!this.getStyle(_e)&&1<J.size()&&this===J.get(0)},toggle:function(){this.beginTransaction();var J=this._52I,a=!this.s(_e);J&&1<J.size()&&(J.each(function(J){J.s(_e,a)}),J.getSiblings().each(function(a){a!==J&&a.each(function(J){J.fp("edgeGroup",WR,a)})})),this.endTransaction()},setStyle:function(J,a){var z;J!==he&&"edge.segments"!==J||(a=jR(z=a)?new h(z):z),Dw.superClass.setStyle.call(this,J,a)},onStyleChanged:function(J,a,z){Dw.superClass.onStyleChanged.apply(this,arguments),Uf[J]&&kf(this._41I,this._40I)},getSerializableProperties:function(){var J=Dw.superClass.getSerializableProperties.call(this);return qL(J,{source:1,target:1}),J}}),m.Group=function(){yL(Kw,this)}),dw=(_W("Group",kw,{_image:"group_image",_icon:"group_icon",_57O:!1,getUIClass:function(){return ar},onChildAdded:function(J,a){Kw.superClass.onChildAdded.apply(this,arguments),this._81I()},onChildRemoved:function(J,a){Kw.superClass.onChildRemoved.apply(this,arguments),this._81I()},_81I:function(){var J;this._54I||KH||(J=this.getChildrenRect())&&(this._53I=1,this.p(OW(this.s("group.position"),J,this.getSize())),delete this._53I)},getChildrenRect:function(){var a,z=this;return z.eachChild(function(J){b(J)&&(a=Wu(a,z.getChildRect(J)))}),a},getChildRect:function(a){var z;return b(a)&&a.s(Re)&&(pL(a)&&a.isExpanded()&&a.eachChild(function(J){z=Wu(z,a.getChildRect(J))}),!z&&a.getRect&&(z=a.getRect())),z},setPosition:function(J,a){this._54I||(a=2===arguments.length?{x:J,y:a}:J,KH||this._53I||(this._54I=1,RW(this._children,a.x-this._position.x,a.y-this._position.y),delete this._54I),Kw.superClass.setPosition.call(this,a))},toggle:function(){this.setExpanded(!this.isExpanded())},isExpanded:function(){return this._57O},setExpanded:function(J){var a;this._57O!==J&&(a=this._57O,this._57O=J,this.fp("expanded",a,this._57O),this._fireInvalidateDeep(),this._8I())},_fireInvalidateDeep:function(){this.eachChild(function(J){pL(J)?J._fireInvalidateDeep():J.iv()})},_8I:function(){Kw.superClass._8I.call(this),this.eachChild(function(J){b(J)&&J._8I()})},onStyleChanged:function(J,a,z){Kw.superClass.onStyleChanged.apply(this,arguments),"group.position"===J&&this._81I()},getSerializableProperties:function(){var J=Kw.superClass.getSerializableProperties.call(this);return J.expanded=1,J}}),m.Camera=function(){yL(dw,this),this.s({"shadow.cast":!1,"shadow.receive":!1,shape3d:"billboard"}),this._viewMatrix=new t.Matrix4,this._projectMatrix=new t.Matrix4,this.setScale3d(1,1,-1),this.setCullingMask("main,top"),this._projectMatrixDirty=!0}),jw=(dw.CubeDirectionParam=[1,0,0,0,-1,0,-1,0,0,0,-1,0,0,1,0,0,0,1,0,-1,0,0,0,-1,0,0,1,0,-1,0,0,0,-1,0,-1,0],_W("Camera",kw,{get3dUIClass:function(){return PA},attachRenderTarget:function(J){this._projectMatrixDirty=!0,this.renderTarget=J},detachRenderTarget:function(){this._projectMatrixDirty=!0,this.renderTarget=null},getCullingMask:function(){return this._cullingLayers.join(",")},setCullingMask:function(J){J=J.split(","),this._cullingLayers=J,this._cullingMask=lD(J,null,!0),this.gv&&(this._currentCullingMask=lD(J,this.gv.getRenderLayerInfoMap(),!0))},isLayerVisible:function(J){var a,J=this.gv?(a=this.gv.getRenderLayerInfo(J),this._currentCullingMask):(a=bD[J],this._cullingMask);return a&&TD(J,a.mask)},isOrtho:function(){return"ortho"===this.s("camera.type")&&!this.isCube()},isCube:function(){return this.renderTarget&&this.renderTarget.isCube()},isPerspective:function(){return!this.isOrtho()},setViewMatrix:(Sg=new m.Math.Matrix4,Pg=new m.Math.Euler,function(J){J.isMatrix4?this._viewMatrix.copy(J):this._viewMatrix.fromArray(J),Sg.getInverse(this._viewMatrix),this.p3(Sg.getPosition().toArray()),Pg.set(0,0,0,this.getRotationMode(),!0).setFromRotationMatrix(Sg),this.r3([Pg.x,Pg.y,Pg.z])}),getViewMatrix:function(J){var a=VD(null,null,this.r3(),this.getRotationMode(),this.p3()),z=this._viewMatrix;return z.fromArray(a).getInverse(z),z.toArray(J)},setProjectMatrix:function(J){J.isMatrix4?this._projectMatrix.copy(J):this._projectMatrix.fromArray(J),J=this._projectMatrix.getElements(),this.isOrtho()?this.s({"camera.near":(J[14]+1)/J[10],"camera.far":(J[14]-1)/J[10],"camera.ortho.width":2/J[0]}):this.s({"camera.near":J[14]/(J[10]-1),"camera.far":J[14]/(J[10]+1),"camera.fovy":2*Math.atan(1/J[5]),"camera.aspect":J[5]/J[0]}),this._projectMatrixDirty=!1},onPropertyChanged:function(J){dw.superClass.onPropertyChanged.call(this,J),"s:camera.near"!==(J=J.property)&&"s:camera.far"!==J&&"s:camera.fovy"!==J&&"s:camera.aspect"!==J&&"s:camera.ortho.width"!==J&&"s:camera.type"!==J||(this._projectMatrixDirty=!0)},getAspect:function(){if((J=this.s("camera.aspect"))!==xR)return J;var J=this.gv,a=this.getRenderTargetSize(J);return a&&0!==a[1]?a[0]/a[1]:J?J.getAspect():DR.graph3dViewAspect},getProjectMatrix:function(){var J,a,z,U,g,V,Y,c=this;return c._projectMatrixDirty&&(J=c.gv,z=(a=c.isCube())?1:c.getAspect(),U=c.s("camera.near"),g=c.s("camera.far"),U===xR&&(U=(J?J.getNear():null)||DR.graph3dViewNear),g===xR&&(g=(J?J.getFar():null)||DR.graph3dViewFar),V=mu(),c.isOrtho()?(Y=(c.s("camera.ortho.width")||(J?J.getOrthoWidth():null)||DR.graph3dViewOrthoWidth)/2,iJ(V,-Y,Y,-(Y/=z),Y,U,g)):(Y=a?Math.PI/2:c.s("camera.fovy")||(J?J.getFovy():null)||DR.graph3dViewFovy,EJ(V,Y,z,U,g)),c._projectMatrix.fromArray(V),c._projectMatrixDirty=!1),c._projectMatrix.toArray()},lookAt:function(J,a){var z=this.p3();return J.x?this.lookAtDirection([J.x-z[0],J.y-z[1],J.z-z[2]],a):this.lookAtDirection([J[0]-z[0],J[1]-z[1],J[2]-z[2]],a)},lookAtDirection:(Og=new m.Math.Matrix4,ng=new m.Math.Euler,Lg=new m.Math.Vector3,bg=new m.Math.Vector3,function(J,a){Og.lookAtDirection(Lg.copy(J).multiplyScalar(-1),a?bg.copy(a):bg.set(0,1,0)),ng.set(0,0,0,this.getRotationMode(),!0).setFromRotationMatrix(Og),this.r3([ng.x,ng.y,ng.z])}),updateAndRender:function(J){return J.syncRenderState(),J.updateScene(),this.render(J)},getRenderTargetSize:function(J){var a=this.renderTarget;return a?[a.width,a.height]:J?(a=J.getDevicePixelRatio(),[J.getWidth()*a,J.getHeight()*a]):[0,0]},getRenderTargetWidth:function(J){return this.getRenderTargetSize(J)[0]},getRenderTargetHeight:function(J){return this.getRenderTargetSize(J)[1]},getEye:function(){return this.p3()},getCenter:function(){var J=new qR,a=this.getEuler();return J.set(0,0,-1).applyEuler(a),this.gv&&(a=new qR(this.gv.getEye()),a=new qR(this.gv.getCenter()).sub(a).length(),J.setLength(a)),[(a=this.p3())[0]+J.x,a[1]+J.y,a[2]+J.z]},getUp:function(){var J=new qR,a=this.getEuler(),a=(J.set(0,0,-1).applyEuler(a),(new qR).set(0,1,0).applyEuler(a)),z=(new qR).set(0,1,0);return(Math.abs(J.cross(a).dot(z))<1e-5?z:a).toArray()},render:function(J){var a=this,z=J.getGL();if(!z)return!1;this._currentCullingMask=lD(this._cullingLayers,J.getRenderLayerInfoMap(),!0);var U=a.renderTarget,g=a.getRenderTargetSize(J),V=((a.gv=J)._camera=a,J._frameState.renderState.glState.color.clear.slice(0)),Y=(OJ(z,a.s("camera.background")),J.getEye);if(J.getEye=function(){return a.p3()},J.syncRenderState(),a.isCube())for(var c=dw.CubeDirectionParam,u=0;u<6;u++)U&&U.bind(z,u),J._18Q=null,a.lookAtDirection([c[6*u+0],c[6*u+1],c[6*u+2]],[c[6*u+3],c[6*u+4],c[6*u+5]]),!1!==a.s("camera.clear")&&z.clear(16384),J.setViewport(z,0,0,g[0],g[1]),a.s("camera.onlySky")?J.renderSky():J.renderScene({renderAxis:a.s("camera.renderAxis"),renderGrid:a.s("camera.renderGrid"),renderEdit:a.s("camera.renderEdit"),renderShadowMap:a.s("camera.renderShadowMap"),renderReflector:!1}),J._18Q=null,U&&U.unbind(z);else U&&U.bind(z),J._18Q=null,!1!==a.s("camera.clear")&&z.clear(16384),J.overlappingBox.clear(),J.setViewport(z,0,0,g[0],g[1]),a.s("camera.onlySky")?J.renderSky():J.renderScene({renderAxis:a.s("camera.renderAxis"),renderGrid:a.s("camera.renderGrid"),renderEdit:a.s("camera.renderEdit"),renderShadowMap:a.s("camera.renderShadowMap")}),J._18Q=null,U&&U.unbind(z);return J.getEye=Y,OJ(z,V),J._camera=null,!(a.gv=null)},getSerializableProperties:function(){var J=dw.superClass.getSerializableProperties.call(this);return qL(J,{cullingMask:1}),J}}),m.Block=function(){yL(jw,this),this.s({"shadow.cast":!1,"shadow.receive":!1})}),qw=(_W("Block",kw,{_icon:"block_icon",_clickThroughEnabled:!1,_syncSize:!0,_scaleMode:"2d",ms_ac:["clickThroughEnabled","syncSize","scaleMode"],getUIClass:function(){return zr},get3dUIClass:function(){return $A},onChildAdded:function(J,a){jw.superClass.onChildAdded.apply(this,arguments),this.updateFromChildren()},onChildRemoved:function(J,a){jw.superClass.onChildRemoved.apply(this,arguments),this.updateFromChildren()},_getBoundingBox:(og=new XR,function(J,a){if(!(J=J instanceof kw?[J]:J)||0===J.length)return WR;var a=[],z=(function(J,U){var g=(new XR).makeRotationFromEuler(this.getEuler()).setPosition((new qR).fromArray(this.p3()));g.getInverse(g),J.forEach(function(J){var a,z;b(J)&&(a=U,z=g,og.fromArray(gD(J)),J=J.getAnchor3d(),a.push((new qR).set(0-J.x,0-J.y,0-J.z).applyMatrix4(og).applyMatrix4(z)),a.push((new qR).set(0-J.x,0-J.y,1-J.z).applyMatrix4(og).applyMatrix4(z)),a.push((new qR).set(0-J.x,1-J.y,0-J.z).applyMatrix4(og).applyMatrix4(z)),a.push((new qR).set(0-J.x,1-J.y,1-J.z).applyMatrix4(og).applyMatrix4(z)),a.push((new qR).set(1-J.x,0-J.y,0-J.z).applyMatrix4(og).applyMatrix4(z)),a.push((new qR).set(1-J.x,0-J.y,1-J.z).applyMatrix4(og).applyMatrix4(z)),a.push((new qR).set(1-J.x,1-J.y,0-J.z).applyMatrix4(og).applyMatrix4(z)),a.push((new qR).set(1-J.x,1-J.y,1-J.z).applyMatrix4(og).applyMatrix4(z)))})}.call(this,J,a),[1/0,1/0,1/0]),U=[-1/0,-1/0,-1/0];return a.forEach(function(J){z[0]=Math.min(J.x,z[0]),z[1]=Math.min(J.y,z[1]),z[2]=Math.min(J.z,z[2]),U[0]=Math.max(J.x,U[0]),U[1]=Math.max(J.y,U[1]),U[2]=Math.max(J.z,U[2])}),{min:z,max:U}}),updateFromChildren:function(){var J,a,z,U,g,V,Y,c,u;KH||this._updatingToChildren||!this._syncSize||0===this.size()||this._freezeSyncFromChildren||(z=this._getBoundingBox(this.toChildren(b)))&&(this._updatingFromChildren=1,J=(new qR).fromArray(this.getScale3d()),a=(new qR).fromArray(z.min),z=(new qR).fromArray(z.max),Y=DR.blockMinSize,u=new qR,0===(z=z.clone().sub(a)).x&&u.setX(.5),0===z.y&&u.setY(.5),0===z.z&&u.setZ(.5),U=this._width==WR||-1===this._width,g=new qR(this.getAnchor3d()),V=J.clone().multiply((new qR).fromArray(this.s3())),0===(c=z.clone()).x&&c.setX(Y),0===c.y&&c.setY(Y),0===c.z&&c.setZ(Y),V=(Y=g.clone().multiply(V)).clone().multiplyScalar(-1).sub(a).divide(c).add(Y.divide(c)).add(u),Y=this.s("keepPosition"),U||this._anchorChanged||this._scaleChanged||!Y?(c=(g=!U&&Y?V:g).clone().multiply(z).add(a).applyEuler(this.getEuler()).add((new qR).fromArray(this.p3())),this.p3([c.x,c.y,c.z])):this.setAnchor3d(V.x,V.y,V.z),J.x=J.x||1,J.y=J.y||1,J.z=J.z||1,u=new qR(1,1,1).divide(J).multiply(z),this.s3(Math.abs(u.x),Math.abs(u.y),Math.abs(u.z)),delete this._updatingFromChildren)},setPosition:function(J,a){this._updatingToChildren||(a=2===arguments.length?{x:J,y:a}:J,KH||this._updatingFromChildren||(this._updatingToChildren=1,J=this.toChildren(function(J){return b(J)&&!J.getHost()}),RW(J,a.x-this._position.x,a.y-this._position.y),delete this._updatingToChildren),jw.superClass.setPosition.call(this,a))},setSize3d:function(){this.beginTransaction(),jw.superClass.setSize3d.apply(this,arguments),this.endTransaction()},setTall:function(J){var a;this._updatingToChildren||(this.beginTransaction(),(J=zR(J,DR.blockMinSize))!==(a=this.getTall())&&jw.superClass.setTall.call(this,J),KH||this._updatingFromChildren||(this._updatingToChildren=1,this._adjustChildTallOrScale(J/a,"size"),delete this._updatingToChildren,this.updateFromChildren()),this.endTransaction())},setWidth:function(J){return this.setSize(J,this.getHeight())},setHeight:function(J){return this.setSize(this.getWidth(),J)},setSize:function(J,a){var z,U,g=DR.blockMinSize;J=zR(J,g),a=zR(a,g),(g=this)._updatingToChildren||(2!==arguments.length&&(a=J.height,J=J.width),this.beginTransaction(),z=g.getWidth(),U=g.getHeight(),J!==z&&jw.superClass.setWidth.call(g,J),a!==U&&jw.superClass.setHeight.call(g,a),KH||g._updatingFromChildren||(g._updatingToChildren=1,g._adjustChildScaleOrSize(J/z,a/U,"size"),delete g._updatingToChildren,g.updateFromChildren()),this.endTransaction())},_adjustChildScaleOrSize:function(H,M,I){var e,Q;this._syncSize&&(e=this.getPosition(),Q=this.getRotation(),this.eachChild(function(J){var a,z,U,g,V,Y,c,u;b(J)&&!J.getHost()&&(g=J.getPosition(),u=J.getRotation(),a=J.getWidth(),z=J.getHeight(),Y=(U=J.getScale()).x*a,c=U.y*z,0!=Y&&0!=c&&(H*M<0&&J.setRotation(-1*u),(g=new Mm(u,g.x,g.y,Y,c)).translate(-e.x,-e.y),g.rotate(-Q),u=SR(g.b*Math.sign(Y),g.a*Math.sign(Y)),g.scale(H,M),c=KR(u),u=Math.abs(c)<.001?(Y=eR(u),V=g.b/Y,-g.c/Y):(V=g.a/c,g.d/c),"scale"===I?J.setScale(V/a,u/z):"size"===I&&(Y=V/U.x,c=u/U.y,J.setScale(bL(V)*Math.abs(U.x),bL(u)*Math.abs(U.y)),J instanceof m.Shape?(J.setWidthForce(Math.max(Math.abs(Y),1e-5)),J.setHeightForce(Math.max(Math.abs(c),1e-5))):J.setSize(Math.max(.01,Math.abs(Y)),Math.max(.01,Math.abs(c)))),g.rotate(Q),g.translate(e.x,e.y),J.setPosition(g.tx,g.ty)))}))},_calcChangeFactor:function(J,a,z,U){var J=yR(J),g=(z=yR(z))<J?J/z:z/J;return J=yR(a),z=yR(U),zR(g,z<J?J/z:z/J)},setElevation:function(J){var a;this._updatingToChildren||0!=(J-=this.getElevation())&&(KH||this._updatingFromChildren||(this._updatingToChildren=1,a=this.toChildren(function(J){return b(J)&&!J.getHost()}),RW(a,0,J,0),delete this._updatingToChildren),jw.superClass.setElevation.apply(this,arguments))},setScaleTall:function(J){var a=this;if(!a._updatingToChildren){var z,U=a.getScaleTall();if(yR(J)<.01&&(J=.01*(bL(J)||bL(U))),"3d"===a._scaleMode)return z=a.getScale(),void a.setScale3d(z.x,J,z.y);jw.superClass.setScaleTall.call(a,J),KH||a._updatingFromChildren||(a._updatingToChildren=1,a._adjustChildTallOrScale(J/U,"scale"),delete a._updatingToChildren,a._scaleChanged=1,this.updateFromChildren(),delete a._scaleChanged)}},_adjustChildTallOrScale:function(z,U){var g;this._syncSize&&(g=this.getElevation(),this.eachChild(function(J){var a;b(J)&&!J.getHost()&&("size"===U?(a=J.getTall(),z<0&&J.setScaleTall(-1*J.getScaleTall()),J.setTall(Math.max(.01,Math.abs(a*z)))):(a=J.getScaleTall(),J.setScaleTall(a*z)),J.setElevation(g+(J.getElevation()-g)*z))}))},setAnchor3d:function(){var J;if(!this._updatingToChildren)return this.beginTransaction(),(J=jw.superClass.setAnchor3d.apply(this,arguments))&&!KH&&!this._updatingFromChildren&&this._syncSize&&(this._anchorChanged=1,this.updateFromChildren(),delete this._anchorChanged),this.endTransaction(),J},setAnchor:function(J,a,z){var U=this;if(!U._updatingToChildren){var g=U.getAnchor(),V=jw.superClass.setAnchor.apply(U,arguments);if(KH||U._updatingFromChildren||!U._syncSize)return V;U._updatingToChildren=1;var Y=U.getAnchor(),c=(u=U.getSize()).width*(g.x-Y.x),u=u.height*(g.y-Y.y),g=(new XR).compose(new qR,this.getQuaternion(),new qR(this.getScale3d())),H=new qR(c,0,u).applyMatrix4(g);return U.eachChild(function(J){var a;b(J)&&!J.getHost()&&(a=new qR(J.p3()),J.p3(a.add(H).toArray()))}),delete U._updatingToChildren,V}},setAnchorElevation:function(J){var a=this;if(!a._updatingToChildren){var z=a.getAnchorElevation(),U=jw.superClass.setAnchorElevation.apply(a,arguments);if(KH||a._updatingFromChildren||!a._syncSize)return U;a._updatingToChildren=1;var g=a.getAnchorElevation(),z=a.getTall()*(z-g),g=(new XR).compose(new qR,this.getQuaternion(),new qR(this.getScale3d())),V=new qR(0,z,0).applyMatrix4(g);return a.eachChild(function(J){var a;b(J)&&!J.getHost()&&(a=new qR(J.p3()),J.p3(a.add(V).toArray()))}),delete a._updatingToChildren,U}},setRotation:function(J){this._updateChildrenRotation3d("rotation",J)},setRotationX:function(J){this._updateChildrenRotation3d("rotationX",J)},setRotationZ:function(J){this._updateChildrenRotation3d("rotationZ",J)},setRotation3d:function(J,a,z){var U,g,V=this;V._updatingToChildren||(U=V.r3(),jw.superClass.setRotation3d.apply(V,arguments),g=V.r3(),KH||V._updatingFromChildren||(V._updatingToChildren=1,V.eachChild(function(J){b(J)&&!J.getHost()&&J.syncRotation3d(V,g,U)}),delete V._updatingToChildren))},_updateChildrenRotation3d:function(J,a){var z;this._updatingToChildren||(z=this[eL(J)](),jw.superClass[QL(J)].call(this,a),KH||this._updatingFromChildren||this._updateRotationToChildren(J,a-z))},_updateRotationToChildren:function(a,z){var U=this;U._updatingToChildren=1,U.eachChild(function(J){b(J)&&!J.getHost()&&J._11Q(U,a,z)}),delete U._updatingToChildren},setScale:function(J,a){var z,U=this;U._updatingToChildren||(null==a&&(a=J.y,J=J.x),z=U.getScale(),yR(J)<.01&&(J=.01*(bL(J)||bL(z.x))),yR(a)<.01&&(a=.01*(bL(a)||bL(z.y))),"3d"===U._scaleMode?U.setScale3d(J,U.getScaleTall(),a):(jw.superClass.setScale.call(U,J,a),KH||U._updatingFromChildren||(U._updatingToChildren=1,J/=z.x,a/=z.y,U._adjustChildScaleOrSize(J,a,"scale"),delete U._updatingToChildren,U._scaleChanged=1,U.updateFromChildren(),delete U._scaleChanged)))},onPropertyChanged:function(J){jw.superClass.onPropertyChanged.call(this,J),"s:3d.visible"!==J.property&&"parent"!==J.property||this._invalidateChildrenBatch()},_invalidateChildrenBatch:function(){this.eachChild(function(J){(J.s("batch")||J.s("wf.geometry")||J.s("wf.visible"))&&J.iv(),J instanceof jw&&J._invalidateChildrenBatch()})},getSerializableProperties:function(){var J=jw.superClass.getSerializableProperties.call(this);return J.clickThroughEnabled=1,J.syncSize=1,J.scaleMode=1,J},setScale3d:($g=new qR,lg=new qR,Tg=new qR,fg=new XR,Ng=new Im,Ag=new qR,function(J,a,z){var U,g,V=this,a="number"==typeof J?{x:J,y:a,z:z}:J.length?{x:J[0],y:J[1],z:J[2]}:J;"3d"!==V._scaleMode?jw.superClass.setScale3d.apply(V,arguments):V._syncSize&&0!==V.size()&&((U=V.getMatrix4()).getInverse(U),jw.superClass.setScaleTall.call(V,a.y),jw.superClass.setScale.call(V,a.x,a.z),g=V.getMatrix4(),KH||V._updatingFromChildren||(V._updatingToChildren=1,V.eachChild(function(J){var a,z;b(J)&&!J.getHost()&&(a=1,J instanceof m.Polyline?((z=J.getThickness())&&(Ag.copy(J.getScale3d()).multiplyScalar(z),a=z),J.getQuaternion(Ng),$g.copy(J.p3()),Tg.copy(J.getFinalScale3d()),Tg.x=Tg.x||Ag.x,Tg.y=Tg.y||Ag.y,Tg.z=Tg.z||Ag.z,fg.compose($g,Ng,Tg)):J.getMatrix4(fg),fg.premultiply(U).premultiply(g),fg.decompose($g,Ng,Tg),lg.fromArray(J.s3()),lg.x=lg.x||a,lg.y=lg.y||a,lg.z=lg.z||a,Tg.divide(lg),J.setQuaternion(Ng),J.p3($g.toArray()),J.setScale3d(Tg.toArray()))}),delete V._updatingToChildren,V._scaleChanged=1,V.updateFromChildren(),delete V._scaleChanged))})}),m.Grid=function(){yL(m.Grid,this)}),Xw=(_W("Grid",kw,{IRotatable:!1,_icon:"grid_icon",_image:WR,getUIClass:function(){return Vr},setRotation:function(){},getCellRect:function(J,a){var z=this.s("grid.row.count"),U=this.s("grid.column.count");if(z<=0||U<=0||J<0||z<=J||a<0||U<=a)return WR;var g,V,Y,c=this.getRect(),u=this.s("grid.row.percents"),H=this.s("grid.column.percents");if(Mf(c,this,"grid.border",-1),u&&u._as&&(u=u._as),H&&H._as&&(H=H._as),u&&u.length===z){for(g=Y=0;g<J;g++)Y+=c.height*u[g];c.y+=Y,c.height=c.height*u[J]}else c.height=c.height/z,c.y+=c.height*J;if(H&&H.length===U){for(g=V=0;g<a;g++)V+=c.width*H[g];c.x+=V,c.width=c.width*H[a]}else c.width=c.width/U,c.x+=c.width*a;return Xu(c,-this.s("grid.gap")),c}}),m.Text=function(){yL(Xw,this),this.setSize(100,50),this.s("text","TEXT")}),Rw=(_W("Text",kw,{_icon:"text_icon",_image:"__text__",getUIClass:function(){return Yr},setWidth:function(J){Xw.superClass.setWidth.call(this,J=J||.001)},setHeight:function(J){Xw.superClass.setHeight.call(this,J=J||.001)},toLabel:function(){return this._displayName||this._name||this.s("text")}}),qH("__text__",{width:{value:100,isSafeFunc:!0,func:function(J){return J?J._width:100}},height:{value:50,isSafeFunc:!0,func:function(J){return J?J._height:50}},comps:[{type:"text",relative:!0,rect:[0,0,1,1],text:{func:"style@text"},align:{func:"style@text.align"},vAlign:{func:"style@text.vAlign"},color:{func:"style@text.color"},font:{func:"style@text.font"},shadow:{func:"style@text.shadow"},shadowColor:{func:"style@text.shadow.color"},shadowBlur:{func:"style@text.shadow.blur"},shadowOffsetX:{func:"style@text.shadow.offset.x"},shadowOffsetY:{func:"style@text.shadow.offset.y"},scaleX:{func:"style@text.scale.x"},scaleY:{func:"style@text.scale.y"},gradient:{func:"style@text.gradient"},gradientColor:{func:"style@text.gradient.color"},gradientPack:{func:"style@text.gradient.pack"},decoration:{func:"style@text.decoration"},vertical:{func:"style@text.vertical"},verticalGap:{func:"style@text.vertical.gap"},wrap:{func:"style@text.wrap"},letterGap:{func:"style@text.letter.gap"},borderWidth:{func:"style@text.border.width"},borderColor:{func:"style@text.border.color"},background:{func:"style@text.background"},cornerRadius:{func:"style@text.corner.radius"},outlineColor:{func:"style@text.outline.color"},outlineWidth:{func:"style@text.outline.width"}}]}),m.Shape=function(){yL(Rw,this),this._59O=new h}),Cw=(Rw.__de__=$R,_W("Shape",kw,{ms_ac:["thickness","closePath"],_icon:"shape_icon",_thickness:10,_closePath:!1,getUIClass:function(){return Ur},get3dUIClass:function(){return TA},getLength:function(J){return oL(UW(this._59O,this._58O,J,this._closePath))},getSegments:function(){return this._58O},toSegments:function(){var J=this._58O;return J&&new h(J._as.slice(0))},setSegments:function(J){var a=this._58O;J=J?jR(J)?new h(J.slice(0)):new h(J._as.slice(0)):null,(a&&J&&a._as.join(",")!==J._as.join(",")||a!==J)&&(this._58O=J,this.fp("segments",a,J))},getPoints:function(){return this._59O},toPoints:function(){var J=this._59O;return new h(J._as.slice(0))},getPointsMatrix2d:function(){var J=new t.Matrix2d,a=this.getPosition(),z=this.getScale(),U=this.getRotation();return J.translate(-a.x,-a.y).scale(z.x,z.y).rotate(U).translate(a.x,a.y),J},getPointsMatrix3d:function(){var J=new t.Matrix4,a=J.getElements(),z=this.p3(),U=(QJ(a,z),Ww(a,this.getFinalRotation3d(),this.getRotationMode()),this.getScale3d()),g=this._dynamicScale3d;return g&&(U[0]*=g[0],U[1]*=g[1],U[2]*=g[2]),vJ(a,U),QJ(a,ou(z)),J},setPoints:function(J,a){var z,U,g=this,V=g._59O;J=J?jR(J)?new h(J.slice(0)):new h(J._as.slice(0)):new h,a&&(z=g.getPosition(),U=new Mm(g.getRotation(),0,0,g.getScale().x,g.getScale().y)),(V&&J&&V._as.join(",")!==J._as.join(",")||V!==J)&&(g._59O=J,g.fs(),g.fp("points",V,J)),a&&(J=(V=g.getPosition()).x-z.x,a=V.y-z.y,z=U.tf(J,a),g.setPosition(V.x-J+z.x,V.y-a+z.y))},setPoints3d:function(J,a){var z=new qR(this.p3()),U=this.getPointsMatrix3d();U.setPosition(new qR),yw.superClass.setPoints.call(this,J),a&&(J=new qR(this.p3()).clone().sub(z).applyMatrix4(U),z.add(J),this.p3(z.x,z.y,z.z))},addPoint:function(J,a,z){var U=this.toPoints();U.add(J,a),this.setPoints(U,z)},setPoint:function(J,a,z){var U=this.toPoints();U.set(J,a),this.setPoints(U,z)},removePointAt:function(J){var a=this.toPoints();a.removeAt(J),this.setPoints(a)},setWidthForce:function(J){var a,z,U,g,V=this;V._55I||KH||!V.getWidth()||(V._55I=1,a=V._position.x,z=J/V.getWidth(),U=V.toPoints(),g=new h,1!=z&&(U.each(function(J){g.add({x:(J.x-a)*z+a,y:J.y,e:J.e})}),V.setPoints(g),aW(V,[z,0,0,1,a*(1-z),0]),V.fs()),delete V._55I),Rw.superClass.setWidth.call(V,J)},setWidth:function(J){return this.setWidthForce(J<$u?$u:J)},setHeightForce:function(J){var a,z,U,g,V=this;V._55I||KH||!V.getHeight()||(V._55I=1,a=V._position.y,z=J/V.getHeight(),U=V.toPoints(),g=new h,1!=z&&(U.each(function(J){g.add({x:J.x,y:(J.y-a)*z+a,e:J.e})}),V.setPoints(g),aW(V,[1,0,0,z,0,a*(1-z)]),V.fs()),delete V._55I),Rw.superClass.setHeight.call(V,J)},setHeight:function(J){return this.setHeightForce(J<$u?$u:J)},setAnchorElevation:function(J){this._55I=!0;var a,z=this._updatingAnchor3d,J=(KH||z||(a=this.getAnchorElevation(),0!=(a=this.getTall()*(a-J))&&this.shiftPointsElevation(a)),Rw.superClass.setAnchorElevation.apply(this,arguments));return z||delete this._55I,J},getShapeElevation:function(J){return this._54O-(this.getTall()||0)*(this._anchorElevation-.5)},setAnchor3d:function(J,a,z,U){var g,V,Y,c,u,H=this,J=("number"==typeof J?g={x:J,y:a,z:z}:(g=J.length?{x:J[0],y:J[1],z:J[2]}:J,U=a),H._55I=!0,H._updatingAnchor3d=!0,H.beginTransaction(),KH||(z=H.getAnchor3d(),J=H.getSize(),a=H.getTall(),V=J.width*(z.x-g.x),Y=J.height*(z.z-g.z),c=a*(z.y-g.y),U||H.shiftPoints(V,Y,c),u=H.p3()),Rw.superClass.setAnchor3d.apply(H,arguments));return KH||U&&(a=H.p3(),H.shiftPoints(a[0]-u[0]+V,a[2]-u[2]+Y,a[1]-u[1]+c)),H.endTransaction(),delete H._updatingAnchor3d,delete H._55I,J},setAnchor:function(J,a,z){var U,g,V,Y=this,c=(Y._55I=!0,Y._updatingAnchor3d),u=!KH&&!c,a=(u&&("number"==typeof J?g={x:J,y:a}:(g=J.length?{x:J[0],y:J[1]}:J,z=a),J=Y.getAnchor(),U=(a=Y.getSize()).width*(J.x-g.x),g=a.height*(J.y-g.y),z||Y.shiftPoints(U,g),V=Y.getPosition()),Rw.superClass.setAnchor.apply(Y,arguments));return u&&(J=Y.getPosition(),z&&Y.shiftPoints(J.x-V.x+U,J.y-V.y+g)),c||delete Y._55I,a},shiftPoints:function(z,U,g){var V,J,Y;(z||U||g)&&(V=this.getElevation()||0,J=this.toPoints(),Y=new h,J.each(function(J){var a=J.e;Y.add({x:J.x+z,y:J.y+U,e:a=g?(a==WR?V:a)+g:a})}),this.setPoints(Y),this.fs())},shiftPointsElevation:function(J){return this.shiftPoints(0,0,J)},setPosition:function(J,a){var z=this;if(!z._28Q){if(z._28Q=1,!z._55I&&!KH){if(J=(a=2===arguments.length?{x:J,y:a}:J).x-z._position.x,a=a.y-z._position.y,0==J&&0==a)return void delete z._28Q;z._55I=1,z.shiftPoints(J,a),aW(z,[1,0,0,1,J,a]),delete z._55I}Rw.superClass.setPosition.apply(z,arguments),delete z._28Q}},fs:function(){this.fireShapeChange()},_70I:function(){if(2!==this._59O.size())return!1;var J=this._58O;return!J||2===J.size()&&1===J.get(0)&&2===J.get(1)},fireShapeChange:function(){var J;this._55I||KH||(J=xu(this._59O))&&(this._55I=1,this.setRect(J),delete this._55I),this.fp(We,!1,!0)},getSerializableProperties:function(){var J=Rw.superClass.getSerializableProperties.call(this);return J.segments=1,J.points=1,J.thickness=1,J.closePath=1,J}}),m.Points=function(){yL(Cw,this),this.s("shape3d.oit.ignored","pre")}),yw=(_W("Points",kw,{_59O:[],_colors:[],_sizes:[],_uvoffsets:[],get3dUIClass:function(){return fA},getPoints:function(){return this._59O},setPoints:function(J){var a=this._59O,z=(J=J?J.slice(0):[])[0];if(vL(z)){var U=J;J=[];for(var g=0,V=U.length;g<V;g+=3)J.push({x:U[g],e:U[g+1],y:U[g+2]})}this._59O=J,this._pointsDirty=!0,this.fp("points",a,this._59O)},setPoint:function(J,a){var z=this._59O.slice(0);z[J]=a,this.setPoints(z)},addPoint:function(J){this.setPoint(this._59O.length,J)},getColors:function(){return this._colors},setColors:function(J){var a=this._colors;J=J?J.slice(0):[],this._colors=J,this._colorsDirty=!0,this.fp("colors",a,J)},setPointColor:function(J,a){var z=this._colors.slice(0);z[J]=a,this.setColors(z)},getSizes:function(){return this._sizes},setSizes:function(J){var a=this._sizes;J=J?J.slice(0):[],this._sizes=J,this._sizesDirty=!0,this.fp("sizes",a,this._sizes)},setPointSize:function(J,a){var z=this._sizes.slice(0);z[J]=a,this.setSizes(z)},getUvoffsets:function(){return this._uvoffsets},setUvoffsets:function(J){var a=this._uvoffsets;J=J?J.slice(0):[],this._uvoffsets=J,this._offsetsDirty=!0,this.fp("uvoffsets",a,this._uvoffsets)},setPointUvoffset:function(J,a,z){var U;"object"==typeof a?(U=a[0],z=a[1]):U=a,(a=this._uvoffsets.slice(0))[2*J+0]=U,a[2*J+1]=z,this.setUvoffsets(a)},getPointInfo:function(J){if(!(a=this.getPoints())||a[J]==WR)return WR;var a=[(a=a[J]).x,a.e,a.y],z=this.mat||gD(this),U=[a[0],a[1],a[2]];return tu(U,z),z=this.getColors()[J]||this.s("points.color"),{size:(J=this.getSizes()[J])==WR?this.s("points.size"):J,color:z,local:a,world:U}},getSerializableProperties:function(){var J=Cw.superClass.getSerializableProperties.call(this);return J.points=1,J.colors=1,J.sizes=1,J.uvoffsets=1,J},onPropertyChanged:function(J){Cw.superClass.onPropertyChanged.call(this,J),"s:points.color"===(J=J.property)?this._colorsDirty=!0:"s:points.size"===J?this._sizesDirty=!0:"s:points.model"===J&&(this._modelDirty=!0)},getWidth:function(){if(0<=this._width)return this._width;var J=this.getStyle("points.model");return(J=J&&o2(J))&&J.rawS3?J.rawS3[0]:1},getHeight:function(){if(0<=this._height)return this._height;var J=this.getStyle("points.model");return(J=J&&o2(J))&&J.rawS3?J.rawS3[2]:1},getTall:function(){if(0<=this._tall)return this._tall;var J=this.getStyle("points.model");return(J=J&&o2(J))&&J.rawS3?J.rawS3[1]:1}}),m.Polyline=function(){yL(yw,this),this.s({"shape.background":null,"shape.border.width":2}),this._geometryVersion=0}),Fw=(_W("Polyline",Rw,{_icon:"polyline_icon",get3dUIClass:function(){return AA},getUIClass:function(){return gr},setClosePath:function(J){},setTall:function(J){var a,z,U,g,V=this;V.beginTransaction(),V._55I||V._24Q||KH||!V.getTall()||(V._24Q=1,a=V._54O,1!=(z=J/V.getTall())&&(U=V.toPoints(),g=new h,U.each(function(J){g.add({x:J.x,y:J.y,e:J.e==WR?J.e:(J.e-a)*z+a})}),V.setPoints(g),V.fs()),delete V._24Q),yw.superClass.setTall.call(V,J),V.endTransaction()},setElevation:function(J){this.beginTransaction(),this._55I||this._24Q||KH||(this._24Q=1,0!=(J-=this._54O)&&this.shiftPointsElevation(J),delete this._24Q),yw.superClass.setElevation.apply(this,arguments),this.endTransaction()},fireShapeChange:function(){var J=this,a=J._59O;if(!J._55I&&!J._24Q&&!KH){var z=a.size();if(z){for(var U=1,g=a.get(0),V=J._54O,Y=(g.e==WR&&(g.e=V),g.e),c=0;U<z;U++){(g=a.get(U)).e==WR&&(g.e=V);var u=UR(Y,g.e),H=zR(Y+c,g.e),Y=u,c=H-u}J._24Q=1,J.setTall(c),J.setElevation(Y+c*J._anchorElevation),delete J._24Q}}yw.superClass.fireShapeChange.apply(J,arguments)},onPropertyChanged:(sg={},["points","segments","thickness","s:shape.border.color","s:shape.border.gradient.color","s:shape.border.pattern","s:shape.dash","s:shape.dash.color","s:shape.dash.pattern","s:shape.dash.offset","s:3d.clip.direction","s:repeat.uv.length","s:rotate.vs.length","s:rotate.uv.length","s:body.color","s:shape3d","s:shape3d.visible","s:shape3d.image","s:shape3d.smooth","s:shape3d.resolution","s:shape3d.color","s:shape3d.blend","s:shape3d.side","s:shape3d.start.angle","s:shape3d.sweep.angle","s:shape3d.top.cap","s:shape3d.top.image","s:shape3d.top.visible","s:shape3d.top.color","s:shape3d.bottom.cap","s:shape3d.bottom.image","s:shape3d.bottom.visible","s:shape3d.bottom.color","s:shape3d.uv.union","s:shape3d.section","s:shape3d.section.angle","s:shape3d.section.twist","s:shape3d.polyline.depth","s:shape3d.polyline.offset","s:shape3d.polyline.radiusScale","s:shape3d.polyline.scaleOffset","s:shape3d.polyline.scaleMap"].forEach(function(J){sg[J]=!0}),function(J){yw.superClass.onPropertyChanged.call(this,J),sg[J.property]&&this._geometryVersion++})}),m.SubGraph=function(){yL(Fw,this)}),Ow=(_W("SubGraph",kw,{ISubGraph:1,_image:"subGraph_image",_icon:"subGraph_icon",_8I:function(){Fw.superClass._8I.call(this),this.eachChild(function(J){b(J)&&J._8I()})}}),DR.loadingRefGraph=0,m.RefGraph=function(){yL(Ow,this)}),nw=(_W("RefGraph",jw,{_icon:"refGraph_icon",getRef:function(){return this._ref},setRef:function(J){var a=this._ref;this._ref=J,this.fp("ref",a,J),this.updateRef()},_21I:function(J){Ow.superClass._21I.apply(this,arguments),this.updateRef()},updateRef:function(){var z,a,U=this;DR.loadingRefGraph++,U.clearChildrenFromDataModel(),DR.loadingRefGraph--,U._ref&&U._dataModel&&(U._xhrLoadHandler&&(U._xhrLoadHandler.cancel=!0),z=KH,(a=U._xhrLoadHandler=function(J){var a;J&&U._dataModel&&(DR.loadingRefGraph++,a=U._pendingUpdateInfo={needToRestore:z},z&&(a.p3=U.p3(),a.s3=U.s3(),a.r3=U.r3(),a.anchor3d=U.getAnchor3d(),a.scale3d=U.getScale3d()),U.r3(0,0,0),U.setScale3d(1,1,1),U.setAnchor3d(.5,.5,.5),U.p3(0,0,0),a=DR.parse(J),(J=U._dataModel.deserialize(a,U,{justDatas:!0})).each(function(J){J._refGraph=U}),U.checkPendingUpdateInfo(),DR.loadingRefGraph--,DR.handleRefGraphLoaded(U,J,a))}).xhrLoadCalled=!1,DR.load(U._ref,function(J){a.cancel||(a.xhrLoadCalled?a(J):au(function(){a(J)}))}),a.xhrLoadCalled=!0)},checkPendingUpdateInfo:function(){var a,J=this,z=J._pendingUpdateInfo;z?(a=!0,this.eachChild(function(J){(J._pendingCheckImageJSON||J._pendingUpdateInfo)&&(a=!1)}),a&&(DR.loadingRefGraph++,J._pendingUpdateInfo=null,J.updateFromChildren(),z.needToRestore&&(J.setAnchor3d(z.anchor3d),J.setScale3d(z.scale3d),J.r3(z.r3),J.p3(z.p3)),this.getParent()instanceof Ow&&this.getParent().checkPendingUpdateInfo(),J.onPendingUpdated&&J.onPendingUpdated(),DR.loadingRefGraph--)):J.onPendingUpdated&&(DR.loadingRefGraph++,J.onPendingUpdated(),DR.loadingRefGraph--)},getSerializableProperties:function(){var J=Ow.superClass.getSerializableProperties.call(this);return J.ref=1,J}}),m.EdgeGroup=function(J,a){this._70O=J,this._siblings=a;for(var z,U=0,g=J.size(),V=CR[_e];U<g;U++)if((z=J.get(U).getOwnStyle(_e))!=WR){V=z;break}for(V==WR&&(V=!0),(a=(a=DR.edgeGroupAgentFunc)&&a(J))&&a!==J.get(0)&&(J.remove(a),J.add(a,0)),U=0;U<g;U++)J.get(U).s(_e,V)},_W("EdgeGroup",pR,{getEdges:function(){return this._70O},size:function(){return this._70O.size()},get:function(J){return this._70O.get(J)},indexOf:function(J){return this._70O.indexOf(J)},each:function(J,a){this._70O.each(J,a)},getSiblings:function(){return this._siblings},eachSiblingEdge:function(a,z){this._siblings.each(function(J){J._70O.each(a,z)})}}),qL(DR,{setConnectAction:function(J,a,z){var U=SH[J]={type:J,action:a};if(z)for(var g in z)U[g]=z[g]},getConnectAction:function(J,a){if(!a){if(!J)return null;a=J.getCurrentConnectActionType()}return SH[a]},doConnectAction:function(a,J,z,U){if(U=U||a.getCurrentConnectActionType(),!(U=SH[U]))return!1;var g=U.action;return!!g&&(J instanceof S.Group?a.sm().getSelection().each(function(J){g.call(null,a,J,z)}):g.call(null,a,J,z),!0)},doDeleteConnectionAction:function(a,J,z){if(z=z||a.getCurrentConnectActionType(),!(z=SH[z])||!z.delete)return!1;var U=z.delete.action;return!!U&&(J instanceof S.Group?a.sm().getSelection().each(function(J){U.call(null,a,J)}):U.call(null,a,J),!0)}}),m.JSONSerializer=function(J,a){this.dm=this._dataModel=J,DR.forceHierarchicalSerialization?this._hierarchical=!0:this._hierarchical=a==WR?J.isHierarchicalRendering():a}),Lw=(_W("JSONSerializer",pR,{ms_ac:["hierarchical"],serialize:function(J){return DR.stringify(this.toJSON(),J)},toJSON:function(){var J,a,z=this,U=z.dm,g=U.getRoots(),V=z.json={v:DR.getVersion(),p:{},a:{},d:[]},Y=U.getSerializableAttrs();for(a in(J=U.getInit())&&(V.init=J),(J=U.getName())&&(V.p.name=J),(J=U.getBackground())&&(V.p.background=J),(J=U.getLayers())&&(V.p.layers=J),(J=U.getEnvmap())&&(V.p.envmap=J),(J=U.getEnvmapType())&&(V.p.envmapType=J),V.p.autoAdjustIndex=U.isAutoAdjustIndex(),V.p.hierarchicalRendering=U.isHierarchicalRendering(),Y){var c=U.a(a);c!==xR&&z[Tq](a,c,V.a)}return FL(V.a)&&delete V.a,z._hierarchical?g.each(z.serializeData,this):U.each(function(J){z.serializeData(J)}),U.fireSerializeEvent({type:"serialize",json:V}),U.getPostProcessingData()&&(V.p.postProcessingData=U.getPostProcessingData()),V},isSerializable:function(J){return!0},getProperties:function(J){return J.getSerializableProperties()},getStyles:function(J){return J.getSerializableStyles()},getAttrs:function(J){return J.getSerializableAttrs()},serializeData:function(J){var a=this;if(a.isSerializable(J)&&!J._refGraph){var z,U,g,V,Y,c=new(Vu(J.getClassName())||J.getClass()),u={c:J.getClassName(),i:J.getId(),p:{},s:{},a:{}};for(z in a.json.d.push(u),a.getProperties(J))/^_/.test(z)?(Y=J[z],"_width"!==z&&"_height"!==z||Y!=WR&&-1!==Y||(V==xR&&(g=(J.s("layout.h")||J.s("layout.v"))&&J.getHost()||J instanceof m.Node&&(g=J.getParent())&&g instanceof m.Block||J.s("fullscreen"),V=J.hasInheritedSize()),g&&V&&(Y=J[z]="_width"===z?J.getWidth():J.getHeight())),Y!==c[z]&&a[Tq](z.substr(1),Y,u.p)):J[U=eL(z)]&&(Y=J[U]())!==c[U]()&&a[Tq](z,Y,u.p);for(z in a.getStyles(J))(Y=J.s(z))!==c.s(z)&&a[Tq](z,Y,u.s);for(z in a.getAttrs(J))(Y=J.a(z))!==c.a(z)&&a[Tq](z,Y,u.a);FL(u.p)&&delete u.p,FL(u.s)&&delete u.s,FL(u.a)&&delete u.a}a._hierarchical&&J.getChildren().each(a.serializeData,a)},serializeValue:function(J,a,z){iL(a)?a={__a:a._as}:a instanceof _D?a={__i:a.getId()}:a instanceof hD&&(a={__dm:a.serialize(0)}),z[J]=a},deserialize:function(J,a,z){var U=this;if(!dR(J)||!/.json$/.test(J))return U.deserializeImpl(J,a,z);DR.xhrLoad(J,function(J){U.deserializeImpl(J,a,z)})},deserializeImpl:function(J,a,z){var U=this.dm,g=(U.setDeserializing(!0),z=ZL(z)?{setId:z}:EL(z)?{finishFunc:z}:z||{},J=this.json=dR(J)?DR.parse(J):J,!z.justDatas&&J.a&&J.a.onPreDeserialize&&!z.disableOnPreDeserialize&&J.a.onPreDeserialize(J,U,z.view),U.beginTransaction(),KH++,this._82I={},new h),V=new h,Y=0,c=J.d.length;if(z.justDatas||(!z.disableInit&&EL(J.init)&&J.init(U),U.setInit(J.init)),!z.justDatas){for(var u in J.a)U.a(u,this[fq](J.a[u]));for(var H in J.p)U[QL(H)](J.p[H])}for(;Y<c;Y++){var M=J.d[Y],I=new(Vu(M.c)),e=M.i;z.setId&&e!=WR&&(I._id=e),this._82I[e]=I,g.add(I),V.add(M)}for(Y=0;Y<c;Y++)this.deserializeData(g.get(Y),V.get(Y));return g.each(function(J){a&&!J.getParent()&&J.setParent(a),U.add(J)}),z.__innerHandler__&&z.__innerHandler__(J,U,z.view,g),U.fireSerializeEvent({type:"deserialize",json:J}),KH--,U.endTransaction(),!z.justDatas&&J.a&&J.a.onPostDeserialize&&!z.disableOnPostDeserialize&&J.a.onPostDeserialize(J,U,z.view,g),z.finishFunc&&z.finishFunc(J,U,z.view,g),U.setDeserializing(!1),g},deserializeData:function(J,a){for(var z in a.p)J[QL(z)](this[fq](a.p[z]));for(z in a.s)J.s(z,this[fq](a.s[z]));for(z in a.a)J.a(z,this[fq](a.a[z]))},deserializeValue:function(J){if(kL(J)){var a,z=J.__i;if(z!=WR)return this._82I[z];if((z=J.__dm)!=WR)return(a=new m.DataModel).deserialize(z),a;if(z=J.__a,jR(z))return new h(z)}return J}}),qL(hD,{serialize:function(J,a){return new nw(this,a).serialize(J)},toJSON:function(J){return new nw(this,J).toJSON()},deserialize:function(J,a,z){return new nw(this).deserialize(J,a,z)}}),m.OverlappingBox=function(J){this.gv=J,this.boxes={}}),bw=(_W("OverlappingBox",pR,{clear:function(){var J,a=this.boxes;for(J in a)a[J].length=0},isOverlapping:function(J,a){var z,U,g,V,Y=this.boxes,c=Y[J];for(c?(z=c.rects,U=c.length):c=Y[J]={rects:z=[],length:U=0},g=0;g<U;g++)if((V=z[g]).x<a.x+a.w&&V.x+V.w>a.x&&V.y<a.y+a.h&&V.h+V.y>a.y)return!0;return z.length<=U?(z.push(a),c.length++):z[c.length++]=a,!1}}),qL(DR,{fetch:function(J,a){J.open((a=a||{}).method||"GET",a.url||"",!(null!=a.sync&&a.sync)),"json"===a.dataType&&J.setRequestHeader("Content-Type","application/json");var z=a.headers;if(z)for(var U in z)J.setRequestHeader(U,z[U]);a.responseType&&(J.responseType=a.responseType),J.send(a.data)},convertImageSrc:function(J,a){(a=a&&"function"==typeof a?a:function(){})(J)}},!0),m.Request=function(){}),Sw=(_W("Request",pR,{_mimeType:xR,getXhr:function(){return this._xhr||(this._xhr=new XMLHttpRequest,this.overrideMimeType("text/plain")),this._xhr},send:function(J){var a=this.getXhr();J.mimeType&&this.overrideMimeType(J.mimeType),a.onload=this.onload,a.onerror=this.onerror,DR.fetch(a,J)},onload:function(){},onerror:function(){},getResponseType:function(){return this.getXhr().responseType},setOverrideMimeType:function(J){this.overrideMimeType(J)},getMimeType:function(){return this._mimeType},overrideMimeType:function(J){var a=this.getXhr();a.overrideMimeType&&a.overrideMimeType(this._mimeType=J)},getResponseHeader:function(J){return this.getXhr().getResponseHeader(J)},getResponseText:function(){var J=this.getXhr();return J.response||J.responseText},getStatus:function(){return this.getXhr().status}}),{}),Pw={},$w={},lw={},Tw=function(J){for(var a in $w)$w[a]&&!J["_loading_"+a+"_"]&&(lw[a][J["_loading_"+a+"_"]=Ju()]=J)},fw=function(J,a,z,U){var g,V=lw[J];if(a&&V){for(var Y in V)(g=V[Y]).invalidateAll&&g.invalidateAll(xR,J+"Loaded",z),g.redraw&&g.redraw(),g.iv(),delete g["_loading_"+J+"_"];lw[J]={}}else if(U&&!FL(V))for(var Y in V)(g=V[Y]).invalidateAll&&g.invalidateAll(xR,J+"Loading",z),g.redraw&&g.redraw(),g.iv()},Nw="placeholderResource",Aw=WR,ow=(lw[Nw]={},DR.addPendingPlaceholder=function(J,a){(Aw=Aw||($w[Nw]={}))[J]||(Aw[J]=!0,au(function(){DR.removePendingPlaceholder(J,!1)},WR,WR,a||1e5))},DR.removePendingPlaceholder=function(J,a){var z;Aw&&(delete Aw[J],(z=FL(Aw))&&(Aw=$w[Nw]=WR),fw(Nw,z,J,a))},DR.isLoading=function(){if(JL)return!0;if(ID)return!0;if(Y9)return!0;for(var J in $w)if($w[J])return!0;return!1},DR.countActiveLoadings=function(){var J,a=0;for(J in JL&&(a+=pR.keys(JL).length),ID&&(a+=pR.keys(ID).length),Y9&&(a+=pR.keys(Y9).length),$w)$w[J]&&(a+=pR.keys($w[J]).length);return a},DR.isMaxConcurrencyReached=function(J){return!!(J=J||DR.maxConcurrencyLimit)&&DR.countActiveLoadings()>J},function(c,u){function H(J,a){(z=U(J,a))&&(a=z),Q[J]=a,delete e[J];var z=FL(e);z&&(e=$w[c]=WR),fw(c,z,J,a),hw(c+"::"+J,a)}function M(J,a){H(J,a),a&&DR[z](J,a)}var I,e=WR,Q=Sw[c]={},v=c.charAt(0).toUpperCase()+c.substr(1),U=(lw[c]={},(u=u||mH).handleLoaded||hH),g="load"+v+"ByURL",z="handle"+v+"Loaded";Pw[g]=function(z,U){if((U=U||z)&&!DR.isMaxConcurrencyReached()&&!(e=e||($w[c]={}))[z]){var g=new bw,V=!(e[z]={request:g,url:U});if("string"==typeof U&&(V=$H.test(U),U=DR.beforeLoadURL(U,z)),U.data){var J=U.data;V&&J&&(J=DR.parse(J)),u.delayToNextFrame?au(function(){M(z,J)}):M(z,J)}else{g.onload=function(J){var a=this.status;200===a||0===a||206===a?(a=g.getResponseText(),V&&(a=DR.parse(a)),M(z,a)):H(z,DR["handleUnfound"+v](z,U)||WR)},g.onerror=function(J){H(z,DR["handleUnfound"+v](z,U)||WR)};var a={};if(a.url=encodeURI(U),a.sync=!1,u.loadingParam)for(var Y in u.loadingParam)a[Y]=u.loadingParam[Y];u.beforeSend&&u.beforeSend(g,a),g.send(a)}}},DR["get"+v]=function(J,a){var z=Q[J];return z===xR?(_w(c+"::"+J,a),Pw[g](J),Q[J]):(a&&a(z),z)},DR["get"+v+"Map"]=function(){return Q},"shader"==c?(I=function(J,a){if(a===xR)return delete Q[J],void delete T2[J];a&&null!==a.data&&(Q[J]=null,T2[J]=null),Pw[g](J,a)},DR.setShader=function(a,J,z){var U,g,V,Y;dR(J)&&(J.match(/\/\/ *FS/i)||-1<J.indexOf("ShaderX"))?(T2[a]=null,Q[a]=J):dR(J)&&dR(z)?(V=0,Y=function(){var J;0<V||(e&&(e[a]&&((J=e[a].request)&&(J.onload=J.onerror=hH,(J=J.getXhr())&&(J.onload=J.onerror=hH)),delete e[a]),FL(e)&&(e=$w[c]=WR)),I(a,U&&g?{data:U+"\n// FS\n"+g}:{data:null}))},J.match(/void\s+main/i)?U=J:(V++,DR.xhrLoad(J,function(J){U=J,V--,Y()})),z.match(/void\s+main/i)?g=z:(V++,DR.xhrLoad(z,function(J){g=J,V--,Y()})),V&&((e=e||($w[c]={}))[a]={}),Y()):I(a,J)}):"shaderChunk"===c?DR.setShaderChunk=function(J,a,z){dR(a)?(z==xR&&(a.match(/\n/i)?z=!1:a.match(/\.(glsl|fs|vs|shader|txt|js)$/)&&(z=!0)),z?Pw[g](J,a):Q[J]=a):a===xR&&delete Q[J]}:DR["set"+v]=function(J,a){(a=dR(a)&&a.substr(0,12)==eH?DR.parse(a):a)===xR?delete Q[J]:EL(a)||kL(a)||null===a?Q[J]=a:Pw[g](J,a)},DR[z]=function(J,a){},DR["handleUnfound"+v]=function(J,a){}}),sw=(DR.registerResourceLoader=function(J,a){ow(J,a)},function(z){z=z||DR.resourceLoaderEventTimeout;var Y={},c={};function U(J,a){var z=Y[J];if(z){for(var U=0,g=z.length;U<g;U++)z[U](a);delete Y[J];var V=c[J];V&&(oR(V),delete c[J])}}return{add:function(J,a){Y[J]||(Y[J]=[],c[J]=AR(function(){U(J,null)},z)),Y[J].push(a)},fire:U}}),mw=null,_w=function(J,a){a&&(mw=mw||new sw).add(J,a)},hw=function(J,a){mw&&mw.fire(J,a)},Bw=(jf.GraphView=function(J){var a=this;a._24I={},a._34I=new h,a.enableDirtyRect(),a._25I={},a._56I={},a._view=_L(1,a),a._canvas=BL(a._view),a.dm(J||new hD),this._coreInteractor=new Zr(this),a.setEditable(!1),a.setScrollBarVisible(DR.graphViewScrollBarVisible),a._initView()},J("GraphView",pR,{ms_v:1,ms_gv:1,ms_bnb:1,ms_tip:1,ms_dm:1,ms_lp:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,_52o:1,_51o:1,ms_ac:[cq,uq,Vq,Yq,"resettable","editInteractor",gq,"zoomable","pannable","rectSelectable","autoScrollZone",Zq,"movableFunc","editableFunc","pointEditableFunc","rectEditableFunc","rotationEditableFunc","anchorEditableFunc","rectSelectBackground","rectSelectBorderColor","editPointSize","editPointBorderColor","editPointBackground","hoverDelay"],_zoomable:DR.graphViewZoomable,_resettable:DR.graphViewResettable,_pannable:DR.graphViewPannable,_rectSelectable:DR.graphViewRectSelectable,_autoScrollZone:DR.graphViewAutoScrollZone,_rectSelectBackground:DR.graphViewRectSelectBackground,_rectSelectBorderColor:DR.graphViewRectSelectBorderColor,_editPointSize:DR.graphViewEditPointSize,_editPointBorderColor:DR.graphViewEditPointBorderColor,_editPointBackground:DR.graphViewEditPointBackground,_scrollBarColor:mW,_scrollBarSize:e,_autoHideScrollBar:Rm,_autoMakeVisible:BW,_currentActionType:null,getCoreInteractor:function(){return this._coreInteractor},getLayers:function(){return this._dataModel.getLayers()},setLayers:function(J){this._dataModel.setLayers(J)},setEditable:function(J){var a=this,z=(z=a.__interactorMap__)||(a.__interactorMap__={scrollBar:new pr(a),select:new Er(a),text:new wr(a),move:new ir(a),default:new kr(a),touch:new xr(a,{editable:!1})});J?(a._uieditable=!0,z.edit||(J=a._editInteractorClass||jf.XEditInteractor||Kr,z.edit=new J(a)),a.setInteractors([z.scrollBar,z.select,z.text,z.edit,z.move,z.default,z.touch])):(a._uieditable=!1,a.setInteractors([z.scrollBar,z.select,z.move,z.default,z.touch]))},registerEditInteractor:function(J){this._editInteractorClass=J;var a,z=this.__interactorMap__;z&&(a=z.edit,z.edit=new J(this),0<=(a=(J=this.getInteractors().getArray()).indexOf(a))&&(J[a]=z.edit))},getCanvas:function(){return this._canvas},_33I:function(J){var a=J.getUIClass();return a?new a(this,J):WR},getDataUI:function(J){var a=this._25I[J._id];return a===xR&&(a=this._33I(J),this._25I[J._id]=a),a},_5I:function(J){var a=this._25I[J._id];return a||J.dm()!==this.dm()?a:this.getDataUI(J)},getNodeRect:function(J){return DR.getNodeRect(this,J)},getFullscreenDatas:function(){return this._dataModel.getFullscreenDatas()},getEdgeInfo:function(J){return(J=this.getDataUI(J))?(J._79o(),J._78o):null},getEdgeSourcePosition:function(J){var a=(J=this.getDataUI(J)).s,J=J._data._40I;return Zf(this,J,a("edge.source.position"),a("edge.source.offset.x"),a("edge.source.offset.y"),a("edge.source.anchor.x"),a("edge.source.anchor.y"))},getEdgeTargetPosition:function(J){var a=(J=this.getDataUI(J)).s,J=J._data._41I;return Zf(this,J,a("edge.target.position"),a("edge.target.offset.x"),a("edge.target.offset.y"),a("edge.target.anchor.x"),a("edge.target.anchor.y"))},dispose:function(){},invalidateAll:function(J){var a=this;if(J){for(var z in a._25I)(z=a._25I[z])&&z.dispose();a._25I={},a._56I={},a._24I={},a._34I.clear(),a.redraw()}else a.dm().each(function(J){a.invalidateData(J)})},invalidateSelection:function(){var a=this;a.sm().each(function(J){a.invalidateData(J)})},invalidateData:function(J){this._24I[J._id]=J,this._21Q(J),this.iv()},_21Q:function(J){var a,z=this._24I;wL(J)&&PH[J.s(Be)]&&((a=J.getSourceAgent())&&a.getAgentEdges().each(function(J){z[J._id]=J}),(a=J.getTargetAgent())&&a.getAgentEdges().each(function(J){z[J._id]=J}),this.iv())},redraw:function(J){this._32I||(J?this._34I.add(J):(this._32I=1,this._34I.clear()),this.iv())},_eachImpl:function(a,z,J){var U,g,V,Y,c,u,H=this.getLayers(),M=H?H.length:0,I=this._dataModel,e=I._datas,Q=I.isHierarchicalRendering(),v=J?Q?I.reverseEachByHierarchical.bind(I):function(J,a,z){return e.reverseEachUntil(J,z,!1)<0}:Q?I.eachByHierarchical.bind(I):function(J,a,z){return e.eachUntil(J,z,!1)<0},Q=0<M;if(2<M&&(U=!0,g={},v(function(J){var a=J._layer;(g[a]||(g[a]=new m.List)).add(J)})),Q)for(U||(V=function(J){if(J._layer===Z)return z?a.call(z,J):a(J)}),u=J?(Y=M-1,c=-1):(Y=0,c=M,1);Y!==c;Y+=u){var Z=H[Y];if(kL(Z)&&(Z=Z.name),U){var k=g[Z];if(k&&0<=k.eachUntil(a,z,!1))return}else if(!1===v(V,null,z))return}else v(a,null,z)},each:function(J,a){return this._eachImpl(J,a,!1)},reverseEach:function(J,a){return this._eachImpl(J,a,!0)},getViewRect:function(){return this._29I},getContentRect:function(){var J,a,z=this,U=z._84I;return U||(J=this.dm().a("width"),a=this.dm().a("height"),0<J&&0<a?z._84I={x:0,y:0,width:J,height:a}:(z.each(function(J){z.isVisible(J)&&(U=Wu(U,z.getDataUIBounds(J)))}),z._84I=U||rH)),z._84I},getScrollRect:function(){return Wu(this.getContentRect(),this._29I)},makeCenter:function(J,a,z){var U,g,V,Y,c=this;c.getWidth()&&c.getHeight()?(c.makeVisible(J),c.validate(),(g=c.getDataUIBounds(J))&&(Y=c.getWidth(),U=c.getHeight(),V=g.x+g.width/2,g=g.y+g.height/2,V=-V*c._zoom+Y/2,Y=-g*c._zoom+U/2,c.setTranslate(V,Y,a))):z||au(c.makeCenter,c,[J,a,!0],500)},fitData:function(a,z,U,g,J){var V,Y=this;Y.getWidth()&&Y.getHeight()?(V=function(){Y.makeVisible(a),Y.validate();var J=Y.getDataUIBounds(a);J&&(J=gu(J),Xu(J,U==WR?20:U),Y.fitRect(J,z,g))},z?DR.callWhenLoaded(V):V()):J||au(Y.fitData,Y,[a,z,U,g,!0],500)},fitContent:function(a,z,U,J){var g,V=this;V.getWidth()&&V.getHeight()?(g=function(){V.validate();var J=gu(V.getContentRect());Xu(J,z==WR?20:z),V.fitRect(J,a,U)},a?DR.callWhenLoaded(g):g()):J||au(V.fitContent,V,[a,z,U,!0],500)},fitRect:function(J,a,z){var U=this,g=U.getWidth(),V=U.getHeight(),Y=J.x+J.width/2,c=J.y+J.height/2,u=UR(g/J.width,V/J.height),Y=-Y*(J=U._zoom)+g/2,g=-c*J+V/2;0===u||isNaN(u)||(z&&(u=UR(1,u)),a?(U._65I&&(delete U._65I.finishFunc,U._65I.stop(!0)),U._14o&&U._14o.stop(!0),U.setTranslate(Y,g,{finishFunc:function(){U.setZoom(u,a)}})):(U.setTranslate(Y,g),U.setZoom(u)))},fitSelection:function(J,a,z){var U=this,g=U.sm(),V=null;g.size()&&(g.each(function(J){V=Wu(U.getDataUIBounds(J),V)}),J&&Xu(V,J),U.fitRect(V,a,z))},toCanvas:function(J,a,z){a=a||this._zoom,this.validateImpl();var U=gu(this.getContentRect()),z=(z&&Xu(U,z),U.width||(U.width=10),U.height||(U.height=10),BL()),g=U.x*a,V=U.y*a,Y=Math.ceil(U.width*a),U=Math.ceil(U.height*a),c=(GL(z,Y,U,1),IQ(z)),Y=((J=J||this._dataModel.getBackground())&&YW(c,0,0,Y,U,J),QQ(c,-g,-V),c.scale(a,a),this._zoom);return this._zoom=a,this._42(c),this._zoom=Y,c.restore(),this.redraw(),z},toDataURL:function(J,a,z,U){return this.toCanvas(J,z,U).toDataURL(a||"image/png",1)},getClipBounds:function(){return this._74O},_42:function(Y,c){var J,a,u=this,z=u.dm().getBackground(),U=(z&&(J=u.dm().a("width"),a=u.dm().a("height"),0<J&&0<a&&(DR.convertColor&&(z=DR.convertColor(z,{view:u,background:!0})),YW(Y,0,0,J,a,z))),u.__htmlOrderList),H=[],M=u._forcedLayoutHTML;if(u._93db(Y,c),u.each(function(J){var a,z,U,g,V=u.getDataUI(J);V&&(a=u._56I[J._id],g=V._htmlView,a&&(z=V._79o(),g=V._htmlView,m.HtmlNode&&J instanceof m.HtmlNode?V._42(Y):(J=u.getViewRect(),U=g&&g.layoutHTML,!c||du(c,z)?(U&&(g.layoutHTML(),V.__outerLayout&&delete V.__outerLayout),V._42(Y)):du(J,z)||!U||V.__outerLayout&&!M||(g.layoutHTML(),V.__outerLayout=!0))),g&&(H.push(g),(g=g.getView?g.getView():g).style.display=a?"block":Ze))}),U&&0<H.length){var g=!1;if(U.length!==H.length)g=!0;else for(var V=0;V<H.length;V++)if(H[V]!==U[V]){g=!0;break}g&&(H.forEach(function(J){!1!==J.autoAdjustIndex&&u.appendHTML(J,!0)}),this.__htmlOrderList=H)}else this.__htmlOrderList=H;u._92db(Y,c)},disableDirtyRect:function(){this._shouldRedrawAll=E},enableDirtyRect:function(){var J=this;J._shouldRedrawAll=function(){return J._32I}},validateImpl:function(){this.tryUpdateRootData();var z,a,U,J,g,V,Y,c=this,u=c.tx(),H=c.ty(),M=c._zoom,I=c._canvas,e=this.getWidth(),Q=this.getHeight(),v=c._29I,Z={x:-u/M,y:-H/M,width:e/M,height:Q/M},k={},E=c._34I,i=c._24I,w=c._shouldRedrawAll(),p=c._23I;for(z in c._24I={},e===I.clientWidth&&Q===I.clientHeight||(GL(I,e,Q),c._forcedLayoutHTML=w=1),w||nL(Z,v)||(c._forcedLayoutHTML=w=1),c._29I=Z,c.each(function(J){z=J._id;var a=k[z]=c.isVisible(J);a!==c._56I[z]&&(i[z]=J,(U=c.getDataUI(i[z]))&&U._84o(a),c._84o(J,a))},c),i)(U=c._5I(i[z]))&&(!w&&c._56I[z]&&(J=U._79o())&&E.add(J),U.invalidate()),c._83I=1;if(c._56I=k,!w)for(z in i)k[z]&&(U=c._5I(i[z]))&&(J=U._79o())&&E.add(J);w?a=Z:(E.each(function(J){du(Z,J)&&(a=Wu(a,J))}),a&&(Xu(a,zR(1,1/M)),a.x=ER(a.x*M)/M,a.y=ER(a.y*M)/M,a.width=iR(a.width*M)/M,a.height=iR(a.height*M)/M,a=ju(Z,a))),(c._74O=a)&&0!==a.width&&0!==a.height&&(v=IQ(I),I=a.x,g=a.y,V=a.width,Y=a.height,I=Math.floor((I*M+u)*Xm),g=Math.floor((g*M+H)*Xm),V=Math.ceil(V*M*Xm)+1,Y=Math.ceil(Y*M*Xm)+1,w||(a.x=(I/Xm-u)/M,a.y=(g/Xm-H)/M,a.width=V/Xm/M,a.height=Y/Xm/M),v.beginPath(),v.rect(I,g,V,Y),v.clip(),v.clearRect(I,g,V,Y),eQ(v,u,H,M),c._42(v,a),v.restore(),delete c._74O),E.clear(),delete c._32I,delete c._forcedLayoutHTML,p&&0<e&&0<Q&&((U=c._5I(p))&&(J=U._79o(),g=(I=c._29I).x,V=I.y,Y=I.width,u=I.height,M=c._zoom,J&&!du(J,I)&&(J.x+J.width<g&&c.tx(-J.x*M),J.x>g+Y&&c.tx(-(J.x+J.width-Y)*M),J.y+J.height<V&&c.ty(-J.y*M),J.y>V+u&&c.ty(-(J.y+J.height-u)*M))),delete c._23I),c._83I&&(delete c._83I,delete c._84I),c._98O(),c.countFrame(),FL(c._24I)||au(c.iv,c)},isValidGuideLineSource:function(J){return!0},tryUpdateRootData:function(){if(!this._rootDataUpdating){this._rootDataUpdating=!0;var J,a,z=this.getFullscreenDatas();for(a in z)J=z[a],this.scaleRootData(J);this.onRootDataUpdated&&this.onRootDataUpdated(),this._rootDataUpdating=!1}},scaleRootData:function(J){if("uniform"===(I=J.s("fullscreen"))||"fill"===I){J.getRotation()&&J.setRotation(0);var a=J.s("fullscreen.gap")||0,z=this.getWidth(),U=this.getHeight();if(z&&U){var z=z-2*a,U=U-2*a,g=J.getAnchor(),V=(Y=J.getScaledSize()).width,Y=Y.height;if(H=J.s("fullscreen.lock"))return"uniform"===I?V/Y<z/U?(M=U/Y,V=Y*z/U):(M=z/V,Y=V*U/z):"v"===H?(V=z/(M=U/Y),J.getWidth()!==V&&J.setWidth(V)):(Y=U/(M=z/V),J.getHeight()!==Y&&J.setHeight(Y)),this.setZoom(M),c=a-(J.getX()-g.x*V)*M,u=a-(J.getY()-g.y*Y)*M,c!==this.tx()&&this.tx(c),void(u!==this.ty()&&this.ty(u));var c=this.tx(),u=this.ty(),H={x:(-c+a)/(M=this._zoom),y:(-u+a)/M,width:z/M,height:U/M},M=("uniform"===I&&(c=V/Y,a=(u=Math.min(H.width,H.height*c))/c,H.x+=.5*(H.width-u),H.y+=.5*(H.height-a),H.width=u,H.height=a),z=H.width/J.getScaleX(),U=H.height/J.getScaleY(),J.getWidth()==z&&J.getHeight()===U||J.setSize(z,U),H.x+g.x*H.width),I=H.y+g.y*H.height;M===(V=J.getPosition()).x&&I===V.y||J.setPosition(M,I)}}},isScrollBarVisible:function(){return!!this._79O},setScrollBarVisible:function(J){var a=this;J!==a.isScrollBarVisible()&&(J?(JQ(a._view,a._79O=hL()),JQ(a._79O,a._27I=hL()),JQ(a._79O,a._28I=hL())):(Fu(a._79O),delete a._79O,delete a._27I,delete a._28I),a.fp("scrollBarVisible",!J,J))},getDebugTip:function(){return""},showScrollBar:function(){var J=this;J._79O&&(J._85I||(AR(function(){J._86I()},Tm),J.iv()),J._85I=new Date)},_86I:function(){var J=this;J._85I&&((new Date).getTime()-J._85I.getTime()>=Tm?(delete J._85I,J.iv()):AR(function(){J._86I()},Tm))},getVScrollBar:function(){return this._27I},getHScrollBar:function(){return this._28I},_98O:function(){var J=this._27I,a=this._28I;if(this._79O){if(this._autoHideScrollBar&&!this._85I)return J.style.visibility=re,void(a.style.visibility=re);var z=this.getScrollBarColor(),U=this._zoom,g=this.getScrollBarSize(),V=this.getViewRect(),Y=this.getScrollRect(),c=V.height*U,u=Y.height*U,H=V.width*U-g-2,M=c*((V.y-Y.y)*U/u),I=c/u*c,e=J.style,u=(c<u-.5?(I<fm&&(c<(M=(M=M+I/2-fm/2)<0?0:M)+fm&&(M=c-fm),I=fm),R(J,H,M,g,I),e.visibility=Ge,e.background=z,e.borderRadius=g/2+ke):e.visibility=re,V.width*U),c=Y.width*U,M=V.height*U-g-2,H=u*((V.x-Y.x)*U/c),J=u/c*u,e=a.style;u<c-.5?(J<fm&&(u<(H=(H=H+J/2-fm/2)<0?0:H)+fm&&(H=u-fm),J=fm),R(a,H,M,J,g),e.visibility=Ge,e.background=z,e.borderRadius=g/2+ke):e.visibility=re}},setDataModel:function(J){var a=this,z=a._dataModel,U=a._selectionModel;z!==J&&(z&&(z.ump(a.handleDataModelPropertyChange,a),z.umm(a.handleDataModelChange,a),z.umd(a.handleDataPropertyChange,a),z.removeIndexChangeListener(a._75O,a),z.removeHierarchyChangeListener(a.handleHierarchyChange,a),U||z.sm().ums(a.handleSelectionChange,a)),(a._dataModel=J).mp(a.handleDataModelPropertyChange,a),J.mm(a.handleDataModelChange,a),J.md(a.handleDataPropertyChange,a),J.addIndexChangeListener(a._75O,a),J.addHierarchyChangeListener(a.handleHierarchyChange,a),U?U._21I(J):J.sm().ms(a.handleSelectionChange,a),a.invalidateAll(!0),a.fp(Cq,z,J),a.updateBackground())},getLayersInfo:function(){var J;return this._layersInfo===xR&&((J=this.getLayers())?(this._layersInfo={},J.forEach(function(J){var a=kL(J)?J.name:J;this._layersInfo[a]=J},this)):this._layersInfo=null),this._layersInfo},calculateEdgePosition:function(J,a,z){J instanceof m.Data?(U=this.getDataUI(J),c=yf(U)):(c=yf(null,J,arguments[1]),a=arguments[2],z=arguments[3]);var c,U,g=function(z){var U=1/0,g=0,V=new o;function J(J){var a;return 0<=J&&J<=1&&(V=Lf(c,100*J),(a=(z.x-V.x)*(z.x-V.x)+(z.y-V.y)*(z.y-V.y))<U&&(U=a,g=J,1))}for(var a=0;a<100;++a)J(a/100);for(var Y=.005;.001<Y;)J(g-Y)||J(g+Y)||(Y/=2);return g}(a=2===a.length?new o(a[0],a[1]):a),V=Lf(c,100*g);if(!z)for(var Y=U?bf(U):bf(J,arguments[1]),u=new o(V.x,V.y),H=49/(this._zoom*this._zoom),M=0,I=Y.length;M<I;M++)if(u.distanceToSquared(Y[M])<H)return{index:M,point:Y[M],distance:Math.sqrt((Y[M].x-a.x)*(Y[M].x-a.x)+(Y[M].y-a.y)*(Y[M].y-a.y))};return{percent:g,point:V,distance:Math.sqrt((V.x-a.x)*(V.x-a.x)+(V.y-a.y)*(V.y-a.y))}},getPercentPositionOfPath:function(J,a){var z;return J instanceof m.Data?(z=this.getDataUI(J),z=yf(z)):(z=yf(null,J,arguments[1]),a=arguments[2]),Lf(z,a)},getNeareastPositionOfPath:function(){return this.calculateEdgePosition.apply(this,arguments)},getPointsOfPath:function(J){for(var a,z,U,g,U=J instanceof m.Data?(a=this.getDataUI(J),z=(a=Cf(a)).points,a.segments):(z=J,arguments[1]),V=J instanceof m.Shape?J.getPointsMatrix2d():new t.Matrix2d,Y=[],c=-1,u=-1,H=0,M=(U||z).length;H<M;H++)5!==(g=U?U.get(H):1)&&(u++,3===g?($M(Y,z,c+1,u,"C",V),$M(Y,z,c+2,u,"M",V),c+=2):4===g?($M(Y,z,c+1,u-1,"R",V),$M(Y,z,c+2,u,"L",V),$M(Y,z,c+3,u,"M",V),c+=3):($M(Y,z,c+1,u,"M",V),c+=1));return Y},calculateAttachPoint:(mg=new o,_g=new o,hg=new o,function(J,a){var z=this.getAttachPoints(J);if(!z||!z.length)return null;hg.set(a.x,a.y);for(var U,g,V,Y,c=1/0,u=0,H=z.length;u<H;u++)V=z[u],_g.x=V.x,_g.y=V.y,mg.x=V.offsetX||0,mg.y=V.offsetY||0,V=Zf(this,J,0,mg.x,mg.y,_g.x,_g.y),(g=hg.distanceToSquared(V))<c&&(U=u,c=g,Y=V);return c=Math.sqrt(c),"close"===(a=this.getAttachStyle(J))&&J.s("attach.close.threshold")/this._zoom<c?null:{index:U,distance:c,info:z[U],point:Y}}),getAttachPoints:function(J){var a=J.s("attach.points");return a||((a=s(J._image))?_(a.attachPoints,J,this)||null:void 0)},getAttachStyle:function(J){var a=J.s("attach.style");return a||((a=s(J._image))?_(a.attachStyle,J,this)||"close":void 0)},updateLayers:function(){this._layersInfo=xR,this.invalidateSelection(),this.redraw()},updateBackground:function(){var J=this.dm().a("width"),a=this.dm().a("height");0<J&&0<a?this._canvas.style.background="":((J=this.dm().getBackground())&&DR.convertColor&&DR.convertColor(J,{view:this,background:!0}),this._canvas.style.background=this.dm().getBackground()||"")},handleDataModelPropertyChange:function(J){var a,z;"background"===J.property?(a=this._canvas.style.background,z=J.newValue||"",this.updateBackground(),this.fp("canvasBackground",a,z),this.redraw()):"a:width"===J.property||"a:height"===J.property?(this._83I=1,this.updateBackground(),this.redraw()):"layers"===J.property?this.updateLayers():"hierarchicalRendering"===J.property&&this.redraw()},handleDataPropertyChange:function(J){this.dm().isHierarchicalRendering()&&"parent"===J.property&&J.data.hasChildren()&&this.redraw(),this.invalidateData(J.data)},onPropertyChanged:function(J){var a,z=J.property;this.redraw(),"zoom"===z?(a=this.sm().getSelection()).size()&&a.each(function(J){J.invalidate()}):"dataModel"===z&&(this._83I=1),Jf[z]?this.showScrollBar():z===gq&&this.onCurrentSubGraphChanged(J)},onCurrentSubGraphChanged:function(J){this.sm().cs(),this.reset()},handleDataModelChange:function(J){var a,z,U,g=this,V=J.kind,J=J.data;g._83I=1,"add"===V?(g.invalidateData(J),wL(J)&&J.getEdgeGroup()&&J.getEdgeGroup().eachSiblingEdge(g.invalidateData,g),J.getHost&&J.getHost()&&J.getHost().updateLayoutAttaches()):V===de?(g._21Q(J),a=J._id,(z=g._25I[a])&&(g._56I[a]&&(U=z._79o())&&g.redraw(U),z.dispose(),delete g._25I[a],delete g._24I[a],delete g._56I[a]),J===g._currentSubGraph&&g.setCurrentSubGraph(WR)):V===je&&(g.invalidateAll(!0),g.setCurrentSubGraph(WR))},_75O:function(J){this.invalidateData(J.data)},handleHierarchyChange:function(J){var a,z;this.dm().isHierarchicalRendering()&&((z=J.data).getHost&&(a=z.getHost())&&a.updateLayoutAttaches(),z.hasChildren()&&this.redraw()),this.invalidateData(J.data)},adjustIndex:function(J){if(this.isVisible(J)){this.dm().beginTransaction();for(var a=J;a._parent&&this.isVisible(a._parent);)a=a._parent;a&&a!==J&&this._dataModel.adjustIndex(a),this._dataModel.adjustIndex(J),this.dm().endTransaction()}},getImage:function(J){return J.getImage?J.getImage():xR},getSelectWidth:function(J){var a=s(this.getImage(J));return a&&_(a.disableSelectedBorder,J,this)?0:J.s("select.width")},getSelectColor:function(J){return J.s("select.color")},isSelectable:function(J,a){return!!this.isSelected(J)||!(!a&&J.getParent()instanceof jw&&this.isSelectable(J.getParent(),!0)&&J.getParent().isSyncSize())&&((!(a=(a=this.getLayersInfo())&&a[J._layer])||!1!==a.selectable)&&(J.s("2d.selectable")&&this.sm().isSelectable(J)))},isMovable:function(J){if(wL(J)&&J.getStyle(Be)!==ne)return!1;var a=this.getLayersInfo();return(!(a=a&&a[J._layer])||!1!==a.movable)&&(!!J.s("2d.movable")&&(!this._movableFunc||this._movableFunc(J)))},isEditable:function(J){if(m._uiSerializing)return this._uieditable;if(!this._editInteractor||!this.isSelected(J))return!1;if(pL(J)){var a=this.getDataUI(J);if(!a||a._88I)return!1}return(!wL(J)||J.getStyle(Be)===ne)&&((!(a=(a=this.getLayersInfo())&&a[J._layer])||!1!==a.editable)&&(!!J.s("2d.editable")&&(!this._editableFunc||this._editableFunc(J))))},handleDelete:function(J){this._editInteractor&&(this._editInteractor.handleDelete?this._editInteractor.handleDelete():this.removeSelection())},isPointEditable:function(J){return(!b(J)||0===J.getRotation())&&(!this._pointEditableFunc||this._pointEditableFunc(J))},isRectEditable:function(J){return!this._rectEditableFunc||this._rectEditableFunc(J)},isAnchorEditable:function(J){return!this._anchorEditableFunc||this._anchorEditableFunc(J)},isRotationEditable:function(J){return!(!J.setRotation||!1===J.IRotatable)&&(!this._rotationEditableFunc||this._rotationEditableFunc(J))},isSourceTargetEditable:function(J,a,z){return!0},getRotationPoint:function(J){var a=J.getAnchor(),z=J.getScale(),U=this._zoom,a=DW(J.getRotation(),0,-J.getHeight()*z.y*a.y-(z.y<0?-1:1)*(GR?32:16)/U),z=J.p();return a.x+=z.x,a.y+=z.y,a},getLogicalPoint:function(J){return Ru(J,this._canvas,this.tx(),this.ty(),this._zoom,this._zoom)},getScreenPoint:function(J,a){var z;return"object"==typeof J?a=J.x!==xR?(z=J.x,J.y):(z=J[0],J[1]):z=J,Cu(z,a,this._canvas,this.tx(),this.ty(),this._zoom,this._zoom)},getSelectedDataAt:function(J){var a=this;return this.getDataAt(J,function(J){return a.isSelected(J)})},getDataInfoAt:function(J,a,z){var U=this.lp(J),g=this.getDataAt(U,a,z);if(g){var V={data:g,ui:J=this.getDataUI(g),point:U},Y=J._38o;if(Y){var c,u=Y.icons;for(c in u){var H=u[c],M=Y.rects[c];if(M)for(var I=_(H.names,g,this),H=I?I.length:0,e=M.rotation,Q=H-1;0<=Q;Q--){var v=I[Q],Z=M[Q];if(Du(Z,U,e))return V.part="icons",V.name=c,V.icon=v,V.rect=Z,V.index=Q,V.rotation=e,V}}}if(this.isNoteVisible(g)){if(J.note2Info&&Du(J.note2Info.clickRect,U,WR,J.note2Info.scale))return V.part="note2",V;if(J.noteInfo&&Du(J.noteInfo.clickRect,U,WR,J.noteInfo.scale))return V.part="note",V}if(this.isLabelVisible(g)){if(J.label2Info&&Du(J.label2Info.rect,U,J.label2Info.rotation,J.label2Info.scale))return V.part="label2",V;if(J.labelInfo&&Du(J.labelInfo.rect,U,J.labelInfo.rotation,J.labelInfo.scale))return V.part="label",V}if(g.isInRect&&g.isInRect(U))return V.part="body",V}return V},getDataAt:function(a,z,U){a.target&&(a=this.lp(a));var g,V=this._zoom;return this.reverseEach(function(J){if((z?z(J):this.isSelectable(J))&&this.rectIntersects(J,IL(a.x,a.y,U,V)))return g=J,!1},this),g},getIconInfoAt:function(J,a){if(J.target&&(J=this.lp(J)),a=a||this.getDataAt(J)){var z=this.getDataUI(a);if(z&&z._38o){var U=z._38o,g=new h;for(Y in U.icons)g.add(Y);for(var V=g.size()-1;0<=V;V--){var Y=g.get(V),c=U.rects[Y];if(c)for(var u=c.rotation,H=c.length-1;0<=H;H--){var M=c[H],I=M.width,e=M.height,Q={x:J.x-M.x-I/2,y:J.y-M.y-e/2};if(u!=WR&&(Q=DW(-u,Q.x,Q.y)),Du(M={x:-I/2,y:-e/2,width:I,height:e},Q))return{key:Y,index:H,name:U.icons[Y].names[H],rect:c[H],point:J,rotation:u,relativeRect:M,relativePoint:Q,data:a}}}}}return WR},getDatasInRect:function(a,z,U){U===xR&&(U=1);var g=this,V=new h;return g.reverseEach(function(J){U&&!g.isSelectable(J)||(z?g.rectIntersects(J,a):g.rectContains(J,a))&&V.add(J)}),V},moveSelection:function(J,a){this.dm().beginTransaction(),RW(this.sm().toSelection(this.isMovable,this),J,a),this.dm().endTransaction()},moveDatas:function(J,a,z){this.dm().beginTransaction(),J instanceof h||(J=new h(J)),RW(J,a,z),this.dm().endTransaction()},getDataUIBounds:function(J){return(J=this.getDataUI(J))?J._79o():WR},drawData:function(a,J,z){var U,g=this.getDataUI(J);g&&(U=g._79o(),z&&!du(z,U)||(g._42(a),J instanceof m.Block&&J.eachChild(function(J){this.isVisible(J)&&this.drawData(a,J,z)},this)))},getBoundsForGroup:function(J){return J.s(Re)?this.getDataUIBounds(J):WR},isPixelPerfect:function(J){return J.s("pixelPerfect")},rectIntersects:function(J,a){this.validate();var z=WR;if(this._56I[J._id]&&(g=this._25I[J._id])){var U=g.getInteractiveRect();if(Ku(a,U))z=!0;else if((a=ju(a,U))&&(z=g.rectIntersects?g.rectIntersects(a):z)==WR){if(!this.isPixelPerfect(J))return!0;var U=a.x,g=a.y,V=a.width,Y=a.height,c=this._zoom,u=V*Y*c*c,H=((H=DR.hitMaxArea)<u&&(c*=Math.sqrt(H/u)),U*=c,g*=c,hQ(V=(V*=c)<2?2:V,Y=(Y*=c)<2?2:Y));QQ(H,-U,-g),H.scale(c,c),this._drawForChecking=!0,this.drawData(H,J,a),this._drawForChecking=!1;try{for(var M=0,I=H.getImageData(0,0,V,Y).data;M<I.length;M+=4)if(0!==I[M+3]){z=!0;break}H.restore()}catch(J){sQ=WR,z=!1}}}return!!z},rectContains:function(J,a){return!(!this._56I[J._id]||!(J=this._25I[J._id]))&&Ku(a,J._79o())},reset:function(){this.setZoom(1),this.setTranslate(0,0)},handleKeyDown:function(J){var a,z,U,g,V;DR.isInput(J.target)||(z=(V=(a=this)._focusData)&&a._25I[V._id],g=0,U=a._dataModel._datas,V&&V._enabled&&V._editable&&z&&z.onKeyDown&&!0===z.onKeyDown(J)||(9===J.keyCode&&(V&&(g=U.indexOf(V),ku(J)?-1==--g&&(g=0):++g===U.size()&&(g=0)),a._focusData=V=U.get(g),a.sm().setSelection(V)),yQ(J)?a.selectAll():TQ(J)&&a.isResettable()&&a.reset(),a.sm().isEmpty()?a._editing||(z=a.tx(),U=a.ty(),g=!1,V=ku()?100:10,SQ(J)&&(z-=V,g=!0),PQ(J)&&(U-=V,g=!0),$Q(J)&&(z+=V,g=!0),lQ(J)&&(U+=V,g=!0),g&&a.setTranslate(z,U)):(FQ(J)&&a.handleDelete(J),V=ku()?10:1,SQ(J)&&(a.moveSelection(-V,0),a.fi({kind:"moveLeft"})),PQ(J)&&(a.moveSelection(0,-V),a.fi({kind:"moveUp"})),$Q(J)&&(a.moveSelection(V,0),a.fi({kind:"moveRight"})),lQ(J)&&(a.moveSelection(0,V),a.fi({kind:"moveDown"})))))},handleScroll:function(J,a){if(Bm(J),this.isZoomable()){if(!this.getEditInteractor()){var z=this.getDataAt(J);if(z){var U=s(this.getImage(z));if(U&&_(U.scrollable,z,this))return}}var g,V=this.getFullscreenDatas();for(g in V)if(V[g].s("fullscreen.lock"))return;U=this.lp(J),0<a?this.scrollZoomIn(U):a<0&&this.scrollZoomOut(U)}},handlePinch:function(J,a,z){!this.isZoomable()||Math.abs(a-z)<DR.pinchZoomThreshold||(z<a?this.pinchZoomIn(J):this.pinchZoomOut(J))},checkDoubleClickOnNote:function(J,a){var z=this.lp(J),U=this.getDataUI(a),g=U.note2Info;return g&&a.s("note2.toggleable")&&Du(g.clickRect,z)?(a.s(me,!a.s(me)),this.fi({kind:"toggleNote2",event:J,data:a}),!0):!!((g=U.noteInfo)&&a.s("note.toggleable")&&Du(g.clickRect,z))&&(a.s(se,!a.s(se)),this.fi({kind:"toggleNote",event:J,data:a}),!0)},_84o:function(J,a){},isNoteVisible:function(J){return.15<this._zoom},isLabelVisible:function(J){return.15<this._zoom},isEditVisible:function(J){return.15<this._zoom},autoScroll:function(J,a){var z=this,U=z.getAutoScrollZone(),g=U/z.getZoom(),V=U/4,Y=z._29I,J=z.lp(J),c={x:z.tx(),y:z.ty()};return J&&0<U&&Y&&(J.x-Y.x<g?z.translate(V,0):Y.x+Y.width-J.x<g&&z.translate(-V,0),J.y-Y.y<g?z.translate(0,V):Y.y+Y.height-J.y<g&&z.translate(0,-V)),c.x=z.tx()-c.x,c.y=z.ty()-c.y,a&&(a.x+=c.x,a.y+=c.y),c},getMoveMode:function(J,a){return(a=a.s("2d.move.mode"))||(nH[88]?"x":nH[89]?"y":"xy")},getSerializableProperties:function(){return{scrollBarColor:1,scrollBarSize:1,autoMakeVisible:1,autoHideScrollBar:1,editable:1,resettable:1,pannable:1,rectSelectable:1,autoScrollZone:1,visibleFunc:1,movableFunc:1,editableFunc:1,pointEditableFunc:1,rectEditableFunc:1,anchorEditableFunc:1,rotationEditableFunc:1,rectSelectBackground:1,rectSelectBorderColor:1,editPointSize:1,editPointBorderColor:1,editPointBackground:1,hoverDelay:1,dataModel:1,selectionModel:1,currentSubGraph:1,zoom:1,translateX:1,translateY:1}},serializeProperty:function(J,a,z){return"currentSubGraph"===a?{__i:J.getId()}:z.serializeProperty(J,a,this)},deserializeProperty:function(J,a,z){return"currentSubGraph"===a?this.dm().__idMap[J.__i]:z.deserializeProperty(J,a,this)},setDefaultCursor:function(J,a){this._defaultCursor=J,!1!==a&&this.setCursor(J)},getCurrentConnectActionType:function(){return this._currentActionType},setCurrentConnectActionType:function(J){return!(J!==WR&&!DR.getConnectAction(null,J)||(this._currentActionType=J,this.redraw(),0))},getEditStyle:function(J){var a=this.getEditInteractor();return a?a.getStyle(J):xR},setEditStyle:function(J,a,z){var U=this.getEditInteractor();return!!U&&(U.setStyle(J,a,z),!0)},isConnectActionVisible:function(J){var a=DR.getConnectAction(this);return!!a&&(a=a.visible,EL(a)?a(this,J):a)},isInteractive:function(J){if(this._drawForChecking)return!1;var a=s(this.getImage(J));return!(!a||!_(a.interactive,J,this))||J.s("interactive")},getRenderingStyleIconName:function(){return tw},appendHTML:function(J,a){var z=this.getView();if(!(a||J&&J.parentNode!==z))return!1;var U=J.getView&&J.getView(),g=J.beforeCanvas;return!(!a&&U&&U.parentNode===z)&&((J.getView||J.isSelfViewEvent)&&(J=J.getView()),a=this.getEditInteractor(),g?z.insertBefore(J,this.getCanvas()):a&&a._canvas?z.insertBefore(J,a._canvas):this.isScrollBarVisible()?z.insertBefore(J,this.getView().lastChild):JQ(z,J),!0)},_layoutHTMLImpl:function(J,a,z){var U,g,V,Y,c,u,H,M,I;1<arguments.length?(g=this._zoom,(a=a.getView?(U=a).getView():a).style.position="absolute",z?(u=J.getRect(),R(U||a,this.tx()+u.x*g,this.ty()+u.y*g,u.width*g,u.height*g)):(z=new Hm,V=J.s("html.layout.anchor.sync"),H=J.getPosition(),M=J.getScale(),I=a.style,u=V?J.getAnchorRect():{x:.5*-(Y=J.getWidth()),y:.5*-(c=J.getHeight()),width:Y,height:c},R(U||a,u),z.appendTranslate(this.tx(),this.ty()),z.appendScale(g,g),z.append(new Hm(J.getRotation(),H.x,H.y,M.x,M.y)),V||z.appendTranslate(Y*(.5-J.getAnchorX()),c*(.5-J.getAnchorY())),HQ(I,"transform","matrix("+z.a.toFixed(5)+", "+z.b.toFixed(5)+", "+z.c.toFixed(5)+",\n    "+z.d.toFixed(5)+", "+z.tx.toFixed(5)+", "+z.ty.toFixed(5)+")"),HQ(I,"transformOrigin",(-u.x).toFixed(5)+"px "+(-u.y).toFixed(5)+"px"),a.updateAppendMatrix=!0)):this._layoutHTML&&this._layoutHTML()},getTextEditInfo:function(J){if(J instanceof Xw)return{name:"text",accessType:"s",font:J.s("text.font"),isMultiline:!0}},getState:function(J){var a=J.s("state");return a||((a=s(J._image))?_(a.state,J,this)||null:void 0)},getShape:function(J){return J.getStyle(We)}}),pR.defineProperties(jf.GraphView.prototype,{layoutHTML:{get:function(){return this._layoutHTMLImplBind||(this._layoutHTMLImplBind=this._layoutHTMLImpl.bind(this)),this._layoutHTMLImplBind},set:function(J){this._layoutHTML=J}}}),function(J,a){this.gv=J,this.s=function(J){return a.getStyle(J)},this._data=a,this._87I=new h}),tw=WR,rw=(Su(Bw,pR,{_6I:WR,ms_icons:1,_84o:function(J){},dispose:function(){},isShadowed:function(){return this.s("shadow")||this.gv.isSelected(this._data)&&"shadow"===this.s("select.type")},getSelectWidth:function(){return!this.gv.isSelected(this._data)||this.isShadowed()?0:this.gv.getSelectWidth(this._data)},getSelectColor:function(){return this.gv.getSelectColor(this._data)},getBodyColor:function(J){var a=this._data;return(a=this.gv.getBodyColor(a))?J?this.getColor(a,0):a:J?this.getStyleColor(J,0):WR},_2Q:function(J){return this.s(J)},_1Q:function(J,a,z,U,g,V){var Y=this.s,c=(J.lineWidth=z,this.getStyleColor(a+".dash.color",1)),u=Y(a+".dash.gradient.pack");u?JW(J,u,this.getGradientStopColor.bind(this),!0,g,V,{style:a+".dash.gradient.pack"}):J.strokeStyle=c,J.stroke(),u&&J.restore(),Y(a+".dash.3d")&&(g=this.getStyleColor(a+".dash.3d.color",1),gW(J,c,g,z,this.gv._zoom,Y(a+".dash.3d.accuracy"))),MD(J,U)},invalidate:function(){this._6I=WR},_79o:function(){var J,a,z=this;return z._6I||(J=z._data,a=z.gv,z.labelInfo=z.label2Info=z.noteInfo=z.note2Info=z._38o=WR,z._87I.clear(),z.interactiveInfo=a.isInteractive(J)?{}:WR,z._interactiveRect=WR,z._3O(),z._55O=a.isEditable(J)?{_42O:a.isRectEditable(J),_43O:a.isPointEditable(J),_56O:a.isRotationEditable(J)}:WR,z._6I=z._81o()),z._6I},prepareBlendInfo:function(){var J=this._data;this._gray=J.s("2d.gray"),this._bodyColor=this.getBodyColor()},getColor:function(J,a,z){if(DR.convertColor&&(U={data:this._data,view:this.gv},z&&pR.assign(U,z),J=DR.convertColor(J,U)),J){var U=(z=3===(a=a==WR?3:a))||2===a;if(this._gray&&(z||1===a))return DR.toGrayColor(J);if(this._bodyColor&&U)return BQ(J,this._bodyColor)}return J},getStyleColor:function(J,a){var z,U=this.s;return DR.convertColor&&(z={style:J}),this.getColor(U(J),a,z)},getGradientStopColor:function(J,a){return this.getColor(J,WR,a)},_3O:function(){},getPosition:function(J,a,z,U){return rH},_68o:function(J,a){var z,U;J&&this._87I.add(a?(a=new Mm(a),z=J.width/2,U=J.height/2,(a=xu([a.tf(-z,-U),a.tf(z,-U),a.tf(z,U),a.tf(-z,U)])).x+=J.x+z,a.y+=J.y+U,a):J)},getInteractiveRect:function(){var J=this._6I||this._79o();return this._interactiveRect||J},_81o:function(){var a,J,z,U=this,g=U.s;return U._24O(Pe,"getLabel"),U._24O($e,"getLabel2"),U._26O(le,"getNote"),U._26O(Te,"getNote2"),U._15O(),U._55O&&U._48O(),U._87I.each(function(J){a=Wu(a,J)}),a&&(J=U.isShadowed(),z=g("shadow2"),(J||z)&&(z=gu(a),J?(z.x+=g("shadow.offset.x"),z.y+=g("shadow.offset.y"),Xu(z,g("shadow.blur"))):(z.x+=g("shadow2.offset.x"),z.y+=g("shadow2.offset.y"),Xu(z,g("shadow2.blur"))),z=Wu(a,z),g("shadow.interactable")||(U._interactiveRect=a),a=z)),U._87I.clear(),a},_42:function(J){var a,z,U,g,V,Y,c=this,u=c._data,H=c.gv,M=c.s,I=M("opacity"),e=this.isShadowed(),Q=M("shadow2"),v=M("shadow2.inset");(e||Q&&!v)&&(a=J.shadowOffsetX,z=J.shadowOffsetY,U=J.shadowBlur,g=J.shadowColor,v=H.getZoom()*DR.devicePixelRatio,J.shadowOffsetX=M((V=e?"shadow":"shadow2")+".offset.x")*v,J.shadowOffsetY=M(V+".offset.y")*v,J.shadowBlur=M(V+".blur")*v,J.shadowColor=e?c.getSelectColor():M(V+".color")),I!=WR&&(Y=J.globalAlpha,J.globalAlpha=I),c.drawBody(J),H.isLabelVisible(u)&&(H._drawForChecking&&!M("label.selectable")||wf(J,c.labelInfo),H._drawForChecking&&!M("label2.selectable")||wf(J,c.label2Info)),H.isNoteVisible(u)&&(pf(J,c.noteInfo),pf(J,c.note2Info)),c._99O(J),I!=WR&&(J.globalAlpha=Y),(e||Q)&&(J.shadowOffsetX=a,J.shadowOffsetY=z,J.shadowBlur=U,J.shadowColor=g)},drawBody:function(J){},_47O:function(J){},_24O:function(J,a){var z,U,g,V=this._data,Y=this.gv,c=this.s,u=Y[a](V);u!=WR&&(z=c(J+".scale"),g=c(J+".max"),U=c(J+".position"),Y=this[J+"Info"]={label:u,scale:z,color:this.getColor(Y[a+"Color"](V),0),font:c(J+".font"),opacity:c(J+".opacity"),align:c(J+".align"),decoration:c(J+".decoration"),rotation:this.getRotation(c(J+".rotation"),!1,U),background:this.getColor(Y[a+"Background"](V),0)},a=aQ(Y,u),0<g&&g<a.width&&(Y.labelWidth=a.width,a.width=g),1!==z&&(a.width*=z,a.height*=z),V=this.getPosition(U,c(J+".offset.x"),c(J+".offset.y"),a,c(J+".position.fixed")),a.x=V.x-a.width/2,a.y=V.y-a.height/2,this._68o(Y.rect=a,Y.rotation),1!==z&&(u=a.width/z,g=a.height/z,Y.rect={x:V.x-u/2,y:V.y-g/2,width:u,height:g}))},_26O:function(J,a){var z,U,g,V,Y,c=this.gv,u=this._data,H=this.s,M=c[a](u);M!=WR&&(z=H(J+".scale"),c=this[J+"Info"]={note:M,scale:z,data:u,view:c,expanded:H(J+".expanded"),font:H(J+".font"),color:this.getStyleColor(J+".color",0),opacity:H(J+".opacity"),align:H(J+".align"),icon:H(J+".icon"),backgroundImage:H(J+".backgroundImage"),borderWidth:H(J+".border.width"),borderColor:this.getStyleColor(J+".border.color",0),background:this.getColor(c[a+"Background"](u),0)},U=(a=this.getPosition(H(J+".position"),H(J+".offset.x"),H(J+".offset.y"))).x,a=a.y,c.expanded?(g=H(J+".max"),(Y=(Y=H(J+".backgroundImage"))?(Y=s(Y),{width:dD(Y,u),height:jD(Y,u)}):aQ(c,M)).width+=6,Y.height+=2,0<g&&g<Y.width&&(c.labelWidth=Y.width,Y.width=g),g=Y.width,V=Y.height+8,c.clickRect={x:U-g*z/2,y:a-V*z,width:g*z,height:V*z*Y.height/V}):(V=(M=H(J+".icon"))?(M=s(M),g=dD(M,u),jD(M,u)):(g=12,18),c.clickRect={x:U-g*z/2,y:a-V*z,width:g*z,height:V*z}),c.rect={x:U-g/2,y:a-V*z/2-V/2,width:g,height:V},Y=iR(c.borderWidth/2)*z,this._68o({x:U-g*z/2-Y,y:a-V*z-Y,width:g*z+2*Y,height:V*z+2*Y}))},_48O:function(){},_99O:function(J){var a=this._38o;if(a){var z,U=this.gv,g=this._data,V=a.icons,Y=this.interactiveInfo;for(z in Y&&(Y._38o={}),V){var c=V[z],u=a.rects[z];if(u){Y&&(Y._38o[z]=[]);var H,M=_(c.opacity,g,U),I=_(c.names,g,U),e=I?I.length:0,Q=u.rotation;M!=WR&&(H=J.globalAlpha,J.globalAlpha*=M);for(var v=0;v<e;v++){var Z,k,E=I[v],E=s(E),i=u[v],w=(Q&&(Z=i.x+i.width/2,k=i.y+i.height/2,J.save(),QQ(J,Z,k),vQ(J,Q),QQ(J,-Z,-k)),Y&&Y._38o[z].push(J.interactiveInfo={compInfos:[],matrix:Q?new Hm(Q,Z,k).appendTranslate(-Z,-k):new Hm}),tw);tw=z,Gm(J,E,_(c.stretch,g,U),i.x,i.y,i.width,i.height,this._data,this.gv),tw=w,J.interactiveInfo=WR,Q&&J.restore()}M!=WR&&(J.globalAlpha=H)}}}}}),function(J,a){yL(rw,this,[J,a])}),Gw=(Su(rw,Bw,{_checkEmptyRect:!0,_40O:function(J,a){var z,U=this.s,g=J.rect,V=((J.borderColor=this.gv.getBorderColor(this._data))&&(J.borderType=U("border.type"),J.borderWidth=U("border.width"),J.borderPadding=U("border.padding"),a=zR(a,J.borderPadding+J.borderWidth/2)),this._data.getScale()),V=zR(1,zR(yR(V.x),yR(V.y)));(J.selectWidth=this.getSelectWidth())&&(z=this.gv._zoom,J.selectType=U("select.type"),J._97o=this.getSelectColor(),J.selectPadding=U("select.padding"),a=zR(a,(J.selectPadding+J.selectWidth/2/z)/V)),0<a&&(a*=V,g=gu(g),Xu(g,a)),this._68o(g)},_39O:function(J,a){var z,U,g,V,Y,c=a.rect;0<a.borderWidth&&(Y=a.borderPadding,J.strokeStyle=a.borderColor,J.lineWidth=a.borderWidth,cW(J,a.borderType,{x:c.x-Y,y:c.y-Y,width:c.width+2*Y,height:c.height+2*Y}),J.stroke()),0<a.selectWidth&&(U=this.gv._zoom,Y=a.selectPadding,J.strokeStyle=a._97o,J.lineWidth=a.selectWidth/U,a.rotation!=WR&&(J.save(),J.translate(a.position.x,a.position.y),J.rotate(a.rotation),z=(U=this._data).getWidth(),U=U.getHeight(),g=a.scale,V=a.anchor,c={x:g.x*(-z*V.x),y:g.y*(-U*V.y),width:g.x*z,height:g.y*U}),cW(J,a.selectType,{x:c.x-Y,y:c.y-Y,width:c.width+2*Y,height:c.height+2*Y}),a.rotation!=WR&&J.restore(),J.stroke())},dispose:function(){var J=this._htmlView;rw.superClass.dispose.call(this),J&&(J.onHTMLRemoved&&J.onHTMLRemoved(),Fu(J))},_3O:function(){var J,a,z=this,U=(z.prepareBlendInfo(),z.s),g=z._data,V=z.gv,Y=V.getShape(g),c=z.getBodyColor();Y?(J=z.getStyleColor("shape.border.color",1),(J={shape:Y,_53o:z.getBodyColor("shape.background"),_27Q:s(U("shape.repeat.image"),c),shapeRepeatImageStretch:U("shape.repeat.image.stretch"),shapeRepeatImageRotation:U("shape.repeat.image.rotation"),shapeGradientPack:U("shape.gradient.pack"),shapeBorderGradientPack:U("shape.border.gradient.pack"),_54o:U("shape.border.width"),_55o:J,shapeBorderRepeatImage:s(U("shape.border.repeat.image"),J),shapeBorderRepeatImageStretch:U("shape.border.repeat.image.stretch"),shapeBorderRepeatImageRotation:U("shape.border.repeat.image.rotation"),_56o:U("shape.border.3d"),_57o:z.getStyleColor("shape.border.3d.color",1),_58o:U("shape.border.3d.accuracy"),shapeGradient:U("shape.gradient"),_60o:U("shape.border.pattern"),_61o:U("shape.border.cap"),_62o:U("shape.border.join"),shapeForeground:z.getStyleColor("shape.foreground",1),bodyColor:c,gray:U("2d.gray")}).shapeGradient&&(J._59o=z.getStyleColor("shape.gradient.color",1))):J={img:s(V.getImage(g),c),bodyColor:c,gray:U("2d.gray"),stretch:U("image.stretch")};(c=(z._83o=J).img)&&c.renderHTML?(z._htmlInfo&&z._htmlInfo.img!==c&&(z._htmlInfo=WR),z._htmlInfo||(z._htmlInfo={img:c,cache:{}}),u=c.renderHTML(g,V,z._htmlInfo.cache)):z._htmlInfo=WR,z._htmlView&&z._htmlView!==u&&(z._htmlView.onHTMLRemoved&&z._htmlView.onHTMLRemoved(),Fu(z._htmlView.getView?z._htmlView.getView():z._htmlView)),(z._htmlView=u)&&V.appendHTML(u)&&(u.onHTMLAddedSync&&u.onHTMLAddedSync(),u.onHTMLAdded&&au(u.onHTMLAdded)),J.rect=g.getRect(),J.position=g.p(),J.scale=g.getScale(),J.anchor=g.getAnchor(),J.rotation=g.getRotation(),Y===f&&(J._63o=U("shape.depth"));var u=0;Y?(u=rQ(WR,J._54o/2,J._62o),z.s("shape.dash")&&(u=zR(u,(z.s("shape.dash.width")||J._54o)/2))):c&&c.boundExtend&&(u=_(c.boundExtend,g,V),c.boundExtendAbsolute?(a=g.getScale(),u/=V._zoom*zR(1,zR(yR(a.x),yR(a.y)))):_(c.fitSize,g,V)||(a=_(c.width,g,V),c=_(c.height,g,V),u*=zR(g.getWidth()/a,g.getHeight()/c))),z._40O(J,u),(V=U("clip.percentage"))!=xR&&(J.clipRect=TL(g.getAnchorRect(),U("clip.direction"),V)),Y&&((a=U("shape.fill.clip.percentage"))!=xR&&(J.shapeClipRect=TL(g.getAnchorRect(),U("shape.fill.clip.direction"),a)),(c=U("shape.foreground.clip.percentage"))!=xR&&(J.shapeForegroundClipRect=TL(g.getAnchorRect(),U("shape.foreground.clip.direction"),c))),U("clip.host")&&g.getHost()&&(J.clipHost=!0)},getPosition:function(J,a,z,U){return(J=OW(J,this._83o.rect,U)).x+=a,J.y+=z,J},clipHost:function(z,J,a){var U,g,V,Y,c,u,H,M,I,e,Q,v;return a=a||0,(J=J.getHost())?(J.getHost()&&J.s("clip.host")&&(z.save(),z.beginPath(),a=this.clipHost(z,J,a),z.clip()),J instanceof Rw?(V=J.getPoints().toArray(),M=(M=J.getSegments())?M.toArray():[],U=J.getMatrix(),g=J.p(),V=V.map(function(J){return(J=gu(J)).x-=g.x,J.y-=g.y,U.apply(J)}),zW(z,V,M)):(V=this.gv.getShape(J))?("roundRect"===V?Y=J.s("shape.corner.radius"):"polygon"===V?(Y=J.s("shape.polygon.side"),c=J.s("shape.corner.radius"),u=J.s("shape.regular")):"nStar"===V?(Y=J.s("shape.star.side"),c=J.s("shape.corner.radius"),u=J.s("shape.star.ratio"),H=J.s("shape.regular")):"arc"===V&&(Y=J.s("shape.arc.from"),c=J.s("shape.arc.to"),u=J.s("shape.arc.close"),H=J.s("shape.arc.oval")),M=J.p(),I=J.getRotation(),Q=J.getAnchor(),v=J.getScale(),(e=J.getSize()).x=-e.width*Q.x,e.y=-e.height*Q.y,z.save(),QQ(z,M.x,M.y),vQ(z,I),ZQ(z,v.x,v.y),WW[V](z,e.x,e.y,e.width,e.height,Y,c,u,H),z.restore()):(Q=J.s("host.clip.padding")||0,v=J.getScale(),J.getCorners(-Q/Math.abs(v.x),-Q/Math.abs(v.y)).forEach(function(J,a){a?z.lineTo(J.x,J.y):z.moveTo(J.x,J.y)})),++a):a},drawBody:function(J){var a,z=this,U=z.s,g=z.gv,V=z._data,Y=z._83o,c=Y.rect,u=Y.position,H=Y.rotation,M=Y.anchor,I=Y.scale,e=Y.shape,Q=Y.clipHost,v=Y.clipRect;if(!z._checkEmptyRect||0<c.width&&0<c.height){(c=U("composite"))&&(J.save(),J.globalCompositeOperation=c),Q&&(J.save(),J.beginPath(),(a=z.clipHost(J,V))&&J.clip());var Z,k,E,i,w,p,x,W,D,K,d,j,q,X,R,C,y,F=V.getSize();if(F.x=-F.width*M.x,F.y=-F.height*M.y,J.save(),QQ(J,u.x,u.y),vQ(J,H),ZQ(J,I.x,I.y),v&&(J.beginPath(),J.rect(v.x,v.y,v.width,v.height),J.clip()),g._drawForChecking&&Y.img&&!1===_(Y.img.pixelPerfect,V,g)?YW(J,F.x,F.y,F.width,F.height,"#888888"):z.freeDraw?z.freeDraw(J,F,Y):e?(M=Y._27Q,v=Y._54o,y=Y.shapeGradientPack,Z=Y.gray,k=J.lineJoin,E=J.lineCap,W=U("shape.border.width.absolute"),C=Y._60o,D=g._zoom,W&&C&&(C=C.map(function(J){return J*D})),R=HD(J,C),X=function(J){return Z?DR.toGrayColor(J):J},"roundRect"===e?i=U("shape.corner.radius"):"polygon"===e?(i=U("shape.polygon.side"),w=U("shape.corner.radius"),p=U("shape.regular")):"nStar"===e?(i=U("shape.star.side"),w=U("shape.corner.radius"),p=U("shape.star.ratio"),x=U("shape.regular")):"arc"===e&&(i=U("shape.arc.from"),w=U("shape.arc.to"),p=U("shape.arc.close"),x=U("shape.arc.oval")),J.lineJoin=Y._62o,J.lineCap=Y._61o,(K=X(Y._53o))||M||y?((j=Y.shapeClipRect)&&(J.save(),J.beginPath(),J.rect(j.x,j.y,j.width,j.height),J.clip()),cW(J,e,F,i,w,p,x),y?JW(J,y,z.getGradientStopColor.bind(z),!1,F,WR,{style:"shape.gradient.pack"}):M?HW(J,M,X(Y.bodyColor),null,V,g,Y.shapeRepeatImageStretch,F,Y.shapeRepeatImageRotation):uW(J,K,Y.shapeGradient,Y._59o,F),J.fill(),y&&J.restore(),j&&J.restore(),J!==R&&cW(R,e,F,i,w,p,x)):cW(R,e,F,i,w,p,x),(M=Y.shapeForeground)&&(J.save(),X=Y.shapeForegroundClipRect,(y=U("shape.foreground.gradient"))&&(q=z.getStyleColor("shape.foreground.gradient.color",1)),X&&(J.beginPath(),J.rect(X.x,X.y,X.width,X.height),J.clip()),cW(J,e,F,i,w,p,x),uW(J,M,y,q,F),J.fill(),J.restore()),z.isShadowed()||(X=U(j="shadow2"),M=U(j+".inset"),X&&M&&(y=g.getZoom()*DR.devicePixelRatio,J.save(),J.shadowOffsetX=U(j+".offset.x")*y,J.shadowOffsetY=U(j+".offset.y")*y,J.shadowBlur=U(j+".blur")*y,J.shadowColor=U(j+".color"),q=F.x-50,X=F.y-50,M=F.width+100,y=F.height+100,cW(J,e,F,i,w,p,x),J.clip(),cW(J,e,F,i,w,p,x),["circle","star","hexagon","pentagon","diamond"].indexOf(e)<0?(J.moveTo(q,X),J.lineTo(q,X+y),J.lineTo(q+M,X+y),J.lineTo(q+M,X)):J.rect(q,X,M,y),J.fillStyle=J.shadowColor,J.fill(),J.restore(),cW(J,e,F,i,w,p,x))),W&&(d=z._ctxMat||(z._ctxMat=new m.Math.Matrix2d),kQ(J,d)),0<v&&(J.lineWidth=v,j=Y._55o,(q=Y.shapeBorderGradientPack)?JW(J,q,z.getGradientStopColor.bind(z),!0,F,d,{style:"shape.border.gradient.pack"}):Y.shapeBorderRepeatImage?MW(J,Y.shapeBorderRepeatImage,j,null,V,g,Y.shapeBorderRepeatImageStretch,F,Y.shapeBorderRepeatImageRotation):J.strokeStyle=j,J.stroke(),q&&J.restore(),Y._56o&&gW(J,j,Y._57o,v,g._zoom,Y._58o)),MD(J,C),U("shape.dash")&&0<(X=U("shape.dash.width")||v)&&(C=U("shape.dash.pattern"),W&&(C=C.map(function(J){return J*D})),(R=HD(J,C,z._2Q("shape.dash.offset")))!==J&&cW(R,e,F,i,w,p,x),z._1Q(J,"shape",X,C,F,d)),kW(J,K,Y._63o,F),W&&J.restore(),J.lineJoin=k,J.lineCap=E):((M=z.interactiveInfo)&&(J.interactiveInfo=M.bodyInfo={compInfos:[],matrix:new Hm(H,u.x,u.y,I.x,I.y)}),Y.gray&&(J.compGray=!0),(y=Y.img)&&y.cacheRule!=WR&&(y=Xf(J,y,Y.stretch,F.width,F.height,V,g,Y.bodyColor)),Gm(J,y,Y.stretch,F.x,F.y,F.width,F.height,V,g,Y.bodyColor),J.compGray=!1,J.interactiveInfo=WR),J.restore(),Q)for(;a--;)J.restore();c&&J.restore()}z._39O(J,Y)},_48O:function(){},_47O:function(J){}}),function(J,a){yL(Gw,this,[J,a])}),Jr=function(J,a,z,U){var g=pu(J,a);return z=(U?UR:xf)(z,g),g?z/=g:z=0,{x:J.x+(a.x-J.x)*z,y:J.y+(a.y-J.y)*z}},ar=(Su(Gw,Bw,{_3O:function(){var J=this;J.prepareBlendInfo();var a,z,U,g,V,Y,c,u,H,M=J._data,I=J.gv,e=J.s,Q=e(Be),v=M.isLooped(),Z=e("edge.width"),k=J.getBodyColor("edge.color"),E=e("edge.center"),i=e("edge.offset"),w=J.getColor(I.getBorderColor(M),1),p=w?e("border.width"):0,x=J.getSelectWidth(),W=M._40I,D=M._41I;(k=J._78o=W&&D?{looped:v,type:Q,width:Z,center:E,color:k,repeatImage:s(e("edge.repeat.image"),k),borderColor:w,borderWidth:p,_97o:x?J.getSelectColor():WR,selectWidth:x,pattern:e("edge.pattern"),cap:e("edge.cap"),join:e("edge.join"),is3d:e("edge.3d"),_67o:J.getStyleColor("edge.3d.color",1),_66o:e("edge.3d.accuracy"),gray:e("2d.gray")}:WR)&&((w=DR.getEdgeType(Q))?(w=w(M,Kf(J,I,M,v,Q),I,J._19Q)).points&&1<w.points.size()?(k.edgeTypeInfo=w,a=xu(k.edgeTypeInfo.points)):w[zq]&&w.rect&&(a=(k.edgeTypeInfo=w).rect):(w=e("edge.source.anchor.x"),Y=e("edge.source.anchor.y"),g=e("edge.target.anchor.x"),V=e("edge.target.anchor.y"),z=vf(I,M,"source"),U=vf(I,M,"target"),Q===ne?(u=(c=k.points=e(he)||oD).size(),k.segments=e("edge.segments"),w=w!==xR||Y!==xR||wL(W),Y=g!==xR||V!==xR||wL(D),E||(i?(w||(z=Jr(z,u?c.get(0):U,i,u)),Y||(U=Jr(U,u?c.get(u-1):z,i,u))):(w||(H=SL(z,u?c.get(0):U,tD(I,W)))&&(z={x:H[0],y:H[1]}),Y||(H=SL(u?c.get(u-1):z,U,tD(I,D)))&&(U={x:H[0],y:H[1]}))),a=Wu(xu(k.points),xu(z,U))):(g=Kf(J,I,M,v,Q),J._19Q||(g=-g),v?((z=gu(z)).x=I.getNodeRect(W).x,k.radius=g,a={x:z.x-g,y:z.y-g,width:2*g,height:2*g}):(V=pu(z,U),Y={x:w=xf(i,V),y:g},c={x:V-w,y:g},u=SR(U.y-z.y,U.x-z.x),D=k.mat=new Mm(u),k.orienAngle=u,k.angle=U.x<z.x?u+y:u,k.rect={x:Y.x,y:Y.y,width:c.x-Y.x,height:0},k.origin=z,(Y=D.tf(Y)).x+=z.x,Y.y+=z.y,(c=D.tf(c)).x+=z.x,c.y+=z.y,E?((H=D.tf(H={x:V,y:0})).x+=z.x,H.y+=z.y,a=xu([z,Y,c,H]),k.c1=z,k.c2=H):a=xu(Y,c),z=Y,U=c)),k.sourcePoint=z,k.targetPoint=U,M._lastSourcePoint=z,M._lastTargetPoint=U),Q=0,e("edge.dash")&&(Q=e("edge.dash.width")||Z),v="square"===k.cap?.71:.5,rQ(a,zR(Q*v,Z*v+p+x),k.join),J._68o(a))},getRotation:function(J,a,z){J=J||0;var U=this._78o;if(U){var g,V=U.angle,Y=U.points,c=U.edgeTypeInfo;if(V!=WR)return a?U.orienAngle+J:V+J;if(c&&c[zq])return c.getRotation?c.getRotation(this,J,a,z):0;if(c&&c.points)return g=(V=c.points).size(),GD[z]?g&&g%2==0?Wf(V.get(g/2-1),V.get(g/2),a,J):J:rD[z]?Wf(V.get(0),V.get(1),a,J):Wf(V.get(g-2),V.get(g-1),a,J);if(Y)return g=Y.size(),GD[z]?g&&g%2==0?Wf(Y.get(g/2-1),Y.get(g/2),a,J):0===g?Wf(U.sourcePoint,U.targetPoint,a,J):J:rD[z]?Wf(U.sourcePoint,g?Y.get(0):U.targetPoint,a,J):Wf(g?Y.get(g-1):U.sourcePoint,U.targetPoint,a,J)}return J},getPosition:function(J,a,z,U,g){var V=this._78o;if(V){var Y=V.type,c=V.points,u=V.edgeTypeInfo,H=V.sourcePoint,M=V.targetPoint;if(!Y)return V.looped?{x:H.x-V.radius+a,y:H.y+z}:(g&&H&&M&&(H.x>M.x||H.x===M.x&&H.y>M.y)&&(J=FW[J],z=-z),(I=OW(J,V.rect,U)).x+=a,I.y+=z,(I=V.mat.tf(I)).x+=V.origin.x,I.y+=V.origin.y,I);if(u&&u[zq])return u.getPosition?u.getPosition(this,J,a,z,U,g):{x:(H.x+M.x)/2,y:(H.y+M.y)/2};if(c){var I,e,Q=c.size();if(GD[J]){if(Q){if(0==(e=Q%2))return Df(c.get(Q/2-1),c.get(Q/2),J,a,z,U,g);I=c.get((Q-e)/2)}else I={x:(H.x+M.x)/2,y:(H.y+M.y)/2};return(I=OW(J,{x:I.x,y:I.y,width:0,height:0},U)).x+=a,I.y+=z,I}return rD[J]?Df(H,Q?c.get(0):M,J,a,z,U,g):Df(Q?c.get(Q-1):H,M,J,a,z,U,g)}if(u)return Q=(Y=u.points).size(),GD[J]?0==(e=Q%2)?Df(Y.get(Q/2-1),Y.get(Q/2),J,a,z,U,g):(I=Y.get((Q-e)/2),(I=OW(J,{x:I.x,y:I.y,width:0,height:0},U)).x+=a,I.y+=z,I):rD[J]?Df(Y.get(0),Y.get(1),J,a,z,U,g):Df(Y.get(Q-2),Y.get(Q-1),J,a,z,U,g)}return rH},_42:function(J){this._78o&&Gw.superClass._42.call(this,J)},drawPath:function(a,J){a.beginPath();var z,U,g,V,Y=J.type,c=J.points,u=J.segments,H=J.edgeTypeInfo;!Y||c?(z=(U=J.sourcePoint).x,U=U.y,g=(V=J.targetPoint).x,V=V.y,Y?u?((Y=new h({x:z,y:U})).addAll(c),Y.add({x:g,y:V}),zW(a,Y,u)):(a.moveTo(z,U),c.each(function(J){a.lineTo(J.x,J.y)}),a.lineTo(g,V)):J.looped?a.arc(z,U,J.radius,0,QR,!0):J.center?(a.moveTo(J.c1.x,J.c1.y),a.lineTo(z,U),a.lineTo(g,V),a.lineTo(J.c2.x,J.c2.y)):(a.moveTo(z,U),a.lineTo(g,V))):H&&(H.points?zW(a,H.points,H.segments):H[zq]&&H[zq](a,H))},drawBody:function(J){var a=this.s,z=this._78o,U=z.width,g=z.selectWidth,V=z.borderWidth,Y=z.repeatImage,c=J.lineJoin,u=J.lineCap,H=z.gray,M=z.pattern,I=(J.lineJoin=z.join,J.lineCap=z.cap,this.drawPath(HD(J,M),z),a("edge.width.absolute")),g=(I&&kQ(J),g&&(J.strokeStyle=z._97o,J.lineWidth=U+2*(V+g),J.stroke()),V&&(J.strokeStyle=z.borderColor,J.lineWidth=U+2*V,J.stroke()),H?DR.toGrayColor(z.color):z.color);Y?MW(J,Y,g,null,this._data,this.gv):J.strokeStyle=g,J.lineWidth=U,J.stroke(),z.is3d&&gW(J,g,z._67o,U,this.gv._zoom,z._66o),a("edge.dash")&&(M=a("edge.dash.pattern"),(V=HD(J,M,this._2Q("edge.dash.offset")))!==J&&this.drawPath(V,z),this._1Q(J,"edge",a("edge.dash.width")||U,M)),I&&J.restore(),MD(J,M),J.lineJoin=c,J.lineCap=u},_48O:function(){},_47O:function(J){}}),function(J,a){yL(ar,this,[J,a])}),zr=(Su(ar,rw,{_3O:function(){var a,z,J,U,g,V,Y,c,u,H,M,I,e,Q,v,Z,k=this,E=k.s,i=k._data,w=k.gv;k.prepareBlendInfo(),k._88I=WR,i.isExpanded()&&i.eachChild(function(J){b(J)&&(J=w.getBoundsForGroup(J))&&((z=z||[]).push(J),a=Wu(a,J))}),a?(V=w.getLabel(i),g=E("group.type"),U=(J=E("group.border.width")||0)/2,E("group.border.width.absolute")&&(J/=w._zoom),u=z,H=a,a="oval"===(c=g)?(M=0,e=H.height/H.width,I=e*e,v=H.x+H.width/2,Z=H.y+H.height/2,FM(u).forEach(function(J){var a=J.x-v,J=J.y-Z;M<(a=a*a+J*J/I)&&(M=a)}),e*=M=wR(M),{x:v-M,y:Z-e,width:2*M,height:2*e}):"circle"===c?(Q=0,v=H.x+H.width/2,Z=H.y+H.height/2,FM(u).forEach(function(J){var a=J.x-v,J=J.y-Z;Q<(a=a*a+J*J)&&(Q=a)}),Q=wR(Q),{x:v-Q,y:Z-Q,width:2*Q,height:2*Q}):("roundRect"===c&&Xu(H,UR(H.width,H.height)/16),H),Mf(a,i,"group.padding",1),Xu(a,J),i=k._88I={type:g,rect:a,_64o:a},g||V==WR||(g=k.labelInfo={label:V,color:k.getStyleColor("group.title.color",0),font:E("group.title.font"),align:E("group.title.align")},e=(V=aQ(g,V)).width+J,V=V.height+J,u=E("group.title.align"),(c=E("group.title.orientation"))===ce||c===ue?(a.height+=J,e>a.width&&(a.width=e)):c!==Ve&&c!==Ye||(a.width+=J,e>a.height&&(a.height=e)),u=u===Ve?a.x:u===Ye?a.x+a.width-e:a.x+a.width/2-e/2,c===ue?(i.titleRect={x:a.x,y:a.y+a.height,width:a.width,height:V},i.rect={x:a.x,y:a.y,width:a.width,height:a.height+V},g.rect={x:u,y:a.y+a.height,width:e,height:V}):c===Ve?(Y=i.titleRect={x:a.x-V,y:a.y,width:V,height:a.height},i.rect={x:a.x-V,y:a.y,width:a.width+V,height:a.height},g.rect={x:Y.x+V/2-a.height/2,y:Y.y+a.height/2-V/2,width:a.height,height:V},g.rotation=-Math.PI/2):c===Ye?(Y=i.titleRect={x:a.x+a.width,y:a.y,width:V,height:a.height},i.rect={x:a.x,y:a.y,width:a.width+V,height:a.height},g.rect={x:Y.x+V/2-a.height/2,y:Y.y+a.height/2-V/2,width:a.height,height:V},g.rotation=Math.PI/2):(i.titleRect={x:a.x,y:a.y-V,width:a.width,height:V},i.rect={x:a.x,y:a.y-V,width:a.width,height:a.height+V},g.rect={x:u,y:a.y-V-U,width:e,height:V+J})),k._40O(i,E("group.border.width")/2)):ar.superClass._3O.call(k)},getPosition:function(J,a,z,U){var g=this._88I;return g?((J=OW(J,g.rect,U)).x+=a,J.y+=z,J):ar.superClass.getPosition.apply(this,arguments)},_24O:function(J,a){var z=this._88I;z&&!z.type&&"label2"!==J||ar.superClass._24O.call(this,J,a)},drawBody:function(J){var a=this,z=a._88I;if(z){var U=a._data,g=a.s,V=a.gv,Y=z.type,c=z.rect,u=z._64o,H=z.titleRect,M=a.getBodyColor(),I=s(g("group.image"),M),e=g("group.image.stretch"),Q=a.getBodyColor("group.background"),v=s(g("group.repeat.image"),M),Z=g("group.gradient.pack"),k=g("group.gradient"),E=g("group.border.width"),i=a.getStyleColor("group.border.color",0),w=g("group.border.pattern"),p=g("group.title.orientation"),x=g("group.depth"),W=g("group.border.radius"),D=g("group.border.join"),K=g("group.border.cap"),d=(g("group.border.width.absolute")&&(E/=V._zoom),i);if((q=(q=g("group.border.repeat.image"))&&s(q,i))&&(d=IW(J,q,i,null,U,V,g("group.border.repeat.image.stretch"),c)),Y){var j,q=J.lineJoin,i=J.lineCap;J.lineJoin=D,J.lineCap=K,I?(J.save(),cW(J,Y,c,W),J.clip(),Gm(J,I,e,c.x,c.y,c.width,c.height,U,V,M),J.restore(),0<E&&(X=HD(J,w),cW(X,Y,c,W),J.lineWidth=E,J.strokeStyle=d,J.stroke(),MD(J,w))):(X=HD(J,w),Q||v||Z?(cW(J,Y,c,W),Z?JW(J,Z,a.getGradientStopColor.bind(a),!1,c,WR,{style:"group.gradient.pack"}):v?HW(J,v,M,null,U,V,g("group.repeat.image.stretch"),c,g("group.repeat.image.rotation")):(k&&(j=a.getStyleColor("group.gradient.color",0)),uW(J,Q,k,j,c)),J.fill(),Z&&J.restore(),J!==X&&cW(X,Y,c,W)):cW(X,Y,c,W),0<E&&(J.lineWidth=E,J.strokeStyle=d,J.stroke()),MD(J,w),Y===f&&kW(J,Q,x,c)),J.lineJoin=q,J.lineCap=i}else{var X,Z=a.getStyleColor("group.title.background",0);if((!W||W<0)&&(W=0),I)Gm(J,I,e,u.x,u.y,u.width,u.height,U,V,a.getBodyColor());else if(Q||v)if(v?HW(J,v,M,null,U,V,g("group.repeat.image.stretch"),c,g("group.repeat.image.rotation")):uW(J,Q,k,j,u),0===E)cW(J,f,u),J.fill(),kW(J,Q,x,u);else{switch(J.beginPath(),p){case ue:vW(J,u.x,u.y,u.width,u.height,W,W,0,0);break;case Ve:vW(J,u.x,u.y,u.width,u.height,0,W,0,W);break;case Ye:vW(J,u.x,u.y,u.width,u.height,W,0,W,0);break;case ce:vW(J,u.x,u.y,u.width,u.height,0,0,W,W)}J.fill()}if(H&&Z)if(0===E)YW(J,H.x,H.y,H.width,H.height,Z),kW(J,Z,x,H);else{switch(J.beginPath(),J.fillStyle=Z,p){case ue:vW(J,H.x,H.y,H.width,H.height,0,0,W,W);break;case Ve:vW(J,H.x,H.y,H.width,H.height,W,0,W,0);break;case Ye:vW(J,H.x,H.y,H.width,H.height,0,W,0,W);break;case ce:vW(J,H.x,H.y,H.width,H.height,W,W,0,0)}J.fill()}0<E&&(X=HD(J,w),cW(X,"roundRect",c,W),J.save(),J.lineWidth=E,J.strokeStyle=d,J.lineJoin=D,J.lineCap=K,J.closePath(),J.stroke(),H&&g("group.splitLine")&&(Y=H.x,q=H.y,i=H.width,I=H.height,J.beginPath(),p===ue?(J.moveTo(Y,q),J.lineTo(Y+i,q)):p===Ve?(J.moveTo(Y+i,q),J.lineTo(Y+i,q+I)):p===Ye?(J.moveTo(Y,q),J.lineTo(Y,q+I)):(J.moveTo(Y,q+I),J.lineTo(Y+i,q+I))),J.stroke(),J.restore(),MD(X,w))}a._39O(J,z)}else ar.superClass.drawBody.call(a,J)}}),function(J,a){yL(zr,this,[J,a])}),Ur=(Su(zr,rw,{drawBody:function(J){this._39O(J,this._83o)}}),function(J,a){yL(Ur,this,[J,a])}),gr=(Su(Ur,rw,{_3O:function(){var J=this,a=(J.prepareBlendInfo(),J._data),z=J.s,U=J.gv,g=a.getPoints(),V=J.getColor(U.getBorderColor(a),1),Y=V?z("border.width"):0,c=J.getSelectWidth(),u=z("shape.border.width"),H=a.getRect(),M=a.getAnchorRect(),U=U.getBodyColor(a),I=J.getStyleColor("shape.border.color",1),e=a.p();(V=J._99o=g.isEmpty()?WR:{rect:H,rotation:a.getRotation(),fillRule:z("shape.fill.rule"),scale:a.getScale(),position:e,points:g,segments:a.getSegments(),bodyColor:U,borderColor:V,borderWidth:Y,_94o:z("shape.border.3d"),_95o:J.getStyleColor("shape.border.3d.color",1),_96o:z("shape.border.3d.accuracy"),_97o:c?J.getSelectColor():WR,selectWidth:c,_53o:J.getStyleColor("shape.background",1),_27Q:s(z("shape.repeat.image"),U),shapeRepeatImageStretch:z("shape.repeat.image.stretch"),shapeRepeatImageRotation:z("shape.repeat.image.rotation"),shapeGradientPack:z("shape.gradient.pack"),shapeBorderGradientPack:z("shape.border.gradient.pack"),_54o:u,_55o:I,shapeBorderRepeatImage:s(z("shape.border.repeat.image"),I),shapeBorderRepeatImageStretch:z("shape.border.repeat.image.stretch"),shapeBorderRepeatImageRotation:z("shape.border.repeat.image.rotation"),shapeGradient:z("shape.gradient"),_59o:J.getStyleColor("shape.gradient.color",1),_60o:z("shape.border.pattern"),_61o:z("shape.border.cap"),_62o:z("shape.border.join"),shapeForeground:J.getStyleColor("shape.foreground",1),gray:z("2d.gray")})&&(M.x+=V.position.x,M.y+=V.position.y,V.gradientRect=M,DR.extractShapeTranslation&&((U=gu(M)).x-=e.x,U.y-=e.y,(I=gu(g)).forEach(function(J){J.x-=e.x,J.y-=e.y}),V.translatedInfo={gradientRect:U,points:I}),M=a.getScale(),g=zR(1,zR(yR(M.x),yR(M.y))),z("shape.dash")&&z("shape.dash.width")>u&&(u=z("shape.dash.width")),(U=z("shape.border.width.absolute")?(u+Y+c)/J.gv._zoom/g:u*("square"===V._61o?.71:.5)+Y+c/J.gv._zoom/g)&&(U*=g,H=gu(H),rQ(H,U,V._62o)),J._68o(H),(I=z("clip.percentage"))!=xR&&(V.clipRect=TL(a.getAnchorRect(),z("clip.direction"),I)),(M=z("shape.fill.clip.percentage"))!=xR&&(V.shapeClipRect=TL(a.getAnchorRect(),z("shape.fill.clip.direction"),M)),(u=z("shape.foreground.clip.percentage"))!=xR&&(V.shapeForegroundClipRect=TL(a.getAnchorRect(),z("shape.foreground.clip.direction"),u)),z("clip.host")&&a.getHost()&&(V.clipHost=!0))},getPosition:function(J,a,z,U){var g=this._99o;return g?((J=OW(J,g.rect,U)).x+=a,J.y+=z,J):rH},_42:function(J){this._99o&&Ur.superClass._42.call(this,J)},drawBody:function(J){var a,z,U,g,V,Y,c,u,H=this,M=H.s,I=H._99o,e=I.position,Q=I.scale,v=I.rotation,Z=I.borderWidth,k=H.gv._zoom,E=I.selectWidth/k,i=I._27Q,w=I.shapeGradientPack,p=I._54o,x=I.clipRect,W=I.shapeClipRect,D=I.segments,K=H._data.isClosePath(),d=I.clipHost,j=I.fillRule,q=I.gray,X=I._53o,R=X||i||w,v=(d&&(J.save(),J.beginPath(),(a=H.clipHost(J,H._data))&&J.clip()),J.save(),QQ(J,e.x,e.y),vQ(J,v),ZQ(J,Q.x,Q.y),x&&(J.beginPath(),J.rect(x.x,x.y,x.width,x.height),J.clip()),R&&W&&(J.save(),J.beginPath(),J.rect(W.x,W.y,W.width,W.height),J.clip()),DR.extractShapeTranslation&&(d=I.translatedInfo)?(z=d.gradientRect,U=d.points):(z=I.gradientRect,U=I.points,QQ(J,-e.x,-e.y)),M("shape.border.width.absolute")),Q=I._60o,x=(v&&Q&&(Q=Q.map(function(J){return J*k})),HD(J,Q)),d=J.lineJoin,C=J.lineCap,q=(J.lineJoin=I._62o,J.lineCap=I._61o,y=I.bodyColor,q?DR.toGrayColor(y):y),y=(R?(zW(J,U,D,K),w?JW(J,w,H.getGradientStopColor.bind(H),!1,z,WR,{style:"shape.gradient.pack"}):i?((u=I.shapeRepeatImageStretch)&&(g=xu(U)),HW(J,i,q,null,H._data,H.gv,u,g,I.shapeRepeatImageRotation)):uW(J,c=q||X,I.shapeGradient,I._59o,z),J.fill(j),w&&J.restore(),W&&(J.restore(),QQ(J,-e.x,-e.y)),x!==J&&zW(x,U,D,K)):zW(x,U,D,K),I.shapeForeground);if(y&&(J.save(),R=I.shapeForegroundClipRect,(i=M("shape.foreground.gradient"))&&(V=H.getStyleColor("shape.foreground.gradient.color",1)),R&&(QQ(J,e.x,e.y),J.beginPath(),J.rect(R.x,R.y,R.width,R.height),J.clip(),QQ(J,-e.x,-e.y)),zW(J,U,D,K),uW(J,y,i,V,z),J.fill(j),J.restore()),H.isShadowed()||(W=M(w="shadow2"),R=M(w+".inset"),W&&R&&(e=k*DR.devicePixelRatio,J.save(),J.shadowOffsetX=M(w+".offset.x")*e,J.shadowOffsetY=M(w+".offset.y")*e,J.shadowBlur=M(w+".blur")*e,J.shadowColor=M(w+".color"),y=z.x-50,i=z.y-50,V=z.width+100,j=z.height+100,zW(J,U,D,K),J.clip(),zW(J,U,D,K),J.rect(y,i,V,j),J.fillStyle=J.shadowColor,J.fill(),J.restore(),zW(J,U,D,K))),v&&(Y=H._ctxMat||(H._ctxMat=new m.Math.Matrix2d),kQ(J,Y)),E&&(J.strokeStyle=I._97o,J.lineWidth=p+2*(Z+E),J.stroke()),Z&&(J.strokeStyle=I.borderColor,J.lineWidth=p+2*Z,J.stroke()),p&&(c=I._55o,(W=I.shapeBorderGradientPack)?((R=gu(z)).width<p?(R.width+=p,R.x-=.5*p):R.height&&(R.height+=p,R.y-=.5*p),JW(J,W,H.getGradientStopColor.bind(H),!0,R,Y,{style:"shape.border.gradient.pack"})):I.shapeBorderRepeatImage?((u=I.shapeBorderRepeatImageStretch)&&!g&&(g=xu(U)),MW(J,I.shapeBorderRepeatImage,c,null,H._data,H.gv,u,g,I.shapeBorderRepeatImageRotation)):J.strokeStyle=c=!X&&q?q:c,J.lineWidth=p,J.stroke(),W&&J.restore(),I._94o&&gW(J,c,I._95o,p,k,I._96o)),MD(J,Q),M("shape.dash")&&0<(e=M("shape.dash.width")||p)&&(Q=M("shape.dash.pattern"),v&&(Q=Q.map(function(J){return J*k})),(x=HD(J,Q,H._2Q("shape.dash.offset")))!==J&&zW(x,U,D,K),H._1Q(J,"shape",e,Q,z,Y)),v&&J.restore(),J.lineJoin=d,J.lineCap=C,J.restore(),a)for(;a--;)J.restore()},_48O:function(){},_47O:function(J){}}),function(J,a){yL(gr,this,[J,a])}),Vr=(Su(gr,Ur,{getRotation:(Gg=new o,Jm=new o,am=new Hm,function(J,a,z){J=J||0;var U,g,V=this._data,Y=V.getPoints(),c=Y.size();return 1<c?(g=V.p(),V=V.getScale(),am.identity().translate(-g.x,-g.y).scale(V.x,V.y).translate(g.x,g.y),g=GD[z]?(U=Y.get((V=(c-c%2)/2)-1),Y.get(V)):rD[z]?(U=Y.get(0),Y.get(1)):(U=Y.get(c-2),Y.get(c-1)),am.apply(U,Gg),am.apply(g,Jm),Wf(Gg,Jm,a,J)):J}),getPosition:(Bg=new o,tg=new o,rg=new o,function(J,a,z,U,g){var V=this._data,Y=V.getPoints(),c=Y.size();if(1<c){if(V=V.getPointsMatrix2d(),GD[J]){var u=c%2,H=(c-u)/2,M=Y.get(H-1),H=Y.get(H);if(0!=u)return(u=OW(J,rH,U)).x+=a,u.y+=z,V.apply(M,Bg),V.apply(H,tg),V.identity().rotate(rg.copy(tg).sub(Bg).angle()).apply(u,Bg).add(tg)}else H=rD[J]?(M=Y.get(0),Y.get(1)):(M=Y.get(c-2),Y.get(c-1));return V.apply(M,Bg),V.apply(H,tg),Df(Bg,tg,J,a,z,U,g)}return rH})}),function(J,a){yL(Vr,this,[J,a])}),Yr=(Su(Vr,rw,{_3O:function(){Vr.superClass._3O.call(this);var J=this.s,a=this._83o;this._82o=a.img||a.shape?WR:{background:this.getBodyColor("grid.background"),depth:J("grid.depth"),rect:a.rect,_88o:J("grid.cell.depth"),cellBorderColor:this.getStyleColor("grid.cell.border.color",0),_89o:J("grid.row.count"),_90o:J("grid.column.count"),block:J("grid.block"),_91o:this.getStyleColor("grid.block.color",0),_92o:J("grid.block.padding"),_93o:J("grid.block.width")}},drawBody:function(J){var a=this._82o;if(a){var z,U,g=this._data,V=a.background,Y=a.rect,c=a.block,u=a._91o,H=a._92o,M=a._93o,I=a._88o,e=a.cellBorderColor,Q=a._89o,v=a._90o;if(V)if(YW(J,Y.x,Y.y,Y.width,Y.height,V),kW(J,V,a.depth,Y),I)for(z=0;z<Q;z++)for(U=0;U<v;U++)(Y=g.getCellRect(z,U))&&kW(J,V,I,Y);else if(e){for(J.beginPath(),z=0;z<Q;z++)for(U=0;U<v;U++)(Y=g.getCellRect(z,U))&&J.rect(Y.x,Y.y,Y.width,Y.height);J.strokeStyle=e,J.lineWidth=1,J.stroke()}if("h"===c)for(z=0;z<Q;z++)Y=Wu(g.getCellRect(z,0),g.getCellRect(z,v-1)),Xu(Y,H),ZW(J,u,Y.x,Y.y,Y.width,Y.height,M);else if("v"===c)for(U=0;U<v;U++)Y=Wu(g.getCellRect(0,U),g.getCellRect(Q-1,U)),Xu(Y,H),ZW(J,u,Y.x,Y.y,Y.width,Y.height,M);this._39O(J,this._83o)}else Vr.superClass.drawBody.call(this,J)}}),function(J,a){yL(Yr,this,[J,a])}),cr=Q?BL().getContext("2d"):WR,ur=(Su(Yr,rw,{_checkEmptyRect:!1,_81o:function(){var Y,J,c,a,z,U,u,H,g,V,M,I,e,Q,v=this._data,Z=Yr.superClass._81o.call(this),k=v.s("text"),E=v.s("text.outline.width");return E&&Xu(Z,.5*E),k!=WR&&(k+="",Y=v.s("text.font"),E=v.s("text.align"),J=v.s("text.vAlign"),I=v.s("text.wrap"),M=v.s("text.vertical"),c=v.s("text.vertical.gap"),Q=v.s("text.letter.gap")||0,a=v.getWidth(),z=v.getHeight(),null==c&&(c=1),M?(u=((e=I?zQ(k,z,Y,Q,M,c):[k]).length-1)*Q,H=0,cr.textBaseline=ce,cr.font=Y,e.forEach(function(J){for(var a=J.length,z=0,U=(a-1)*c,g=0;g<a;g++){var V=cr.measureText(J[g]);U+=V.fontBoundingBoxDescent||Mu(Y,J[g]).height,z=zR(z,V.width)}u+=z,H=zR(U,H)}),e.length,e.forEach(function(J){}),U={width:u,height:H}):1<(I=(e=I?zQ(k,a,Y,Q,M,c):k.split("\n")).length)?(M=Mu(Y,k).height,u=0,H=M*I+c*(I-1),e.forEach(function(J){u=zR(u,Mu(Y,J).width)}),U={width:u,height:H}):(U=Mu(Y,k),Q&&(U.width+=(k.length-1)*Q)),M=U.width,I=U.height,e=v.getAnchor(),"left"===E?g=-a*e.x:"center"===E?g=-a*e.x+(a-M)/2:"right"===E&&(g=a*(1-e.x)-U.width),"top"===J?V=-z*e.y:"middle"===J?V=-z*e.y+(z-I)/2:"bottom"===J&&(V=z*(1-e.y)-U.height),k=v.getMatrix(),Q=xu([k.tf(g,V),k.tf(g+M,V),k.tf(g+M,V+I),k.tf(g,V+I)]),(Z=Wu(Z,Q))&&v.s("text.shadow")&&((E=gu(Z)).x+=v.s("text.shadow.offset.x"),E.y+=v.s("text.shadow.offset.y"),Xu(E,v.s("text.shadow.blur")),Z=Wu(Z,E))),Z}}),jf.Interactor=function(J){this.gv=this._graphView=J}),Hr=(J("Interactor",pR,{ms_listener:1,getView:function(){return this.gv.getView()},setUp:function(){this.addListeners()},tearDown:function(){this.removeListeners(),this.clear()},clear:function(){},fi:function(J){this.gv.fi(J)},setCursor:function(J){GR||this.gv.setCursor(J)},startDragging:function(J){this._lastClientPoint=iu(J),this._lastLogicalPoint=this.gv.lp(J),yu(this,J)},clearDragging:function(J){this._lastClientPoint=this._lastLogicalPoint=this._logicalPoint=WR},autoScroll:function(J){return this.gv.autoScroll(J,this._lastClientPoint)}}),WR),Mr="ht.propagation.host",Ir=function(J){Hr.handleWindowTouchMove(J)},er=function(J){Hr.handleWindowTouchEnd(J),ZR(n,cH,Ir),ZR(n,uH,er),Hr=WR},Qr=function(J){Hr.handleWindowMouseMove(J)},vr=function(J){Hr.handleWindowMouseUp(J),ZR(n,UH,Qr),ZR(n,gH,vr),Hr=WR},Zr=function(J){var a=this;a.gv=J,a._is2d=J instanceof jf.GraphView,a._eventListeners={},["mousedown","mousemove","mouseleave","touchstart","touchmove","touchend","mouseup",IH,"wheel"].forEach(function(J){a.addListener(J)})},kr=(Su(Zr,ur,{enableReality:function(J,a){var z,U,g=this;(z=J._id)||(z=J._id=t.generateUUID()),!(!g._realityEnabled||!g._realityEnabled[z])!==a&&(g._realityEnabled||(g._realityEnabled={}),g._realityEnabled[z]=a,g._realityBindingCallbacks||(g._realityBindingCallbacks={}),U=g._realityBindingCallbacks[z],a?(U=U||(g._realityBindingCallbacks[z]=g.onRealityControllerChange.bind(g,J)),J.mp(U,g)):U&&J.ump(U,g))},onRealityControllerChange:function(J,a){var z=a.property,U=(a=a.newValue).id;if(J&&J.isPresenting()){var g=J.getController(U);if(g){var V=g.getRay();if(V)switch(V.controllerId=U,J.getRayEventType(V,z,a[yq])){case"down":this.handle_mousedown(V);break;case"up":Hr&&vr(V);break;case"move":this.handle_mousemove(V),Hr&&this.handleWindowMouseMove(V)}}}},setPreventEventDefault:function(J,a){var z=this._eventListeners[J];z?z._prevent=a:this._eventListeners[J]=z={_removal:xR,_prevent:a}},removeListener:function(J){(J=this._eventListeners[J])&&J._removal&&(J._removal(),J._removal=xR)},addListener:function(a){var J,z=this,U=z._eventListeners[a];U||(z._eventListeners[a]=U={_removal:xR,_prevent:!0}),U&&U._removal||(J=function(J){U._prevent&&DR.preventDefault(J),z.disabled||z.gv._48Q||("wheel"===a?XL(z,J):z["handle_"+a](J))},vR(z.gv.getView(),a,J),U._removal=function(){ZR(z.gv.getView(),a,J)})},handleWindowTouchMove:function(J){this.handleWindowMouseMove(J)},handleWindowMouseMove:function(J){!this.downInfo||WQ(J)&&1!==vu(J)?this.isDragging&&(this.handleDownInfo("onEndDrag",J),this.isDragging=!1):this.isDragging?this.handleDownInfo("onDrag",J):(this.handleDownInfo("onBeginDrag",J),this.isDragging=!0)},handleWindowTouchEnd:function(J){this.handleWindowMouseUp(J)},handleWindowMouseUp:function(J){var a=this;if(a.isDragging&&(a.handleDownInfo("onEndDrag",J),a.isDragging=!1),a.downInfo){var z=a.handle("onUp",J);if(z&&z.data===a.downInfo.data){a.handleMissingUp(J);var U=2===J.button?"onContextMenu":"onClick";if(z.data.s("disableDoubleClick")||!a._dbclickTimer)return a._dbDownInfo=a.downInfo,void(a._dbclickTimer=AR(function(){delete a._dbclickTimer,a.handleClick(J,U,z),a._dbDownInfo===a.downInfo&&(a.downInfo=WR,a.propagationDownInfoMap=WR),delete a._dbDownInfo},DR.clickDelay));oR(a._dbclickTimer),delete a._dbclickTimer,U="onDoubleClick",a.handleClick(J,U,z)}else a.handleDownInfo("onUp",J);a.downInfo=WR,a.propagationDownInfoMap=WR,a.downComps=WR}},handle_mouseleave:function(J){var a=this,z=a.gv,U=(a._hoverTimer&&(oR(a._hoverTimer),delete a._hoverTimer),a.currentInfo?a.currentInfo.data:WR);if(U){if(U.s("onLeave")&&U.s("onLeave")(J,U,z),a.fire("data","onLeave",J,U),z=a.currentInfo?a.currentInfo.hits:WR)for(var g in z)a.handleLeave(J,g);a.currentInfo=WR}},handle_mousewheel:function(J){J.scrollDelta=J.wheelDelta/40,this.handle("onScroll",J)},handle_DOMMouseScroll:function(J){J.scrollDelta=2===J.axis?-J.detail:0,this.handle("onScroll",J)},handle_touchstart:function(J){this.handle_mousedown(J)},handle_touchmove:function(J){this.handle("onMove",J)},handle_mousedown:function(J){var a;this.isDragging&&(this.handleDownInfo("onEndDrag",J),this.isDragging=!1),this.downComps=[],this.downInfo=this.handle("onDown",J),this.downInfo&&this!==Hr&&(a=WQ(J),Hr?a?Hr.handleWindowTouchEnd(J):Hr.handleWindowMouseUp(J):a?(vR(n,cH,Ir),vR(n,uH,er)):(vR(n,UH,Qr),vR(n,gH,vr)),Hr=this)},handle_touchend:function(J){this.handle_mouseup(J)},handle_mouseup:function(J){this.downInfo||this.isDragging||this.handle("onUp",J)},mergeExternalData:function(J,a){return a?(a.__gvnode__=J,a):J},handle_mousemove:function(J){var a=this,z=a.gv;if(a._hoverTimer&&(oR(a._hoverTimer),delete a._hoverTimer),!z._panning&&!z._moving){var U,g,V,Y=a.handle("onMove",J),c=this.currentInfo?this.currentInfo.data:WR,u=this.currentInfo?this.currentInfo.hits:WR;if(Y&&(g=Y.data,V=Y.hits,a._hoverTimer=AR(function(){oR(a._hoverTimer),delete a._hoverTimer,a.handle("onHover",J,Y)},z.getHoverDelay()||DR.hoverDelay)),g!==c){if(c&&(c.s("onLeave")&&c.s("onLeave")(J,c,z),this.fire("data","onLeave",J,c)),g&&(g.s("onEnter")&&g.s("onEnter")(J,g,z),this.fire("data","onEnter",J,g)),u)for(U in u)this.handleLeave(J,U);if(V)for(U in V){var H,M,I=V[U];(M=(H=g._interactPrefix=I.prefix)&&g.a(H+"onEnter")||I.target.onEnter)&&M.call(I.target,J,a.mergeExternalData(g,I.exData),z,I.point,I.width,I.height),this.fire(I.type,"onEnter",I.event,a.mergeExternalData(I.data,I.exData),I.image,I.comp,I.point,I),g._interactPrefix=null}}else{if(u)for(U in u)V&&V[U]||this.handleLeave(J,U);if(V)for(U in V)u&&u[U]||(I=V[U],(M=(H=g._interactPrefix=I.prefix)&&g.a(H+"onEnter")||I.target.onEnter)&&M.call(I.target,J,a.mergeExternalData(g,I.exData),z,I.point,I.width,I.height),this.fire(I.type,"onEnter",I.event,a.mergeExternalData(I.data,I.exData),I.image,I.comp,I.point,I),g._interactPrefix=null)}this.currentInfo=Y}},handle:function(J,a,z){var U,g=this.gv;if(this._is2d){if(z=z||g.getDataInfoAt(a,a.__ht_propagation_filter)){var V,Y,c,u,H=z.data;if((u=g.isInteractive(H))&&(Y=z.ui.interactiveInfo)&&(H.s(J)&&H.s(J)(a,H,g),this.fire("data",J,a,H),"body"===z.part&&Y.bodyInfo?z.hits=this.handleImage(M="body",g.getImage(H),J,a,H,z.point,Y.bodyInfo):"icons"===z.part&&Y._38o&&(V=Y._38o[z.name])&&V[z.index]&&(M="icons|"+z.name+"|"+z.index,z.hits=this.handleImage(M,z.icon,J,a,H,z.point,V[z.index]))),a[Mr]&&H.getHost&&(c=H.getHost())&&(a.__ht_propagation_filter=function(J){return J===c},M=this.handle(J,a),"onDown"===J&&M&&(this.propagationDownInfoMap||(this.propagationDownInfoMap={}),this.propagationDownInfoMap[c.getId()]=M)),u)return z}}else{if(!z)if(a&&a instanceof m.Math.Ray&&(V=g.getPresentingReality())){var M=V.intersectWorld(a),H=M.data,I=M.intersect;if(V.renderRayDuringInteraction(a,H,I),!H)return;if(!(Y=(e=g.getData3dUI(H)).interactiveInfo))return;z={data:H,part:I.part,ui:e}}else{if(!(z=g.getDataInfoDuringInteract(a)))return;z=z&&{data:z.data,part:z.part}}if(g.isInteractive(z.data)){if(!I){H=z.data;var e=g.getData3dUI(H);if(!(Y=(z.ui=e).interactiveInfo))return z}return(H.s(J)&&H.s(J)(a,H,g),this.fire("data",J,a,H),I=I||g.intersectObject(a,H))?((U=(U="body"!==(u=I.part)?H.s(u+".image")||H.s("shape3d."+u+".image"):U)||H.s("all.image")||H.s("shape3d.image"))&&(Y="object"==typeof U?Y[U.uuid]:Y[U])&&Y.bodyInfo&&(z.part="body",z.interactiveInfo=Y,z.point=this._convertUVToPoint(I.uv,Y,H,u,U),z.image=U,z.hits=this.handleImage("body",U,J,a,H,z.point,Y.bodyInfo)),z):z}}},_handleLeaveOrMissing:function(J,a,z){var U,g,V,Y,c,u="leave"===J?this.currentInfo:this.downInfo;u&&(U=u.interactiveInfo||u.ui.interactiveInfo)&&(g=u.data,this._is2d?(Y=this.gv.lp(a),"body"===u.part&&U.bodyInfo?(c="body","leave"===J?this.handleLeaveImage(z,c,this.gv.getImage(g),a,g,Y,U.bodyInfo):this.handleMissingUpImage(c,this.gv.getImage(g),a,g,Y,U.bodyInfo)):"icons"===u.part&&U._38o&&(V=U._38o[u.name])&&V[u.index]&&(c="icons|"+u.name+"|"+u.index,"leave"===J?this.handleLeaveImage(z,c,u.icon,a,g,Y,V[u.index]):this.handleMissingUpImage(c,u.icon,a,g,Y,V[u.index]))):U.bodyInfo&&(Y=(c=this.gv.intersectObject(a,g))&&c.uv?this._convertUVToPoint(c.uv,U,g,c.part,u.image):{x:1/0,y:1/0},"leave"===J?this.handleLeaveImage(z,"body",u.image,a,g,Y,U.bodyInfo):this.handleMissingUpImage("body",u.image,a,g,Y,U.bodyInfo)))},handleClick:function(J,a,z){var U,g,V,Y,c=this.downInfo;c&&z&&(U=z.interactiveInfo||z.ui.interactiveInfo,g=z.data,Y=this.gv,g.s(a)&&g.s(a)(J,g,Y),this.fire("data",a,J,g),U&&(this._is2d?c.part===z.part&&(V=Y.lp(J),"body"===z.part&&U.bodyInfo&&this.handleClickImage("body",Y.getImage(g),a,J,g,V,U.bodyInfo,z)):U.bodyInfo&&(Y=Y.intersectObject(J,g))&&(V=this._convertUVToPoint(Y.uv,U,g,Y.part,c.image),this.handleClickImage("body",c.image,a,J,g,V,U.bodyInfo,z))))},handleDownInfo:function(J,a,z){var U,g,V,Y,c,u,H,M,I=this;I.downInfo&&(U=I.gv,(z=z?U.getDataInfoAt(a,a.__ht_propagation_filter):I.downInfo)&&(g=z.interactiveInfo||z.ui.interactiveInfo)&&((Y=z.data).s(J)&&Y.s(J)(a,Y,U),I.fire("data",J,a,Y),I._is2d?(c=U.lp(a),"body"===z.part&&g.bodyInfo?I.handleDownInfoImage(V="body",U.getImage(Y),J,a,Y,c,g.bodyInfo):"icons"===z.part&&g._38o&&(u=g._38o[z.name])&&u[z.index]&&(V="icons|"+z.name+"|"+z.index,I.handleDownInfoImage(V,z.icon,J,a,Y,c,u[z.index])),a[Mr]&&Y.getHost&&(H=Y.getHost())&&(a.__ht_propagation_filter=function(J){return J===H},I.handleDownInfo(J,a,!0))):g.bodyInfo&&("onBeginDrag"===J?(M=U._raycaster.intersectObjectAndRecordTriangle(a,Y))&&(g.beginDragIntersectInfo=M.triangleInfo):M=U.intersectObject(a,Y),(M=M||("onDrag"!==J&&"onEndDrag"!==J||!g.beginDragIntersectInfo?M:U._raycaster.intersectLastTriangle(a,g.beginDragIntersectInfo)))&&(c=I._convertUVToPoint(M.uv,g,Y,M.part,z.image),I.handleDownInfoImage("body",z.image,J,a,Y,c,g.bodyInfo)))))},fire:function(J,a,z,U,g,V,Y,c){this.gv.fi({kind:a,type:J,event:z,data:U,image:g,comp:V,view:this.gv,point:Y,width:c?c.width:xR,height:c?c.height:xR})},handleImage:function(J,a,z,U,g,V,Y){return this._handleImageImpl(J,a,z,U,g,V,Y,-1,!0)},handleLeave:function(J,a){return this._handleLeaveOrMissing("leave",J,a)},handleMissingUp:function(J){if(!J["ht.ignoreMissingUp"])return this._handleLeaveOrMissing("missing",J)},_handleImageImpl:function(J,a,z,U,g,V,Y,c,u,H){var M=!1;if(-1===c)M=!0,c={};else if(!c)return;if(!a||!(a=s(a)))return c;for(var I,e=this.gv,Q=Y.rect,v=this.convertPoint(V,Y),Z=(u!==xR&&u!==v.inRect||!M&&!c[J+"|image"]||(a[z]&&a[z](U,g,e,v,Q.width,Q.height),this.fire("image",z,U,g,a,xR,v,Q),M&&(c[J+"|image"]={target:a,type:"image",image:a,data:g,event:U,point:v,width:Q.width,height:Q.height})),Y.compInfos),k=a,E=Z.length-1;0<=E;E--){var i=Z[E],w=i.comp,v=this.convertPoint(V,i,k,w,e,g);if(u===xR||u===v.inRect){var Q=i.rect,p=g._interactPrefix=i.prefix,x=this.mergeExternalData(g,i.exData),W=!!M||(H?H(J+"|"+E,w):c[J+"|"+E]);if(W&&((W=p&&g.a(p+z)||w[z])&&(I=W.call(w,U,x,e,v,Q.width,Q.height)),this.fire("comp",z,U,x,a,w,v,Q)),!0!==I&&(a=Q.image)&&(M||c[J+"|"+E+"|image"])&&(a[z]&&(I=a[z](U,x,e,v,Q.width,Q.height)),this.fire("image",z,U,x,a,xR,v,Q)),g._interactPrefix=null,M&&(c[J+"|"+E]={target:w,type:"comp",comp:w,image:a,data:g,event:U,point:v,width:Q.width,height:Q.height,prefix:p,exData:i.exData},this.downComps&&this.downComps.push(w),a&&(c[J+"|"+E+"|image"]={target:a,type:"image",image:a,data:g,event:U,point:v,width:Q.width,height:Q.height,prefix:p,exData:i.exData})),!0===I)break}}return c},handleLeaveImage:function(J,a,z,U,g,V,Y){var c={};return c[J]=!0,this._handleImageImpl(a,z,"onLeave",U,g,V,Y,c,xR)},handleMissingUpImage:function(J,a,z,U,g,V){return this._handleImageImpl(J,a,"onUp",z,U,g,V,this.downInfo.hits,!1)},handleDownInfoImage:function(J,a,z,U,g,V,Y){var c,u=this,H=0<=["onDrag","onEndDrag"].indexOf(z);if(u.downInfo){if(u.downInfo.data===g)c=u.downInfo.hits;else{if(!u.propagationDownInfoMap)return;c=u.propagationDownInfoMap[g.getId()].hits}return u._handleImageImpl(J,a,z,U,g,V,Y,c,xR,function(J,a){return H?u.downComps&&0<=u.downComps.indexOf(a):c[J]})}},handleClickImage:function(J,a,z,U,g,V,Y,c){var u=this.downInfo.hits,H=c.hits;return this._handleImageImpl(J,a,z,U,g,V,Y,u,xR,function(J){return u[J]&&H[J]})},_convertUVToPoint:function(J,a,z,U,g){if(!J)return{x:1/0,y:1/0};var V,a=a.bodyInfo.rect,U=(z&&g&&(U="body"===U?(V=z.s("shape3d.uv.scale"),z.s("shape3d.uv.offset")):(V=z.s(U+".uv.scale")||z.s("all.uv.scale"),z.s(U+".uv.offset")||z.s("all.uv.offset")),(V||U)&&(g=DR.getImage(g),z=t.isPOT(g.width)&&t.isPOT(g.height),g=J.x*(V?V[0]:1)+(U?U[0]:0),V=J.y*(V?V[1]:1)+(U?U[1]:0),z&&(g=g%1+(0<g?0:1),V=V%1+(0<V?0:1)),J.set(g,V))),J.clone());return(z=J.multiply({x:a.width,y:a.height})).local=U,z},convertPoint:function(J,a,z,U,g,V){if(!(I=a.rect))return!1;var Y=a.matrix.applyInverse(J).sub(I);if(!(0<=Y.x&&0<=Y.y&&Y.x<=I.width&&Y.y<=I.height))return Y;if(U&&_(U.pixelPerfect,V,g)){var c=1,u=!1,J=(I=this._is2d?(c=g.getZoom(),IL(J.x,J.y,xR,c)):IL(J.x,J.y)).x,H=I.y,M=I.width,I=I.height,e=M*I*c*c,Q=((Q=DR.hitMaxArea)<e&&(c*=Math.sqrt(Q/e)),J*=c,H*=c,hQ(M=(M*=c)<2?2:M,I=(I*=c)<2?2:I)),J=((e=new Hm(0,-J,-H,c,c)).append(a.matrix),g._drawForChecking=!0,U.transform=e,z.fitSize),H=(a.refRect&&a.refRect.fitSize?(U.refRect=a.refRect,z.fitSize=!0):z.fitSize=!1,z.comps);z.comps=[U],qD(Q,z,0,0,M,I,V,g),z.comps=H,z.fitSize=J,delete U.refRect,delete U.unionRect,delete U.transform,g._drawForChecking=!1;try{for(var v=0,Z=Q.getImageData(0,0,M,I).data;v<Z.length;v+=4)if(0!==Z[v+3]){u=!0;break}Q.restore()}catch(J){sQ=WR,u=!1}Y.inRect=u}else Y.inRect=!0;return Y}}),jf.DefaultInteractor=function(J){yL(kr,this,[J])}),Er=(J("DefaultInteractor",ur,{handle_mousedown:function(J){Bm(J);var a,z=this.gv,U=z.getDataAt(J);!z.setFocus(J)||z._editing||z._scrolling||(Zu(J)?z.handleDoubleClick(J,U):z.handleClick(J,U),a=eu(J),!TQ()&&!a&&U&&(z.isMovable(U)||z._39Q(U))||!z.isPannable()||!Iu(J)&&!a||Eu(J)||(this._tx=z.tx(),this._ty=z.ty(),this.startDragging(J)))},handleWindowMouseUp:function(J){var a=this.gv;a._panning&&(delete a._panning,a.onPanEnded(),this.fi({kind:"endPan",event:J})),delete this._tx,delete this._ty,this.clearDragging()},handle_mousemove:function(J){var a=this,z=a.gv;a._hoverTimer&&(oR(a._hoverTimer),delete a._hoverTimer),a._hoverTimer=AR(function(){a.fi({kind:"hover",event:J}),oR(a._hoverTimer),delete a._hoverTimer},z.getHoverDelay()||DR.hoverDelay)},handle_mouseleave:function(J){this._hoverTimer&&(oR(this._hoverTimer),delete this._hoverTimer)},handleWindowMouseMove:function(J){var a=this.gv,J=(this.fi({kind:a._panning?"betweenPan":"beginPan",event:J}),a._panning=1,Ef(a,J,this._lastClientPoint));a.setTranslate(this._tx+J.x,this._ty+J.y)},handle_mousewheel:function(J){this.gv.handleScroll(J,J.wheelDelta)},handle_DOMMouseScroll:function(J){2===J.axis&&this.gv.handleScroll(J,-J.detail)},handle_keydown:function(J){this.gv.handleKeyDown(J)}}),jf.SelectInteractor=function(J){yL(Er,this,[J])}),ir=(J("SelectInteractor",ur,{_42:function(){var J=this.gv,a=J.getZoom(),z=this.mark,U=this.div,g=(U||(U=this.div=hL(),JQ(this.getView(),U)),{});g.x=z.x*a+J.tx(),g.y=z.y*a+J.ty(),g.width=z.width*a,g.height=z.height*a,R(U,g),this.intersects()?(U.style.border="",U.style.background=J.getRectSelectBackground()):(U.style.background="",U.style.border="1px solid "+J.getRectSelectBorderColor())},checkBlockThroughContinuous:function(J,a){var z,U=this.gv,g=U.sm();return a instanceof jw&&DR.blockThroughContinuous&&(g=g.ld())&&g.isDescendantOf(a)&&(z=U.dm().getSiblings(g),(g=U.getDataAt(J,function(J){return z.contains(J)}))&&z.contains(g)&&(a=g)),a},handle_mousedown:function(J){var a,z,U=this.gv;this._57I=WR,this.pendingClickThrough=WR,U._editing||U._scrolling||TQ()||eu(J)||(a=U.getDataAt(J),z=U.sm(),a?Eu(J)?z.co(a)?z.rs(a):z.as(this.checkBlockThroughContinuous(J,a)):z.co(a)?a instanceof jw&&a.isClickThroughEnabled()&&Iu(J)&&(this.pendingClickThrough=iu(J)):z.ss(this.checkBlockThroughContinuous(J,a)):Eu(J)||!U.isPannable()?Iu(J)&&(Eu(J)||z.cs(),U.isRectSelectable()&&(this.startDragging(J),U._77O=1)):Iu(J)&&(this._57I=iu(J)))},handle_mouseup:function(J){var a,z=this.gv,U=this._57I;U&&(pu(U,iu(J))<=1&&z.sm().cs(),this._57I=WR),this.pendingClickThrough&&(pu(this.pendingClickThrough,iu(J))<=1&&(a=z.getDataAt(J))instanceof jw&&a.isClickThroughEnabled()&&(U=z.getDataAt(J,function(J){return J.getParent()===a&&z.isSelectable(J,!0)}))&&(J.clickThrough=!0,z.sm().ss(U)),this.pendingClickThrough=WR)},handleWindowMouseUp:function(J){this.clear(J)},handleWindowMouseMove:function(J){var a=this,z=a.gv;a._logicalPoint=z.lp(J),a.mark?(a.fi({kind:"betweenRectSelect",event:J}),z.isPannable()&&a.autoScroll(J),a.redraw()):a.fi({kind:"beginRectSelect",event:J}),a.mark=xu(a._lastLogicalPoint,a._logicalPoint),a.redraw()},intersects:function(){var J=this._lastLogicalPoint,a=this._logicalPoint;return J.x>a.x||J.y>a.y},clear:function(J){var a,z,U,g,V=this,Y=V.gv,c=V.mark;V._57I=WR,V.pendingClickThrough=WR,V._lastLogicalPoint&&(c&&(0===c.width||0===c.height||(c=Y.getDatasInRect(c,V.intersects())).isEmpty()||(a=Y.sm(),z=a.toSelection(),U=ku(J),g=J.altKey,c.each(function(J){a.co(J)?U&&!g||z.remove(J):(!g||U&&g)&&z.add(J)}),a.ss(z)),Fu(V.div),delete V.div,delete V.mark,V.redraw(),V.fi({kind:"endRectSelect",event:J}),Y.onRectSelectEnded()),V.clearDragging(),delete Y._77O)},redraw:function(){var J=this;J._draw||(J._draw=1,AR(function(){J.mark&&J._42(),delete J._draw},16))}}),jf.MoveInteractor=function(J){yL(ir,this,[J])}),wr=(J("MoveInteractor",ur,{handle_mousedown:function(J){var a,z=this.gv;!Iu(J)||z._editing||z._scrolling||TQ()||(!(a=z.getSelectedDataAt(J))||z._39Q(a)&&!z.isMovable(a)?z._focusData=WR:(this._data=a,z.handleMouseDown&&z.handleMouseDown(J,a),this.startDragging(J),z.isMovable(a)&&(z._moving=1)))},handleWindowMouseUp:function(J){var a=this.gv;a.handleMouseUp&&a.handleMouseUp(J,this._data),this.clear(J)},handleWindowMouseMove:function(J){var a,z,U,g,V=this,Y=V._data,c=V.gv;c._93O&&c._93O(J,Y)||c._moving&&(V._logicalPoint||V.fi({kind:"prepareMove",event:J}),a={kind:g=V._logicalPoint?"betweenMove":"beginMove",event:J},z=V._logicalPoint=c.lp(J),"beginMove"!=g||V._alreadyBeginTransaction||(V._alreadyBeginTransaction=!0,c.getDataModel().beginTransaction()),U=(g=V._calcShift(g,J)).x,g=g.y,(Y=V.gv.getMoveMode(J,Y))&&("x"===Y?g=0:"y"===Y?U=0:"xy"!==Y&&(U=g=0)),c.moveSelection(U,g),V._lastLogicalPoint=z,V.autoScroll(J),a.info={dx:U,dy:g},V.fi(a))},_calcShift:function(J,a){var z=this._logicalPoint,U=this._lastLogicalPoint;return{x:z.x-U.x,y:z.y-U.y}},clear:function(J){var a=this.gv;this._lastLogicalPoint&&(this._lastLogicalPoint=this._data=a._moving=WR,this._logicalPoint&&(this.fi({kind:"endMove",event:J}),a.onMoveEnded()),this.clearDragging()),this._alreadyBeginTransaction&&(this._alreadyBeginTransaction=!1,a.getDataModel().endTransaction())}}),jf.TextEditInteractor=function(J){yL(wr,this,[J]),this.init()}),pr=(J("TextEditInteractor",ur,{setUp:function(){wr.superClass.setUp.call(this),this.gv.mp(this.handleGvPropertyChange,this)},teatDown:function(){wr.superClass.teatDown.call(this),this.gv.ump(this.handleGvPropertyChange,this)},handleGvPropertyChange:function(J){this._editTarget&&this.endTextEdit()},init:function(){function J(J){J.stopPropagation()}var z=this,a=this.input=Q.createElement("input"),U=a.style,g=(a.text="text",U.border="1px solid #d8d8d8",U.position="absolute",U.padding="2px 3px",U.outline="none",U.marginLeft="-90px",U.marginTop="-16px",U.backgroundColor="rgba(255,255,255, 1)",U.fontSize="14px",U.width="180px",U.height="32px",U.boxShadow="0 0 13px rgba(16,142,233, 0.5)",U.textAlign="center",U.boxSizing="border-box",vR(a,"keyup",function(J){fQ(J)&&z.endTextEdit(),NQ(J)&&z.endTextEdit(!0)}),vR(a,"focus",function(J){a.select()}),this.textarea=Q.createElement("textarea")),V=this.wrap=Q.createElement("div");V.appendChild(g),(U=g.style).margin=0,U.padding="4px",U.overflow="hidden",U.boxSizing="border-box",U.position="absolute",U.outline="none",U.backgroundColor="transparent",U.resize="none",U.textAlign="center",U.fontSize="14px",U.borderWidth=0,U.width="100%",(U=V.style).boxSizing="border-box",U.margin=0,U.padding=0,U.position="absolute",U.boxShadow="0 0 13px rgba(16,142,233, 0.5)",U.border="1px solid #d8d8d8",U.backgroundColor="rgba(255,255,255, 1)",U.zIndex="10",vR(g,"keydown",function(J){(ku()||Eu())&&fQ(J)?z.endTextEdit():NQ(J)?z.endTextEdit(!0):z._editTarget instanceof Xw||z.calculateTextareaHeight(String.fromCharCode(J.keyCode))}),vR(g,"focus",function(J){g.select()}),vR(a,"mousedown",J),vR(a,"touchstart",J),vR(g,"mousedown",J),vR(g,"touchstart",J),vR(g,"click",J),z.SIZING_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],z.HIDDEN_TEXTAREA_STYLE="visibility:hidden; min-height:0 !important;max-height:none !important;height:0 !important;visibility:hidden !important;overflow:hidden !important;position:absolute !important;z-index:-1000 !important;top:0 !important;right:0 !important",z.handleWindowClick=function(J){var a=z._editingDOM;a&&(a=a.getBoundingClientRect(),J=iu(J),Du(a,J)||z.endTextEdit())}},handle_mousedown:function(J){var a,z=this.gv;Zu(J)&&!z._editing&&(J=z.getDataAt(J))&&(a=z.getTextEditInfo(J))&&(this._editInfo=a,this._editTarget=J,z._editing=!0,a.isMultiline?this.handleMultilineEdit():this.handleTextEdit())},handleMultilineEdit:function(){var J=this,a=J.gv,z=J._editTarget,U=J.getTargetValue(),g=J.textarea,V=J.wrap,Y=this._editInfo;this.hiddenTextarea||this.createHiddenTextarea(),g.value=U=null!==U&&U!==xR?U:"",Y.font&&(g.style.font=Y.font),J._editingDOM=g,a.appendHTML(V),this.layoutHTML(V,z),z instanceof Xw?g.style.height="100%":(g.style.height="auto",this.calculateTextareaHeight()),AR(function(){g.focus(),vR(n,"mousedown",J.handleWindowClick),vR(n,"touchstart",J.handleWindowClick)},10)},handleTextEdit:function(){var J=this,a=J.gv,z=J._editTarget,U=J.getTargetValue(),g=J.input;g.value=U=null!==U&&U!==xR?U:"",J._editingDOM=g,a.getView().appendChild(g),this.layoutHTML(g,z),AR(function(){g.focus(),vR(n,"mousedown",J.handleWindowClick),vR(n,"touchstart",J.handleWindowClick)},10)},layoutHTML:function(J,a){var z,U,g,V=this.gv,Y=V.getZoom();a instanceof Xw?(g=(U=V.getDataUI(a))._6I,z=J.style,J.style.left=g.x*Y+V.tx()+"px",J.style.top=g.y*Y+V.ty()+"px",J.style.width=U._6I.width+"px",J.style.height=U._6I.height+"px",HQ(z,"transform","scale("+Y+","+Y+")"),HQ(z,"transformOrigin","0px 0px")):a instanceof kw?(z=(g=a.getRect()).width*Y,J.style.left=(g.x+g.width/2)*Y+V.tx()+"px",J.style.top=(g.y+g.height/2)*Y+V.ty()+"px",J.style.width=z+"px",J.style.marginLeft=-z/2+"px"):a instanceof m.Edge&&(g=(U=V.getDataUI(a))._6I,J.style.left=(g.x+g.width/2)*Y+V.tx()+"px",J.style.top=(g.y+g.height/2)*Y+V.ty()+"px")},endTextEdit:function(J){var a=this,z=a._editInfo.isMultiline?a.wrap:a.input,U=a._editInfo.isMultiline?a.textarea:a.input;J||a.setTargetValue(U.value),a.gv.getView().removeChild(z),a.gv._editing=!1,delete a._editingDOM,delete a._editTarget,ZR(n,"mousedown",a.handleWindowClick),ZR(n,"touchstart",a.handleWindowClick)},setTargetValue:function(J){var a=this._editTarget,z=this._editInfo,U=z.accessType;(z=z.name)&&U||(U="p",z="name"),"p"===U?a[m.Default.setter(z)](J):"a"===U?a.a(z,J):a.s(z,J)},getTargetValue:function(){var J=this._editTarget,a=this._editInfo,z=a.accessType;return(a=a.name)&&z||(z="p",a="name"),"p"===z?J[m.Default.getter(a)]():"a"===z?J.a(a):J.s(a)},createHiddenTextarea:function(){this.hiddenTextarea=Q.createElement("textarea"),this.hiddenTextarea.setAttribute("style","margin:0; padding:0; position:absolute; overflowY:scroll; resize:none; box-sizing:border-box;pointer-events: none;opacity:0;"),this.hiddenTextarea.setAttribute("rows","1"),this.gv.getView().appendChild(this.hiddenTextarea)},calculateHTMLStyle:function(J,a){if(a&&this.computedStyleCache)return this.computedStyleCache;var z=n.getComputedStyle(J),J=z.getPropertyValue("box-sizing")||z.getPropertyValue("-moz-box-sizing")||z.getPropertyValue("-webkit-box-sizing"),U=parseFloat(z.getPropertyValue("padding-bottom"))+parseFloat(z.getPropertyValue("padding-top")),g=parseFloat(z.getPropertyValue("border-bottom-width"))+parseFloat(z.getPropertyValue("border-top-width")),U={sizingStyle:this.SIZING_STYLE.map(function(J){return J+":"+z.getPropertyValue(J)}).join(";"),paddingSize:U,borderSize:g,boxSizing:J};return a&&(this.computedStyleCache=U),U},calculateTextareaHeight:function(J){J=J||"";var a=this.textarea,z=this.hiddenTextarea,U=this.wrap,g=(c=this.calculateHTMLStyle(a,!1)).paddingSize,V=c.borderSize,Y=c.boxSizing,c=c.sizingStyle,c=(z.setAttribute("style",c+";"+this.HIDDEN_TEXTAREA_STYLE),z.value=a.value+J,z.scrollHeight);"border-box"===Y?c+=V:"content-box"===Y&&(c-=g),a.style.height=c+"px",U.style.height=Math.max(c,32)+"px",U.style.marginTop=-.5*c+"px"}}),jf.ScrollBarInteractor=function(J){yL(pr,this,[J])}),xr=(J("ScrollBarInteractor",ur,{_41o:function(){return this.gv.getViewRect().height<this.gv.getScrollRect().height},_40o:function(){return this.gv.getViewRect().width<this.gv.getScrollRect().width},isV:function(J){var a=this.gv.getViewRect();return this._41o()&&(a.x+a.width-this.gv.lp(J).x)*this.gv.getZoom()<Nm},isH:function(J){var a=this.gv.getViewRect();return this._40o()&&(a.y+a.height-this.gv.lp(J).y)*this.gv.getZoom()<Nm},handle_mousemove:function(J){this.handle_touchmove(J)},handle_touchmove:function(J){var a;!KQ&&Iu(J)&&this.gv.isScrollBarVisible()&&(a=this.isV(J),J=this.isH(J),(a||J)&&this.gv.showScrollBar(),this.gv._scrolling=a||J)},handleWindowMouseUp:function(J){this.handleWindowTouchEnd(J)},handleWindowTouchEnd:function(J){this._state=this._cp=this._tx=this._ty=this.gv._scrolling=WR,this.fi({kind:"endScroll",event:J})},handle_mousedown:function(J){this.handle_touchstart(J)},handle_touchstart:function(J){var a,z=this;z.gv.setFocus(J),Bm(J),z.handle_touchmove(J),1<vu(J)||!z.gv._scrolling||!z.gv.isScrollBarVisible()||(z._cp=iu(J),z._tx=z.gv.tx(),z._ty=z.gv.ty(),a=z.isV(J),z._state=a?"vScroll":"hScroll",yu(z,J),z.fi({kind:"beginScroll",event:J}))},handleWindowMouseMove:function(J){this.handleWindowTouchMove(J)},handleWindowTouchMove:function(J){var a=iu(J),z=this.gv.getViewRect(),U=this.gv.getScrollRect();"vScroll"===this._state?this.gv.ty(this._ty+(this._cp.y-a.y)*U.height/z.height):"hScroll"===this._state&&this.gv.tx(this._tx+(this._cp.x-a.x)*U.width/z.width),this.fi({kind:"betweenScroll",event:J})}}),jf.TouchInteractor=function(J,a){(a=a||{}).selectable===xR&&(a.selectable=!0),a.movable===xR&&(a.movable=!0),a.pannable===xR&&(a.pannable=!0),a.pinchable===xR&&(a.pinchable=!0),a.editable===xR&&(a.editable=!0),this.params=a,yL(xr,this,[J])});J("TouchInteractor",ur,{ms_edit:1,setUp:function(){xr.superClass.setUp.call(this),GR&&this.params.editable&&this.gv.setEditInteractor(this)},tearDown:function(){xr.superClass.tearDown.call(this),GR&&this.params.editable&&this.gv.setEditInteractor(WR)},clear:function(J){var a=this,z=a.gv;z._moving&&(a.fi({kind:"endMove",event:J}),delete z._moving,z.onMoveEnded(),z.dm().endTransaction()),z._panning&&(a.fi({kind:"endPan",event:J}),delete z._panning,z.onPanEnded()),z._pinching&&(a.fi({kind:"endPinch",event:J}),delete z._pinching,z.onPinchEnded()),z._editing&&(a._46O(J),a._77I=a._node=a._edge=a._shape=a._rect=a._89I=a._index=z._editing=WR),a.pendingClickThrough=a._moving=a._panning=a._pinching=a._editing=a._57I=a._data=a._beginHistory=WR,a.clearDragging()},handle_touchstart:function(J){var a,z,U,g,V,Y=this;Y.gv._editing||(Bm(J),Y._57I=WR,Y.pendingClickThrough=WR,a=Y.params,U=(z=Y.gv).sm(),g=z.getDataAt(J),1===(V=vu(J))?Zu(J)?z.handleDoubleClick(J,g):(z.handleClick(J,g),g&&(z.handleMouseDown&&z.handleMouseDown(J,g),Y._data=g),(g=a.selectable?g:WR)&&(U.co(g)?g instanceof jw&&g.isClickThroughEnabled()&&(Y.pendingClickThrough=iu(J)):U.ss(g),a.editable&&z.isEditable(g)&&Y._79I(J,g,!0)?(Y._editing=1,Y.startDragging(J)):a.movable&&z.isMovable(g)&&(Y._moving=1,Y.startDragging(J))),g&&(z.isMovable(g)||z._39Q(g))||(Y._57I=iu(J),a.pannable&&z.isPannable()&&(Y._panning=1,Y.startDragging(J),Y._translate={x:z.tx(),y:z.ty()}))):!a.pinchable||2!==V||!z.getEditInteractor()&&g&&(U=s(z.getImage(g)))&&_(U.scrollable,g,this)||(Y._pinching=1,Y.startDragging(J),a=z.getView(),V=z.getZoom(),U=a.getBoundingClientRect(),g=J.touches[0],a=J.touches[1],(g={x:(g.clientX+a.clientX)/2-U.left,y:(g.clientY+a.clientY)/2-U.top}).x-=z.tx(),g.y-=z.ty(),g.x/=V,g.y/=V,Y._p=g,Y._d=KW(J)))},handle_touchend:function(J){var a=this.gv,z=this._57I,U=this._data;z&&(pu(z,iu(J))<=1&&!a.getDataAt(J)&&a.sm().cs(),this._57I=WR),U&&a.handleMouseUp&&a.handleMouseUp(J,U),this.pendingClickThrough&&(pu(this.pendingClickThrough,iu(J))<=1&&(U=a.getDataAt(J))instanceof jw&&U.isClickThroughEnabled()&&(z=a.getDataAt(J,function(J){return J.getParent()===U&&a.isSelectable(J,!0)}))&&(J.clickThrough=!0,a.sm().ss(z)),this.pendingClickThrough=WR)},handleWindowTouchEnd:function(J){this.clear(J)},handleWindowTouchMove:function(J){var a,z,U=this,g=U.gv,V=vu(J);1===V?(a=iu(J),a=Ef(g,a,U._lastClientPoint),z=pu({x:0,y:0},a),U._editing&&(U._beginHistory||(U._beginHistory=1,g.dm().beginTransaction()),g._editing=1,U._78I(J)),U._moving?!g._moving&&z<DR.touchMoveThreshold||(U._beginHistory||(U._beginHistory=1,g.dm().beginTransaction()),U.handleMove(J)):!U._panning||!g._panning&&z<DR.touchMoveThreshold||(g.setTranslate(U._translate.x+a.x,U._translate.y+a.y),U.fi({kind:g._panning?"betweenPan":"beginPan",event:J}),g._panning=1)):2===V&&U._pinching&&(z=KW(J),g.handlePinch(U._p,z,U._d),U._d=z,U.fi({kind:g._pinching?"betweenPinch":"beginPinch",event:J}),g._pinching=1)},handleMove:function(J){var a,z,U,g,V=this,Y=V.gv;Y._93O&&Y._93O(J,V._data)||(U=V._logicalPoint?"betweenMove":"beginMove",a=V._logicalPoint=Y.lp(J),z=(U=V._calcShift(U,J)).x,U=U.y,(g=V.gv.getMoveMode(J,V._data))&&("x"===g?U=0:"y"===g?z=0:"xy"!==g&&(z=U=0)),Y.moveSelection(z,U),V._lastLogicalPoint=a,V.autoScroll(J),V.fi({kind:Y._moving?"betweenMove":"beginMove",event:J}),Y._moving=1)},_calcShift:function(J,a){var z=this._logicalPoint,U=this._lastLogicalPoint;return{x:z.x-U.x,y:z.y-U.y}}});var Wr,S=(m=n.ht).graph._editor={Math:m.Math,Guide:{},getStyle:function(J){var a=S.StyleMap;return a&&(a=a[J])!==xR?a:S.DefaultStyleMap[J]},setStyle:function(J,a){(S.StyleMap||(S.StyleMap={}))[J]=a},inEdit:function(J){return!0===J._inXEdit},startEdit:function(J){J._inXEdit=!0,S.Inject.doInject(J)},_46O:function(J){J._inXEdit=!1,S.Inject.undoInject(J)},toScreenPosition:function(J,a){var z=J.tx(),U=J.ty(),J=J._zoom;return new S.Math.Vector2(a.x*J+z,a.y*J+U)},checkHit:function(J,a,z){return J.distanceTo(a)<z},toWorldPosition:function(J,a){var z=J.tx(),U=J.ty(),J=J._zoom;return{x:(a.x-z)/J,y:(a.y-U)/J}},setAntialias:function(J,a){for(var z,U=["imageSmoothingEnabled","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","oImageSmoothingEnabled","msImageSmoothingEnabled"],g=0,V=U.length;g<V&&!((z=U[g])in J);g++);J[z],J[z]=a},getTargetCornersOnScreen:function(a,J){if(!J)return null;var z=[];if(xL(J,a))var U=[{x:(U=tD(a,J)).x,y:U.y},{x:U.x+U.width,y:U.y},{x:U.x+U.width,y:U.y+U.height},{x:U.x,y:U.y+U.height}];else{if(!J.getCorners)return null;U=J.getCorners()}return U.forEach(function(J){J=S.toScreenPosition(a,J),z.push(J.x,J.y)}),z},log:function(){},updateTipInfo:function(J,a,z){Wr=z?((J=m.Default.getLogicalPoint(J,a._canvas)).x+=S.Icons.TipShiftX,J.y+=S.Icons.TipShiftY,{helperPos:J,text:z,size:z.length}):WR},drawTip:function(J,a){Wr&&S.Icons.DrawIcon(a,J,S.Icons.TipHelper,Wr)}},Dr=S.Inject={_modules:[],registAsModule:function(z,U){var J,g={},a={};for(J in z){var V=U.prototype[J];g[J]=V}z.getBackup=function(J){return g[J]},z.getBackups=function(){return g},a.doInject=function(J){for(var a in z)"getBackup"!==a&&(U.prototype[a]=z[a])},a.undoInject=function(J){for(var a in z)"getBackup"!==a&&(U.prototype[a]=g[a])},Dr._modules.push(a)},doInject:function(J){for(var a=Dr._modules,z=0,U=a.length;z<U;z++)a[z].doInject(J)},undoInject:function(J){for(var a=Dr._modules,z=0,U=a.length;z<U;z++)a[z].undoInject(J)}},Kr=ur=m.graph.EditInteractor=function(J){var a=this,z=Q.createElement("canvas");z.className="editCanvas",z.style.position="absolute",a._uuid=m.Math.generateUUID(),a._styleMap={},a._canvas=z,a._context=z.getContext("2d"),ur.superClass.constructor.call(a,J),this._editDetail=!1,S.setAntialias(a._context,!1),a._subModules=a.initSubModule(),a._gridGuide=new S.Guide.Grid(a),a._rectGuide=new S.Guide.Rect(a),a._hoverGuide=new S.Guide.Hover(a)};m.Default.def(ur,m.graph.Interactor,{ms_edit:1,ms_fire:1}),pR.defineProperties(ur.prototype,{editDetail:{get:function(){return!!this._editDetail},set:function(J){var a=this._editDetail;a!==J&&(this._editDetail=J,this.gv._editing=J,this.fp("editDetail",a,J),this.fp("pointsEditingMode",a,J),this.fi({kind:J?"beginEditPoints":"endEditPoints"}))}},gvEditing:{get:function(){return this.gv._editing},set:function(J){this._editDetail&&!J||(this.gv._editing=J)||(this.editDetail=!1)}},editing:{get:function(){return this._editing},set:function(J){this._editing=J,this.gvEditing=J}},editingModule:{get:function(){return this._editMod}},pointsEditingMode:{get:function(){return this.editDetail},set:function(J){this.editDetail!==J&&(J?this._tryEnterEditDetailMode():this._tryQuitEditDetailMode())}},gridEnabled:{get:function(){return!!this._gridEnabled&&(this.gv,!0)},set:function(J){J!==this._gridEnabled&&(this._gridEnabled=J,this._42())}},alignmentGuideEnabled:{get:function(){return this._agEnabled},set:function(J){J!==this._agEnabled&&(this._agEnabled=J,this._42())}},gridGuide:{get:function(){return this._gridGuide}},rectGuide:{get:function(){return this._rectGuide}},hoverGuide:{get:function(){return this._hoverGuide}}}),ur.prototype.initSubModule=function(){return[new S.Anchor(this),new S.RotateX(this),new S.MoveDummy(this),new S.Rect(this),new S.Curve(this),new S.MoveHelper(this)]},ur.prototype.getSubModule=function(J){for(var a,z=this._subModules,U=0,g=z.length;U<g;U++)if((a=z[U]).catalog===J)return a},ur.prototype.invokeSubModule=function(J,a){for(var z,U,g=this._subModules,V=Array.prototype.slice.call(arguments,2),Y=0,c=g.length;Y<c;Y++)if((U=(z=g[Y])[J])&&U.apply(z,V)!=xR&&a)return z},ur.prototype.invokeSubModuleInverse=function(J,a){var z=this._subModules;if(z)for(var U,g,V=Array.prototype.slice.call(arguments,2),Y=z.length-1;0<=Y;Y--)if((g=(U=z[Y])[J])&&g.apply(U,V)!=xR&&a)return U},ur.prototype.setUp=function(){S.log("setUp");var J=this.gv,a=J.getView(),z=this._canvas;ur.superClass.setUp.call(this),J.setEditInteractor(this),J._79O?a.insertBefore(z,J._79O):a.appendChild(z),S.startEdit(J),this.invokeSubModule("setUp"),J.dm().mm(this._onDataModelChanged,this),J.dm().md(this._onDataPropertyChanged,this)},ur.prototype.tearDown=function(){S.log("tearDown");var J=this,a=J.gv,z=a.getView();J._resetCustomCursorStyle(),ur.superClass.tearDown.call(J),a.dm().umm(J._onDataModelChanged,J),a.dm().umd(J._onDataPropertyChanged,J),a.setEditInteractor(null),z.removeChild(J._canvas),J._drawTimer&&(oR(J._drawTimer),J._drawTimer=null),S._46O(a),J.invokeSubModule("tearDown")},ur.prototype._onDataModelChanged=function(J){("clear"===J.kind||"remove"===J.kind&&this.editDetail&&J.data===this.getSubModule("Curve").target)&&(this.editDetail=!1,this._42())},ur.prototype._onDataPropertyChanged=function(J){var a,z;this.editDetail&&(a=this.getSubModule("Curve"),(z=J.data)!==a.target||z._writing||a._handleDataChanged(J))},ur.prototype.clear=function(){S.log("clear")},ur.prototype.redraw=function(){this._42()},ur.prototype._42=function(){var J=this;J._drawTimer||(J._drawTimer=AR(function(){J._drawTimer=null,J.drawImpl()},0))},ur.prototype.drawImpl=function(){for(var c in{_42:!0})break;return function(){var J=this._canvas,a=this.gv,z=a.getWidth(),U=a.getHeight(),g=this._context,V=m.Default.getInternal(),Y=DR.devicePixelRatio,V=(J.width===z&&J.height===U||V.setCanvas(J,z,U,Y),g.clearRect(0,0,J.width,J.height),this._getValidSelection());g.save(),g.scale(Y,Y),this._gridGuide._42(),this.invokeSubModuleInverse(c,!1,g,a,V),this._rectGuide._42(),this._hoverGuide._42(),S.drawTip(g,this),g.restore()}}(),ur.prototype._getValidSelection=function(){var a=this.gv,J=a.sm().getSelection(),z=[];return J.each(function(J){a.isVisible(J)&&a.isEditable(J)&&z.push(J)}),z},ur.prototype.handle_touchmove=function(J){return this.handle_mousemove(J)},ur.prototype.handle_mousemove=function(J){m.Default.isDragging()||!this.editDetail&&(TQ()||eu(J))||this.gv._externalEditing||(this.gvEditing=!1,this._checkEdit(J)?this.gvEditing=!0:this.getStyle("hoverGuideVisible")&&(this.hoverData=this.gv.getDataAt(J)),this._42())},ur.prototype.handle_touchstart=function(J){return this.handle_mousedown(J)},ur.prototype.handle_mousedown=function(J){Bm(J);var a=this;if((a.editDetail||!TQ()&&!eu(J))&&!a.gv._externalEditing){if(Zu(J)&&!J.clickThrough){if(a.editDetail){if(a._tryQuitEditDetailMode(J))return}else if(a._tryEnterEditDetailMode())return;a.gv.dm().beginTransaction();var z=a.invokeSubModule("handleDoubleClick",!0,J);if(a.gv.dm().endTransaction(),z)return}(z=a._checkEdit(J))&&(a._downPosition=a._getLogicalPoint(J),a.gv.dm().beginTransaction(),z.startEdit(a,J),a.editing=!0)}},ur.prototype._checkEdit=function(J){var a=this.gv,z=this._getLogicalPoint(J),a=this.invokeSubModule("check",!0,a,J,z)||null;return this._editMod=a},ur.prototype.handleWindowTouchMove=function(J){return this.handleWindowMouseMove(J)},ur.prototype.handleWindowMouseMove=function(J){var a=this._downPosition;if(a){if(this._getLogicalPoint(J).distanceTo(a)<this.getStyle("moveSensitivity"))return;delete this._downPosition}(a=this._editMod)&&a.handleEdit(this.gv,J),this.redraw()},ur.prototype._getLogicalPoint=function(J){return J=m.Default.getLogicalPoint(J,this._canvas),new S.Math.Vector2(J)},ur.prototype.handleWindowTouchEnd=function(J){return this.handleWindowMouseUp(J)},ur.prototype.handleWindowMouseUp=function(){for(var a in{_46O:!0})break;return function(J){this.editing=!1,this.setCursor("default"),this.invokeSubModule(a,!1,J),this._42(),this.gv.dm().endTransaction()}}(),ur.prototype.handle_mousewheel=function(J){Bm(J),this.invokeSubModule("preHandleScroll",!0)||this.gv.handleScroll(J,J.wheelDelta)},ur.prototype.handleDelete=function(){var J;if(!this.editDetail)return this.gv.dm().beginTransaction(),J=this.invokeSubModule("handleNormalStateDelete",!0),this.gv.dm().endTransaction(),void(J||this.gv.removeSelection());this.gv.dm().beginTransaction(),this.invokeSubModule("handleDelete",!0),this.gv.dm().endTransaction(),this._42()},ur.prototype.handle_keydown=function(J){var a,z=this;return(J.metaKey||J.ctrlKey)&&z._42(),TQ(J)&&!z.editing?(z.gvEditing=!1,z.setCursor("default"),void z._42()):(a=fQ(J),z.editDetail?((a||NQ(J))&&(z.editDetail=!1,z._42()),z.gv.dm().beginTransaction(),z.invokeSubModule("handle_keydown",!0,J),void z.gv.dm().endTransaction()):(z.gv.dm().beginTransaction(),z.invokeSubModule("handleNormalStateKeyDown",!0,J),z.gv.dm().endTransaction(),void(a&&z._tryEnterEditDetailMode())))},ur.prototype.handle_keyup=function(J){this.gv.dm().beginTransaction(),this.invokeSubModule("handle_keyup",!0,J),this.gv.dm().endTransaction()},ur.prototype._tryEnterEditDetailMode=function(){if(!this.editDetail&&this.invokeSubModule("canEnterEditDetailMode",!0)&&1===this._getValidSelection().length)return this.editDetail=!0,this._42(),!0},ur.prototype._tryQuitEditDetailMode=function(J){return!(!this.editDetail||J&&!this.invokeSubModule("canQuitEditDetailMode",!0,J)||(this.editDetail=!1,this._42(),0))},ur.prototype.setStyle=function(J,a,z){z?S.setStyle(J,a):this._styleMap[J]=a,"baseColor"===J&&(Xr=a),this.fp("styleChanged",null,{key:J,value:a,base:z}),this._42()},ur.prototype.getStyle=function(J,a){var z=this._styleMap[J];return z!==xR?z:S.getStyle(J)},ur.prototype.setCursor=function(J){this._resetCustomCursorStyle(),m.graph.EditInteractor.superClass.setCursor.call(this,J)},ur.prototype._drawHostGuide=function(J){var a=this._context,z=this.gv,U=(S.Icons.DrawIcon(this,a,S.Icons.NodeHoverGuide,J.corners),J.host);if(U){var g=z.getAttachPoints(U);if(g&&g.length)for(var V=0,Y=g.length;V<Y;V++){var c=g[V],c=Zf(z,U,0,c.offsetX||0,c.offsetY||0,c.x,c.y);(c=S.toScreenPosition(z,c)).isAttach=J.attach===V,S.Icons.DrawIcon(this,a,S.Icons.AttachPoint,c)}}},ur.prototype._resetCustomCursorStyle=function(){var J;this._customStyle&&((J=this.gv.getView()).classList&&J.classList.remove&&J.classList.remove(this._customStyle),this._customStyle=null)},ur.prototype._setRotateCursor=function(J){var J=(this._cursorFactory||(this._cursorFactory=new S.CursorFactory(this))).getRotateCursor(J),a=this.gv.getView();this._resetCustomCursorStyle(),this._customStyle=J,a.classList&&a.classList.add&&a.classList.add(J)};((a=S.Group=function(J){this._entities=J,this._64O=0,this._position={x:0,y:0},this._scale={x:1,y:1},this._anchor={x:.5,y:.5},this._anchor2={x:.5,y:.5}}).prototype={}).constructor=a;var dr=null,jr=null;a.findOrCreateGroup=function(J,a){return jr===a&&dr&&dr.checkIsMe(J)?dr:(jr=a,(a=new S.Group(J)).getKeyOb()?dr=a:void 0)},a.prototype.checkIsMe=function(J){var a=this._entities;if(a.length!==J.length)return!1;for(var z={},U=J.length,g=0;g<U;g++)z[J[g]._id]=!0;for(g=0;g<U;g++)if(!z[a[g]._id])return!1;return!0},a.prototype.getRotation=function(){return this._64O},a.prototype.getPosition=function(){return this._position},a.prototype.getAnchor=function(){return this._anchor},a.prototype.getWidth=function(){return this._width},a.prototype.getScale=function(){return this._scale},a.prototype.getSize=function(){return{width:this._width,height:this._height}},a.prototype.getHeight=function(){return this._height},a.prototype.getKeyOb=function(){for(var J=this._entities,a=J.length-1;0<=a;a--){var z=J[a];if(this.isNode(z))return z}},a.prototype.getAnchor2=function(){var J=this.rotateCenter;if(J)return J;if(!(J=this.getKeyOb()))return this._anchor;var a=this._anchor2;return J.getMatrix().tf({x:J.getWidth()*(a.x-J.getAnchor().x),y:J.getHeight()*(a.y-J.getAnchor().y)})},a.prototype.setAnchor2=function(J,a){var z=this.getKeyOb();z&&(a="number"==typeof J?{x:J,y:a}:J,J=z.getMatrix().tfi(a),this._anchor2={x:z.getAnchor().x+J.x/z.getWidth(),y:z.getAnchor().y+J.y/z.getHeight()})},a.prototype.setRotation=function(J){},a.prototype.beginRotate=function(J){this.rotateCenter=J.pos,this.rotateMode=J.groupRotateMode},a.prototype.endRotate=function(){delete this.rotateCenter,delete this.rotateMode},a.prototype.addRotation=function(J,a,z){return"batch"===a?this._addRotationInBatchMode(J,z):"block"===a?this._addRotationInBlockMode(J,z):void 0},a.prototype._addRotationInBlockMode=function(U,g){var V=this,Y=V.rotateCenter||V.getPosition();V._entities.forEach(function(J){var a,z;!V.isNode(J)||g&&!g(J)||((a=J.getMatrix()).translate(-Y.x,-Y.y),a.rotate(U),a.translate(Y.x,Y.y),z=Math.sign(J.getScale().x),J.setRotation(SR(a.b*z,a.a*z)),J.setPosition(a.tx,a.ty))})},a.prototype._addRotationInBatchMode=function(g,V){var Y=this,c=Y._anchor2;Y._entities.forEach(function(J){var a,z,U;!Y.isNode(J)||V&&!V(J)||(a=J.getAnchor(),a=(U=J.getMatrix()).tf({x:J.getWidth()*(c.x-a.x),y:J.getHeight()*(c.y-a.y)}),(z=new S.Math.Matrix2d).set(U.a,U.b,U.c,U.d,U.tx,U.ty),z.translate(-a.x,-a.y),z.rotate(g),z.translate(a.x,a.y),U=Math.sign(J.getScale().x),J.setRotation(SR(z.b*U,z.a*U)),J.setPosition(z.tx,z.ty))})},a.prototype.setPosition=function(J){for(var a,z,U=this._position,g=J.x-U.x,V=J.y-U.y,Y=this._entities,c=0,u=Y.length;c<u;c++)a=Y[c],b(a)&&(z=a.getPosition(),a.setPosition(z.x+g,z.y+V));this._position=J},a.prototype.setScale=function(J,a){var z=J/this._scale.x,U=a/this._scale.y;this._adjustChildScaleOrSize(z,U,"size"),this._scale={x:J,y:a}},a.prototype.getRect=function(){var J=this._position,a=this._width,z=this._height;return{x:J.x-a/2,y:J.y-z/2,width:a,height:z}},a.prototype.setSize=function(J,a){var J=Math.max(1,J),a=Math.max(1,a),z=J/this._width,U=a/this._height;this._adjustChildScaleOrSize(z,U,"size"),this._width=J,this._height=a},a.prototype._adjustChildScaleOrSize=function(J,a,z){for(var U,g=this._position,V=this._entities,Y=new S.Math.Matrix2d,c=0,u=V.length;c<u;c++){var H,M,I,e,Q,v,Z,k=V[c];this.isNode(k)&&(H=k.getPosition(),M=k.getRotation(),I=k.getWidth(),e=k.getHeight(),v=(Q=k.getScale()).x*I,Z=Q.y*e,Y.identity().scale(v,Z).rotate(M).translate(H.x,H.y).translate(-g.x,-g.y).rotate(-this._64O),M=SR(Y.b*Math.sign(v),Y.a*Math.sign(v)),Y.scale(J,a),Z=Math.cos(M),H=Math.sin(M),v=Math.abs(Z)<.001?(U=Y.b/H,-Y.c/H):(U=Y.a/Z,Y.d/Z),"scale"===z?k.setScale(U/I,v/e):"size"===z&&(M=U/Q.x,H=v/Q.y,k.setScale(bL(U)*Math.abs(Q.x),bL(v)*Math.abs(Q.y)),k.setSize(Math.max(.1,Math.abs(M)),Math.max(.1,Math.abs(H)))),Y.rotate(this._64O).translate(g.x,g.y),k.setPosition(Y.tx,Y.ty))}},a.prototype.getMatrix=function(){var J=this._position,a=m.Default.getInternal(),z=this._scale;return new a.Mat(this._64O,J.x,J.y,z.x,z.y)},a.prototype.toGlobal=function(J){return this.getMatrix().tf(J)},a.prototype.getCorners=function(){var J=this._width,a=this._height,z=-J*(U=this._anchor).x,U=-a*U.y,g=this.getMatrix();return[g.tf(z,U),g.tf(z,U+a),g.tf(z+J,U+a),g.tf(z+J,U)]},a.prototype.calcInfo=function(){for(var J,a,z=[],U=this._entities,g=this._64O,V=0,Y=U.length;V<Y;V++)a=U[V],this.isNode(a)&&a.getCorners&&z.push.apply(z,a.getCorners());if(z.length){for(var c=Math.cos(-g),u=Math.sin(-g),H=1/0,M=-1/0,I=1/0,e=-1/0,V=0,Y=z.length;V<Y;V++)Q=(J=z[V]).x,v=J.y,J.x=c*Q-u*v,J.y=u*Q+c*v,H=Math.min(H,J.x),M=Math.max(M,J.x),I=Math.min(I,J.y),e=Math.max(e,J.y);this._width=(M-H)/this._scale.x,this._height=(e-I)/this._scale.y;var c=Math.cos(g),u=Math.sin(g),Q=H+(M-H)*(g=this._anchor).x,v=I+(e-I)*g.y;this._position={x:c*Q-u*v,y:u*Q+c*v}}},a.prototype.isNode=function(J){return!(!b(J)||xL(J)&&J.size())},a.prototype._42=function(J,a,z){var U,g,V,Y,c,u=this._entities;for("batch"===this.rotateMode&&(c=this.getKeyOb()),U=0,g=u.length;U<g;U++)V=u[U],this.isNode(V)&&(Y=V.getRect(),Y={min:S.toScreenPosition(z,{x:Y.x,y:Y.y}),max:S.toScreenPosition(z,{x:Y.x+Y.width,y:Y.y+Y.height})},V===c&&(Y.isKeyOb=!0),S.Icons.DrawIcon(J,a,S.Icons.GroupSubEntityRect,Y))},((z=S.CurveActiving=function(J,a){for(var z in this._curve=J,this._interactor=J._interactor,this.silent=!0,a)this[z]=a[z];delete this.silent}).prototype={}).constructor=z,pR.defineProperties(z.prototype,{point:{get:function(){return this._point},set:function(J){this._point=J,this.editingCtrl||this.silent||this._firePointChange()}},pairs:{get:function(){return this._pairs},set:function(J){this._pairs=J,this.editingCtrl&&!this.silent&&this._firePointChange()}}}),z.prototype._firePointChange=function(){var J,a,z=this.getCurrentEditingPoint(),U=this._interactor;z?(a=this._curve.target)&&(a=S.getDataMatrix(a).invert(),J=z.e,(z=a.apply(S.toWorldPosition(U.gv,z))).e=J,(a=this._lastFirePoint)&&Math.abs(z.x-a.x)<1e-5&&Math.abs(z.y-a.y)<1e-5&&(z.e==xR&&a.e==xR||Math.abs(z.e-a.e)<1e-5)||(this._lastFirePoint=z,U.fi({kind:"selectPoint",x:z.x,y:z.y,e:z.e}))):U.fi({kind:"selectPoint"})},z.prototype.dispose=function(){this._interactor.fi({kind:"selectPoint"})},z.prototype.getCurrentEditingPoint=function(){var J=this.editingCtrl;if(J){var a=this.pairs;if(a=(a=a&&a[J.pairId])&&a[J.type])return a}return this._point},((($R=S.CursorFactory=function(J){this._interactor=J,this._rotateCursorStyles={}}).prototype={}).constructor=$R).prototype.getRotateCursor=function(J){J<0&&(J+=2*Math.PI);var a=(z=this._interactor).getStyle("rotateCursorSize"),z=z.getStyle("rotateCursorRound"),J=Math.round(J/Math.PI*180/z),U=this._rotateCursorStyles,g="htCustomRotateStyle_"+a+"_"+z+"_"+(J=360<=J*z?0:J);return U[g]||(this._produceRotateCursor(g,a,z,J),U[g]=!0),g},$R.prototype._produceRotateCursor=function(J,a,z,U){this._interactor;var g=(g=this._canvas)||(this._canvas=Q.createElement("canvas")),V=DR.devicePixelRatio,Y=(g.width=g.height=a*V,g.style.width=g.style.height=a+" px",g.getContext("2d"));S.setAntialias(Y,!1),Y.scale(V,V);var c=(c=Math.round(a/2))+" "+c+",auto !important;",U=Math.PI/180*U*z;Y.clearRect(0,0,a,a),Y.save(),Y.scale(a/32,a/32),Y.translate(16,15),Y.rotate(U+Math.PI/2),Y.beginPath(),Y.moveTo(-8,0),Y.lineTo(-8,4),Y.lineTo(-4,4),Y.moveTo(8,0),Y.lineTo(8,4),Y.lineTo(4,4),Y.moveTo(-8,4),Y.quadraticCurveTo(0,-6,8,4),Y.restore(),Y.lineCap="round",Y.lineJoin="miter",Y.strokeStyle="white",Y.lineWidth=4,Y.stroke(),Y.strokeStyle="black",Y.lineWidth=2,Y.stroke(),U="cursor:url("+(z=JSON.stringify(g.toDataURL()))+")"+c,1!==V&&(U=U+("cursor:url(data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+a+'px" height="'+a+'px"><image xlink:href='+z+' width="'+a+'" height="'+a+'"/></svg>'))+")"+c+"cursor:-webkit-image-set(url("+z+")"+V+"x,url("+z+")1x)"+c),(Y=Q.createElement("style")).textContent="body."+J+" *, ."+J+"{"+U+"}",Q.head.appendChild(Y)},((qw=S.Guide.Grid=function(J){this._interactor=J,this._alignmentGuideId=0,this._xAlignmentGuide=[],this._yAlignmentGuide=[]}).prototype={}).constructor=qw,pR.defineProperties(qw.prototype,{gridBlockSize:{get:function(){return this._gridBlockSize||this._interactor.getStyle("gridBlockSize")},set:function(J){this._gridBlockSize=J,this._interactor._42()}},gridThickLinesEvery:{get:function(){return this._gridThickLinesEvery||this._interactor.getStyle("gridThickLinesEvery")},set:function(J){this._gridThickLinesEvery=J,this._interactor._42()}},gridEnabled:{get:function(){return this._interactor.gridEnabled&&this.isValidGrid()}}}),qw.prototype._42=function(){var J=this._interactor;this.gridEnabled&&this.drawGrid(),J.alignmentGuideEnabled&&this.drawAlignmentGuide()},qw.prototype.makeMatrix=function(){var J=this._interactor.getStyle("gridAngle"),a=this._interactor.getStyle("gridRotation"),z=new S.Math.Matrix2d,U=Math.sin(J),J=Math.cos(J);return z.set(1,0,J,U,0,0),z.rotate(a),z},qw.prototype.isValidGrid=function(){var J=Math.PI,a=this._interactor;return!(a.gv._zoom<a.getStyle("gridZoomThreshold"))&&(a=a.getStyle("gridAngle"),!((a=Math.abs(a%J/J*180))<1-1e-8||179.00000001<a))},qw.prototype.drawAlignmentGuide=function(){var J=this._interactor,a=J.gv,z=J._canvas,U=J._context,g=z.width,V=z.height,Y=a.tx(),c=a.ty(),u=a._zoom;U.beginPath(),U.strokeStyle=J.getStyle("gridAlignmentGuideColor"),U.lineWidth=1,this._xAlignmentGuide.forEach(function(J){J=J.p*u+Y,U.moveTo(J,0),U.lineTo(J,V)}),this._yAlignmentGuide.forEach(function(J){J=J.p*u+c,U.moveTo(0,J),U.lineTo(g,J)}),U.stroke()},qw.prototype.drawGrid=function(){var J,a,z,U=this._interactor,g=this.gridBlockSize,V=this.gridThickLinesEvery,Y=U.getStyle("gridThickColor"),c=U.getStyle("gridLightColor"),u=U.gv,H=U._canvas,M=U._context,U=H.width,H=H.height,I=this.makeMatrix(),e=I.applyInverse(S.toWorldPosition(u,{x:0,y:0})),Q=I.applyInverse(S.toWorldPosition(u,{x:U,y:0})),v=I.applyInverse(S.toWorldPosition(u,{x:0,y:H})),U=I.applyInverse(S.toWorldPosition(u,{x:U,y:H})),Z=Math.min(e.x,Q.x,v.x,U.x),k=Math.max(e.x,Q.x,v.x,U.x),E=Math.min(e.y,Q.y,v.y,U.y),i=Math.max(e.y,Q.y,v.y,U.y),H=Math.ceil(Z/g),w=Math.floor(k/g),e=Math.ceil(E/g),p=Math.floor(i/g);function x(J,a,z,U){J=S.toScreenPosition(u,I.apply({x:J,y:a})),a=S.toScreenPosition(u,I.apply({x:z,y:U})),M.moveTo(J.x,J.y),M.lineTo(a.x,a.y)}for(u.tx(),u.ty(),u._zoom,M.save(),M.lineWidth=1,M.beginPath(),M.strokeStyle=Y,z=Math.ceil(H/V)*V;z<=w;z+=V)x(J=z*g,E,J,i);for(z=Math.ceil(e/V)*V;z<=p;z+=V)x(Z,a=z*g,k,a);for(M.stroke(),M.beginPath(),M.strokeStyle=c,z=H;z<=w;z++)z%V!=0&&x(J=z*g,E,J,i);for(z=e;z<=p;z++)z%V!=0&&x(Z,a=z*g,k,a);M.stroke(),M.restore()},qw.prototype.getAlignmentGuides=function(){return{x:this._xAlignmentGuide,y:this._yAlignmentGuide}},qw.prototype.addAlignmentGuide=function(J,a,z){var U,J="x"===J?this._xAlignmentGuide:this._yAlignmentGuide,a={p:a,id:z=z||++this._alignmentGuideId};return J.length?(U=this._findClosestAlignmentGuide(a.p,J)).dis<0?J.splice(U.index+1,0,a):J.splice(U.index,0,a):J.push(a),this._interactor._42(),z},qw.prototype.findClosest=function(J,a,z){var U=this._interactor,g=U.gv,V=1/0,Y=1/0,c=(J=z?S.toWorldPosition(g,J):J).x,u=J.y;if(this.gridEnabled&&(M=this.gridBlockSize,J=(H=this.makeMatrix()).applyInverse(J),V=(J=H.apply({x:Math.round(J.x/M)*M,y:Math.round(J.y/M)*M})).x-c,Y=J.y-u,H=!0),U.alignmentGuideEnabled&&(M=this._findClosestAlignmentGuide(c,this._xAlignmentGuide).dis,J=this._findClosestAlignmentGuide(u,this._yAlignmentGuide).dis,Math.abs(M)<Math.abs(V)&&(V=M,H=!0),Math.abs(J)<Math.abs(Y)&&(Y=J,H=!0)),H){var H=!1,c=g._zoom,u=U.getStyle("smartGuideThreshold")/c,M={};if(Math.abs(V)<u&&"y"!==a&&(M.x=z?V*c:V,H=!0),Math.abs(Y)<u&&"x"!==a&&(M.y=z?Y*c:Y,H=!0),H)return M}},qw.prototype._findClosestAlignmentGuide=function(J,a){if(!a.length)return{dis:1/0};for(var z,U=0,g=a.length-1;1<g-U;)a[z=Math.floor((U+g)/2)].p<J?U=z:g=z;var V=a[U].p-J,Y=a[g].p-J;return Math.abs(V)<=Math.abs(Y)?{line:a[U],dis:V,index:U}:{line:a[g],dis:Y,index:g}},qw.prototype.removeAllAlignmentGuide=function(J){"y"!==J&&(this._xAlignmentGuide=[]),"x"!==J&&(this._yAlignmentGuide=[]),this._interactor._42()},qw.prototype.removeAlignmentGuide=function(J){for(var a,z,U,g=this._xAlignmentGuide,V=0;V<2;V++)for(z=(g=(a=0)===V?this._xAlignmentGuide:this._yAlignmentGuide).length;a<z;a++)if((U=g[a]).id===J)return g.splice(a,1),this._interactor._42(),{axis:0===V?"x":"y",position:U.p};return!1},qw.prototype.adjustAlignmentGuide=function(J,a){var z=this.removeAlignmentGuide(J);return!!z&&(this.addAlignmentGuide(z.axis,a,J),!0)},(((J=S.Guide.Rect=function(J){this._interactor=J}).prototype={}).constructor=J).prototype.gatherRects=function(){var U,g,V,Y,c=this._interactor.gv,u=[],H=[],J={x:u,y:H},M={},a=c.getDataModel(),z=a.a("width"),I=a.a("height");z&&I&&(g=U=0,V=z,Y=I,u.push({node:a,type:0,p:U},{node:a,type:1,p:U+V/2},{node:a,type:2,p:U+V}),H.push({node:a,type:0,p:g},{node:a,type:1,p:g+Y/2},{node:a,type:2,p:g+Y}),M[a._id||0]={x:U,y:g,width:V,height:Y}),a.each(function(a){var z,J;b(a)&&!c.isSelected(a)&&c.isVisible(a)&&c.isValidGuideLineSource(a)&&(z=!1,c.sm().getSelection().each(function(J){z||(a.isHostOn(J)||a.isDescendantOf(J))&&(z=!0)}),z||(J=a.getRect(),U=J.x,g=J.y,V=J.width,Y=J.height,u.push({node:a,type:0,p:U},{node:a,type:1,p:U+V/2},{node:a,type:2,p:U+V}),H.push({node:a,type:0,p:g},{node:a,type:1,p:g+Y/2},{node:a,type:2,p:g+Y}),M[a._id]=J))}),u.sort(function(J,a){return J.p-a.p}),H.sort(function(J,a){return J.p-a.p}),this._grid=J,this._87I=M},J.prototype.gatherLines=function(J,a,z){var U,g,V,Y,c,u,H,M,I,e=[this.findClosest({x:J.x,y:J.y},a),this.findClosest({x:J.x+J.w/2,y:J.y+J.h/2},a),this.findClosest({x:J.x+J.w,y:J.y+J.h},a)],Q={},v=this._87I;for(z=z||255,this._guideLine=[],U=0;U<2;U++)for(Q={},H=0===U?(Y="y",(u=J.x)+J.w):(Y="x",(u=J.y)+J.h),g=0;g<3;g++)(c=e[g])&&isFinite(c[Y])&&z&1<<3*U+g&&(Q[I=(c=c[Y+"Line"]).node._id||0]||(Q[I]=!0,I=v[I],I="y"===Y?(M=I.x,I.x+I.width):(M=I.y,I.y+I.height),V=c.p,this._guideLine.push({type:Y,a:u,b:H,c:M,d:I,p:V,center:1===c.type})))},J.prototype._binarySearchClosest=function(J,a){if(!a.length)return{dis:1/0};for(var z,U=0,g=a.length-1;1<g-U;)a[z=Math.floor((U+g)/2)].p<J?U=z:g=z;var V=a[U].p-J,Y=a[g].p-J;return Math.abs(V)<=Math.abs(Y)?{line:a[U],dis:V}:{line:a[g],dis:Y}},J.prototype.findClosest=function(J,a,z){var U,g=(u=this._interactor).gv,V=this._grid,Y=(z&&(J=S.toWorldPosition(g,J)),this._binarySearchClosest(J.x,V.x)),J=this._binarySearchClosest(J.y,V.y),V=Y.dis,c=J.dis,g=g._zoom,u=u.getStyle("smartGuideThreshold")/g,H={};if(Math.abs(V)<u&&"y"!==a&&(H.x=z?V*g:V,H.xLine=Y.line,U=!0),Math.abs(c)<u&&"x"!==a&&(H.y=z?c*g:c,H.yLine=J.line,U=!0),U)return H},J.prototype._42=function(){var J=this._guideLine;if(J&&!m.Default.isCtrlDown()){var a=this._interactor;if(a.getStyle("guideLineVisible"))for(var z,U,g,V,Y,c,u,H,M,I,e,Q,v,Z=a.gv,k=a._context,E=Z.tx(),i=Z.ty(),w=Z._zoom,p=a.getStyle("guideLineTextSpacing"),x=0,W=J.length;x<W;x++)Y=(z=J[x]).type,c=z.p,u=z.a,H=z.b,M=z.c,I=z.d,e=Math.min(u,M),Q=Math.max(H,I),c="x"===Y?(g=e*w+i,V=U=c*w+E,Q*w+i):(U=e*w+E,V=Q*w+E,g=c*w+i),S.Icons.DrawIcon(a,k,S.Icons.MoveLineGuide,{rect:[U,g,V,c],center:z.center}),u<=I&&M<=H||(e=I<u?I:H,Q=I<u?u:M,"x"===Y?(z.center2center||(V=U-=p),g=e*w+i,c=Q*w+i,v=S.Icons.MoveLineGuideDistanceV):"y"===Y&&(z.center2center||(c=g-=p),U=e*w+E,V=Q*w+E,v=S.Icons.MoveLineGuideDistanceH),S.Icons.DrawIcon(a,k,v,{x0:U,y0:g,x1:V,y1:c,dis:Q-e}))}},J.prototype.clear=function(){this._guideLine=null};((a=S.Guide.Hover=function(J){this._interactor=J}).prototype={}).constructor=a,pR.defineProperties(a.prototype,{}),a.prototype._42=function(){var J,a,z,U=this._interactor;U.getStyle("hoverGuideVisible")&&!U.gvEditing&&(J=U.hoverData,z=U.gv,!b(J)||z.isSelected(J)?U.hoverData=null:(J=tD(z,J),a=S.toScreenPosition(z,{x:J.x,y:J.y}),z=S.toScreenPosition(z,{x:J.x+J.width,y:J.y+J.height}),S.Icons.DrawIcon(U,U._context,S.Icons.HoverDataRect,{min:a,max:z,color:U.getStyle("hoverGuideColor")||U.getStyle("baseColor"),borderWidth:U.getStyle("hoverGuideBorderWidth")||1,borderPattern:U.getStyle("hoverGuideBorderPattern")||[1,4]})))},S.DefaultStyleMap={baseColor:"rgb(51,153,255)",pointSize:[24,9],checkSize:7,rotateCheckSize:10,moveSensitivity:10,moveDummyThreshold:32,moveDummyPosition:[0,0,-16,-16],moveDummyLineExtraShift:[-32,0],moveDummySensitivity:16,keepAspectRatio:!1,rotateRound:Math.PI/2,shiftRotateRound:Math.PI/12,rotateSensitivity:Math.PI/60,rotateAsClock:!1,rotateTipVisible:!0,shiftLineRotateRound:Math.PI/4,anchorMovable:!0,anchorVisible:!0,anchorHideThreshold:25,anchorOutsideVisibleThreshold:.25,anchorRound:.25,anchorSensitivity:.02,smartGuideThreshold:8,curveIntersectSize:5,curvePointIntersectSize:8,edgeHostDetectPerFrame:!0,edgeHostEdgeMaxDistance:12,edgeHostEdgeHighlighColor:"#5d5d5d",edgeHostPointHighlighColor:"red",edgeHostHighlighPeriod:1500,edgeElevationEditable:!1,attachThreshold:25,guideLineVisible:!0,guideLineTextSpacing:0,hoverGuideVisible:!1,hoverGuideColor:null,gridBlockSize:40,gridThickLinesEvery:10,gridThickColor:"#5d5d5d",gridLightColor:"#d0d0d0",gridZoomThreshold:.25,gridAlignmentGuideColor:"#ff0000",gridAngle:Math.PI/2,gridRotation:0,groupRotateModeDefault:"block",groupRotateModeKey:["ctrlKey","metaKey"],rotateCursorSize:32,rotateCursorRound:45,tipTextColor:"#ffffff",tipBackground:"#333333",curveHighlightColor:"#30599e",rectPointBackground:"white",rectPointBorderColor:"#666666",rectPointShadowColor:"rgba(0,0,0,0.35)",shapeCtrlPointBackground:"white",shapeCtrlPointBorderColor:null,shapeCtrlPointHighlightBorder:null,shapeHighlighPointBackground:"#30599e",curveElevationVisible:!0,curveElevationIntersectSize:8,curveElevationGuideShift:[20,0],curveTipVisible:!0,connectGuideVisible:!0,connectGuideShift:[1,.25,8,0],connectGuideIntersectSize:8,connectGuideGarbageIntersectsize:25,connectGuideGarbageShift:[1,1,-48,-48],moveHelperFilter:WR,rectEditHelperFilter:WR,layoutGuideVisible:!0};var g=S.Icons={},qr=null,Xr=S.DefaultStyleMap.baseColor,Rr="rgb(255,204,153)",Cr=(m.Default.setImage("Icons.RectPoint",{width:6,height:6,comps:[{type:"rect",background:"rgb(247,247,247)",borderWidth:1,borderColor:{func:function(){return Xr}},rect:[0,0,6,6]}]}),g.GroupSubEntityRect={comps:[{type:"shape",points:{func:function(){if(!(a=g.GroupSubEntityRect.data))return[];var J=a.min,a=a.max;return[J.x,J.y,J.x,a.y,a.x,a.y,a.x,J.y]}},segments:[1,2,2,2,5],background:null,borderWidth:1,borderColor:{func:function(){return g.GroupSubEntityRect.data.isKeyOb,Xr}}}]},g.HoverDataRect={comps:[{type:"shape",points:{func:function(){if(!(z=g.HoverDataRect.data))return[];var J=z.min,a=z.max,z=z.gap;return J.x-=z=z===xR?4:z,J.y-=z,a.x+=z,a.y+=z,[J.x,J.y,J.x,a.y,a.x,a.y,a.x,J.y]}},segments:[1,2,2,2,5],background:null,borderWidth:{func:function(){return g.HoverDataRect.data.borderWidth}},borderColor:{func:function(){return g.HoverDataRect.data.color}},borderCap:"butt",borderPattern:{func:function(){return g.HoverDataRect.data.borderPattern}}}]},g.Line={comps:[{type:"image",name:"Icons.RectPoint",rect:{func:function(){return[[g.Line.data.P1.x,g.Line.data.P1.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rect:{func:function(){return[[g.Line.data.P2.x,g.Line.data.P2.y],6,6]}}}]},g.NodeHoverGuide={comps:[{type:"shape",points:{func:function(){return g.NodeHoverGuide.data}},segments:[1,2,2,2,5],background:null,borderWidth:1,borderColor:"#3399FF"}]},g.Rect={comps:[{type:"shape",points:{func:function(){if(!(U=g.Rect.data))return[];var J=U.LT,a=U.LB,z=U.RB,U=U.RT;return[J.x,J.y,a.x,a.y,z.x,z.y,U.x,U.y]}},segments:[1,2,2,2,5],background:null,borderWidth:1,borderColor:{func:function(){return Xr}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return g.Rect.data.rotation}},rect:{func:function(){return[[g.Rect.data.LT.x,g.Rect.data.LT.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return g.Rect.data.rotation}},rect:{func:function(){return[[g.Rect.data.LB.x,g.Rect.data.LB.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return g.Rect.data.rotation}},rect:{func:function(){return[[g.Rect.data.RB.x,g.Rect.data.RB.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return g.Rect.data.rotation}},rect:{func:function(){return[[g.Rect.data.RT.x,g.Rect.data.RT.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return g.Rect.data.rotation}},visible:{func:function(){return!!g.Rect.data.L}},rect:{func:function(){return[[g.Rect.data.L.x,g.Rect.data.L.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return g.Rect.data.rotation}},visible:{func:function(){return!!g.Rect.data.R}},rect:{func:function(){return[[g.Rect.data.R.x,g.Rect.data.R.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return g.Rect.data.rotation}},visible:{func:function(){return!!g.Rect.data.T}},rect:{func:function(){return[[g.Rect.data.T.x,g.Rect.data.T.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return g.Rect.data.rotation}},visible:{func:function(){return!!g.Rect.data.B}},rect:{func:function(){return[[g.Rect.data.B.x,g.Rect.data.B.y],6,6]}}}]},m.Default.setImage("Icons.Anchor",{width:12,height:12,comps:[{type:"shape",borderWidth:1,borderColor:{func:function(){return Xr}},borderCap:"round",shadowColor:"#1ABC9C",points:[.50928,6,11.49072,6,6,6,6,.50928,6,11.49072]},{type:"circle",borderWidth:1,borderColor:{func:function(){return Xr}},shadowColor:"#1ABC9C",rect:[2.84391,2.84391,6.53697,6.53697]}]}),g.Anchor={comps:[{type:"image",name:"Icons.Anchor",rect:{func:function(){return[[g.Anchor.data.POS.x,g.Anchor.data.POS.y],16,16]}}}]},g.TipShiftX=12,g.TipShiftY=12,[8,28]);g.TipHelper={comps:[{type:"roundRect",rect:{func:function(){return[g.TipHelper.data.helperPos.x,g.TipHelper.data.helperPos.y,Cr[0]*g.TipHelper.data.size,Cr[1]]}},background:{func:function(){return qr.getStyle("tipBackground")}},opacity:.6},{type:"text",text:{func:function(){return g.TipHelper.data.text}},rect:{func:function(){return[g.TipHelper.data.helperPos.x,g.TipHelper.data.helperPos.y,Cr[0]*g.TipHelper.data.size,Cr[1]]}},color:{func:function(){return qr.getStyle("tipTextColor")}},font:"bold 12px Arial",align:"center"}]},g.ShapePoint={comps:[{type:"circle",visible:{func:function(){return!!g.ShapePoint.data.dynamicVisible}},rect:{func:function(){var J=g.ShapePoint.data.point,a=g.ShapePoint.data.size||7;return[J,a+10,a+10]}},background:{func:function(){var J=Date.now(),a=g.ShapePoint.data.dynamicPeriod||1500;return"rgba(27,124,22,"+.5*Math.sin(J%a/a*Math.PI)+")"}},borderWidth:0},{type:"circle",rect:{func:function(){var J=g.ShapePoint.data.point,a=g.ShapePoint.data.size||7;return[J,a,a]}},background:{func:function(){return g.ShapePoint.data.isEnd?"rgba(27,124,222,0.7)":"#ffffff"}},borderWidth:1,borderColor:{func:function(){return g.ShapePoint.data.color||Xr}}},{type:"rect",visible:{func:function(){return!!g.ShapePoint.data.dynamicVisible}},background:"red",borderWidth:0,rotation:Math.PI/4,borderColor:{func:function(){return Xr}},rect:{func:function(){return[g.ShapePoint.data.point,5,5]}}}]},g.ShapeBgCurve={comps:[{type:"shape",visible:{func:function(){return!!g.ShapeBgCurve.data.dynamicVisible}},points:{func:function(){return g.ShapeBgCurve.data.P}},segments:{func:function(){return g.ShapeBgCurve.data.S}},background:null,borderWidth:6,borderColor:{func:function(){var J=Date.now(),a=g.ShapeBgCurve.data.dynamicPeriod||1500;return"rgba(27,124,22,"+.3*Math.sin(J%a/a*Math.PI)+")"}}},{type:"shape",points:{func:function(){return g.ShapeBgCurve.data.P}},segments:{func:function(){return g.ShapeBgCurve.data.S}},background:null,borderWidth:1,borderColor:{func:function(){return g.ShapeBgCurve.data.color||Xr}}}]},g.ShapeHighlighPoint={comps:[{type:"circle",rect:{func:function(){var J=g.ShapeHighlighPoint.data;return[[J.x,J.y],8,8]}},background:{func:function(){return qr.getStyle("shapeHighlighPointBackground")}},borderWidth:0}]},g.ShapeHighlighRealPoint={comps:[{type:"circle",rect:{func:function(){var J=g.ShapeHighlighRealPoint.data;return[[J.x,J.y],10,10]}},background:"#ffffff",borderWidth:2,borderColor:{func:function(){return Xr}}}]},g.ShapeHighlighCtrlPoint={comps:[{type:"shape",points:{func:function(){var J=g.ShapeHighlighCtrlPoint.data,a=J.x;return[a-4,(J=J.y)-4,a-4,J+4,a+4,J+4,a+4,J-4]}},segments:[1,2,2,2,5],borderWidth:2,background:{func:function(){return qr.getStyle("shapeCtrlPointBackground")}},borderColor:{func:function(){return qr.getStyle("shapeCtrlPointBorderColor")||Xr}}}]},g.ShapeHighlightCurve={comps:[{type:"shape",points:{func:function(){return g.ShapeHighlightCurve.data}},segments:[1,4],background:null,borderWidth:3,borderColor:{func:function(){return qr.getStyle("curveHighlightColor")}}}]},g.ShapeGuideLine={comps:[{type:"shape",points:{func:function(){return g.ShapeGuideLine.data}},background:null,borderWidth:1,borderColor:"rgb(255,204,153)"}]},g.MoveLineGuide={comps:[{type:"shape",points:{func:function(){return g.MoveLineGuide.data.rect}},background:null,borderWidth:1,borderColor:{func:function(){return g.MoveLineGuide.data.center?"rgb(183,232,135)":Rr}}}]},g.MoveLineGuideDistanceH={comps:[{type:"shape",points:{func:function(){var J=g.MoveLineGuideDistanceH.data,a=J.x0;return[a,(J=J.y0)-5,a,J+5]}},rotation:-Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:Rr},{type:"shape",points:{func:function(){var J=g.MoveLineGuideDistanceH.data,a=J.x1;return[a,(J=J.y1)-5,a,J+5]}},rotation:-Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:Rr},{type:"text",text:{func:function(){return Math.round(g.MoveLineGuideDistanceH.data.dis)}},rect:{func:function(){var J=g.MoveLineGuideDistanceH.data;return[[(J.x0+J.x1)/2,J.y0-10],20,20]}},color:Rr,font:"12px Arial",align:"center"}]},g.MoveLineGuideDistanceV={comps:[{type:"shape",points:{func:function(){var J=g.MoveLineGuideDistanceV.data,a=J.x0;return[a-5,J=J.y0,a+5,J]}},rotation:Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:Rr},{type:"shape",points:{func:function(){var J=g.MoveLineGuideDistanceV.data,a=J.x1;return[a-5,J=J.y1,a+5,J]}},rotation:Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:Rr},{type:"text",text:{func:function(){return Math.round(g.MoveLineGuideDistanceV.data.dis)}},rect:{func:function(){var J=g.MoveLineGuideDistanceV.data;return[[J.x0-10,(J.y0+J.y1)/2],20,20]}},color:Rr,font:"12px Arial",align:"center"}]},m.Default.setImage("Icons.EdgeElevationGuideImage",{width:16,height:16,comps:[{type:"oval",background:"rgb(255,255,255)",borderWidth:1,borderColor:"rgb(138,138,138)",rect:[.5,.5,15,15]},{type:"shape",borderWidth:2,borderColor:"rgb(44,44,44)",borderCap:"round",points:[4,8,8,4,12,8,8,4,8,13],segments:[1,2,2,1,2]}]}),g.EdgeElevationGuide={comps:[{type:"image",name:"Icons.EdgeElevationGuideImage",rect:{func:function(){var J=(a=g.EdgeElevationGuide.data).x,a=a.y,z=qr.getStyle("curveElevationIntersectSize"),U=qr.getStyle("curveElevationGuideShift");return[(J+=U[0])-z,(a+=U[1])-z,2*z,2*z]}}}]},m.Default.setImage("Icons.ConnectGuideBgImage",{width:12,height:12,comps:[{type:"shape",background:"#3399ff",fillRule:"evenodd",shadowColor:"#1ABC9C",rotation:3.14159,points:[6.00001,11.99999,6.00001,11.99999,2.6863,11.99999,1e-5,9.30695,1e-5,5.99999,1e-5,5.99999,1e-5,2.68628,2.69305,-1e-5,6.00001,-1e-5,12.00001,-1e-5,11.99998,12.00001,6.00001,11.99999],segments:[1,2,4,2,4,2,2,2]}]}),m.Default.setImage("Icons.ConnectGuideHeaderImage",{width:12,height:12,comps:[{type:"oval",background:"#3399FF",borderColor:"#3399FF",shadowColor:"#1ABC9C",rect:[0,0,12,12]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[4.76,2.56,8.2,5.98,4.76,9.44]}]}),g.ConnectGuide={comps:[{type:"image",name:"Icons.ConnectGuideBgImage",rotation:{func:function(){return g.ConnectGuide.data.rotation}},rect:{func:function(){var J=g.ConnectGuide.data.connect,a=(J.x,J.y,qr.getStyle("connectGuideIntersectSize"));return[[J.x,J.y],2*a,2*a]}}},{type:"image",name:"Icons.ConnectGuideHeaderImage",rect:{func:function(){var J=g.ConnectGuide.data.cursorPos||g.ConnectGuide.data.connect,a=qr.getStyle("connectGuideIntersectSize");return[[J.x,J.y],2*a-2,2*a-2]}}},{type:"shape",background:null,borderColor:"#3399ff",borderWidth:2,segments:[1,4],points:{func:function(){var J=g.ConnectGuide.data.connect,a=g.ConnectGuide.data.cursorPos||J;return[J.x,J.y,J.x+.5*(a.x-J.x),J.y,a.x+.5*(J.x-a.x),a.y,a.x,a.y]}}}]},m.Default.setImage("Icons.ConnectGuideGarbageImage",{width:48,height:48,comps:[{type:"oval",background:"rgba(0,0,0,0.1)",borderColor:"#979797",shadowColor:"#1ABC9C",rect:[0,0,48,48]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[19.84721,19.69091,19.84721,32.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[24.10371,19.69091,24.10371,32.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[28.15279,19.69091,28.15279,32.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[11.23055,15.22377,36.76945,15.189,19.12302,15.17121,20.94722,11.5228,26.41985,11.5228,28.24406,15.17121]},{type:"rect",borderWidth:2,borderColor:"rgb(255,255,255)",shadowColor:"#1ABC9C",rect:[15.48702,15.22377,17.02595,21.25344]}]}),m.Default.setImage("Icons.ConnectGuideDeletingImage",{width:56,height:56,comps:[{type:"oval",background:"rgba(232,0,0,0.75)",borderColor:"#979797",shadowColor:"#1ABC9C",rect:[0,0,56,56]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[22.67939,27.69091,22.67939,40.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[26.93588,27.69091,26.93588,40.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[30.98497,27.69091,30.98497,40.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",anchorX:0,anchorY:1,rotation:5.65062,points:[14.06272,23.22377,39.60163,23.189,21.9552,23.17121,23.7794,19.5228,29.25203,19.5228,31.07623,23.17121]},{type:"rect",borderWidth:2,borderColor:"rgb(255,255,255)",shadowColor:"#1ABC9C",rect:[18.3192,23.22377,17.02595,21.25344]}]}),g.ConnectGuideGarbage={comps:[{type:"image",name:{func:function(){return g.ConnectGuideGarbage.data.hover?"Icons.ConnectGuideDeletingImage":"Icons.ConnectGuideGarbageImage"}},rect:{func:function(){var J=g.ConnectGuideGarbage.data,a=qr.getStyle("connectGuideGarbageIntersectsize");return J.hover&&(a+=5),[[J.x,J.y],2*a,2*a]}}}]},g.ShapeActivingCtrl={comps:[{type:"shape",visible:{func:function(){return!!g.ShapeActivingCtrl.data.c1}},points:{func:function(){var J=g.ShapeActivingCtrl.data;return[J.point.x,J.point.y,J.c1.x,J.c1.y]}},segments:[1,2],background:null,borderWidth:1,borderColor:{func:function(){return Xr}}},{type:"shape",visible:{func:function(){return!!g.ShapeActivingCtrl.data.c2}},points:{func:function(){var J=g.ShapeActivingCtrl.data;return[J.point.x,J.point.y,J.c2.x,J.c2.y]}},segments:[1,2],background:null,borderWidth:1,borderColor:{func:function(){return Xr}}},{type:"shape",visible:{func:function(){return!!g.ShapeActivingCtrl.data.c1}},points:{func:function(){var J=(a=g.ShapeActivingCtrl.data.c1).x,a=a.y,z=3;return"c1"===g.ShapeActivingCtrl.data.hl&&(z+=.5),[J-z,a-z,J-z,a+z,J+z,a+z,J+z,a-z]}},segments:[1,2,2,2,5],borderWidth:2,background:{func:function(){return qr.getStyle("shapeCtrlPointBackground")}},borderColor:{func:function(){return"c1"===g.ShapeActivingCtrl.data.hl?qr.getStyle("shapeCtrlPointHighlightBorder")||Xr:qr.getStyle("shapeCtrlPointBorderColor")||Xr}}},{type:"shape",visible:{func:function(){return!!g.ShapeActivingCtrl.data.c2}},points:{func:function(){var J=(a=g.ShapeActivingCtrl.data.c2).x,a=a.y,z=3;return"c2"===g.ShapeActivingCtrl.data.hl&&(z+=.5),[J-z,a-z,J-z,a+z,J+z,a+z,J+z,a-z]}},segments:[1,2,2,2,5],borderWidth:2,background:{func:function(){return qr.getStyle("shapeCtrlPointBackground")}},borderColor:{func:function(){return"c2"===g.ShapeActivingCtrl.data.hl?qr.getStyle("shapeCtrlPointHighlightBorder")||Xr:qr.getStyle("shapeCtrlPointBorderColor")||Xr}}}]},g.RoundPoint={comps:[{type:"circle",background:"rgb(247,247,247)",borderWidth:1,borderColor:{func:function(){return Xr}},rect:{func:function(){return[[g.RoundPoint.data.x,g.RoundPoint.data.y],6,6]}}}]},g.AttachPoint={comps:[{type:"rect",background:{func:function(){return g.AttachPoint.data.isAttach?"rgb(51,153,255)":"rgb(247,247,247)"}},borderWidth:1,rotation:Math.PI/4,borderColor:{func:function(){return Xr}},rect:{func:function(){var J=g.AttachPoint.data.isAttach?10:6;return[[g.AttachPoint.data.x,g.AttachPoint.data.y],J,J]}}}]},g.SimpleRect={comps:[{type:"rect",background:null,borderWidth:{func:function(){return g.SimpleRect.data.borderWidth||1}},borderColor:{func:function(){return g.SimpleRect.data.color||Xr}},rect:{func:function(){var J=g.SimpleRect.data;return[J.x,J.y,J.width,J.height]}}}]},m.Default.setImage("Icons.MoveDummyImage",{width:32,height:32,boundExtend:12,attachStyle:"close",comps:[{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",shadow:!0,shadowColor:"rgba(0,0,0,0.25)",shadowOffsetX:0,rect:[0,0,32,32]},{type:"shape",background:"rgb(51,153,255)",pixelPerfect:!0,points:[8.65079,11.90713,9.05502,11.46921,9.70629,11.46921,10.11052,11.90713,10.51476,12.28891,10.51476,12.92895,10.11052,13.34441,8.49359,14.97258,12.2889,14.97258,12.85034,14.97258,13.29949,15.42172,13.29949,15.99439,13.29949,16.57828,12.85034,17.0162,12.2889,17.0162,8.49359,17.0162,10.11052,18.6556,10.51476,19.0486,10.51476,19.7111,10.11052,20.09288,9.70629,20.50834,9.05502,20.50834,8.65079,20.09288,5.32709,16.76917,5.28217,16.71303,4.87794,16.32002,4.87794,15.67998,5.28217,15.26452,8.65079,11.90713,8.65079,11.90713,8.65079,11.90713,13.3444,10.09931,13.3444,10.09931,12.94017,10.50354,12.2889,10.50354,11.88467,10.09931,11.48043,9.69507,11.48043,9.0438,11.88467,8.63957,15.27574,5.25973,15.66874,4.86672,16.32001,4.86672,16.73547,5.25973,16.76917,5.31586,20.10409,8.63957,20.50832,9.0438,20.50832,9.68385,20.10409,10.09931,19.69986,10.49231,19.07105,10.50354,18.64436,10.09931,17.02742,8.45991,17.02742,12.26646,17.02742,12.83912,16.55581,13.31072,15.99438,13.31072,15.43295,13.31072,14.98379,12.83912,14.98379,12.26646,14.96134,8.45991,13.3444,10.09931,13.3444,10.09931,13.3444,10.09931,21.90069,13.33318,21.90069,13.33318,21.49646,12.91771,21.49646,12.27768,21.90069,11.89591,22.31615,11.45798,22.94497,11.45798,23.36043,11.89591,26.72904,15.2533,27.12205,15.66876,27.12205,16.3088,26.72904,16.7018,26.6729,16.75794,23.36043,20.08165,22.94497,20.49711,22.31615,20.49711,21.90069,20.08165,21.49646,19.69987,21.49646,19.03737,21.90069,18.64437,23.51763,17.00498,19.72231,17.00498,19.14965,17.00498,18.71173,16.56705,18.71173,15.98316,18.71173,15.41049,19.14965,14.96135,19.72231,14.96135,23.51763,14.96135,21.90069,13.33318,21.90069,13.33318,21.90069,13.33318,11.88467,23.32675,11.88467,23.32675,11.48043,22.94498,11.48043,22.27125,11.88467,21.88948,12.2889,21.48523,12.94017,21.48523,13.3444,21.88948,14.96134,23.52887,14.98379,19.7111,14.98379,19.14966,15.43295,18.67805,15.99438,18.67805,16.55581,18.67805,17.02742,19.14966,17.02742,19.7111,17.02742,23.52887,18.64436,21.88948,19.07105,21.48523,19.69986,21.48523,20.10409,21.88948,20.50832,22.27125,20.50832,22.94498,20.10409,23.32675,16.76917,26.65045,16.73547,26.72905,16.32001,27.13329,15.66874,27.13329,15.27574,26.72905,11.88467,23.32675,11.88467,23.32675,11.88467,23.32675],segments:[1,4,4,2,2,4,4,2,2,4,4,2,2,4,2,2,2,1,2,4,4,2,4,2,2,4,4,2,2,4,4,2,2,2,2,1,2,4,4,2,4,2,2,4,4,2,2,4,4,2,2,2,2,1,2,4,4,2,2,4,4,2,2,4,4,2,2,4,2,2,2]}]}),g.MoveDummy={comps:[{type:"image",name:"Icons.MoveDummyImage",rect:{func:function(){var J=g.MoveDummy.data;return[[J.pos.x,J.pos.y],2*J.size,2*J.size]}}}]},S.Icons.DrawIcon=function(J,a,z,U){z.width=z.height=1e4,z.data=U,qr=J,m.Default.drawImage(a,z,0,0,1e4,1e4),qr=xR},S.Icons.MapPoints=function(J,a){for(var z=0,U=J.length;z<U;z++)J[z]/=a},S.roundTo=function(J,a,z){var U=Math.abs(J%a);return U<z||a-U<z?a*Math.round(J/a):J},S.toFixed=function(J){return Math.round(100*J)/100},S.getDataMatrix=function(J){var a,z;return J instanceof m.Shape?(a=new m.Math.Matrix2d,z=J.getPosition(),a.translate(-z.x,-z.y).scale(J.getScale().x,J.getScale().y).rotate(J.getRotation()).translate(z.x,z.y),a):J.getMatrix?J.getMatrix():new m.Math.Matrix2d},(((z=S.Math.Curve=function(){this._curves=[]}).prototype={}).constructor=z).prototype.createFromHtShape=function(a,J,z){J instanceof m.List&&(J=J.toArray());for(var U,g,V,Y,c=null,u=null,H=0,M=S.Math.Vector2,I=S.Math.CubicBezier,e=function(J){return new M(a[J],a[J+1],z?z[J/2]:xR)},Q=0,v=J.length;Q<v;Q++){switch(g=null,J[Q]){case 1:c=u=e(H),H+=2;break;case 2:U=e(H),H+=2,g=new I(u,u.clone(),U.clone(),U),u=U;break;case 3:V=e(H),U=e(H+2),H+=4,g=new I(u,V.clone().sub(u).multiplyScalar(2/3).add(u),V.clone().sub(U).multiplyScalar(2/3).add(U),U),u=U;break;case 4:V=e(H),Y=e(H+2),U=e(H+4),H+=6,g=new I(u,V,Y,U),u=U;break;case 5:if(!c)break;g=new I(u,u.clone(),c.clone(),c),c=u=null}g&&(g._index=this._curves.length,this._curves.push(g))}},z.prototype.checkPoint=function(J,a){for(var z,U,g,V=this._curves,Y=0,c=V.length;Y<c;Y++)if((g=(U=V[Y]).intersectRect(J,a,a)).length)return z=0,g.forEach(function(J){z+=J.t}),z/=g.length,(J=U.getPointAt(z)).t=z,{bezier:U,intersection:J}},z.prototype.insertKnot=function(J,a){a=J.insertKnot(a),this._curves.splice(J._index,1,a[0],a[1])},z.prototype._isCloseEnough=function(J,a){return Math.abs(J.x-a.x)<1e-6&&Math.abs(J.y-a.y)<1e-6},z.prototype._isSamePoint=function(J,a){return J===a},z.prototype.moveRealPoint=function(U,g){var V=this,J=V._curves,Y=g.clone().sub(U);J.forEach(function(J){var a=J._p1,z=(J._p2,J._p3,J._p4);V._isSamePoint(a,U)&&(J._p2.add(Y),J._p1=g),V._isSamePoint(z,U)&&(J._p3.add(Y),J._p4=g)})},z.prototype.moveCtrlDueToRealPointMovement=function(U,a){function g(J){J.add(a),J.e&&a.e&&(J.e+=a.e)}var V=this;V._curves.forEach(function(J){var a=J._p1,z=(J._p2,J._p3,J._p4);V._isSamePoint(a,U)&&g(J._p2),V._isSamePoint(z,U)&&g(J._p3)})},z.prototype.moveCtrlPoint=function(J,z,U){var g,a,V=J[U];V&&(V.e!==xR&&(z.e=V.e),a=(g=this)._curves,z.clone().sub(V),a.forEach(function(J){var a;"c2"===U?a="_p2":"c1"===U&&(a="_p3"),g._isSamePoint(J[a],V)&&(J[a]=z)}),J[U]=z)},z.prototype.deleteRealPoint=function(J,a){for(var z,U,g,V,Y=this._curves,c={},u=[],H=S.Math.CubicBezier,M=0,I=Y.length;M<I;M++)U=(z=Y[M])._p1,g=z._p2,z._p3,V=z._p4,!c[M]&&this._isSamePoint(U,J)||(this._isSamePoint(V,J)?M+1<I&&this._isSamePoint(Y[M+1]._p1,J)&&(a||u.push(new H(U,g,Y[M+1]._p3,Y[M+1]._p4))):u.push(z));this._curves=u},z.prototype.findPairs=function(J,a){for(var z,U,g,V,Y=this._curves,c={},u=[],H=0,M=Y.length;H<M;H++)z=(g=Y[H])._p1,V=g._p2,U=g._p3,g=g._p4,!c[H]&&this._isSamePoint(z,J)&&(a?u.push({point:z,r2:g}):u.push({point:z,c2:V})),this._isSamePoint(g,J)&&(V=a?{point:g,r1:z}:{point:g,c1:U},H+1<M&&this._isSamePoint(Y[H+1]._p1,J)&&(a?V.r2=Y[H+1]._p4:V.c2=Y[H+1]._p2,c[H+1]=!0),u.push(V));return u},z.prototype.toHtShape=function(){var g=this,J=g._curves,V=[],Y=[],c={x:1/0,y:1/0};return J.forEach(function(J){var a=J._p1,z=J._p2,U=J._p3,J=J._p4;if(g._isCloseEnough(a,c)||(V.push(1),Y.push(a.clone())),c=J,g._isCloseEnough(a,z)&&g._isCloseEnough(U,J))return V.push(2),void Y.push(J.clone());V.push(4),Y.push(z.clone(),U.clone(),J.clone())}),{segments:V,points:Y}};($R=S.Math.CubicBezier=function(J,a,z,U){this._id=S.Math.CubicBezier._globalId++,this._p1=J,this._p2=a,this._p3=z,this._p4=U})._globalId=1,(($R.prototype={}).constructor=$R).prototype.toString=function(){return this._id},$R.prototype.intersectRect=function(J,a,z){var a=a/2,z=z/2,U=J.x,J=J.y,g=new(V=S.Math.Vector2)(-a+U,-z+J),a=new V(a+U,z+J),U=new V(a.x,g.y),z=new V(g.x,a.y),J=this.intersectLine(g,U),V=this.intersectLine(U,a),U=this.intersectLine(a,z),a=this.intersectLine(z,g);return J.concat(V).concat(U).concat(a)},$R.prototype.intersectLine=function(J,a){var z=J.clone().min(a),U=J.clone().max(a),g=this._p1,V=this._p2,Y=this._p3,c=this._p4,u=g.clone().multiplyScalar(-1),H=V.clone().multiplyScalar(3),M=Y.clone().multiplyScalar(-3),c=u.add(H).add(M).add(c);u=g.clone().multiplyScalar(3),H=V.clone().multiplyScalar(-6),M=Y.clone().multiplyScalar(3),Y=u.add(H).add(M),u=g.clone().multiplyScalar(-3),H=V.clone().multiplyScalar(3);for(var M=u.add(H),V=g.clone(),u=new S.Math.Vector2(J.y-a.y,a.x-J.x),H=J.x*a.y-a.x*J.y,I=this.getRoots(u.dot(c),u.dot(Y),u.dot(M),u.dot(V)+H),e=new Array,Q=0,v=I.length;Q<v;Q++){var Z,k=I[Q];k<0||1<k||((Z=this.getPointAt(k)).t=k,J.x==a.x?z.y<=Z.y&&Z.y<=U.y&&e.push(Z):J.y==a.y?z.x<=Z.x&&Z.x<=U.x&&e.push(Z):Z.x>=z.x&&Z.y>=z.y&&Z.x<=U.x&&Z.y<=U.y&&e.push(Z))}return e},$R.prototype.solveTForPoint=function(J){for(var a=this._p1.x-J.x,z=this._p2.x-J.x,U=this._p3.x-J.x,g=this._p4.x-J.x,V=this.getRoots(g-3*U+3*z-a,3*U-6*z+3*a,3*z-3*a,a),Y=xR,c=1/0,u=0,H=V.length;u<H;u++){var M,I=V[u];I<0||1<I||((M=this.getPointAt(I)).t=I,(I=Math.abs(M.y-J.y))<c&&(c=I,Y=M))}return Y},$R.prototype.getPointAt=function(J){var a=this._p1,z=this._p2,U=this._p3,g=this._p4,a=a.clone().lerp(z,J),z=z.clone().lerp(U,J),U=U.clone().lerp(g,J),g=a.lerp(z,J),a=z.lerp(U,J);return g.lerp(a,J)},$R.prototype.getPointByPercentage=function(J){var a=this.length*J,z=this._cacheLength,U=z.length;if(0==a)return z[0].point;if(1<=J)return z[U-1].point;for(var g=0;g<U;g++){var V,Y=z[g];if(!(Y.len<a))return V=z[g-1],Y.point.clone().sub(V.point).setLength(a-V.len).add(V.point)}},$R.prototype.getTByPercentage=function(J){var a=this.length*J,z=this._cacheLength,U=z.length;if(0==a||J<=0)return z[0].t;if(1<=J)return z[U-1].t;for(var g=0;g<U;g++){var V,Y=z[g];if(!(Y.len<a))return(a-(V=z[g-1]).len)/(Y.len-V.len)*(Y.t-V.t)+V.t}},$R.prototype.getRoots=function(J,a,z,U){var g,V,Y,c,u=new Array,H=(Math.abs(J)<1e-6&&(0<(H=(g=z/(Y=a))*g-U/Y*4)?(V=Math.sqrt(H),u.push(.5*(-g+V)),u.push(.5*(-g-V))):0==H&&u.push(.5*-g)),(a/=J)/3),J=(g=(2*a*a*a-9*(z/=J)*a+27*(U/=J))/27)*g/4+(Y=(3*z-a*a)/3)*Y*Y/27,U=g/2;return 0<(J=Math.abs(J)<=1e-6?0:J)?(z=0<=(c=-U+(V=Math.sqrt(J)))?Math.pow(c,1/3):-Math.pow(-c,1/3),0<=(c=-U-V)?z+=Math.pow(c,1/3):z-=Math.pow(-c,1/3),u.push(z-H)):J<0?(a=Math.sqrt(-Y/3),g=Math.atan2(Math.sqrt(-J),-U)/3,V=Math.cos(g),z=Math.sin(g),Y=Math.sqrt(3),u.push(2*a*V-H),u.push(-a*(V+Y*z)-H),u.push(-a*(V-Y*z)-H)):(c=0<=U?-Math.pow(U,1/3):Math.pow(-U,1/3),u.push(2*c-H),u.push(-c-H)),u},$R.prototype._70I=function(){return this._p1.distanceToSquared(this._p2)<1e-10&&this._p3.distanceToSquared(this._p4)<1e-10},$R.prototype.insertKnot=function(J){var a=this._p1,z=this._p2,U=this._p3,g=this._p4,V=a.clone().lerp(z,J),z=z.clone().lerp(U,J),U=U.clone().lerp(g,J),Y=V.clone().lerp(z,J),z=z.clone().lerp(U,J),c=Y.clone().lerp(z,J);return this._70I()?(a.clone().lerp(g,J),[new S.Math.CubicBezier(a,a.clone(),c.clone(),c),new S.Math.CubicBezier(c,c.clone(),g.clone(),g)]):[new S.Math.CubicBezier(a,V,Y,c),new S.Math.CubicBezier(c,z,U,g)]},pR.defineProperties($R.prototype,{length:{get:function(){if(!(J=this._cacheLength))for(var J=this._cacheLength=[],a=this._p1,z=0,U=0;z<=1;){var g=this.getPointAt(z+=.001);U+=g.clone().sub(a).length(),J.push({len:U,t:z,point:(a=g).clone()})}return J[J.length-1].len}},p1:{get:function(){return this._p1},set:function(J){this._p1=J,this._cacheLength=xR}},p2:{get:function(){return this._p2},set:function(J){this._p2=J,this._cacheLength=xR}},p3:{get:function(){return this._p3},set:function(J){this._p3=J,this._cacheLength=xR}},p4:{get:function(){return this._p4},set:function(J){this._p4=J,this._cacheLength=xR}}});var yr,Fr,Or,nr,Gw=m.Default.getInternal().ui().EdgeUI,Lr={_47O:function(J){var a=Lr.getBackups()._47O;S.inEdit(this.gv)||a.call(this,J)}},rw=(S.Inject.registAsModule(Lr,Gw),m.Default.getInternal().ui().NodeUI),br={_47O:function(J){var a=br.getBackups()._47O;S.inEdit(this.gv)||a.call(this,J)},getSelectWidth:function(){var J=this.gv,a=this._data;return J.isEditable(a)&&S.inEdit(J)?0:br.getBackup("getSelectWidth").call(this)}},Sr=(S.Inject.registAsModule(br,rw),m.graph.GraphView),Pr={_editPointSize:(qw=m.Default.isTouchable,S.getStyle("pointSize")[qw?0:1]),isPointEditable:function(J){if(S.inEdit(this))return!this._pointEditableFunc||this._pointEditableFunc(J);Pr.getBackup("isPointEditable").call(this,J)},isEditable:function(J){var a=Pr.getBackup("isEditable"),a=J instanceof S.Group||a.call(this,J);return S.inEdit(this)&&J instanceof m.Edge?!!J.s("2d.editable")&&(!(a=this.getEditableFunc())||a(J)):a},_42:function(J,a){Pr.getBackups()._42.call(this,J,a),S.inEdit(this)&&this.getEditInteractor().drawImpl()}},Ur=(S.Inject.registAsModule(Pr,Sr),m.Default.getInternal().ui().ShapeUI),$r={_47O:function(J){var a=$r.getBackups()._47O;S.inEdit(this.gv)||a.call(this,J)}},kr=(S.Inject.registAsModule($r,Ur),m.graph.DefaultInteractor),lr={handle_mousewheel:function(J){var a=lr.getBackup("handle_mousewheel");S.inEdit(this.gv)||a.call(this,J)}},ir=(S.Inject.registAsModule(lr,kr),m.graph.MoveInteractor);S.Inject.registAsModule(lM(),ir),S.Inject.registAsModule(lM(),m.graph.TouchInteractor),(((J=S.Rect=function(J){this.catalog="Rect",this._interactor=J}).prototype={}).constructor=J).prototype.gatherInfo=function(J,a){var z;return 1===a.length?(z=a[0])instanceof m.Shape&&z._70I()?this.gatherLine(J,z):!xL(z,J)&&this.gatherSingleTarget(J,z):1<a.length&&this.gatherMultiTargets(J,a)},J.prototype.gatherSingleTarget=function(J,a){if(a.getCorners){var z,U,g=this.info,V=(this.target=a,z=this.screenInfo={},a.getCorners());for(U in g.LT=new S.Math.Vector2(V[0]),g.LB=new S.Math.Vector2(V[1]),g.RB=new S.Math.Vector2(V[2]),g.RT=new S.Math.Vector2(V[3]),g.T=g.LT.clone().add(g.RT).divideScalar(2),g.B=g.LB.clone().add(g.RB).divideScalar(2),g.L=g.LT.clone().add(g.LB).divideScalar(2),g.R=g.RT.clone().add(g.RB).divideScalar(2),g)z[U]=S.toScreenPosition(J,g[U]);var Y=this._interactor.getStyle("checkSize");return z.rotLT=(V=function(J,a,z){return a=a.clone().sub(J).setLength(-Y),z=z.clone().sub(J).setLength(-Y),a.add(z).add(J)})(z.LT,z.RT,z.LB),z.rotLB=V(z.LB,z.LT,z.RB),z.rotRB=V(z.RB,z.LB,z.RT),z.rotRT=V(z.RT,z.LT,z.RB),z.rotT=z.rotLT.clone().add(z.rotRT).divideScalar(2),z.rotB=z.rotLB.clone().add(z.rotRB).divideScalar(2),z.rotL=z.rotLT.clone().add(z.rotLB).divideScalar(2),z.rotR=z.rotRT.clone().add(z.rotRB).divideScalar(2),z.rotation=a.getRotation(),this.gatherConnectInfo(),!0}},J.prototype.gatherConnectInfo=function(){var J,a,z=this.target,U=this._interactor,g=this.screenInfo,V=U.gv;V.isConnectActionVisible(z)&&U.getStyle("connectGuideVisible")&&(J=(J=z.s?z.s("connectGuideShift"):J)||U.getStyle("connectGuideShift"),U=z.getAnchor(),a=z.getSize(),z=z.toGlobal({x:a.width*(J[0]-U.x),y:a.height*(J[1]-U.y)}),z=S.toScreenPosition(V,z),g.P1?z.add(g.P2.clone().sub(g.P1).setLength(J[2])):(z.add(g.RT.clone().sub(g.LT).setLength(J[2])),z.add(g.LB.clone().sub(g.LT).setLength(J[3]))),g.connect=z)},J.prototype.gatherMultiTargets=function(J,a){return!!(a=S.Group.findOrCreateGroup(a,this._interactor._uuid))&&(this.editing&&"rotate"!==this.editing.mode||a.calcInfo(),this.gatherSingleTarget(J,a))},J.prototype.gatherLine=function(J,a){this.target=a;var z=this.screenInfo={},U=a.getPoints(),a=S.getDataMatrix(a);return z.P1=S.toScreenPosition(J,a.apply(U.get(0))),z.P2=S.toScreenPosition(J,a.apply(U.get(1))),this.gatherConnectInfo(),!0},J.ResizeKeys=["LT","RB","LB","RT","L","R","B","T"],J.ResizeDirection=[{x:-1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:-1},{x:-1,y:0},{x:1,y:0},{x:0,y:1},{x:0,y:-1}],J.RotateKeys=["rotLT","rotRB","rotLB","rotRT","rotL","rotR","rotB","rotT"],J.prototype.check=function(J,a,z){if(m.Default.isLeftButton(a)){var U=this;if(U.editing=null,U.tipInfo=null,U.screenInfo){var g=U.target,V=J.isEditable(g),Y=U.screenInfo;if(V&&Y.connect)if(H=U._checkConnect(z))return H;if(Y.P1)return U._checkLine(z);var c,u,H,M=null,I=(H=U._interactor).getStyle("checkSize");if(V&&J.isRectEditable(g))for(Q=0;Q<S.Rect.ResizeKeys.length;Q++)if(u=S.Rect.ResizeKeys[Q],S.checkHit(z,Y[u],I)){M=u,c="resize";break}if(!M&&V&&J.isRotationEditable(g)&&!H.getStyle("rotateAsClock"))for(var e=H.getStyle("rotateCheckSize"),Q=0;Q<S.Rect.RotateKeys.length;Q++)if(u=S.Rect.RotateKeys[Q],S.checkHit(z,Y[u],e)){M=u,c="rotate";break}if(M){if("rotate"===c){if(V=J.lp(a),g instanceof S.Group){for(var v=H.getStyle("groupRotateModeKey"),Z=!1,k=0,E=(v="string"==typeof v?[v]:v).length;k<E;k++)if(a[v[k]]){Z=!0;break}var J=H.getStyle("groupRotateModeDefault"),i=Z?"batch"===J?"block":"batch":J}J="batch"===i?g.getAnchor2():g.getPosition(),V=Math.atan2(V.y-J.y,V.x-J.x),H._setRotateCursor(V),U.editing={mode:c,key:M,pos:J,flipY:g.getScale().y<0,rotation:g.getRotation(),hitRot:V},i&&(U.editing.groupRotateMode=i)}else{var J=S.Rect.ResizeKeys.indexOf(M),V=S.Rect.ResizeDirection[J],i=Math.cos(g.getRotation()),J=Math.sin(g.getRotation()),w=V.x*Math.sign(g.getScale().x),V=V.y*Math.sign(g.getScale().y),i=Math.atan2(-J*w-i*V,i*w-J*V),w=(Math.round(i/(Math.PI/4))+8)%8,J=(this._interactor.setCursor(["ew-resize","nesw-resize","ns-resize","nwse-resize","ew-resize","nesw-resize","ns-resize","nwse-resize"][w]),g.getWidth()),V=g.getHeight(),i=g.getAnchor();U.editing={mode:c,key:M,rect:{x:-J*i.x,y:-V*i.y,width:J,height:V},anchor:i,matrix:g.getMatrix()}}return M}H.setCursor("default")}}},J.prototype._checkLine=function(J){this.screenInfo;var a,z=this._interactor.getStyle("checkSize");if(S.checkHit(J,this.screenInfo.P1,z))a="P1";else{if(!S.checkHit(J,this.screenInfo.P2,z))return void this._interactor.setCursor("default");a="P2"}return this.editing={mode:"line",key:a},a},J.prototype._checkConnect=function(J){var a,z,U=this.screenInfo,g=this._interactor,V=g.getStyle("connectGuideIntersectSize"),U=U.connect,Y=J.x,c=U.x;if(Y<c&&c-Y<V&&Math.abs(U.y-J.y)<V||c<=Y&&S.checkHit(J,U,V))return a=DR.getConnectAction(g.gv),this.editing={mode:"connect"},a&&a.delete&&(this.target instanceof S.Group?(z=!0,g.gv.sm().getSelection().each(function(J){a.delete.visible.call(null,g.gv,J)||(z=!1)}),this.editing.hasDeleteAction=z):a.delete.visible.call(null,g.gv,this.target)&&(this.editing.hasDeleteAction=!0)),g.setCursor("default"),"connect"},J.prototype._fireEditEvent=function(J,a){var z=this._interactor,U=this.editing;U&&(U="rotate"===(U=U.mode)?"Rotation":"connect"===U?"Connection":"resize"===U?"Rect":U[0].toUpperCase()+U.slice(1),z.fi({kind:J+"Edit"+U,event:a}))},J.prototype._roundAngleTo360=function(J){var a=J.getRotation();return(J=J.getScale()).x<0&&J.y<0?a=Math.PI+a:J.y<0?a=2*Math.PI-a:J.x<0&&(a=Math.PI-a),m.Math.modToPositive(180*a/Math.PI,360)},J.prototype.isOrthogonalAngle=function(J){return J=this._roundAngleTo360(J)%90,Math.abs(J-(45<J?90:0))<.001},J.prototype.isRightOrInvertedAngle=function(J){return J=this._roundAngleTo360(J),Math.abs(J-90)<.001||Math.abs(J-270)<.001},J.prototype.startEdit=function(J,a){J.startDragging(a),this._interactor.fi({kind:"prepareEdit",event:a});var z,U=this.editing,g=this.target;if(U){if(this._fireEditEvent("begin",a),U.started=!0,"rotate"===U.mode)return U.groupRotateMode&&g.beginRotate(U),void J._42();"connect"===U.mode?U.hasDeleteAction&&(a=J.gv,z=this._interactor.getStyle("connectGuideGarbageShift"),U.garbageInfo={x:a.getWidth()*z[0]+z[2],y:a.getHeight()*z[1]+z[3],size:this._interactor.getStyle("connectGuideGarbageIntersectsize")},J._42()):("line"===U.mode||g&&this.isOrthogonalAngle(g))&&(this._inSmartGuide=!0,this._interactor.rectGuide.gatherRects())}},J.prototype._46O=function(J){var a,z,U=this,g=U.editing,V=U.target;if(g){if("connect"===g.mode&&!g.canceled&&!g.deleted)try{g.garbageInfo&&g.garbageInfo.hover?DR.doDeleteConnectionAction(U._interactor.gv,V):DR.doConnectAction(U._interactor.gv,V,g.target)}catch(J){console.error(J)}z=g.freezeFlag,a=U.editing.groupRotateMode,U._fireEditEvent("end",J),U.editing=null}U.tipInfo=null,U._inSmartGuide&&(U._interactor.rectGuide.clear(),U._inSmartGuide=!1),a&&V&&V.endRotate(),V instanceof m.Block&&(z===xR?delete V._freezeSyncFromChildren:V._freezeSyncFromChildren=z,V.updateFromChildren())},J.prototype.handleNormalStateDelete=function(){var J=this.editing;if(J&&"connect"===J.mode&&!J.canceled&&!J.deleted){if(J.garbageInfo){try{DR.doDeleteConnectionAction(this._interactor.gv,this.target)}catch(J){console.error(J)}J.garbageInfo=null}return J.cursorPos=null,J.targetCorners=null,J.deleted=!0,this._interactor._42(),!0}},J.prototype.handleNormalStateKeyDown=function(J){var a=this.editing;if(a&&"connect"===a.mode&&!a.canceled&&!a.deleted)return m.Default.isEsc(J)?(a.cursorPos=null,a.targetCorners=null,a.canceled=!0,this._interactor._42(),!0):void 0},J.prototype.handleEdit=function(a,J){var z=this,U=z.editing;if(U){var g,V,Y=z.target,c=U.key,u=U.mode,H=a.lp(J),M=z._interactor;if("connect"===u)return U.canceled?void 0:U.deleted?void 0:(U.cursorPos=M._getLogicalPoint(J),(E=U.garbageInfo)&&S.checkHit(U.cursorPos,E,E.size)?(E.hover=!0,U.target=null,U.targetCorners=null):(E&&(E.hover=!1),U.target=a.getDataAt(H,function(J){return!!a.isSelectable(J)&&!!b(J)})||null,U.targetCorners=S.getTargetCornersOnScreen(a,U.target)),void M._42());if("rotate"===u){E=U.pos,E=Math.atan2(H.y-E.y,H.x-E.x),i=U.groupRotateMode?E-U.hitRot:(k=E-U.hitRot,U.rotation+k),(i%=2*Math.PI)<0&&(i+=2*Math.PI),m.Default.isCtrlDown(J)||(Q=ku(J)?(I=M.getStyle("shiftRotateRound"))/2:(I=M.getStyle("rotateRound"),M.getStyle("rotateSensitivity")),i=S.roundTo(i,I,Q)),U.groupRotateMode?0!=(k=i-(U.lastRotation||0))&&(Y.addRotation(k,U.groupRotateMode,function(J){return a.isRotationEditable(J)}),U.lastRotation=i):Y.setRotation(i),M._setRotateCursor(E),i>Math.PI&&(i-=2*Math.PI);var I=(i/Math.PI*180).toFixed(2)+"°"}else if("resize"===u){var e,Q=U.rect,v=Q.x,Z=Q.y,k=Q.width,E=Q.height,i=U.anchor,w=U.matrix,p=Y.s&&Y.s("keepAspectRatio")||M.getStyle("keepAspectRatio"),x=(ku(J)&&(p=!p),z._unionPointMode1),W=z._unionPointMode2,D=!0,D=((K=z._interactor.getStyle("resizeHelperFilter"))&&(D=K(Y instanceof S.Group?Y._entities:[Y])),z._inSmartGuide&&!m.Default.isCtrlDown(J)&&D&&!p&&("L"===c||"R"===c?e="x":"T"!==c&&"B"!==c||(e="y"),z.isRightOrInvertedAngle(Y)&&e&&(e="x"===e?"y":"x"),z._adsorbedToClosest(H,e),V=!0),K=w.tfi(H),"LT"===c?Q=x(K,{x:v+k,y:Z+E},k,E,p):"T"===c?Q=W({x:v,y:K.y},{x:v+k,y:Z+E},k,E,p,"v"):"RT"===c?Q=x(K,{x:v,y:Z+E},k,E,p):"L"===c?Q=W({x:K.x,y:Z},{x:v+k,y:Z+E},k,E,p,"h"):"R"===c?Q=W({x:v,y:Z},{x:K.x,y:Z+E},k,E,p,"h"):"LB"===c?Q=x(K,{x:v+k,y:Z},k,E,p):"B"===c?Q=W({x:v,y:Z},{x:v+k,y:K.y},k,E,p,"v"):"RB"===c&&(Q=x(K,{x:v,y:Z},k,E,p)),0),W=[0,5,2,3],x=(Y.getScaleX&&Y.getScaleX()*Y.getScaleY()<0&&(W=[2,5,0,3]),Math.round(z._roundAngleTo360(Y)/90)),K=(0<=c.indexOf("T")&&(D|=1<<W[(0+x)%4]),0<=c.indexOf("R")&&(D|=1<<W[(1+x)%4]),0<=c.indexOf("B")&&(D|=1<<W[(2+x)%4]),0<=c.indexOf("L")&&(D|=1<<W[(3+x)%4]),w.tf(Q.x+Q.width*i.x,Q.y+Q.height*i.y));Y instanceof m.Block&&(U.hasOwnProperty("freezeFlag")||(U.freezeFlag=Y._freezeSyncFromChildren,Y._freezeSyncFromChildren=!0)),Y.setPosition(K),Y.setSize(Q.width,Q.height),V&&(g=Y.getRect(),M.rectGuide.gatherLines({node:Y,x:g.x,y:g.y,w:g.width,h:g.height},e,D)),I=Math.round(Q.width)+" * "+Math.round(Q.height)}else if("line"===u){if(ku(J)){var k=Y.getPoints(),E="P1"===c?k.get(1):k.get(0),d=H.x-E.x,j=H.y-E.y,q=M.getStyle("shiftLineRotateRound"),X=z._shiftDirList;if(!X||z._shiftRotateRound!==q){z._shiftRotateRound=q,z._shiftDirList=X=[];for(var R=0;R<Math.PI;R+=q)X.push({x:eR(R),y:KR(R)})}for(var C,y=0,F=0,O=X.length;F<O;F++){var n=X[F],L=n.x*d+n.y*j;Math.abs(L)>Math.abs(y)&&(y=L,C=n)}H={x:E.x+C.x*y,y:E.y+C.y*y},M.rectGuide.clear()}else z._inSmartGuide&&!m.Default.isCtrlDown(J)&&(z._adsorbedToClosest(H),V=!0);p=S.getDataMatrix(Y).applyInverse(H),Y.setPoint("P1"===c?0:1,p,!0),x=(W=Y.getPoints()).get(0),w=W.get(1),v=x.x-w.x,Z=x.y-w.y,I=" "+Math.round(Math.sqrt(v*v+Z*Z))+" ",V&&(g=Y.getRect(),M.rectGuide.gatherLines({node:Y,x:g.x,y:g.y,w:g.width,h:g.height}))}I&&((i=m.Default.getLogicalPoint(J,M._canvas)).x+=S.Icons.TipShiftX,i.y+=S.Icons.TipShiftY,z.tipInfo={helperPos:i,text:I,size:I.length}),z._fireEditEvent("between",J)}},J.prototype._unionPointMode1=function(J,a,z,U,g){var V;return g&&z&&U&&(g=J.x-a.x,V=J.y-a.y,Math.abs(g*U)<Math.abs(V*z)?(V=Math.sign(V)*Math.abs(g*U/z),J.y=a.y+V):(g=Math.sign(g)*Math.abs(V*z/U),J.x=a.x+g)),m.Default.unionPoint(J,a)},J.prototype._unionPointMode2=function(J,a,z,U,g,V){var Y,J=m.Default.unionPoint(J,a);return g&&z&&U&&("v"===V?(Y=J.x+J.width/2,J.width=z*J.height/U,J.x=Y-J.width/2):(Y=J.y+J.height/2,J.height=U*J.width/z,J.y=Y-J.height/2)),J},J.prototype._adsorbedToClosest=function(J,a){var z=(U=this._interactor).rectGuide.findClosest(J,a),U=U.gridGuide.findClosest(J,a),a=1/0,g=1/0;z&&(isFinite(z.x)&&(a=z.x),isFinite(z.y)&&(g=z.y)),U&&(isFinite(U.x)&&Math.abs(U.x)<Math.abs(a)&&(a=U.x),isFinite(U.y)&&Math.abs(U.y)<Math.abs(g)&&(g=U.y)),isFinite(a)&&(J.x+=a),isFinite(g)&&(J.y+=g)},J.prototype.getIntersection=function(J,a,z,U){var g=Math.sqrt(U.x*U.x+U.y*U.y),V=U.x/g,U=U.y/g,g=a.x-J.x,Y=-V*(a=a.y-J.y)+g*U;return 0==Y?null:(U=(-U*(J.x-z.x)+V*(J.y-z.y))/Y,V=(g*(J.y-z.y)-a*(J.x-z.x))/Y,0<=U&&U<=1&&0<=V?{x:J.x+U*g,y:J.y+U*a}:null)},J.prototype.findIntersectionFromSides=function(J,a,z){for(var U=0;U<J.length;U++){var g=J[U];if(g=this.getIntersection(g[0],g[1],a,z))return g}},J.prototype.drawLayoutHelper=function(a,J){var z,U,g,V,Y,c,u,H,M,I,e,Q,v=this.screenInfo,Z=this._interactor;(H=this.target.getHost())&&(c=this.target.s("layout.h"),u=this.target.s("layout.v"),(c||u)&&(z=!!v.P1,Z=Z.getStyle("baseColor"),U=c&&0<=c.indexOf(Ve),g=c&&0<=c.indexOf(Ye),V=u&&0<=u.indexOf(ce),Y=u&&0<=u.indexOf(ue),c=c===He,u=u===He,H=H.getRect(),M={x:(M=z?xu(v.P1,v.P2):xu([v.LT,v.RT,v.RB,v.LB])).x+M.width/2,y:M.y+M.height/2},I=[],v=[[v.LT,v.RT],[v.LT,v.LB],[v.RT,v.RB],[v.LB,v.RB]],e=M,U&&(e=z?e:this.findIntersectionFromSides(v,M,{x:-1,y:0}))&&(Q=S.toScreenPosition(J,{x:H.x,y:0}),I.push([e,{x:Q.x,y:e.y}])),g&&(e=z?e:this.findIntersectionFromSides(v,M,{x:1,y:0}))&&(Q=S.toScreenPosition(J,{x:H.x+H.width,y:0}),I.push([e,{x:Q.x,y:e.y}])),V&&(e=z?e:this.findIntersectionFromSides(v,M,{x:0,y:-1}))&&(Q=S.toScreenPosition(J,{x:0,y:H.y}),I.push([e,{x:e.x,y:Q.y}])),Y&&(e=z?e:this.findIntersectionFromSides(v,M,{x:0,y:1}))&&(Q=S.toScreenPosition(J,{x:0,y:H.y+H.height}),I.push([e,{x:e.x,y:Q.y}])),a.save(),a.strokeStyle=Z,a.lineWidth=1,a.setLineDash([3,3]),I.length&&(a.beginPath(),I.forEach(function(J){a.moveTo(J[0].x,J[0].y),a.lineTo(J[1].x,J[1].y)}),a.stroke(),a.fillStyle=Z,I.forEach(function(J){a.beginPath(),a.arc(J[1].x,J[1].y,2,0,QR),a.fill()})),a.beginPath(),(c||u)&&(a.moveTo(M.x-8,M.y-8),a.lineTo(M.x+8,M.y+8),a.moveTo(M.x-8,M.y+8),a.lineTo(M.x+8,M.y-8)),c&&(a.moveTo(M.x-24,M.y),a.lineTo(M.x+24,M.y)),u&&(a.moveTo(M.x,M.y-24),a.lineTo(M.x,M.y+24)),a.stroke(),a.restore()))},J.prototype._42=function(J,a,z){var U=this,g=(U.info={},U.screenInfo=null,U._interactor);if(!g.editDetail&&U.gatherInfo(a,z)){var V=U.editing,z=V?V.groupRotateMode:null,Y=U.screenInfo,c=U.target instanceof S.Group;if(!c&&g.getStyle("layoutGuideVisible")&&U.drawLayoutHelper(J,a),"block"!==z||!V||!V.started){if(Y.P1?S.Icons.DrawIcon(g,J,S.Icons.Line,Y):S.Icons.DrawIcon(g,J,S.Icons.Rect,Y),Y.connect&&(S.Icons.DrawIcon(g,J,S.Icons.ConnectGuide,{rotation:Y.rotation,connect:Y.connect,cursorPos:V?V.cursorPos:null}),V)){if(V.targetCorners){for(var u={x:1/0,y:1/0},H={x:-1/0,y:-1/0},M=0,I=V.targetCorners.length;M<I;M+=2)u.x=Math.min(u.x,V.targetCorners[M]),H.x=Math.max(H.x,V.targetCorners[M]),u.y=Math.min(u.y,V.targetCorners[M+1]),H.y=Math.max(H.y,V.targetCorners[M+1]);S.Icons.DrawIcon(g,J,S.Icons.HoverDataRect,{min:u,max:H,color:g.getStyle("hoverGuideColor")||g.getStyle("baseColor")})}V.garbageInfo&&S.Icons.DrawIcon(g,J,S.Icons.ConnectGuideGarbage,V.garbageInfo)}g.getStyle("rotateTipVisible")&&U.tipInfo&&S.Icons.DrawIcon(g,J,S.Icons.TipHelper,U.tipInfo)}c&&U.target._42(g,J,a)}},(((a=S.Anchor=function(J){this.catalog="Anchor",this._interactor=J}).prototype={}).constructor=a).prototype.gatherInfo=function(J,a){if(1!==a.length)return 1<a.length&&this.gatherMultiTargets(J,a);var z=a[0];return z.getAnchor&&!(z instanceof m.Shape&&z._70I()||xL(z,J))?this.gatherSingleTarget(J,a[0]):void 0},a.prototype.gatherSingleTarget=function(J,a){return this.info.POS=a.getPosition(),this.screenInfo.POS=S.toScreenPosition(J,this.info.POS),this.target=a,!0},a.prototype.gatherMultiTargets=function(J,a){return!!(a=S.Group.findOrCreateGroup(a,this._interactor._uuid))&&(this.screenInfo.POS=S.toScreenPosition(J,a.getAnchor2()),this.target=a,!0)},a.prototype.isVisible=function(){var J=this._interactor;if(!1===J.getStyle("anchorVisible"))return!1;var a=this.target;if(a){if(this.editing)return!0;var z=a.getAnchor(),U=J.getStyle("anchorOutsideVisibleThreshold");if(z.x<-U||z.x>1+U||z.y<-U||z.y>1+U)return!0;if(z=a.getSize(),U=a.getScale(),Math.min(Math.abs(z.width*U.x),Math.abs(z.height*U.y))*J.gv._zoom<J.getStyle("anchorHideThreshold"))return!1}return!0},a.prototype.check=function(J,a,z){if(m.Default.isLeftButton(a)&&(a=this._interactor,this.isVisible()&&!1!==a.getStyle("anchorMovable"))){this.editing=null,this.tipInfo=null;var U=this.target;if(U&&J.isAnchorEditable(U)&&J.isEditable(U)&&this.screenInfo&&(J=this.screenInfo.POS)&&S.checkHit(z,new S.Math.Vector2(J),a.getStyle("checkSize")))return U instanceof S.Group?this.editing={}:(z=U.getWidth(),J=U.getHeight(),a=U.getAnchor(),this.editing={rect:{x:-z*a.x,y:-J*a.y,width:z,height:J},anchor:a,matrix:U.getMatrix()}),!0}},a.prototype.startEdit=function(J,a){J.startDragging(a),J.fi({kind:"beginEditAnchor",event:a})},a.prototype._46O=function(J){this.editing&&(this.editing=null,this._interactor.fi({kind:"endEditAnchor",event:J})),this.tipInfo=null},a.prototype.handleEdit=function(J,a){var z=this.target;if(z&&(g=this.editing)){var J=J.lp(a),U=this._interactor;if(z instanceof S.Group)return z.setAnchor2(J),void U._42();var J=g.matrix.tfi(J),g=g.rect,V=(J.x-g.x)/g.width,J=(J.y-g.y)/g.height;m.Default.isCtrlDown(a)||(g=U.getStyle("anchorRound"),Y=U.getStyle("anchorSensitivity"),V=S.roundTo(V,g,Y),J=S.roundTo(J,g,Y)),z.setAnchor(V,J,!0);(g=m.Default.getLogicalPoint(a,U._canvas)).x+=S.Icons.TipShiftX,g.y+=S.Icons.TipShiftY;var Y=V.toFixed(2)+", "+J.toFixed(2);this.tipInfo={helperPos:g,text:Y,size:Y.length},U.fi({kind:"betweenEditAnchor",event:a})}},a.prototype._42=function(J,a,z){this.info={},this.screenInfo={};var U=this._interactor;U.editDetail||this.gatherInfo(a,z)&&this.isVisible()&&(S.Icons.DrawIcon(U,J,S.Icons.Anchor,this.screenInfo),this.tipInfo&&S.Icons.DrawIcon(U,J,S.Icons.TipHelper,this.tipInfo))},((($R=S.MoveDummy=function(J){this.catalog="MoveDummy",this._interactor=J}).prototype={}).constructor=$R).prototype.gatherInfo=function(J,a){var z=this._interactor.getSubModule("Rect");if(z&&(u=z.screenInfo)){var U=this._interactor;if(this.getMovableTarget(z.target)&&(z=U.getStyle("moveDummyThreshold"),!1!==(z=EL(z)?z():z))){var g=u.LT||u.P1,V=u.RT||u.P2,Y=u.LB||g;if(g){var c,u=u.P1,H=Math.min(g.distanceTo(Y),g.distanceTo(V));if(!(!0!==z&&z<H))return z=U.getStyle("moveDummyPosition"),H=V.clone().sub(g),V=Y.clone().sub(g),Y=z[2],c=z[3],(u=u&&U.getStyle("moveDummyLineExtraShift"))&&(Y+=u[0],c+=u[1]),u=g.clone().add(H.clone().multiplyScalar(z[0])).add(H.setLength(Y)).add(V.clone().multiplyScalar(z[1])).add(V.setLength(c)),this.screenInfo.pos=u,this.screenInfo.size=U.getStyle("moveDummySensitivity"),!0}}}},$R.prototype.getMovableTarget=function(J){var a=this._interactor.gv;if(b(J)){if(a.isMovable(J))return J}else if(J instanceof S.Group)for(var z=J._entities,U=z.length-1;0<=U;U--){var g=z[U];if(b(g)&&a.isMovable(g))return g}return null},$R.prototype.getMoveInteractor=function(){for(var J,a=this._interactor.gv.getInteractors(),z=0,U=a.length;z<U;z++)if((J=a.get(z))instanceof ir)return J},$R.prototype.startEdit=function(J,a){J.startDragging(a);var z,U=this.getMoveInteractor();U&&(z=this.selectedTarget,(J=J.gv)._moving=1,U._data=z,J.handleMouseDown&&J.handleMouseDown(a,z))},$R.prototype._46O=function(J){var a=this.getMoveInteractor();a&&(a.handleWindowMouseUp(J),this.selectedTarget=null)},$R.prototype.handleEdit=function(J,a){var z=this.getMoveInteractor();z&&z.handleWindowMouseMove(a)},$R.prototype.check=function(J,a,z){if(this.selectedTarget=null,m.Default.isLeftButton(a)&&!J._scrolling&&!TQ()&&this.screenInfo&&(a=this.screenInfo.pos)&&!(z.distanceTo(a)>this.screenInfo.size))return J=this._interactor,this.selectedTarget=this.getMovableTarget(J.getSubModule("Rect").target),J.setCursor("default"),!0},$R.prototype._42=function(J,a,z){this.screenInfo={};var U=this._interactor;U.editDetail||!this.gatherInfo(a,z)||U.editing&&!this.selectedTarget||S.Icons.DrawIcon(U,J,S.Icons.MoveDummy,this.screenInfo)},(((J=S.RotateX=function(J){this.catalog="RotateX",this._interactor=J}).prototype={}).constructor=J).prototype.gatherInfo=function(J,a){var z;return 1===a.length?!((z=a[0])instanceof m.Shape&&z._70I()||xL(z,J))&&this.gatherSingleTarget(J,z):1<a.length&&this.gatherMultiTargets(J,a)},J.prototype.gatherSingleTarget=(yr=new m.Math.Vector2,Fr=new m.Math.Vector2,Or=new m.Math.Vector2,nr=new m.Math.Vector2,function(J,a){var z,U;if(a.getCorners)return U=a.getCorners(),z=a.getPosition(),yr.copy(U[0]),Or.copy(U[1]),nr.copy(U[3]),Fr.copy(yr).add(nr).divideScalar(2).add(yr.sub(Or).setLength(15/J.getZoom())),U=Math.max(TM(z,U[0]),TM(z,U[1]),TM(z,U[2]),TM(z,U[3])),this.info.POS=Fr.clone(),this.screenInfo.POS=S.toScreenPosition(J,this.info.POS),this.screenInfo.LEN=Math.sqrt(U)*J.getZoom()+15,this.screenInfo.CENTER=S.toScreenPosition(J,z),this.target=a,!0}),J.prototype.gatherMultiTargets=function(J,a){return!!(a=S.Group.findOrCreateGroup(a,this._interactor._uuid))&&this.gatherSingleTarget(J,a)},J.prototype.isVisible=function(){var J=this._interactor;if(!J.getStyle("rotateAsClock"))return!1;var a=this.target;return!a||!(!(J=J.gv).isEditable(a)||!J.isRotationEditable(a))},J.prototype.check=function(J,a,z){return((J=this._checkImpl(J,a,z))||this._clockPainted)&&this._interactor._42(),J},J.prototype._checkImpl=function(J,a,z){if(m.Default.isLeftButton(a)){var U=this;if(U.editing=null,U.tipInfo=null,U.screenInfo&&(g=U.screenInfo.POS)&&U.isVisible()){var g,V=U._interactor;if(S.checkHit(z,g,V.getStyle("checkSize")))return z=U.target,g=J.lp(a),J=z.getPosition(),a=Math.atan2(g.y-J.y,g.x-J.x),V._setRotateCursor(a),U.editing={pos:J,rotation:z.getRotation(),hitRot:a,groupRotateMode:"block",screenInfo:{CENTER:U.screenInfo.CENTER,LEN:U.screenInfo.LEN}},!0}}},J.prototype.startEdit=function(J,a){J.startDragging(a),J.fi({kind:"beginEditRotation",event:a}),this.target instanceof S.Group&&this.target.beginRotate(this.editing)},J.prototype._46O=function(J){this.editing&&(this.editing=null,this._interactor.fi({kind:"endEditRotation",event:J})),this.target instanceof S.Group&&this.target.endRotate(),this.tipInfo=null},J.prototype.handleEdit=function(a,J){var z,U,g,V,Y,c,u,H,M=this.editing;M&&(z=this.target,g=a.lp(J),U=this._interactor,Y=M.pos,g=Math.atan2(g.y-Y.y,g.x-Y.x),c=(Y=z instanceof S.Group)?g-M.hitRot:(V=g-M.hitRot,M.rotation+V),(c%=2*Math.PI)<0&&(c+=2*Math.PI),m.Default.isCtrlDown(J)||(H=ku(J)?(u=U.getStyle("shiftRotateRound"))/2:(u=U.getStyle("rotateRound"),U.getStyle("rotateSensitivity")),c=S.roundTo(c,u,H)),Y?0!=(V=c-(M.lastRotation||0))&&(z.addRotation(V,M.groupRotateMode,function(J){return a.isRotationEditable(J)}),M.lastRotation=c):z.setRotation(c),U._setRotateCursor(g),c>Math.PI&&(c-=2*Math.PI),u=(c/Math.PI*180).toFixed(2)+"°",(H=m.Default.getLogicalPoint(J,U._canvas)).x+=S.Icons.TipShiftX,H.y+=S.Icons.TipShiftY,this.tipInfo={helperPos:H,text:u,size:u.length},U.fi({kind:"betweenEditRotation",event:J}))},J.prototype._42=function(J,a,z){var U=this,g=(U._clockPainted=!1,U.info={},U.screenInfo={},U._interactor);g.editDetail||U.gatherInfo(a,z)&&U.isVisible()&&(S.Icons.DrawIcon(g,J,S.Icons.RoundPoint,U.screenInfo.POS),g.getStyle("rotateTipVisible")&&U.tipInfo&&S.Icons.DrawIcon(g,J,S.Icons.TipHelper,U.tipInfo),U.editing&&U.drawClock(J))},J.prototype.drawClock=function(J){J.save(),this._clockPainted=!0;var a,z,U,g,V,Y=this.editing||{},c=Y.screenInfo||this.screenInfo,u=c.LEN,H=u+8,M=u+18;J.save(),J.translate(c.CENTER.x,c.CENTER.y),J.beginPath(),J.strokeStyle="rgb(150, 150, 150)";for(var I=0;I<360;I++)a=I*Math.PI/180,I%5==0&&(z=KR(a)*u,U=eR(a)*u,g=KR(a)*H,V=eR(a)*H,J.moveTo(z,U),J.lineTo(g,V)),I%45==0&&(z=KR(a)*u,U=eR(a)*u,g=KR(a)*M,V=eR(a)*M,J.moveTo(z,U),J.lineTo(g,V));J.stroke(),J.rotate(-LR),c=Y.lastRotation||this.target.getRotation(),J.beginPath(),J.fillStyle="rgba(255, 0, 0, 0.1)",J.strokeStyle="rgb(157, 157, 157)",J.moveTo(0,0),J.arc(0,0,M,0,c,!1),J.fill(),J.beginPath(),J.moveTo(0+M,0),J.arc(0,0,M,0,c,!1),J.stroke(),J.restore()},((z=S.Curve=function(J){this.catalog="Curve",this._interactor=J}).prototype={}).constructor=z,pR.defineProperties(z.prototype,{activing:{get:function(){return this._activing},set:function(J){J?(this._activing=new S.CurveActiving(this,J),this.gatherSingleTarget(this._interactor.gv,this.target)):((J=this._activing)&&J.dispose(),this._activing=null)}}}),z.PointType={Mirrored:0,Straight:1,Disconnected:2,Asymmetric:3},z.prototype.setUp=function(){var J=this._interactor;J&&J.gv.mp(this._onGraphviewPropertyChanged,this)},z.prototype._onGraphviewPropertyChanged=function(J){"zoom"!==J.property&&"translateX"!==J.property&&"translateY"!==J.property||this._handleDataChanged()},z.prototype.tearDown=function(){var J=this._interactor;J&&J.gv.ump(this._onGraphviewPropertyChanged,this)},z.prototype.canEnterEditDetailMode=function(){var J=df(this._interactor);if(J)return this.target=J},z.prototype.canQuitEditDetailMode=function(J){var a=this._interactor._getLogicalPoint(J);if(!this._checkEditRealPoint(a))return this._interactor.gv.getDataAt(J)!==this.target||void 0},z.prototype.preHandleScroll=function(J){var a=this.editing;if(a&&a.inEdit)return!0},z.prototype.getCurrentSelectintStatus=function(){var z=this;if(z.activing&&!z.activing.selections){if(z.activing.status!=xR)return z.activing.status;var J=function(J){var a=z.activing.status;z.activing.status=J,z._interactor.fp("shapePointStatus",a,J)},a=S.Curve.PointType,U=z.activing.point,g=z.activing.pairs;if(!g||1!==g.length)return J(a.Mirrored);var V=(g=g[0]).c1&&g.c1.isNearEnough(U),Y=g.c2&&g.c2.isNearEnough(U);return g.c1&&g.c2?V&&Y?J(a.Straight):V||Y?J(a.Asymmetric):(V=g.c1.clone().sub(U),Y=g.c2.clone().sub(U),1e-5<Math.abs(V.x*Y.y-V.y*Y.x)||0<V.x*Y.x?J(a.Disconnected):1e-5<Math.abs(V.length()-Y.length())?J(a.Asymmetric):J(a.Mirrored)):J(V||Y?a.Straight:a.Disconnected)}},z.prototype.handle_keydown=function(J){var a;this._interactor.editDetail&&(a=S.Curve.PointType,"1"===J.key?this._setCurrentSelectionStatus(a.Straight):"2"===J.key?this._setCurrentSelectionStatus(a.Mirrored):"3"===J.key?this._setCurrentSelectionStatus(a.Disconnected):"4"===J.key&&this._setCurrentSelectionStatus(a.Asymmetric))},z.prototype.setCurrentSelectionStatus=function(J){var a=this._interactor;a&&((a=a.gv).dm().beginTransaction(),this._setCurrentSelectionStatus(J),a.dm().endTransaction())},z.prototype._setCurrentSelectionStatus=function(J){var a=this,z=a.activing;if(z){var U=a.getCurrentSelectintStatus();if(null!==U&&U!==J){z.status=J;var g=a.activing.point;if((V=a.activing.pairs)&&1===V.length){var V=V[0],Y=a.screenInfo.curve,c=S.Curve.PointType,u=a._interactor,H=function(){a._writeToHt(),u.fp("shapePointStatus",U,J),a.check(u.gv,null,new S.Math.Vector2(u._lastLogicalPoint))};if(J===c.Straight)return Y.moveCtrlPoint(V,g,"c1"),Y.moveCtrlPoint(V,g,"c2"),void H();if(U===c.Straight)return I=(M=Y.findPairs(g,!0)[0]).r1||g,M=(M.r2||g).clone().sub(I).multiplyScalar(.25),Y.moveCtrlPoint(V,g.clone().sub(M),"c1"),Y.moveCtrlPoint(V,g.clone().add(M),"c2"),void H();var M,I=V.c1,e=V.c2;if(I&&e){if(J===c.Mirrored)return Y.moveCtrlPoint(V,g.clone().multiplyScalar(2).sub(e),"c1"),void H();if(J===c.Asymmetric&&U===c.Disconnected)return c=I.clone().sub(g).length(),M=g.clone().sub(e).setLength(c).add(g),Y.moveCtrlPoint(V,M,"c1"),void H()}z._firePointChange(),u.fp("shapePointStatus",U,J),a.check(u.gv,null,new S.Math.Vector2(u._lastLogicalPoint))}}}},z.prototype._handleDataChanged=(Tr="s:edge.points,s:edge.segments,points,segments,shape,position,rotation,scale".split(","),function(J){this.screenInfo&&this.target&&(J&&Tr.indexOf(J.property)<0||(J=this._interactor,this.gatherSingleTarget(J.gv,this.target,!0),this.check(J.gv,null,new S.Math.Vector2(J._lastLogicalPoint)),J._42()))}),z.prototype.gatherSingleTarget=function(a,J,z){var U,g,V,Y,c=this,u=(c.screenInfo&&c.screenInfo.curve&&(U=c.screenInfo.curve._curves),c.editing),H=u?c.screenInfo:c.screenInfo={},M=J instanceof m.Edge,I=M?(Y=J.s("edge.segments"),J.s("edge.points")||new m.List):(Y=J._58O,J._59O),e=(H.S=Y,H.P=[]),Q=S.getDataMatrix(J);if(J instanceof m.Polyline||J instanceof m.Edge&&c._interactor.getStyle("edgeElevationEditable")?(g=J.getElevation&&J.getElevation()||0,H.E=[]):(V=!1,I.each(function(J){J.e!==xR&&(V=!0)}),V&&(H.E=[])),I.each(function(J){H.E&&H.E.push(J.e!=xR?J.e:g),J=Q.apply(J),J=S.toScreenPosition(a,J),e.push(J.x,J.y)}),M&&(Y=e.length,I=S.toScreenPosition(a,J._lastSourcePoint||(Y?{x:e[0],y:e[1]}:{x:0,y:0})),M=S.toScreenPosition(a,J._lastTargetPoint||(Y?{x:e[Y-2],y:e[Y-1]}:{x:0,y:0})),e.splice(0,0,I.x,I.y),e.push(M.x,M.y),H.E&&((Y=J.getSourceAgent())instanceof m.Edge?H.E.splice(0,0,J.s("edge.source.offset.elevation")):H.E.splice(0,0,((J.s("edge.source.anchor.elevation")||.5)-.5)*Y.getTall()*Y.getScaleTall()+Y.getElevation()+J.s("edge.source.offset.elevation")),(I=J.getTargetAgent())instanceof m.Edge?H.E.push(J.s("edge.target.offset.elevation")):H.E.push(((J.s("edge.target.anchor.elevation")||.5)-.5)*I.getTall()*I.getScaleTall()+I.getElevation()+J.s("edge.target.offset.elevation")))),!H.S||!H.S.size()){H.S=new m.List,H.S.add(1);for(var v=0;v<e.length/2-1;v++)H.S.add(2)}u&&!z||c.convertToCubicBezier(U),!c.activing||!z&&c.editing&&"realPoint"!==c.editing.type||(M=H.curve.findPairs(c.activing.point),c.activing.pairs=M)},z.prototype._convertToNewPoint=function(J,a,z,U){for(var g,V=0,Y=a.length;V<Y;V++){if((g=a[V])._p1.isNearEnough(J)&&(!U||U.indexOf(g._p1)<0))return g._p1;if(g._p4.isNearEnough(J)&&(!U||U.indexOf(g._p4)<0))return g._p4}if(z)for(V=0,Y=Math.min(z.length,Y);V<Y;V++){if((g=z[V])._p1===J&&(!U||U.indexOf(a[V]._p1)<0))return a[V]._p1;if(g._p4===J&&(!U||U.indexOf(a[V]._p4)<0))return a[V]._p4}},z.prototype.convertToCubicBezier=function(a){var z,U,g,V,Y,c=this,J=new S.Math.Curve,u=c.screenInfo;J.createFromHtShape(u.P,u.S,u.E),u.curve=J,c.activing&&(z=J._curves,u=c.activing.point,U=c._convertToNewPoint(u,z,a),g=[],U&&(c.activing.point=U,g.push(U)),c.activing.selections&&(V=-1,(Y=c.activing.selections).forEach(function(J){V++,(U=c._convertToNewPoint(J,z,a,g))&&(Y[V]=U,g.push(U))})))},z.prototype.check=function(J,a,z){if(!a||Iu(a)||eu(a)){var U=this;if(U._interactor.setCursor("default"),U.editing=null,U.highlight=null,U.tipInfo=null,U.edgeEditResult=null,U.screenInfo)return TQ()||a&&eu(a)||U._checkEditCtrlPoint(z)||U._checkEditRealPoint(z)||U._checkEditElevation(z)||(a=U.screenInfo.curve.checkPoint(z,U._interactor.getStyle("curveIntersectSize")))&&((z=U.highlight={type:"insertKnot"}).bezier=a.bezier,z.point=a.intersection),U._interactor._42(),!0}},z.prototype.getAdjacentBeziers=function(J){var a=this.screenInfo;if(a){for(var z,U=a.curve._curves,g=[],V=xR,Y=0,c=U.length;Y<c;Y++)if(z=U[Y],V===xR){if(z._p4.isNearEnough(J))g.push(z),V=Y;else if(z._p1.isNearEnough(J))return g.push(z),g}else{if(z._p1.isNearEnough(J))return g.push(z),g;z._p4.isNearEnough(J)&&(g[0]=z,V=Y)}return g}},z.prototype.roundCorner=function(J){if(this.activing&&this.screenInfo){var a=this.screenInfo.curve._curves,z=(M=this.activing).point,U=this.getAdjacentBeziers(z);if(U&&2===U.length)var g=(V=U[1])._index,V=V.insertKnot(V.getTByPercentage(J/V.length))[1],Y=(a[g]=V).p1,c=(u=U[0])._index,u=u.insertKnot(u.getTByPercentage(1-J/u.length))[0],H=(a[c]=u).p4;else{var M=M.pairs[0],I=a.length;if(M.c1){if(M.c2)return;var c=(u=U[0])._index,H=(u=u.insertKnot(u.getTByPercentage(1-J/u.length))[0]).p4,Y=(Y=(V=a[(c+1)%I]).p1).clone().sub(z).setLength(J).add(z),g=c+1;if(1-Math.abs(H.clone().sub(z).normalize().dot(Y.clone().sub(z).normalize()))<1e-8)return;a[c]=u}else{if(g=(V=U[0])._index,Y=(V=V.insertKnot(V.getTByPercentage(J/V.length))[1]).p1,H=(H=(u=a[(g-1+I)%I]).p4).clone().sub(z).setLength(J).add(z),1-Math.abs(H.clone().sub(z).normalize().dot(Y.clone().sub(z).normalize()))<1e-8)return;a[g]=V}}c=new S.Math.CubicBezier(H,(M=z).clone().sub(H).multiplyScalar(2/3).add(H),M.clone().sub(Y).multiplyScalar(2/3).add(Y),Y),a.splice(g,0,c),this._writeToHt(),this.activing=null,this._interactor._42()}},z.prototype._checkEditRealPoint=function(J){var a,z,U,g,V,Y,c=this.screenInfo.curve._curves,u=this._interactor.getStyle("curvePointIntersectSize"),H=1/0;for(u*=u,U=0,g=c.length;U<g;U++)V=(a=c[U])._p1,(Y=J.distanceToSquared(V))<H&&(H=Y,z=V),V=a._p4,(Y=J.distanceToSquared(V))<H&&(H=Y,z=V);return!(u<H)&&((u=this.highlight={type:"changeRealPoint"}).point=z,this.editing={type:"realPoint",point:z,shiftGuide:{point:z.clone(),dir:"x",limit:0}},this._interactor.setCursor("crosshair"),!0)},z.prototype._checkEditElevation=function(J){if(!this._interactor.getStyle("curveElevationVisible"))return!1;if(this.target instanceof m.Edge&&!this._interactor.getStyle("edgeElevationEditable"))return!1;var a=this.activing;if(!a)return!1;if(!(a=a.getCurrentEditingPoint()))return!1;var z=this._interactor,U=z.getStyle("curveElevationGuideShift");return(z=z.getStyle("curveElevationIntersectSize"))*z<J.distanceToSquared({x:a.x+U[0],y:a.y+U[1]})?void 0:(this.highlight={type:"elevation"},z=new S.Math.Vector2(J.x,J.y,a.e),this.editing={type:"elevation",startPoint:z},this._interactor.setCursor("crosshair"),!0)},z.prototype._checkEditCtrlPoint=function(J){var a=this;if(a.activing&&!a.activing.selections&&(u=a.getCurrentSelectintStatus())!==S.Curve.PointType.Straight){var z=a.activing.pairs;if(z){var U,g,V,Y,c,u=a._interactor.getStyle("curvePointIntersectSize");u*=u;for(var H,M,I=1/0,e=0,Q=z.length;e<Q;e++)for(Y=z[e],M=0;M<2;M++)Y[c=0===M?"c1":"c2"]&&(H=J.distanceToSquared(Y[c]))<I&&(I=H,U=Y,g=e,V=c);return u<I?!1:(a.activing.hlpair=U,a.activing.hltype=V,(u=a.highlight={type:"changeCtrlPoint"}).point=U[V],a.editing={type:"ctrlPoint",pair:U,pairId:g,ctrlType:V,direction:U[V].clone().sub(a.activing.point).normalize()},a._interactor.setCursor("crosshair"),!0)}}},z.prototype.startEdit=function(J,a){J.startDragging(a);var z,U,g,V,Y=this;Y.highlight&&"insertKnot"===Y.highlight.type&&(Y.insertKnot(),Y.gatherSingleTarget(Y._interactor.gv,Y.target),Y.activing=null,Y._checkEditRealPoint(Y._interactor._getLogicalPoint(a)));(u=Y._activing)&&("ctrlPoint"===(c=Y.editing?Y.editing.type:null)?u.editingCtrl={pairId:Y.editing.pairId,type:u.hltype}:"realPoint"===c&&(u.editingCtrl=!1));var c=Y.highlight,u=m.Default.isCtrlDown(a);if(!c||TQ()||eu(a))return!(z=Y._interactor.gv).setFocus(a)||z._scrolling?void 0:void(u?Y._multiSelect={startPoint:z.lp(a)}:z.isPannable()&&(Iu(a)||eu(a))&&(Y._pan={tx:z.tx(),ty:z.ty()},J.fi({kind:"beginPan",event:a})));"changeRealPoint"===c.type&&(z=Y.activing?Y.activing.point:null,U=Y.activing?Y.activing.selections:null,u&&Y.activing?z===c.point?(U?(Y.activing={point:U[0]},1<U.length&&(U.splice(0,1),Y.activing.selections=U)):Y.activing=null,Y.editing=null):U&&0<=(g=U.indexOf(c.point))?(1<U.length?U.splice(g,1):delete Y.activing.selections,Y.editing=null):U?(U.push(z),Y.activing={point:c.point,selections:U}):Y.activing={point:c.point,selections:[z]}:U?z!==c.point&&(0<=(g=U.indexOf(c.point))?(U.splice(g,1,z),Y.activing={point:c.point,selections:U}):Y.activing={point:c.point}):(z===c.point&&(V=Y.activing.status),Y.activing={point:c.point},V&&(Y.activing.status=V)),J.fi({kind:"beginEditPoint",event:a})),"changeCtrlPoint"===c.type&&J.fi({kind:"beginEditPoint",event:a})},z.prototype.insertKnot=function(){var J=this.highlight;this.screenInfo.curve.insertKnot(J.bezier,J.point.t),this._writeToHt()},z.prototype._writeToHt=function(){var J,a,z,U=(V=this.screenInfo.curve.toHtShape()).points,g=[],V=V.segments,Y=this._interactor.gv,c=(Y.dm().beginTransaction(),this.target),u=c instanceof m.Edge,H=S.getDataMatrix(c).invert();(c instanceof m.Polyline||u&&this._interactor.getStyle("edgeElevationEditable"))&&(z=c.getElevation&&c.getElevation()||0);for(var M=0,I=U.length;M<I;M++)J=U[M],a=S.toWorldPosition(Y,J),a=H.apply(a),isFinite(J.e)&&J.e!==z&&(a.e=J.e),g.push(a);c._writing=!0,u?(c.s("edge.type","points"),c.setStyle("edge.segments",V),c.setStyle("edge.points",g.slice(1,g.length-1)),c.setStyle("edge.source.offset.x",0),c.setStyle("edge.source.offset.y",0),c.setStyle("edge.target.offset.x",0),c.setStyle("edge.target.offset.y",0),u=this._nextChangeEdgeHost,delete this._nextChangeEdgeHost,u&&("source"===u.type?c.setSource(u.host):c.setTarget(u.host)),this._writeEdgeHostAnchor("source",g[0]),this._writeEdgeHostAnchor("target",g[g.length-1])):g.length?(c.setSegments(V),c.setPoints(g,!0)):c.removeFromDataModel(),Y.dm().endTransaction(),delete c._writing},z.prototype._writeEdgeHostAnchor=function(J,a){var z=this.target,U=this._calcHostAnchor(z,J,a);U.index!==xR?(z.setStyle("edge."+J+".index",U.index),z.setStyle("edge."+J+".percent",xR),z.setStyle("edge."+J+".anchor.x",xR),z.setStyle("edge."+J+".anchor.y",xR),z.setStyle("edge."+J+".anchor.elevation",xR),z.setStyle("edge."+J+".offset.elevation",a.e)):U.percent!==xR?(z.setStyle("edge."+J+".percent",U.percent),z.setStyle("edge."+J+".index",xR),z.setStyle("edge."+J+".anchor.x",xR),z.setStyle("edge."+J+".anchor.y",xR),z.setStyle("edge."+J+".anchor.elevation",xR),z.setStyle("edge."+J+".offset.elevation",a.e)):(z.s("edge."+J+".anchor.x",U.x),z.s("edge."+J+".anchor.y",U.y),z.s("edge."+J+".anchor.elevation",U.e),U.offsetX||U.offsetY||U.offsetElevation?(z.s("edge."+J+".offset.x",U.offsetX),z.s("edge."+J+".offset.y",U.offsetY),z.s("edge."+J+".offset.elevation",U.offsetElevation)):(z.s("edge."+J+".offset.x",0),z.s("edge."+J+".offset.y",0),z.s("edge."+J+".offset.elevation",0)))},z.prototype._calcHostAnchor=function(J,a,z,U){U=U||("source"===a?J.getSourceAgent():J.getTargetAgent());var g=this._interactor.gv;if(V=g.calculateAttachPoint(U,z))return V.info;if(wL(U))return g.calculateEdgePosition(U,z);var V=U.getRotation(),Y=U.getAnchor(),c=(xL(U,g)&&(V=0),U.getElevation()),u=U.getTall()*U.getScaleTall(),c=((z.e||0)-J.s("edge."+a+".offset.elevation")-c)/u+.5,J=U.getScale();return V||J.x<0||J.y<0?(a=U.getMatrix().tfi(z),u=U.getSize(),{x:a.x/u.width+Y.x,y:a.y/u.height+Y.y,e:c}):(V=tD(g,U),{x:(z.x-V.x)/V.width,y:(z.y-V.y)/V.height,e:c})},z.prototype._handlePanning=function(J){var a,z,U,g,V=this._pan;V&&(V.started=!0,z=(a=this._interactor).gv,U=a._lastClientPoint,g=iu(J),g=Ef(z,g,U),z.setTranslate(V.tx+g.x,V.ty+g.y),this.gatherSingleTarget(a.gv,this.target),a._42(),a.fi({kind:"betweenPan",event:J}))},z.prototype.handleEdit=function(J,a){var z,U,g,V,Y,c,u,H,M,I,e,Q,v,Z,k,E,i,w,p=this,x=p.editing;if(p._pan)p._handlePanning(a);else{if(p._multiSelect)return p._multiSelect.endPoint=J.lp(a),void p._interactor.redraw();x&&(x.inEdit=!0,U=p._interactor._getLogicalPoint(a),Z=m.Default.isCtrlDown(a),H=m.Default.isShiftDown(a),k=x.type,z=p.activing,p._guideInfo=null,"ctrlPoint"===k&&H?(M=p.editing.direction.clone(),e=z.point,v=M.dot(U.clone().sub(e)),U=M.setLength(v).add(e)):"ctrlPoint"!==k&&"realPoint"!==k||("realPoint"===k&&H&&(g=(H=p.editing.shiftGuide).point,Q=Math.abs(U.x-g.x),(E=Math.abs(U.y-g.y))<Q&&Q>H.limit&&"y"===H.dir&&(H.dir="x"),Q<E&&E>H.limit&&"x"===H.dir&&(H.dir="y"),"x"===(M=H.dir)?(U.y=g.y,H.limit=Math.max(H.limit,Q)):"y"===M&&(U.x=g.x,H.limit=Math.max(H.limit,E))),Z||((Q=p._isEditEdgeSourceTarget())&&(I=U.clone()),H=p._guidingToEdit(U,M),i=E=1/0,(k="realPoint"===k?p._interactor.gridGuide.findClosest(U,M,!0):null)&&(k.x&&(E=k.x),k.y&&(i=k.y)),M=!1,H&&(H.xList&&(Math.abs(H.x)<=Math.abs(E)?(M=!0,E=H.x):delete H.xList),H.yList&&(Math.abs(H.y)<=Math.abs(i)?(M=!0,i=H.y):delete H.yList),M&&(p._guideInfo=H)),isFinite(E)&&(U.x+=E),isFinite(i)&&(U.y+=i),M&&(H.v=U),Q&&(k=M?U.clone():null,U.copy(I),(E=p._editEdgeSourceTarget(Q,U,Z,k))&&(w=(p.edgeEditResult=E).tipText,E.isFixed&&(p._guideInfo=null))))),V=p.screenInfo.curve,"realPoint"===x.type?((e=x.point).e!==xR&&(U.e=e.e),V.moveRealPoint(e,U),x.point=U,p.highlight.point=U,i=z.status,Y=z.selections,p.activing={point:U,status:i},Y&&(c=U.clone().sub(e),u=0,Y.forEach(function(J){var a=J.clone().add(c);V.moveRealPoint(J,a),Y[u++]=a}),p.activing.selections=Y)):"ctrlPoint"===x.type?(H=z.pairs[x.pairId],V.moveCtrlPoint(H,U,x.ctrlType),((M=z.status)===(I=S.Curve.PointType).Mirrored||M===I.Asymmetric)&&H.c1&&H.c2&&(e=new S.Math.Vector2(z.point),Q="c1"===x.ctrlType?"c2":"c1",M===S.Curve.PointType.Mirrored?V.moveCtrlPoint(H,e.clone().multiplyScalar(2).sub(U),Q):M===I.Asymmetric&&(v=H[Q].clone().sub(e).length(),Z=e.clone().sub(H[x.ctrlType]).setLength(v).add(e),isNaN(Z.x)||V.moveCtrlPoint(H,Z,Q))),z._firePointChange()):"elevation"===x.type&&(k=(g=x.startPoint).e+(g.y-U.y)/J._zoom,p._setCurrentPointImpl("e",k),z._firePointChange(),w="E: "+S.toFixed(k)),(E=m.Default.getLogicalPoint(a,p._interactor._canvas)).x+=S.Icons.TipShiftX,E.y+=S.Icons.TipShiftY,w||(i=S.toWorldPosition(J,U),w=S.toFixed(i.x)+", "+S.toFixed(i.y)),p.tipInfo={helperPos:E,text:w,size:w.length},p._writeToHt(),p._interactor.fi({kind:"betweenEditPoint",event:a}))}},z.prototype._setCurrentPointImpl=function(J,a){var z=this._activing;if(!z)return!1;var U=this.target;if(!U)return!1;var g=z.getCurrentEditingPoint();if(!g)return!1;var V,Y,c,u,H,M,I=z.editingCtrl;return I||(V=g.clone()),"e"===J?g.e=a:("x"===J||"y"===J?(Y=z._lastFirePoint,Y="x"===J?{x:a,y:Y?Y.y:0}:{x:Y?Y.x:0,y:a}):"object"==typeof J?(Y=J).e!==xR&&(g.e=J.e):(Y={x:J,y:a},arguments[2]!==xR&&(g.e=arguments[2])),J=S.getDataMatrix(U),Y=S.toScreenPosition(this._interactor.gv,J.apply(Y)),g.x=Y.x,g.y=Y.y),I||(c=V.multiplyScalar(-1).add(g),vL(g.e)&&vL(V.e)&&(c.e=g.e-V.e),(u=this.screenInfo.curve).moveCtrlDueToRealPointMovement(g,c),(H=z.selections)&&(M=0,H.forEach(function(J){var a=J.clone().add(c);isFinite(c.e)&&(a.e=(isFinite(J.e)?J.e:U.getElevation()||0)+c.e),u.moveRealPoint(J,a),H[M++]=a}),z.selections=H)),!0},z.prototype.setCurrentPoint=function(J,a){return!!this._setCurrentPointImpl(J,a)&&(this._writeToHt(),!0)},z.prototype._isEditEdgeSourceTarget=function(){if(!(this.target instanceof m.Edge))return!1;var J=this.editing.point,a=this.screenInfo.curve._curves;return J===a[0]._p1?"source":J===a[a.length-1]._p4&&"target"},z.prototype._editEdgeSourceTarget=function(a,J,z,U){var g,V,Y,c,u,H,M,I,e,Q=this,v=Q.target;if(Y="source"===a?v.getSourceAgent():v.getTargetAgent())return g=Q._interactor.gv,u=S.toWorldPosition(g,J),(H=(H=(V=Q._calcHostAnchor(v,a,u,Y)).index!==xR||V.percent!==xR?V.distance*g.getZoom()>Q._interactor.getStyle("edgeHostEdgeMaxDistance"):!!Q._interactor.getStyle("edgeHostDetectPerFrame")||V.x<0||1<V.x||V.y<0||1<V.y)&&g.getDataAt(u,function(J){return!!g.isSelectable(J)&&!!g.isSourceTargetEditable(v,J,a)&&!!v.canSetSourceTarget(J,a)}))&&(M=Q._calcHostAnchor(v,a,u,H),Q._nextChangeEdgeHost={type:a,host:Y=H},V=M),H=!1,z||V.x===xR?V.percent===xR&&V.index===xR||(H=!0,c=V.point):(M=Q._interactor.getStyle("anchorRound"),z=Q._interactor.getStyle("anchorSensitivity"),(I=g.calculateAttachPoint(Y,u))?(V=I.info,H=!0):((V=U?Q._calcHostAnchor(v,a,S.toWorldPosition(g,U),Y):V).x=S.roundTo(V.x,M,z),V.y=S.roundTo(V.y,M,z)),c=Zf(g,Y,0,V.offsetX||0,V.offsetY||0,V.x,V.y)),c&&(u=S.toScreenPosition(g,c),J.x=u.x,J.y=u.y),Q._edgeHostGuideInfo={corners:S.getTargetCornersOnScreen(g,Y),attach:I?I.index:-1,host:Y},V.percent!==xR?e="percent: "+V.percent.toFixed(2):V.index!==xR?e="index: "+V.index:(e=V.x.toFixed(2)+", "+V.y.toFixed(2),(V.offsetX||V.offsetY)&&(e+=" offset: "+V.offsetX.toFixed(2)+", "+V.offsetY.toFixed(2))),{host:Y,anchor:V,tipText:e,isFixed:H}},z.prototype._guidingToEdit=function(J,a){if(v=this.screenInfo.curve){var z,U,g,V,Y,c,u,H,M=v._curves,I=1/0,e=1/0,Q=[];for(this.editing&&"realPoint"===this.editing.type&&(H=this.editing.point),Y=0,c=2*M.length;Y<c;Y++)u=M[Math.floor(Y/2)][Y%2?"_p4":"_p1"],0<=Q.indexOf(u)||(Q.push(u),H&&H===u||(g=u.x-J.x,V=u.y-J.y,Math.abs(g)<Math.abs(I)?(I=g,z=[u]):g===I&&z.push(u),Math.abs(V)<Math.abs(e)?(e=V,U=[u]):V===e&&U.push(u)));var v=this._interactor.getStyle("smartGuideThreshold");if((Math.abs(I)>v||"y"===a)&&(z=null),(Math.abs(e)>v||"x"===a)&&(U=null),(z||U)&&(v=!1,a={},z&&(v=!0,a.xList=z,a.x=I),U&&(v=!0,a.yList=U,a.y=e),v))return a}},z.prototype._46O=function(J){var a,z,U,g=this;g.editing&&((U=g._isEditEdgeSourceTarget())&&(a=g.screenInfo.P,z=g.activing.point,"source"===U?(z.x=a[0],z.y=a[1]):(U=a.length,z.x=a[U-2],z.y=a[U-1])),g.editing=null,g._interactor.fi({kind:"endEditPoint",event:J})),g._guideInfo=null,g._edgeHostGuideInfo=null,g._pan&&(g._pan=null,g._interactor.fi({kind:"endPan",event:J})),g._multiSelect&&(g._handleMultiSelect(g._multiSelect,J),g._multiSelect=null),g.tipInfo=null,g.edgeEditResult=null},z.prototype._handleMultiSelect=function(J,a){if(J.startPoint&&J.endPoint){for(var z,U,g,V,Y=this._interactor,c=Y.gv,u=S.toScreenPosition(c,J.startPoint),c=S.toScreenPosition(c,J.endPoint),H=m.Default.unionPoint(u,c),M=this.screenInfo.curve._curves,I=[],e=function(J){J.x>=H.x&&J.y>=H.y&&J.x<=H.x+H.width&&J.y<=H.y+H.height&&I.indexOf(J)<0&&I.push(J)},Q=0,v=M.length;Q<v;Q++)e((g=M[Q])._p1),e(g._p4);if(I.length){var Z=(J=this.activing||{}).selections||[],k=(J.point&&Z.push(J.point),m.Default.isShiftDown(a)),E=a.altKey;if(E&&!k)for(V=I,I=[],Q=0,v=V.length;Q<v;Q++)z=V[Q],0<=(U=Z.indexOf(z))&&I.push(z);for(Q=0,v=Z.length;Q<v;Q++)z=Z[Q],0<=(U=I.indexOf(z))?k&&!E||(I[U]=xR):I.push(z);for(V=I,I=[],Q=0,v=V.length;Q<v;Q++)V[Q]&&I.push(V[Q]);0===(v=I.length)?this.activing=null:1===v?this.activing={point:I[0]}:(z=I[v-1],this.activing={point:z,selections:I.splice(0,v-1)}),Y.redraw()}}},z.prototype._canDeletePoint=function(J,a){if(!(this.target instanceof m.Edge))return!0;var z=J._curves[0],J=J._curves[J._curves.length-1];return z._p1!==a&&J._p4!==a},z.prototype.handleDelete=function(){var a,z,U=this;U.activing&&U.screenInfo&&(a=m.Default.isShiftDown(),z=U.screenInfo.curve,U._canDeletePoint(z,U.activing.point)&&z.deleteRealPoint(U.activing.point,a),U.activing.selections&&U.activing.selections.forEach(function(J){U._canDeletePoint(z,J)&&z.deleteRealPoint(J,a)}),U.activing=null,delete U.editing,delete U.tipInfo,delete U.edgeEditResult,delete U._pan,delete U._multiSelect,U._writeToHt(),U._interactor.fp("deleteShapePoint",!1,!0))},z.prototype.handleDoubleClick=function(J){var a,J=this._interactor._getLogicalPoint(J);if(this.screenInfo&&this._checkEditRealPoint(J))return J=(J=this.getCurrentSelectintStatus())===(a=S.Curve.PointType).Mirrored?a.Straight:a.Mirrored,this._setCurrentSelectionStatus(J),this._interactor._42(),!0},z.prototype._drawHighlight=function(J){var a,z,U=this.highlight;U&&(z=U.bezier,a=this._interactor,z&&S.Icons.DrawIcon(a,J,S.Icons.ShapeHighlightCurve,[z._p1.x,z._p1.y,z._p2.x,z._p2.y,z._p3.x,z._p3.y,z._p4.x,z._p4.y]),(z=U.point)&&"insertKnot"===U.type&&S.Icons.DrawIcon(a,J,S.Icons.ShapeHighlighPoint,z))},z.prototype._drawGuide=function(J){var a=this._guideInfo;if(a)for(var z,U,g,V=a.v,Y=0;Y<2;Y++)if(g=0===Y?a.xList:a.yList)for(z=0,U=g.length;z<U;z++)S.Icons.DrawIcon(this._interactor,J,S.Icons.ShapeGuideLine,[V.x,V.y,g[z].x,g[z].y])},z.prototype._drawCurrentPoint=function(a){if(this.activing){var J=this.activing,z=this.getCurrentSelectintStatus(),U=this._interactor;if(z!==S.Curve.PointType.Straight){var g=J.pairs,V=(J.hlpair,J.hltype,J.selections),Y=J.editingCtrl;if(g&&!V)for(var c,u=0,H=g.length;u<H;u++)c=g[u],Y&&u===Y.pairId&&c[Y.type]?S.Icons.DrawIcon(U,a,S.Icons.ShapeActivingCtrl,{point:c.point,c1:c.c1,c2:c.c2,hl:Y.type}):S.Icons.DrawIcon(U,a,S.Icons.ShapeActivingCtrl,c)}S.Icons.DrawIcon(U,a,S.Icons.ShapeHighlighRealPoint,this.activing.point),V&&V.forEach(function(J){S.Icons.DrawIcon(U,a,S.Icons.ShapeHighlighRealPoint,J)})}},z.prototype.clear=function(){this.editing=null,this._guideInfo=null,this.activing=null,this.highlight=null},z.prototype._42=function(a){var J=this,z=(J.info={},J.editing||(J.screenInfo=null),J._interactor);if(z.editDetail){var U,g,V=z.gv;if(!J.target||!V.isSelected(J.target)||!V.isVisible(J.target))return z.editDetail=!1,void J.clear();J.gatherSingleTarget(V,J.target),S.Icons.DrawIcon(z,a,S.Icons.ShapeBgCurve,J.screenInfo),J._interactor.getStyle("curveElevationVisible")&&(J.target instanceof m.Polyline||J.target instanceof m.Edge&&J._interactor.getStyle("edgeElevationEditable"))&&J.activing&&(U=J.activing.getCurrentEditingPoint())&&"string"!=typeof U.e&&S.Icons.DrawIcon(z,a,S.Icons.EdgeElevationGuide,U),J._drawHighlight(a),J._drawCurrentPoint(a),J._getRealPoint().forEach(function(J){S.Icons.DrawIcon(z,a,S.Icons.ShapePoint,J)}),J._drawGuide(a),J.tipInfo&&J._interactor.getStyle("curveTipVisible")&&S.Icons.DrawIcon(z,a,S.Icons.TipHelper,J.tipInfo),J._edgeHostGuideInfo&&z._drawHostGuide(J._edgeHostGuideInfo),J.edgeEditResult&&J._drawEdgeHostHighlight(a,J.edgeEditResult.host,J.edgeEditResult.anchor),J._multiSelect&&J._multiSelect.endPoint&&((U=m.Default.unionPoint(S.toScreenPosition(V,J._multiSelect.startPoint),S.toScreenPosition(V,J._multiSelect.endPoint))).color=V.getRectSelectBorderColor(),a.save(),a.setTransform(1,0,0,1,0,0),V=DR.devicePixelRatio,g=U.borderWidth=Math.round(V),g/=2,U.x=Math.round(U.x*V)+g,U.y=Math.round(U.y*V)+g,U.width=Math.round(U.width*V),U.height=Math.round(U.height*V),S.Icons.DrawIcon(z,a,S.Icons.SimpleRect,U),a.restore())}else J.clear()},z.prototype._drawEdgeHostHighlight=function(J,a,z){this.drawEdgeHostHighlight(J,a,z),this._interactor.redraw()},z.prototype.drawEdgeHostHighlight=function(J,a,z){if(wL(a)){for(var U,g,V=this._interactor,Y=V.gv,a=Y.getDataUI(a),c=Cf(a),u=[],H=0,M=c.points.length;H<M;H++)g=S.toScreenPosition(Y,c.points.get(H)),u.push(g.x,g.y);c.segments&&(U=c.segments.toArray());for(var I=V.getStyle("edgeHostHighlighPeriod"),e=V.getStyle("edgeHostEdgeHighlighColor"),Q=(S.Icons.DrawIcon(V,J,S.Icons.ShapeBgCurve,{P:u,S:U,color:e,dynamicVisible:z.index===xR,dynamicPeriod:I}),e=V.getStyle("edgeHostPointHighlighColor"),bf(a)),H=0,M=Q.length;H<M;H++){var v=Q[H],v=S.toScreenPosition(Y,v);S.Icons.DrawIcon(V,J,S.Icons.ShapePoint,{point:{x:v.x,y:v.y},color:e,size:12,dynamicVisible:H===z.index,dynamicPeriod:I})}}},z.prototype._getRealPoint=function(){var z,J=this.screenInfo,U=J.P,g=J.S,V=-1,Y=[],c=-1,u=g.length;return g.each(function(J){c++;var a=1;if(3===J)a=2;else if(4===J)a=3;else if(5===J)return;V+=a,z=u<=c+1||1===g.get(c+1),Y.push({point:{x:U[2*V],y:U[2*V+1]},segmentIndex:c,pointIndex:V,isEnd:z})}),Y},z.prototype.getEditingPointsInfo=function(J){var a=this,z=a.activing;if(!z)return!1;var U=z.point;if(!U)return!1;var g=this._getRealPoint(),V=[{screen:U}];z.selections&&z.selections.forEach(function(J){V.push({screen:J})});var Y,c,u=g.length;return V.forEach(function(J){for(Y=0;Y<u;Y++)if(c=g[Y],J.screen.isNearEnough(c.point)){J.segmentIndex=c.segmentIndex,J.pointIndex=c.pointIndex,J.point=a.target.getPoints().get(c.pointIndex);break}}),J&&V.sort(function(J,a){return J.segmentIndex-a.segmentIndex}),V};(((a=S.MoveHelper=function(J){this.catalog="Move",this._interactor=J}).prototype={}).constructor=a).prototype.calcShift=function(J,a,z){var U,g=this,V=g._interactor.gv,Y=V.lp(a);if("beginMove"===J&&g._gatherGridInfo(z._lastLogicalPoint||Y),J=g._target){if(z=J.downPosition){var c=g._interactor.getStyle("moveSensitivity")/V._zoom;if(z.distanceTo(Y)<c)return{x:0,y:0};delete J.downPosition}m.Default.isShiftDown(a)&&(Y=g._dealShiftDown(Y),U=J.shiftGuide.dir);var u,z=J.rawPos={x:J.pos.x+Y.x-J.lp.x,y:J.pos.y+Y.y-J.lp.y},Y=!0;if((c=g._interactor.getStyle("moveHelperFilter"))&&(Y=c(J.node instanceof S.Group?J.node._entities:[J.node])),m.Default.isCtrlDown(a)||!Y)return u=g._calcShiftByAddon(),g._target.node instanceof S.Group&&((M=g._target.node)._position.x+=u.x,M._position.y+=u.y),u;if(c=g._interactor.rectGuide,J.node instanceof m.Data&&J.node.s("2d.attachable")&&(a=g._calcAttachNodeShift(J.node,z),c.clear(),a))return a;for(var H,M,I=J.x+z.x,e=J.y+z.y,Y={x:I,y:e},a={x:I+J.w/2,y:e+J.h/2},Q={x:I+J.w,y:e+J.h},v=g._interactor.gridGuide,Z=[c.findClosest(Y,U),c.findClosest(a,U),c.findClosest(Q,U),v.findClosest(Y,U),v.findClosest(a,U),v.findClosest(Q,U)],k=1/0,E=1/0,i=0,w=Z.length;i<w;i++)(H=Z[i])&&(I=H.x,e=H.y,isFinite(I)&&Math.abs(I)<Math.abs(k)&&(k=I),isFinite(e)&&Math.abs(e)<Math.abs(E)&&(E=e));return isFinite(k)||(k=0),isFinite(E)||(E=0),u=g._calcShiftByAddon(k,E),g._target.node instanceof S.Group&&((M=g._target.node)._position.x+=u.x,M._position.y+=u.y),c=J.node,xL(c,V)||g._interactor.rectGuide.gatherLines({node:c,x:J.x+(z.x+k),y:J.y+(z.y+E),w:J.w,h:J.h},U),u}},a.prototype._calcShiftByAddon=function(J,a){var z=(U=this._target).rawPos,U=U.node.getPosition();return{x:z.x-U.x+(J=J||0),y:z.y-U.y+(a=a||0)}},a.prototype._dealShiftDown=function(J){var a=this._target.shiftGuide,z=this._target.lp,U=Math.abs(J.x-z.x),g=Math.abs(J.y-z.y),V=(g<U&&U>a.limit&&"y"===a.dir&&(a.dir="x"),U<g&&g>a.limit&&"x"===a.dir&&(a.dir="y"),a.dir);return"x"===V?(J.y=z.y,a.limit=Math.max(a.limit,U)):"y"===V&&(J.x=z.x,a.limit=Math.max(a.limit,g)),J},a.prototype._isAttachableLineShape=function(J){if(!J.getSegments)return!1;var a=J.getSegments();if(!a)return!0;for(var z=1,U=(a=a instanceof m.List?a.getArray():a).length;z<U;z++)if(2!==a[z])return!1;return!0},a.prototype._calcAttachNodeShift=(fr=new o,Nr=new o,Ar=new o,or=new o,function(J,a){var z=this._interactor.gv,U=J.getHost(),g=z.getDataAt(a,function(J){return!!J.s("2d.hostable")});if(g&&U!==g&&J.setHost(g),!g)return this._edgeHostGuideInfo=null,J.setHost(null);var V,Y,U=this._edgeHostGuideInfo={corners:S.getTargetCornersOnScreen(z,g),host:g,attach:-1};if(!this._isAttachableLineShape(g))return(V=z.calculateAttachPoint(g,a))?(Y=V.point,U.attach=V.index,this._calcShiftByAddon(Y.x-a.x,Y.y-a.y)):void 0;for(var c,u,H,M,I,e,Q=g.getPoints(),v=Q.size(),Z=g.getPointsMatrix2d(),k=1/0,E=0;E<v&&(E!==v-1||g.isClosePath());E++)0!==E?Nr.copy(Ar):Z.apply(Q.get(E),Nr),Z.apply(E===v-1?Q.get(0):Q.get(E+1),Ar),fr.copy(a).sub(Nr),or.copy(Ar).sub(Nr),c=or.length(),or.divideScalar(c),(u=fr.dot(or))<0?u=0:c<u&&(u=c),or.multiplyScalar(u).add(Nr),(H=fr.copy(a).sub(or).lengthSq())<k&&(k=H,e=E,M=u,I=c);return Math.sqrt(k)*z.getZoom()>this._interactor.getStyle("attachThreshold")?(J.s({"attach.index":-1}),void J.setHost(null)):(J.s("attach.offset.opposite")&&(M=I-M),J.s({"attach.index":e,"attach.offset":J.s("attach.offset.relative")?M/I:M}),{x:0,y:0})}),a.prototype._gatherGridInfo=function(J){var a,z,U=this._interactor;if((g=U._getValidSelection()).length){if(1===g.length){if(!(a=g[0]).getRect)return void(this._target=null)}else if(!(a=S.Group.findOrCreateGroup(g,U._uuid)))return void(this._target=null)}else{var g=U.gv.sm().getSelection();if(g.length&&!(a=g.get(0)).getRect)return void(this._target=null)}a&&(g=a.getPosition(),z=a.getRect(),this._target={node:a,x:z.x-g.x,y:z.y-g.y,w:z.width,h:z.height,lp:{x:J.x,y:J.y},pos:{x:g.x,y:g.y},shiftGuide:{dir:"x",limit:0},downPosition:new S.Math.Vector2(J)},U.rectGuide.gatherRects())},a.prototype.clear=function(){this._edgeHostGuideInfo=null,this._interactor.rectGuide.clear(),this._interactor._42()},a.prototype._42=function(){var J=this._edgeHostGuideInfo;J&&this._interactor._drawHostGuide(J)};var Tr,fr,Nr,Ar,or,sr,mr,_r,hr,Br,tr,rr,Gr,J2,a2,z2,U2,g2,V2,Y2,c2,u2,H2,M2,I2,e2,Q2,v2,Z2,k2,E2,i2,w2,p2,x2,W2,D2,K2,d2,j2,q2,X2,R2,C2,y2,F2,O2,n2=m.WebGLConstants=pR.freeze({DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,HALF_FLOAT_OES:36193,DOUBLE:5130,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,COLOR:6144,DEPTH:6145,STENCIL:6146,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,MAX_3D_TEXTURE_SIZE:32883,UNSIGNED_INT_2_10_10_10_REV:33640,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,MAX_TEXTURE_LOD_BIAS:34045,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,VERTEX_ATTRIB_ARRAY_INTEGER:35069,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,UNSIGNED_INT_10F_11F_11F_REV:35899,RGB9_E5:35901,UNSIGNED_INT_5_9_9_9_REV:35902,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,RASTERIZER_DISCARD:35977,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,UNSIGNED_INT_24_8:34042,DEPTH24_STENCIL8:35056,UNSIGNED_NORMALIZED:35863,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,MAX_SAMPLES:36183,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,VERTEX_ARRAY_BINDING:34229,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,SIGNED_NORMALIZED:36764,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,INVALID_INDEX:4294967295,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,SAMPLER_BINDING:35097,RGB10_A2UI:36975,INT_2_10_10_10_REV:36255,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497,TEXTURE_IMMUTABLE_FORMAT:37167,MAX_ELEMENT_INDEX:36203,TEXTURE_IMMUTABLE_LEVELS:33503,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047}),L2=(sr="undefined"!=typeof WebGL2RenderingContext,mr={aliasedLineWidthRange:33902,aliasedPointSizeRange:33901,maxCombinedTextureImageUnits:35661,maxCubeMapTextureSize:34076,maxFragmentUniformVectors:36349,maxRenderBufferSize:34024,maxTextureImageUnits:34930,maxTextureSize:3379,maxVaryingVectors:36348,maxVertexAttribs:34921,maxVertexTextureImageUnits:35660,maxVertexUniformVectors:36347,maxViewportDIMs:3386},_r={max3DTextureSize:32883,maxArrayTextureLayers:35071,maxColorAttachments:36063,maxCombinedFragmentUniformComponents:35379,maxCombinedUniformBlocks:35374,maxCombinedVertexUniformComponents:35377,maxDrawBuffers:34852,maxElementIndex:36203,maxElementsIndices:33001,maxElementsVertices:33e3,maxFragmentInpuComponents:37157,maxFragmentUniformBlocks:35373,maxFragmentUniformComponents:35657,maxProgramTexelOffset:35077,maxSamples:36183,maxTextureLODBias:34045,maxTransformFeedbackInterleavedComponents:35978,maxTransformFeedbackSeparateAttribs:35979,maxTransformFeedbackSeparateComponents:35968,maxUniformBlockSize:35376,maxUniformBufferBindings:35375,maxVaryingComponents:35659,maxVertexOutputComponents:37154,maxVertexUniformBlocks:35371,maxVertexUniformComponents:35658,minProgramTexelOffset:35076},{for:function(J){var a=J._info;return a||(J._info=a=function(U,J){(J=J==xR?{}:J).version=sr&&(U instanceof WebGL2RenderingContext||"[object WebGL2RenderingContext]"===pR.prototype.toString.call(U))?2:1,J.extensions=function(){for(var J={},a=U.getSupportedExtensions(),z=a.length;z--;)J[a[z]]=function(J,a){var z=xR;return function(){return z=z||J.getExtension(a)}}(U,a[z]);return J}();for(var a=pR.keys(mr),z=0,g=a.length;z<g;++z)J[V=a[z]]=U.getParameter(mr[V]);if(1<J.version)for(var V,z=0,g=(a=pR.keys(_r)).length;z<g;++z)J[V=a[z]]=U.getParameter(_r[V]);return J}(J,a)),a}}),b2=(hr="undefined"!=typeof Float32Array&&new Float32Array(4),$R={viewport:{def:[0,0,NaN,NaN],getter:function(J){return J.getParameter(2978)},setter:function(J,a){var z=a[2]!=a[2]?J.drawingBufferWidth-a[0]:a[2],U=a[3]!=a[3]?J.drawingBufferHeight-a[1]:a[3];J.viewport(a[0],a[1],z,U)}},dither:{def:!1,getter:function(J){return J.isEnabled(3024)},setter:function(J,a){a?J.enable(3024):J.disable(3024)}},rasterizerDiscard:{def:!1,getter:function(J){return 1<L2.for(J).version&&J.isEnabled(35977)},setter:function(J,a){1!==L2.for(J).version&&(a?J.enable(35977):J.disable(35977))}},lineWidth:{def:1,getter:function(J){return J.lineWidth?J.getParameter(2849):1},setter:function(J,a){J.lineWidth&&J.lineWidth(a)}},color:{clear:{def:[0,0,0,0],getter:function(J){return J.getParameter(3106)},setter:function(J,a){J.clearColor(a[0],a[1],a[2],a[3])},parse:NM},mask:{def:[!0,!0,!0,!0],getter:function(J){return J.getParameter(3107)},setter:function(J,a){J.colorMask(a[0],a[1],a[2],a[3])}}},blend:{enabled:{def:!1,getter:function(J){return J.isEnabled(3042)},setter:function(J,a){a?J.enable(3042):J.disable(3042)}},color:{def:[0,0,0,0],getter:function(J){return J.getParameter(32773)},setter:function(J,a){J.blendColor(a[0],a[1],a[2],a[3])},parse:NM},equation:{def:[32774,32774],getter:function(J){return[J.getParameter(32777),J.getParameter(34877)]},setter:function(J,a){J.blendEquationSeparate(a[0],a[1])},parse:function(J){var a=J.length;return 1<a?J:(hr[1]=hr[0]=1===a?J[0]:J,hr)}},func:{def:[1,n2.ZERO,1,n2.ZERO],getter:function(J){return[J.getParameter(32969),J.getParameter(32968),J.getParameter(32971),J.getParameter(32970)]},setter:function(J,a){J.blendFuncSeparate(a[0],a[1],a[2],a[3])},parse:function(J){return 3<J.length?J:(hr[2]=hr[0]=J[0],hr[3]=hr[1]=J[1],hr)}}},cullFace:{enabled:{def:!1,getter:function(J){return J.isEnabled(2884)},setter:function(J,a){a?J.enable(2884):J.disable(2884)}},mode:{def:1029,getter:function(J){return J.getParameter(2885)},setter:function(J,a){J.cullFace(a)}},frontFace:{def:2305,getter:function(J){return J.getParameter(2886)},setter:function(J,a){J.frontFace(a)}}},scissor:{enabled:{def:!1,getter:function(J){return J.isEnabled(3089)},setter:function(J,a){a?J.enable(3089):J.disable(3089)}},box:{def:[0,0,NaN,NaN],getter:function(J){return J.getParameter(3088)},setter:function(J,a){var z=a[2]!=a[2]?J.drawingBufferWidth-a[0]:a[2],U=a[3]!=a[3]?J.drawingBufferHeight-a[1]:a[3];J.scissor(a[0],a[1],z,U)}}},depth:{enabled:{def:!1,getter:function(J){return J.isEnabled(2929)},setter:function(J,a){a?J.enable(2929):J.disable(2929)}},clear:{def:1,getter:function(J){return J.getParameter(2931)},setter:function(J,a){J.clearDepth(a)}},mask:{def:!0,getter:function(J){return J.getParameter(2930)},setter:function(J,a){J.depthMask(a)}},range:{def:[0,1],getter:function(J){return J.getParameter(2928)},setter:function(J,a){J.depthRange(a[0],a[1])}},func:{def:513,getter:function(J){return J.getParameter(2932)},setter:function(J,a){J.depthFunc(a)}}},stencil:{enabled:{def:!1,getter:function(J){return J.isEnabled(2960)},setter:function(J,a){a?J.enable(2960):J.disable(2960)}},clear:{def:0,getter:function(J){return J.getParameter(2961)},setter:function(J,a){J.clearStencil(a)}},frontMask:{def:255,getter:function(J){return J.getParameter(2968)},setter:function(J,a){J.stencilMaskSeparate(1028,a)}},frontOp:{def:[7680,7680,7680],getter:function(J){return[J.getParameter(2964),J.getParameter(2965),J.getParameter(2966)]},setter:function(J,a){J.stencilOpSeparate(1028,a[0],a[1],a[2])}},frontFunc:{def:[519,0,255],getter:function(J){return[J.getParameter(2962),J.getParameter(2967),J.getParameter(2963)]},setter:function(J,a){J.stencilFuncSeparate(1028,a[0],a[1],a[2])}},backMask:{def:255,getter:function(J){return J.getParameter(36005)},setter:function(J,a){J.stencilMaskSeparate(1029,a)}},backOp:{def:[7680,7680,7680],getter:function(J){return[J.getParameter(34817),J.getParameter(34818),J.getParameter(34819)]},setter:function(J,a){J.stencilOpSeparate(1029,a[0],a[1],a[2])}},backFunc:{def:[519,0,255],getter:function(J){return[J.getParameter(34816),J.getParameter(36003),J.getParameter(36004)]},setter:function(J,a){J.stencilFuncSeparate(1029,a[0],a[1],a[2])}}},hint:{generateMipmap:{def:4352,getter:function(J){return J.getParameter(33170)},setter:function(J,a){J.hint(33170,a)}},fragmentShaderDerivative:{def:4352,getter:function(J){var a=L2.for(J);return 1!==a.version||a.extensions.OES_standard_derivatives?J.getParameter(35723):4352},setter:function(J,a){var z=L2.for(J);(1<z.version||z.extensions.OES_standard_derivatives)&&J.hint(35723,a)}}},pixelStore:{packAlignment:fM(4,3333,!1),unpackAlignment:fM(4,3317,!1),unpackFlipY:fM(!1,37440,!1),unpackPremultiplyAlpha:fM(!1,37441,!1),unpackColorspaceConversion:fM(37444,37443,!1),packRowLength:fM(0,3330,!0),packSkipPixels:fM(0,3332,!0),packSkipRows:fM(0,3331,!0),unpackRowLength:fM(0,3314,!0),unpackImageHeight:fM(0,32878,!0),unpackSkipPixels:fM(0,3316,!0),unpackSkipRows:fM(0,3315,!0),unpackSkipImages:fM(0,32877,!0)},polygonOffset:{enabled:{def:!1,getter:function(J){return J.isEnabled(32823)},setter:function(J,a){a?J.enable(32823):J.disable(32823)}},value:{def:[0,0],getter:function(J){return[J.getParameter(32824),J.getParameter(10752)]},setter:function(J,a){J.polygonOffset(a[0],a[1])}}},sampleCoverage:{enabled:{def:!1,getter:function(J){return J.isEnabled(32928)},setter:function(J,a){a?J.enable(32928):J.disable(32928)}},alpha:{def:!1,getter:function(J){return J.isEnabled(32926)},setter:function(J,a){a?J.enable(32926):J.disable(32926)}},value:{def:[1,!1],getter:function(J){return[J.getParameter(32938),J.getParameter(32939)]},setter:function(J,a){J.sampleCoverage(a[0],a[1])}}}},$R=nD.create($R,function(J){return"def"in J}),oM.prototype.reset=function(){for(var J=this._struct.children,a=J.length;a--;){var z=J[a],U=z.name;z.isLeaf?this[U]=z.desc.def:this._branches[U].reset()}},oM.prototype.save=function(J){J==xR&&(J={});for(var a=this._struct.children,z=a.length;z--;){var U=a[z],g=U.name;U.isLeaf?J[g]=AM(this._record[g]):((U=J[g])==xR&&(J[g]=U={}),this._branches[g].save(U))}return J},oM.prototype.sync=function(J,a){for(var z=this._struct.children,U=z.length;U--;){var g=z[U],V=g.name;g.isLeaf?!a&&this._leafSync[V]||(J?this._record[V]=g.desc.getter(this.gl):g.desc.setter(this.gl,this._record[V]),this._leafSync[V]=!0):this._branches[V].sync(J,a)}},oM.prototype.syncLoss=function(){for(var J=this._struct.children,a=J.length;a--;){var z=J[a];z.isLeaf?this._leafSync[z.name]=!1:this._branches[z.name].syncLoss()}},oM.prototype.apply=function(J,a){for(var z=this._struct.children,U=z.length;U--;){var g=z[U],V=g.name;V in J&&(g.isLeaf?(a&&(a[V]=this[V]),this[V]=J[V]):this._branches[V].apply(J[V],a?a[V]={}:xR))}},oM.prototype.append=function(J){var a,z=this._struct.childMap;for(a in J){var U=z[a];U&&(U.isLeaf?this[a]=J[a]:this._branches[a].append(J[a]))}},Br=function c(g){var u=[];function J(J,a){oM.call(this,g,J,a);for(var z=u.length;z--;){var U=u[z];this._branches[U._name]=new U._type(J,this._record[U._name])}}return jM(J,oM),g.forEach(function(J,a){var z,U,g=J.name,V=qM(J.desc.def),Y=V&&J.desc.def.length;J.isLeaf?(z=J.desc.setter,U=J.desc.parse,pR.defineProperty(a,g,{configurable:!1,enumerable:!0,get:function(){return this._record[g]},set:V?function(J){U&&(J=U(J)),!function(J,a){for(var z=Y,U=!1;z--;)J[z]!==a[z]&&(J[z]=a[z],U=!0);return U}(this._record[g],J)&&this._leafSync[g]||(z(this.gl,this._record[g]),this._leafSync[g]=!0)}:function(J){this._record[g]===J&&this._leafSync[g]||(z(this.gl,J),this._record[g]=J,this._leafSync[g]=!0)}})):(u.push({_name:g,_type:c(J)}),pR.defineProperty(a,g,{configurable:!1,enumerable:!0,get:function(){return this._branches[g]},set:function(J){this._branches[g].apply(J)}}))},J.prototype),J}($R),function(){var u=[];if("function"==typeof Float32Array)for(var J=1;J<17;++J)u[J]=new Float32Array(J);function H(J,a,z,U){if(J)if(J.length!=xR)for(g=0;g<U;++g)a[z+g]=J[g];else J.toArray&&J.toArray(a,z);else for(var g=0;g<U;++g)a[z+g]=0}function z(J,a,z){var U=J[0];if("number"==typeof U)return J;var g=a*z,V=u[g];if(V==xR&&(u[g]=V=new Float32Array(g)),0!==a){H(U,V,0,z);for(var Y=1,c=0;Y!==a;++Y)H(J[Y],V,c+=z,z)}return V}function a(J,a){J.uniform1iv(this.addr,a)}function U(J,a){J.uniform2iv(this.addr,a)}function g(J,a){J.uniform3iv(this.addr,a)}function V(J,a){J.uniform4iv(this.addr,a)}var Y=[0,1];function c(J,a){J.uniform1i(this.addr,this.slots[0]),J.activeTexture(33984+this.slots[0]),J.bindTexture(3553,a||J._emptyTexture)}function M(J,a){J.uniform1iv(this.addr,this.slots);for(var z=this.slots.length;z--;)J.activeTexture(33984+this.slots[z]),J.bindTexture(3553,a[z]||J._emptyTexture)}var I=[];function e(J,a,z){I[J]=[a,z]}e(5126,function(J,a){var z=this.cache;z[0]!==a&&(J.uniform1f(this.addr,a),z[0]=a)},function(J,a){J.uniform1fv(this.addr,a)}),e(35664,function(J,a){var z,a=a.x!=xR?(z=a.x,a.y):(z=a[0],a[1]),U=this.cache;U[0]===z&&U[1]===a||(J.uniform2f(this.addr,z,a),U[0]=z,U[1]=a)},function(J,a){a=z(a,this.size,2),J.uniform2fv(this.addr,a)}),e(35665,function(J,a){a=(a="string"==typeof a?tQ(a):a).x!=xR?(z=a.x,U=a.y,a.z):a.r!=xR?(z=a.r,U=a.g,a.b):a.red!=xR?(z=a.red,U=a.green,a.blue):(z=a[0],U=a[1],a[2]);var z,U,g=this.cache;g[0]===z&&g[1]===U&&g[2]===a||(J.uniform3f(this.addr,z,U,a),g[0]=z,g[1]=U,g[2]=a)},function(J,a){a=z(a,this.size,3),J.uniform3fv(this.addr,a)}),e(35666,function(J,a){a=(a="string"==typeof a?tQ(a):a).x!=xR?(z=a.x,U=a.y,g=a.z,a.w):a.r!=xR?(z=a.r,U=a.g,g=a.b,a.a):a.red!=xR?(z=a.red,U=a.green,g=a.blue,a.alpha):(z=a[0],U=a[1],g=a[2],a[3]==WR?1:a[3]);var z,U,g,V=this.cache;V[0]===z&&V[1]===U&&V[2]===g&&V[3]===a||(J.uniform4f(this.addr,z,U,g,a),V[0]=z,V[1]=U,V[2]=g,V[3]=a)},function(J,a){a=z(a,this.size,4),J.uniform4fv(this.addr,a)}),e(5124,function(J,a){var z=this.cache;z[0]!==a&&(J.uniform1i(this.addr,a),z[0]=a)},a),e(35667,U,U),e(35668,g,g),e(35669,V,V),e(35670,function(J,a){var z=this.cache;z[0]!==(a=Y[a?1:0])&&(J.uniform1i(this.addr,a),z[0]=a)},a),e(35671,U,U),e(35672,g,g),e(35673,V,V),e(35674,function(J,a){var z=u[4];z.set(a,0),J.uniformMatrix2fv(this.addr,!1,z)},function(J,a){J.uniformMatrix2fv(this.addr,!1,z(a,this.size,4))}),e(35675,function(J,a){var z=u[9];z.set(a,0),J.uniformMatrix3fv(this.addr,!1,z)},function(J,a){J.uniformMatrix3fv(this.addr,!1,z(a,this.size,9))}),e(35676,function(J,a){var z=u[16];z.set(a,0),J.uniformMatrix4fv(this.addr,!1,z)},function(J,a){J.uniformMatrix4fv(this.addr,!1,z(a,this.size,16))}),e(35678,c,M),e(36306,c,M),e(35680,function(J,a){J.uniform1i(this.addr,this.slots[0]),J.activeTexture(33984+this.slots[0]),J.bindTexture(34067,a||J._emptyCubeTexture)},function(J,a){J.uniform1iv(this.addr,this.slots);for(var z=this.slots.length;z--;)J.activeTexture(33984+this.slots[z]),J.bindTexture(34067,a[z]||J._emptyCubeTexture)});var i=/([\w\d_]+)(\])?(\[|\.)?/g;function w(J,a,z,U,g){this.name=J,this.addr=a,this.cache=[],this.size=U?z.size:0,this.activeInfo=z,this.setter=I[z.type][U?1:0],this.slots=function(J,a,z){switch(J.type){case 35678:case 35680:case 36306:if("uSampler"===z)return[0];if("uBlendSampler"===z)return[1];for(var U=J.size,g=new Int32Array(U),V=0;V<U;++V)g[V]=a.usedTextureSlot++;return g}return xR}(z,g,J),CD(this)}function p(J,a,z){this.gl=a,this._program=z,this._leaves={},this._branches={},this._struct=J}function Q(J,a){for(var z=J.getProgramParameter(a,35718),U={},g={usedTextureSlot:2};z--;){var V=J.getActiveUniform(a,z),Y=V.name,c=(k=Q=Z=H=void 0,V),u=J.getUniformLocation(a,Y),H=U,M=g,I=c.name,e=I.length;for(i.lastIndex=0;;){var Q=i.exec(I),v=i.lastIndex,Z=Q[1],k="]"===Q[2];if(k&&(Z|=0),(Q=Q[3])===xR||"["===Q&&v+2===e){H[Z]=new w(Z,u,c,Q!==xR,M);break}(k=H[Z])==xR&&(H[Z]=k={}),H=k}}var E=function V(g){var Y=[];function J(J,a){p.call(this,g,J,a);for(var z=Y.length;z--;){var U=Y[z];this._branches[U._name]=new U._type(J,a)}this.uuid=t.generateUUID()}return jM(J,p),g.forEach(function(J,a){var z,U,g=J.name;J.isLeaf?(z=yD?XM("d.setter(this.gl, v);",["v"],["d"],[J.desc]):(U=J.desc,function(J){U.setter(this.gl,J)}),pR.defineProperty(a,g,{configurable:!1,enumerable:!0,get:function(){return z},set:z})):(Y.push({_name:g,_type:V(J)}),pR.defineProperty(a,g,{configurable:!1,enumerable:!0,get:function(){return this._branches[g]},set:function(J){this._branches[g].apply(J)}}))},J.prototype),J}(nD.create(U,function(J){return"addr"in J}));return pR.defineProperty(E.prototype,"textureCount",{configurable:!1,enumerable:!1,writable:!1,value:g.usedTextureSlot}),new E(J,a)}return p.prototype.apply=function(J,a){for(var z=this._struct.children,U=z.length;U--;){var g,V=z[U],Y=V.name,c=V.desc.activeInfo;if(a){if((g=a(J,Y,c?c.type:null))===xR)continue}else{if(!(Y in J))continue;g=J[Y]}V.isLeaf?this[Y]=g:this._branches[Y].apply(g)}},p.prototype.append=function(J){var a,z=this._struct.childMap;for(a in J){var U=z[a];U&&(U.isLeaf?this[a]=J[a]:this._branches[a].append(J[a]))}},function(J,a){var z=a._uniforms;return z||(a._uniforms=z=Q(J,a)),z}}()),S2=function(){for(var g=[],J=1;J<17;++J)g[J]=new fu(J);function a(J,a,z){a.vertexAttrib1f(J.addr,z)}function H(J,a,z,U){for(var g=z?1:0,V=a.addr,Y=0;Y<U;Y++)J.vertexAttribDivisor(V+Y,g)}var U=[],M="undefined"!=typeof WebGLBuffer&&WebGLBuffer.prototype;function z(J,Y,c,u){U[J]=function(J,a,z,U,g,V){this.addr==xR||this.addr<0||(a==xR||!1===a?u(J,this.addr):RD(a)===M?c(this,J,a,a.glType,U,g,V):(u(J,this.addr),Y(this,J,a)))}}function V(J,a){J.vertexAttribDivisor(a,0),J.disableVertexAttribArray(a)}function c(J,a,z){this.name=J,this.addr=a,this.activeInfo=z,this.setter=U[z.type],CD(this)}function u(J,a,z){this.gl=a,this.program=z,this._branches={},this._struct=J}return z(5125,a,function(J,a,z,U,g,V,Y){a.bindBuffer(34962,z);var c=J.addr;a.enableVertexAttribArray(c),H(a,J,z.instanced,1),a.vertexAttribIPointer(c,1,U||5126,V||0,Y||0),a.bindBuffer(34962,null)},V),z(5126,a,function(J,a,z,U,g,V,Y){a.bindBuffer(34962,z);var c=J.addr;a.enableVertexAttribArray(c),H(a,J,z.instanced,1),a.vertexAttribPointer(c,1,U||5126,!!g,V||0,Y||0),a.bindBuffer(34962,null)},V),z(35664,function(J,a,z){var U;z.x!=xR?a.vertexAttrib2f(J.addr,z.x,z.y):((U=g[2]).set(z,0),a.vertexAttrib2fv(J.addr,U))},function(J,a,z,U,g,V,Y){a.bindBuffer(34962,z);var c=J.addr;a.enableVertexAttribArray(c),H(a,J,z.instanced,1),a.vertexAttribPointer(c,2,U||5126,!!g,V||0,Y||0),a.bindBuffer(34962,null)},V),z(35665,function(J,a,z){var U;z.x!=xR?a.vertexAttrib3f(J.addr,z.x,z.y,z.z):z.r!=xR?a.vertexAttrib3f(J.addr,z.r,z.g,z.b):z.red!=xR?a.vertexAttrib3f(J.addr,z.red,z.green,z.blue):((U=g[3]).set(z,0),a.vertexAttrib3fv(J.addr,U))},function(J,a,z,U,g,V,Y){a.bindBuffer(34962,z);var c=J.addr;a.enableVertexAttribArray(c),H(a,J,z.instanced,1),a.vertexAttribPointer(c,3,U||5126,!!g,V||0,Y||0),a.bindBuffer(34962,null)},V),z(35666,function(J,a,z){var U;(z="string"==typeof z?tQ(z):z).x!=xR?a.vertexAttrib4f(J.addr,z.x,z.y,z.z,z.w):z.r!=xR?a.vertexAttrib4f(J.addr,z.r,z.g,z.b,z.a):z.red!=xR?a.vertexAttrib4f(J.addr,z.red,z.green,z.blue,z.alpha):((U=g[4]).set(z,0),a.vertexAttrib4fv(J.addr,U))},function(J,a,z,U,g,V,Y){a.bindBuffer(34962,z);var c=J.addr;a.enableVertexAttribArray(c),H(a,J,z.instanced,1),a.vertexAttribPointer(c,4,U||5126,!!g,V||0,Y||0),a.bindBuffer(34962,null)},V),z(35674,function(J,a,z){z=z.el||z;for(var U=0,g=0;U<2;++U)a.vertexAttrib2f(J.addr+U,z[g++],z[g++])},function(J,a,z,U,g,V,Y){var V=V||16,Y=Y||0,c=J.addr;a.bindBuffer(34962,z),a.enableVertexAttribArray(c),a.vertexAttribPointer(c,2,U||5126,!!g,V,Y),a.enableVertexAttribArray(c+1),a.vertexAttribPointer(c+1,2,U||5126,!!g,V,Y+8),H(a,J,z.instanced,2),a.bindBuffer(34962,null)},function(J,a){J.vertexAttribDivisor(a,0),J.vertexAttribDivisor(a+1,0),J.disableVertexAttribArray(a),J.disableVertexAttribArray(a+1)}),z(35675,function(J,a,z){z=z.el||z;for(var U=0,g=0;U<3;++U)a.vertexAttrib3f(J.addr+U,z[g++],z[g++],z[g++])},function(J,a,z,U,g,V,Y){var V=V||36,Y=Y||0,c=J.addr;a.bindBuffer(34962,z);for(var u=0;u<3;u++)a.enableVertexAttribArray(c+u),a.vertexAttribPointer(c+u,3,U||5126,!!g,V,Y+12*u);H(a,J,z.instanced,3),a.bindBuffer(34962,null)},function(J,a){J.vertexAttribDivisor(a,0),J.vertexAttribDivisor(a+1,0),J.vertexAttribDivisor(a+2,0),J.disableVertexAttribArray(a),J.disableVertexAttribArray(a+1),J.disableVertexAttribArray(a+2)}),z(35676,function(J,a,z){z=z.el||z;for(var U=0,g=0;U<4;++U)a.vertexAttrib4f(J.addr+U,z[g++],z[g++],z[g++],z[g++])},function(J,a,z,U,g,V,Y){var V=V||64,Y=Y||0,c=J.addr;a.bindBuffer(34962,z);for(var u=0;u<4;u++)a.enableVertexAttribArray(c+u),a.vertexAttribPointer(c+u,4,U||5126,!!g,V,Y+16*u);H(a,J,z.instanced,4),a.bindBuffer(34962,null)},function(J,a){J.vertexAttribDivisor(a,0),J.vertexAttribDivisor(a+1,0),J.vertexAttribDivisor(a+2,0),J.vertexAttribDivisor(a+3,0),J.disableVertexAttribArray(a),J.disableVertexAttribArray(a+1),J.disableVertexAttribArray(a+2),J.disableVertexAttribArray(a+3)}),u.prototype.disable=function(){for(var J=this._struct.children,a=J.length;a--;){var z=J[a],U=z.name;z.isLeaf?this[U]=xR:this._branches[U].disable()}},u.prototype.apply=function(J,a){for(var z=this._struct.children,U=z.length;U--;){var g,V=z[U],Y=V.name;if(a){if((g=a(J,Y,V))===xR)continue}else{if(!(Y in J))continue;g=J[Y]}V.isLeaf?this[Y]=g:this._branches[Y].apply(g)}},u.prototype.append=function(J){var a,z=this._struct.childMap;for(a in J){var U=z[a];U&&(U.isLeaf?this[a]=J[a]:this._branches[a].append(J[a]))}},function(J,a){var z=a._attribs;return z||(a._attribs=z=function(J,a){for(var z=J.getProgramParameter(a,35721),U={};z--;){var g=J.getActiveAttrib(a,z),V=g.name,Y=J.getAttribLocation(a,V);0<=Y&&(U[V]=new c(V,Y,g))}return new(function V(g){var Y=[];function J(J,a){u.call(this,g,J,a);for(var z=Y.length;z--;){var U=Y[z];this._branches[U._name]=new U._type(J,a)}}return jM(J,u),g.forEach(function(J,a){var z,U,g=J.name;J.isLeaf?(z=yD?XM("d.setter(this.gl, v);",["v"],["d"],[J.desc]):(U=J.desc,function(J){U.setter(this.gl,J)}),pR.defineProperty(a,g,{configurable:!1,enumerable:!0,get:function(){return z},set:z})):(Y.push({_name:g,_type:V(J)}),pR.defineProperty(a,g,{configurable:!1,enumerable:!0,get:function(){return this._branches[g]},set:function(J){this._branches[g].apply(J)}}))},J.prototype),J}(nD.create(U,function(J){return"addr"in J})))(J,a)}(J,a)),z}}(),RR=function(J){var a;pR.defineProperties(this,{gl:{configurable:!1,enumerable:!1,value:J,writable:!1},glState:{configurable:!1,enumerable:!1,value:((a=(J=J)._state)||(J._state=a=new Br(J)),a),writable:!1}}),this._currProgram=xR,this._currUniforms=xR,this._currAttribs=xR,this._sync=!0},P2=(pR.defineProperties(RR.prototype,{program:{configurable:!1,enumerable:!1,get:function(){return this._currProgram},set:function(J){this._sync&&J===this._currProgram||(this.gl.useProgram(J),this._currProgram=J,this._currUniforms=b2(this.gl,J),this._currAttribs=S2(this.gl,J),this._sync=!0)}},uniforms:{configurable:!1,enumerable:!1,get:function(){return this._currProgram&&!this._sync&&(this.gl.useProgram(this._currProgram),this._sync=!0),this._currUniforms},set:function(J){this._currUniforms&&(this._currProgram&&!this._sync&&(this.gl.useProgram(this._currProgram),this._sync=!0),this._currUniforms.apply(J))}},attribs:{configurable:!1,enumerable:!1,get:function(){return this._currProgram&&!this._sync&&(this.gl.useProgram(this._currProgram),this._sync=!0),this._currAttribs},set:function(J){this._currUniforms&&(this._currProgram&&!this._sync&&(this.gl.useProgram(this._currProgram),this._sync=!0),this._currAttribs.apply(J))}}}),RR.prototype.useProgram=function(J){this._sync&&J===this._currProgram||(this.gl.useProgram(J),this._currProgram=J,this._currUniforms=b2(this.gl,J),this._currAttribs=S2(this.gl,J),this._sync=!0)},RR.prototype.directState=function(){return this.glState},RR.prototype.directUniforms=function(){return this._currUniforms},RR.prototype.directAttribs=function(){return this._currAttribs},RR.prototype.syncLoss=function(){this._sync=!1,this.glState.syncLoss()},RR.for=function(J){var a=J._renderState;return a||(J._renderState=a=new RR(J)),a},"light.color"),$2=4294967295,l2=0,T2={},f2={},N2={},Z={},A2=function(J){return J=DR.convertShape3dModelName(J),kL(J)?J.modelType?J.uuid?FH[J.uuid]:xR:J:FH[J]},o2=function(J,a){var z;if(J=DR.convertShape3dModelName(J),kL(J)){if(J.modelType){if(J.uuid){if(z=FH[J.uuid])return a&&a(z),z}else J.uuid=m.Math.generateUUID();return z===xR?(_w(J.uuid,a),Y9&&Y9[J.uuid]||I9(J.uuid,J),xR):(a&&a(z),z)}return a&&a(J),J}return z=FH[J],J&&z===xR&&fH.test(J)?(_w(J,a),Y9&&Y9[J]||(M9(J,J),z=FH[J])):a&&a(z),z},s2="undefined"!=typeof WebGLTexture&&WebGLTexture.prototype,m2=function(J){return J&&RD(J)===s2},_2=function(J,a){J.frameStack?J.frameStack.push(a):J.frameStack=[a],J.bindFramebuffer(36160,a)},h2=function(J){var a=J.frameStack;if(a){if(a.pop(),a.length)return void J.bindFramebuffer(36160,a[a.length-1]);J.frameStack=null}J.bindFramebuffer(36160,null)},B2=(qL(DR,{graph3dViewAttributes:WR,graph3dViewFirstPersonMode:!1,graph3dViewMouseRoamable:!0,graph3dViewMoveStep:15,graph3dViewRotateStep:y/60,graph3dViewSortable:!1,graph3dViewOpaqueSortable:!1,graph3dViewBlockSelectable:!0,graph3dViewEditHelperDisabled:!1,graph3dViewPannable:!0,graph3dViewRotatable:!0,graph3dViewWalkable:!0,graph3dViewResettable:!0,graph3dViewZoomable:!0,graph3dViewRectSelectable:!0,graph3dViewRectSelectBackground:tR,graph3dViewGridVisible:!1,graph3dViewGridSize:50,graph3dViewGridGap:50,graph3dViewGridColor:[.4,.75,.85,1],graph3dViewRotateMaxPhi:y,graph3dViewRotateMinPhi:0,graph3dViewShadowDisabled:!0,graph3dViewShadowQuality:"high",graph3dViewShadowIntensity:.3,graph3dViewShadowBias:-.005,graph3dViewShadowRadius:.1,graph3dViewShadowType:"hard",graph3dViewShadowDegreeX:30,graph3dViewShadowDegreeZ:-10,graph3dViewShadowCascades:0,graph3dViewShadowCSMLambda:.5,graph3dViewShadowCSMFade:.05,graph3dViewShadowPCSSLightSize:15,graph3dViewShadowPCSSIntensity:1,graph3dViewOriginAxisVisible:!1,graph3dViewCenterAxisVisible:!1,graph3dViewAxisXColor:[1,0,0,1],graph3dViewAxisYColor:[0,1,0,1],graph3dViewAxisZColor:[0,0,1,1],graph3dViewEditSizeColor:[1,1,0,1],graph3dViewOrtho:!1,graph3dViewOrthoWidth:2e3,graph3dViewSyncEyeWithOrthoWidth:!1,graph3dViewFovy:y/4,graph3dViewNear:10,graph3dViewFar:1e4,graph3dViewEye:[0,300,1e3],graph3dViewCenter:[0,0,0],graph3dViewUp:[0,1,-1e-7],graph3dViewAspect:1.2,graph3dViewDataNumWarningLine:1e4,graph3dViewHeadlightDirection:"camera",graph3dViewHeadlightRange:0,graph3dViewHeadlightGroup:0,graph3dViewHeadlightColor:[1,1,1,1],graph3dViewHeadlightIntensity:1,graph3dViewHeadlightDisabled:!1,graph3dViewHeadlightAmbientIntensity:.7,graph3dViewHeadlightRatioForPhysicalMaterial:.5,graph3dViewFogDisabled:!0,graph3dViewFogMode:"linear",graph3dViewFogDensity:5e-4,graph3dViewFogColor:"white",graph3dViewFogNear:1,graph3dViewFogFar:2e3,graph3dViewPickerResolution:.5,graph3dViewDashDisabled:!0,graph3dViewUvClipEnabled:!1,graph3dViewTransmissionEnabled:!0,graph3dViewBatchBlendDisabled:!0,graph3dViewBatchBrightnessDisabled:!0,graph3dViewBatchColorDisabled:!1,graph3dViewBatchInstancedDisabled:!0,graph3dViewBackfaceUsingNormals:!1,graph3dViewFlowBlendMode:"addRGB",graph3dViewEnvmapType:"legacy",graph3dMaxVectorCacheTime:50,graph3dEnvmapCapabilityRequire:8,graph3dMaxHighlightGroups:8,setShape3dModel:function(J,a){dR(a)&&fH.test(a)?M9(J,a):kL(a)&&a.modelType?I9(J,a):a===xR?delete FH[J]:FH[J]=a},getShape3dModel:o2,getShape3dModelFromMemory:A2,convertShape3dModelName:function(J){return J},getShape3dModelMap:function(){return FH},getCachedShape3dModelMap:function(){return OH},createMatrix:function(J,a){for(var z=(J=jR(J)?J:[J]).length-1;0<=z;z--){var U=J[z];a=VD(U.mat,U.s3,U.r3,U.rotationMode,U.t3,a)}return a},transformVec:tu,glBindFrame:_2,glUnbindFrame:h2,createBoxModel:function(){return{vs:k9,ns:w9,uv:i9,is:E9}},registerAsset3dFormat:function(J,a){var z=DR.__htExtraAsset3dPattern;if(z){if(0<=z.indexOf(J))return!1}else z=DR.__htExtraAsset3dPattern=[];return z.push(J),z=lH+"|"+z.join("|")+TH,fH=new RegExp(z,"i"),DR.setModelTypeHandler(J,a),!0},ungisterAsset3dFormat:function(J){var a=DR.__htExtraAsset3dPattern;if(!a)return!1;var z=a.indexOf(J);return!(z<0)&&(a.splice(z,1),z=lH+(a.length?"|":"")+a.join("|")+TH,fH=new RegExp(z,"i"),DR.setModelTypeHandler(J,xR),a.length||(DR.__htExtraAsset3dPattern=WR),!0)},createRoundRectModel:function(J,a){return y9.roundRect(J,a)},createStarModel:function(J,a){return y9.star(J,a)},createRectModel:function(J,a){return y9.rect(J,a)},createTriangleModel:function(J,a){return y9.triangle(J,a)},createRightTriangleModel:function(J,a){return y9.rightTriangle(J,a)},createParallelogramModel:function(J,a){return y9.parallelogram(J,a)},createTrapezoidModel:function(J,a){return y9.trapezoid(J,a)},createSmoothSphereModel:function(J,a,z,U,g,V,Y){return Pf(new Mw(J,a,z,U,g,V,Y))},createSphereModel:function(J,a,z,U,g,V,Y){return J?D9(J,a,z,U,g,V,Y):DR.createSmoothSphereModel()},createSmoothConeModel:function(J,a,z,U,g){return X9(J,a,z,U,g)},createConeModel:function(J,a,z,U,g,V,Y,c){return J?R9(J,a,z,U,g,V,Y,c):X9(V)},createSmoothCylinderModel:function(J,a,z,U,g,V,Y,c){return Pf(new Hw(J,a,z,U,g,V,Y,c))},createCylinderModel:function(J,a,z,U,g,V,Y,c){return J?q9(J,a,z,U,g,V,Y,c):j9(V,Y)},createSmoothTorusModel:function(J,a,z,U,g,V){return Pf(new Iw(J,a,z,U,g,V))},createTorusModel:function(J,a,z,U,g,V,Y,c){return J?d9(J,a,z,U,g,V,Y,c):K9(V,Y)},createExtrusionModel:function(J,a,z,U,g,V,Y,c){return C9(J,a,z,U,g,V,Y,c)},createSmoothRingModel:function(J,a,z,U,g,V){for(var Y=[],c=0;c<J.length-1;c+=2)Y.push({x:J[c],y:J[c+1]});for(J=UW(Y,a,z)[0],Y=[],c=0;c<J.length;c++){var u=J[c];Y.push(new qR(u.x,0,u.y))}return Pf(new vw(Y,V,U,g))},createTextGeometry:function(J,a){var z=Pf(new Zw(J,a));if(a.cube)for(var a=(J=function(J){for(var a,z,U,g,V,Y,c=jR(J)?J:[J],u=1/0,H=1/0,M=1/0,I=-1/0,e=-1/0,Q=-1/0,v=["vs","top_vs","bottom_vs","from_vs","to_vs"],Z=0,k=c.length;Z<k;Z++)for(Y=c[Z],a=0,z=v.length;a<z;a++)if(V=Y[v[a]])for(U=0,g=V.length;U<g;U+=3)u=UR(u,V[U]),H=UR(H,V[U+1]),M=UR(M,V[U+2]),I=zR(I,V[U]),e=zR(e,V[U+1]),Q=zR(Q,V[U+2]);return J.boundingBox={min:{x:u,y:H,z:M},max:{x:I,y:e,z:Q}}}(z)).min,J=J.max,U=a.x,g=a.y,V=a.z,Y=J.x-U||1,c=J.y-g||1,u=J.z-V||1,H=["vs","top_vs","bottom_vs"],M=0,I=H.length;M<I;M++){var e=z[H[M]];if(e)for(var Q=0,v=e.length;Q<v;Q+=3)e[Q]=(e[Q]-U)/Y-.5,e[Q+1]=(e[Q+1]-g)/c-.5,e[Q+2]=(e[Q+2]-V)/u-.5}return z},loadFontFace:function(J,U){DR.xhrLoad(J,function(a){if(!a)return U();var z;try{z=JSON.parse(a)}catch(J){z=JSON.parse(a.substring(65,a.length-2))}aw.loadFace(z),U&&U(z.familyName.toLowerCase())},U?null:{sync:!0})},createRingModel:function(J,b,S,a,z,U,g,V,Y,c){for(var u=[],H=0;H<J.length-1;H+=2)u.push({x:J[H],y:J[H+1]});U=U||DR.shapeSide,g=g||0,V=V||U;var M,I,e,Q,v,Z,k,E,i,w,p,x,W,D,K,d,j,q=[],X=[],R=Y?[]:WR,C=Y?[]:WR,y=c?[]:WR,F=c?[]:WR,O=a?[]:WR,P=a?[]:WR,$=z?[]:WR,l=z?[]:WR,J=UW(u,b,S),T=oL(J),n=0,L=2*Math.PI/U;return J.forEach(function(J){if(1<(e=J.length)){if(Q=J[0],a)for(Z=Q.x,E=Q.y,H=g;H<V;H++)W=(p=H+1)*L,D=KR(x=H*L),K=eR(x),d=KR(W),j=eR(W),O.push(D*Z,E,-K*Z,d*Z,E,-j*Z,0,E,0),P.push(.5-.5*D,.5-.5*K,.5-.5*d,.5-.5*j,.5,.5);for(w=0;w<e;w++){for(v=J[w],Z=Q.x,k=v.x,E=Q.y,i=v.y,M=n/T,n+=pu(Q,v),I=n/T,H=g;H<V;H++)W=(p=H+1)*L,D=KR(x=H*L),K=eR(x),d=KR(W),j=eR(W),q.push(D*k,i,-K*k,d*k,i,-j*k,D*Z,E,-K*Z,d*k,i,-j*k,d*Z,E,-j*Z,D*Z,E,-K*Z),X.push(H/U,I,p/U,I,H/U,M,p/U,I,p/U,M,H/U,M),Y&&H===g&&(R.push(0,E,0,0,i,0,D*k,i,-K*k,D*k,i,-K*k,D*Z,E,-K*Z,0,E,0),C.push(0,.5-E,0,.5-i,2*k,.5-i,2*k,.5-i,2*Z,.5-E,0,.5-E)),c&&p===V&&(y.push(0,E,0,d*k,i,-j*k,0,i,0,d*k,i,-j*k,0,E,0,d*Z,E,-j*Z),F.push(1,.5-E,1-2*k,.5-i,1,.5-i,1-2*k,.5-i,1,.5-E,1-2*Z,.5-E));Q=v}if(z)for(Z=Q.x,E=Q.y,H=g;H<V;H++)W=(p=H+1)*L,D=KR(x=H*L),K=eR(x),d=KR(W),j=eR(W),$.push(d*Z,E,-j*Z,D*Z,E,-K*Z,0,E,0),l.push(.5-.5*d,.5+.5*j,.5-.5*D,.5+.5*K,.5,.5)}}),{vs:q,uv:X,bottom_vs:$,bottom_uv:l,top_vs:O,top_uv:P,from_vs:R,from_uv:C,to_vs:y,to_uv:F}},generateGLBufferID:function(){return t.generateIncreasingID()},getDataModel3dBindings:function(J){if(J instanceof _D)return J.s("model3dBindings")||J.getAttrObject()},completeModel3dAnimation:function(J,a,z,U){tr={};var g,V,Y,c=J=0<=(Y=(J=0<=(Y=Math.max(J.lastIndexOf("\\"),J.lastIndexOf("/")))?J.slice(Y+1):J).lastIndexOf("."))?J.slice(0,Y):J,u=a.animations;if(u)for(Z=0,k=u.length;Z<k;Z++)(e=u[Z]).duration&&e.tracks&&e.tracks.length?(e.sources=[],e.sourceShortName=c,mM(u,e,z)):e._toBeRemoved=!0;if(U&&U.length)for(u=u||(a.animations=[]),Z=0,k=U?U.length:0;Z<k;Z++){var H,M=U[Z];if(M&&(H=M.animations)&&H.length)for(g=0,V=H.length;g<V;g++){var I=pR.assign({},H[g]);I.sources?(I.sources=I.sources.slice(0),I.sources.splice(0,0,Z)):I.sources=[Z],mM(u,I,z),u.push(I)}}for(var e,Q=[],v=[],Z=0,k=u.length;Z<k;Z++)(e=u[Z])._toBeRemoved?v.push(e.rawName||e.name):Q.push(e);return Q.length!==u.length&&(a.animations=Q),v.length&&(a.invalidAnimationNames=v),a}},!0),qL(CR,{"3d.move.mode":xR,"3d.selectable":!0,"3d.visible":!0,"3d.movable":!0,"3d.editable":!0,"3d.clip.direction":null,"3d.clip.percentage":1,"3d.reflectable":!0,"shape.border.gradient.color":xR,"edge.gradient.color":xR,"edge.source.t3":xR,"edge.target.t3":xR,"light.type":"point","light.group":0,"light.center":[0,0,0],"light.color":[1,1,1,1],"light.disabled":!1,"light.angle":y/4,"light.range":0,"light.exponent":1,"light.intensity":1,"light.rotation.enable":!1,"light.size":[100,100],"light.specular.disable":!1,"light.mask":$2,"headlight.ambientIntensity":xR,"wf.visible":!1,"wf.width":1,"wf.fog":!0,"wf.group":0,"wf.color":oW,"wf.short":!1,"wf.mat":xR,"wf.boundingBox":!1,"wf.material":null,"wf.geometry":!1,"wf.loadQuadWireframe":!1,"wf.combineTriangle":!0,"wf.normEpsilon":xR,batch:xR,static:xR,"static.group":0,"transparent.mask":!1,"transparent.separate":!1,brightness:xR,"select.brightness":.7,"repeat.uv.length":xR,"rotate.uv.length":xR,"rotate.vs.length":xR,"shadow.cast":!0,"shadow.receive":!0,"3d.clipbox":xR,"3d.clipbox.mask":$2,"3d.clipbox.group":0,"3d.clipbox.shape":"cube","effect.flow":!1,"effect.flow.gradient":"spread.horizontal","effect.flow.uvshape":"rect","effect.flow.size":512,"effect.flow.infinite":!1,"effect.flow.group":0,"effect.flow.intensity":1,"effect.flow.blend":xR,"effect.flow.mask":$2,bloom:!1,envmap:0,"envmap.probe":0,roughness:0,renderTextureSamples:4,alphaTest:.4,autorotate:!1,fixSizeOnScreen:!1,"texture.cache":!1,"texture.width":xR,"hide.overlapping.group":xR,"vector.dynamic":!1,"vector.dynamic.maxsize":2048,"texture.scale":1,"geometry.cache":!1,"highlight.group":0,"highlight.mode":!1,"highlight.type":"hard","highlight.visible":!0,"highlight.width":.8,"highlight.color":"rgba(190, 210, 250, 1)","highlight.glow":.8,"highlight.strength":2,"color.empty":[0,0,0,0],matDef:xR,"shape3d.material":xR,"shape3d.top.material":xR,"shape3d.bottom.material":xR,"shape3d.from.material":xR,"shape3d.to.material":xR,"label.face":Ue,"label.t3":xR,"label.r3":xR,"label.texture.scale":2,"label.rotationMode":xw,"label.light":!1,"label.blend":xR,"label.reverse.flip":!1,"label.reverse.color":nW,"label.reverse.cull":!1,"label.transparent":!1,"label.autorotate":!1,"label2.face":Ue,"label2.t3":xR,"label2.r3":xR,"label2.texture.scale":2,"label2.rotationMode":xw,"label2.light":!1,"label2.blend":xR,"label2.reverse.flip":!1,"label2.reverse.color":nW,"label2.reverse.cull":!1,"label2.transparent":!1,"label2.autorotate":!1,"note.face":Ue,"note.t3":xR,"note.r3":xR,"note.texture.scale":2,"note.rotationMode":xw,"note.light":!1,"note.blend":xR,"note.reverse.flip":!1,"note.reverse.color":nW,"note.reverse.cull":!1,"note.transparent":!1,"note.autorotate":!1,"note2.face":Ue,"note2.t3":xR,"note2.r3":xR,"note2.texture.scale":2,"note2.rotationMode":xw,"note2.light":!1,"note2.blend":xR,"note2.reverse.flip":!1,"note2.reverse.color":nW,"note2.reverse.cull":!1,"note2.transparent":!1,"note2.autorotate":!1,"part.boundingBox":!1,shape3d:xR,"shape3d.color":v,"shape3d.top.color":xR,"shape3d.bottom.color":xR,"shape3d.from.color":xR,"shape3d.to.color":xR,"shape3d.image":xR,"shape3d.image.projection":xR,"shape3d.top.image":xR,"shape3d.bottom.image":xR,"shape3d.from.image":xR,"shape3d.to.image":xR,"shape3d.light":!0,"shape3d.side":0,"shape3d.side.from":xR,"shape3d.side.to":xR,"shape3d.smooth":xR,"shape3d.visible":!0,"shape3d.from.visible":!0,"shape3d.to.visible":!0,"shape3d.top.visible":!0,"shape3d.bottom.visible":!0,"shape3d.torus.radius":.17,"shape3d.resolution":0,"shape3d.blend":xR,"shape3d.opacity":xR,"shape3d.reverse.flip":!1,"shape3d.reverse.color":nW,"shape3d.reverse.cull":!1,"shape3d.transparent":!1,"shape3d.uv.offset":xR,"shape3d.uv.scale":xR,"shape3d.uv.rotation":xR,"shape3d.uv.anchor":xR,"shape3d.uv.union":xR,"shape3d.top.uv.offset":xR,"shape3d.top.uv.scale":xR,"shape3d.top.uv.rotation":xR,"shape3d.top.uv.anchor":xR,"shape3d.bottom.uv.offset":xR,"shape3d.bottom.uv.scale":xR,"shape3d.bottom.uv.rotation":xR,"shape3d.bottom.uv.anchor":xR,"shape3d.from.uv.offset":xR,"shape3d.from.uv.scale":xR,"shape3d.from.uv.rotation":xR,"shape3d.from.uv.anchor":xR,"shape3d.to.uv.offset":xR,"shape3d.to.uv.scale":xR,"shape3d.to.uv.rotation":xR,"shape3d.to.uv.anchor":xR,"shape3d.top.cap":xR,"shape3d.bottom.cap":xR,"shape3d.start.angle":0,"shape3d.sweep.angle":QR,"shape3d.point.epsilon":1e-6,"shape3d.discard.selectable":!0,"shape3d.top.discard.selectable":!0,"shape3d.bottom.discard.selectable":!0,"shape3d.from.discard.selectable":!0,"shape3d.to.discard.selectable":!0,"shape3d.scaleable":!0,"shape3d.transmission":!1,"shape3d.oit.ignored":xR,"shape3d.section":xR,"shape3d.section.angle":0,"shape3d.section.twist":0,"shape3d.polyline.depth":1,"shape3d.polyline.offset":0,"shape3d.polyline.radiusScale":1,"shape3d.polyline.scaleOffset":0,"shape3d.polyline.scaleMap":xR,"shape3d.reflector":!1,"shape3d.reflector.color":"rgb(128,128,128)","shape3d.reflector.blur":0,"shape3d.reflector.blur.iterations":1,"shape3d.reflector.background":null,"shape3d.reflector.clip":.003,"shape3d.reflector.shadow":"scene","shape3d.reflector.visible":!0,"shape3d.reflector.ratio":1,"shape3d.reflector.normal":xR,"shape3d.reflector.normal.threshold":Math.PI,"shape3d.reflector.position":xR,"shape3d.reflector.immediate":!0,"camera.type":"perspective","camera.aspect":xR,"camera.aspect.sync":!1,"camera.fovy":xR,"camera.ortho.width":xR,"camera.near":xR,"camera.far":xR,"camera.background":0,"camera.clear":!0,"camera.renderSky":!0,"camera.renderShadowMap":!0,"camera.renderAxis":!1,"camera.renderGrid":!1,"camera.renderEdit":!1,"camera.onlySky":!1,"camera.skybox.blur":xR,"skybox.blur.size":0,"skybox.blur.resolution":0,"texture.mipmap.max":xR,"texture.filter":xR,"texture.filter.min":xR,"texture.filter.mag":xR,"texture.wrap":xR,"texture.flipY":!1,"points.image":"rect","points.color":"white","points.transparent":!1,"points.size":20,"points.opacity":1,"points.uv.scale":[1,1],"points.uv.offset":[0,0],"points.discard.selectable":!1,"points.model":xR,"splat.render.mode":"splat","splat.scale":1,"splat.opacity.scale":1,"splat.blend":xR,"splat.blend.mode":"add","splat.sh":!0,"splat.sh2":!0,"splat.sh3":!0,"splat.sh.only":!1,"splat.lod.level.factor":1.5,"splat.lod.hysteresis":.1,"splat.lod.merge":xR,"splat.sort.sync":!1,"all.light":!0,"all.visible":!0,"all.color":v,"all.image":xR,"all.blend":xR,"all.opacity":xR,"all.reverse.flip":!1,"all.reverse.color":nW,"all.reverse.cull":!1,"all.transparent":!1,"all.uv":xR,"all.uv.offset":xR,"all.uv.scale":xR,"all.uv.rotation":xR,"all.uv.anchor":xR,"all.uv.union":xR,"all.discard.selectable":!0,"all.material":xR,mat:xR,"left.mat":xR,"right.mat":xR,"top.mat":xR,"bottom.mat":xR,"front.mat":xR,"back.mat":xR,"edge.source.anchor.elevation":xR,"edge.target.anchor.elevation":xR,"edge.source.offset.elevation":0,"edge.target.offset.elevation":0,"3d.bone.visible":!1},!0),[0,0,0,0]),t2=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r2=function(J){return J instanceof zA},G2=function(J){return[J.x,J.e||0,J.y]},JJ=function(J,a,z){for(var U=(a=tQ(a||0))[0],g=a[1],V=a[2];z--;)J.push(U,g,V)},aJ=function(J,a,z){for(var U=(a=tQ(a||0))[0],g=a[1],V=a[2],Y=a[3];z--;)J.push(U,g,V,Y)},zJ=function(J,a,z){if(a)for(var U,g,V,Y=a[0],c=a[1],u=a[2],H=a[4],M=a[5],I=a[6],e=a[8],Q=a[9],v=a[10],Z=a[12],k=a[13],E=a[14],i=z.length,w=0,w=0;w<i;w+=3)U=z[w],g=z[w+1],V=z[w+2],J.push(Y*U+H*g+e*V+Z,c*U+M*g+Q*V+k,u*U+I*g+v*V+E);else dL(J,z);return J},UJ=function(J,a,z){var U=a.s("light.intensity"),g=(Y=tQ(a.s(P2)))[0],V=Y[1],Y=Y[2],U=(1!==U&&(g*=U,V*=U,Y*=U),a.s("light.disabled"));J.push(g,V,Y,U?1:0),z.c.push(g,V,Y),z.g.push(U?-1:a.s("light.group")),z.e.push(U?1:0)},gJ=(D2=new qR,K2=new xm,function(J,a){return D2.copy(J).applyEuler(a.getEuler(K2)),[D2.x,D2.y,D2.z]}),VJ=function(a,J){var z,U,g,V,Y,c,u,H,M,I,e,Q=a._lastLightUploadInfo={c:[],g:[],e:[]},v=((v=a._headlightDirection)&&3===v.length?Z=v:"shadow"===v&&(Z=a.shadowMap.getDirection()),Z=Z?qR.normalizeArray(a._transformDirectionToViewSpace(null,Z)):[0,0,0],J.uHeadlightDirection=Z,J.uHeadlightRange=a._headlightRange,J.uHeadlightAmbientIntensity=a._headlightAmbientIntensity),Z=a._headlightIntensity,k=tQ(a._headlightColor),k=(1!==Z&&(k=[k[0]*Z,k[1]*Z,k[2]*Z]),J.uHeadlightColor=Q.headlightColor=[k[0],k[1],k[2],(Z=a._headlightDisabled)?1:0],Q.c.push(k[0],k[1],k[2]),Q.g.push(Z?-1:a._headlightGroup),Q.e.push(Z?1:0),a._59O),Z=a._spots,E=a._dirs,i=a._87I;k.length&&(z=[],U=[],g=[],k.forEach(function(J){UJ(z,J,Q),dL(U,a._transformPointToViewSpace(J.p3())),g.push(J.s("light.range"))}),J.uPointColor=z,J.uPointRange=g,J.uPointPosition=U),Z.length&&(V=[],Y=[],c=[],u=[],H=[],M=[],Z.forEach(function(J){UJ(V,J,Q),dL(Y,a._transformPointToViewSpace(J.p3())),J.s("light.rotation.enable")?dL(H,a._transformDirectionToViewSpace(null,gJ([0,0,1],J))):dL(H,a._transformDirectionToViewSpace(J.p3(),J.s("light.center"))),c.push(J.s("light.range")),u.push(KR(J.s("light.angle")/2)),M.push(J.s("light.exponent"))}),J.uSpotColor=V,J.uSpotRange=c,J.uSpotAngle=u,J.uSpotExponent=M,J.uSpotPosition=Y,J.uSpotDirection=H),E.length&&(I=[],e=[],E.forEach(function(J){UJ(I,J,Q),J.s("light.rotation.enable")?dL(e,a._transformDirectionToViewSpace(null,gJ([0,0,1],J))):dL(e,a._transformDirectionToViewSpace(J.p3()))}),J.uDirColor=I,J.uDirDirection=e),i.length&&i.forEach(function(J){UJ([],J,Q)}),J._lastLightMask=$2,J._lastHeadlightAmbientIntensity=v},YJ=function(J,a,z,U){if((U=U===xR?J._headlightAmbientIntensity:U)!==a._lastHeadlightAmbientIntensity&&(a.uHeadlightAmbientIntensity=a._lastHeadlightAmbientIntensity=U),z!==a._lastLightMask&&(a._lastLightMask=z,U=J._lastLightUploadInfo)){for(var g,V=U.g,Y=U.e,c=V.length,u=new Array(c),H=!1,M=0;M<c;M++)g=V[M],(u[M]=!(g<0||32<=g)&&z&1<<g?0:1)!==Y[M]&&(H=!0);if(H){U.e=Y=u;var I,e=U.c,U=(a.uHeadlightColor=[e[0],e[1],e[2],Y[0]],J._59O),Q=J._spots,J=J._dirs,v=3,Z=1;if(c=U.length){for(M=0,I=[];M<c;M++)I.push(e[v++],e[v++],e[v++],Y[Z++]);a.uPointColor=I}if(c=Q.length){for(M=0,I=[];M<c;M++)I.push(e[v++],e[v++],e[v++],Y[Z++]);a.uSpotColor=I}if(c=J.length){for(M=0,I=[];M<c;M++)I.push(e[v++],e[v++],e[v++],Y[Z++]);a.uDirColor=I}}}},cJ=function(J,a){return Math.max(J.getRotateMinPhi()+$u,Math.min(J.getRotateMaxPhi()-$u,a))},uJ=function(){return.05+PR()/2},HJ=function(J,a,z,U){var g=J.getEye(),J=(J.isOrtho()?((V=Au(J.getCenter(),g))[0]+=U[0],V[1]+=U[1],V[2]+=U[2]):V=g,a),g=z,a=U,z=V,U=su(J,g),V=Au(z,a,!0),J=su(V,g);return yR(J)<$u?WR:(z=(U-su(a,g))/J,[a[0]+V[0]*z,a[1]+V[1]*z,a[2]+V[2]*z])},MJ=function(J,a){return{x:2*J.x-a.x,y:2*J.y-a.y}},IJ=function(J,a,z,U){if(!J)return V=SR(a.y-z.y,z.x-a.x),{x:a.x+U*eR(V),y:a.y+U*KR(V)};if(!z)return V=SR(J.y-a.y,a.x-J.x),{x:a.x+U*eR(V),y:a.y+U*KR(V)};var g,V,Y,c,u=Au([J.x,J.y,0],[a.x,a.y,0],!0),H=Au([z.x,z.y,0],[a.x,a.y,0],!0),M=-(u[0]+H[0])/2,I=-(u[1]+H[1])/2,e=wR(M*M+I*I);return e<$u?(V=SR(J.y-a.y,a.x-J.x),{x:a.x+U*eR(V),y:a.y+U*KR(V)}):(g=J.x-a.x,J=J.y-a.y,Y=z.x-a.x,c=z.y-a.y,g=wR(g*g+J*J),J=wR(Y*Y+c*c),V=FR(su(u,H))/2,Y=0<u[1]*H[0]-u[0]*H[1]?-1:1,M/=e,I/=e,c=U/eR(V),u=zR(g,J)/KR(V),e=Math.min(c,u),H={x:a.x+Y*e*M,y:a.y+Y*e*I},z.b&&c>J/KR(V)&&(H.adjust=!0),H)},eJ=function(J){var a=J[0],z=J[1],U=J[2],g=J[3],V=J[4],Y=J[5],c=J[6],u=J[7],H=J[8],M=J[9],I=J[10],e=J[11],Q=J[12],v=J[13],Z=J[14],k=J[15],E=a*Y-z*V,i=a*c-U*V,w=a*u-g*V,p=z*c-U*Y,x=z*u-g*Y,W=U*u-g*c,D=H*v-M*Q,K=H*Z-I*Q,d=H*k-e*Q,j=M*Z-I*v,q=M*k-e*v,X=I*k-e*Z,R=E*X-i*q+w*j+p*d-x*K+W*D;return R?(J[0]=(Y*X-c*q+u*j)*(R=1/R),J[1]=(U*q-z*X-g*j)*R,J[2]=(v*W-Z*x+k*p)*R,J[3]=(I*x-M*W-e*p)*R,J[4]=(c*d-V*X-u*K)*R,J[5]=(a*X-U*d+g*K)*R,J[6]=(Z*w-Q*W-k*i)*R,J[7]=(H*W-I*w+e*i)*R,J[8]=(V*q-Y*d+u*D)*R,J[9]=(z*d-a*q-g*D)*R,J[10]=(Q*x-v*w+k*E)*R,J[11]=(M*w-H*x-e*E)*R,J[12]=(Y*K-V*j-c*D)*R,J[13]=(a*j-z*K+U*D)*R,J[14]=(v*i-Q*p-Z*E)*R,J[15]=(H*p-M*i+I*E)*R,J):WR},QJ=function(J,a){var z,U;return a&&(z=a[0],U=a[1],a=a[2],J[12]=J[0]*z+J[4]*U+J[8]*a+J[12],J[13]=J[1]*z+J[5]*U+J[9]*a+J[13],J[14]=J[2]*z+J[6]*U+J[10]*a+J[14],J[15]=J[3]*z+J[7]*U+J[11]*a+J[15]),J},vJ=function(J,a){var z,U;return a&&(z=a[0],U=a[1],a=a[2],J[0]=J[0]*z,J[1]=J[1]*z,J[2]=J[2]*z,J[3]=J[3]*z,J[4]=J[4]*U,J[5]=J[5]*U,J[6]=J[6]*U,J[7]=J[7]*U,J[8]=J[8]*a,J[9]=J[9]*a,J[10]=J[10]*a,J[11]=J[11]*a),J},ZJ=function(J,a,z){var U=a[0],g=a[1],V=a[2],Y=a[3],c=a[4],u=a[5],H=a[6],M=a[7],I=a[8],e=a[9],Q=a[10],v=a[11],Z=a[12],k=a[13],E=a[14],a=a[15],i=z[0],w=z[1],p=z[2],x=z[3];return J[0]=i*U+w*c+p*I+x*Z,J[1]=i*g+w*u+p*e+x*k,J[2]=i*V+w*H+p*Q+x*E,J[3]=i*Y+w*M+p*v+x*a,i=z[4],w=z[5],p=z[6],x=z[7],J[4]=i*U+w*c+p*I+x*Z,J[5]=i*g+w*u+p*e+x*k,J[6]=i*V+w*H+p*Q+x*E,J[7]=i*Y+w*M+p*v+x*a,i=z[8],w=z[9],p=z[10],x=z[11],J[8]=i*U+w*c+p*I+x*Z,J[9]=i*g+w*u+p*e+x*k,J[10]=i*V+w*H+p*Q+x*E,J[11]=i*Y+w*M+p*v+x*a,i=z[12],w=z[13],p=z[14],x=z[15],J[12]=i*U+w*c+p*I+x*Z,J[13]=i*g+w*u+p*e+x*k,J[14]=i*V+w*H+p*Q+x*E,J[15]=i*Y+w*M+p*v+x*a,J},kJ=function(J,a,z,U){var g,V,Y,c,u=a[0],H=a[1],a=a[2],M=U[0],I=U[1],U=U[2],e=z[0],Q=z[1],z=z[2];return yR(u-e)<$u&&yR(H-Q)<$u&&yR(a-z)<$u?Bu(J):(c=1/wR((e=u-e)*e+(Q=H-Q)*Q+(z=a-z)*z),(c=wR((g=I*(z*=c)-U*(Q*=c))*g+(U=U*(e*=c)-M*z)*U+(M=M*Q-I*e)*M))?(g*=c=1/c,U*=c,M*=c):M=U=g=0,(c=wR((I=Q*M-z*U)*I+(V=z*g-e*M)*V+(Y=e*U-Q*g)*Y))?(I*=c=1/c,V*=c,Y*=c):Y=V=I=0,J[0]=g,J[1]=I,J[2]=e,J[3]=0,J[4]=U,J[5]=V,J[6]=Q,J[7]=0,J[8]=M,J[9]=Y,J[10]=z,J[11]=0,J[12]=-(g*u+U*H+M*a),J[13]=-(I*u+V*H+Y*a),J[14]=-(e*u+Q*H+z*a),J[15]=1,J)},EJ=function(J,a,z,U,g){var a=1/bR(a/2),V=1/(U-g);return J[0]=a/z,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=a,J[6]=0,J[7]=0,J[8]=0,J[9]=0,J[10]=(g+U)*V,J[11]=-1,J[12]=0,J[13]=0,J[14]=2*g*U*V,J[15]=0,J},iJ=function(J,a,z,U,g,V,Y){var c=1/(a-z),u=1/(U-g),H=1/(V-Y);return J[0]=-2*c,J[1]=0,J[2]=0,J[3]=0,J[4]=0,J[5]=-2*u,J[6]=0,J[7]=0,J[8]=0,J[9]=0,J[10]=2*H,J[11]=0,J[12]=(a+z)*c,J[13]=(g+U)*u,J[14]=(Y+V)*H,J[15]=1,J},wJ=function(J,a){var z=a[0],U=a[1],g=a[2],V=(V=z*z+U*U+g*g+(a=a[3])*a)?1/V:0;return J[0]=-z*V,J[1]=-U*V,J[2]=-g*V,J[3]=a*V,J},pJ=function(J,a){var z=a[0]+a[5]+a[10],U=0;return 0<z?(U=2*Math.sqrt(z+1),J[3]=.25*U,J[0]=(a[6]-a[9])/U,J[1]=(a[8]-a[2])/U,J[2]=(a[1]-a[4])/U):a[0]>a[5]&a[0]>a[10]?(U=2*Math.sqrt(1+a[0]-a[5]-a[10]),J[3]=(a[6]-a[9])/U,J[0]=.25*U,J[1]=(a[1]+a[4])/U,J[2]=(a[8]+a[2])/U):a[5]>a[10]?(U=2*Math.sqrt(1+a[5]-a[0]-a[10]),J[3]=(a[8]-a[2])/U,J[0]=(a[1]+a[4])/U,J[1]=.25*U,J[2]=(a[6]+a[9])/U):(U=2*Math.sqrt(1+a[10]-a[0]-a[5]),J[3]=(a[1]-a[4])/U,J[0]=(a[8]+a[2])/U,J[1]=(a[6]+a[9])/U,J[2]=.25*U),J},xJ=function(J,a,z){var U=a[0],g=a[1],V=a[2],Y=V+V,c=U*(M=U+U),u=U*(I=g+g),U=U*Y,H=g*I,g=g*Y,M=(a=a[3])*M,I=a*I,a=a*Y;return J[0]=1-(H+(V=V*Y)),J[1]=u+a,J[2]=U-I,J[3]=0,J[4]=u-a,J[5]=1-(c+V),J[6]=g+M,J[7]=0,J[8]=U+I,J[9]=g-M,J[10]=1-(c+H),J[11]=0,J[12]=z[0],J[13]=z[1],J[14]=z[2],J[15]=1,J},WJ=function(J,a){var z=J.getPresentingReality();return(z=z&&z.getViewMatrix(a))?z:J._camera?J._camera.getViewMatrix(a):kJ(a||mu(),J._eye,J._center,J._up)},DJ=function(J,a){var z=J.getPresentingReality();if(z=z&&z.getProjectMatrix())return z;if(J._camera)return J._camera.getProjectMatrix();if(!a&&J._computedProjectMatrix)return hu(J._computedProjectMatrix);var U,z=J.getAspect(),a=J._near,g=J._far,V=mu();return J._ortho?(U=J._orthoWidth/2,iJ(V,-U,U,-(U/=z),U,a,g)):EJ(V,J._fovy,z,a,g),V},KJ=function(J,a){if(!J)return WR;for(var z,U,g,V,Y,c,u,H,M,I=J.length,e=I/3,Q=new fu(J.length),v=0,Z=a?a.length:e;v<Z;v+=3)M=a?(u=3*a[v],H=3*a[v+1],3*a[v+2]):(u=3*v,H=3*(v+1),3*(v+2)),z=J[H+0]-J[u+0],U=J[H+1]-J[u+1],g=J[H+2]-J[u+2],V=J[0+M]-J[H+0],Y=J[1+M]-J[H+1],E=g*V-z*(c=J[2+M]-J[H+2]),i=z*Y-U*V,Q[u+0]+=k=U*c-g*Y,Q[u+1]+=E,Q[u+2]+=i,Q[H+0]+=k,Q[H+1]+=E,Q[H+2]+=i,Q[0+M]+=k,Q[1+M]+=E,Q[2+M]+=i;for(v=0;v<I;v+=3){var k=Q[v],E=Q[v+1],i=Q[v+2],w=wR(k*k+E*E+i*i);0===w&&(w=$u),Q[v]=k*(w=1/w),Q[v+1]=E*w,Q[v+2]=i*w}return Q},dJ=function(J,a,z,U,g){return U=U||a.createTexture(),z&&(g?(a=g.image,g.image=z,J.createTexture(g,U),g.image=a):J.createTexture({image:z},U)),U},jJ=function(J,a,z){return z=new Uint8Array(z||4),a=a||J.createTexture(),J.activeTexture(33984),XJ(J,a),RJ(J,10241,9729),J.texImage2D(3553,0,6408,1,1,0,6408,5121,z),a},qJ=function(J){return J.createBuffer()},XJ=function(J,a){J.bindTexture(3553,a||J._emptyTexture)},RJ=function(J,a,z){J.texParameteri(3553,a,z)},CJ=function(J,a){(J=RR.for(J).directState()).polygonOffset.enabled=!0,J.polygonOffset.value=a},yJ=function(J){RR.for(J).directState().polygonOffset.enabled=!1},FJ=function(J,a){return J=RR.for(J).directState().color.clear,a&&J?J.slice(0):J},OJ=function(J,a){a&&(RR.for(J).directState().color.clear=tQ(a))},nJ=function(J){if(J){var a=J.getGL();if(a)for(var z=1,U=arguments.length;z<U;z++){var g=arguments[z];if(jR(g))for(var V=0,Y=g.length;V<Y;V++)BM(a,g[V]);else BM(a,g)}}},LJ=function(J,a,z){var U=J._boxClipperGroups,g=U?U.length:0;if(g){if(a._lastClipboxVersion!==J._boxClipperVersion)a._lastClipboxVersion=J._boxClipperVersion;else if(z===a._lastClipboxEnabled)return;var V=J._boxClipperShapes,Y=new Array(g);if(z)for(var c=0;c<g;c++)Y[c]=z&1<<U[c]?V[c]:0;a._lastClipboxEnabled=z,a.uClipperShape=Y}},bJ=function(J){var a=(J=RR.for(J)).directUniforms(),J=J.directAttribs();a.uFix=!0,J.aNormal=!1},SJ=function(J){RR.for(J).directUniforms().uFix=!1},PJ=function(J,a,z,U,g,V,Y){var c=(u=RR.for(J)).directState(),u=u.directUniforms();J._picking||(a?(u.uBlend=!0,u.uBlendColor=a):u.uBlend=!1,u.uLight=u.uFog=z==WR||z,vL(U)&&1!==U&&(u.uPartOpacity=U),u.uReverseFlip=g!=WR&&g,u.uFixPickReverseColor=V||nW),c.cullFace.enabled=!!Y},$J=function(J){J._picking||(RR.for(J).directUniforms().uPartOpacity=1)},lJ=(W2=[1,0,0,0,1,0,0,0,0],function(J,a,z,U,g,V,Y,c,u,H){var M=(I=RR.for(J)).directUniforms(),I=I.directAttribs();if(!a)return M.uSampler=J._emptyTexture,void(M.uBlendSampler=J._emptyBlendTexture);M.uTexture=!0,M.uDiscardSelectable=!ZL(z)||z,I.aUv=BJ(J,U,g,WR,2),H?(M.uBlendTexture=!0,M.uBlendSampler=H):(M.uBlendTexture=!1,M.uBlendSampler=J._emptyBlendTexture),M.uSampler=a,M.uUvMatrix=V||Y||c||u?wX(c,V,Y,u):W2}),TJ=function(J,a){var z=(U=RR.for(J)).directUniforms(),U=U.directAttribs();J.activeTexture(33984),XJ(J,WR),J.activeTexture(33985),XJ(J,WR),a&&(U.aUv=!1,z.uTexture=!1,z.uSampler=J._emptyTexture,z.uBlendTexture=!1,z.uBlendSampler=J._emptyBlendTexture)},fJ=function(J,a,z,U){var g=a.getBrightness(z),V=z.s("alphaTest"),Y=RR.for(J),c=Y.directUniforms(),u=a._picking,H=!0;return g!=WR&&1!==g&&(c.uBrightness=g),c.uAlphaTest=V,c.shadowReceive=!u&&z.s("shadow.receive"),c.shadowCull=!u&&!!z.s("shadow.cull"),LJ(a,c,z.s("3d.clipbox")?l2:z.s("3d.clipbox.mask")),(g=z.s("3d.clip.direction"))?(0===(V=z.s("3d.clip.percentage"))&&(H=!1),g=a.getData3dUI(z)._formatClipUniforms(g,V,z),c.uClipPercent=g[1],c.uClipDirection=g[0],c.uClipLocalTransform=g[2]):c.uClipDirection=0,c.blackout=!(!J._blooming||z.s("bloom")),u||(a._flowObjects.length&&a.flowMap.resetDataFlowEnabld(z,c),U||(V=z.s("envmap"),c.uUseEnvMap=!!V,c.roughness=z.s("roughness"),a._setEnvmapByProbeId(c,z.s("envmap.probe"),V||.01),YJ(a,c,z.s("light.mask"),z.s("headlight.ambientIntensity"))),c.uFog=z.s("shape3d.light")!=WR),U||!!z._flipSide!=(2===z._forceSingleFace)&&(Y.directState().cullFace.frontFace=2304),H},NJ=function(J,a){var z=J.getGL();z&&(z._transmissionRTT||(z._transmissionRTT=new EA(J,0,0,{autoSize:!0})),a.unbind(z),J.renderModel(z._transmissionRTT,null,null,{type:"blitScreen",transparent:J._45Q,image:a.texture}),a.bind(z))},AJ=function(J,a,z,U,g){var V=(Y=RR.for(J)).directUniforms(),Y=Y.directAttribs();!a||_R||BR||J.lineWidth(a),z&&!J._picking&&(V.uFixPickReverseColor=z),U&&(Y.aPosition=BJ(J,U,g,WR))},oJ=function(J,a,z,U){J&&(U&&(z*=U),J.calls++,J.vertices+=z,a==WR||4===a?J.faces+=z/3:1===a?J.lines+=z/2:a===n2.POINTS?J.points+=z:5===a||6===a?J.faces+=z-2:3===a?J.lines+=z-1:2===a&&(J.lines+=z))},sJ=function(J,a,z,U,g){Gr&&(U=J[Gr]),g?J.drawArraysInstanced(U==WR?4:U,a,z,g):J.drawArrays(U==WR?4:U,a,z),oJ(J._renderInfo,U,z,g)},mJ=function(J,a,z,U,g,V){Gr&&(U=J[Gr]);var Y=2;5125===(g=g==WR?5123:g)&&(Y=4),V?J.drawElementsInstanced(U==WR?4:U,z,g,a==WR?0:a*Y,V):J.drawElements(U==WR?4:U,z,g,a==WR?0:a*Y),oJ(J._renderInfo,U,z,V)},_J=function(J,a,z,U,g){return J.bindBuffer(34962,a),z&&J.bufferData(34962,z,35044),a},hJ=function(J,a,z,U,g){return(a=BJ(J,a,z,U,g)).instanced=!0,a},BJ=function(J,a,z,U,g){return z?GJ(J,34962,a,z):_J(J,a,z)},tJ=function(J,a,z){J.bindBuffer(34963,a),z&&J.bufferData(34963,z,35044)},rJ=function(J,a,z){GJ(J,34963,a,z)},GJ=function(J,a,z,U){var g,V=U._bufId||(U._bufId=DR.generateGLBufferID()),Y=J._4NQ;return(z=Y[V])&&z._buf?J.bindBuffer(a,z._buf):(g=qJ(J),z=Y[V]={_buf:g},J.bindBuffer(a,g),J.bufferData(a,U,35044),Y=5126,U instanceof Uint16Array?Y=5123:U instanceof Int16Array?Y=5122:U instanceof Uint32Array?Y=5125:U instanceof Int32Array?Y=5124:U instanceof Int8Array?Y=5120:(U instanceof Uint8Array||U instanceof Uint8ClampedArray)&&(Y=5121),g.glType=Y),z._fid=J._renderInfo.frame,z._buf},JX=function(J,a){a!=WR&&0<=a&&J.disableVertexAttribArray(a)},aX=function(J,a){var z=J.getGL(),z=RR.for(z).directUniforms();J._7O=J._8O.pop(),J._modelMatrix=J._modelMatrixStack.pop(),a&&(z.uModelViewMatrix=J._7O,J._6O=a,z.uNormalMatrix=a)},zX=function(J,a){var z,U,g,V,Y,c;return(z=a=a||mu())[0]=J[0],z[1]=J[1],z[2]=J[2],z[3]=J[3],z[4]=J[4],z[5]=J[5],z[6]=J[6],z[7]=J[7],z[8]=J[8],z[9]=J[9],z[10]=J[10],z[11]=J[11],z[12]=J[12],z[13]=J[13],z[14]=J[14],z[15]=J[15],eJ(a),J=(z=a)[1],U=z[2],g=z[3],V=z[6],Y=z[7],c=z[11],z[1]=z[4],z[2]=z[8],z[3]=z[12],z[4]=J,z[6]=z[9],z[7]=z[13],z[8]=U,z[9]=V,z[11]=z[14],z[12]=g,z[13]=Y,z[14]=c,a},UX=function(J,a){var z=J.getGL(),U=J._7O,z=RR.for(z).directUniforms();a?(J._8O.push(hu(U)),J._modelMatrixStack.push(hu(J._modelMatrix)),z.uModelMatrix=ZJ(J._modelMatrix,J._modelMatrix,a),J._7O=ZJ(U,U,a)):z.uModelMatrix=J._modelMatrix=hu(_u),z.uModelViewMatrix=U,z.uNormalMatrix=zX(U,J._6O)},gX={body:0,label:1,label2:2,note:3,note2:4,symbol:5},VX=function(J,a,z,U,g,V){var Y,c=z?((z=U._pickId)||(z=U._pickId=a._pickIdUsed,a._pickIdUsed+=10),null!=(c=gX[g])?Y=z+c:(Y=(z=(z=U._pickExtraPartMap)||(U._pickExtraPartMap={}))[g])||(Y=z[g]=a._pickIdUsed++),a[Y]||(a[Y]={data:U.data,part:g}),xA(Y)):B2;return V||(RR.for(J).directUniforms().uFixPickReverseColor=c),c},YX=VX,cX=function(J,a,z,U){(J.aMatrixInstanced=a)&&z&&(z.uRightMatrixInstanced=U?U.getElements?U.getElements():U:_u)},uX=function(J,a,z){var U,g="target"===(z="target"!==z?"source":z)?a.getTargetAgent():a.getSourceAgent(),z="edge."+z+".";if(b(g))return i=a.s(z+"anchor.x"),Y=a.s(z+"anchor.elevation"),k=a.s(z+"anchor.y"),U=gD(g,J.getMat(g)),w=g.getAnchor3d(),(i=tu([(i===xR?.5:i)-w.x,(Y===xR?.5:Y)-w.y,(k===xR?.5:k)-w.z],U))[1]+=a.s(z+"offset.elevation"),i;var V=a.s(z+"index"),Y=J.getData3dUI(g);if(!Y.info||!Y.info.list)return!1;if(0<=V){for(var c,u,H,M=(E=Y.info._lastPointsSegments).points,I=E.segments,e=-1,Q=-1,v=0,Z=(I||M).length;v<Z;v++){if(3===(u=I?I.get(v):1))H=2;else if(4===u)H=3;else{if(5===u)continue;H=1}if(e+=H,++Q===V){c=M.get(e);break}}return[(c=c||M.get(M.length-1)).x,(c.e||0)+a.s(z+"offset.elevation"),c.y]}var k=a.s(z+"percent")||0,k=Math.max(0,Math.min(k,1));if(!Y||!Y.getCache)return!1;var E,i,w=Y.getCache(),Z=w[w.length-1].length;return[(i=(E=J.getLineOffset(g,k*Z)).point).x,i.y+a.s(z+"offset.elevation"),i.z]},HX=(x2={center:function(J,a,z,U,g){var V=-a[1]/2,V={x:-a[0]/2,y:V,width:a[0],height:a[1]};return[(a=OW(J,V,z)).x+U,-a.y-g,DR.getPosition3dGap()]},front:function(J,a,z,U,g){var V=-a[1]/2,V={x:-a[0]/2,y:V,width:a[0],height:a[1]};return[(J=OW(J,V,z)).x+U,-J.y-g,a[2]/2+DR.getPosition3dGap()]},back:function(J,a,z,U,g){var V={x:-a[0]/2,y:-a[1]/2,width:a[0],height:a[1]};return[-(J=OW(J,V,z)).x-U,-J.y-g,-a[2]/2-DR.getPosition3dGap()]},left:function(J,a,z,U,g){var V=-a[1]/2,V={x:-a[2]/2,y:V,width:a[2],height:a[1]},J=OW(J,V,z);return[-a[0]/2-DR.getPosition3dGap(),-J.y-g,J.x+U]},right:function(J,a,z,U,g){var V={x:-a[2]/2,y:-a[1]/2,width:a[2],height:a[1]},J=OW(J,V,z);return[a[0]/2+DR.getPosition3dGap(),-J.y-g,-J.x-U]},top:function(J,a,z,U,g){var V={x:-a[0]/2,y:-a[2]/2,width:a[0],height:a[2]};return[(J=OW(J,V,z)).x+U,a[1]/2+DR.getPosition3dGap(),J.y+g]},bottom:function(J,a,z,U,g){var V=-a[2]/2,V={x:-a[0]/2,y:V,width:a[0],height:a[2]};return[(J=OW(J,V,z)).x+U,-a[1]/2-DR.getPosition3dGap(),-J.y-g]}},function(J,a,z,U,g,V){return x2[U](J,a,z,g||0,V||0)}),MX=function(J,a,z,U,g,V,Y,c,u,H){return g&&(a[0]+=g[0],a[1]+=g[1],a[2]+=g[2]),QJ(J,z),c?(g=mu(),Ww(g,u,H),tu(a,g),QJ(J,a),J.auto=c,J.pos=tu([0,0,0],J),V&&(z=J.mat2=mu(),Ww(z,V,Y))):(Ww(J,u,H),QJ(J,a),U===Ve?zD(J,-LR):U===Ye?zD(J,LR):U===ce?aD(J,-LR):U===ue?aD(J,LR):U===ge&&zD(J,y),Ww(J,V,Y)),J},IX=function(J,a){var z,U,g=a.auto,V=a.mat2;a=(J=J.gv).processModelMatrix(a),g&&(z=mu(),U=[0,0,0,0],g="string"==typeof g?[(g.indexOf("x")<0?J._eye:J._center)[0],(g.indexOf("y")<0?J._eye:J._center)[1],(g.indexOf("z")<0?J._eye:J._center)[2]]:J._eye,pJ(U,kJ(mu(),g,J._center,J._up)),xJ(z,wJ(U,U),[a[12],a[13],a[14]]),V&&ZJ(z,z,V),a=z),UX(J,a)},eX=function(J,a,z,U,g){var V=J.s,Y=J.gv,c=Y.getGL(),u=Y._buffer,H=c._sharedTexture,M=RR.for(c).directAttribs();dJ(Y,c,sQ,H),IX(J,z),PJ(c,V(a+".blend"),V(a+".light"),V(a+".opacity"),V(a+".reverse.flip"),V(a+".reverse.color"),J.data._forceSingleFace||V(a+".reverse.cull")),lJ(c,H,g,u.uv,Q9),M.aPosition=BJ(c,u.vs,U,WR),M.aNormal=BJ(c,u.ns,v9,WR),rJ(c,u.is,Z9),mJ(c,0,Z9.length),TJ(c,H),$J(c),aX(Y)},QX=function(J,a,z){var U=J.gv,g=J.data,V=U.getFaceMaterial(g,a),J=J[a]={blend:U.getBodyColor(g)||U.getFaceBlend(g,a),light:U.getFaceLight(g,a),color:U.getFaceColor(g,a),opacity:U.getFaceOpacity(g,a),transparent:V?ZX(V):U.getFaceTransparent(g,a),reverseFlip:U.getFaceReverseFlip(g,a),reverseColor:U.getFaceReverseColor(g,a),reverseCull:U.getFaceReverseCull(g,a),texture:U.getFaceImage(g,a),blendTexture:U.getFaceBlendImage(g,a),discardSelectable:U.getFaceDiscardSelectable(g,a),material:V};return"csg"!==a&&(J.uv=U.getFaceUv(g,a)||z&&z[a+"Uv"],J.uvScale=U.getFaceUvScale(g,a)||z&&z[a+"UvScale"],J.uvOffset=U.getFaceUvOffset(g,a)||z&&z[a+"UvOffset"],J.uvRotation=U.getFaceUvRotation(g,a)||z&&z[a+"uvRotation"],J.uvAnchor=U.getFaceUvAnchor(g,a)||z&&z[a+"uvAnchor"],(V=U.getFaceMat(g,a))&&(z=gD(g,V),g.appendAnchorMatrix3d(z),J.mat=z)),J},vX=function(J,a,z,U,g){var V,Y,c,u,H=J[U];H&&(V=J.data,!(J=J.gv)._picking&&H.material?P9(a,J,V,H.material,[H.vs,H.tuv,H.ns]):g(H.transparent)&&(g=J._buffer,U=J.getTexture(H.texture,V,U),Y=J.getTexture(H.blendTexture,V),c=(u=RR.for(a)).directUniforms(),u=u.directAttribs(),lJ(a,U,H.discardSelectable,g.uv,H.tuv,H.uvOffset,H.uvScale,H.uvRotation,H.uvAnchor,Y),PJ(a,H.blend,H.light,H.opacity,H.reverseFlip,H.reverseColor,V._forceSingleFace||H.reverseCull),H.cs&&!J._batchColorDisabled?(c.uBatchColor=!0,u.aBatchColor=BJ(a,g.batchColor,H.cs,z.aBatchColor,4)):c.uDiffuse=H.color||CR["color.empty"],u.aPosition=BJ(a,g.vs,H.vs,WR),u.aNormal=BJ(a,g.ns,H.ns,WR),sJ(a,0,H.vs.length/3),H.cs&&!J._batchColorDisabled&&(c.uBatchColor=!1,JX(a,z.aBatchColor)),$J(a),TJ(a,U)))},ZX=function(J){return!!J&&!(!(J="string"==typeof J?DR.getMaterial(J):J)||!J.transparent)},kX=(E2=new qR,i2=new qR,w2=new qR,p2=new Im,function(J,a,z,U,g){J.identity();var V=a.rotationOffset,Y=a.rotationPivot,c=a.scalingOffset,u=a.scalingPivot,z=(E2.fromArray(z||a.translation),V&&E2.add(i2.fromArray(V)),Y&&E2.add(i2.fromArray(Y)),J.makeRotationFromQuaternion(p2.fromArray(U||a.rotation)).setPosition(E2),E2.set(0,0,0),Y&&E2.sub(i2.fromArray(Y)),c&&E2.add(i2.fromArray(c)),u&&E2.add(i2.fromArray(u)),0===E2.x&&0===E2.y&&0===E2.z||J.translate(E2),g||a.scale);return 2!==a.inheritType&&z&&(w2.fromArray(z),1===w2.x&&1===w2.y&&1===w2.z||J.scale(w2)),u&&J.translate(i2.multiplyScalar(-1)),J}),EX=(Z2=new XR,k2=new XR,function(J,c,u){var H,M,I,e,Q;jR(J)?J.forEach(function(J){EX(J,c,u)}):dR(J)?EX(l9(c,J),c,u):kL(J)?J.model3d?(I=c.gv,e=c.data,Q=I._prefabRenderer.calcMatrix,DR.traverse(J,function(J,a){var z=(z=J._matrixWorld)||(J._matrixWorld=new XR);if(Q(J,e,I,z),a&&z.premultiply(a._matrixWorld),J.instances&&J.instances.aMatrixInstanced&&(M={model:J,data:J.instances.aMatrixInstanced,m:a?a._matrixWorld:Z2,mi:a?a._matrixWorld.clone().invert():Z2}),(H=J.model)&&(H=DR.getShape3dModel(H))){var U=[];EX(H,c,U);for(var g=0,V=U.length;g<V;g++){var Y=U[g];hM(u,{model:Y.model||J,mesh:Y.mesh,matrix:Y.matrix?Y.matrix.clone().premultiply(z):z},M)}}else a=J.mesh,(a=V1(a))&&hM(u,{model:J,matrix:z,mesh:a},M)},function(J){M&&M.model==J&&(M=null)},"comps")):J.shape3d?EX(J.shape3d,c,u):u.push({mesh:J}):u.push({mesh:J})}),iX=(v2=new t.Matrix2d,function(J,a,z,U,g){return(g=g||v2).identity(),U&&g.translate(-U[0],-U[1]),z&&g.scale(z[0],z[1]),J&&g.rotate(J),U&&g.translate(U[0],U[1]),a&&g.translate(a[0],a[1]),g}),wX=(e2=[1,0,0,0,1,0,0,0,1],Q2=[1,0,0,0,1,0,0,0,1],function(J,a,z,U){return J||a||z||U?(I2=J?(M2=eR(J),KR(J)):(M2=0,1),H2=z?(u2=z[0],z[1]):u2=1,g2=I2*u2,V2=M2*u2,Y2=-M2*H2,I2*=H2,H2=U?(c2=U[0]-(g2*U[0]+Y2*U[1]),U[1]-(V2*U[0]+I2*U[1])):c2=0,a&&(c2+=a[0],H2+=a[1]),Q2[0]=g2,Q2[1]=V2,Q2[3]=Y2,Q2[4]=I2,Q2[6]=c2,Q2[7]=H2,Q2):e2}),pX=function(J,a,z,U){J.uUseSkinning=!0,J.bindMatrix=a.skeleton.bindMatrix,J.bindMatrixInverse=U.bindMatrixInverse,J.boneTexture=z,J.boneTextureSize=z.width},xX=(J2=new m.Math.Box3,a2=new m.Math.Box3,z2=new m.Math.Matrix4,U2=new m.Math.Matrix4,function(a,J){var U,z,g,V,Y,c,u,H,M,I,e,Q=J.cube,v=J.center,Z=_M(J.r3)?J.r3:null,k=_M(J.t3)?J.t3:null,E=_M(J.s3,!0)?J.s3:null;!Q&&!v||(U=J.box3)||(U=J2.makeEmpty(),DR.traverse(J.scene,function(J,a){var z=J.mesh;J._matrixWorldNeedUpdate&&(a&&J.matrixWorld.premultiply(a.matrixWorld),delete J._matrixWorldNeedUpdate),z&&z.attributes&&z.attributes.position&&(a2.setFromArray(z.attributes.position.array),J.matrixWorld&&a2.applyMatrix4(J.matrixWorld),U.expandByBox(a2))},null,"_children")),(Z||k||E)&&(z=z2.fromArray(VD(null,E,Z,J.rotationMode,k)),U&&U.applyMatrix4(z)),v?(a.center=U.max.clone().add(U.min).multiplyScalar(.5).toArray(),g=a.center[0],V=a.center[1],Y=a.center[2]):g=V=Y=0,Q?(I=v?(c=(Q=U.max.clone().sub(U.min).toArray())[0],u=Q[1],Q[2]):(c=2*Math.max(Math.abs(U.min.x),Math.abs(U.max.x)),u=2*Math.max(Math.abs(U.min.y),Math.abs(U.max.y)),2*Math.max(Math.abs(U.min.z),Math.abs(U.max.z))),0===c&&(c=Math.min(u,I)/1e3||.001),0===u&&(u=Math.min(c,I)/1e3||.001),0===I&&(I=Math.min(c,u)/1e3||.001),a.rawS3=[c,u,I],H=[1/c,1/u,1/I]):c=u=I=1,v&&(M=[-g/c,-V/u,-Y/I]),z&&(Z?(e={},["mesh","mat","subMeshes","comps"].forEach(function(J){a[J]&&(e[J]=a[J],delete a[J])}),k&&(e.position=k),Z&&(e.quaternion=t.eulerArrayToQuaternionArray([Z[0],Z[1],Z[2],xm.ReverseOrder(J.rotationMode||xw)])),E&&(e.scale=E),a.comps=[e]):((Q=U2.composeFromArray(M,null,H)).multiply(z),H=Q.extractScale().toArray(),E&&(H[0]*=Math.sign(E[0]),H[1]*=Math.sign(E[1]),H[2]*=Math.sign(E[2])),M=Q.getPosition().toArray())),_M(M)&&(a.position=M),_M(H,!0)&&(a.scale=H)}),WX=function(J,a){var z,U=[];for(z in J){var g=J[z];U.rawS3=g.rawS3,g.center&&(U.center=g.center),g.externalAssetURIs&&(U.externalAssetURIs=g.externalAssetURIs,delete g.externalAssetURIs),U.push(g),a&&a(z,g)}return U},DX=function(J,a,z,U,g,V){for(var Y,c,u,H,M,I,e,Q,v,Z=[U-a,g-z],k=J?J.length:0,E=0;E<k;E++){for(c=2,u=(Y=J[E])[0],H=Y[1];c+1<Y.length;){if(M=Y[c],I=Y[c+1],PL(a,z,U,g,u,H,M,I,!0)){Q=pu(e=[M-u,I-H]),e[0]/=Q,e[1]/=Q,Q=su(Z,e),v=[e[0]*(Q=0<Q?V:-V),e[1]*Q];break}u=M,H=I,c+=2}if(v)break}if(v)for(U=a+v[0],g=z+v[1],E=0;E<k;E++)for(c=2,u=(Y=J[E])[0],H=Y[1];c+1<Y.length;){if(M=Y[c],I=Y[c+1],PL(a,z,U,g,u,H,M,I,!0))return[0,0];u=M,H=I,c+=2}return v||[U-a,g-z]},KX=function(J){return"nearest"===J?9728:"linear"===J?9729:J},dX=function(J,a,z){var U=J.getData3dUI(a),J=U._vsTranslation?J.createNodeFinalMatrix(a,U._matWithExtraction):J.createNodeFinalMatrix(a,z||XX);return U._finalMat=J},B=m.graph3d={WebGLConstants:n2},J=function(J,a,z){Su("ht.graph3d."+J,a,z)},jX="~!<yfusfw!+!yjsubNudfkpsQv!>!opjujtpQ`mh!\v?zepc/tw/qbNxpmg=!fevmdoj$\v!\v?zepc/tw/qbNxpebit=!fevmdoj$\v!\vgjeof$\v!~!<fdobutjEfojMb!>!fdobutjEfojMw!|!*itbEv)!gj!\vITBE!gfegj$\v!\vgjeof$\v!~!<ttfouihjsCidubCb!>!ttfouihjsCidubCw!|!*ttfouihjsCidubCv)!gj!\vTTFOUIHJSCIDUBC!gfegj$\v!\vgjeof$\v!~!<eofmCidubCb!>!eofmCidubCw!|!*eofmCidubCv)!gj!\vEOFMCIDUBC!gfegj$\v!\vgjeof$\v!~!<spmpDidubCb!>!spmpDidubCw!|!*spmpDidubCv)!gj!\vSPMPDIDUBC!gfegj$\v!\vgjeof$\v!~!<**1/2!-wVb)4dfw!+!yjsubNwVv)3dfw!>!wVw!|!*fsvuyfUv)!gj!\vftmf$\v!<*y/wVb!-**1/2!-wVb)4dfw!+!yjsubNwVv)3dfw)4dfw!>!wVw!\vQJMD`WV!gfegj$\v!<*yfusfw)4dfw!>!opjujtpQwNw!<yfusfw!+!yjsubNxfjWmfepNv!>!yfusfw!<*yfusfw!+!yjsubNmfepNv)4dfw!>!opjujtpQemspXw!<*1/2!-efnspgtobsu)5dfw!>!yfusfw!5dfw!\v?zepc/tw/hojdobutoj=!fevmdoj$\v!<*opjujtpQb)4dfw!>!efnspgtobsu!4dfw!<*mbnspOb)4dfw!>!mbnspOudfkcp!4dfw!<*opjujtpQb)4dfw!>!opjujtpQmbdpMw!|!*)ojbn!ejpw!\v?ebfi/tw/qbNxpmg=!fevmdoj$\v!\v?ebfi/tw/qbNxpebit=!fevmdoj$\v!\vgjeof$\v!<fdobutjEfojMw!ubpmg!hojzsbw!<fdobutjEfojMb!ubpmg!fuvcjsuub!<itbEv!mppc!nspgjov!\vITBE!gfegj$\v!\vgjeof$\v!<^TUIHJM`UPQT`NVO]opjudfsjEupqTv!4dfw!nspgjov!<^TUIHJM`UPQT`NVO]opjujtpQupqTv!4dfw!nspgjov!<^TUIHJM`UPQT`NVO]spmpDupqTv!5dfw!nspgjov!\v1!?!TUIHJM`UPQT`NVO!gj$\v!\vgjeof$\v!<^TUIHJM`UOJPQ`NVO]opjujtpQuojpQv!4dfw!nspgjov!<^TUIHJM`UOJPQ`NVO]spmpDuojpQv!5dfw!nspgjov!\v1!?!TUIHJM`UOJPQ`NVO!gj$\v!\vgjeof$\v!<^TUIHJM`SJE`NVO]opjudfsjEsjEv!4dfw!nspgjov!<^TUIHJM`SJE`NVO]spmpDsjEv!5dfw!nspgjov!\v1!?!TUIHJM`SJE`NVO!gj$\v!<opjujtpQmbdpMw!4dfw!hojzsbw!<opjujtpQemspXw!4dfw!hojzsbw!<opjujtpQwNw!4dfw!hojzsbw!<mbnspOw!4dfw!hojzsbw!<yjGv!mppc!nspgjov!\vgjeof$\v!\v?ebfi/tw/hojdobutoj=!fevmdoj$\v!\vZDBHFM`HOJDOBUTOJ`FTV!fojgfe$\v!\vHOJDOBUTOJ`FTV!fojgfe$\v!\vFDOBUTOJIDUBC!gfegj$\v!\vgjeof$\v!<wVw!3dfw!hojzsbw!\vftmf$\v!<wVw!4dfw!hojzsbw!\vQJMD`WV!gfegj$\v!\vgjeof$\v!<eofmCidubCw!4dfw!hojzsbw!<eofmCidubCb!4dfw!fuvcjsuub!<eofmCidubCv!mppc!nspgjov!\vEOFMCIDUBC!gfegj$\v!\vgjeof$\v!<ttfouihjsCidubCw!ubpmg!hojzsbw!<ttfouihjsCidubCb!ubpmg!fuvcjsuub!<ttfouihjsCidubCv!mppc!nspgjov!\vTTFOUIHJSCIDUBC!gfegj$\v!\vgjeof$\v!<spmpDidubCw!5dfw!hojzsbw!<spmpDidubCb!5dfw!fuvcjsuub!<spmpDidubCv!mppc!nspgjov!\vSPMPDIDUBC!gfegj$\v!<wVb!3dfw!fuvcjsuub!<opjujtpQb!4dfw!fuvcjsuub!<mbnspOb!4dfw!fuvcjsuub!<yjsubNmbnspOv!5ubn!nspgjov!<yjsubNxfjWmfepNv!5ubn!nspgjov!<yjsubNmfepNv!5ubn!nspgjov!<yjsubNxfjWv!5ubn!nspgjov!<yjsubNudfkpsQv!5ubn!nspgjov!<yjsubNwVv!4ubn!nspgjov!<fsvuyfUeofmCv!mppc!nspgjov!<fsvuyfUv!mppc!nspgjov!\vYJGFSQ$!00^#CBRBEJxTT87hJFI,,bX1XrIwcn3UM{ZeZ,M6HEN6nLxe2Z72s2:3johr6foKrpqwxNKYkdbJ2CN[mBbf[wXU,T0oGuSEd190ohLZkEn8IuCe[OHoWeKz:Sf,VS7xdSLw23W1YJLU:jdv2{hiDbhDzNNEh9tp3xsuEp94Sl4c3wRzqwShMDRhCLRjCDEBOH5BBVRBCFRE4cJTHrTDH1BNgHJN",qX=(T2.pbr=["?0t0w!/Imjbodujtt;z!ihqm=t!mf4e-v!mmdjohji$u\v\v!!\v\vS0C0Q!!$fQoSjFgGfJeY$\v\v!","~0!0<!eIJj!o>u!ts;p!mhpmDthmb4s-G!`mmjhh!i\vu?-z!eppjcu/\vt!g\v/0u0j!p$=Q!SfFeGvJmYd\vo!j\v$$\ve!f\vg?jzoefp!cQ/CtSg\v/!h\vp$ge=f!gfjeovfm!dToUjB$O\vE!B\vS?Ez\ve!p\vc$/jtgge/fqgb!NVxTpFm`gU=S!BfOeTvNmJdToTjJ$P\vO!\v<!*\ve$Je)fmgfjyoffU!uJvPqSu\vv!P\vp$Uesfbgfjoojfm!!T>Q!FeDJV!M\vB?Sz\ve!p\vc$/ftoge/jhgo\vj!q\vq$bjNofdompvue=f!!f=edvpmndnopjo$?\v\v!!\v\v?$zjeopdcm/vtegf/!u=vqqbudvlpj=o!hf?e\vv!m\vd$ojjo$d\vm!v\vegfj!e=ovfc$p\vt!/<iufbbped?s\vb!f\vm$dj/gmobejfsgf!uVbTnF!`+V!CsPb\vm!vvdofjqgTpusbnp!dnsbbuf5m!dv!W,j!f*xdNdbGu!s+j!yu<b!pvdosjbgfpmsdn/!mwbfjds4f!uebjng!g.v!t1f/<2!)v!o+j!gupishnj!Mwhfodj4p!hfunvjpt!t>j!wufi<h!jvMohjogjppshnu!vgpm!p<b*ud!dsWpOvuhpieo!f-t1t:<G!uvbopjdgspbsfnm!dg/mmpbbjus!fnufbunb!m-o1fGtutb<p!dvsobjfgmpds/nm!bgjmspfbuub!np)qlbddjjmuizd<T!`vGo!j>g!pdsdnG!!w4fddf4w!!s<j*n*DspjmEpxsf<j!wv/ozjsgupfsnnp!fghm!p-bmub!nssjpnOQupbxpfdss<b!fvmodj/gzpssunf!ngpmfphb)uu!pbem)qfiubbUsfvtuub<t!!\v>$!fdodeWjOgu\vp!ev!oujbgppmsgn!!\vcUpBpPmD!SuBsFbMoDt`qFbTsVf!oguf<e!gvjo$j\vg!p\vsgnj!ecopfp$m\v!!d<vsmbmmGvbddffq<T!o\vf$fjigte!f,g!!qVnTpFD`zVhWs\vf!owFbosfzfjioth!!+w!fudi3h!jwMVhwo<j!p\vh$ujvgpe!f>g!!uViWh`jDMMhJoQj\vp!hwubvspz!j<o*hs!pgmmppDbouf!fwiVtw/MmpbdjbsmfVu<b!n\v)$4fyobenj!g+\v!!8\v6$2f/o1e!j.g!\v1!/\v2$!j>g!!qenfpgDjzohfsef)oVFToFf`fMiJtH!IuUbNpBmQg*!!\v}O}F!FeIfTg`jFoTfVe!)gVfTeFg`jB$P\vN!B<Qf*d!o}b}j!eebfSgfjwojftet)jVnTFFm`bVuWp3u*!\v,!!wsbbsmzvjdofhq!Twmfbdu3p!uw!V,w!3f<t!v\vg$gfjoEemjbgu\vp!u\v!$>j!gueifhgj!MVhToFj`pNhBuQv\vp!!v4odjfgwp!s\vn?!ztebpncq/mtfgs/3oEp!jntbtqj<n!t\vo$bfsoue=j!gf\ve!v\vm$djogje$f\vg!!<VsTbFm`vBdMfQqITBuNdBfQs\vj!evoojj/gupishnj!Mtebfnuqdmffmsg3fEs!!b,m!qsibbmNvbdqf<q!T\vu$dffosejjeg/\vu!i\vh$jjMgeeffugd!fVmTgFf`sB!P>N!BsQb\vm!vvdofjqgTpmsbnu!ptub!n4qdmffws!3<Ef!tbvpgNgbjqE<u!d\vf$sjjgeooejf/gu!iVhTjFM`eVfCuPd\vf!mvgofjsg!p,s!nf!tgvmgpgbjuE!ubdpfNsbjqeJ/ouuifhojtMjeufzu<d!f\vm$gffose!j>g!\vf!t\vv$gfgojeEjmgb\vu!p\vu$!j4gdeffwg!!\vV?TzFe`pMcJ/HtIgU/NqBbQN\vp!bv=o!jfgepvsmnd!otjb$n\vq!m<f*ss3fEx!pmQjnhjisu!N-bnqj<s!)\vx$pjqg!o+e!fsgp!mVpTDFn`jVsC!P>\v,!!vfodjogbpjsenb!Sgfmwpjbtut!jmnjFhmibuuNpbuq!J<o*u*fsojtEjxufzj<w!/\vz$sfuofenjpgf\vh!!\v-$mfbonesjpgo\v/!z\vs$ujfgnepffgh!)VuTpFe`)FtNcJbT!T.J!W1F/N2B!Q>\vn!jvso!jugbppsmng!!t\vb?nzqempfcs/3tEg!/fonpjntntpjDwtfuNibhqj<m!=\v!$ffeovemjdgo\vj!$\v\v$!j\vo?dzmevpecf/!t=gc/tSeCgQtt?u\vi!h\vj$mj=o!dfmevvemfd!o=jo$p\vs!n\vbgmjNeboqf/$g\vt!/<icfhbse/?s\vp!m\vp$Djfgwejftgt!jVnTfF!`>S+P!VfHdIoObFjTeTbNSBfQw\vj!tvtojjngFpmsbnu!ptub!n<q{mzfys/3*Es!psmppvDhfiwojfttttjNnbfq)<s!b\vf$ofjoMepjUgC\vH!S\vt$!j>g!ecfhgs!/VsTpFm`pNDFfUwBjMtOtFjTnTfN!B<Q*\vw!Vvwo!j-gqpbsNnf!wtjbtntqjmnffs)3EE3!fnsfvuubymfouf!t>t!Nsbpqm<p!D\vf$wfjotetjjgn\vf!!w5bdsfzwj!o\vhQ!BwNfFdW4J!TwTOJpNsFn`bFmT<V!!wgbfsezgjjo$h\v!!w\vfgdj4e!owfN$w\vQ!p<t*joupjjpuod<f!s\vj$Ejfgd!begf!g-jOoqfben)!V-TmFb`nFsOpWoN!B-Qo*p!j}u}j!tNpBQYx`fCjPWYw`!D.M)JcQsQBF3Sm!b?n!s1p!O}c}s!veufsgfjqo!f>e!)mVbTnFs`pUoS!B<OfTmNbJdTTTmJbPnOs*p\vo!!w>b+s!zzjyo/hO!qwbfnd!4<!1w/X2p!s.m!e1Q/p3t!j+u!j{pzoy</!*\vw$Vfwo!e-jqgb\vN!m\vb$njsgp!oe)fEg3jfosfveu)yDfMuJ!Q>`!EOJqSbFnD!U4JdPfOw*!\v\v!QwBbNsMzBjNoShP!Ow`fFdT4V!!wgMfpedgbjm$Q\vp!t<joupjjpuoj<t!p\vQ$wfNowe.j!g>\v!!o\vp$jjuojdtmpvQexff!j=Wdwm!j4qdEfjws!f<dmubjnpsop/og!t>/!imfbbnes?p\vO!z\vs$ujfondpmfvhe!f4!d=fdwm!j<qocppjyu/dgfts/jiEffbdeb?g\v!!+\v!$mjbondsmpvoe!f>!!=mgbpnhs/pgot!/*iffdbbeG?m\vm!v\vd$aj)o!dgmjv!e<f*!m=btnisbpeOpwx)Nfb{qj/mgbtn/sipfob!e>?!\vm!b\vn$sjpood!m4vdeffw!!=<g1m/p2x!N.b!q;/!g1t//2i!f@b!eh?o\vj!d\vb$GjuoodpmsvGe`fm!h=!f>o!doppejjuodhf?s\vj!E\vf$djbogd!muvbepfm!g=!d\vvgcjfeFoofw$S\vf!g\vmgfjdeuojfp$o\vG!T<?c\v/!t\vt$fjoomdbmuvfeNfm!f=yffouw!n>b+q!QsipzutdjbdGbtmt/fgotm/biuffbne!?\v\v*!C\v`$MjFoOdOmBvIeDf`!Q=BmNjThTiFuOtMDBpUnFnNp)oe/fgotj/giffeb!eg?j\vm!f\v$$\vj!o<dhm/vtetff!o=mmbjuhfiNumtfQyCfSu/!g>t+/!isfpbued?b\vG!t\vt$fjoomdbmuvfenf!!\v=*uHs`bMoFtOnOjBtItDj`pQoB/NgTtT/FiOfMbBeU?F\vN!)\ve$fjoojdgmfvee!fg!j=mufp$o\vf!N<bsq/qtjtofho/mgbtu/fiNfmbfey?f\vu!!\v>$+j!osdpmuvdebfG!t=tpfjoum/bgutf/ni!f\vb*eS?`\vM!FwOpOjBeI!Dn`bQjBoN)T*T!F|O!M\vB$UjFoNd)mevfeofj!g=fdem!jgqjE$j\vs!f<d*uwjVpwo!/-gqtb/Nctptefzo?m\vb!u\vf$nj)oEd3mfvsevfu!y=fdum!j>q!ctptyf/ogmtb/ucfpNemzf?y\vf!uw!f5dd5f!we!j\vgQgBvNtTfTDFpOmMpBsU<F!Ne`jFgTgVv!tgffDepgmjp$s\v/!s<htct!f>o!mebjugfgnv!t>f!<s!peujdgbgGvtttffDopmmbpusf/nb!!u>b!ppmqgb!d\vjgujze<o!fS$f\vg!m\vfgdjuefoefM$j\vh!i<uc!/stftgfmofidhuvfpeSMmjfhyifuu!!>>!+S!fsgpmufddbuGftetMfjohiihuv)pwsf!d\v4*)C1`/M1F*O-O!BwIfDd`4Q)B1N/T1T*F-O!IwHfVdP4S))1e/f1o*j-g!fwef!dg4j)m1f/$1\v*!*<<h!/wtftdf4o!iuhpvupbSmmFfnyjftut!j>w+f!SsbpeujdbboGdtft!f>o!ifhnvjptst!j\vw*fH<`!M\vF$OjOgBeIfDg`!QVBTNFT`TNFBOQI\vH!VwPfSd)5e!fuofjygffmeD!pgmjpmsf!$>\v!!u<fsy/utvtsffo3iEh)vnpbSqm-f!ywfVuw!*><+!!usfpyufdmbDGptmtpfso!i>h!vtpSsH!C\vU*pSM`jMoFfObOsB)IuDf`yQfBmNDTpTmFpOsI*H<V!PeSj)gegfvotjfgDfpem!pgsj!$+\v>!!<u*fwyVfwm!D-pqmbpNst<t!f\vo$ifhovepjsg)\vE!3\vf$sjvgueyffgu!!V>T!Ft`tBfMoQiIhBvNpBSQm\vf!y\vf$uj!g5!deffwg!j\voQfBeN)TBTMFQOIIBHNVBPQS``DFITBVO!OgFfMe`gBj*$\v\v!!e<jtgtgfvotifhDvppmsp!s>/!bs!p+u>d!buGftytufvosifh3vEp)sb!muqbipbmNgb!q<-e!swbVdwt*j/eb!<*!u\vt$ffUmbjigq!mebf!g=j!obf/es)pBmMpQDIfBtNvBgQg`jDeI)B!OgOjF!M\v`gSj*e\vo!fe$j\vg!g\vvgtjfeDopfm$p\vs!/<bc!/+*>w!Vuwf!y-uqvbsNfb3iEq)mbbm)qEi3bfNsbvqu-y!fwuV!w>*+/!sb</!s\vp$mfpmDjfgt!vegfggjjeo!f\ve*)CB`MMQFIOBONBBIQD``DQIBBNOBOIFQMM`BH)*e\vf!oejjggfgev!tgfjDmpfm$p\vs!/<bh!/+*>w!Vuwf!y-uqvbsNfb3iEq)mb"],T2.phong=["?0t0w!/Imjbodujtt;z!ihqm=t!mf4e-v!mmdjohji$u\v\v!!\v\vH0O0P!I$QQ!SfFoGjJgYf\ve!$\v","~0!0<!eIJj!o>u!ts;p!mhpmDthmb4s-G!`mmjhh!i\vu?-z!eppjcu/\vt!g\v/0u0j!p$=Q!SfFeGvJmYd\vo!j\v$$\ve!f\vg?jzoefp!cQ/ItPgO/Hh\vp!g\v=$!jfoedvmmvdeofj!$=\vd!p\vn?nzpeop?c\v/!t\vg$/jqobdNmxvpemfg!==!qfbedvlmjdoohj?$\v\v!!\v<$*jeoJd)mmvfeyff!U=uvvcqputv/PipfUbseb?f\vo!j\vm$!j>g!oeeJf!g\v!?VzTeFp`cV/CtPg\v/!hvoojjqgqpbsNnf!owpfud=4!!feejvgmgdvotjf$<\v!!v\vo?jzgeppscn/!twgf/du4v!qfunvjpt=t!jfwefv<m!dvoojj$g\vp!s\vn?!zwefpdc4/!ttgq/fhdovpmibQsq<b!nvwoojfg=p!sfne!vgmmdpobju$!\vt!i<jfodjoobfjtetb<S!fvwojjtgtpjsnnF!mgbmuppbuu!!,p!qsbbdmjvudzf<q!Tvuodjfgspjseno!jg/mupibhuj!MbemfquidbfUmfgtfus<!!,v!osjbgmpvsdnf!qwTfudd4f!svjDeb/nufishbjQMpetfjuudjfpmog<f!sv!o,j!gfptsvng!gnjbEuu5d!fvsWjjefoxjN/buuishjjyM<e!f\vu$dffomegjfgs\v!!,v!ofjtgvpgsgnj!Ecupdpfms!jues/buoithqjbMseffouud<f!mvgofjsg!p>s!nu!ichpjpMmh!odjvpmhmuGvbpd!f4<d!f\vw$!j\vg?ezfegp!cV/TtFg`/VqWb\vN!pwbb=s!zfjeovhm!dwofjd$3\v!!w\vV?wz<e!p\vc$/jtgge/fogp!nVnWp`DDtMuJiQh\vj!mw=b!sfzejvomhd!ogjm$p\vb!u\v!?wzVewpMcp/dtbgm/Vh<o!p\vi$Qftoueijhgj\vm!=\v!$ffeovemjdgo\vj!$\v\v$!j\vgg!jeefogfj$o\vf!e<)cVhTsF/`sMpJmHpIDUfNwBjQt*t!j}n}f!!e>f+g!jfodfoeb)jVeTbFS`fBwPjNtBtQj*n!F}m}b!uepfug!j<o{fzey)/V*TsFp`mVpWD3f*w\vj!twtbjsnzfj)oshb!fwofjdM3p!UwCVHwS3t<!!>\v!$cfhose/jsgp\vm!p\vD$fjwgjetftgj!nVfT!F<`*NwBVQw\v!!-vqobjNgfpwsjnt!ttjbnnfq)mEf3sf3sEv!unybfqu<!!>\v!$sfpomepjDgf\vw!j\vt$tjjgneff!g5!dVfTwF!`\vBQMBQNIFBWNJBTQT\vJ!NvFo`jFgTpVs!ng!ftebgnjq$m\vf!s\v3gEj!ebomfq$i\vb!N<b*qo<p!j\vu$dffosejjEgf\vd!b\vg$!j-gOeqfbgn!!V-TmFb`nBsPpNoB!Q-\vo!pvjoujjgtppsQnx!ftjbWnwq!m.f)sc3sEB!3bmpbNnbsqp<O!c\vs$vjugsofeqf!g>!!VmTbFn`sVpCoP!\v<!fvmobjdgTpmsbnn!sgpmop!b>u+!!bzpyN/bOqqJbonu!f<o1t/j2u!z.<!!1\v/$3f!o+e!j{gz\vy!/\v*$wfVowe!j-gq\vb!N\vm$bjngsepfog)!EV3TfFs`vMuJyHfIuU!N>B!QO\vq!bvno!j4gdpfswn!!\vtQbBnNqMmBfNsS3PEO!`mFjThVi!ugNfbeqg<j!$\v\v$!j<goopejfugj!tVpTQFw`NVwC.P!\v>!!voopjjgupjstnp!QgxmfpjbWuw!!m4jdhfiwu!N<bmqbJnosupfoo!t>j!umzb<n!s\vp$Ofzoseujfgn\vp!f\vh$!f4odefjwg!\v<!o\vp$jjugdeffsgj!EVfTdFb`gF!N+J!TmTbJnWsFpNoB!Q>\v!!mvbonjsgppos!n*!ftdbbnGqmmmfvsd3aE)!!fgnjj!t<t*jmwbfnNsbpqO<w!)\vf${fjomebjngs\vp!o\v!$>j!omdbmnvsepfo!!=4cdtfewg!t<?1\v/!2\v!$.j!o;d!m1v/e2f!!@=!ohposjndbbmGNuboqp/sgGt`/mihf!b>e!?o\vp!jwubdsfzsjjoEhf!dwbfgd!4u!bwpOmpgs!n\vbgmj<e!owfb$s\vz!j<o1h/!2w!f>d!4i!uwhNowfQsputTjsubjmpvod<f!q\vt$!e\vffgtjmoff$!\vF!O<WsN/BsQb`mNvPdEfFq`TSmFfGyMfFuD!U>J!PiOu\vh!o\vf$sjugT!sebfmgvjdoffqet)!V<T*Fw`VFwO!W-NqBbQN*s!b}m}v!dNfBqYt`)CEP3Yf`sDvMuJyQfQuF!S>!!?s!b1m\vv!dwfbqsTzmjfoyhf!uw!f5dd4f!ww!X\vpQsBmNeSQBpMtVjDuFjQpTo`<F!T\vV$!fgofeejggj\v$!\v\v!$<jigu!heoffgsjuoTfseb)mVvTdFf`qFtO!WuNbBpQm*g\v!!<veosjbgdptsjne!!g*muptbfuU!bfioqwmNbb!q=J!obu/fsoptmjpuDzf<t!vvgogjjgep)s!ng!jg!m\vpgbjue!ogfm$j\vq!F\vogwjNeboqf<$!\v\v!$<jcg/e*fwgV!wF!O-WqNbBNQb`iUqZmQbF)`ED3VfCsFv\vu!yvfouj!g>p+s!nb!/tsbpnmqpmDffstDvvgcgfj!ef!o\vw*nCb`qM<F!O\vO$BfImDt`fQ\vB!NvBoIjQgMpBs)ne!ftobjngqfmef!sg3jEm!ff$o\vw!n<bhq/<*!w\vV$wf!o-eqjbgN\vb!i\vq$mjbg)oEe3ffgs!vVuTyFf`uV!C>P+\v!!bv/osjpgmppsDnf!tgvmgpgbjue!!s\vf*gHs`bMdFuOjOpBoISDb`uQjBpN<B!I\vQ$MfBo)eejfgo\vj!g\vf$ef!ogejjmgf\v$!\v\v!$<jsg/!*ewfVgwj!o-fqeb)NDbMiJqQm`bE)JES3FfDsUvJuPyOf*u\v!!>w+b!sbz/jsophm!pwDffdt4v!gwgMjped!b\vm*QSp`tMjFuOjOpBoI<D!`\vQ$BfNoBeIjQgM\vB!)\ve$fjoojdgmfvee!fg!j=mdfm$j\vq!E<jbs/f*dwuVjwp!o-/qgbtN/biifqbmeb?)\vE!3\vf$sjvoudymfvue!f>!+=!dbm/jsqpcmppyD/fgttv/gigfjbee!?\v\v*!B\v`$MjFoOdOmBvIeDf`!Q=BgNpBhI/QgMtB/)ieffboej?g\vf!e\v!$gjjo$d\vm!v\veQfB!N=BtIiQbMeBp`xFNTbVq!/ggfte/gijf$b\ve!?\v\vg!j\ve$ojfo$d\vm!v<esfp!m=pgDmmpfxyNfbuq!/>g+t!/sipfmbpeD?f\vt!v\vg$gjjoed!m<v*esfp!m=pfDomdfpyefjuo)hs?b\vf!o\vj$MjpoUdCmHvSetf!!>=!msjphmipuDtmDfpynfnup!o</*gwtV/wi!f-bqeb?n\v)!E\v3$fjsovdumyvfeuf!!>=!msjphmipuDtmQfiypfouh!/5gdtf/wi!f\vbQeB?N\v`!F\vT$Vj!ggeffegg!jV$T\vF!`<TfQwFjDtVtMjBnSfN!B>Q!\vf!dvoobjjgepbsSnf!wtjbtntqjmnfFsm3bEu!ptuq!f4ddvfmwb!s<N*b*q1</!1\v)$4fdofewj!g-\v*!1\v/$1j)o4ddmfvwe!f-!*=1d/v1c)f4FdofwwS!f-g*m1f/d1u)j4pdofGwT)?u\vi!h\vj$Mjeofdumdvfemfg!f=Su!p>o!fuNibhqjqMjeofhu/dgftm/giffsb!eu?i\vh!j\vM$ejfouddmfvmegff!S=!p<jzuu/jgdtb/qipf!b>e!?b\v/!swppmjpeD!fntbvjgog)j*e!!|<!f\vt$vjgogdjmev!e>f!!c=hdsm/jsqpEmjpsDffdtuvjgpgoj/eg!t</scppmepzD?f\vt!v\vg$gjjoed!m5vdeffw!!=\vd?mzjeqpccp/yt/g"],T2.litePhong=["~0!0<!y$fQuSsFfGwJ!Y+\v!!yvjosjugbpNsund!fckpppsmQ!vv!U>f!youpvjsufj<t!pvQo`jmghp!s\vn?!znebpuc4/!tvwV/wqNbbNuxspjmyg<=!!vfoejvgmpdsonj!$n\vb!u\v5?!zveQpscp/ktfwd/uqNbbNuxspjeyb<i!tv=o!jfgepvsmnd!onjb$u\v5!!\vvgWjjefoxfN$b\vu!s<j*y*<1!/v2o!j-gwpVsbn)!4ndbfuw5!!+v!NypjesfumbNNbwuVsvj)y3<d!fvwo!j>g!pwsVnw!!n\vbfut5m!fv$N\vp!e<f*myW/jwfVxbN!b-u*s*j1y/<2!!v-owjVgbp)s4nd!fnwb!u+5!!yvjOspusbnNbwmVNvb)u3sdjfyw<)!4bdufuws!j>c!vwuVfw!!w\vfQdJ4M!Db`OWpVs!ngbfme<g!jb$u\vu!s<j*cyvfuufs!fwwf)d44d!fbwQ!p>t!joupjjpuoj<t!pbQuwuNswj!c<vyuffu!swffwd!3+!!byVjws<u!b\vN$xjfgjeWfmgf!eVpWN`vD!M>J!Qy\vf!uwsbfswz!j~o!h<!*wyffdu4s!fwwV!w+<!!y\vj$sfumbtNfm\vf!ewpbNsvz!j+o!hn!swpfgdt3o!bwsVUwm<b!d\vp$MfqojemjDgv\v)!4\vd$fewf!g>j!oofp!jVuTjFt`pJQOmTbUdBpOMDwJ!O|H!\vf!t\vm$fe!f~g!j<o*fo!pVjTuFj`tJpOQTbU)B4OdDfJwO!H>`!MoFpHjBuDjZt\vp!Q\vm$bjdopdMmwv!e|f!!*=2j1o1t1u/b1o!d=j!oxh//^w4t]/nisfpbget?o\vb!swUbmsbzdjpoMhq!jwmfDdv4)!!wgOjp!s<n*bymf<u!swfbws!z+j!oyhj!swufbdN4m!fweNpwNQvp)t4jdufjwp!o><!!owpbjsuzjjtophQ!ewmfsdp4X!ww!X<p*s1m/e2Q!p-tejfunjsppog<t!ovbosjug)p5sdnf!wn!b>u!5y!fvuDsmfjwq!M5pddfbwm!U\vs?bzoetpgcp/stnw</!hwobjsdzojbouht!owjf=d!4f!ewvMmpddobjm$Q\vp!t<j*uojppjou<j!t\vp$Qjbo)d4mdvfewf!!>=!teifbnesppxgNtboqb/swut!/4idffbwe!?<\v*!m\vb$njsopdOmbv)e4fd!f=wg!m>p!xmNbbnqs/pwOtu/diffkbcep?!\v4!dwfpwj!e|!!n*b)jo","~0!0<!eiJj!o>u!ts;p!mppjDuh-b!shGm`tmmh4!\v\v!?\vz0e0p!c$/QtSgF/GuJjYp\v=!!vfoejvgmpdsonj!$g\vm!p~b!u<!1b/m2q!i>b!Uxf/teuJ<!!|v!ofjtgmpfs!n~!!c<pzpumj!dvbtqfpM!j>h+i!uxj/oehJ<!!|v!o*jugopfssnb!qctpopbms!uu)s!bgojt!q\vb?szfeopuc</!tvgo/jhgppgs=n!!fcepvpmmd!ovjU$f\vy!u<vfswfj<t!t\vj$njfg!e>f,g!!cVhWs`/DeMJJ!Q~\v!!\vw?bzsezpjco/ht!gw/fhdo4p!iwQVfwu<j!M\vt$ufimhtjfm\v=!!wfbesvzmjdoohj!$w\vf!d\v3?!zweVpwc</!t\vg$/fqobeNjxgp\vm!gv=o!jfgepvsmnd!otjb$n\vq!m|f!s*3hEo!jnubiqh<j!M\vf$tevf)g!jgojf!!~D!M<JsQp`mEpJDSwFvD!U>J+P!Oe\vJ!!\v|$!j*ofdsmvvueyff!U=vd)m!jgqjE!j<s*f1d/u2j!p-of/tgvtg/gijfeb)e5?d\vf!wv!o>j!gepJs!n\v!ggjmepobfu$!\vp!q~b!d<jOu.z!<>!!vOo!j|g*plsdnb!Cwtfjd)4!!gejj!g<gfvvtsfu<!!;v!ofjtgmpbsgn!!@w!fhdo4j!dfbnGjutotpjswGf`<m!hw!b>s!zljdobhC!twjf!dm4p!pwcO!p\vsfntbmmf<$!\vw!b~s!z<jfovhs!uw!f>d!4l!dwbNCwtQjp!t<jOu.j!p>o!<O!!w|b!s*z1j/o1h!!=w!f*dO4!!-wFM)pudpbem)Qgpjt!j<ufjtpmob<g!!v>o!jlgdpbsCnt!jn!bmup5p!cv!W\vjTfMxBNNbSuPsOj`yH<O!JvToVj`gFpDsBnG!LwDfBdC4`!ZvDDBbHnFfMs!bgQfpetgjju$j\vp!o<<F!.w!b>s!zMj!o4hd!fwwf!d<4*!owpXjpusjmtepQQpwtNjwu.j)pfo{<j!m\vb$nvsopeof!g>!!FFO!W4NdBfQw`!S<P*UmBbUnFs\vp!O\vw$)jfo{djmmvbenfs!p=om!j>h!iOu!t4Mdjfuwf!Q<iepJo!h5/dgftw/!i\vf?bzee?p\vc!/\vt$gj/ofdwmjvuedff!m=fqTbndplpjmoch=?!\vf!e\vv$mjdoodjm$v\ve!f\v!?=zdempjcq/ctpgy//ygptc/qijfmbde=?!\vf!e\vv$mjdoodjm$v\ve!f\v!?=zgepphc//gttg//iofpbjeu?d\vf!s\vj$Ejqojdmmdv=e!ff!e=vtmidboejp$x\vN!b~q!/~g!t~/!i<febseb?d\vt!j\ve$!j|o!d*muvteffU!b=igqmmpbx!N>b=q!/bg/ts/pimfpbDew?v\v)!!\vg$jj!o|d!mfvtemff!!=~c!m~p!p<neTsfbmdftdjuej!w|f!/*g1t//1i!f>b>e!?b\v/!s\vp$mjpoDdwmvv)e!fg!j=!p|j!u*/ugotf/sibfqbteo?b\vs!uw)p!jgej!!n\vbgjjoe)o*f!$|\v!!w<f*dw5V!wv!w-Dqpbmnp)sE<3!fjsgv!u)yvfUuf!y>u!vsspfm*p!D|w!v\v!$\vjfgtemffg$!\vV!W<`*DzMyJ/Qw\vV!wv!w-Dqpbmnp)sE!3>f!suvfuy"],T2.hueSaturation=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*gxp/ssnp!mtpbdn!q-m*fmst3iE)!cjhnsb3hmft<i!)w5bdsfzwj!o>h!!swpfmdp3D!hwbVswG<`!m\vh$!e<f*g!j*offh!oNbBSYt`tSfBoOuHiFh!j8m\v!!-\v^$1e]ftgtjfoofu!iShBjOmH!F-`{B/MmMt!i1)\vt!tvfoojugiphsjnm!`gqmbpnb!u-!*ifvhfo]bNSBoYp`jSuBbOsHvFu^b<t!!v-o^j1g]pospnj!ugbmspvbuub!tt!b-uzv/smbtuij)poop]jNuBbYs`vSuBbOtH`Fq^b<n!!v-o*jfghposbnS!fgvmip!b-u^!1m]jfhviiu!o-fyt/tm]tNiB)Yf`vSiB`OqHbFn^!<)!4gdmfpwb!u>!!nmbtqi`!i~v!f~)!g<mlpbbfus!cj!o<W^bsmfvufo-v!pgdm`pfbvui!]itvtffBomumi-h!jgmm!p>b!uf!hiovbfSStbtofhofu*i!h|j!mg!m<p^bsuf!uwobvmpvdf`!f>v!ij]ooWpbjmuvbfs!v,u!b)ti!v>f!Bfmhmo!b,S!oipvjfuSbbsovhufb*t!!0<!^3s/f1u<o!vjpgd!`)fwvbim]vffv!i=!!>1!/f1h*o!bsSffuvvis!o|!!w*bfmhvofb!s,!!>2>/!1s<f!ufomvtpfd!`jfgv!i))w!bgmjv!f|!!?*!,2,/s1f*u!osvfpudv`sfov!iw!b<mFvHfO!B.S!`2Y/B1N<!!=f!mstffu!osvfpudv`sfov!iw!b<m1v!f><!!s~f!ugomvppbdu`!fnvbiq!`utobju)v!ssbpugj!p<o2)!g,m!pfbhuo!bjso!W>b!mfvhfo-b!sg!m<p1b!u>!!tfbhuovbssb!u*j7p!o>B?m!mf-h!ogbmsp)b!ug!jt!b~u!v~s!b<uljbpfosScb!o<hsff*u!o|v!pgdm`pfbvui!!w>b!mfvhfo!b>s!!j|o!W*b6m/v1f!!,+!!*)s2f/u1o!v,p!dt`bfuvvis)buubjppmogB!m=m!!i,)!!tgbju!v|s!b*u,j,psofSuboovhpfd*`<f!vsif!u<vFsHoO!BdSm`bYnBqN)!w=b!msvffu-o!v1p/d1`-f!v2i/!1<*1<!!>~!!sgfmupobvup!dn`bfqv`im!juhoiju)o!fstptg)!g<mfphboub!SjtotWfbomuvifh-j!mg!m-pfbhuo!bmSjohpijuuobfstvtuBbmtm!--!fghmopbbSuf!vmij!huibupomfgt!t<S1b!o>h!ff*h!o|b!sg!mupobju!!<we!m>p!imtjfhsiiuuo`fftvtiB!mumb!p,m!gm!j<h1i/u7o!f+t!tyS/bmothif!<>!!jig!!u)bwp!m=g!!1</*1{*z!ys/fsupvmspod!)jmotWib3mcvhfs!!+>!!)mwt!i,!!42d/f1w*!<<!*fwmVtwf!!-sffhubvnsjo)!Ej3ofWsbvmuvyff!u,!!>)!ws!p+m!p)d2!/51d!f.w!!j|o!W*b)movjfb*n*!<e!j~p!wg!m~p!b<u*!mi!v-ft3!s-hic))4gdmfpwb!uo!sgv2u-f!sg!m~p!b<u1!/g73!-0!!gim!p>b!ui!!i~v!f<*1!/|7!!j>g,!!)ii!v|f!!*=1!/11/!1=*!!ii)v!fg!j,!>~!!2</b1u<m!ffEmdt!f0!!j*gh!!).i!vsf)!!?,!!21//15*!!>i!vif!!|.!>f!t2m/f1!<~!!g<mbpubmuf!Esdf!t0<!!*jsg!!.)!)c7)/!1,!!+1!/i3v!f>*!!i=!!|2!/*1y*b!Nsdf!t>!>>!!hg)2!!g,j!!)fgt3m!f.!!~g!2<*b!u+m!f7E/d1!!0+!!*icv!f.<!!hf)m!t>f!!ij!g|!!)*)y3b/N1d!!+>!>i!vsf)*!!g=j!!2</*1**o!jsNfdt!!,>!!ygb3N<d!)f!m.t!f1!/j3g)!!)0)!4b/u1m!f+E!di!v;f!**!o=j!N3d/!1,*!!ysbfNtd!)>!!0g!2b!u,m!f)Egd3!!@.!!6g/21*!!=+!!m)!)>3!/t1!!<0o!j4N/d1!*.!!.y!biNvdf!*>!!+b!u7m/f1E<d!!fumbtpfm!gs!f|t!!*>o!jgN2d<!!?s!fyubvNsdo)!!sgfjt!<<!1~/!3w!f0d!4*!oijtNmd3!s,h!cy)bwNfdd)4!!>i!tmm!*<!*|*!cw!f-dh4)!ysbhnc!<-!sj)gy!b)ni!t>m!/yzb!N>d>!!u1b/p1m*g!!|<!*s*hcc!!->h!)wofjdn4!)-ist)mo/j{n*!<>!!~o!jfNmdt!fu!b|p!mggm!p<bcu/!dg!3><!!cj!gu!b)pimtgm!/<{h!/=d!!1>/!6h*!!ugb3p!m>g!!i<tsm//d{!!>+!!s)!2u/b1p!m,g!!i<t1m//1z!*><!!mf!mutbfp!mgg3!!<>1!/i1t!m>/!{t!!,u!biptmmg/!z<!1./!2i.t!m>/!zi!!+u!biptmmg/!{|<!!*gdm!p4bduf!wg)2m!t>i!33c/h1s!!+4!diftwm!/~{!!<.c!hgs3!<o!ssvhucf/ss!!~>!!<i*v*f13/s4h0c1)/g22)-!!.g!3y-/!mittim!/-y3!g,!!-)22g/)1c0h4s/31f*v*i<!!>s!hcc//chh!s>!!<i*vyf/3msthic!)-g32g-!"],T2.blitScreen=["?$TjWoodfmfvsedfT!u=jcm","~v!o\vjggjpesonf!$t\vb!n<q*mcfhss3/Es!pjmnpbDhhfb<s!Gw`bmshz)jhoohj!swffidu3j!ew!V>w!<c!h\vs$/jsgpemfpgD!hVbTsFG``MmJhO!F\vBHSO\vJ!S\vF$IjUoJdEm!vgeffe!g=jf$o\vd!p\vegjjoeho?f\v$!\v\v!$<f*oweVjwg!\v-!f\vh$bjngje)fEg3!fEsJvUuIyFfSuJ!O>H!\vs!p\vm$pjDohdbmsvGe`fm!h=!d\vpfntnmpfo$?\v\v!!<w*f*dw4V!we!j-ufihfbsnjjo)hE)3wffsdv4u!ydfpum)pCsH*S!t|p!Ugsmbpfbouj!Mh!s>j!es`pqmpptDjhubjspGo`!m>h!!s\vbSoBeF)OhJmM``GFsTbVh!Dgpfpesgej/$y\vz!*|<!!*w)fodj4b!ne!jeujipfws!`\vtgijjegouf`$S\vH!C~!!><!CwHfSd`4u)g1j/i3t6`!s0f!i3u6j6e/!1,-!!s.p1m/p3d6!!o0s!v3u6f6s/!1<-*!o1p/j3u6j!t0p!q3`6e6j/s1h*!<-!CeHjSu`iufgsj`itti`jsgfui`uSjHeC!!+>!!1n/j3y.)!3-/C1H!S+`!uegjjuiitf`s"],T2.pick=["~0!0<!y$fQuSsFfGwJ!Y+\v!!yvjosjugbpNsxnf!jcWpmpfme!pvNUvf!y+u!vysjfs<u!bvNoujdgfpkspns!Qnvb!u>4!!ovpVjwuNjbtupsQj`ym<h!!v~o!j<g*pysfnu!snfbwu!5+!!vyQjsspukbfNdmufNebpuNsvj!y+<!!nvsopjggtposbns!Unmbbud5p!MvqNjpmeDfvm)N4bdufswj!y><!!ovpojjugjptspnQ!mnbbdup5M!wv!N|p!efftmmWfj!f~x!N<b*uospjjyu<j!tbpuQubs)j4cdvfuwf!!>w!fodp4j!ubjOtppsQnmbbmd<p!Mbwu!u|s!j*c2v1u1f1!/w1f!d=4!!xb/Q^p4t]jnusjppgot<o!bbsuUumsbjdcpvMuqfj!mwDfvd)3!!gbjV!w\v<g!j\ve$ojfg$e\vf!g~!!C<BsUpDmIpDDPiMdPuSb\vC!bv!o>j!gsppsmnp!Dcipdpumb!CvwC!b|u!d*isDppmmppDsi<d!ubbuCuvs)j!cgvju!f\v!SwPfMdP5D!IbDCUbBuCd!igDfpemgpjs$<\v!!w\vbgsjzejoofh$!\vw!f~d!5<!*w*C1b/u2d!i-DwpVmbp)s4<d!f\vw$!f+o!eyjjgs\vu!b\vN$wjVgve)f3gd!fVwW!`>D!MwJVQw\v!!|w!b*sfzsjvouhy!fwUfvd)4!!gwjV!w\v<f!t\vm$ff$m\vt!f<\v*!yw/bwsVzbj!o-h*!*w1f/d23!!-wwVVwb<)!4\vd$ffwo!e+j!gy\vj!s\vu$beNfwgVjvo)f3!dVfTwF)`4JdOfTwU!B>O!DwJVOwH!`\vMQFJHMBDD`ZW\vV!!\vg$feefggjj$o\vf!!\vVgTjFe`oJfO$T\vU!B<O*DyJfOuHs`fGwM!B+U!`yTjIsBuEbFNEm\vf!e\vp$Njvo)d4mdvfewf!!>=!jooptjuubjotdpjQoehm/swptX/wi!f\vb1e!?>\va!!wSbFsQzQjJoMhD!`wYfPdC4`!YwBXNp!sgmje$Q\vp!t<j*u1j/p2o!<-!evfonjsgppgstno!bnsbuu)55!dvfDwm!j>q!MypfdubsmfUws!b5odtfgwp!s\vn?<z!ewpbcs/ztjwo/hh!owjfddo4b!uwtMopjd=b!mfQepvtmjduojjp$o\v<!!~\v!$\ve?fzgejpocf/!tVwT/Fh`oTjLoJoOjOlJtO=H!\vf!e\vv$medfogjj$o\vf!!|C!P*OhFo`jUoFoYjUlVTSfFt\vV!vv)o!jggjp!s<n*!ocppjpumj!tvpVQtbf)T4ldjfowo!j>o!he<f!n\vs$pjgotdombvseuf!!4=dtflwj!o<o*jmobhn/swptO/bi)f4bdef?w\v!!>w!pmjben!snpbOjuod)fwkpcjpe!*4!d|f!w","~0!0~!!$<QeSsFbGdJtYj\ve!!v|o!j*g1p/s1n!!>c>p!pbm/!svpEmjptDdhbbsseGT`fmmhf)d!ugbjc!m\vfg<j!evoofj$g\vp!s<ns!pwmfpdD5f!tvsGfjwyfQSjlddljSQfywjfGsvt!f>D!psmppmsp<D!hvbosjGg`pmshn!!\vgfmtpmbfu$!\vv!B~m!q<isbpUmfptDuf<t!svfowjfgSplsdnj!QcypjpGmv!!v>U!ssbpomtpqDbhsbfsoGu`<m!hv!o|j!gfptsmnf!!c~p!p<ms!pvmUpfDyiudvusbfC<w!!\v>$!jsgpemfpgD!hVbWs`GD`MmJhQ!\v|!!w*bsspzmjpoDhi!dwufbdC4v!)w!Vgwj<!!\v\vS$PfMmPtDfI\vD!UwBbCs!zgjfoehg!jw$f\vd!3\v!?wzVewp<c!/\vt$gf/oyepjcgq\vj!mvdo=j!gfpesvnm!dtobjn$q\vm!f\vs?3zEe!pvcT/btngq/mofpsj<u!d\vf$sejfEgqjjomfd!=D!MfJeQv`mEdJoSjF$D\vU!J~P!O~\v!!~\v!$<jeosdbmdvtejfe!!=|d!m*juqtEfjUsbfidqumjBpvo!/>g=t!/bi/fsbpem?p\vD!wwvb)s!zgjjo!h|!!wfftdm4f!!w~M!p~d!b<meQspbtdjtujjep!o|<!!*w1b/s1z!j>o>h!!bw/fsdp4m!pwDXwpvs)m!egQjp!t|j!u*jupoof<s!b\vq$tjogbesfUgv!)C!BgUjD!I\vDgPjMePoSf\v$!\vv!o<j*gwpVswn!!-cspfpmmq!nvbCTbvu)dEi3Dfpsmvpusy<f!uw!b>s!zsjpomhp!Dwwfvd!5\v!fwtCmbfu$d\vi!D<p*mzpys/<w!V\vw$!f-osefjmgq\vn!b\vT$vj)oEd3mfvsevfu!y=fdum!j>q!csppym/pgDtw/vi!f\vbQeJ?M\vD!`wWpVj!eg!fnebgjjo$)\v*!!||!!*wffmdc5b!uvdwfDmpfmTpess<b!djtgj!E)vvaU!f%y%u!vfs"],T2.envmapDynamicCompose=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*g1p/s2n!!-tcbhnsq/m*fbsi3qEm!bu!f-ycuhvss/f32s<p!mvpodj!g-pcshns!/t2bsnpqmmpfds)3yEj!nu)f5ydufvws!f>3!<s!pvmopjDghpbssnG!`gmmhp!b<ub!/p3gsgptmfpud<!!>w!bbsizqjmobh!!uwbfpdm3g!!w<V*w*<w!V\vw$!j-o3dfmsvveufy!f=uf)oEd3pfesjvouhy?f\vu!)wspbjfeo!jnMbpjUoC)H*S!t|!!>w!f3ds5p!mdppdm!p5sd2f!w>!!<u*f*yzu/vwsVfw3!E-)uufftygugvps!f.2!-y!/wwfVdw3)"],T2.blurH=["?$TjWoodfmfvsedfT!u=jcm","~v!o<jngvpts!n>!!tsbpnmqpmDfhsb3sEG!`jmnhb!h<f2<6!1w/b1s!z+j!o*h*!zw/fwdV3w!!w-Vfwv<m!bvwo!j+g!p1s/n5!!g,m!pyb/uw!Vwwb)m3vdff<w!!w-pfjheb!nnjb)jEo3)f*s!v|u!ywffud!5>!,t!vnnv!t>!!<w9f2d:51)/11/!1+*!<*!*tzv/nw!V,w>!!-uffvymubvws!f+3!E1)/j4n!b,h!fy-/!wwVfwd)33)dwfVww!/-yf!h.b!n5j/)1E!3+f!swvbumyvffu-!!>w,V!wn/vzt*!*<!6+5!313/21/612!<+!!t*v*nz!/,w>V!wu!f-yfuvvmsbfw3!E+)!j1n/b3h!f,-!!yw/fwdV3w))w3Vdwf/wy!!-.f!h4b/n1j!)+E!3wfbsmvvufy-f!uw!V>w,/!zn*v*t!!+<!214/612:/219!<+!!t*v*nz!/,w>V!wu!f-yfuvvmsbfw3!E+)!j1n/b2h!f,-!!yw/fwdV3w))w3Vdwf/wy!!-.f!h3b/n1j!)+E!3wfbsmvvufy-f!uw!V>w,/!zn*v*t!!+<!414/7223/315!6+<!!*t*vzn/!w,V>w!!u-fyy/uwvVswf)33Ed)fjwn!b-hffh-b!nwjf)dE33)fwsVvwu/yyf!u.!!>2,/!1n!v+t!!w<b2m4v6f2-/!1w!V+w!/*z*"],T2.blurV=["?$TjWoodfmfvsedfT!u=jcm","~v!o<jngvpts!n>!!tsbpnmqpmDfhsb3sEG!`jmnhb!h<f2<6!1w/b1s!z+j!o*h*!fwvfmdb3w!!w+V!w1</!5v!o,j!gzp/swnV!wg!m-pyb/uw!Vwwb)m3vdff<w!!w-pfjheb!nnjb)jEo3)f*s!v|u!ywffud!5>!,t!vnnv!t>!!<w9f2d:51)/11/!1+*!<*!*tfvvnm!b,w>!!+u!f1y/u4v!s,f!3zE/)wjVnwb!h-fy-/!wwVfwd)33)dwfVww!/-yf-h!bwnVjw)/Ez3!f.s!v5u/y1f!u+!!>w,b!mnvvft*!*<!6+5!313/21/612!<+!!t*v*nf!v,m>b!wu!f+y!u1v/s3f!3,E!)zj/nwbVhwf!--!yw/fwdV3w))w3Vdwf/wy!--!fwhVbwn/jz)!E.3!f4s/v1u!y+f!uw!b>m,v!fn*v*t!!+<!214/612:/219!<+!!t*v*nf!v,m>b!wu!f+y!u1v/s2f!3,E!)zj/nwbVhwf!--!yw/fwdV3w))w3Vdwf/wy!--!fwhVbwn/jz)!E.3!f3s/v1u!y+f!uw!b>m,v!fn*v*t!!+<!414/7223/315!6+<!!*t*vzn/!w,V>w!!u-fyy/uwvVswf)33Ed)fjwn!b-hffh-b!nwjf)dE33)fwsVvwu/yyf-u!!w>V,w!/nzv!t.!!<22/416!2+/!1w!b+m!v*f*"],T2.blurDownSample=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j1g/p5s!n0!!t*b*n*q1m/f2s!3-E1!/j1n)b3hdff<w!!w+b!sfz{jjoThm!fwyffdu3!!,w!VwwV<w!!v-ofjhgbpnsjn)!Ew3ffds3v!uuyffyuf!m,T!j*{*f1</!2w.p!j-e1!/n1b)j3od)f*w!!|+!!hfm{`jGTsmbfhyDfpum!p,s!!w>V!w)!u-ffyhubvnsjf)3EE3)fjsnvbuhyff-u!!w,V!w*!*,1!/u1f!y-f1m/T2j.{)f3!d+f!ww!f+d!3f){2j/T1m-f!y1f/u1!*,*!!w,V!wu!f-yfuhvbsnfj3)E"],T2.flow=["~v!o<j*g1p/s2n!!-c1p/p1m!!-v1t/f3Y![+<!!wbVuwu)s5jdcfvwu!f>!!wofpdj4u!jqtpptQj`umjhp!o<<*!zw/bospzjjuojht!pwqf!d-3y!/woVpwj<u!jwtppjqe)!3ndbfjwo!)>*!!w|V!wj!gf!t)mvft!f<Y*[{*/!owpVjwu!j>t!pwqf!d-3y)/qopptjju","~d!p<oztuuj!tgomfpubouj!!q+j!3b!/>s!p7m/p3d9!4+2!9s6p4m<p!dv!o>j!gsppsmnp!DthbbnsqGm`fmsh3!E<!ejonfbmhcf!<+!!v*o*jzgyp/s*n*!1n/b2u!4-!wvvw)N4bdufswj!y+<!!yvjosjugbpNswnv!)j)o3ud!ftwi!b-qffh<b!nvjo)jEg3pfssnv!uwyffdu5!!>c!msfpomep<d!!v5odjfgwp!s~n!!<g*mfpmbhuo!bj!o-u!f*o3tjjqu!z+<!!fwmbhsozBjeophn!)wtfpdd3!!+w!V1w/<3!!w+p!j*ew!Vnwb)jiou)h*o!f|m!)w3fddf3w!!v>w!<w!vg!m<p6b/u1!!b+o!hqmffu!t>!!.b!u*bqof)uwtV!w-/fzm-h!owbV)we/pyn*!!>0!!fqmjh3o!B,e!p1n/!6u<b!pjmgg!!)<t*i2b!q,f!!f>q>b!i1t*)!u|b!pvmwg!!>0!!w1V/w2!!,>!!1q/f6u<t!!~u!bfpmmtgf!!|j!gf!t)mtfi!b~q!f<!*>f>m!h2o*b!!|-!1v/w3!!>+!!w*fwdV3w))mifuoh"],T2.fxaa=["?$TjWoodfmfvsedfT!u=jcm","~v!o<jbg/p*swnV!wt!b-nfqhmbfnsj3)EE!3jfnsbvhufy<f!uv!o>j!gbp/ssnp!mwpfDdh3b!ssGf`tmphm!v<u*j!p*o1</!1w)b5sdzfjwo!h-!1w/f1d!3-!1w/V1w!<-!1\v/$1e!f-g4j4o9f1!/G1Y!B-B7`7R2V/B1M!J-U6Z8`/Q11!!-2*/11/\v1!)\v5$deffwg!j-o*f1!/G1Y)B5Bd`fRwV!B-M*J1U/Z1`)Q52d!f2w/!6-\vo!p\vj$uevfmgpjtoffs!!G-YfBhBb`nRjV!B-MfJhUbZn`jQ!3-!f3h/b1n\vj!!\v-$*e1f/g1j)o5fd!fGwY!B-Bw`VRwV!B)MsJfUeZb`iQT4m!f5y/j1Q\vb!b\vy$Ge!f>g!jsopfm!pGDYhBbBs`GR`VmBhM!J|U!Z*`)Qo5j!b2n3!/e1j\vp!w\v!$~e!f<g*jNobfn!vGmy!b-b{Czpyp/m*!Nctpppqm!\v-!y\vf$ue)fqgpjUoyff!UGbybbybGG)m5pubbup!mgGmbpbbyuG\v!!o\vs$veuffgsj!o<fo!hGjyTbibuGhmopfbmu!3+!!wyfjdq3c\vv!T\vu$fetfgggjPomff!yGjyqb!b>G,m!pzb/uN4t!pwqf!d*4o\vb!q\vT${esfpgij)ogfj!!G<yobhbjGTmipubhuo5f!mw!f+d!5y\vj!q\vc$veTfugfjtogfg!PGmyfbybjTqb!u>),y!*y!/dNmtbpnqq!)*yo-b!q1T/{1s-p!i2a/)1g*j\v!!<\v*$Ieyfjgqjcovft!!G-yebpbpUHfuyf!ttgbgnPqmmffysj3qE)\vy!b\vn$!e>f!gyjjoqfc!vGTyubfbtUgfgyPUmpfqy)juq-!!uqb*p!muGfbybuyvGs!f<31E/)1u!-;!!qu-f!t1g/g1P*m\vf!y\vj$qe!f@g!joobfq!TGeypbpbhU!f>y!Pegpgp)Huu-f!tqg-g!Ppm-f!ysj*q!!uufbypumvGsbfb3yEG)!u<-y!jqq!c,v!T)zpu!j+m!bsv*R-b!b1y/g1!*+\v!!HGyyjbqbcGvmtp!b>u!!IGyyjbqbcMvvtn!bu)bGpymbGbbGbmypGb!u<56!/s1h!c,b!**!*|q!dsSfiuuvhsoof!Msohbcqbt/.z)<!!+~!!uGtyeb)b!G>m!pubfut5g!gGPymbfbyQjjqy!fumbTpimbGebfbsy)G!!G<yGbybjGqmcpvbtu!3+!!qGpytj-q!cGvytb!b>G!mHpybjuq5c!vgty!bubbDppmoGtbpbmyfGQ!p<tQQopbtq-T!eGpypbhb!U;f!yO!oubfqyT-e!pGpyhb!b@U!fOyo!pgjyubdbfDspjoet!p>m!fo4b7q1TUefpypFhy!qmCpjpbCtbObfyhGP!o<f*-Q!uGtyeb!b-UOfuyt!eg)yobjbnD!p>o!tuptmef!4u7b1pUmfGybFbyyqGC!j<bQtuOtfeh!U=x!pO-u!tGey!b>b!GOmoppbjuu3d!fgsyjbeb!RmvpbpmCjbubzySGd!q<Gisubhnoff-M!oGbyqbtb0G1m/p2b!u>5!!qgdySbibuDhpooftMpombfqStd!quGbspbmnGfbPbqyuG-!!<Gpysbfb[GUmMpNbbun5v!mg!y>bab!D*p1o/t1p!m=f!SQdeqoGFsbbnnvfmP)q!u>3!-Q!oGbyqbTbeGpmpphb!um5p!pgCybbbbyDGp!o<t*pOmuft4e7!1,S!dQquGtseb)n!f>P!qiuu3h-o!fGMyobbbqGtm!pubbup!mgGybbbbyRGv!b<mpjsufz[TUvMcNqbjnyv-m!!G>yab!b*G1m/p1b!u=!!gOyebobFRbvnbvmmj)u!z>F!eOhofbUqiTsefptpihp!mmep-p!CGbybbybGG!m<pzb/uN!tgpyqb!b.R!vzb/mQjtupzqF!e>h!fQUuitsef!t*iopbmqeTN{jsop-i!aG)ygbjb!G<mzp/bOut!pgqy!b.b!Dzp/oNttppmqf!F>e!hOfuTtieb!s*qoobfqtTt{-s!pGiyab)bgGjm!p<byu/!Ngtypbqb!D.p!oyt/pQmtfpFqe!h>f!UQiustfet!iupbmpem-G!bGbyybGb!G<myp/bOut!pgqy!b.b!Dyp/oNttppmqf!F>e!hOfuUties!futbippmmGebNbjyoG-!!~G!y~b!b~G!m<p5bQu`5Z!UgJyMbBbVDRp`oBtBpYmGf!4+7!1zD/pQoOtgugEpj!s>!,*!!z|/!QGtypbqb!G*mQpfboup3e!aq)pgtjN!<<!5qQp`tZNU/JyM!B>V!Rq`pBtB/YyG<!!+q!pyt/NQ/Ozg!g>p!!q>p,t!/yz/<Q!tGpyqb!b*GQmfpobpue5a!)sghjc!z<N*!Q>f!oGpyebab)U!f}y}U!p*qO)fuofpye-a!)q!p>t!NQ*O<f!o\vp$ee!f<g5jQo`fZ!UmJvMnBbVNR!`sBhBcYzGN!/+z!\vz!/GQyObgbgGpm!p>b.u!!zm/vOntbpTq!!>*!OGfyobpbeMav)ngbj)!G<y5bQb`UZfUyJPMgBgV)Ru`fByB-Y!Gq!p+t!Ny-/!QGOygbgbpG!m>p.b!uy3/)O1t/p1q-!!*2O/f1o*p-e!ag)ygbjb!R<vebfmmjbudzTSudoqfGjsebbnsfh/!y>z?*!**<Q!eGoyFbbbnGvmmp)btuc!bm!v>n!bQFf!o>p!eG!y<bebfMmvbndbT)uGoyfbjbeUbfsyhP!g>g?)!u*fOye-o!FqbpntvNm-)!tGcybb!b>G!mOpfboup3e)!2</61/-1!!1+/!1O*O-b!ngvymb!b.R!vQbemojFubznSvdmq!G>s!bQnefo/Fybzn*v*m<!!*GQyfbobpGemap)bguj!!m<v6n/b1O!!+>!!OGOybbnbvMmv!n.b!)OGeyobFbbUnfvymP!g>g!)OuefoyF-b!nqvpmt!N*-O!fGoypbebaG)mgpjb!u<3*)*1z/y1/-Q.t2p/q1!*--y!fguy)bqbpRUvybfmUjbubzySGd)qbGnsvbMnbfb/yyGz!*>*!<Q!eGoyFbbbnGvmmp!b*uQ!fmovpnebaX)!g>j!!G<y*b*bzMyv/nObt)pGqy!b-byUffuy)PqgpgU)yuffUyb-b!yqGp)tbNn-v!MGbybbybGG!m>p!bOue3o)F.b2n/v1m-!!*1O/f1o*p-e!ag)ygbjb!R|v!b*mQjOufzoSpdeq)Ggsjb!n<f4/Qy`zZ*U*J<M!BGVyRb`bBGBmYpGb!u+!!nzb/yQTONg!g>p!!n>b,y!)zm/vQntbpTq-!!*mQvfnobpNe*a<)!gGjy!b<b4GQm`pZbUuJ!MnBjVoRT`NB!B>Y!Gn!j+o!)ym/vQnObgTg-p!!m>v,n!byN/*Q<t!pGqy!b*bQGfmoppbeua!)ngbjy!F<T*NQ!f>o!pnebay))!m}v}n!b*FO-f!onpbeyaT)N!*><!!QGOyfbobpGem!p<b4uQ!`nZjUoJFMTBNV!R>`!BnBjYoG)!m+v!nzb/FQ-O!gngjpo!T>N.*!<z!/GOytbpbqG!m*pObfuo!pnebay)XgOj!!><!4nQb`yZ)UmJvMnBbVOR-`!BmBvYnGb!X+*!<y!/GQyObgbgGpm!p>b.u!!yn/jOotXpOq!!>*!Onfjoop)emav)ngbjO!-<!emfvmnbbdXT*u<o!fGjyebbbsGhm!p>b?u!!*sQbeoohFfbNnbvym!)>t!cnbb!y>)!nQbfyoXpOe-!!<nebfymFbTdNT*u<o!fGjyebbbsGhm!p>b?u!!*sObeoohFfbNnjvom!)>t!cnbj!o>)!nOjfooXpOe-!!<n6j/o1F!T+N!*O<O!bGnyvbmb!G.m!pQbeuo!Fsbbnovhmf!N>b!yQTedobFmbfnev!m>!!*sQbfoohpfeNab)yg!j+!!<g6y/b1b!R+v!bOmOjbunzvFme!h.f!UOiesofFtbinpvmme!<>!!GOyebobFGbmnpvbmu!!*sObfoohpfe!a>)!gsjb!o<h*f*Nzbyy/!Q.t!psqb!o-hyffNuj)oq<p!UGyyfbUbbGbmypGb)ub!nsvbMobhbfyNGb!y>D!mQbenoqFfben!v>m!!n*bQyf)ogpyebab)Rgvjb!m<j*u*zzFye/hOftUpiqs!f-tyifpum)eqNpjUoy-f!UsbbboyhGf)NbbnyvTMdbbbmyfGe!*><!!OGeyobFbbCnpvpmm!!*fObfsompzeFay)jguj!!>|!!s*bQoOhffo!p=e!)sgbjo!h<f3NQb`yZDUmJbMnBqVfRe`<B!BjYgG)!f+b!szm/zQFOygjgup*!!>s,f!uzv/sQot!psqh!c*zQNf<o!pGeyab)bgGjm!p<b3uQ!`mZvUnJbMOBXV!R>`!BGByYbGb!M+v!nyb/)QGOygbgbpU!f>y,P!gyg/)Qutfpyq-!!*qQpftoNp-e!aG)ygbjb!G<m*pQbfuo3p)e.a2)/!1}-}.!2*/O1f*o-p!egay)b!b>R!vQbOmfjoupzeS!d<q3GQs`bZnUfJ/MyBzV*R*`<B!BGYyGb!b+G!mzp/bQuO!gmgvpn!b>T.F!!z>/!OGtypbqb!M*vOnfbo)pGeyab)bgUjf!y<P3gQg`)ZuUfJyM-B!VqRp`tBNB-Y!GG!y+b!byG/mQpObgug3p)!2>/.1!-y!/2O/t1p*q-!!*gOyfbobpRevab)mgjju!z<SedfqmGbsdbTnufo/fyjze*b*s<h!!G>y?b!b*GQmepobFub!nmvvmn)btOcFb!!>>!!GQyfbobpMev!n<be)fGmybbdbTUufoyfPjgegb)suhf!y>-?!!q*pOteNo-F!bGnyvbmb)Gtmcpbb!u>3!)O2f/o1p-e.!2</61/*1-!!+g!yObObbRnvvbmm!j.u!zQSedoqFGbsnbvnmf!/>y!zQ*e*o<F!bGnyvbmb!G*mQpfboup!emav)ngbjT!X<!6>/!1G!y+b!bOMOvbnnbv)mG!y.b!bOUefoyFPbgngv)mu!f>y!-O!eqopFtbNn-v!mG!y*bObfGomppebau)3g)j.!2</*1*-z!y2//Q1t*p-q!!g-yybfbuR)vqbpmUjyufzUSbdbqyGGs)bbnnfv/Mybzb*y*G<!!>G!yQbeboGFmbpnbvum!!m*vQnfboOpTe!a>)!gmjv!n<b*O*!z,y!/mOvtnpbqT!<-!yGfyub)bqGpmUpybfuU!bmbvynGb)XbFn!v>M!bmbvynGb!X>!!,O!emovFnbbnFv<m!!G*yObfboGpmepab)ug!jt!v|c!q*jQyOSfdoqpSeb)oghjf!!<>2!Q2`/Z1U0JsMbBoVhRf`<B!BGYyGb!b+G!mzp/bQuO!gtgvpc!q>j,y!OzT/XQFt!p>q!!m*vQnfboOpTe!a,)!gmjv!n<b2XQF`<Z!UGJyMbBbVGRm`pBbBuY!Gf!e+h!fyI/pQsO{g2g!p>!!>),.!3y//1Q!t+p!qm!v*nQbfNo*p!e,a!)mgvjn!b<O*TQ<f!oGpyebab)G!m}p}b!u*!OffeohpfeWaf)s!u>2!!Q>O!f)o.p3e/!1m!p+p!CmbvbnybGN!*<!2,Q!`mZvUnJbMXBFV<R!`GByBbYbGG!m+p!bzu/!QmOvgngbpO!F>T.F!!z>/!Omtvpnqb!O*FO!f,o!pmevan)bgTjF!<<!2GQy`bZbUGJmMpBbVuR!`mBvBnYbGO!X+O!Fy!/>Q!Omgvgnpb!O>X.!!,y!/mOvtnpbqO!F*<O!fGoypbebaG)mgpjb!u<!effemhbfdITpuso{f3j!e>b!s)h.!3>/?1!!*+Q!emovFnbbnFv*m!),t!cmbv!n>b!OQFfToFp<e!!GmypbpbCGbmbpybGu!!<feefhmfbWdfTsuuo3f!j>e!b)s.h3!/>1?!!+*!OmevonFbbOn*v!m,)!tmcvbn!b>O!XOOfFo<p!eG!ymbpbpGCmbpbbyuG!!m<v6n/b1O!X+T!XO!O>b!nmvvmn!b>O.X!!Q,e!omFvbnnbvTmX!<<!6G/y1b!b+G!mOpObbun!vmmv!n>b.T!XOTeFo!F>b!nmvvmn!b<T1X/!1,!!=m!vNnNbbTnFv<m!!G>y!bpbsGfm[pUbMuN!bfnevhmf!Imppsp{C5b!b>y!G)!b<cFty)jfqechvftI!p+s!{E2y*j!q+c!v3t/!1>*!!G,y!jbqcctv)tf!euhbfpImpGsb{b3y*G<!!<G6y/b1b!G+m!pObOub!nfvemh!f.W!fNsbun5v!m>!!>)!bNcNtb)nfvemh!fuWbfpsmuG2b*b!y+G!!3</11/*5!0,1!/b2c!t+)!fueohffjWefbssuh3!*><!!eGfymbbbdGTmupobfuj!efbeshhf!Iupbsp{m4G!b>b!y)G.!3</T1T!b+n!vmmv!n>b!XO*O!b,n!vmmv!n*bOOsXjTbXq<a!)Ggyjb!b<G*m*pQbtup!qf!e-hyffWuf)squp4U!y>f!U)b.b3y/G1)!b+n!vmMvbnbbyTG*!!>,!!QmevonFbbTnXvTmF!<u!bGpymbGbbGbmypGb!u<!DfyejhqfcIvpts!{+!!>D!ybjcqtc)vfte!h>f!IFpysj{q4c*v!t,!!ufbephmfGIbpbsy{G5!<<!*G*yObtbpGqm!p-byuf!uf)eqhpfUWyffsUub!b>y!Gb)cbtn)vfMebhbfyWGf!s>u!4O*e!o,F!bfnevhmf!Wufbspum5G<b!bGyyGb!b<G1m/p4b!u,!!t*vDcyqjjqycOvXtT+X*O1F/T3F.!)>)!!m>v!nEbyOjXqTcXv!t,!!umbvpnmbGObFbTyFG<!!<G1yQb`bZGUmJpMbBuV!Rm`fBoBhYuGi!T+j!hzo/!Q>O!gggypb!b,R!vzb/mCjtupzqS!d>q!Gzs/bQntfp/qy!<<!1GQy`bZbUCJpMpBmV!Ri`pBsB{YTGq!b+o!!y>/!QfOeghgfpI!p,s!{y!/?C>t!pfqe!h>f!Wyf/sQut<p!qG!y<bQbtGpmqp!b3uu!btpvmcGqbjbyyBG!!><!1tQv`cZqUjJyMOBTVXRF`!B+B!Y3G/!1+!!,z!/tQvOcgqgjpy!O.X!TzX/OCFtTpFq<!!>j!gz)/aOitppsq{!T<q1bQo`*Z!UmJvMnBbVOR!`>B!BmYvGn!b+X!<y!/jQgO)gagipp!s.{!Tyq/bCot*p!qm!v>n!byT/!O>t!pmqv!n<bOFt<p!qj!g3)uibppsm{GTbqbbyoG*!!<m6f/o1h!u+i!TojhhjoT!i>u!hgoyfbmb!R>v,b!mzj/uCztSpdqq!G*sobbnqfT/{zs<p!iG)ygbjb!G<m6p/b1u!!+t!vochqjjTyiCu!h>o!f)mt!v>c,q!jyy/BC!t+p!q)!2*/o1b0q2T3{/s1p*i*a!).g!jm!v<nzb/Nf<n!bGsyGbqbdGSmzpubjum!bhvsRbbebjyfgo!u;O!!1>/!1m!v@n!b*Oo!b.q!Tm{vsnpbiN)<!!>G!yzb/bQGOmgpgbpu!!<hys/bfenjbfsoGuqTd!S>z!umjvmnbbvTR!b.b!ymgv!n;b!N1</!1G!y@b!b*GombpqbTu{!smpvinab)O!O>!!>y!/mQvOngbgOp!!,<!QmOvgngbpN!<3!uGbypbmbGGbmbpybGu!!<mzv/nNbtTpTq!!>>!!mzv/nCbtTp!q,!!<myv/nNbtNp<q!!G>y!byb/CCptppmq!!q<bCjtspOq!!>3!ubbcptm)GhbsbbyeGj!f<o*ufOh*o!b?S>q!dbScytj)qhcsvbte!j+f!o*uCTy*j<q!cGvytb)btGcmbp)buub!ThbsbbyeGj!f>o!uD!y>j!qncbvyt)!bucbtp)mhGsbbbeyjGf!o<uoOh*j-T!ibuchto)fhms.b!e>j!foohujTT*i*u<h!ojfgm)!q*bOjs"],T2.lut=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*g*pzsunj!tgomfpubouj!!m-v*ubT/jm{bfw<!!-v*oxjwgvp!s-nf!{tjbTnuqvmmf!s-3uEv!mm)vquv<l!pwpfMdu4v!mm)v5udMfpwp!l-vmqb)wt)bynjqnm)f5sd3fEw!!u>f!ys-p!mgpmDphbbus!Gt`jm{hf!-<!*wifude4j!Xsmhfcy*j!q|!!.g!m1p/b2u)!!t+m!jcdhfsI/fmjbhwi!u,!!>*!i2u/e1j!X0m!ftyjj{Qfg<m!bgim)p4bduf!wz!Q>j!yxfwmvI!f4jdhfiwu!!<>f!{2j/T1u!v0m!!)0t!j6{/f1!!+>!!tiju{efj*X<m!fgymjpQbgum!btim!judbfp!m>g!!s<hfc{/jcT!u+v!mt!j0{!f1</!2g!m>p!biuu!ejjoXumffsyqj!q>!!ugbspbmdgu!)<t*mwjVdwf!*-<f!tgvmgpgbjuE!ut)mEj3dffs1v!u>y!ftum!j>d!fm!b.w!!j5oduffws!q|<!!*g)mopjbbun!!defjopuwf!s<ffetJvogugfjsEqu!!>E!3jsofumfqsnqb!t.!!n1s/p6g<j!ogvm!p<bzuu!jttmojfdufo2j!!>u!btpmmjgd!fn1s!p,g!jtojvh!o<)wdVfwo!u3fdsffwe!Jhooujfzssqb*w<!!~g!m<p*b*uq!shfsufofJoePfgsgftufouf!d>)!tdcmbb!n-q2)fsmhqcn/bht!!+-!1tfmmjqdnfbItf)jyhjinu!-o!szvQujfysf!m<Icfhjsh/i*u2!w+v!!1-/y6f-u!)tEm3jfdsfvIufyjfhui!u>!!.2!fzmQqjnybftm!I4fdjfhwi!u<!c+h!s1//*61*w<v!!w-fydf3u!)vEw31f!s>v!uwyffdu3!)>!!s1hfcm/qsn-b!tt!m4jddffw1!!<+*!!tumfjtdgfgIPfojfhfisuh!!,,!!husifhfjofPIgfgdtjfmut!!*+<!!2wffddj3m!tv!w-2s!/>c!hwsf!d)3"],T2.points=["~v!o<jfg{pjsTnu!onjbpuQ5`!mnhp!e>f!mfN{bjuTsujoyj<p!Qvwo!j<g*p{s/no!pnjbuuj5t!pnQpwenf!m.W!j0f!xfNmbbudstj)y!<>!+v!ofj{gjpTsuno!jnpbQu`5m!hq!s*pfkwfjduudjfpqotNsbfuQstjjy)<!!gvjo!j<g*p1s/n2!!n.b!u>5>!!w^j!f4x!N]b^u!s3j!y]<y!jvsoujbgNpospnj!ugdmfpkbpus!qt)d!b>m!ff<w!jvuodjfgqptssnf!Qwtfjd!3m!pvpVcw!P\vgggjtefouf<$!\vv!o<j*g*p1s/n2!!c-pepfmn!svptgftVowbBssus)b5zd<f!wb!u+u!syjjcsvuubfN!mwffedp4n!)q4pdtfjwu!j>p!oo<p!jvuojjtgppQsenm!scppXpwm!!\vv1t!f?D!pSmFpQsQ<J!MbDu`uYsPjCc`vYuBfN!!wgfjd$5\v!!d~p!m<posp<j!uwvbmspztjfosh!!+w!ffd{5j!tw!D>p!mfp{sj<T!uboujupsQj`cmvhu!f|!!wfftdm3f!!b~V!w<Pogpgjtufvum<p!twfbss!z+j!ozhb!swsfBdf3{!jwtP!g>g!tff{uj<T!uvoojjpgQp`smnh!!c|p!p*mz!bqsjsdBlfj{ojhT<f!t\vv$)j!ggejf!g<!oIpJjHuIjMtJpHQIwUn\v!!+v!oyjjgspusbnN!owpfjdu5d!fqkjpdslqD!p>m!posp<j!u\vj$tfpmQt`fm\vh!!b<uoupsjjucjvtupfQ!wwnf!d+5!!yqjjsdulbDNpxmfpjsW<m!f\ve$pfno!e>j!go\vp!jvuojjtgppQswnn!!g<m*p1b/u2!!t-je{ffn<s!pvgotjogbpssun)!5gdmfpwb!u>!!sofptjpumjvtupjQpwon<!!5vdofjwg!p<s*no!pcjpupjmt!pvqt)f4Tdjf{wf!B>s!sebfzn<s!pbgutuosbjscuv!u4fd!fgwm!p~b!u<!*tujf{tfgBgsPswbVzb<)!3wdbfswz!j>o,h!!ugfmtpgbguP!ww!Q|p!j*ozubTsjs{Bfw<V!f\vt$vj)g!!gNjB!Y<`*CuPfYt`gDgMPJwQVQvF)S3!d?f!w1!\v>!!wubfstzgjgoPhw!!w~f!d<4s!pwmXppds!m>e!QspptmjpuDjwp!o|<!!*\vs$pfmopeDjfgt\vv!)w!pgjje!!fntbmjfo!)~*!!<|s!pjmgp!D)lqdjjdql!j>o!hs*p!m|p!Dw","~$!e~f!g<jsopfm!pVDTfFt`vNgBgQj\ve!!v>o!jsgppmspnD!hwbfsdG5`!mehj!g|g!vfttfm<f!!v~o!j<gsppsmnp!Dgwm!p>b!us!ppmqpbDdhjbuszG<`!mvho!j<gepssbnd!tgjmep!b*u1!/b1m!q>i>b!Ubf/tsup<m!pvDofjtgvpgsgnj!ec)p!pgmj!!v|t!f*Dhpomjplsd<j!qw)b!sgzjj!o<he!swbfddt5j!ew!D*pumtpfsU<b!ivqomjbg!p=s!nb!/cspppmmp!Dqfjtdvlgjgojhe<)!!vgojj!g\vpgsjne!ocfp$p\vm!!~e!j<t*dwbvs!e-Tqfbmnf)dEu3bfcsmvfu<y!f\vu$!j>o+d!msvpemfp!D=fctmvpgpgnjTef!m<fudfutjgwgfP/wg!t>/,i!fwbve!?<\vf!mvbodjTgwpvs!n+!!wefsdp3p!DvuwoTjdpbQm`fm<h!!w>b!swzvj!o3hd!fwwf!d|3!!*wfPmgcgbtufduf<m!f\vT$ejsgb!detfjgejao!f}e})!VhToFj`lNdBjQq*a\v)!!vgojj!g\vp*sQnB!Nt`bFnTqVm)fesf3oEj!gnfbeq!<g!j\v$$\vf!o~e!j<g*\vz!uwjbdsbzqjpo!h+!!gbm/pfbtuv!gwgQjpej!o-u{Tzjy{/ff<t!v\vg$gjjge!)N5BdYf`wC!P>Y!`sDpMmJpQDQfFtSv!g?g!j1e\v!!|w!bfstzmjfo!h~!!w<f*dz4u!jwdXbpqspm!e+Q!pbt/jsupjmppoD<w!!\v-${fzoye/jsgp\vm!p\vD$wj)o5ddmfvwe!f>!!=sdpmmjpqDcfptyv/gggtj/ei!f|b!e*?s\vp!mwppDjfet!vn!b%j%o!)h*o!j|l!d\vj$qjao)d!mgvje!f<!s=pdmmpjDqfctpvyg/ggjte/!c5pdefzw?!\v~!!\v<$ejsobddmtvjeef!!|=!c*m/p1p!n>T>f!mff{djuTjuwofj/pgQtw/)c!pgejz!?\v"],T2.bokeh=["?$TjWoodfmfvsedfT!u=jcm","~w!b\vsgzjjeoohf!$w\vf!d<31!/w2V!w><!!bv/osjpgmppsDnh!btsbGn`qmmhf!s\v3BEI!QuMDBp`mFpEsJ<S!SvFoWjPg!pgsfne!gtjb$n\vq!m<f1s/32E5!!u0E!fmqpudi!<>!!vsopjmgppDshnb!sgGm`pmbhu!!<n*b5yscvmmvcsg<p!ev!o+j!g*pusdnf!sgsmppdbuud!fbqttqbf!d+u!<*!5v/o1j!g-p1s/n1!)g3mdpfbwu)!!b,q!fzsyu/vwsVfw<!!-vsopjmgppDsun)!Ec3pfpsmv!uvytffuH!3>e,<!!mvpodj!g<p*s5ns!vgmmcpgbpue!!u+i!s*futdifpsmsep<d!uvdofjqgtpbs!n+!!g*m:p3b/u1!.o!f-b:s3</!1v.o)j3gdpfswn)!!g,m!pzbyu/!wgVbws!<-!svpomjpgDpus)nE!3gfmspvbuuy!fgup!d>v,t!<m!pvdo!j<g*p5ssnv!mgcmgppbeu!!+s!b*ouhdff<s!svpodjugdpfsqnt!bg!m+p!b*u1!/e1f!o-t5j/u1z.<)!3\vd$fjwo)d!m,v!ezfy!/=wqVbwd!l-jsophm?p\vD!uw)pEj3ef!snvbujyof)u*!!>|,!!wmfpdd3!!<e*p5gscvmmvcsg<p!ew!f+d!3*!ubdtfqsfsdpuddupdsfsqftdbu!!+>!!*w:f3d/31)!2-/:13-/!1b.t)q3fddfuw*)<!!,\v!$zjyg/!weVfwg!j-osfpem)pVDTuF)`EE3FfQsUvIu*y\vf!u\v!$>j,g!!mepfdg!j<o*f5es)vVmTcFg`pPeS!U+I!P*`uDdBfNsFsSpBd*u\vd!f\vq$tjbg!!+e!f*g5j/o1f.e!)-V1T/F1`)G3MdPfBwU)`!U,F!YzUyV/SwFV*w\v!!-gsmppmbpuD!uw)jEf3xf[s!v>u!ypfsuu!i>p,h!smbpqdi!j<d*E5fsqvumicUgppWej!f+x![*)uudffysusvpsdfu3dEf)qutEbf!q+u!i*-:!3w/V1w.*!/-s:-3!/o1f)b3sd-f!wg)b!s,*!<z!y\v/$wfVmwt!f-\vs!pgmmppDbuu)!Ew3jffsxv[u!y>f!up!s>u,i!pmhpsdb!q<i*j5dsEvfmqcugipUep!W+j!f*xu[d)fvsosqpbdduldSfHqCtBbU!p+E!f*q1u/i1)!u-f5y/u1v)s3fd3fEw))u!E,f!qzuyi/-w!VwwV!w-*s*p-m!poDfub)sE-3!fgsbvsu*y<f!u\v!$>f,o!emjpgd\v!!<\v*$5fsmvtmfc\vg!p\ve$!j+g!!*eufdgfjsosfped)uVdTfFq`tGbM!P+B!U*`:U3F/Y1U!V-S:F3*/\v1!)g3mdpfbwu)!!w,j!fzxy[/!w>V!wq!f-sstpqmfpdDuuj)wEf3EffsqvuuiyUfpuW!j>f,x![m)pudf!y<u*v8ssfv3mEc)gupEef!q+u!i*-u!dwfVsws*p/dsu-d!foqftbbs!-+!!g*b5s/*1<!!-\v1$/f1m)t3fd\vf!wg)m!p,b!uz!yw/jwfVxw[!!->s!pqmfpsDtuq)fEd3ufjswvfuEyffquu!i>U,p!Wmjpfdx![<)*v8osqvbmdclgSpHeC!B+U!p*Eufdqfusis)pudfuydufvqstfb3!E+)!u*E:f3q/u1i.-!!-w:V3w/*1*.-)!3odffbws)-!!,g!bzsy*/<w!V\vw$!f-osepjmgp\vD!u\v)$Ef3ofesjvgu\vy!fgum!p>b,u!!mgpbdd!u<p*s8!s>v!m)cggppdev!t+!!,*!uwdjffsxs[p*d<u!djfgq!t)bg!b+d!u*p1s/!1=!!-15//11*.!)g3bddfuwp)s!!,>!!znyj/ow)Vgwb!d-usppsm!p,D!us)bEo3hffs-v!u1y/f1u*!<>!,f!mmtpfd!!g<b*d8uspvsm!c>g!pneb!y+)!g*buddufpsss!p.d!usdbfoqhtfb-!!+1!/*1:*3</!1g!b-d:u3p/s1!.>)!32d/f1w!).!!,f!yzqy)/.weVfwo!t-jsupzm!p+D!ue)fEo3tfjsuvzu!y+f!ug!b>d,u!pmsp!d+!!<g*b8dsuvpmsc*g<p!ee!p+g!c*muvdsf!s>s!pwdfudd3f!q)tdbm!b+n!q*)5g/b1d.u!p-s1-/!1.)n3bdyfcwm)v!s,-!!znyb/ywcVmwv!s-*s*p<m!p\vD$uf)mEt3ff\vs!vwufydf5u!!u>f,y!fmmp!d>!!<u*f8ysuvvmscfg3pEe)!u+E!f*quudif-s!swpfddu3d)fwqVtwb/!y+-!!*2:/31/!1..!!w-V:w3//z1*)*3<d!fgwm)p!b,u!!zbym/qwiVbw<!!-jsgp!m)pvDtuf)HE33ef*s!v|u!ybfmuq!i>b,!!>m!ptdn!p<p*u8istvumfcqg)puei!s+f!t*iupdmfes-s!pudiusdfftqitpbm!e+!!,*!11//11!2--1!5u/f1y)f3md/fbw*)<!!,~!!zfym/twfV!w|!!-bsmpqmipbD!u>)!Eu3ffysfvmu/ybf<u!!~>!,e!pmgpcdm!v<s*!8>s!vwmfcdg3p!e)!d+m!b*nuqd)fbsmsqpidbu!d+f!qbtqbf!s+u!v*s:f3-/!1.!n-b:y3c/m1v)s3-d!fnwb)y!c,m!vzsy*/*w<V!w\v!$-fsopemjpgD\vu!)wEf3df3s!veupygfcum!v>s,:!!m>p!de!p<g*c:msvvsm!c+g!p1e/!:+<!!*wufddf3s!seppdgucdmfvqst8b!!>+!!e*p8g4c/m1v.s!!-+6!21//18)<3!dwffwd)3!!,e!pzgyc/mwvVsw5!!->s!pemppgDcum)vEs3!f+s!v1u/y5f<u!!w>f,d!5m!pddp!m<!*>:!swvfmdc5g)p1e/!1+*!<*!uddpfms!s,p>d!uudffyqutvbs!f+3!E*)6u2D/p1m.p!s--8!4w/V1w./)y3zd*f<w!)d!p,m!!z,y>/!wuVfwy!u-vsspfm3pED)uu)DEp3mfpssv-u!ywfVuw!/>y,z!!m,p!d)!w<f*d:3s)v1m/c1g-p!e1!/+5!**!u+d!fbstsqpfdduuddfpqstsbf!d+u!**!6+2!/e1p!g-c8m4v/s1*)<3!ddfpwm)!!,,>!!zuyf/ywuVvws!f-3sEp)mupDDpum)pEs3-f!swvVuwy/fyuz!!>,,!!)mwpfdd!3<)*1:/s2v6m-c!g1p/e4!8+*!!*+u!dbftsqsfpdduuddpfsqstfbd!u+*!!*+8!4e/p1g!c-m6v2s/*1<.!)d3pdmf!w,)>!!,u!fzyyu/vwsVfw3!E-)supDmppmDpus)-E!3wfVswv/uyyzf!u,!!>),w!fmdp3d)!1</*3::s-v!m1c/g3p:e*!!++!!*butdqffsdsupddpusdsffqdtub*!!++!!*e8p4g/c1m.v!s-*6<2!/d1p.m)!3,d>f!wu)f!y,u!vzsyf/3wEV)wu!D-psmppmsp-D!uw)VEw3/fyszv!u,y!f)uw!f>d,3!)m.p1d/!4<8*-:!s1v/m2c6g*p!e+!!+b!t*qufddfusdsppsdsufddfuq*t!b+!!+e!p*g6c2m/v1s.*!<-!8d4p/m1!),3>d!fuwf)y!u,v!szfy3/Ew)VuwD!p-msppsm-p!DwuV)wE/3yfzs!v,u!y)fwuf!d>3,)!1m/p5d1!-<!*1:/s1v*m!c+g!pbet!q+f!d*uuddpfssssfpdduu*d!f+q!tebp!g+c!m*v6s2*/<1!!d-p8m4!/,1>.!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s--s!pwmVpwD/uy)zE!3,f!s)vwufydf3u)!1>/,4!8m-p!d.!1</*2:6s*v!m+c!gbpteq!f+d!u*dupdsfssfsdpud*u!d+f!qetpbg!c+m!v*s8*4</!1d!p-m6!2,/>1!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s--s!pwmVpwD/uy)zE!3,f!s)vwufydf3u)!1>/,3!:m-p!d.!1</*3s:v*m!c+g!pbet!q+f!d*uuddpfssssfpdduu*d!f+q!tebp!g+c!m*v8s4*/<1!.d!p-m6!2,/>1!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s--s!pwmVpwD/uy)zE!3,f!s)vwufydf3u)!.>1,/!2m6p-d!!.<1*/s4v8m*c!g+p!eb!t+q!f*duuddfpsssspfdduud*f!q+t!be!p+g!c*m:v3s/*1<.!!d-p:m3!/,1>.!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s--s!pwmVpwD/uy)zE!3,f!s)vwufydf3u)!1>/,1!-m!p.d1!/<5**s!v+m!cbgtpqef!d+u!d*pusdsffsdsup*d!u+d!feqptgbc!m+v!s**6<2!/d1p.m!!-,8>4!/u1f.y)u3vdsffw3)E!),u!Dzpym/pwsV-w!!w-Vswp/mypzD!u,)!E)3wffsdv3u)y.f1u/!2>6,-!!m1p/d4!8<**!s+v!mbctgqpfed!u+d!p*susdffdsus*p!d+u!defpqgtcbm!v+s!**<1!/d1p!m-!5,/>1!.u)f3ydufvws)f!3,E!)zuyD/pwmVpws!--!swpVmwp/Dyuz)!E,3!f)swvfudy3f)u.!1>/,3!:m-p!d1!/<3*:s*v!m+c!gbpteq!f+d!u*dupdsfssfsdpud*u!d+f!qetpbg!c+m!v*s6*2</!1d!p-m8!4,/>1!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s-"],T2.ssao=["?$TjWoodfmfvsedfT!u=jcm","g0j0e!oifj$o\vu!t~;!!~h!m<t*ms4p\vm!p\vD$hjbosdGm`vmehf)!C=HdSptnpnUpsob?f\vo!j\vM$!j>o!dsmpvmepfD!h=bqsbGd`lmjho!h|?!\v*!ovpojjugdpfssns!piDjbhninqb!ht)b!ngqjm!f~s!3~E!!<t*dbf/omffEyffqUufio<f!dvto!j-g*ppsBnm!bwofjdg3!!.s!f1t/p2m!v-uejfpjom<q!qvBopjbg!p-s*n1!/g2m)p4bduf!wo)fybjsn<!!)v5odjfgwp!s>n!!sgpmmppbDuh!bgsbGs`<m!hv!o|j!gfptsmnf!!n~b!u<5*!1q/s2p)k5fddfuwj!p>o!NsbpumspjDyhJboswG<`!mvho!j|g!p*syn/!onpbjuu5v!mwpjtffxsN!b0u!s1j/y2J!o=w!<*!6v/o1j!g.p!syn/!wcVpwp)mt!cpbs)u!igpj<!!fwtbmsfz!j~o!h<!*wbf/dm3f!ywfVUwf<o!fidjth!i-qc!hgsm/pmbfuy!fmUjfooffbdstj!{)f5`deffwq!u>i!)sipjmhpiDqh!bgsmGp`bmuh!!e|-!!*i6j/h1i!q=!!gym/pwbVuw!){!Ogfjb!s|-!i*j1h/i5q!!>g>m!pfbeup!N{sGfbeso*f!s|)!!sgfju!vfstom!f)!{~G!b~s!!<+*!b{/Omffbysf*U!f0o!f)d{tG!b-s*!p.B!meb!o+j!g)!{.G!b1s/!2.!!-{eOffjbmsq*q*B<p!b~!!-icjhhsi/qm!fgymfpUbfuo!fmdjto)fybjsnj!{)f5`deffwq!u>i!`sppsmupiDph)bisjGh`imqh!!g|m!pfbtum!fe!-~!!i<j*h1i/q2!)g5mdpfbwu!!>o!fsbpsm[p-D!hibjshGi`qm!hg!m|p!b*uy!/gobpsj[u*v!m|p!tsffsu!v0s!o1!/o2f!b=s![*!6,/!1)!g.b!sy[/!w.V!wo)ftbcsb[)*!!g+j!!ef<t!m~f!!i~j!h<i*qb!/gmmfpybfuU!fmojfodftb!s-jc{hfs`/emffqyufiU`fmopfhd)ti!j)h5idqf!wg!m>p!bsup!mep-D!hibjshGi`qm!hg!m|p!b*u6!/o1f!b=s![y-/iwjVhwi)q!!ggjm!p|b!u*!1g/b4s![>*>!!|f!egpmNpsbfue!oeffsq)u!ig!j>!!fqtpmxf)!3~/!1<-*!be/!m+f!ymfpUhf3o)fgdbts![-!c,h!s2//m1f*y*f!U.f!o2f/d1t<!!)g5mdpfbwu!!>b!!s>p!mgpbDsh[b!s0G!`)mghb!s|[!!*.1!/o3f!b>s>[!*f<e!pgNmspfbeuo!fcs!)>!!ggjb!sf[t!m+f!!o~f!b<s*[b!/0m!f)yoffUbfso[f!d.t!!g-b*sp[B*m<b!ogjmgp!b.u!!1m/j2o!E-feqfujim!q>q!Bbp!b,!!-c*!10/!2e)f4qdufiw<)!ysjfnu!v)s5od!fpws!u>i!ps!p@m!pmDjhobfsbGs`jm{hf!`|e!f*q1u/i2`!p>s>u!ifpe)p!NmsjfoeEoffqsu)i!-g!jo!ffbtsm[f-!!~g!b<s*[b!/*m!f;ymfjUoffobfsdjt{!f-`*epfBqmubio)jmgj!o.E!f1q/u2i!--!eoffjbmsq[q-B!pgbb!s-[c*h<s!/~m!fwyffdU4f!ohffdutX)pysjmne!Q)p5tdMfpwh!)>w!fsdp4m!pqDphtbTs*G!`|m!hw!f|d!3*!1v/w1!!>>!>q!pfteTp/Nyszf<e!ogfmsp)b!ug!j{!!<>*!*qzpmtqTj/u{m<v!Ngsmppmbpud!)oufbbpsm[g!!>-ocfhbss/<m!fgymfpUbfuo!fgdbts![-!*>1!/g2b)s4<d!fgwm)pybjun!!e+f!qsupim!p>d!!q>p!xe)f3j/m1q-q!B{p!b+!!4mdpfhw3!)<g*bssp[u!d,b!G2h/p1g*!*-!1./!22!/-1p<B!mgbmopjbgu)!ybj!n>!!>g!bpsB[m!b0o!j)gg!b~s![<!*.s!poufdbbsG[u*o<f!ngumtpvbkue!bc!!->1!/g2b!s-[p!B+m!boofjbgs)[y!j0n!!)>o!fpbBsm[b!o.j!gg!b<s*[o*P<s!pgumdpbbGuu!omfjnouEtfvqkueib!!>-!gbg!P,s!pcu!d0b!Geufoqfuniu<t!vwkfedb5)!ydbmnj!q>W!fsdp!u>d!bwGfudo5f)nvuwt-v!kmejbo!Eufbqpumig-!!<2*/!11*/!1+!!;3!/11/!2.!!@2!/s1/<*!wwVfwd!5-!ixuqqpftE!f>o!fqdstp)kEf3dfusjvpuoyNfbuu!s>j>y!Jso/w*!w+V!wd!m-jiquWqffdE<f!vssfUuXvEszod!oxfqspbtq/tyozb{s!u0)!Ex3qfpstv/uxy<f!u~!!)w!f+d!4*!ohPfXuEXzpdsomfesQbpqtt)ogbmspub!u.!!e1f/q2u)i!->!!wofPds3p!uddpbpGsueo*f!n|u!t\vv$kjegbe!fugb!pMmPgH!E<FgQgUPIX\vE!zsdfoufvssboq!thofbusXup!s>m!egQgpPtsMppuhd)bwGfudo4f)nduptpvskee-b!!eufbqpumig*!*<<b!/\v*$wfVowe!j-gf\vv!sgUmXpEbzud!o{f!s>b!qetfoqbusiu!)+E!33f/s1v!u.y!f2u/!1><!!owPfXdE5z!ddomfjsqbTqqtbodbfsQup!tujbupjmpgo!!<>b!/w*fwdV5w)!d-pfptsmeb!G+X!E3z/d1o!f.s!b2q/t1o-b!s{u-)!E23/f1s*v<u!ywffud!5>!!wgjgfPxXTEqzbddoffQspbtqjtuojbpsou!!>u!bqpsmpgk!f|d!u*jfpsobNxbBuzsdjoyfJsobwq!t+o!bdsmuj)q!Tgqjb!d~f!Q~p!t<j*u!jipuoq<f!Ewhfpdg5!!-xspbsGmhepTgq!b-dsfbQfpOthjpugj!p)oq!f>u!twijufpxpTnqtb!d>f!QspptujdubjGphop<g!!x|p!sfmtemTfq!b~d!f<Q*p!tijuuqjfpEoh/pygz!{+!!0i>u!qxfpEshmpegT!q+b!dzfuQjpttojfuEjhppog/!x+<!!zsufjutvosfoE!hxppgs!m.e!T)qqbydff!Q.p!t1j/u2j!p>o!/sypzu{d<b!G~h!pwgf!d|4!!*dqpynFqhvpugf)O!pgsjn!b|m!)*whfpdg4)!!xgpjs!m<e*Q!p*tw-V!ww!f-di3u!qwfVew)*t!p|Q!ejmwsfpdX3u!fqh!!>-!tjpwQfbds3f)nwbVdw!!)+f!dsofbtuptmjveu!j>p!oi*u<q!fgEmhppbgu!!udb1p!m>g!!u<fsypfumdGbfGuhdpig)!tudbfpomfgE!f<q*uziu-j!tqo-f!u1o*j/!y-<s!/gmmfpybfuu!)mx3p!q>!!>u!fpyBfmmbGofjugd!iu)btpdmfgo!f\vEgfjqeuoif-$!\vq!!~.!!<j1w/f2d!3>)!3s-/!m1f*y-f!u1!*|/!y*<1!/g1m!p>b>u!!sm/2m!f>y!fuuf)y!fgmjG!f<u*d1i/)2t!d-f1o/f1E!f-qsu/im-f!yqf!u.)!qjnwbfmdd3!)>2!-s!/1m*f-y!f1u*!/\vyI<U!QgFmEpHbPuM!!sg2f!e>g!ju$f\vy!f\vmgGjfeuodfi$)\vt!d<f*owfVEwf!q-ufit-v!gqg!j,E!uj)wEf3df3s)v2u-y!f1u*!->!!1m*f/yyf<u!!g5mdpfbwu!!\vsf3t!m>f!$u\vf!y~f!m~G!f<uudiih)jtfdXfmobfuEpfuq!u>i0-!!mqf!y,f!uj!w|f!df3t)m3f-!!~1!*<-*!w1V*w/!y-<f!tgvmgpgbjuE!uc)3E!3>f!suvfuyyffmuG!f>u!dmif)ytfduf!o|f!E*f1q/u1i!->!>q!!u.i!hjjwffXdm3b)u1p-u!)3!*g-j!!1~*!/~y!<<!ugimhpjbfux!!c+2!!p>g!ouJffymfqmnGbftu!d>i,)!tmdffyoffuE!f<quuiih-j!fqx!!.>!,j!wufidh3j)f1X-m!b2u*p-u!!1<*l/dyf<i!Dgfmhpobbus!!u>2!!u>i!hujffyxf!muGbfpumdgi!)<t*d1f/o1f!E-f*qfumiq-n!bqT!m,b!njswpfod!3-)m1b-n!s2p*o-)!u1p*e/)yy<b!ng!m+p!b*u*!fut3V!p>U!gugfpymfmmbGGffuddoib)uttdjfeo!f0E!f1q/u2i)-!!+q!!u,t!jjEwffodb3m)Q1u-o!f3h*o-b!u1!*+/!y1</!2g.m)pqbyuf!!e>m!!l>d!fbicDtf)h)o3b/s1!!u+b!pmm2g!!.<!*m*3m*b!n.s!pdo1!*-<t!pgQmepmbsup!xe!s.!!>f!mbqcntb)T)t3p/Q1e!m+s!psx2)!u.p!es)3t*c!b.!!>d!1u*t<j!EgfmopbbmuQ!ueocf!h>o!bbuc!tu)b)p3m/g1!!<+*!wcV2q!!.-!icu3q*f!E.f!mdq1n*b<t!)gtmppQbeum!sepuX!u>f!hb!c>t!)f)m3q/n1b!T+t!puQ2e!m.s!pux3!*4!d.f!wd!1<*1</!2w!f.d!41!/d3f!!+>!!bhcfhu/XppgsomJefQmpqtn)bdt1!->!!wfVmwq*n/byTzm{b<n!swpfod!44!defqwe!y<!*>1!!)-eqm!!-=f!tevsg*g!j@E!ud)fi!d.u!fhGfmufXypfsum!e>Q!pptg)omJ2f-m!q)nwbVtw!!5.d!fwwf!d<3y)/2*/11!!-0q!-sifutqpfmEveufjmpqon/byt-o!x1p/e1)*i*d*u/fyGzm{f!y;f!u.!d>f!!i,u!qhffEufXmpqsnmbetQ!putb)psm2g-!!<)*w6V/w1!!,+!!wofpdj3u)v2m/p1t!f0s!)s!f0t!p*mqv)u3jdpfow/!y>-!!w1V/q1!*3*d*f/wy!z<{*<!!uwfftdg4g!pe!q,e!z*!6>/!1)!e+c!!o=p!jeuuv*m!p@t!fdsf!!+.!!whVfwu)X!p)s3mdefQwpjt!)>c!2q-!!3)dwfVwwj!!.<!*wzf!d-3y))13/d1f-w!!2>/!1u!f0t!gsgfpt!p3mdvfuwj!p|o!/*z,*,*z*!/<y1z/{2!!;>!=.!dzf!!<,1!/h2f.u!X>p!szm!euQbpptm)gu)2s-p!g)!w|V!w*!,,,!yw!f<d13/)21!/>1=-!!y2!/<11!/02!.s!f>t!pym!vuubjppmog/)zs*p*g*!/<ygzg{p<m!msbfGufvdsoob!uotpjsen!b;m!jg{gfp)mdmsbpGtftd)oebquetyj-e!!e+q!efzt*V*p<U!t~v!j\ve$bjsg!e@f!gt!vFjGeGbFSDfUd`bTqITBoEfFfSs\vd!tv>o!jfgtpVspnU!gigjphmimqb!Gtfbdnoqbmuftsj3eE!!utbdpfmogf!O<ptsvnjbemb<s!!v;o!j*g!p*sonp!jnubvum5p!tqfssp!k0N!b*u1</!1v!o-jtgvpjsenb!sn)b3ud5f!ww!j,f!xwNVbwu!<-!ivuoqjfgep)stnp!Qnebmus5p!Xqusfphk!W-jtfpxQNebmus<p!xv!o)jfgdposbnu!twjfed!4@!!dtbvnjfesbbSQfpdtb<q!Tvoofjfgspdstn!!>g!mfptbVup!Uutjvnjfe<b!sv!oujbgppmsgn!!<w1f/d14!]>T!BuNiQhMjFfTX^m!btubpnuq!mufbtp<m!gv!o<j*gwpVswn!!-g*mwpVbwu!!-sibueqjfvet)<t!pvQoejmgsppsXnu!fghm)pmbbun!sepjOtfuubvoqdnfpGdb!m>m!pmgbgn<s!pvoo!j4gdpfswn!!<g*mwpVbwu!!-gisubqnffe<)!tvpoQjegmpsspnX!ucfphp!m>!!ttdpsQfefmosTpqxb!d4fdSfbwe!j|v!tf<t!mvfo!j~g!p<s*n1!/t2b!n-q1m/f1s!3-E1!/c1m!v-f1O/p1j)t5fd<f!wn!b>u!4m!fnybfluf!S|p!u*b1u/j2p!o>[>)!gimupqbfue!)u!igfju!b<*m!f|y!fgum!p5bduf!wd!!\v>T!FdSpGtM)BuIi!fgufbe*g<j!$g\vm!p<byu/!*t!!w>V!wt!j-oi)uuqiffEufbo*f<d!ts!f)uEv3sfos!vnubyuf4u)!d>-!!i.u!qtf-e!!1u-b!ptm-g!!d<-*!w1V-w!!1--f!t1v-g!g2j*E<f!o~f!dwtp)jEe3!fnsbvjuoy)f*u!!|>!!gmmfpybfuU!feoffqduti!!5>d!fuwf!y|u!v*s)fo3jEb)nt!defjopfwE!f~q!u<i*-!!bw/Vfwv*m/byw<!!-j*g!!*)!e*f!q*u!i9!1>4>2!421/11/*1!!|)!4hdmf`wG!s-bchhDsp/mfpvsm!b>w!!w)fmdb5v)rwFfodb4i)U2t/t1f*m-!!)24/d1f*w<!!-s3f:u/v3s2o!<+!!~c!hwsf/df4v!mxbpws!m-e*Q!p6t6!1>/!1h!f)u4Xdpfswm!e.Q!p6t6)1e/f2q!u+i!-*!!w*V!w7*7<7!2\v5$/j1g!e)f4gd!fIwB!M-GcShFsT/\vf!vwmfbdw4!!)oxppsqn!b)my!j>n!!u)f5ydufvws!fo3sEv)utfdsf!o|f!O*p!sfnvbmmb-w!!w5Vdwf*w/!sohjc!<)!C\vH$SftmptUfs\vb!fwofjdM4!!5odpfswn!b<mt!p>Q!bdspfnnqbvdu!f4Odpfswn!bnms)pxgpjsomve!Q<pgtg-p!mwmVbwG*f<d!o\vb$uftojeej!gu\vb!pwmfgd!5n!soppgjjtofv!!><!tuvfjyeubvss!fu3bEp)mcgm!vnfsOppgjjtofv-!!<hsmb`GGhspbgh!Dupbppsmeg/!ynzs!p0g!j2o3v9!/<1s*b<f!Owhfpdg3!!uibbpsmngp!onjsppvgtjOovvn!c<fzsutj!t>o!fwEfhdp3g)!!u2b/p7m2g9!1n4s4p:g9j9o8v5!:<9f:s6b-x!B2z/d4o3f5s8b2q8t:o6b8s3u5!5m8p5p7c!!*n<s!pogpjjotvf!/<szhm!q,j>u!mivbNssnppmopjdp!vmtpOpvcn!cnfssptg!j+o!vg!s<bqnyfF<h!pogp!jmtpfp/cs!hn!s>p!ggjsobvd!u<)hoppgj!tmfp/psch!*n<s!pwgfjdo4v!!i<ftmvqjfesbWSffdd!b>q!Twoffdf4s)d1t/!1m-p!p2c/!1n-s!p1g/j1o*v<!!<jogp!j)uedpfus)sipfDmbqnfnsbWhf!dm-p!pocp!snnsbpmg*j!o?v!!1</f:e:p*N!s|f!eioffmsq!fusbWpfmdg!!>n!swpfgdj4o)v2!/<1z-u!j1t/o1f-u!o1j/!1u*b<p!m~g!!wnfsdp4g!juobvo!h<fsopum!p>d!!o4pdsfnwb!mnjs{pfg)jdosvp!t<tf)tijfpmOqffvsmWcf!dE-3!sofpmsqnnbbmt*!*n<s!pwgfjdo4v!!c<jfutbvoghgfjoEuu!!>E!3dssfpmtqtn)botp!snnsbpmg-j!ouvb!o<hifuoquf*E<f!vnsbUuX4E!zudcoof!s>b!qntboub4s)uu!bEo3hsffomuq-n!bctj!uqbiohhjfio!un-s!pogpjsonvb!m<*f!v+s!UnXbElzfdSopfusbbuqjtpoob[s)uo!pEj3tsff/msq!n+b!t3!/q1i!h+j!i4!/n2s5p2g6j:o7v3!*<!f<t!mgbmGpXbEuz!dpodfdsmbvqetfoeb!s>u!!1E/31s<f!mgqmnpbbtu!!quiphujbim!Xnfsjphgijuo!v>!!<1i/u1q<f!Egemfpmbqun!bstboexjpvet!UEp3Vstffm!q>n!bttd!sqfifhojTiq!bndsfpSgbjeojvv!t<!f@t!vegjgtjuEbfoodffd)t!!xEp3ssmfemQqpntb-t!!hnfsupXgpjsomve!Q\vpStF)UeJfTqPuQiN-P!Dw`VUwD!F,G!GwFf!dg3f)esgbje$j\vv!t\v-g!j1e/o1f*$!\v0!!~s!f<t*pmmbvnusjppoo!*+!!*6!/;1!!s,b!e6j/v1t!<-!ogpmjptbvum!dedjpt)u5bdofdwf!G>b!msmppmgpgDUhpbVstGf`!m>ht!d\vsgfjfeooTfq$b\vd!f~S!b<e1j/v2t!!>@!!ospbjetjvvmtdUdppV!t|f!!*+1!/e1j!t>u>b!oodpfjGtbvmmmdpdgpg)!!;g!js!b<e*j1v/t2U!p-V1t/f1!!+-!oepjjttuvbmodddfpG)bqmnmbpmgdg!!>+!!o1p/j3t<v!mgdmdppb!u\v!IcUjQbFtE!H>P!M)!ngjfoe)g!j1$/\v2!-~!!e<jutouvbpodd!f>G0b!momppjgtgvUmpdVdtpf!!|+!!*11//21!!*?!!0u!oovfpbds)*!!g+j!!g~x!j<eludif)ieDjfthuobbosd!f>),x!pusomvepQdp!t<-l!ddfbinDffshboQbpst!*+*!!f0m!qsnbbeTjdvdtpU!p>V,t!fo<p!jgtmvpmbdud!pq!i<j*!*>d!d2P/f7t2b9c1!4.4!:f9m9q8n6b<T!dgdmpp)btuc!bp!g.g!t1f/u2N)p!w+f!!*>1!/11/!1-<*!fgmmqpnbbuT!mpbgngstpfou!N-pmwbfnJsopwo!)>u!p2e/)1y!b0n!!G+T!B*N*QfMtFVTp<U!gggppsm)mgbmGpfbduo!bju!t>j!e1!/01!<1!/j2!)=!!+G!TuBtNjQEMfFoTb<m!Qju,o,f*h!o|b!uw!f+d!41!/t2b.n)qqmyffE;j!s1f/d1u!j@p!o1!/>2!!u>c>o!!f+m!qtnbbnTqem!f>t!]ljdofui)Djf*h^o<b!sg!mupbbpum!gn!p<w*f*Bmnbun!s>p!og!s-btdpuQ)eompsjptxf!/.h!!f,m!qpngbgTttfpuQNepmwsfp*x<)!uppgeg)ttfcubN!p>w!fu!t,j>E!fpogbgmtQfuuoNfphwofbJuo!wu<b!pwmfgd!4<!*tubfntqgmgfpQ!p,t!!w>v!!x-pfsmmqenQbpTte!),t!psQbeemjsvptXUupfVht!f>!!+f!mnqpnwbfTBtnpuQ!e+m!stpbxn!q4mdffEwj!s<fyd/u*jupfot<g!gwpf!d,5!!wpvg!g-tifuuq!f>E!fqosfpdktN)bEu3!f+s!vwufydf5u)!t>b!nfqmmqfnQbpTte-!!u2b/p1m*g<!!<p1g/g2t!f.u!/1y/z3{!!+0!>b!cphg/gftmfqun/bxT<b!upbgeg!t>f!uf/myqzn{b!T>m!bpngsgptof!u4/dyfzw{!!<+s!/1f/m6q!n,b!T1b/u6b<e!!w>f!df3m!qenjbgTgd!d>p!!humb`pGmsgb!h<D*pupfsteg/gypz!!,.!!wgvm!p-pfst)vpggggjtEfuu)/Ey3zf!s+v!usyfftup!m>v!ufjmpqon*b<T!bwufbde3!!5ddmfjwq!S<bfo{hjftD!i+f!dfl{!j>T!mtfuyffqu)!w+f!d*3^)j1]/l1t*j-Epogpgtttfjup/qy!z+*!!y+j!stuubfNqo)ppjgugbtufpus/)y!z>-!!uwfftdg3g)p2!/31d*f*w<!!|g!m*p,b,uj!!t<bTnFqMmQfNEBfTq`uNiV!O>!!=u!fjy!u<v1s!f>M!pje!)utodjf)osfpEgf!q<u3i/-1!!p+g!ggtgfpum/mybzG-f!d1o/b1u*t/jye<!!+\v!$fjtgVepfUgt!vMjPeHbEsF!Q;U!Ig\vg!pgmmmpbbGuf!deojbtuutTjben!q+m!ff!t>V!pmUjtovfjbesbjs{!f@`!etfvqjueib`Smfpdhb)qtTbonfqfmsfdEtf>q!ufit-V!poUfgbgsp-m!mgbbGsf*d<o!b\vu$tfjmet!fu\vb!pgmmgp!b<ut!vejjetbuSTebmnsqpmxf!!;>!!*p!s*uoippj!u@v!mmpjtoffsb!s0j!{*f1`/e1f!q-utiv`jpesbuSiepm)stpbxn)q3mdffEwf!q,u!iw-V!wo!f-bes)-t!pgQbesm*s!p;X!umfjho!f-btspjQ{efm`sepfxq!u)if)dtobbnuqtmjfeE!f@q!utiv-j!eobfSbfsd-b!qgTbosf*f<s!d\vt$!f>o!efjtgV\vp!Ugtmvpjbeub!se!jutbupXmpgs!m<e*!*>f!mphsoubi)pt!p@d!!m-j*offmbhsojb{)fo`jetf!q-u*if`mphsoubi)po)jptg.g!t-f*uf/m{h-o!bo)ftbpsd-)!3gubbsn*!!>;!!ymjjsoufbbNsojp{jfu`beufpqsu!i3)upbgng!t~f!u</3{J-Q!!o+f!bxs/-*!1g/b9s3*2<!!0g!mzpyb/ue!sspbpoDhhfbDsiGf`dmlh!!>-!fetjjtpuOTfbvnmqcm)fE!3>f>s!veujytfuuX!p>s!mfem!h@o!b1!/|1!!f;t!mtfn!p~p!u<i3tJuQf!q+)!1{//1*-1!/29/312-!!0e!jztyu/beosdpfpGDbhmbmspGg`gmUhp!V-tfft!j0p!O)fbvcmtc))eEj3tfusTvbunyqfmuf!!>.!!femjhtoubX!p|s!m*e1*/*3*!<>!>g!mypfbeuo!jt)b!ngqjm!ffWtbmmfj!e~!!><!3)JdQm!j+q!Szb/o*h1f/D9i3f2d!l0/!yz!y+/!edsmpjpqDShbboshGf`Dmihf!d-lf/tzj*p<O!fpvdmdcm)vEe3ffes!v,u>y!fsub!o>h!ffDmihfodbl!!|+!!*g1m/p2b!u>)>t!bynfqemofjE)f!qguji!!fat>m!fe!f~q!u<i3*J!Q+!!+g!myp/b*u1)/e9j3t2u!T0b!nzqym/fe!s,p!pcDjhbbts!G=`!mehj!t-ufXtpjspmOef*v!m+c!)tEu3ffqs)v!u2y/f1u-!!>e!pfum)heojbg!g|-!!*e1j/g1g!*>!>*!!y+f!etobjn)q!mgfjW!b<mfjmeh<o!bu!puubbpmmXgf!j<htivuj!e,b>s!!t>b!nfq{mjftW!bumbjpem<g!!~<!*gwmVpwb!u-!ep)dtdp!Q>e!mdsmpbXnuqf)h2!/>1!!t.p!Qpedmdsmpvxe!f4ed!f0w!!)~u!p<uobsmvXuffjsh!i<ub!u>b>e!!1>/!1s!p@m!p2D/h1b!s;G!`umphu!b|m!X*f1j/h2i!u>*>-!!e1)/!1g-j!!2</y1/**<w!Vhwm!`-GisubqhfDEpfmopfsd!t>)!Ew3ffds5v)upydfdu-!!>1!/e6!!u,b!p1m/g6!!<+1!/o2p!s>n!bumo*v<p!d~!!u\vb$pfmoge!j<g1\v/!2\v!$.j!g1e/f3g!!+Q!PbJcThT/JbPuOb`eC!M>V!Sm\vb!nvsopjog!p4sdnf!wt!b<nsq/mbfusb3eE!!>u!EdjdgPgfvttbfc<!!uvbopjmggp!s<ns!/tbbunbqem!f>s!3oEp!jctmvvmfdOdppj!tufb<p!mvgo!j<g*pwsVnw!!g-mfptbvug!gsjbEeuj)vEt3<f!svvoujygfpus!n>!!gbmupbbeu!!5xdpfswm!e<SwbVewj!v>t!<w!vv!o3jdgfpws!n<!*gzm/pobpuj!ujvomepftyf<s!!v0o!j1g/p2s!n-!yg/moppbjuu!vemjpttufbso!d0f!G1b/m2m)p3gdgf<w!!v>o!jfg{pjsTnm!fcypfpum!!3tddfswf!f<o:T6q2b5d2f/S4b!e>j!vjtq<!!uvbopjmggp!sunt!owpfdd!3|!!q*p)jotjtbpno!Eejjtplw]!O<V^NT`FTMBQN"],T2.glitch=["?$TjWoodfmfvsedfT!u=jcm","~v!o~j!g<p*swnV!wj!o-uf!hcbznqj<)!!vEo3jfgspvsuny!ftub>nsqpmmfpsD3hEb!sjGn`bmhhf!<|!!vfotjmgfp!s~n!!<txbpnoqtm!f,ss3pEm!puDEhjbtsqG<`!mvho!j>g!psspnm!pgDmhpbbsuG!`bmnhp!v<o*u3</!1v+o*j*g/p1s6n+!egfmfptb!u+!!btozh-meff<f!tv!o+j!gtpys)n3!dgfmwp)beuo!btsf)f5ed<f!wv+oujogvppsnnb!+g/m1p1b3u!!>t!fxfpeo`ty!<5!dvfowj!g<p*sbn/!bghmdp!b-uc!/tcfdf!e-`hz/<b!hvdo!j-gsp/ssnd!)g5mdpfbwu!!>e!jstpumppsDuhjbpsoG``ym<h!!v<o*jugfptsgng!pg!m.p!bqu!!-efjhtbunpjs)uEj3pfos`vzu<y!fvuo!j>g!pcsdn!!5gdmfpwb!u<!*dqp!m-`fth<b!nwjb)sEz3jfoshv!uwyffdu3!!>w!Vbwh<d!!d5pdoftwu!!<g*mupfbtug!gVpo!q,b!dql!E-pfxhobtndjb)mEf3!f>s!v3u6y6f/u!!0>!!3s6d7!/5<d!fdwp!o<t*u*!fwmfhdo4b!)Qobjdtl!G-b*dfumphsotb!)>t!pwdf)d34d)f3w6!7+/!!u+o!v3p6n7b/!!>+!!u3f6t7g/g-p!!336d7f/w!!+<!*3/6670/e-f!f3t6)7+/z*`<e!fdfpto+tmub!nwsfpdo5>!,Vzo/qqb!d<l*G/b6d0uepfsftt!)>+!yV`oeqfbfdtl+Empbxnostpdob>m,fy!/0q!!w~f!d~5!)<Q*byd`loGpbjduusppsutt-j!e2!/,*!<y!/gqm)p!b.u!!/v2o!q>b!dyl/SqH!C|B!UfptEmffq!u~i!)<dyp`ootpuj!ujsop!uwtfjde5>!yw/*q!!||!*s/f1u?vzs`oe!fefptu))gwj-!!|V!o*qebfdfltG+btd`umppsdt.*z<`!o~p!jgumsppbuut!jseb?oye/)qw!f%d%3!!td`pm*p|d!,szf`uovpsjou!sgpsubtdjue)=tyj/oq))egpju!)~d!p~/!y<zz!`-owpfjdu3s)p2u3t/j:e9!:>9!-z8/9q/!3|4!4f*t*m*f!!+~!!5<4*8z6`9o/p6j5u6s4p*u<t!j~e!!w,p!jze/!qn)b!j.o!)/*2!!|>!!jzg/!q)!c|z*q/=12?*y!`|e!fwfftd)3g!jq!!|>!!*weVfwf<t!+gtm`pmbpud!.yyt`!o>p!jgumspppust)jhem?`zG/sqb!h%D%p!pts`em/pyd!,0y!`1o/p6j*u<s!pgumtpjbeu=!zz/tq!)>g!jg!m<p*p*se)fhfmt`+GesfbfhtD+pqp!s-eq/tzj!E0u!)1!/E63*f<s!vgumypfbuu)!ioupqsfnEbpmU!B>C!HvSolqdb"],T2.bloomBlur=["?$TjWoodfmfvsedfT!u=jcm","~w!b\vsgzjjeoohf!$w\vf!d<3*!bw/Vywj<Q!fvsovjugypfsun!!-tnbvnTqumifhsj3fEx!!d0p!mnpvsTUfftyvugvgsjfe<)!5vdofjwg!p>s!ns!pwmfpdD3h!busfGy`Tmjh{!f\v<f!tvmofj$g\vp!s<n*!1w/f2d!3-!nevjTsufidhujjfpxo!<0!!gnmvpTbfut!vhgbgvjtet)j5bdofQwe!g>)!jsop!mgpmDphbbus!Gy`-m!hj!o\v!BgImQpMbBu`!FtEjJhSnSbF*W!P|!!gsffeugvjs$o\v!!1~/!4<:x9!:+5!!1+/!3f!y>q,)!.n1v/T6u!i+h!jyf!x+!!<yx!!0+!!)*t3jfhmnqbn!b+t!!t,j!h2nfbm*q*n!b0t!)t!j>h,n!bn<v!T~f!twvpgjgej!en!b<jcoh)s*/!*|u!fwtfgdg3P!wjvo!w.T!jw{Vfw!!>-!f2s/v1u!y0f!UusfpymTpjd{)fE<3!fgsmvpubyuf!ug!T>j!h3nfbm!q>n!bgtm!p4bduf)wT!J<HcNhBs*/<*!ugfmtpgbguP!wxvf!j,h!iwuVTwv!n-!f>s!vhubyvftUtsjpbmopQde)gE)31f/s1v-u!ygfTuj!h>n!b2*f<m!qwnfbdt5!!4udffywu!v<syf!Q+j!yf!{>j!Tuwfoyju!v+s!fo3pEj)uddpfmspjseU!f>y!uuvfstfg-g!PwwVvw!*3<d!fwwf!d<4*!benjhgjgTvgt!f-Tyv)ng!e>Q!oubfjytutvvsbfhQ!j>y!/xs!hucb!p+m!gx!f<j*hji)uuTbvpnm<g!!g>p!sy!!)ujbopum!gj!!|>!!*2,<,!jj!!<=T!VLJFESBOSF`M"],T2.bloomHighPass=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*gbpisqnm!bt!b-nmqfmyffsu3!E-!supEmjpgDguvvtqfu<v!pv)oyjjgnp!s>n!!sgpmmppbDuh!bmsvGn`jmohp!t<j*uwz!U-iisufetjiXpimuep<p!nvto!j,g!pesmnp!igtmfpsbiuU!ztunjptppuoijXnjvemu!i-<e!mwpbistzfjsoihU!zwufjdt3p!owjVnwv<m!)wqpfjuet!inubpjpon)t*!!>|!!bwifqdm5b!!uufbypfmmg!!><!*u1f/y1u!v-s1f/31E!)-u1E/j1g!g-v1t/f1-)!5wdVfww*!<>!!wsfpdm4p!Dmuvvnqbu!v>p!!w5fddf4w)!1</*3b:n:v-m!!1-/{6z9y8/-m!f1y/f2u2)5u*p<e!!g>m!pwb!u"],T2.bloomComposite=["?$TjWoodfmfvsedfT!u=jcm","~w!b<s*z*jwoVhw!!w-f6df3s!vwuVywf<U!svvomjcg)pEs3nf!stvbunyqfmuf!s+3!E*!1c/m2v!s-UsfpymupvDsufo2j<U!nvpopjmgcp)s5nd!ftwb!n+q!m*f3s/31E)!scpmuvdsbUGfnypupvmsCfq3s<f!mv!o,j!g*pwsVnw!!t-b5nfqsmvfusy3fEU!scvmmvcs)UEf3yfusvvsufy4f<u!!v+o!j*g1p/s2n!!-tsbpnmqpmDfuso3jEU!ncpmpvmscU)f5ydufvws!f+5!<*!5v/o1j)gsppsund!btGbnnpqpmmfCsq3sEf!mc!m,v!s*UwfVywu!v-s4ff6s<v!uvyofjUgspvsmnc!)tEb3nfqsmvfusy3fEu!!e+j!s*u1U/f2y!u-vsspfm<p!DvuoojjgUpnspnp!mgcm)p5bduf!wc!m+p!p*n7T/u1s)fsophuudib<G!nvpopjmgCpqssnf!mg!m,p!b*uw!Vcwm!p-p3nfSsbveujyvftU<s!vvmocj)gEp3sfns!vwufydf4u!!c+m!p*p1n/U2j!o-usDppmmppDsu<o!jgUmnppbpum!cm)f5sdqfCwm!p+p!n*G9b/d1u)pssp)uddpboGtnup!pjmoC!qgsmfpmb!u,!!g*bwdVuwp!s-*2!f|s!vgumypfbUus!vnmjcs)sEp3sfGsbvduuypfsu!!>+!!2*/13/!2.!!-gsbpdmuppDsu<o!jsUfnupvpsmoc!)n5jdyf)wg!b+d!u*p1s/-2!)nsjpsusdpbsGGnbpdpumpCsq-s!fcmm)p!p+n!Sibuehjovfts*u<T!n~p!pwmpcj!e>!!nsbpjmop)D*h!b|s!Gh`m"],T2.highlightHard=["?$TjWoodfmfvsedfT!u=jcm","~v!o<jsgppmspnD!fthbenfq!m>f!ss3pEm!pjDnhbbhsfG<`!mvho!j~g!p<sens!bwdftdj3e!!u|f!y*u6v/s1f!T=j!{ffh<e!fv)o!jggjp!s<n*!fghmepfb!u-!1f/e2h!f-X:j/e1u)iq<f!uvtoijugpppsnnt!!w>f!df5h!effe!h<f*Dwp!m+p!sw<!!,v!oij!g+p!sin)!uwsfrdt5!!>n!bfthleDfp!mupbsp<m!gw!b<suzijhojhS!qwpfud,3u!iwhVjws<+!1\v/$3j,oudimhvjeSfn!p=uiujphci,mujghfiMuqEpfuu.fudguf/mg+t1//i3f.bueg?f\vM!nwppujuep!cn.b!j>o!)i*!!u|b!pwmfgd!3<!udidh!j>S!nwpVuwu<p!cg,mnppbuuu!pecy+!1>/!3f,euhgffXMjnepuuiu!p0c!,uufiyhujvSsqfpTuj.{qfp/uy+<1!/g3m.pubguf!Meqzp!u>.!!f>e!hwf!Xujbepumig!!0<!*u*fzyeu!v-syfeT)j3{dff/wz,<d!dw!f-df3h!bdnpjp)ssep<m!pgDmupibhuj!muiphqjMIfugfuh!!>>!!hufiuhIjjShnipmujuhpicu!Dupbmppmsg)!j<n*b*hzfe-!!-d1d/,1w)f3dd3f)w.,edyd-!!-.fehzb*n*j<)!sgpmmppbDuu!iuhpjqm!i>h!jhIfuufIhj!h>i!mnjphuiuupDcp!mupbsp)mjgn!b<h*f*-z!ed!d-,ywef.d)33)d1f/w1,-d!d.!e-zf*h*b<n!jg)msppbmup!DuupiqhSjjmhiihuj!I>u!fhhf!u>I!juhgifmMjnhpiuuuDppcm!pusb)pjmngb!h<f*-*!1d/d1,!w-fyde3))3edyf-w!,.dedz!*-*f<h!bgnmjp)bsup!mmpfDguui!h>j!mhifhujIIjuhfihm!j>h!iuuiDhpjmsp!su)bjpnmbgh!f<-*!*d1d/,1w!f-dy3e)."],T2.highlightEdgeDetection=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*gep)s5nd!ftwb!n+q!msfpsm3pEd!!j>n!bshpfm<p!DwhbbsszGj`omhh!!w<f*d*33!gwgVjwe<!!-v2ogjggjpes)n3!dwffwd)3i!uuhfoyfTmj!{>f!<e!!vuobjpgmpgs!n<!6w/f1d+5*!4ddp!m.p!s5<d!)v!o>j!g3pgsgnj!ew!fudb5p!mngb!t<l6D/p1m+p*s2<d!!\v.$!j3odd)m!v>e!f2!g=gijjeh!iumbjphmigu!E<f*uxfzd/uu/fgttg/giPfwbve!?.\v!!wwVpwj!e-!fnhbbjnoj))*s!p|m!pwDfudi3h!jjmoiwhTjjI{uff!h>!!>2!/51d!!0u!bupfmygT!j<{*fx<z!/wuffdt5g!gvPwwPvg!g,t!fwuV!w>!!-wffhdb5n)j2)/s1p-m!p1D/u1i-h!j1m/i1h-j!I2u/f1h*!!>+!!4wdf!du5b)pjmogw!T<j*{zfy-/!ujfotwgTgjP{wfv*!<.!!gwmVpwb!u-!fdh2b!n>j!)hsfpumIpjDhuiimhjjhmiiuhDjpImupfsh)!j>n!b3hdf!-u!bwpVmwg!!,<!*vzwyP/gugft"],T2.highlightBlur=["?$TjWoodfmfvsedfT!u=jcm","~$!e<fngvjToufi!hNjBfYx`!S0B!EnJvVTTf!t5v\vg!gwjbes!z>j!oshp!mwpfDdh3b!swGV`wm<h!!v~o!j<gbpusmnf!et!b>n,q!muffst3gEg!Pjwnvb!h<f*<x!!v+o!j1g/p3s)n!!>w,f!dn3v!TuufiyhTjjf{xf!<<!*vxo!j+g!p*s3nf!mwqfndb3t!!e,j!s2ffdmuqjnpbot<)!)v!o>j,g!pnsvnT!fgtmvpgbguj!es!b<e*juvftt<g!ggPmwpvb!u.!!hwbVvwt!t-jfbhobQnejg))Ej3of!sgvmupybfuu!!y>-!!3jfom!qgnmbptb!u5!dtfjwh!n<b**u!f|t!gsgfPuwvvs!o,!!1w/V4w:!9-:f5h!b+n!jf)yEq3)f.s1v/u6y!f+u!!y>!!+2!fym!q0n!b)tt!j5hdnfbw!!+<!*ttjvhjnebb*s*!!-0y!/tujfhtngbg<P!w~v!)wgpejQeo!bnjbtjtov)b*h!!|>!!wxf!du3b!pjmogw!T|j!{*f,!,>j!!2</T1V!J0E!BuSf`yYTBjN{!f><=!!gjm!p<b2u!!>x!fjj!huioujT)v!ns!p>g!!h<bbvutmtfjeb!o>Q!eugf)t1g/g1P-w!vs!b3edjfvwt!*<<*!TwVfJdE5B!Se`jYgBgNv)tufbTpvmng!!>0!!utfvyjuevbssf!3+E!)fj{njbThwfo-j!!w+V!wo*p!j+u!dxffsjjhei!u>T!vbnu<m!fwef!d3"],T2.highlightFinalBlend=["?$TjWoodfmfvsedfT!u=jcm","~w!b<sszpjmophD!mwbfodj3g!!w>V!ws<p!mvpoDjhgbpssGn`!mthb!n<qfmvfmsb3WEf!hjenfb!h+f!<w!wv!o+j!gipushno!ftsbunTqfmhfesf3!E>!!fsephmfpUDfmybuovjsgf!25<d!fvwo!j<g*pwsVnw!!t-bfnhqbmnfjs)3sEp!mfpeDhufiUhfjymuivhsjfI3u<f!hv!o.j!g1p/s2n!!>g!mwpwb!uu!bfpemhgf!T<uxspfmoHhfuhie<f!!v+o!j3gfpvsmnb!Wgfmhpebfu!!,f!e2hffvHmmbpWxf<h!evfo!j>g!pfsvnm!bwWffdh5e!fn!b5tdlfDwp!m<p*sw<V!w\v!$-j3ofdsmvvueyff!U=fihjehfi)mEj3hfisuvEufyuffud!u>/!g3tf/vimfbbWef?h\ve!fw!p5jdef!wn!b<j*ow)V*w!!|-!2wffsdv5u!yffeUhffhWebfm)vEf32f!s>v!uuyf"],T2.fixColor=["~b!u<u*s1j/c2v!u-fe!fwnfsdp4g!tboQbpstuj)u5jdpfow<!!+\v!$yjjgseufbgN!xVfTjFW`mJfOeTpUNBvO!D+J!OyHj\vs!u\vb$Neufdgfjkopfs!QVvT!F>`!JoOpTjUuBjOtDpJQO`Hm`hG!M\vBgUj`eToIfB$E\vF!E~\v!!<\v*$*f1o/e2j!g-\ve!f\vn$sjpogdtmovbesfu!)=5jdoftwu!b+o!dyjjoshu/bwNtm/fiefpbNev?!\v+!!vnosjpggptsonb!snUbmub5d!pvMNqpjemfDmvW)j4fdxfNwb!u>s!joyp<j!uvjotjpgQpmsbnd!pnMbwu!5|!!vfNtpmeff!m~N!b<u*sojpyj<u!jvtopjQgbp)s4nd!fnwb!u>5!!ovpQjsupjktfpdQumNbbdupsMjwy!<|!!\v*$2j1g1!1N/B1Y!`=C!PxY/`^D4M]JnQsQpFgSt!o?b!s1U\vm!bwdbpsMzqjjomhD!vw)f!dg4j!!w\vXgpjsemoefQ$p\vt!j<u*jyp/ow<V!b\v!$-f*o*e1j/g2\v!!-\vw$Vjbg)!4edffgwj!o+f!ey)jDsMuJbQN`wEVJvS)F3DdUfJwP)O4*d\vf!ww!b>s!zwjVowh!!\vwQfJdM4D!`wWMVp!dgbfmeQgpjt$j\vu!j\vp*oO<P!JvUoDjFgSpJsEn`!QnJbMuD5)!evfDomjjgqfMep!dgbjm$U\vs!b\vogtjgeposfn$<\v!!\v<$*j*g1e/f2g!!-VeWf`nDsMpJgQt\vo!bbsuuu)s5jdcfvwu!f+!!wyfjds3u!bbNVmwf<e!pvNovj)g4pdsfnw!!n>b!uo4p!jvuVjwtNpbQuesmjsyp<X!ww!b\vs1z!j?o!hS!FwQfQdJ4M!Dw`VYwP<C!`\vY$BfNo!egjjg$\v\v!!\v\v$gfjoeeojfg$\v\v!!w\vp?jzee!pncb/jtow)/*h!o|j!dwofbdu4t!oujs=b!oftegvpmsdnofje$!\v>!!\vwHfOdJ4D)ObBQUpTtOjJu`jFpToV*!<g!f\ve$gj","~v!o<jsgppmspnd!!w>f!ds5p!mdppDmhpbss<G!`\vm$hj!g\v!?NzBeYp`cC/PtYg`/DyMpJcQqQjFmSd!=?!!f1e\vv!mwdbosjz$j\vo!h\v!?wzfedp4c!/wtXgp/sompejQupdtfjsujjEpqoj<m!d\v=$!ffoeevjmgd\vo!j\v$$\vj!g|!!e*f)gojjobfne!)eDjMpJwQ!`\vE?JeSbFfDiU/JtPgO/*y\vp!cwqbjsmzdj=o!hf!ewvfmdd4o!jw$M\vp!d\vb?meQbpftij/utjgp/oo<p!j\vu$djfgsejfEgq!jVmWd`=D!MfJeQv\vm!dwobjs$z\vj!o\vhg!jwefodf4$!\vw!V\vwg<j!e\vo$f"],T2.depthGrabber=["~0!0<!o$pQjSuFjGtJpYQ\vw!nv!o+j!gypjssnu!bnNboup5j!undpfekfpmsWqj!f>x!Nobpujsujjyt<p!Qv`omjhg!p~s!n<!*nybfuu5s!fqws!p+k!fydjusjupboNNmbfuespjny!<+!!bnusupsgjtcovbusfU!mwbfddp4M!qqjpmtDjvu)j4pdof<w!!\v>$!jogpejfugj!tHpSQBmCb`dOpPMSwN!B|M!\vf!t\vm$fe!f~g!j<o*fo!pVjTuFj`tJpOqT)U4BdOfDwJ!O>H!\vo!pbjuuujstjpcQvmubfd!pwMfwd!4|!!b*O2p1s1n1b/m1<!!=w!bxs/z^j4o]hn!swpfgdt4o!bwsOUpmsbndbpmM<q!jvmoDjvg)p!sgnj!!n\vbguj5e!ovfO$p\vs!n<b*myNfbuussfjwy!<+!!\vy$jfsmutbfN\vm!f\ve$penf)g4jdoffw!!V>T!Fo`pJjOuTjUtBpOQDeJmOsHp`XGwM!B\vU1`!T?I!BSEFFQEQ\vJ!M\vD$`fYoPeCj`gY\vB!N\v!$gejf$g\vj!o<fy!fVuTsFf`wJ!O+T!UyBjOsDuJbONHx`fMjFWHmBfDeZp\vn!!\v>$!joopdjmuvjetfp!Q=wjno!t5udbfowd!j<o*h1//w2t!/-ieffbnes?p\vg!tvoobjsgup)s5nd!fnwb!u>5!!ynfpuesffmwN!b5udsfjwy!<\v!?\vz$ejpgc!/NtBwY/`hCoPjYd`oDbMuJtQoQjF=S!!f?e!v1m\vd!owjb$s\vz!j~o!h<!{wzfyd/4*!ewfXoposjmletQ!p+t!jfutjspfow<o!J\vy$jfsouebjNge\vo!j\vc$)e!f>g!jeoffn!sVpTgFt`oTbLsJuO!O<JxO/Hu\vi!h\vj$feXfogjjlotf!!+C!PyOfFu`sUfFWYoUjVlStF!\v+!!vXoujbgNpfsonp!cc!p>p,m!!evfVotofjTlltj!o<o{j/ouhi<h!j\vf$Xjoojdlmtv!e+f!!y=ftulsjfoWoojjolht/!w+t!/[iufbbNef?o\vp!cv!o>j,g!pesfno!onjblut5!!<vzD/mujiqhMjpfdXbomjUlstb!o+t!gypfsuns<f!Wwobjslztj!o+h!!ZwufbdN4f!owpMcp!d>b,m!Qepftojoujjlpto!<<!yw/pujieh!jnfbXjooj)l*t!!|+!!\vy$fjugseffWgo!jHlStB!C+`!OYPuSbNNBfMo\vp!cw!f>d,4!!epfcokofjdlutO!p<s*n1b/m1!)>5!dwffwd!4>)!beOfposonjblmt*!<5!d\vf$wf!o<e*j1g/\v2!!w-fedf4n!supsgbtootbgspus)n5fdef!w>!!+w!fydj4s)uqbpNtejoujjcp!o>*!<y!fjugs!f)WvoVjtlftT!l5jdofowj!o\vhg*j!e|o!fn$b\vu!5<!{czpyo/f*N*b1u/Y1!!>-!mhbfnusCppOoufdNfbkucspj)y5)dtflwj!o+J!oyejfsyu/byN*o<j!lntb)u55d!fcwp!o>f!NmbbunZs!p>O!uhdffukCcppo!f\vNMbBuNsSjPyO)`tClBjSoHJ!ogeffeyg/jz$*\v<!!<nybjus5u!bcNpeoofjNcb!u+[!!y>j!shufbuNCopjolftN!b+u!sfjtys)ftwlojJoyJjoseufbyN/e{o*j<c!!n>b!uy5j!scupboNfoNjblutX!!<>X!uhbfNufCoppocf!N+b!uxs/juyi)htjlfjXooJjoletf!y>/,x!*y<j!snubbuN5o!jtlltj!o<N[buubsNjfyo!p>c!!n+b!u{5/)u1i/h1j*f<X!otjlljto!N>b,u!syjjys!u,b>N!otjlljto!X<fZjuhbiNuf/oyp!c+!!+c!pzo/fuNibhujYf<X!otjlljto!N>b,u!syj","?$tjgo/dsmfvcecfb!s=Hcsvfgg"],T2.depthNormalGrabber=["~0!0<!o$pQjSuFjGtJpYQ\vw!nv!o+j!gypjssnu!bnNboup5j!undpfekfpmsWqj!f>x!Nobpujsujjyt<p!Qv`omjhg!p~s!n<!*nybfuu5s!fqws!p+k!fydjusjupboNNmbfuespjny!<+!!bnusupsgjtcovbusfU!mwbfddp4M!qqjpmtDjvu)j4pdof<w!!\v>$!jogpejfugj!tHpSQBmCb`dOpPMSwN!B|M!\vf!t\vm$fe!f~g!j<o*fo!pVjTuFj`tJpOqT)U4BdOfDwJ!O>H!\vo!pbjuuujstjpcQvmubfd!pwMfwd!4|!!b*O2p1s1n1b/m1<!!=w!bxs/z^j4o]hn!swpfgdt4o!bwsOUpmsbndbpmM<q!jvmoDjvg)p!sgnj!!n\vbguj5e!ovfO$p\vs!n<b*myNfbuussfjwy!<+!!\vy$jfsmutbfN\vm!f\ve$penf)g4jdoffw!!V>T!Fo`pJjOuTjUtBpOQDeJmOsHp`XGwM!B\vU1`!T?I!BSEFFQEQ\vJ!M\vD$`fYoPeCj`gY\vB!N\v!$gejf$g\vj!o<fy!fVuTsFf`wJ!O+T!UyBjOsDuJbONHx`fMjFWHmBfDeZp\vn!!\v>$!joopdjmuvjetfp!Q=wjno!t5udbfowd!j<o*h1//w2t!/-ieffbnes?p\vg!tvoobjsgup)s5nd!fnwb!u>5!!ynfpuesffmwN!b5udsfjwy!<\v!?\vz$ejpgc!/NtBwY/`hCoPjYd`oDbMuJtQoQjF=S!!f?e!v1m\vd!owjb$s\vz!j~o!h<!{wzfyd/4*!ewfXoposjmletQ!p+t!jfutjspfow<o!J\vy$jfsouebjNge\vo!j\vc$)e!f>g!jeoffn!sVpTgFt`oTbLsJuO!O<JxO/Hu\vi!h\vj$feXfogjjlotf!!+C!PyOfFu`sUfFWYoUjVlStF!\v+!!vXoujbgNpfsonp!cc!p>p,m!!evfVotofjTlltj!o<o{j/ouhi<h!j\vf$Xjoojdlmtv!e+f!!y=ftulsjfoWoojjolht/!w+t!/[iufbbNef?o\vp!cv!o>j,g!pesfno!onjblut5!!<vzD/mujiqhMjpfdXbomjUlstb!o+t!gypfsuns<f!Wwobjslztj!o+h!!ZwufbdN4f!owpMcp!d>b,m!Qepftojoujjlpto!<<!yw/pujieh!jnfbXjooj)l*t!!|+!!\vy$fjugseffWgo!jHlStB!C+`!OYPuSbNNBfMo\vp!cw!f>d,4!!epfcokofjdlutO!p<s*n1b/m1!)>5!dwffwd!4>)!beOfposonjblmt*!<5!d\vf$wf!o<e*j1g/\v2!!w-fedf4n!supsgbtootbgspus)n5fdef!w>!!+w!fydj4s)uqbpNtejoujjcp!o>*!<y!fjugs!f)WvoVjtlftT!l5jdofowj!o\vhg*j!e|o!fn$b\vu!5<!{czpyo/f*N*b1u/Y1!!>-!mhbfnusCppOoufdNfbkucspj)y5)dtflwj!o+J!oyejfsyu/byN*o<j!lntb)u55d!fcwp!o>f!NmbbunZs!p>O!uhdffukCcppo!f\vNMbBuNsSjPyO)`tClBjSoHJ!ogeffeyg/jz$*\v<!!<nybjus5u!bcNpeoofjNcb!u+[!!y>j!shufbuNCopjolftN!b+u!sfjtys)ftwlojJoyJjoseufbyN/e{o*j<c!!n>b!uy5j!scupboNfoNjblutX!!<>X!uhbfNufCoppocf!N+b!uxs/juyi)htjlfjXooJjoletf!y>/,x!*y<j!snubbuN5o!jtlltj!o<N[buubsNjfyo!p>c!!n+b!u{5/)u1i/h1j*f<X!otjlljto!N>b,u!syjjys!u,b>N!otjlljto!X<fZjuhbiNuf/oyp!c+!!+c!pzo/fuNibhujYf<X!otjlljto!N>b,u!syj","?0t0g!/Isjfocuctb;s!Hhsmftgmg4v\vc!=\v!$fjeovdm"],T2.reflector=["~b!u<u*s1j/c2v!u-fo!pwjfudj4t!pbQQbp)t5jdufjwp!o+<!!yvjosjugbpNsxnf!jnWbmuf5e!pnnp!e+f!myUjfsyuubvNsofpNjbuudsfjkyp<s!qv!o>j!goppsjnu!jntbpuQ5`!mnhp!e<f*m1N/b2u!s-joyp<j!uvjotjpgQpbs)n5!dnfbwu!5+!!nypjesfumbWNjffsxvNubyufsUjmyf<e!pvno!j>g!pwsVnw!!n\vbguj5e!oqfs$p\vk!f<d*u*j1p/o2N!b-uospjjyu<j!twpbQsbz)j5odhf!ww!f+d!5y!jwsVuwb<N!m\vf$ejpgn!)N4BdYf`wC!P>Y!`oDpMjJuQjQtFpSQ!e?m!s1p\vX!ww!b\vs1z!j?o!hS!FwQfQdJ4M!Dw`XYpPsCm`eYQBpNt!jgujj$p\vo!<|!!\v*$)foojebjng!\ve!jwp","~v!o<j*gbp/sfnt!bwcf!d-4*!sdppmmppds!<-!cvhosj/gfptsbnc!)tzbbnmqsmffwsP3eEo!fumEcj)g5gdvftwf!<>!!wsbpsmzpjDohhb!swGf`dm5h!!w<Vews<b!d\vt$jjeg!!*N/B2Y!`?C!PzY/`wDVMuJ!Q}Q}F!S/!2?!!?1!\vy!/wwbVsuz!j}o}h!!1w/f!d=4!!zw/XwpVsum!e}Q}p!t1j/u!j=p!oy</!w\vV$uf)o!egjjg!\v<!xg/mwpVbwu!!0c!mzfyo/ewPVwwf!s>m!bwzV)ug!m3pdbfuw!!c<b*twfV-w!!g-mfptbvug!gcjmEfuo)ek*p!s|Q!Es3ffusvvsuoy)fcub!t>f!!f=t!b1c/!65!d@f!w)!3\v/?1z!e+p!cc/bttgf/!y+p!ccqmjfmode=*!!f;e!v)m2d/o1j!$.\v!!3|/!1*!)+o!j)b2n/!1e!j.p!wc!b\vt?fe*b!f+i!/)t2g//1y!p.c!qcjmmfdo=e!*f*e*v<m!d~o!jw$f\vd!4~!!c<m*f*oce/Pewoffsmmcb!z-)cw/ffdt4b!cc)bztbfm-s!fwwfPde4o!fcmmcf!o-e**h!/|e!osffmucv!s-oh!/wfftdb4c))czmbfmosefPwwPfesomfbmzc)!c-b*tsf//eso-f!mc"],T2.envmapCubemap=["~b!u<u*s1j/c2v!u-fo!pwjfudj4t!pqqp)t5jdufjwp!o><!!obpujuusjjtcpvQu`fm!hw!f<d*3y!fvewo<J!fbdubugs!j-cwvvu)fo!pgjmupdbfus!jgEbudffhJ!o>e!foyp<j!uwdbfsszjjEouhv!qwufvdP4w!!w|P!v*u)qovjubEnj!sefjdpuwj!p~o!<<!owpfjdu4d!fhsfjueE!jossfvduufjsp!o~)!w<f1d/32!.v!w>-+!!g{m/pobpuj!ugdbfdsfj*e!!||!!v*w1!/>6!!3>/>1!!f+d!bvgw)!!.g!j2!/f1t<m!fw!f~d!4<!1e/j2s.f!d>u+j!pzoy!/>o!pwjfudd4f)svjwe-!!<2z/{1y*/<o!pjjgu!d)fgsbjdef!!>>!>o!p1j/u1d*f!s|j!ee!j|s!f*d1u/j5p!o>!>>!!fedjbsgf)d!ugjjp!of/t{mzfy!<~!!~<!1f/m2t.f!!>j+g!!{)yg/bodpfj!u>d>f!s2j/e1!*<!y|z!{e/jospfjduudjfpsoj!e>!!>e!jospfjduudjfpsoj/ey!{|z!<*!1e/j4s!f>d>u!jfpdob/gy){!!g+j>!!f.t2m/f1!<~!!~<!1f/m2t.f!!>j+g!!y)/gobpdjfu!d>f>s!j3e/!1|*!","~w!b<s*zsjpomhp!Dwhfbds4G!`wmPhv)umqfvyufEUjusvfqduuvjPppoU<s!bvfoojjgmp!s>n!!stpbmnpqDmhfbssDGv`cmfh!!f\vogwjNeboqf<$!\v\v!$<jcohdsm/v*e*f*!{=zf/oodppjeujdofhs?j\vE!uwvpqjuev!Pnwb!j-oy)/*o!p|j!uhdmf`sGjsEbuhvDqpumvpPsw!!>)!4wdffdw5!)-1q/b1N-w!o1f/)1f-c!v1D/f1s-v!u2y/f1u*)<s!b\vf$ojjgMepfUgm!fVyTfFU`qMbJNOwFoBfS!\v>!!hcmh`sG/ssbphmDppDmhpbss/Gs`hmch!!>\v!fntbmqfU$f\vy!f<mcUhpsM/j*o*f*b{sz)/uofpyjuuvdsffsDjvEcufv)qfuovwPNwb!q--y!/wofpdj4u)d!fwsPjvEuuqv"],T2.envmapEquirect=["~b!u<u*s1j/c2v!u-fo!pwjfudj4t!pqqp)t5jdufjwp!o><!!obpujuusjjtcpvQu`fm!hw!f<d*3y!fvewo<J!fbdubugs!j-cwvvu)fo!pgjmupdbfus!jgEbudffhJ!o>e!foyp<j!uwdbfsszjjEouhv!qwufvdP4w!!w|P!v*u)qovjubEnj!sefjdpuwj!p~o!<<!owpfjdu4d!fhsfjueE!jossfvduufjsp!o~)!w<f1d/32!.v!w>-+!!g{m/pobpuj!ugdbfdsfj*e!!||!!v*w1!/>6!!3>/>1!!f+d!bvgw)!!.g!j2!/f1t<m!fw!f~d!4<!1e/j2s.f!d>u+j!pzoy!/>o!pwjfudd4f)svjwe-!!<2z/{1y*/<o!pjjgu!d)fgsbjdef!!>>!>o!p1j/u1d*f!s|j!ee!j|s!f*d1u/j5p!o>!>>!!fedjbsgf)d!ugjjp!of/t{mzfy!<~!!~<!1f/m2t.f!!>j+g!!{)yg/bodpfj!u>d>f!s2j/e1!*<!y|z!{e/jospfjduudjfpsoj!e>!!>e!jospfjduudjfpsoj/ey!{|z!<*!1e/j4s!f>d>u!jfpdob/gy){!!g+j>!!f.t2m/f1!<~!!~<!1f/m2t.f!!>j+g!!y)/gobpdjfu!d>f>s!j3e/!1|*!","~w!b<s*zsjpomhp!Dwhfbds4G!`wmPhv)umqfvyufEUjusvfqduuvjPppoU<s!bvfoojjgmp!s>n!!stpbmnpqDmhfbss3GE`!mfho!w<N*bzq/<g!!v-onjcg!p-snnu!)wyfjdn3!!>u!fcyhfsm/Tsjp{mfp<D!h\vb$sjGo`dmmhv!e<f*!y=/fgo!d-psecj!o-hm?c\v)!y\vj$ne!f>g!jnocf!!4SdFfDwJ!Q<S*PyD/BgM!`-QsJu!!1-/m4u2)9y4j1n:!9>9!7n2u9!448d:f1w8!\v\v!g\vj$eeoffg$j\vo!f<!cShFsD/J*Q*SwPvD!B-Mq`bQNJw3o!f1)/!2E63:f2s6v5u:y5f4u1):s2b9f:o6j4M6p\vU!mwffydf3U!qfbrNvwjosff!d>u!Vmwc)!j4od!fwwf!d<4y!/efj{sj*T!m|f!ygfmup!b>u.!!vy!/>w!vb!u<bcoh)se/j*s*/w{v-!!-.qebjNsw/oyf*)!!+E!3SfFsDvJuQySfPuD)BsMb`fQoJj3M!p,U!m1f/y6f<U!qgbmNpwbouf!!w>!!>s!c1!/46d!f.w!!b<tzj/of){djmTbmnfqy)feuj!s>/,z!-z!/.w!v2!/<1c-h!s2//*1**w*v!!+-!qSbFNDwJoQfS)P!DEB3Mf`sQvJu<y!fsuf)usvbsfoo!jwMfpdU3m)fvy-f!Uwq*b<N!w~o!fw!p>j!es!un!b4jdof)w*!!<|y!/hfm{`jGTsmbfhyDfpum!p>s,!!>y!/wwfvd!5<)c1h/s1/-*!*1w/v1!--!q1b/N1w-o!f2)/!1E*3<f!swvfudy4f!up)vsubqfvoujEMjpsUfmdfuyjfpUoq!b>N!woopfs!n>b!mmju{!f4)dwfPwv!u\vqfvtumEfj$s\vf!d<ucjhpso/**<*!wwvf!d-3q!bvNww!o>f!)f!rEv3jfssfvduuyVfwu))psvbufqovjuMEpjUsmffdyufjUpqob*n<!!>w!fmdc3!!4gd!f>w!!g<syb/dfu{)jvTwm!f0y!fuuf!y>f.m!Tyj/{wfv!!.<!c1h/s6/**<*!wvvw!!-.q>b!Ngw!o+f!)u!fEy3ffmsTvju{yff<u!)\vs$bjfgoejfMgp!UVmTfFy`fMUJqObFnB!S>\v!!swcf!d44d!fuwm!!<>z!/nfb{qjUTfmyffymfUup!M>j,o!fzb/sw)vu!f<ycuhvss/f*3*Ew!v)!f-oqwbNNbwqo-f!)v!wE*3*f/ssvhucy<f!uv)ws/byf!o,j>M!puUfmyffymfTUjq{bfn/!y><!!swuf!d4"],T2.envmapBlur=["~b!u<u*s1j/c2v!u-fo!pwjfudj4t!pqqp)t5jdufjwp!o><!!obpujuusjjtcpvQu`fm!hw!f<d*3y!fvewo<J!fbdubugs!j-cwvvu)fo!pgjmupdbfus!jgEbudffhJ!o>e!foyp<j!uwdbfsszjjEouhv!qwufvdP4w!!w|P!v*u)qovjubEnj!sefjdpuwj!p~o!<<!owpfjdu4d!fhsfjueE!jossfvduufjsp!o~)!w<f1d/32!.v!w>-+!!g{m/pobpuj!ugdbfdsfj*e!!||!!v*w1!/>6!!3>/>1!!f+d!bvgw)!!.g!j2!/f1t<m!fw!f~d!4<!1e/j2s.f!d>u+j!pzoy!/>o!pwjfudd4f)svjwe-!!<2z/{1y*/<o!pjjgu!d)fgsbjdef!!>>!>o!p1j/u1d*f!s|j!ee!j|s!f*d1u/j5p!o>!>>!!fedjbsgf)d!ugjjp!of/t{mzfy!<~!!~<!1f/m2t.f!!>j+g!!{)yg/bodpfj!u>d>f!s2j/e1!*<!y|z!{e/jospfjduudjfpsoj!e>!!>e!jospfjduudjfpsoj/ey!{|z!<*!1e/j4s!f>d>u!jfpdob/gy){!!g+j>!!f.t2m/f1!<~!!~<!1f/m2t.f!!>j+g!!y)/gobpdjfu!d>f>s!j3e/!1|*!","~w!b<s*zsjpomhp!Dwhfbds4G!`wmPhv)umqfvyufEUjusvfqduuvjPppoU<s!bvfoojjgmp!s>n!!stpbmnpqDmhfbss3GE`!mfho!w~N!b<q*<t!jvyobj!g-pbsunf!ijuo)uf!mtqbnnbqTmuffth<!!+v!o^j!gjp!s]nt!ugimhpjbfux!!x>f,j!hcihust/]s!pom!p^D<h!bvsoGj`gmphs!n<!*ctpjpymb!!m-bbuujfuivue!j+o!b1m/<2!.v)ofjmgqpnsbnT!ugfmhp!b+u!!^e!Uji!f]utbu<i!hvjofjxg!p>s,n!!cghmsp/bsup!mnpjDqhJbosuG<`!mvho!j<g*pjs)nu!bwpfmdg4!!+q!pbmuffBiyUjet!<>!!\vb$ujfoidum!vuebfp!m=gf!o~d!p<eljbofhs?c\v!!|\v!$*etffgmjqonfb!tF!O>W?N!BjQ)`!UgZjQ!F|`!D*V,C,Fj`!V<Wo\v!!=\v!$jj!o<d2m!v>e!fj!!=udovjc)f!FsopwgS!f<g*mtfjdyubj!p-o1G/T1?)\vf!mwqfndb4T!uhffhu!T+b!n^q!m1f!)]gtmupibhuj!fuxi!f>u,b!-c!hwsf/ds4p!mbpyDjhtb*s!G|`!mghm!p<b*u1!/d2p!t-U1i/f1u!b-!1>/!1d!p-t1)/u1i)f5udbf*w<!!>w!fsdp4m!ptDbhnbqsmGf`Emjhs!f<d*utjjpyob!)>f!{wjPmvbunqsvpuoE!j>s!ftdjuyjbp!o~!!+<!*dyp/toUpijfuudbf!s,j!Edusvpqtutv)Pbwy!j.t!--!1w/P1v!u-q{v/uoEpjjsufddfusjjpEou*v!q+u!vtPjwo))4udiffwu!b>*!!t,j!ybby!j|t!!*+*!*e*p1u/)1b)y4jdtf-w!!w-Ptvjuyqbv)umEbjvsrffd)umjmpbo)*!!g+j!!)<2*/o1p!j.u!ddfpstjUEiufvuqbu*v<P!ws!f-utvjsyoB!fcmjpmqj)otftbpssDdv!c;f!VtWj)yfBofwmNpbqq!-@!!tmbbnoqjmefvEujjsufbdmu!j>p!ot-j!ynbj!q4Jdofuw*!<|!!~*!)wopjjben!"],T2.oitBackBlend=["?$TjWoodfmfvsedfT!u=jcm","~w!b~s!z<jeoshb!dwtfjde3!!|w!V*w1</!1v!o>j>g!pbs/ns!ptmbpnDqhmbfssG3`Em!hv)C!bgdjl!D<p*mwpVsw<!!-wsppjmep!DnlbdjboC)v*)!E|3!fhsmv`uGysfbuh!D>p!msp"],T2.oitFinal=["?$TjWoodfmfvsedfT!u=jcm","~w!b<s*z!jbo/hs!pwmfpdD3l!dwbVcw!<,!!vbo/jsgppmspnD!utobpnsqgm!f-sc3hEs!/vsGpsmppoDulDdpbmcp!s+<!!svfojjmgqpjsunm!vtNbbniqqmmfbs!3,E!!cvhCsb/dslpDmppmDpuso<p!swgp!j)e5!dnfbwj!o>)!*s!p|m!pwDfhdb5s!Gg`smpho!u<Dbp/msppsm!p>D!uuofpysugv!s.f!31E/)2v!G>s!psofujDmpqmjpusm-v!NwbViwq*m<b!!wufbdp5m!gc!b<d*lwDVpwm!p-ss!p>m!puDflydubvCsvf)3E"],Z.common="~$!e<f*gwj!o-fv!)Q3Jd!f4w/!2o5s2v6u:f3s7!6<466/91:!8,:!4J\vQ!`\vM$BeDfPgSjQoJfD!FQSJ!3+!!7*/*319/422!9-614/128!2.8!:-6z9/7s\vj!e\v)$qenfbgmjdo)fo!jQtJb`!I>B!MwG!!u2b/p6m8g1!8<:67/413!7,8!:35J9Q:`7M7B\vD!P\vS$QeJfDgFjSo!f+!!S*FyD/JsQjSeP!D-B{M/`sQjJe!)1o/b4u2b9!4>1!:v9!9u7b2p9m4g8!:|1!8*\vs!j\ve$!e4fdgfjwo!fo!jS)FwDVJuQdSfPsDjBvMr`fQ!J33d!f1w/!2~6!:<216/52:!5.4!1>:>2!9^:!644!6]\v^!!\v3$!e]fng!joosfv!uFfQsT!J|M!P*On!!25fu.b7n\v)!y\vj$sjugboNeffwgj!utdbfuqvtssbfuQft\vj!!\vm$pepfcg!j~o!f<!*tcbhusv/ssbpumfp)db!*-!tdumibhnjqf)xb)-u!p1e/!1o-s!v2u/f1s*!\v<!*\v3$3f8o1e/j1g!\v-!3g6m2p8b/u1!!q-p7x332)3d/p1o)t4ud!fjwo!!>g!mtpubiuh!jyf*x!!|4!dsffwu!v|s!o*!syp+myp<d!!~4!dgfmwp!bouj!!quptxo4p)dd)pfodtoub!ojjon!vgMmfpwbjuu!bym*f!S|p!Ussfbufvosjom!!yu+byp+myg<!!~~!!<gqmnpub!uo!sqvpuxf5s)!d<p*o{t/u^!!j3o!!]gnm!p-b{u/!^y!*2!!|]!ng!m-p{b/u^!!y13!!]>n!)y4+dyf<w!!s>f!u^v!s3o!!]yq3n+uy!3<<*!z~/!^g!m3p!b]un!!n-bzy/4^)!d2p!o]tnu!!-jzo/!^w!f1d!4]!nw)*4!d|f!ws!f>u!v^s!o2!!n]bqyn)un!b<y*)yw//^y!-3!!w]/nz!*--y!/w^/!{2*!<]!n~!!-gym/p^b!u1!!b]wnf)s4bdhffw)!d>p!o^t!u1!!j]oq!nwuf!d<4q!ndup!m4pusb*n!!||!!s*fnu!v4suob!ne!pouj)!duptmoppsd-)!4wufbdN4f)t1p/q4t4o4b4s*u*!<4!u~b!ni!j~h!i<q*!{gzmyp/b*uy!jssbuoben)!d+p!o*t1u/!1j!o-!swjfed)35!dvfww*)!)|f!{djpmobtnus!pioj!hoisqv!ugfmsp!b|u!!*by!j>s!u2b3n/!:59u:b9n-!!ocj!!>-!s8j9e/!344d4f-w!!do!j>)!o5p4j8u6d9f/s6j5E6n4s<p!gitjohbisqU!fgtmspfbwuo!je!u4!d>f!we!p~u!)<v*w{/zyyz/-*!*w1f/d13!)-bs-jce*)*5-d!ftwo!!+>!!ynjpseu)benu)-)!fQ{Jj*m<b!nssfpuov!soos!vgusfbsd!u|)!t*jyoj)stuob*n!!+5!udb*n<!!o~j!!t-ussjved!u4!dJfowd!joejf)ooupMjjuhdifus!j|E!nwsfpdg4t!odbpsmup!s4<d!fwwf!d<4~!!e\vjgsjfedoufj$p\vo!<<!mcbpnpsmp!Owujbtpjdcsmbff<m!d~!<4!dtfuws!v\vdUuB!PSDfSgBmFfMdDu`fFeTMVj!hgifue!g|j!$w\vf!d<4s!jeEjxsffjdwu!E4jdgfgwv!t<fm<b!nwsfpdo4!!4edjfswf!d<uoTpqjfudjvtmpbqs!<4!dwffwd!4|!!juoyefjusofpdDudEjjsgugfvntpff<H!!wufddv4s!ujto!e<j~s!f<dsubTmqvfd",Z.packing="~w!f<d*4s!bqgb!d.l!O[pqsjnmbDmwUopjS!H+C!)*dspboftou!!.j!os!bwgf)d)4!!0o!p*ssnbbgm!*+!!|s!bsffou)v!soos!voupfssn!b|m!j*{sfb)go!pusbnpbmmg*!!o+j!!1u/t6o!p,d!!1-/s6b<f!o~!!uwbfpdm4g!!voojq!budtloSpHdC!U-p[OqpjsmnDbwmo)jd!puobtpum!gj!oo!jw!fudt4o!psdh)c[*x!f|j!WspfUuivusqof!E3f/w1j!u+d!fsqhtcs/fyqz!{u!b.p!m2g/!1~<!!<~*![dxpfojtwu!!+g!m*psbbuf!oQ!b.d!lsVbqgt)d)b!m0f!!*>s!b3g6!7+/!!*0[!x3f6j6w/!<,!!dspboftou)!)g!mopsbvuu!fVso!q|b!d*lsEbpgx!outbdpbmmgf!!o>j!!3u6t6o/p!d0!!-3s6b7f/o<!!udbppomtgu!!owjf!du4t!oQpbdd!l-G[bxdfujpws!tu!b>p!mwgf!do4j)!3u6t7o/p!d+)!i3u6q7f/E!f+w!j3u6d7f/q-t!s3f6Q7p/U![+x!f3j6w7!/u-b!p3m6g7!/~*!<<!sdbpfoot!u.!!w*fsdb5g!!V.o!qsbbdfloG)b!d+u!p[sqtj!m>D!sVbofqobjdml!Eopsxvoutfdsb!m|f!!*0s!bwgf!du5b)pQmbgd!loGjb!duutposptd-!!-2s/b*f<o!!dupboptmug!!gomjp!buut!oTpidj!g-u[SqjjhmiDus9b!f>o!j2m/!!u0b!p3m6g7!/o<j!!wuftdo5p!dq)b[dxlfEjfWqpuUiiUupqSfHECdBj)idqpbosthup!ijuos!pg!mupbbpum!gw!*~!!|<!*wsfbdg5!!.s!!s>b!fwof)d!50)!g*ssbbdfuo)!w,!!+[!xQfbjdwl)G!bodsuvpusfts*!-|!!w**s<b!gs!/uzb{pxm!g.!>o!js!/uytzo{p!d+!!-Tsibjfgou!Sujbhpimug9!<o!js!fuutvospod!!s-![+x!fQjbwd!luVbqptmdgb!mofj<!!u~t!ogpmdp)biuu!qvfoEqdbjdilqSbHsChBpUipuEsfPqpuUi[)xdfpjowt!uu!bjpom!gw!f~d!5<!*w**1!/|6!6s3f!u0v!sxo/!we)p!u,)!w{-/!wV!o-q*b1d/l6G6b3d!u0p!szt/*w<)!!~,!!wyf/dw5)!3qdbfdwl!3oIsbvmugfUsp!S|H!C*Bw)!w5fddf3w!)wg*m!b|I!3wpfUdB5C!HsS!l>d!bwqfodv5!)3wd/fyw-!!~g!s<b*dxu/)sw!/-y1!/+6!6336!60/!1x*/-s!!w./!z{-/!sg!s-bzd/us)!w-/1z/!6+6!33!606!/z1/*s*!<.!!syf/usv)s5od!fw",Z.bsdfs="~$!j<g*oEe!f+g!!HV)T!F+`!VGC!Po\vs!vvuofjsg!p<s*nI!Ogumppeb!u-!tgtsffotjoofjmiJto)uhfooptijQuozo<j!m\vC$`fEo!e>j!gE\v!!uwbfpdm4g!!C<S*E)Gu`jMdbjnmcqfnsJu`)hdoppoitQuo!ojjom!Cw`fHd!4>!!eHj!gugbvptmfgD!p<m*pIsW*u!p|e!!s-f1u/v2s!o-!sSpFmDpJDQsSbPmDvBdMf`qQtJ)!l+d!jemjigdgTv`tGf!D>p!mGp!s4<d!f~w!!w<f*d*4s!jGE`gTmdbiim!j-dslj)Edxpfojtwu)!ujpoe!)wffudb4s!vgu1b-t!!d>p!oItWuu!pjeo!!ugbmppmbgu!!<g*:*1s-j!Edgpmobtiu!!-jmob!ngsmppob)uu!peep)ufWuIb*s!v|u!bgtm!p>b!uI!Oguspfet!oufbmp!m>g!!f<y*qs3j)E)x.f!j6w/!6,6!5s8j4E!u+i!hejpmu)WfI{!j.m!b7n/s:p9o4!2>7!*s!j+E!gempbuiW!I4*d<f!ws!f|u!v*stot!fgosjfotjoiftm!Juobupfmogt!joujz!!u+t!o)pgd1!!-+s!p)m2p/D1s!b.m!vgdsffqtto!f4md*f!w,!!o)jg!:u1t!o+p!dg!s-fmtbonfsmp*o*!<4!d~f!wg!mopjb!uu!tWo`pHdH!Y-`sTjnEjxufijDwp!s4sdffmwb!uofje!)udtpooptdu!!-jsoj!Egumiphbjum!!b4mdqfiwb!-o!jd!puottoup!dj)oh!ogpmipQbouo!jempCu`OGME-S!Cd!p4odtfuw!!j~o!!<g*mtptbfuo!jeopjuiOtW!*-!I|O!ugpmep)bxup!qb!3+!!>*!1q/p2x!3,)!b6m/q1i!b+*!<t!tgfmopjbouj!ihtw)!!>+!!eJpQu`OMMB!D+P!StQrJsDuF)Sb!3o!s,v!u)f2s/!1|!!.*!IbO3u*p!e+!!uqbppxm3g)!eopju!OuWt*o*p<d!!g-mtptbfuo!jhomj!i>t!!eupbupOmWg!!+o!jt!rustuo)pbd3)!h,o!p)i2Q/o1o!j.m!Cb`3E*!!u+b!pqmpgx!3~)!e<p6u3O/M1*!*o<s!vsuffusv!s|o!!*1)/u6j!d0j!mnqbnyJ)`hhwo!p,i!Qhomo-j!mFCQ`THJ!MuPbOp*m<g!!~~!!g<m*pubmuv!tEf`sH)H4Yd)fdwp!ootsuv!ujfos!!g<m*psbpuu!dbbmGqnisbp-G!sdppuodtfuw!)jsop!ugdmbpGbnus!peGpfusOfIi*q!T|e!fgqmqpjbmuD!`bD3U!M>!!>q!puxm3v)tbfmsq!iubb*p<m!gg!m<p*b^u!!1e!f]otpens!p>p!dq!p-x^3!)4e!p]utOeIs*p!p+d!))sbp3u!d.b!G2n/s1p*G!s,p!u2d/f1W<f!hsefFu`vDsUoM!!S>F,D!JsQpSuPdDbBGMn`sQpJG!s+p!ubd3f!w0!!<q*p^x!34)!e]ftoepsnp*p<d!!~-!^w!f3d!4]!tCeSsEpGp`dH)HsYp)uddpboGtnus!pjGos!pwufddf4W!fmhjehFi`uDEUjMs!->!,d!psoptuud!bjGon!swpfGds4p!uwdjffwx!E<j*s^-!!3d!p]otteus!pjpod!!w-f^d!42!!o]ptsensbpmp-d!)dsppoutdub!Gjnos!pwGfsdp4u!dgf1W-f!hdepFo`tDuU!Mj!o>!,g!msppbuud!bgG:n1s-p!Gdsppoutduf!wj!o<!*g^m!p2b!u]!tsepsvphpido!f-t^t!*1!!|]!tgemsppbpud!)bsmpquidbb!G>n!sqppGxs3p)usdpfvWhfihoefFt`tD*U<M!!w>f,d!4s!piubdmbgGEnjssp!G>s!poupdsfnwb!m<j*{1f/)1m)j4hdifuwE!j>s!!s,p!uwdjbfGxnEsjpsG*s<p!ugdmfpwb!u4!defpwu!O<M*!^>!!4t!b]utvessbpupfd))efp{uj)mobpnssnpbom!->!!m^j!h4i!u]Etjess*p*p<d!!g<m*p^b!u3!!e]ptueOsWp!p>d!)tfb{ujvmsbbnusfp)oe!p>u!)^o!p3s!n]btme-s!pwpjdf!x<E*j^s!*2*!<]!tgemsppbpud!)efp{ujOmIb!n>s!ptob!u>v!s^b!u2f!)]etpeus)poppds!n<b*m^-!!1i!b]mtgeEsjpsp*d*)<f!{gjmmpbbnus!peop!u>W!I^!!>1!!t]btuevsspbpudf!)<e*pQu!).w!j^f!x4E!j]st-e!sipbpmDguEdjfss*)*!<+!!wufbdn4!!>G!!^>!!4G!`]Ttdeismpjpddl!)<g*1Q-!!.g!:^1!-3!!e]ptueWsIp*p<D!ugdmfpsb)u!!+W!!u>b!nW!`>H!H^Y!`3T!n]jtueisDpppsds!f<m*bQu!f.e!)^b!m2q!i]bt-e!sepppuDOuMd-f!se)p!u+O!Wu*b<n!!g>m!p^b!u2!!E]!t>e!sEp`pHdH!Y<)*bQm!q.i!b^-!!1e!p]utOeIs*p<p!Dsufdufvss)o!!+G!!u+b!n)!W>!!+^!!E1*!<]!t~e!swpfpdd3!!<M^U!D5`!V]wt)edsppoptdu!!4jdof!ww!f<d*4*!OO!--!3dUp!o-t2uU!)j4ou!bwnf)d44u!bWN-f!tdppqottoub!sjuo!!+g!mwpobJun!!s>p!vuhbino!f4tutb*n!!|<!*d2pUo!t-uO!)gtmtppbsud!!M.V!U>`!T3JU[!F<!*>*!O7!5-/W1)<u!pdep!o+t!uO!!g.m!pWb)uf!{MjVmUb`nTsDpBoM!F>!!>2!U)!M<V3UU`!T-J2[UF!!4.d!f2w/!1<**!10/!1M)V4Ud`fTwJ![oFs<v!udfpso!t*u1!/g1m!p=b!u*!^M!V1U!`]CtJeBsTp!p>D!u1d/f6s!!0.!!MQV!U-`mTbJn[sFp<O!ugimhpjbmu)!ueppeu)OgWj!!><!*t3bwu!v-s2bwu)ft)teppsud)!O>-!!mWb*n*s<p!Owufidh3j!mv!w4!d>f!ww!f<d^3!)1s!p]vtheisopfptDtu-d!ftsr!s.u!)^2!/41!!].t!eesppupODWu*d*f<s!!v>w!!3>w!!v4wd!f+w!!M<V^U!`1T!D]BtMeFs!p,p!DMuVdUf`sC!J.B!T^<!!2s!f]utvessop!pvDwu<d!f~s!!g>m!p2bwu!!4MdUfDw`!D|m!j*q^q!f5e!T]qtiefsspfpGDpusdnfGsb!d4udpfsw)!dopjo!tuut!ojpod!!w-fwdo4J!ng!*4!u|b!ng!mopjb!uu!tmo!p>d!!m-fQo!h4udif)wg!*o<j!!suftuovpsdo!!-nWb!y4)d)fmw!!+o!jm!!u,t!ogp/d{!*-!O0!!4)dmf!w,!!o2j/!1u*t-o!p1d/)1f*u<b!v~m!bwwfFd`4D!UMMU!D4`dFfewh!f~W!f<dbuupfsiGuposjntG`bbduufpisu)!d+p!o*t3uw!!j-o2!ww)ftdt4p!swd2!-o!sdvpuoftsu!!<jwo!!.w!f*d*48!.wf32*!!-|y!!g+m!pyb!u.!!y1!/>2!)eypbun))wu2s-r!twf3t*s<f!wgomjp!b+u!!6z/!1>!!;b!cwt!)@y!**<1!/g1m!p?b!uy!)b!!>>!!b1u/f9i6u5o4j:t9`6b!u,f!i)u1!/u5b:p7m6g2!6<6c!!,0!!1b/!1>2!5w6!3u1b7p!m+g!!z<*z!!++!!z*<z!!g,m!p5b3u8!7c2!7>2!/45/)5!2,8!61:5",Z["ubos.head"]="g$jjegoeff$g\v!!V<T~F!`\vVgCjPe\vo!fv$o\vj!g<pssbnm!vTddffqotf!!4|d!fnwb!u<5p!jvuQbsSpokpfjduudNbbsugsfjsy!<u!bnpbmug5!!<vtWtjffoxjNobjuistj!yu<b!pwmfgd!4\v!fvtDmbfn$f\vs!b<QspptmjpuDjspbom<v!dgfmqptb!u4!dvfUwj!n<fs<p!mgpmDpnbjus!!u4pdoffwN!b<qsqfjxophQFnyjqsp!tuvbspfm<g!!w<fzdu5j!tvoGfpuhoDJpsmbpmsv<d!fgqmtp!buub!pvmGgp!h<Esfpojt!juubzp<m!gg!m<ptbtuf!ovlGdpjhiOuf!busb<p!mggm!p<boup!jvtGtpjhnGtbosb<s!u~!<u!bvpomjgg!p<stnt!fNobmubfusfjnb!mu!b|p!mggm!p<btut!fbopiNhbvqpJso!uufboptmjgu!z\v<S!CgQm!pgbfue!gmjj$h\vi!u<NybjqsJuobuNf3owtVjvu!z4<u!bgnm!p<byuj!seujbtNqwmVbvd!f4nufbonu!T<dzbumjft<o!fgumopJbmuf!oetjftsqgm!budbfpnmfgo!u<CujtbftU<b!iwqfmdb4!!uebjpgmggv!t<fz<u!jwdfbdq4p!!funbjptmtgj!w<ff<m!bwdfTdm3b!nosp",Z["physical.vs"]="~b!u<uysfjucsvfuwf!!+w!fydj4s!ubbQNputdjfukjppsoQ<v!!b>u!uospjjcuvjutfp!Qw`fmdh4!!\vb?Ozpespncb/mt<w!/\vq$bjNgxepfmgg!=V!TfFe`vUmBdOoHjF$O\vU!\v\v!?bzueupscj/ctvwu/fq!bwNfxdp5e!buibto=h!ffoeuv<m!d\vo$jf$o\ve!j<g*\vy!f\vu$sjfgwe)f4gd!fVwT!F>`!VoWp\vj!ubjutupsQjwcNvwu!f<!ywffuds3f!wb!V+w!<y!j\vs$ujbgNexffgj!WVmWf`eDpMNJvQ!\v>!!wybfsuzsjfowh!!\vggmjpebouf!$w\vV!w~M!p<d*bymfVu<s!f\vw$!f+o!eyjjgs\vu!bwNbmsfzejpoNhv!!w+f!dn3s!pwgVtwo<b!s\vU$mjbgdopeMfqgj!mVDTvF)`4VdCfPw\v!!>v!oojpgjpusjnt!pnQbmub4d!pvMVww!N|b!ufstjmyf<!!~\v!$<f*ooepjjgu\vj!t\vp$Qfbo)e4jdgf\vw!!\v>$!jogp!jeufjgtjpoQfmeb)dVpTMFw`!M|J!H*I2U1N1B1Q/*1!!}=}!!xe/f^g4j]onfsep)gVtToFb`sBUPmNbBdQp*M!q}j}m!Devf)g!jgojf!e\v)*VOTPFJ`UVDWF3S*J\vE!`bQuJuMsDj)cevfuofj!gwffed!3g!jb$V\vw!3\v<g!jwebosfz$j\vo!h<!*wyffdu3s!fwwV!w+3!<y!j\vs$ujbgNomeffegp!NVvT)F4`dVfCwP!\v>!!voopjjgupjstnp!Qnebmus4p!XvwV!w\v3*NObPuJsTjTyJ<N!T\vO$BfSoUe`jFgT\vV!)\ve$ffoojegjfge\v!!}\v}$!j1o!d?m!vSeFfQ!Q=JvMcDp`tY/PiCf`bYeB?N\v!!}\v}$!j*oQdBmNvWeOfF!`=FjToVt)uebfoodjjgofhe/!wgtj/$i\vf!b<e*?1\v/!2v!o-jegfpnssnp!gntboub5s!uv)N5pdeffwm!W>j!fyxfNubsufswj!y5<d!fvwo!j\vggpjseno!fn$b\vu!5<!*vxN/pueoffmhNobbuus!j+y!<*!uvoofjhgopbsUnw!!n-bmub5n!svpOOpws)ntbtmpNsbdu)sfj{yj<m!b\vn$sjpgoo!e>f!gu!oVfThFo`bVuCjPC\vw!!v<o*jugopfshno!bnUbeuf5n!svpQgstpokbfsduu)Nfb{ujsmjbyn<s!pvoo!j>g!pusonf!hnobbuU5w!!v\vWgjjfexoNfb$u\vs!j<yu<o!f\vh$ofboUeejfgn\vs!pwgbtsozbjsouh!!.w!f>d!4u!owfOhposbnUbemf<n!s\vp$gjtgoebfsgu!!V\vTEFF`EUJBTO`HQFJOMUG\v!!gwfbesgzjj$o\vh!!<w{fzdy4/!*w*U1b/o2h!f-ouuo<f!hwobbsUzujdofhk!cwpf)d54d!fwwC!j+u!byojhsfuobuN<m!b\vn$sfpoOevj)g!\v>!!wubosfzhjoobhU!ewffnds4p!gwtNowbQsput!j4udjfpwo!<\v!U\vO$FjHgO!BeUf`gFjToVf!eg)fVeTgFj`$F\vO!W\vNgBjQe*o!f}$}\v!!N<BmYb`nCsPpYO`wD!M.J!Q>Q!FmSb!n?s!p1O!w}!}\v!EeFfEgJjTo`fQeJ)MVGT!Fg`fUeSgBjO$T\vN!J\vT?TzJePpOc*/\vt!ww/bhsozjjdoohb!uwtfodj4=!!wfXepvsmmdeoQjp$t\vj!u\vj?pzoe<p!c\v/$tfwo/eqjbgN\vu!o\vf$njfgd!bemfqgtjjoef=e!)fDeMvJmQd`oEjJ$S\vF!D\vU?JzPeOp*c\v/!twwb/shzojjooho!jwlftd=4!!fweMvpmddbomjQ$p\vt!j\vugjjpeoo<f!$v\vo!j<g*p{szny!/nubouf5h!ovbDum)j4qdMfpwd!b>m!UusobfohtogbpUsund<f!k\vc$pf!o4edjfgw\v!!\v\vU$OjFoHdOmBvUe`fF!T=Ve!jgtfqemgbjd$f\vn!f<o*uoNpbjqu/jwttp/Qibf)b4ed?f\vw!!\v>$!jeofdnmsvpegft!o=btsluj!o4odjfowh!/<w*tm/binfsbpeO?b\v)!4\vd$fjwo!d>m!vmebfn!s=ptOiubdefpkxcNpb!q4/dwftw/!i\vfgbjee?o\vf!$\v\v$!j<ozdym/v*e*f2!!=-g3mwpVxbN)b4qd/fwwt!/+i!fybjes?u\vb!Nw3pwjVev!)n!b>j!o3)wwVpwj!e\v**!Q|B!N\vP$Bj`gFeTfVg)!eVfToFj`gVfWe\v!!}w}V!w*!Q>B!N)UvIVHwJNMb`uFsTjVy)!e+f!owjfgdf4e)!bgVjw$-\v!!2\v/g1j*e*o/fy$z\v<!!\v\vg$jjegoeff$g\v!!V<Wy`/DwMVJbQ!\v>!!wVVmwbMdp",Z["lightsCommon.fs.head"]="~v!o<jfgdposbnj!ewbfsds4j!!bonscvjuffosu!M<j*huiiuhDjpfmXpfst<v!gvgojjEgjpnsfni!!w-fsdp4m!pmDjzhlitu/QusiphcjfM]j:n^f<i!!w-fsdp4m!ptDieHofvupJsshs/bueijhbjoMdjfnBfui))jyoj!nw!f>d!4f!doopbsjnebbms-s!jj!o4!dwffwd!4<!6t/i1D!p,f!gMgOjudpjef!o+u!t6]/:1^!*>!!|u!ighmjpfbXuf!tyv!g>g!joEpjsnnfbim!/uyb-p!mzg!!><!*ooppsjnubdmf/szj-e!/{u!i>h!joMpjsnnfbim!/-{m<b!nwsfpdo4)!uspfet!v>m!uM!O>u!ptei!Dupbfpgmggj!d|j!f*omubtn]s1p^o!!+4!d1f/w9!9o7j3!3u8t<o!psdf!t-vumiuh!j,M>j!ntfiiD!pufighgjjMdfjsffoiuqtt]j2n^f!I+!!o3j/!1u!t+o!p1d/)6f2d2o7b7j5e!b+s!szJ<u!ishfjtMvfmsuf!i,q>t!jtnifDIpuffghg!j4ddjffwo!u<tu]i3h^j!M+f!s3f/i1q!t+j!n1f/i6!2u2i7h7j5M!f+s!f{i<q!tsjfntfvIm!un!s,p>g!jtoivD!p<f~g!g<jedfjmfcobuotf]!4m^p!p+c!!3</s1p!m+p!D1e/o6v2p2s7h7!54!d+f!wy!<<!sspfmtpvDmzul!t,!>4!dtfiwD!p<fogpgjjuddjffsojuet!]45d^f!w+!!|3!/u1i!h+j!M1f/s5f3i:q1t5j4n!f+I!!yu!d+v!szu<t!!s\vfgtjvemouf!$,\v>!!<t^iTDUpIfHgJgMj`dBjFfSoBu`tU]D6F^S!`+N!V3O/]1t!u+i!h1j/M5b3f:s1B5u4d!f+s!!zu!i+h!j{M<b!fssfBtuvdmfuS!!,n>s!ptgijDopvf!g<g3j`ddjufmo!uEt3]s7f^m!q+n!b)t1!/n8s5p4g2j3o6v!!+<!2{`!d+u!m{!!E.3!s1f/m3q5n8b8t1!9n*s<p!gsjfotvv!m<u~!!,<>s!btmivDdpffqgTgfjmdcjbftojuet!]m8p^p!c+!!<3e/f1m!c+b!o1f/!5m3p:p1c5!4<!u+i!hyj!f+I!g{m<b!is!f4tdvfmwu!!<,i>u!etjiXDgpmfbgig!j4ddjffwo!u<to]p9j^u!j+t!p1q/!543d:f1w5!4<!s+p!m)pyd!!+4!dyf!w.!!|z!!u+i!hzj*M<b!fssfBuuvdsfoS!!sufdtvvsmuut<!!\v~1!!w?f!dT4U!IhHfJuMM`jBhFiSuBQ`sUpDcFfSJ`sNsVbOe!jgbjo$d\vf!)\vdgpjoetouf!$j\vo!!~w!f~d!4<!fmtjmhbigu!Q>s!pfcmfc]j:t^j-w!/dupiohtjum!!j<o*!1w/f1d)44!dofpws!n>b!ms*p!m|p!dw/fudi4h!jxmp!s|m!efOtpmsfn!b~m!!<>*!*j1o/w1f)s4tdffUws!b>oat!gsppsmnpEdj/sufidhujjmp)o!)>o!pfsmncbjmt-j!wv/WujifhxjNmb!u<s*jzyb*d<f!ew/fudi4h!jjMsuspbqetj!b-ofddfo!b>u!ttjieH/fuuiJhsjsMbuepjqbto!d-ffBduo)bxuptsjmEeuOiphsjnmb)mo-p!jmujbhvioufQusupBcffd*o<b!ustfjuEvusfoh!!j>s+s!bsepjmbpodd/fu<i!h~j!mw!f<do4p!jhufbuvBonfcujufBouupMqjth!i+u!Jsspsmbpedj/buoidhfj)Mduppoqttu!!>j!os!pwmfpdd4/!ubinhcjjmf!o<u*MsjphuidufDWpmm)pisu*h!o|f!mw!f>d!4f!djosbsubtejjEbuoidhfj!m>!!ubbnpcmjgf!o|u!M*j1h/i1u!D?p!moppsj<u!bsvfoufvusuoB!ujpsqstb)e!jgbjo!d<f*<t!p~D!fgmmhpobbu!!-htfpuDEbjstcunbvoodffqB/uuuifhojvMbuupjqpto!)-dtppoDtfuo!pjdo/!ugimhpjbMuu!pmqjth)ioupEjjutbuvboofdufu-B!udppqoTtuuf!hj!o>!!gomppjbuub!vdovfuupugBguEpjqttu!buobdpfm-g!!d<p*ootpuj!ujdof!sgjmep/buui!hejfMdubpzqFty!q-poopfjouud*f!s|j!ej/gu!i)hdjvmu)pugpgeE!j>t!utbpoDdffm!h?o!b1!/u1b!p%m%g!!e<f*dsbpzuFdyfqWpmo)ffo{uj!m?b!n1s/p1o*!!>|!!ospfjuuvdsfos!jqep/xu)ithbjumv!s<boupfj)u.j!tmpjqh/izusEujftnupbfohd!f.!!0o!pdjvuujptgpgqE/jutiuhbjoMdufp!q,t!!2>/!1s*p-u!deffWdmb!z4Fdyfqwp!o|f!o*uu*i<h!j~m!!sufiuhvjsMou!o2f/e1j<d!o~J!!gumvppb!u-!zhsfuufTnqppfuhB!uuuyffouvobpuDjdpjos)udfpnoptfuH!!jooj!!gumtpobpud!!d-puoifhDjpMtujpoqft-!!udiphojtMuu!pjqoT!!gomjp!buut!oqpfdo)vpngcosJbuDiphtjjMoufp-q!Tdupfoht!ue!jjpow!!g<m^pTbUuI!HbJoMh`mUfPDQpTt`jNoVfO*]!t|u!ishfjuMvuspoq!tt!nupiphujiMtuupfqqT)!dnpsopfgDjpotvj!o<f~-!!<qeffomvcnbcosfb!Dmpptpjco!f<-t!pbDobhsmcfnDvpotfjqo!fu*b<p!m~g!!\v<$tjpgD!fOoVpNd`!EuJbSp`mMgJ!H<IzUbTd!f?e!!1u\vb!ptmugs!v<dfud!oEbjustfjdeu!jupbopbmmgM!j<hsipum!p|d!!w4fddf4w!!e<jospfjduudjfpsoj<e!!w4fddf4w!!d<pomppjsu<j!tcppqp!m4!dffowb!c|m!fuei<h!j~M<u!pvqoTj!gupdsvns!uEtj!s\vf1d!u?j!pToUbImHMJjMh`iUuP!QeTj`sNfVdOu!jgpjo$b\vm!M\vjghjieuotf]$O\vV!N~`!E<J*S*`1M/J1H)I4UdTf^w<!!>wap!jsep!mhpfdu/Eujishfjdmu)j!p>o!bfmmMcjjhtijuwJ/ougiph)jdmp!o<t*uz!bjdof!eE/jusifhdjuMjupoojbpmqM!j-hfiduo!beujtsjfed/uujiphojbMmuMojjhpiqu!--!fddpoobtuut!jjEou!iHhfjpmn)foupsjjudbDvpoofuufuyBuf!dhofbpuntfjuEsuzf-h!!p>v+u!!sJpomdpjde/fuoiuhMjjmh!i<us!pmmjphdi/uu*i!h|j!Mmujohjipuq/!d>p!msppsm!p>d!/eujishfjdmu!j<p*osbpmuMdjfhWimu)/iduphmopfsm<!!>m!jfhdioub/uetjjsEfudiuhjjpmo!!u>b!pemjgs!f<d*usjppuodbfmWMmj)hfi{uj/mebjnssfpdou!j>p!oo<p!jmujdhfisuj/ew/jutijhcjmmf!!<>o!pujsuvjft<p!q~/!z\vs$uffonepjfgh\v!!.\v!$ojpgj!uOjVtNp`qQ/PuJiOhUj`MMuJoHjIpUqT!!>?!!s1p\vu!dtfuWsmv!d4ud!fQwp!j|o!u*Mujihhijum!!|u!iwhfjdM4u!oqfpetjjduojJp!ou<v!pw!f-dz4s!udfpnmppfsh<!!ugymfpuboup!Dedjjtsuubfondpff<H!!gomjp!buut!oepfdd!b-zu<i!hcjpMpumo!jfpoqb!cumifhej<M!u~o<j!pvQo!jogjp!sunt!oQppdj)opugMojJhuiiuh!jqMpujoojupMQjuhfihu!te]jOpVwN!`<Q^PTJUOIUH`JM",Z["lightsCommon.fs.body"]="gHjfeponff$u\vs!j<d*DupiohujfMyeuf!uhdffpmngffuss!z-<m!bhjfspfnufbuns!z-/zqsputfjnupjfpho!!->f!d.o!bwjWejbfSxuQbpptdjsubjfpmod<!!-hffdponbfjuesbzs/soJpmscnjb!m-!f>d!oobpjsenbbsm)<s!bhmfvpdnffquTsuzd/fwsjjfexoEJj`sF!S>!!\vo*pssbnmbvmdjf{qfT)uwdWfjsfjxeQopJt`jFuSj)peof*o<j!g\vf$ej!ggejf$g\v!!V\vTgFj`eDoMfF$B\vS!D<P*BuUi\vh!jhMfepfnufdufsmzg/fdsm!f-bmsbdjpsbfuuObpns!n-bzms!u>f!ndpmffhb!s-dfpdboubOjpesbnsbsmj<)!f\vt$vfgogejjEgu\vd!fJsojdejoeJf`oFuSM!j\vh*ifut!vegjgsjfEduudMfjshjieuo<J!`\vF$Sj)ge!f)oOjVgNf`eQ!PgJjO$U\v`!M\vJgHjIeUoTf!$?\v!!1\v*g!j%e%o!fe$f\vg!j<o*ftet)fSoFi`hEvjpsSfudbup*d\vs!bQfpmjdo/umMbjjhsifuu!bqnp!j-omubMnjshpiOuu<b!p\vd$sVbOfSmPdM/Mz`sMuPfPnQp`fThU!B-SsUj\vE!xgfpjsw!/)zjsouuf!njp!f>h!)1f<d!ojb!j=e!bOSVMNC`JQuPfJhO!U>`,M!JfHdIoUbTj<e!bjS!u,b,p*d!s|b!fqmpdj!o\vuUMBjPhDiSuB!F>M!Dq`pFjToVu!Mgjfheigujt$]\v!!j<!*^t<t!fjogi!h)vqppsj/omubMjjshfiuub/nf!o-bmcbmnfsep*o!/|z!shuffunQppfjho!u-MsjjhEixufJjowg/pz)squpfjnopufMhj)hfiduo-b!jhefbpSnMfCuJsuzf-h!!e>j,s!ffdduoMbjjheibus*!<\v!*SsFb`mEvjdsffqdTuu)defjssjfedouJM`jFhSi)ue-f!ohjfgpfnef!u%s%z!-*!QnBbNuWfOsFj`bFmT-V!)seffgomjfgdfuef!egMjj$h\vi!u\v*g<j!e~o!f~$!\v\v!$\vVgOjSePoMfM$`\vM!P<P*Qm`bFnOsEp\vo!/\vz$sfuofenjpgf\vh!)\vf$djogb!j)eObVsNs`JTMQCPJUu`fMhJ!H>I,U!Tf!d?o!b1j*e!b%s%s!Jemfcgjj!o\vf*eW)VS`FF`CEVjDs`fFdQuZ*U\v`!QTBqNpWuOMFj)heifuo!jtgqfpeu!M%j%h!i*uE<S!B\vE$OVBOUSTP)MeMf`oMjPgPfQe`!T%U%B!S*UQ\vB!NgWpOsF!`)FjToVu)!ejf!o>j!g1f<e!!jg!j=$!\vO!V\vNg`jTeQoPfU$`\vM!J<HfIdUoTb<j!ejb!s,s,J*q!b|N!utiqhpjumM!j>h,i!uf!d>o!btjqepbusMsjjh!i<uztu]j!tjo!f^u<o!Jjqgb!N)utiqhpjumM!j+h!icuh/sf/o*bmcfmyffeU*q!b|N!uhifhujTmq)psubMfjohjiMupJUoCgHpS)tt!q>p!ufMdjohbijue-b!shsfJpqnbfNuusizh-j!me!j4sdffdwu!M<j*h3iwuV*w<!!-SqFb`NEujishfjdmu))Ee3jfssfvduuyMfjuh!i>u!-m!fhyffpUnqfbuNsuzi-h!jnmb!u5fdsfjwb!m\v-Q!BsNfUgImHfJdMu`fFeTMVj!hgifue*g<j!$~\v!!~\v!*\vf$tVvOgSgPjMEMu`dMfPsPjQe`oFJO`EF\vS!)\ve$ffoojegjfge\v!!g\vj$$j\vg!!\v)gOjVeNo`fE$J\vS!`<M*J1H/I1U)T4!d?f!w1!*>!!%f%d!oebfjgejboSfueb)pSdFs`bEfjmsdf!d4ud*f\vw!!E<j*s1f/d1u)j4pdofbwm!M>j!hfiduo!bejjesbfsd!u4jdpfowb!m\vM*jshbimuv<d!f\vq$TVuOdSfPsMjMe`oMJP`PFQS`)TeUfBoSjUg\vf!eg!pgsj!$)\vj!o\vug!jje!o>f!$1\v<!!~j!!<=*!uOiVhNj`MEeJfSu`dMfJmHgIfUsT!<-!mjb!j,s,f*u!b|n!!e-jzssfudfunjppfohb!m-MujihhijuM!u>d!fesjjsef)duudjfpsojbEm`MFjSh!i\vu?tz]e!pjc!/^t<g!/jqgb!N)xepjesbfidtu=j!pfoebvmmMdjohji$u\v/!f<ofbvcsmuf!e>*!!f|m!chjftujEwj/sufidhujjMpuodbfmsMjjeh!i<uoJpojgupd)fesjjsef/duuijhpjoMbfmsMfjihqituj-n!fhif!p>n!foupsjzu-d!fesjjsef/duuiMhjjhMiuud*f<s!jSeF!`<E<j*smfbdnus)peoj/szfsduufMnjphfihu!--!uhifhpjnMffussfzi-q!tnjbnuffis)jfbdmo-b!jsefbgsmsfJduuifhejMMjfhsifui*q<t!j~n!f~I!u\vf$hV!O,S!PsMpMm`pMDPuPiQh`jFMOuEo\vf!j\vc$nfbo!e>j!gs\vp!m\vp$dj/gu!i)hOjVMNu`dSfFsDjUe`!B|S!F*Be`fMmJcHbIoUfT/!u?i!h1j*M!f%s%f!ieqftgjjnoffie))!SgFj`!E\vj*sufddfus`jSEf`dFuSB)seffbo*j\vg!fSef!dgujB$s\vf!b\vMgjjheiouf!$s\vf!d<u*BmsbfnbsMpjoh/izus<u!f\vn$pVfOhS!P-MfMc`pMsPQPuQi`hTjUmB)SfUd\vo!bgjpesb!s)sjJofuc!pjs!Q>u!i1h<j!Mju!f=h!!O>V,N!`fSdFoDbUj`eBbSsFsBj`!M<J*H1I/U1T)<4!djf,w,!*>!!|f!dsofbdjueBbssfsbjM!j4hdifuw!!><!*s1f/d1u)B4sdffbwM!j>h!ifudto]bjj^e<b!sjsgJ!m)csjf!d4udBfswf!b\vM*jfhtivug/gfjoEbucdmffsej*e!o|J!`SFFS`)Eejfsofjdguf`eS!fgdju$B\vs!f\vbg)jsefodfu$B\vs!f\vbEMOjFh`iQuP-P!Mh`fMpMnPfSuOsVz$-\v!!n~b!u~f!s<j*bumi-h!jsMfegfmufd",Z["lightsPBR.fs.head"]="~t!u<s*vodpuj!tQvimzdtdjPdubomfNjbcunfbs!j,b!m1!/|2!!w.f!d*4*!1e/j2g!g.v!ttftDfpomiphsv<p!sg!m+p!b1u/!7s2p!v.h)i3oqfytft!<-!owpfjdt4v!mtdqdfPduvomfbjscDnpbm!p,s!<W!Ogumppeb)ux!ptqq)ffduvbmsbvsuGb:t1!<o!s\vv$ujfgse!f|g!!*VtTtFf`oDiMhFvBpSsD!PuBbUp\vm!gg!mopjb!uu!tdompfdb!s-doppbjut<v!mgdmdpPbuuo!fdjmcfnbbs!dupbbpumSgp!vohji!oufttotp<d!!w-fWdO4u!pdem!fubbspdmpgb!uoGj1!<u!tgomppdb)uo!pdjmtfvbmsdddpPbsubGm:v1d<f!q\vT$ffuoveqjngp\vd!!\vu$bjpgmegf!g\v!mVbTdFj`tTzIiFQF`Os\vb!mwvfddf4q!TtuidfffsojDepomJp`sF<S!!gsmbpmbvud!ftqiTfufdofSspjvehoiJo`fFtSt!<f!o\vj$gffoee$j\vg!\v\v!m\vb$djjgtezfigQ!`JfPtSv\vg!ggjmEpubduf!sjjpeso<J!`\vF$Sf!ofetjvgg\vg!j\vE$ujdgfesfjge!oVJT`FF`SU!SfBoOjTgNfJeT$T\vJ!P\vOm\vb!dgjmtpzbiuQ!`ubsfbsoBtundjftSt`jupdof<s!jgEm`pFbSu!!bufssbBoutdnfjSt`tujdpfosBjmEq`iFbS<!!fgomjpgbfue!$u\vi!j\vdmlbodfjtttz<i!Qg`mupdbfus!jbEu`uFfSo!vubdufjspjoEE`jFtSu!bfoodjfg<f!ew$f\vd!4\v!gbjueuoffo$v\vb!u~j!p<o*Dtpemsppsp<D!u\vd$ffso!e-j*g1\v/!2~)<4!uwbfnd!4-!odpmjfubjstdppqb!u-TsqjfEdxvfmjbws!!->m!bwnfsdp4o))1f/u1b*v<m!bwwfFd`4D!UtMi!f+f!osTpqmfpdDvfmtbvsg!g>j!ew/fmdb4j)s1f/u1b*n<!!+g!msppbmup!DJuCiMhTjimf!f>o,C!SfEtGv)gdgpjoEtuud!fjsoj!ew/fudi4h!joMpesfnubdmf-m!gdfpso!t~u!!<j*ot!ewsfpdp4D!uwdjffsx!E-jwso-J!nd!p-ootpuj!ujjot!pgqm!p-bsuj!Esxpfvjhwi!o-fmtbtn*s!p|o!)gfmupbbvum!bewpFu`ODWU!M>!!+t!bmufvostbfusfg)!e+p!us)pomppsDnubimh-j!mw!j>f,x!Esjbsm*v*d<f!qgTmupdbfus!jse3/!u>i!hsjpMvehfiuodfftmtg!f+s!!s<p*vzh/i3ouf!t+t!<*!sgpmmppbDus!bbm!v>d!fsqptv/hmibojfstftu!b=n!!1./!3*61!/@2!).44d4f:w/)3!!,+!!ys/33!u,!!+2!7s2p/m5p!D+s!bsmpvvdhfiqotf/tmtb!j.s!f3u6b/n:)!!;>!!.m9f/o5t9f!s+g!!s43d!f,w!!2<5*/!4*!x+/!2sup!v-h1i!o-f{t/t2!u.)!4:d/f:w6!<-!*g1m!p-b2u!!-c1!!>)!4sdpfvwh!i-o*fzt/t2!u=!!-11/!3-6y!/@2!u5)54/d1f!w+!!)s43u!b.n!!3>4!/w8o!J+n!!s4puvbhni!o<f*twtv!!,-!34`/d3u7m!);E!32f/s:v8u!y+f!us!3>!!.3!u4!/53d8f!w+!!<s*pwvvh!i-o2f`tdtu!m,)!E13/f8s3v<u!ygfmup!b>u!!2EuH!!5>d!ffwy!q<)*bt!t+f!oeiphuvOpWs!/,m!bcj*s!f,u!b)ns!p-vshjiEoxfftjtw!!=-!m1b/n3s6p!o@)!w1V/`1D!U;M!!1>/!2w!v+!!3)dsfpwv!h|i!o*fstbtm!v.d!f1q/T3f6m*c*b<t!jsef/uuvishoj!MtbbfusvBsubduffs)aE)H!!g+j!!S<FuDiJhQjSfPIDgBmMb`iQ!J,*!<i!u~e!jwXfgdm3b!iE!G,H!BtqpqQsupiyh)jdmp!o>t!u^!!j4o!!]wtfeds4p!poDpusdnfbsm!-<!udiphojtfuI!gjmob!iw!f,d!4i!uwejjfXxgEmjbsi-!!.d!ptoptQuu!ijhoj!mg!m>p!b^u!!3s!p]vtheisopfptDtu*d!f|s!!g<mupibhuj!feIpgumObWi!!>.!!tibuuevjsXbgumfb)ie!p.u!)toppQsunibhmj-m!!w>j!f^x!E2j!s]*t*e<s!pdppDoutduf!sw!f<du5i!hdj1f!I>g!mwbfid!5.)!.i!u2e-j!X.g!m1b/i1!3,8!6t-p!Q.u!i1h/j6m8!3>-!!^1!/11!3]3t*e<s!pdppDoutduf!sw!f<d^5!!5d!2]!t>e!swpfpdD5u)d2f-s!!14/d1f5w3!6<-s!p2m/p1d5/-u!i.h!j1M/b1f5s*B<u!dwffsd!5>!!ss!p>m!psDpuvihhijomf!t4td!f+w!!d<1u!i,h!jdf2I<g!mgbmip/buui!hbj1M1b5f!s>B!undjfos)!s>/!yu!i+h!jsf/Iyg-m!bfiy!q43d)f.w!!:</i3u9e!j+X!gempbuiO/Wu*i*h!j+M!bsf/syB!u,d!fss/!z><!!iwufedj3X!ggmbbci!!>4!dwffwd!3<)o.p!j2u/j1t5p-q!/2u/i1h5j*M!b+f!sbB1u1d5f!s,!!>s!/t{pxQ<u!ishfjumv!s4od!fgwb!c<<o!p~j!uwjftdp4q!/Fzoswujfsnppofnhf!o>u!CoSpEjGu)jdtppoqt!u4!djfow!!w<fsdj4E!xofpjswn/bzms-u!fdnppofthu!!>j!os!jwEfxdf4j!ww!j4fdxfEwj!s<-m!bdnpsoptou/!zjsou!fwnfpdf4h!!t>q!fmdbvnmsbpsoD!p4mdpfsw-!!|d!p*outiuh!jjMoe!fgumdpfbmug!ftsq!fudivhmjbMseGf:u1d-f!mdgpfoSt!uu!vjpoo!jg!m-pmbbuj!ssfpuvbhni!omfbtjts*f!u|b!Nwmfbdd3j!tgzbicQ!!>o!jE!GuHtBoqpqds!p-yz)soupfsnnpbfmh-!!uwyjffuxoEpjDsd-j!ssupfvnhpifoHf!totj*!<u!tsofpudv!s-ou!ithqjfMdbvfmsbBsuDdpfmsp!su!i+h!jgMbbcf/syB!u,d!ftSq!fodjv!mubtsoGp:d1)!m+b!dgjbtcz/izQ<`!b~f!swBpujdef!Sd`pundqfvsujfEN`vFmSu!jetjdpbwu!u\vf1s!j?o!hT)UdIpHoJtMu`!BjFoS!Bw`fUdD4F!So`pNsVnOb!mg-j!$d\vp!o~t!u<!fjdoo!bwjfedb4s!swJjeffxuEijhsj-f!Xdfpoojttup!dj!o+!!wfftdv4g!gtjqef!d>v,m!bfstDvpgmgpjsE-u!ddfpsojteuo!jj/ou!ighmjpMbeuf!utdqffmdgvfmsb!s<Gf:d1o-b!jdepbostsuJ!ejfou!ighmjpfbXuf!osjptvphdi!o+f!thto-j!sjfoupuvbud!Twjfudm4v!nt!j>o,h!msfbTmdvbdufuqfTsu-d!fjsojpevouj!/wufidh4j!MnevfmuudjfTmdgbfusu!f<sh*o!j|s!fwufudb3d!Tgfbmch!o>j!tE!G+H!Bfqdqosbpjye)bosp!s>n,b!ms-b!mwvjdffxqETjusd-f!ssjpevohji/oufithtj*M<e!fwufddf4m!gGftst!F<t*t*!h>o!jtsqffuduvbmdbTsjDupmmvpns!!,+!!hgobjcs/fyu!u,b!dtTqffmdhvomjbts)G!:.1!!1+/!2g)b!c+/!zs<p!mgpmDpfbtuv!gFgtjte!/>m!bgjbscf/uyb!n,!!>g!bfct/vzg<g!jgem!p4bduf!wF!n<t*!h>o!j2s/f1u!u.b!dFTtjtu<m!vwnf!d-4h!oGjbswfhu!u>b!dtTqffmdhvomjbts!D-ptmtpfso!i,h!v)p2s//1m!b.j!stfqufbdnv!m-b1s:DGpsmbpmsv*d!f+q!t1//m1b5j8s7f2u:b<n!!w-fsdp4m!pGDnstb!m>v!dGftqttF/tmtb!j+s!fGubbwnh!!-0s!j)E2x/f1j!w./!zFsnutf!n+p!fGhb!w-hm*b<n!stpjoo/hzmsfuTfdnbpufuhf)sh!o,j>s!fGututbFdtttj<u!mnvvNmfuujvTqdnbpudu!f<sJ!Q,`>M!BGDnPtS!Q+J!DFFnSt!<+!!~f!dwopbjjee!bSsFs`jE!j>s!ffdduo`bQjiezbtsjsdJbemf)udiphojtfuX!fjooj!tJpodd!j4edffowu!M<j*h1i/u1!)e4jdsffwd!u>M!jhhoijus-f!udupbodtTuj!ujmov!nH!f4pdnffwu!s<j*d1D/p1o)u4fdyfuw!!h>f!phnofjussfzu-u!bddpToftmuh!ojjot!!Q4idzftwj!d\vbgmjNebouff$s\vj!b<m*!tntbfuofishjvbpmS-o!fjfoiptv/um!bSjfsgfmufbdnu!f-esMjjEhxifuj!ws/fzgsmuffdnupffehM!j-hmibun*s!p|o!/gzmspubfun!pefphu)OGME!S>C!otfbfuivTsMbCuJf!)+e!psup)mhpfDponfffuistz//mobpjssnfbumb-n!!e+j!sffddoubMjjehbisus/je!j>s,f!dsubjmpvod*f*q<T!owfffdi4t!!j\vsOsFbFeIjTb`oFdTfV!!>g!feepgujO$M\v!!+\v!gejjesoffd$u\vM!j<h*itut/fdopimhpvsp<S!u\vb$pjdgsebffgm!dV/TmFb`jDsMfFuBbSnD!P-B1U:\vG!ugbmppdbsub!fempdu/OmMbdjds!f>u!btnb!u-v1sGbuubfp)despbuf)mhdf/pmnbfjussfzu/bdnm!f-bssjdEpxbfujOwp/sznsbumf-n!pefjhs!f-dmubMnjshpiOuu/bepjdssfbdfumjdp/oz*s*u<f!nwpffdh4)!GdEdSJCsusobfenjobposdjfw!o>F!!e+p!ufOdModbdj!e+b!SeujbspfddsubMfjmhdi!u>/,d!psmbpmsv<d!fdqmTfubbspddpsbbufTmqdf!d\vvUmBbPsD!S,B>F!MdDd`JFsTsVb!egjfbeogdjf$!\v+!!|C!S*EuGi`hHjHMYe)feujdsffmdgufMsj!huiiuh/jeMjesffuddufjmpgof-S!!hufvppnofju!s-zm/bwjjsffxuEbjns!-m!bhjfspfnufbuNsmzb/ddjmtfzbisQd!pobju!Ouptsonpbdm!--!znsbuuffnspjfbhm!/udymffubospdDpdbjusGu1f-n!pnfbHu!fosjj!bumt/odpmdf!b-sfddpobbujGe:b1S-u!bnpbdusfbsfjmbdm!/4ddmffwb!sodjp!buutSoppvdh!i-offdtotb*j<e!b\vs$sfjo!e4jdgf\vw!!\vo$jj!guetfogp!dV!T-Ff`dToIbFjFeOb\vs!!t4idfffwo!Toqjf!duvtmobpsd!),m>b!djjstszbieQj`bsobdmfv!d+f!qCTSuEdGf`sTjiefofJo`)FeSj!sefjdpuwM!j~h!i<u*/sepjmspfDdfutjvpgog-j!eh/fmpbnjfsufsuzb/nw)jufsxfEcjnsb-M!`hGfEpSnCf!u+s!zf/doopbsjnebbms-s!jn!b>u,f!sfjtbvmg/gtjiEfufdofDspjmeposj-/!unibhujfMsejfbumd/ftmigfffso!S|p!v*huiiohfjtMte*f<u!d\vf$mfgofesj!gu\vi!hsjfMgemffudduffmegMfjSh!iuuv/peojjs!f-dmubTjqsffduvbmnb!sm!b,j>s!fjusbsNbmebjdbjotdzfi!Q+!!oCjS!EuGt`oHpHdY!)-ezjssuffdnupMfjhh!iuuy/feujospfDddujjspuof-n!phffHp!nofju!suzt/owpjdf!x-Efjdso-b!jhefbpsnsfju!s4zd/fowp!sonjb!mu-t!onpbdu)fmsbjdbjmt/ztiqQf`dfvtmvbgsgDjpEmupdsf-s!jnebouJf`sFjSb!me/jtpqwf!d~v!m<b*ssGp:m1p-D!fntbvugfgsjjeb/mm/bsjpsvfhuibonf)tuts*f<c!nsbfMg`mGfEdSuCf!e+M!jfhdioub/jeejbssfsdju!E>j,g!gfvt",Z["lightsPBR.fs.body"]="gQjiezotfj$d\vb!m\vNgbjuefosfj$b\vm!!<nbb/u*fwsVjwb!m-<q!bnNbtutffsojibhmv/peSjogfgfvittf)DEp3mfpssv!u>y!feuj!g>g+v!ttftDfpomiphsv/psShocf!f+i!t)/2m/b1j!s.f!unbfnu!b\vmQoBfNtTtTGFbOdIuHpVsP*S<O!FwFfIdT4`!FeTyVz!!g>f!engbjy$)\vb!c<t*)1e/G2e!y-)8h1f/p1n!f-utstzfOopishnvbpmS*o*f-f!ibtc)tq)nebGmedz!)>h!ftptnffouishzvOppSsonfbfmi*t*/*m<b!jgsmfpubbun!!h\vfgpjnefoufs$z\vS!p<vchhiso/f*t*tw!V>w!!n-bqyb)Nnsbpym)peDyozf/fyi-t!)eEy3zf/szv*u-y!feuy)zs/b{f*o<j!MnpbUumffsyjfbUmq/bsNpsvphmipoDfotftf!i>t!!n>b+y!)ssppmvphDiooffftittG/bmdbujpssf-u!b1n/!1\v6Q3B6N*S<P!MnPbDuOfFsFjIbTm`/FsTpVv!hgifoefgtjt$!\v,!><!shpfmppnDfoufsfziStp!v>h!isopfmtptD<o!fnfbiutf/smjbbjms/fsupbvnh!i\voOfFtFtI!T>`!FnTjVo!)gnfbeugfjs$j\vb!m\v/gsjpevohfi$o\vf!t<t*-1!/22/!1-*t<t!fnobiuhfvspjSbumb/ptdqsfbdfvmmdb/smDbpjmspfsu!b>n!)nojjyn)!w>f!dt4t)f1o/i1h5v*p-S!uebjpgdgsvbtffmDdp/mmpbsj/ssfhucb-n!!n<ftutbfmooifhtvtpGSbzdsuupfsn*p<f!hn!b>u,f!stjtbfmo/ithqvfpdSvumbbpsdGs:b1f!m>d!/2m/b1j<s!f\vu$bjng!e<f*g6!3J6P1S/\v1!!n-btutffsojibhmv/pjSpusb!p>d!sjbpfsm<d!/\vm$bjjgseffugb!nT)QyFbDnV!M>B!St\vt!fgomiphbvup!StuqbfpddvsmbbfsmJdo/umfbojtsjfuuzbGnb!d<u*pusb!p>d!stbqffmddv/mmbbsjJsofuufbont)jfuuzb<s!vwufbdt4!!>t!qufbdpvdmsbbsfDmpdm/pmsbGjbsdfuupbsn!!>\v!gtjqefodfv$m\vb!s<Dzp/m*pwsV<w!!n-bqubfNstjtbfmo/ithqvfpdSvumbbpsdGs:b1f!m>d!)nEj3yf)stvqufydfvum!b>s+J!otutffootijhuvzpGSbudbuppdss-b!f2m/d1/-m!bnjfsufbumbonf!t\vtQGBbNdTuTpFsO*I<H!V\vP$Sf`mUtBfP\vD!SgBmFpMbDu`!FtTqVf!dgvfmebgsjJ$o\vu!f\vogtjjeuozfG$b\vd!u<pys/!*>w!V2w/!1-<q!bwNfudb4p!dtsqbffdmvdm)bEs3DfpsmvpusyGfbud!u>p+s!!u>b!pwdfsdb4f)m2d//1m*b<j!snfbuubfns!j\vbQmB/NtUqBfPdDvSmBbFsMGD:`1F!T>V!!2g/f1e<g!j\v$$\vf!o<e1j/g2\v!!>n!b1u:fGsujbbpmd/stbqffmddv/mmbbsjDspfmupbsn!!><!*n5j1y/)1n)j4od)fqwp!x>3!)1)Gnubbupfdssjbbfmm/dj/pmsb!j.s!f2u/b1n*!!<0t!t)fnobiuhfvspjSbumb/pjdpssb!f,m!d2!/>1!*t*t!f+o!ithqvfpdSvumbbpsdDspbmfpmsdG/bmdbujpssf-u!bwnf!d<4u)b2p/d1s*b*f!m+d!!t>q!fudbvpmdbssbJfomudf/omtbjjuszfGubbdnu!p\vsU-B!PeDjSgBgFvMtDf`DFpTmVp!sg/fsehgcj-$!\vn!f\vugbjmeoofft$t\vG!b<d1u/p2s!*><!!1\v:$Gfsmbtmfv\vd!fnqbtu/fmsbjjbsmf/utbqnf!d<v*msbpsuDdpbmGptst!f>o!mnbjuyf)nw!f-dc4h)s1//s1p5m*p-D!fetjvgg",Z["toneMapping.fs.head"]="g$jjego!fa$e\vf!g~j!o<f*es)pVmTpFd`)VfCuPb*s!v%u%b!t)!eofsgvjuoffse!)<VstpfmMpjdo!f+b!suUbpNoufvNqbuqvqPjToFhD*B!!}>}!!sepfmgpjdo!f<e*)sVptmfpSdf)juojiGbUsEePUepooBfUNSbSq!q>j!oshp*m!p}d}!!<esfpgmjpodf!e+)!VutbfNDujvoqfopJoTUFpDoBf!N>b!qsqpjmophd*!!<}7}/!1e!f0g!jfosfvet)pVqtyfFBhDoFjTqGqjbmNnfjodpUup!o>f+N!bsqpqmjpodh!*<**\v!!*v3o1j7g8p1s/n2!!g-m6p1b7u1!1u/p1o.f!N-b8q7q4j8o1h/F1y.q)p4tdvfswf!<-!*\v7$8f3o8e1j/g1\v.!!\v-$4j2g9!1e2f/g2j!o-f9e1)2V4t6f/M1j.o)f4bdsfUwp!o-f*N8b3q4q1j1o/h1*.\v!!-w9f1d341!2M/j1o.f!b-s6U8p5o1f7N/b2q)q4jdofhw)!w)f4du4b!nd!p>m!pusb*N!u|v!qsufvuPvTsFoD!Bu!p4oufbNnb!quqtjoophdF!y<q*p!t*v8s8f8!4+9!/d1p!m-p7s7<6!2~1!/\v1$!f-o4e3j9g5\v1!/\v1$)j4gd!fewf!g-j*o4f9e4)4V2t/f1S!f-j5o4i9b1s:e/U1p!o-f9N6b5q6q4j/o1h)*4\vd!fwwf!d-4*!1S5f9j3o1i/b1s!e-U1p1o7f8N1b/q1q!j-o:h2)8w:f6d/41!)d4pdmfpws!*)!4|u!bdnp!m>p!su!b+N>u!vuqpooJfTNFbDqBq!j4ouhbFny!qupttovpsdf!<|!!s*fsupvmspod!!t4bdufvws)bhuofj)qdqpbmNpfso!p0U!d)jwnfmdj4G)T2F/D1B*!!4,d!fdwp!m~p!s<*c*!<0!!~b!!\vo$sfvouefjsg!\v<!2\v9$1j9g4!3e/f1g!j,o!f*e1)2V6t:f3D4j5o/f1p!o,U!pwo!f+N!b:q3q8j4o9h:*/\v1!)w!f+d!4w!!P>q!ucj!n4jd{ffwe!D<j8o4f6p1o:U1p1o1f1N/b1q!q.j!o*h7)9w8f6d543!1d/p1m!p,s!*w!)|!!+d!pwm!p>s!!b+!>4!dufpwo!f|N!b*qwq!j4odhfFwy)qupjtGvUsEfP<e!odBpUmSpSs!!4>d!fnwb!y\v)*whfodj4q)q1b/N1f*o-p!Uddpjmnpmsj!G.T!F1D/B1f1t5V*)<e!fsofjugvfseo!!gqjp$x\v)!)\vdgpjmeposf!$+\v!!)~7!/<3*!*+3!/d3p)m4pdsf!w,!!-1*/761*/*1!!0,!!)*d8p/m2p!s,!!+s!p)m7p/d3!!+",Z["toneMapping.fs.body"]="g$jjego!fe$f\vg!j<o*fceh)sV/tefJM)jhoofjbqsqUbpNoffoNpbUqdqjjnomhj*G\vT!FJDeB/!s>h!cc!h>s!/MejJo!f\vb*shUopjoqfqNbbNqfqojpoUhd)jJnem/jsGhTcF*D<B!f\vt$Vf)mejfgo!jegffgej!ogfjem)fV$t\vf!S<f*jcohisb/seeJU)phoofjNqbqqbqNjfoohp*U\vo!pJfeo/jsDhecf!{>j!nSjfujqoPi!b>s!ecUhpso/feNJb!q\vq*jhoohj)qJqeb/Nsfhocp*U<o!p\vf$ofjmDjfgt!Ve)fegfjo",Z["output.fs.body"]="~$!j<gbe/fsgp!mVpTDFf`tUvSgBgOjTeN!J>T+T!JxP/Oe\vJ!!w|f!d*5u!oJfes!b>q!twofbds5u))p!vgujh!p\vjgojheMojfh$i\vu!-<!*n1b/u2f!s-jubimh/juMshboojtpnhjutvtpj)p5odBfmwq!i>b!!e,J!!15/d2f*w<!!\v\vf$tfm",Z["instancing.vs.head"]="g$jjegoeff$g\v!!V<TeFf`dJoObTuUtBoOJDyJjOsHu`bMNFuHiBhDjZS\vv!!v5oujbgnp!snns!pcgpjpomv!!v<VetffdJoobtuutbooJdyfj<s!u\vb$Nfbo!e5jugb\vn!!\vf$ujvgc!jesfugujbo!f\ve*)EVFTEFB`IJTO`TUUBBMOGD`JHOOHJ*D!O}B}U!TeOfJg`jFoTfVe)",Z["instancing.vs.body"]="g$jjegoeff$g\v!!V\vTgFj`eJoOfT$U\vB!O<D*J*O*H1`/G2M!B-Um`bTnIsBpEOFuEd\vf!k\vc$pj)g5edffgw!!V+T!Fy`jJsOuTbUNBmObDnJsOpHO`vM)F4HdBfDwZ)\vf!{jjgm!b)nvsVptof!J>o!tmubbnosdpfO*w!!|\v!futsmbfo$t\vg!p\vsgnjfeeo!f>$!\vw!f<d*4*)1b/N2b!u-smjbynJsoptOuubdofdkfcep!)+5!dvfSwj!h+i!uyNjbsuusbjNymJbontsupbOovd)f4ed!f+w!!w>f!dm5b)nusspbOowt!gfptsmnff!e~-!!\v2Z/D1B*H*F<M!`~H!O\vJ$DfOmBtUfT\vO!Ju`sFbToVt!ggpfsengfje$!\v>!!\vwgfjde4o)fb$N\vb!u<s*j*y^J3o]tnu!b-o^d3f]en!)+u!pveS!j-h*i^u2N]bnu!s-j^y2J]ont)uubpoed!f-e*!^+1!]wnf!d-5^)1u]snb)outpgep)s4ndffew-!!02!/u1o*f*h<o!b\vU$ufdofekjcgp\v!!+\v!$nf!m>t!fu\vo!f\vh$ojbgUeufdgf!kVcTpF!`\vJUOOTFUHBOOBDUJ`OFHT\vV!!\vg$fjeggejf$g\v!!V<T*F*`1J/O2T!U-BmObDnJsOpHO`wM!F+H!BnD)Z5\vd!fjwg!!+)!vyVjtsfuJboNtmubbnosdpfO*v!)|4!d\vf$wf!o>e!jmgb\vn!supsObwo!t<g*p*s^n3f]en!!>-!^w3f]dn4))ubpNeb!u-s*j^y2J]ont!u-b^o2d]fne)!u+p!ev!S-j*h^i1u]Nnb!u-s^j1y]Jno)tuupbeo)d4fdef!w+!!0w!fmdb5n)supsObuodtfgkpcspn!f>e!-m!b2n/s1p*O*w<!!<n*beuf4d!onb!u>t!onJbyuj4s)ubbNNbuuishjjySJvo!t+u!beofd",Z["envmapPhong.fs.body"]="g$jjegoeff$g\v!!V\vTgFj`eFoOfW$N\vB!Q<\vz!uwjftdo4f!udobJnqfbsNbwUopfG!s+b!hi!u>h!oofpssunTbsmbjm{vfd)fwqXtp!s+m!e{Qzpyt/jsupjmppoD!w.o!fv!D>b,n!fusibhQjpMthjoujjpphou*v<p!!w\vf*dE4E!Bx`pHsOmJeEOOpFsMnCb`mQ!B>N!WjOoFw)fesftofjUgsfbeo!tggjpmsfn$E\vj!s<f*dzuujjptoo)fouposJnqbbmN-w!ovfW!j+f!xiNubhuosfjsyu*T<s!b\vm$vjdgfeqftg!!-F{OzWyN/BsQp`mNpPDEwFo`fS!F-GuMiFhDjUMJhPoOj\vp!hwufvdp4)!ysjfng!m>f!duuiWhfjdM!h>o!jspfhgumvfpd!u\v)*dYbJnNf`sHbOUJpEGOsFbMhC-`!QxBpNsWmOeFO)pesfnobjmg*f<e!!\vg$jfmmft$f\v\v!!<w*fzdu4j!tsoffgumofJdqubWNfwdo!f>!!+s!figushbodfus)udTbsnbfmsvbdUfpqGts!b-h{-z!yx/psspmmepODpwsonfb!m+-!!usifhgjsMbhdoujjpphouSvbpu!j-pu*i<h!j\vM$hfoojepjhgu\vv!p\v)$yjjgne!f>g!!uFiOhWjNMBhQo`jUpZhQuFv`pD!V\vCZFM\vQ!JwUfMdV5N!`fHoOwJDEpOmFpMsC!`>Q!BuNfWyOuFv!sgffDevgcjf$)\vf!o\vwgnjbeqo-f!$w\vf!d<4*)1g/m1j)q5FdofwwN!b>q!!s+p!mspfDgwmoffd!u5Wdffdw/!y\v-f!tsmffg$m\vf!d<u*W1f/d1/!z-{d*f*W<u!d\vf$mfgmfjsg!!-eqfbgnjwooffe))WFVOfWcNvBDQf`sUvZuQyFf`uD!V>C!Fs`pVmWp*D\vw!owff!d5",Z["lightsPhong.fs.head"]="htoupsivQdouo!jCmmCj`ofotQvigpgojhENubduffssjjebomJ!`|F!Sw!ffdt4v!gegjjgEguvdtffsDjpemopJs`<F!Sw!ffdo4j!gtfqef$d\vv!m\vbhsoDppimQposo<j!mgCm`pubduf!stjqEf`dFvSm!busdTfisjjoEj`oFfSt!tf<o!jggmfpeb$u\v!!t~q!f<d*vsmpbmspTDufstfvoghgujie</!m~b<j!swfpujben!)SuFs`fEcjnsbfMd`uG`ECSmCj!o+o!Qfidpoobhj)edbpsostju!!>j,o!!fJtovdgjgejfEouudMfjshjieuo!je/jusifhdjuMMejfhuiduf-m!gdfpso!t|u!!*juoi!hHjfMpenffuudsfjmdgDfpso!uufiyhuj!Mheffpundffumsgzf-S!!dupvoptouj!!j-om!bCjmsjfouobQni!pmobhjNsbfuufbsNjhbomp!inQbouofjsmjCb!mo-j!!juotpovpud!!S-fzgsmuffdnupffehM!juhyifuu!ospfDgdmjfsduuffnepMfjHh!iouj*!!u|t!ogpmdp!b-uf!deopbujOeMb!s>s!jt!b4udvfswb!uofj)!euptuo)phdf)phnofpuisQzo/oojpmsCn`bfmt-v!gegjjsEfuddufMsjjheiouJ/`eFjSs!fedjupjwp!o~*!*<<i!uwhfodf4s!ujTsssbbmevjdbfoqdtf/!m>b!jespfuuObMn!!++!!e*jtstffdoujMojjhiiTus/bdmpvmdpfsq<t!/smfbgjmsffduubfne!M-jshpimup/DesjbsmfvddufEqjtg/gmvbtjfs!f,u>b!nj!s-smbbenjsbpood/fz!s+u!fCnSpEfGh`!M-bsnjcEfxsfuj)wn/bzusfusfjnbpmf/he!j-gogpvjtufdDfpsmjpes/*u<i!hsjfMgumdffdsujfee)MhjohpiiuQ/oeojjsmfCd`uGTEqSfCd!v+m!bfsd!o,b>j!ejbss",Z["lightsPhong.fs.body"]="<CimujhooofQsiupToshbNmbvudffsqjtb!m>!!nibuuhfosfjsbumT<s!bnmbvudffsqjtb/mm/bejjsgfguvbtnf!D<ptmtpfso!j>o!jeijtg!g>v!ttftDfpomjposj/isThscb<m!vndbfuqfts/jmbbmj/stfqufbdnv!m<bssbDmpvmdpfsq!t>!",Z["lightsLitePhong.fs.head"]="gvjoejogfp$s\vn!!\vg?mTpGboup!jvuIdffbmegmfjShwiouFSfbcovhdf=<!!fveovjmgdposjn$!\vg!m~p!b<u*!{vzIyf/b*eymjjshuibunB!n+c!j*f1o/u1J!o-usfjoet)j5udzf<w!)v)ofj{gjpmsbnn!swpfod!5o!svvIuffbse!m|j!h*iyujDspumbpns!<5!uvbonj!gopjs!n-!swjfed!44!dvfIwf!boejm)johpijuuEdjfssfjdEunjsppog<t!o\vb$sjUgf!tOsVfNw`oEjJ!S4`dMfJwH!I\vUgTj!e?o!f1$\v\v!!v~o!j<g*pxs/nf!vwmfbdw5!!-v*E*jSsPDUpDmBpGs`]BONVNNB`HE)J4Sd`fMwJ!H-I{UzTy^/<f!vvmobjwg)pxspnq!)w5fddf4w!!voEsjvsuEfjss!f|d!u*jfpvom]bOwV!N5`dEfJwS)`sMbJfHoIjUMTp^U<m!f\vy$ffUoqebjNgw\vo!f\v!$5jdgf!wO!V\vNf`tQmPfJ$O\vU!`~M<J*H!IbU/Tf!v?m!b1w\v!!-v*o!j*g!p*s!n*!!w9f1d452!4v1Q1p/j1o!u)D4pdmfpws!]-OcVhNs`/QfPvJmObUw`!M)JmHbIvUrTF^o<b!ivUotjtgfpms!n)!4gdmfpwb!u-!3v:Q/p3j2o!u+S!bcohhsf/]fOvVmNb`wQ!P-J*O!U6`6M1J/H1I!U)T4^d<f!wv!o.j!g6p6s1n/!2w!f+d!4*!!v*Q!p7j7o7u2Q5p/t1j!u)j4pdof]wO!V-Nc`hQsP/JfOvUm`bMwJ!H)IxUpTq^!<)!y\vj$nf!o)e5jdgf\vw!!\vo$sjvgu!fOsV!N|`!T*Q!PfUv`mMbJwH!I5UdTf!w?!!o1j\v!!)vCoHjSgtppsUns!bwffodj5M!!v5Tdqfpwu!D~p!m<p*sb]/OfVvNm`bTwQ!P-U*`*M*J*H6I5U1T5^1</!1v)o4jdgfpws!n-!cghmsp/bfuv!mvbTwq)pmubFvyrqFpoobfioUut]tOfVmN)`4TdQfPwU!`-M9J1H9I4U:T:^4<8!8v1o/j1g!p+s!nc!hgsm/pfbvum!bvwT!q-p*u*B5o/h3m)f4]dOfVwN!`-T*Q5P2U1`8M3J4H2I3U6T1^/<1!)v4odjfgwp!s,n!!7g9m:p3b8u7!9v8T5q:p/u1S!b+o!hcfh]sO/VfNv`mTbQwP)Ux`pMqJ)HyIjUnT)^5<d!fvwo!jogspvsunf!sw!f|d!4*!fvvTmqbpwu!Q5pdtfjwu)jspbof]oOjVMNp`UTmQfPyUf`UMqJbHNIwUoTf^!<5!dvfowj!g\vpWsVn`!FwCfVdD4`!FvQTZqUp`uQEBjNsWfOdFu!jgpfoe]gOjV$N\v`!T\vQgPjUe`oMfJ$H\vI!U~T!^<<{!z\vy$/f*o!e*jxg/\vu!b\vv$rj!g-e{f/gu!bVvTrF.`!F-OzW/NuBbQv\vr!.v!o-jyg/pusbnv!rc.p)p5md!fvwV!t-fwFro!w)Nubbqv<R!uvmovjng!possnv!ugfmsp!b<u*!!f*o1w/N1b!q-Jdofuwf)o5tdjfuwz!<-!u\vb$vjrg!e)fugb!vFROuWmNvBnQ!`>U!ZwQrF!`5DdVfCwF!`|V!W*\v!!dvfowj!g4pdsfnw!!t-bunbqvmrf!s53dEf!wv!F)oswpNubdqf<W!fvuobjugppss!n4!dgfmwp!b~u!!<s*p!v{h/i3orf!t+t!<{!/\v2$rf!m.t!fz\v/!3vro!j+g!pzs/n2!rt!b.n!qym/f3srD!v+c!fy!/v2Fro!w.N!bxq/<3!r\v!$+f!oxe/j2gr\v!!-dzp/o3tru!!+g!myp/b2ur!!H.B!NyN/B3`rG!B+D!UzP/S2!r>!!,3!/x1/<3!r\v!$+j!g{e/f2gr!!F,O!W{N/B3Qr`!S+P!UxB/U2Fr\v!!-vyo/j3grp!s+n!!{w/f2dr5!!.v!F{o/w3nrb!q+R!vyb/u2<r!!w,f!dx5/!3nrv!m+u!Rzv/b2ur)!w,f!dz5/!3rr2!-+!!wxf/d25r!!r-3{*/!3|r!!s+f!uzv/s2or!!w.f!dz5/)3rr2!/+x!!{+/!2rr3!/,y!!x,/!3rr2!/+y!",Z["lightsLitePhong.fs.body"]="gjjge!o)fv$I\vf!b~e!m<jzhuijutDopfmuposJ/qxb!N>w>o!f1!/+1!*{!z|y!/gsmppmbpuD!wmobfn!c>f,s!ucUhfss/ne<J!!j\vgg!j)evoIff$b\ve!m<j*hsipumEpjDswfodfu)jspbof/oyj!M>p>U!m1f/y1f!U%q%b!NvwIoffb!e>m!jshpimupEDjwsoffd!u<j*p*o{/zz/!d>f>W!u1d/f1m!g%f%s!!v-Iyf/bdefmWjuhdifumEgjfssf)d4udjfpwo!/-{q!b>N>w!o1F/v1)*f!cmvbDnfcsfvsuuyUffus!n>!!>s!pemppuD)wOo-f!!.5Md*f<w!!f\vmfttfm!fm$b\vn!c<f*s*utUtffsoni!h>v!pesp!u-)*O{-z!/.dvfIWfubdefmmjghfisu!E-jys/fddfuWjupdof*m<g!fmsb)n4cdffswu!U-fqsbnN!w>o!Fnvb)yW)VmfbcnvcDffssuvUufysfnu!)+C!H)S2t/p1U!s.b!fvoIjfMb!e>m!jshpimupBDnwcojff!o5udJfowu!f\voWtVj`uFzC*V!D,`!FvQIZfUb`eQmBjNhWiOuFB!ngcfjefgoju$J\vo!u\vfgojtejoufz$-\v!!1</*1m*b<n!sjpgO)evmIsfpbxe!m-jyhfiuusSfbWophUfb!s?f!n1b/d1)*u|d!fmmbgnfcsf!s>u!UdffsWnu!d+f>m!g2f/s1!!4.d!fnwj!o\v)fmtfmofh$u\vi!)<w*N*w*QmpbtnjsupjOpeom*s0pvxI!f-byefmujshfiWupSUbboshffn-b!d2)/u1d*f<m!g~f!s\v!$-juobdvmRvqebfn!w=otFivb)esppxuNdbfqW/fgutb/ucppse)zf?{\vj!mJben/ssphoc!!>+!>d!fmWbundcffmsgufUsf!s4nd!f+w!!v\vIFfUbBeUmPjSh`iQuBDNpWmOpFs!/gsfhecg<j!$~\v!!\v<$*jygj!sOuVbNN`xEfJjSW`vM!J-HOI)UoTp!j?u!d1f\vs!jgEpnss)pjgotuo!bjs>U1f<t!sjf!w=o!jO!V>N!`mEbJnSs`pMOJeHmIsUpTx<!!4jd,f,w*!!<|*!ojpgj)uvjEtjpsQDbpsmfpnsb]Djv^!/.x!!o>p>j!u1j/t1p*Q|e!mJsep/Xswh)cf!{,j>m!bnnbsyp)oe!p>u!)yOf-u!s.foWppsUnbbsmfjn{bfd)!v4EdjfswE!j|s*fqdbuNjwpooF]fjt^V*v*)-!!g1j/!1\v*Q!B+N!WvOEFj`sFDTpVm!pgsf]ejg^j/$s\vh!c\v<g!j~e!o~f!$\v\v$!f~o!e~j!g~\v!!~\v!$<jcgh!sO/V^Nj`]QsPpJmOpUD`uMpJqHTIvU!T+!!?u!d1f\vg!ggFpusp)qjto!u+!!jf>h1o<b!Sjm!!=+!!O*V1N/`1Q!P-J*OmUb`nMsJpHOImU.T!<-!Oj),u,p*e!)|y!bjng!)>v,Q!pcjhosu/DepJm!p<s*]1j/^1/!x-!*>^>j!]1u/o1f*o|p!qwyfFdu4p!qmTWvf!d-uupdsf!g>g!FwuNpwqQtp)txjpuqj)pyob!n.!!>v!QupdjfogugQFputpjqutj!p|o*]^jj^]<f!mghmopBbuup!qmTSvb!o?h!fu!d>f!g2g/F1u<p!qjtg)!g)jv!Q<p*jmobunSsbpoOhmf!]-j^^j!]?o!p1j/u1d*f|s!jmESubpoqhTfv!)>u!p2e/!1>!!.u!dnfjgog)F)umpfqoth!uuib)pmmWgf!d<u*pssp*u!d0f!WvmQ)pfj{ojumSbbnoshpfo]!j>^!*m-b!n2s/p1O*m<!!4~d!fjwg!!|)*m1S/b1o!h?f!!f?h!o1b/S1m*)|!!gJje!/~s!h<c*!1,/>2!!n-b*y^)je]pfuh)oOb-S!u.poqpTsvn!b0m!j*{sfp)umdWffWdmu)pisu*h*o-f!m1)/)1o*j!n+!!.m!S1b/o2h!f>!!+f!hvoQbpSjmo!u|D*p1m/p1s!]?j!^^/js]hfch<o!b~S!u~p!q~T!v\v)$!fgoje!j<g1\v/!2\v!$>j!gf!hOoVbNS`mT!QuPbUp`mMgJ!H<I^UjT]!o?p!j1u\vj!tgppQsu)pjqoTuv!!j.>!1o<p!jju!j=t!pOQVwNN`wT!Q>P!Us`pMuJdHfIWUmT!<4!djf,w,!*|!*|1!/j1g!)>v>T!qxp/u^Djp]msp",Z["aoMap.fs.body"]="g$jjegoeff$g\v!!V\vTgFj`eBoPfN$B\vQ!\v<!*\vt$tjfgo!iehfvgpjso/fmeb)jBsPfNuBbQn`!S-`o2p*j\vt!vgmmdpdbPuu!obfnjccjnfbo!u-PWdOdumpvet)joppoj!t>v!m)dudfPysubvmsvfd3fEq)TbfpuNvbqqn-p!dw!V>w+*!/ssb!m.v!d2f/q1T*u!d+f!sbjpeNobjq/JuoiuhfjoMtejfuuzd!f,m!g2f/s1!<<!*\v*$sfjmEjxgf!jewf/gzjsouffen)pBfPhN!B-Qm`bSn`s3p*o\v/!zgsmupfbnup!fbhn)cujpfeo)ufPudbdsmvvutbjtp!o>!!>W!O)uupfey!uuvbspfm3gE!)\vb*pSNCbQq)-e!fwoVjwg3f*e/!s%!%.!!*2Q/B1N*W!O+F!`bFpTNVb)qeJfooujfgoftej!ugzj!$,\v!!2</o1p<j!t\vv$mfdmdjPgu!oeffjgcjnobf!e>)+B!PfNtBvQg`gHj`E2u*d\vf!sgjmepobju/!ubinhcjjMfeofuuPddfdmmgvftsj!p\vog!j>e!o)fu$f\vy!u<v1s/f23!E,)!bzpuNjbtqo-f!uwoVJwq*b/Nhp!b.!!+2!/*11*/!2+!!.b!pcN/b*q3JwoVuwf!o-tqjbuNzp!b,)!E23/f1s<v!u\vy$ffum)j!g>!!eofpgjjtovfmed)dBPPuNoBfQj`cHn`b3!*u\vb!pgmmgp!b\vu*!3b`nCc`jQfBoNuPPBd)demfvotjjgpfoe!!>g!j)muff$y\vu!v<s1f/32E!),b!pzNubjqt-o!fwuVowJ3q*b/Nhp!b.!!+2!/*11*/!2+!!.b!pcN/b*qwJVowu!f-oqtbjNupzb!),E!32f/s1v<u!y\vf$uf)m!j>g!!oepfjgtjvomfded)PBuPoNfBjQc`nCb`!2u*b\vp!mg",Z["transmission.fs.head"]="g$jjegoeff$g\v!!V~T!F<`*UbS/BuOiThNjJMTeTfJuPuOj\vn!tvoobjsgup!s-ns!pgmmppDbfut!vbgugujfeo!v+b!usjppmopEDjetfuubbovdoff<u!uvbo!j+g!p*sGn!!.w!f1d/42!)b)u5udffowv!bousjvpuofDsp!m<p*st<t!f\vo$ijhgvepfsg!!-V1T:FG`sUbSmBvOdTfNqJtT!T-JsPpOmNpBDQs\vb!mvvodjfgqpts!n-!wt!b-noq)mGfEsS3CEu!oufsnbooptsnjjwtotFj!p>o!NGb!q4<d!f\vw$!f<o*efjdgo\vb!u\vt$jjEgoepfjgu!bVvToFf`uUuIbJ!D-LsOpFmTpTDNoBpQj\vu!bvvoojfgupusbn!!-t*bznbqSmofpsj3tEt!junitjodblsouf)tituNhboqf<m!!\v-$cfhose/jugi\vh!jvMoejfgupusjnn!twofbds3u!)uospbjoutbnvjotftujupBofTnbvnmqpmWfzsmTqjq{bf!<>!!vsopjmgppDsenf!utbbvnoqfmufusb3!E4!dufswb!o<t*nsjptjt!j-ptotTfboniqhmvfpssN!b-qt<e!svpopjDgoppsjnu!dnbbsug5f!sv)NfpmeqfnmbNTboupsjjtyt<j!n\vt$ojbgsoUeuffgh!!V>T!Fu`iVhCjPM\ve!f\vu$ujjgnetfogb!sJuP!S5\vd!fvwo!j<g1p/s3n!!>g0m!ptbeus!pjppDso<p!j\vu$dfbosegjfgs\v!!<\v1$/j2g!e>f,g!!tTeQsFpDpVDMoBpSj\vu!dvbosjggfpss!n<!xg/mtppbQud!etoq!f0d!vzmyb/stJpoQudfeoot!j>u!zt<e!svpopjDgoppsjnu!dwbfsdg4f!st!q3fddfvwm!b<s*D1p/m2p!s-<u!j\vy$FfzobeSjegf\vu!dvbosjggfpss)n5!dgfmwp!b+u!!yujssbuobtNnxjftjtwj!p+o!<y!jvsoujbgNpkspns!qg!m>p!btup!Qudiejod!l5odfftwt!<<!zvboSjogppjstnt!jnnbtuo5b!svuQ!s,p!kofpdjuuNjbtupsqj!y><!!uvjoyjFgzpbsSne!fwufddb4s!gvfDsb!n4fdsfbwQ!p<t*jyujjspuob<N!m\vf$efpone!j-gs\vp!jw!f-dt4t!fhofludWjpimuv!n-fwU!s-boo)tznbjStotpjjptotSjbnzt)odbpsoUtfun!vjmop!Wwuffdh4!!>o!-z!bdSpooptjut!tjjon!twofbds4u!!w4-d!fdwp!o|t!u*!fjdoo!bgumtpjbEuo!pujiujbdvlooffututb-!!udbppomtgu!!ojjo!!ugtmoppbdu!!-jsppsm-p!Ddoppojtuub!vjoof!unubbu!54!dnfpwe!fomjN!buutsojpyd*!!-|t!twffodl4d!jsifug!subbdpumjgp!ooWjf!duutposp!d>!!-ssfpgjs!budbup)m.g!!wo-j!!ouptsonpbdm!j-{yfj)sou*b-N!k2p/s1q!!05!ujbpns!*o<j!!wuftdo4p!dn!p-eyfjmsTudbbNmxff<j!wn!p5eufbmnT!dobjm!fu/tyo!p>d!!m-fyojhsuuib)Nwmffde4p)nn!p5eufbmnN!boujs!juyt]o!p1d!!^-/oypzj{u*j*t<p!qn!p4edffmwT!dobjm!fu/tzo!p>d!!m-f1o:hGusib)mwvfddf4q)tn!puebfpmmNgb!uosjj!yu]t!o2p!d^!/-yszp{m*p*D<s!bnmpvedffmqTtd!b4mdff/w{!!o>j!!muftoohpudi!)-wsfpdm4p)DnfptevfgmgNjbeu!s4jdyf]w!!3o!j^!/uytzo{p*d*!<-!tstffuovishov!posp!sunbbpmmjg{!fo)js!fugtsobpddu!j-pwo!W4fddfuwp!so*j!!+u!tuoipjdd!l-oof!t4td!f+w!!nopje!fumtTodpbdm)fo<p!j~u!dgbmspgbfuS!fbnqvqmmpzWJMpCsJUupfShp!v5hdifowf!t~t!)~d!p<oftduo!bjjoe!bgsm!p+b!uf!dsopbvuhuijonfttotb-s!ud!poostvuu!fjso!!<g*mfpdboub!ujtpjsE*o!p|j!tstfjunvtsoob!ssup!v+h!iuoofftjtd!j+g!gdfmpbDnoqp)jjupbsv!o+f!u3u/b1!!..)!q3y/f1!->!!1f/d1o-b!u2u/j1n*t<o!b~s!uw!f4dd5f!wh!f<ufUdsobbouttnjjEtotpjjpuobTvbonfqumufb)!d0p!o*tsup!mjpoD!owpfjdu3b!vgosfbuhuDbp)phspem-.!!d>p!outouf!jjdoj!gggmfppbDuo!psjpuvbhviooffututb-!!4ddpfowt!u|!!jfot!mgfm!p~b!u<!fjdposb*j!e|b!sg!mopsbvuu!fgss!b|n!f*c1v/g1g!f>s>M!pfed!o>b!umtpjhE3o)pujsubbovtonfjututbj)p!ogTjb!n|q!m*ffsdTojb{uft/jyE*o!p+j!ubbqvqomfzuJupbs!UupbSppmvgh!ioojf!tutt)osppdv!h-isopfmtptD-o!pjjpusb*v<o!f\vu$ujbg!e4fdgf!wu!foyju!vustfo3pEdM!p-efFdYoUb\vu!tsjfEuovpsjot!ttjSnHtCoUbpsMuj!oufbbpsm)gu!foyju!vustfo3pEdM!p-efFdYoUb)juesbbso!t4ndjftwt!jopjo!Tubtnoqpmdf)soNpbjqu-b!vgosfbuhuDBpfpnsvem/pyWzz-m!qgqsbb!n4fdcfvwg!g~f!s\vMgpjee*o*f<$!\v\v!$<f*m*tefp\vM!ssffgugvvscof!ntbSsHgC!U-pzMyj/oefsbpsp)Duhfbysugv!s-fq3bEN)sufsmbqontbnTjotptj",Z["transmission.fs.body"]="g$jjegoeff$g\v!!V<T*Fo`pUjStBtOjTnNtJoTbTsJuP/Om\vb!jnsbfuufbsnj!b-mc/huss/booptjntjttjtnjtpoob!s>u!!u-sfbtovtgngjjtEtmjbpuop<u!)nybjunf!s>j!bfmt/vugsgbjoEtmnbjutptuj!p<o*Bompqjitbt!j>n!t2o/b1s<u!/nmbbujfssfjubbmn/!u-ibj/dolpojfttttj!n>t!oubisjud!l-obfitqtm<B!onpbjutftsjjnbtmo/bbsuuu/fmobvjbsufjupbonE)jytjunb!o>d!fb!i>q!mbBuoupfjotvtbjunjtpoobEsjut/umbbojdsff<u!bnnb!u<f*sfjdbomb/ubtujuEfoopvjbuubjvpoofDupumbp/sm!b>j!sbfuuubfno!v-bsupjmppoDDoppmjpusb<v!o\vf$ujugbe/fmgb!jVsTfFu`bUnS!B-OtTtNfJoTlTdJjPiOuN/BmQb\vj!snfbuubfns!j-bsmp/ju/smbbojtsnfjutbtnj!p-oy!j+s>u!buNfuydufvkspfs3QEv)!u-s!byojtsnujbtNtxjfpjoWNvb!q--y!jwsVuwb*N/msf<e!p\vN$vf!o-etjpgq\v!!-\v1$:jGgsebfmgv!dVfTqFt`/UmIbJjDsLfOuFbTnT!N-BsQp\vm!pnDbsubfmsvjdbfmq/tu/imjbdjlsoffutbtn!!+->s!pumfpyDufvtsvfg3gEj)eu/imjbdjlsoffutbtnN!b-qt-t!fwoViwh*v/phs</!m\vb$jfsofeujbgn\v!!-wwf!d-4o!!q)potp!j>u!dwbXspgsfmSefQnpvtmjpuWjMpCoJ<u!fwhf!d>4!!owp!j>t!tojpnstnobbmsju{!f5)dvfDwb!n<f*sybjQsputbjNuxjfpjoW!v.!!-qmpbtn*s<p!ow)fodp4j!uod!f>s!jjEonwsfpsgttfoUbs",Z["oit.fs.head"]="g$jjegoeff$g\v!!P<JsUf\vm!q\vn$beTfsgpjmopfD!uNoBpYs`GEuFjQpU!IE!3:s:f:m:q:n/b1t\v!!n\vs$pegfjgojvo!f<!shfmm`qGnsbbThiDupqmfpEsu!jnpz!`EG3ssbfhmDqpnmbpts!\vn!svpogj",Z["oit.fs.body"]="g$jjegoeff$g\v!!P~J!U<\ve!Jg!m>p,b!us!pgmspbDhlEdfbqcu!i|!!>f!thmmf`!G~s!b<h*Dbp/pesJe!/.{!<1!/\v2$)j!g+e!fsgf!jPmJqUj`u2m7vCNJbUiTq\vm!bv!j.o!u1!/i2b!m>g!Gbm/psbpum!p>D!uqobpdslgI!b<msgf3jym2q7j)uwmfvdN3b)igqsmbbh!E+f!qbu/ie*J*!<+!!wcfhds3/!egJv!m>m,!!>c!hvso/qsbpdmlpIDbumogp3syg2!7|)!i*bimugqGfmEpubtuf*s<b!fgos!b>h>E!fiquuqif!E>h!bgsvgm)m!/gyj<!!~\v!$<foosevjugf\vs!!j<w*fidu3q!fgEshbbhsDgp!p-sieu!q>f!Ejhwbfsdg3.))h3md`fGws!b>h!Dhpsp/sieu/qyfze*!<\v!gwjfedo3f!$m\vb!t|u!E*fiquuqif!E>u!tuffiyufsmvGgf!u=d!ii)upqjfuEEhfbqsugi!T%b%n!qimufqsf-E!ugtsfbshbDfpop!s?e!-i!u1q*f/Eshhb<s!gw)f!dg5j!!m\vbfttumGfs$p\vo!u|D!p*mipusq!f>E!uutffyifumsGvfgu!d?i!)ipujqufGEshpbosugD!p%m%p!siTubqnfqEmuftsf-s!bgfsob!h=D!pipusqef-E!h1b*s<g!)e!fgqju!i\v/SsFhG!G>V!CwIfUdQ3F)E.`NFBTYS`FEWFFQSU`IF*T<V!!ggsfpeogujD$p\vm!p~s!!<>o!smvbutfusG!s\vpgojueDopfm$p\vs!<|!!c*bidulqDfpEmuptsf!i>u!swvfgd!5?)!1i/u1q*f<E!h\vb$sjgg!e}f}g!!iVuTqFf`ESuFtWfFsSbTfFo`!E=F!QiUuIqCfVEGhGbFsSg\v)!!ggmjp!b\vuf!tgmvfs$u\vi!f|t!u*EifuqqufiE!u>t!f.imubstvugE!f=q!uiiu/qyf<E!hgbmspgb!u}!}o!fibusqfftEuuEtffqsubif!o>!!?m!bituuqEffEqhubis/gz)<!!g\vj$!f\vmStFfG\vG!VgCmIpUbQuF!Eo`fFbTsSfFtWuFESf`qFuTiV!!>g!f.emgbjt$u\vE!f<qbu/is/pym<p!DgumoppbsuG!ugtvbsmu!i.f!t1u/E2f!q>u!is!f>j!mmqbjtuumEvfNqbuiiq/mzb<!!u\vb$pfmoge!j\vg",Z.blitScreenVS="~b!u<u*szj/ctvpuqf!!.w!f1d/32!!q-pyt/<t!pwqb)s3zdjfowh!!>w!fwdV3w!!w<V*w1</!2w!p-j1e/!1n!b-j1o/)2w!p,j!e1*/!3|!!+h!mz`/Qtpptqj.u!j-p1o/!2>!!.w!f1d/53)!q+p!ty/",Z.encoding="~w!f<d*5s!pMmjpodf)bssbUfpoMjjMopfUbmsf)yjfoU!uwvfqdo5j!!wobsmvvuff*s!!||!!s*fsupvmspod!!w5bdmfvwf)<s!b~f!owjfMdp5U!mnfbyqfUUfqybfNmwUopfM!j5odffbws!)~w!f<d*5f!vwmbbmwv)fC*H!S|t!psUfsubvfsooj!MM!joosfvbusfUsp!M|j!o*ffbvsm)bwwb!m5vdff*w<)!m~f!ywffUdu5v!qtuSvHPCpUUpsMbjfoofjbms!)5jdof!ww!f~d!5<!*wfbvmmvbfw*)!s|b!fsofjuMvpsUoC!HwSftd!5o)snvjuyf)sq!p|x!)*wfbvmmvbfw/!s5hdcf!w+)!s1b/f:o5j8M9p7U8m3f:y9f7U!u,v!qwofjd!45)d1f/w1!6~3!2<4*3b8/1f2v5m*b-w!!w-f*d*4*)*39/154*2*4-1!1w/b1m)v4fd/fswh!c-!c+h!s1//f1v8m8b4w:):m4b9v1r9F-o!bwifUdt4t)fmmf)t4tdUfiwb!o-F3r:v/b3m2)!w+b!mcvhfs//sfhvcm-b!ww!f-d*46)611//115)145d6f*w*!*.*!-6!6w1b/m2v!f+/!b***<7!7~7!2w5f/d15)!4Mdjfowf!b-scUhpst/SfHvCm)bjwo)!xwpfqd)5y!jwnb)m5vdff*w!!|o!ssvfu",Z.cubeEnvReflectionFS="g$jjegoeff$g\v!!F~O!W~N!B<Q*`1U/Z2Q!F-`*DGVqCjFn`!V-W2\vs!p\vm$pedf!g-j1osfp!mdpvdc)fyVjWn`)n5bdyfNwj!qoMsfvwuffms!!9</*11\v/!2\v!$,e!fugojJoqfj!nd!v-csfjVEWf`mnqjnobNtj!q-MqfbwNfwmo!f5)/W1V\vf!c\vv$Desfbgfjoojfm!jdcv!c>f!V2Ws`pnmbpydU!j4mdffTwj!{|f!!f3t6m7f/!1~\v!!<\v*$1e/f2g!j-o1fs!pdmvpcdf)V5Wd`fnwj!ooUsjvmuffTsj!{|f!!*217//11!\v>!>g!mGpqbjun!)h!fgujG!b<d*fu)owJfqdj4n!!e-jssjfEdfumjqpnob*t!!|-!qwbfNdw4o!fb)cWtVEfjcsvfDdsubjfpooj!m>j!cb!c>t!)1esjpsmfpddu!j4pdof*w<!!<g*mqpjbnu)!sgpbpdmfg!!>>!!.u!o2J/q1j<n!!jugb!p)mbgc!t<E*jqsjfnd)uujdpbos/gy!!>?!!GbqcjtnE!jusbfpdmugj!p<o*/m{f*w!f|M!qjjgN!y)bbnc`tWEVjfscfvddu!j-p1on/!y-!*?t!tbfcotiEhjvspfsd)uqjjpNop/Uzt*t!fgobidhfv!p>s!)eqjnsbfmddu!j>p!oq/jyn!!?u!b1p/m1g!!@|!!1*/t1t!f;o!i4h/v1p<s!!fumbtpfm!gg!b-dsfj!E>f!meqjnsbftd!u4jdpfow/!z-!q?b!N1w/o1f!!@E!32s/f1m!q;n!b5t/)1W<V!f~c!vfDmftsfv!u|y!fjug!!5)dbfcwt!E~j!s<fqdjunj!poos/v{u!f?s!!b~c!t<E*jtstffdouijhpvop/sz!*+!!g7b2d/f2!)>3!hepjms!f+d!u1j/p3o!/.{!!>?!!q1j/n1!!|@!!f3t/m1f!!;~!!6</61n<!!,f!m*t7fs!!g.b!d6fs!)>!!0e!j*s6fnd!u.j!p7on/)z!!+?!!*1t/t1f!o@i!h2v/p1s!!;.!!56/s1)<!!>~!!qsjfnu!v|s!o*!7gsb!d>f?<!!t~t!fwofidh3v!phsf)u!VgWj)!wfftdm4f!!e~j!s<f5dnu!j,p!o*-6!sg!m.p!b5us!)g!b0d!f**5!n|!!.w!f6dn3)!!v+w!<*!tjtgf!o)ighbvdpfs!!>.>!!51s/)1!*>!!|q!jvnw!!|>!!*w6fsd!3>)?e!jtstffdouijhpvop/s{)-!!gejj!sfftdmufj!p~o!/<z2*n!!0,!!b*c5ts)!e.j!s2fsd)u!j0p!o*/2yn*!<.!!~5!nf)m!t+f!!*jtgt!f)ogibhdvfp!s>!>.!!22/s1)*!!>|!!qvjwn!!>|!!w*f5ds3!)>.?!!etjtsffodiuhjvppos/)y!-g!j.!!fetjmsff!d~u!j<p1on/!{,*!!*02!sb!c.t!)1esj)s!f0d!u*j1pno!/.z!*2<n!)~!!+f!m*ttft!fjogi!h)vgpbsd!f.!!>1>s!)3!/>1!*q!j|n!!v|w!!*>2!sw!f>d?3!)t.t!feojishfvdpusj)p!og/jy!-<!1e/j1s!f>d!uqjjpno!/uzb*p!m0g!!b|c!t*)tetjfsofidhuvjppso!/u{b*p<m!g~)!qfjmNtpfU!tjtgf!o)ighbvdpfs!!>u>b!p4m/g1!*\v!1|/!5v!w7!n>!!fwofjdg3f)e.$!\ve!j\vs9f4d1u1j/p1o!/7{w-!!feojjsgffdeu$j\vp!o\v/2z3*/!10!!7bsc!tf)oejjgsffed$u\vj!p\vo1//y4*!<6!n~!!ffomjtgff!ej$g\v!!)\vg7b2d1f/!1>!>6!w5!/f1o*j!g|f!ev$w\v!!>\v!6w1f4d/31)!.6!se!jfsofjdgufjep$o\v/!y\v-1!/e3j!s5fnd!ufjopjog/f{e*$!\v0!!\vb7c5t1)/e1j!s5fwd!ufjopjog/fze*$<\v!!~\v!5f/m1t!f5!s|!!fvowj!g>f!ew$f\vd!3\v)1e/j2s!f.d!u2jnp!of/oyj-g!feej$s\vf!d\vu7j8p3o//1z!*2!w0!!fbocjtg)feej$s\vf!d\vu9j/p1o!/2{s*!<f!o~j!gsffeu$v\vs!o\v!11//36!!.+!!1)nv!wf!o,j!g2f/e1$*\v<!!\v~:!4w4f/d14!!1cwj!mfjoojfgbfseD$v\vc!f\vV1W/)2t!b1nsq!mffosj3gEf!ef$o\vw!N~b!q\v-g!jwefodf4$!\ve!j<s*fzd/ugj!p-on-c!!g-mnpub)uy!jnnj!qoJsovuu*f!s|!!<g*myp/bgu!!-gsbcd!f-!m>c!)hyfjunG!b>d!fn)ce!j4sdffdwu!j<p*oy*/<g!!g-mspub!u-!mguj)myujfns!J>o!un!u>!!4ndbfyw)!d<vcchfsV/W*`*nwjvo!N-jqqbMNfwwoffm)!E.3!fnsjvquJyofuu-)!s1b/f1o*j<M!pnUjmqfJyofuU!q>b!Nnwboyf)!n>j!qmJco!u4-d!fdwv!c<ffV{Wj`TnmjfoyNfjuq!M>f.w!fym/*w<v!!g<mcphbsu/!*g*bwdvf!T-jq{bfN!w>o!ff)yEq33f)snvjuqyJfouu)*s<b!fgomjpMbpuU!muffyyffUmqTbjN{wfo!f>!!>2!/s1c!!04!d)f4w/!1<!f+{!jdTvmcffyVfWu`!n>b,y!Uzj/mwfvT!j<{cfh*s</!*\v*$wjvg!e-fqgb!NQwCoSf`)FEO3WfNsBvQu`yGfBuM)TsFb\vf!owjfMdp3U!mvfwy!f>U!qhbfNuwVoWf)!e>j!ssfud!u4jdpfow-!!<gfb{djfT*m!f+y!f)ug!b>d,f!Tyj/{wfv!!.<!c2h/s1/**!*,w!v1!/-6q<b!N\vw$offm)tEf3\vf!swvfudy3f!uv)ws!b>f!ohjfMupVUWm)feyjfsUfqdbuNjwpoof-!!>g!bmduf!*4!d+f!w)!g\vbfdtfmTfj${\vf!!<.c!h2s//1**w<v!!w-fqdb3N!wgo!f>)!Eg3sfbsdvuu)yvfwu*!<o!svvwu!f,s>!!\v1F/T6M!B.G!`gQ<B!N\vW$OfFo`eSjCgQ\v!!gjfge!g)jg$b\vd!f<!f?{!j3T/m1f*y!f|u!!v>w+/!zw!v,!><!*gfb{djfTTfjd{bfg<!!+g!b1d/f3!!..>!!f4{/j1T<f!m~j!Uvywb/ny`!W,V>f!cgvbdd!f-!1+/!1g)bydbfnT!j+{!f1</!4j!g>!,)!nyj/qwJvo!u<!f={!jdTvfcmfjVUWo`jnnb`yWNVjfqcMvfdw!f+m!*1!/|3!!v+w!/uzo!J,s>f!u3m/j1g!!+>!,d!vzc/fwVvW!`~n!b<yfU{jjmTf",Z["clipDirection.fs.head"]="g$jjegoeff$g\v!!D<MuJoQf`dEsJfSQFqDjUmJDPvO!\vu!bvpomjgg!pnssnp!gjjoouv!!v<DompjjquEdjfs",Z["clipDirection.fs.body"]="g$jjegoeff$g\v!!D~M!J\vQg`jEeJoSfF$D\vU!J~P!O<\ve!sjbgd!t)jveD!m|j!q*E*jssjfed!u-j*puoo!f?d!s1f*Q!q|j!mwDfvd)44!defjws)!u>p!ew!f?d!4*)o1p/j1u-j!t1p/Q1m-b!d1p/M1w*!<-!s\vj$ej)guepfeg)!!VgWj`!D\vMfJtQm\vf!$w\vf!d~4!!<demsjbqdQtpjtej!u|j!p*o*!s>j!ew!M-p*dubomfQdpstfjQuqjjpmoD<v!)\v4$dffowe)jugp\ve!!j?g!!*)ovpDjmujjqtEpjQsqfjdmudj!p-os!j=e!)3u*p!e|)!!egjjs!/~y!!\v>g!j2e/o1f<$!\v~!!<f*m1t/f1!!j-g1!/)1v!D-m{j/qwEVjws)f4ddufjwp!o>!!=o!p4j*u!j|t!peQjqsj/myd!!>\v!f.t2m/f1$<\v!!~<!*f1m/t1f!!-j1g/!1)!v-DVmmjbqdEpjMswfVdwu)j4pdof!w=!!>5!*o!p|j!uejjtsp/Qzq!j>m!d2!/\v1*<S!C~Q!)femftofj!gjfge!!)}v}D!m*jHqOEPjIsQf)deufjopjog!f=e!!6g*j!$|\v!!e<j1s//2z.!!>>!!.y2//s1j<e!!~|!!f*m:t!f=!!jogp!j)uvdDfmsjjqEEqjjsmfDdvu)j!pgoj!!=f!t7m*f!!|~!!e\vjgsj/e{o!f>$!\v2!/<1*<1!/~1!!f-m1t/f1!!j-g{!/)wvVDwm)j4qdEfjws!f>d!uojppjou!j=t!p8Q*q!j|m!de!j\vsf/t{m!f>$!\v.!2</*11</!1~!!-\v1$/j1g!e-fVgm!bVdWp`MDwMVJwQ)\v4!dffmwt!f>!!jogp!j)uvjDtmpjQqqEjjmsdf!d\vu*jSpCoQ!)=e!f9o*j!g|f!ee!j}s}/!y*!H>O!P2I/Q1)<e!f\vo$jjggf!e",Z["clipbox.fs.head"]="g$jjego!fN$B\vY!`<C*P6Y/`1D!M-J6Q/Q1F!S-!6?/!11)\v4!dvfowj!g>p!synb!Njqojum!dv!D4mdjfqwq!fustToipbdq!f<]*N6B/Y1`.C!P-Y6`/D1M.J!Q-Q6F/S1^.<)!4vdofjwg!p>s!no!jcNpqpjmm!dv!D4mdjfqwq!fustDompjdq!J<o^oSfFsQ]QNJBMYD``CYPPYC``DYMBJNQ]QyFjSs^u<b!NvsofjqgqpjsmnD!vn!b5u",Z["clipbox.fs.body"]="g$jjego!fN$B\vY!`~C!P<Yo`sDvMuJfQsQ!F<Se!s?b!d1t\vj!ew!f|d!4*!ewfMepsdbbdmt<j!Ectpjp)m!!gjjt!E\vjEtOdFb`sQePfPeM!`>M!MgPbSmOtVf$<\v!!w~f!d~5!!<wfXvpssum!e>U!fenfqe!s>b!dwtfjdE5t)jw!X|p!s*m*e6Q/p1t.j!u?j!pzo/-m!b2d/p1M*w<!!%\v%$!V6O/S1P!M=M!`zM/PmPbQd`pTMUwB!S%U%\v!!6g/p1s!!+)!j*ozu/!mjb!d>p!M1w<!!.j!!6=/!1N)B!Y=`!C*P{Yy`/DmMbJdQpQMFwS)<i!ujh,o,f*m!)|!!>waM!p^djb]ms!f>o!o)JvqDjmmjDqsqffqsqNjbmuDsvj!y%]%j!^5!!+>!>w!X^pjs]mfeqUbfinTqs*f/qyqzj{m<D!vj!g}!})!v*D6m/j1q.q!f?s!Tzi/bmqbfd]pjM^w!!>%>%!!26!/%1%!!=v!Dzm/jmqbqdfpsMDwm!j%q%J!o6o/f1s!]=j!^*!{ay>/!m)bbdmpmM)wm)fituthUoifbmo))!w>Map!d^bjm]-s!fdomojJqqNjbmyD*s*f!q%q%j!mbDmvm!)%h%s!f4b!u>f>s!U^ijb]of)qwbMipTdsbfmq-q!jdmmDjvq!N}j}o!***6*/!1}!}=!!v*DmmbjdqpqMfws)Tiiubhqoff]mj)^!!>>a>!!^3j!]%s%f!ovoDJmqjjqmqDfs",Z["fog.fs.head"]="g$jjego!fe$f\vg!j\vogfjee)oGfP$H\v*!\v\v!gvjoejogfp$s\vn!!<cspbpGmh!pvGGvp!hu<b!p\vm$gj!gn!sap)gejfogvj!o<fseb)fVOThFp`GVvC!Pu*b!p%m%g!!)nesfpggjjoofve!)\vQfItPmOfH$*\v!!}<}z!uejftgojfoEfhep)GQvC!Su*b*p*m\vg!!vnosjpggpjsonv!!w\vf3dQ5Y!Fv`GHpPhGD!pgmfpesg<j!$\v",Z["fog.fs.body"]="g$jjegoeff$g\v!!G~P!H<\v*!sjpgu!d)bvGGhpphg*!!-|*!xg/mepJb!u-!cehfsq/usip!m>p!D.hwpNGwvQ)p5tdjfuwj!p-oe/J{)<y!j\vn$!j>g!eefJg!!\vGgPjHe`oFfY$Q\v3!\v<!*gimupqbfue!!g-pshbGGbhdpuGpvs!!->s!b2f/O1h!p.G!vf)yqqf)u.t!ivuGppphnEtf!o>t!jsupzu!d+b!GvhGppgh!Eufboptmjgu!z\v!f+t!meff$q\vu!i<!*+i!ueqf",Z["skinning.vs.head"]="g$jjegoeff$g\v!!V\vTgFj`eToLfJ$O\vO!J~O!H<\vf!ovpocj!gopssvnu!fnsb!u<5^!*cjj)oueoNjb]utsfjdyj<s!uvboNjfgoppscn!!>n!bfuo5p!cc!j5ouebNnb!u|s!j*yjJ!ouwbfpsmtgf!<o!jb!uuutsojpcdv)uyfj!swufbdN5f!otplCjuofJho!e5fuyb<n!!b<u^uTsFjOcPvCu`fY!BwNf]dt5f!dtjlsjuobXNffjohpicu!<5!u\vb$nj!gnesfpgg!jCoPvO!F\v`fUtFmYfU$V\vS!F~\v!!<vfoojpgcp!sons!viujfhsi!q<!*t5bwn!q-m4fws!3-E3!wc!p-o2fwU)f5yuubvns!f><!!fvoopjcg!p5sunb!nj!o<u*!*czp!o-f*U6f/y4u!v,s!fyT)j!{+f!<y!en)b3ud5f!wh!f-ufCspvoufyNfbUufsojpyc))dEp3oftsuv!ujyof!ug!m>p!b5uw!!j5*d!f|w!!g<m*p*bzu!!-k*!6>/!3j!!,+!!y5)/!1+<!!ygem)p3bduf!wy!!->f!snvpuey)fkU-f!ogpmcp)bEu3)fcspvoufyUffuy!u>v!s4fwT!j5{dff*w*!<<!*g*mzp!b-u*!6z/!2>!!,g!myp)p!s+)!ky!e0)!3gdmfpwb!u-)fcspvoufyUffUyfuovpscf)TEj3{ffs*v*u<y!fgum!p>b!u3!we!y5!d>f!w2!/<1*!*0z!!g-m*p6b/u1)!c,p!oyf)U!f+y!uyves)f3Tdjf{wf!*-<f!sgvmupybfuU!feozp!c>)!E23/f1s!v0u!ygfmup!b>u!)2cwp!o5fdUffwy!u<v*s6f/T1j!{,f!*z<)!!z+!!>z!e",Z["skinning.vs.body"]="g$jjegoeff$g\v!!V<T{Fz`yT/L*JeOfOoJoOjHl\vt!!n+b!uf5t!scfpwoofJNybjusYu!b>N!ehofjucC)p!o>f!Nebfunssjpyg)ttolbjsouJ!o<exf/yu/iyh*j<f!Xnobjul5t!!c+p!oyffNubsufZW!o>j!lhtf!u+C!pXoufbNNbfuospjcy!)>t,l!jeofJoooejflyt/!z<*{</!unibhuj5f!XcopjolftN!b+u![y!f>u!shffWuoCjplotf!N+b!u[sujbyN)ftolpjco!J>o,e!feyf/o{o*j<l!tn!b<uz5/!uciphojffNXboujXl!t>!!+h!fyufCupsoffWNobjulstj!y+)!tZlujboNJfooepfcy!/>x,*!<e!fnobouj5l!tt!l<jyo/NubiuhsjjfyX!o>j!lntb!u+5!)y1f/u1s*f<W!otjlljto!N+b!uYsujbyN!f,o>p!ct!l>j,o!Xeffjohoijul/ty!!<+*!1c/p1o)f5NdbfuwY!<>!!telfjoooNjbluts!j5yd!f,w>!!<t*l1j/o2X!f-jehfinus/pzg!t+o!bcspuo)f5NdbfuwZ!<+!!tyljjsouNbbNuesojjyc!!,>>!!ytflujsofXWfojjhlitu!/5{d!f+w!!c\vpgojfeNobfu$[\v<!!<t{lzjyo/N*b*u1s/j1y!!-,u>o!fthlojboUXufdjfhkicup/)x5!d+f!wc!p+o!fyNjbsuuXb<N!otjlljto)N5bdufswj!y>!!>u!ocfjhooebNUbuudsfjkycJpo!w\vfUsOtFfH!O+B!Ut`lFjToVN!bgufsejgyj!$+\v!!c<j{ozeyN/b*u*s1j/y1<!!-pmcbknfsdpuOOupdsfnkbcmp!)>5!dwffwd!5+)!tyljjsouNb",Z["shadowMap.vs.head"]="g$jjegoeff$g\v!!V\vTgFj`eToIfB$E\vP!X<NeBsQp\vp!D\vx$pjegbeiftg!!5VdTfFw`!DhToNj\vz!svbowj!g<pysjns!unbbNux5p!etbiibte!p5xuNbbnu!snjsyp]gDjToNv`!D\vBfTtDmBfE$F\vT!^<<^!TwFbEsBzDjToBhD!`wNfTdD5]!etsipbpeDpx",Z["shadowMap.vs.body"]="g$jjegoeff$g\v!!V\vTgFj`eToIfB$E\vP!X<N*B1Q/\v2!!\v-$ejfgnesfpgg!tVoTbFs`uD)T5Nd\vf!w\v!$+V!OySjPsMuMb`NMmPfPeQp`NTvU!B+S!Uy\vj!sgupbsN!x)pjeobui!tj!!>>!!e1s<p!pjD!x=p!eDbTiNt`!D\vBfTtDmBfE$F\vT!<\v!EjO,F,`*Q!P|P!Mt`iMbMePpSxODVp$p\vs!e~]!j<^*!1>/!2t!i-beefpnxsNpbgutsojbys]uj)^5!d+f!wv!N+p!eyfjmsNub",Z["shadowMap.fs.head"]="g$jjegoeff$g\v!!V~T!F\v`gTjIeBoEfP$X\vN!B<Q*\vq!ev!o-j*gzp/sfn{!jcTpmpfmy!ftui!b-eEp4xeDcv)mWmV<p!Uvfocjvgdp!s-nq!bgNmxppbeub!itti)bfespbxqJnopuDfEo3tfjsuvzu<y!fvuo!jogspvsunf!sg!m\vpfbtum!ft$i\vb!e<p*x1C/j:b!t0<!!1v/o2j)g!p+s!n*!!g*mqpeb!u-!*tzi/bfe{pjxTSmbfeyjfvut!<-!yvyozj/gupfstng!gcpp!p,m!!Et4iebce)pWxVSpfUdffcjvwdf!<-!qvboNjxgppesbni!tw)ffds3b!qtnipbDeEp3xfTsjv{ufy<f!u\v!$,j!g*eqfeg!!-V*TzF/`fD{TjNT\vm!fvyofjug!p-syny!yg/mupfbtug!gdpt!n,E!fEq4ueicS)bWoVhpfU<f!cvvodj!g-pqsbnN!xwpfedb3i!td)tfnsDbbqtndpbDeEf3tf]sDvTuNy`fDuB!T,D!B*EqFeT!^-<*!zw/bfs{zjjTomhf!ywffud!5-!ztyizb/eupfxtDgpgpps!e,]!DET4Ne`cD)BWTVDpBUEfFcTv^d<!!-vqobjNgxppsenb!ittb)nfqsmbfqsn3pED!Et3ifbsevpuxyNfbuq!],D!T*Nq`eD!B-T*DzB/EfF{Tj^T<m!fvyofjug!p-szny!yg/mupfbtug!gqpd!t,t!DET4NeMcj)hWiVupTUjf{cfvDdp!s-sqfbdNuxjppeob]iDtT)Nf`sDbBqTnDpBDEEF3Tf^s<v!u\vy$fjug!e,f!g*!qDeT!N-`*GzB/EfF{\vj!Tvmofjygfpus!n-!Eg4mepcb)uW!VdptUnfGcbvedf!G-bqdbuNpxsp<e!b\vi$tf)ofesjbgq\vn!p\vD$Ef3mftsfv\vu!ywfbus!z,j!o*hq!ew!f-d*5z!/tfi{bjeTpmxfDypfpus!e-<y!zvzo/jugfptsgng!pt!b,n!qEm4fesc3)EW!VtpiUbfecpvxdN!b-qq<b!N\vx$pfeobeijtg)\vf!s\vb$qjngpeDfEg3!fTsIvBuEyPfXuN!B,Q!`*UqZeQ!F-`*QzD/TfT{\vj!Tvmofjygfpus!n-!ywzfyd/4u!fqtdgtgtpQ!b,s!bEn4te<c!)\vW$VepfUgfjcovfd!!C-MqPbDNLxFpSe`bTiFtB)SfDsIb`qTnBpNDQEM3FfTs!v4u3y\vf!u\v!$,e!f*gqjeo!f-!*QzD/Gf`{TjBTNmQfMyFfTu!!7-5z\vz!zd/puofttug!gwpf!d,3!!EQ4pejct)tWpVopTUbfncqvmdf!s-tq4b3N]x4p3e^b!i>t!)wffsdb3q]n4p3D^E)3!fwsfvdu3y)f1u/!1,7!5*1q8e1!2-4*-z!/1f/{1j6T5m1f:y:f3u8!*--z!zwyf/du3f)t1g/g8p4!7,7!6E848e-c!)1W/V6p8U9f:c4v:d5!*--q!bwNfxdp3e)b.i1t/)7f3s8b1q6n5p3D-E!3.f1s/v6u4y3f1u3!8)9!*o-s!vwuffds3!)<.z1//f5{1j:T7m2f1y8f-u!!1+/!9t5v2j2e1b:S6x*p-e!bwiftd!3+)!1*/27!9-52:!6.7)53-d!f.w1!/>5!:u:f1t9g2g9p*!-3!dwffwd!3\v)*.U1G/P9T8`5G2D9Q2`-F!Q.Z1U/`1Q5B6N8X:P8E4B6I*T-)!ewffodj3g)f1e/!:}:}9!:*:G:D9Q-`!F1Q/Z1U1`1Q:B9N9X1P1E7B7I*T-)!ewffodj3g)f.e1!/g1j1$5\v:!3<1*6o8p9j-u!j.t1p/Q:p2U6u2i7h5j:m*)-f!{wjfmdb3n)s1p/o2!9>1!6E847e4c-!!41d/f:w8!5<8t5b9j4C*x-p!ewbfidt3!)>.,1!/q3e2!4<9*5s6b2f-O!b1s/f3n7b4D6x9p2e9b*i-t!!w.f!ds3b)G1b/s2f1n:b9D5x6p-e!b1i/t4)9!905!8*9s6b*f-O!bwsffdn3b)D1x/p1e7b9i8t7!8.6!6*-o!p.j1u/j4t6p9Q2p1U8u5i*h-j!mw)fidu3h)o1f/m4)8!5>1!8q4e-!!u.b1p/m8g7!7<2{3z7y7/*e-s!pwpfDdx3p)e1b/i4t1!8>:!2o4p3j-u!j.t1p/Q2p3U2u7i8h7j4m*!-4!dwffwd!3<)*.*11//438!:-514/456)-3!d.f1w/!9+3!8f2{6j9T4q*b-N!xwpfedb3i)t.)1!/03!1*419/829)-3!d.f1w/!1>8!8f2{6j1T4m5f*y-f!uw!f3dd3f)w1!/|6!:*2s3b7G:b8s-f!n1b/D2x5p7e:b8i:t:!*u-b!pwmfgd!3-)s.b1f/O9b9s1f7n:b-D!x1p/e4b1i4t2!8u9b5p*m-g!!w-feds3p)p1D/x6p1e5b1i2t1!95-d!f1w/!9-3t9v4j8e3b3S*x-p!ewbfidt3!)u.b1p/m6g9!5-5t2b3j5C-x!p1e/b6i5t:!5u9b8p8m*g-!!-wff{dj3T)q1b/N7x1p2e8b8i:t:!-3!d.f1w/!2-8q3b7N7x6p5e*b-i!tw!fEd33s)f.m1q/n6b6t6)5x:p9e2b-i!T1u/o2j6p6Q:u:f:h8!*u-b!pwmfgd!3~)!.<1*/6481/217!4-76:8-4!/.11)/34d:f1w1!:,3!9s*b-o!bwmfqd!3+)!.*16/36/616!1-764332-/!1.)13/d2f8w3!4o8s7v3u*f-s!!w~f!d<31)/13/!:.3!6Z1o3h:j-t!!1+/!3{:/:w6!1>5!2z*/-s!bwofbdm3q)!.<11//335!8,4!2Z4o8h-j!t1!/+6!614/936!1,6!*y-/!ww!f>d!3y)/1s/b:o2b9m4q1!4<8*-z!/.w1)/o3h9j7t3!4>:!3Z*o-h!jwtf!du3b)p1m/g3!5|7!:*5f3o2P-u!t1p/n7m8b2!9>8?2!3z*/-W!twcfbd)3!)g1j/!4f:t2m7f4!:~8!-<!Y.o1h/j5t4!3+9!311/:3*!-,!!wYfodh3j)t.!1+/!1{4/6w8!7>:!3y8/-s!b.o1b/m7q3!3<1*1y4/3w*)-o!hwjftd!3>)!.Y1o/h1j5t7!7u2b3p6m6g-!!|1!/*8f:o:P6u3t1p2n*m-b!!w>f?d!3y)/1W/t5c5b1)3!:g3j5!-f!t1m/f4!7~5!1<4y2/3w*!!.*!<1!/d5p!o>t!uy!/wsfbdo3b!mQqp!j*t1t/p1o!T?b!n{q/mwf)s!tg7j5!]|7!5*^f!o>P!uwtfpdn3m]b7!5>^?)!!{w/fWdt3c)b.)1!/g7j2!4<4m:f3y-f!U1B/u7t2p8n5m9b2!*.-!!1w/f2d!3>)!1f/o2P8u1t1p2n:m-b!!.u1b/p1m5g1!3<6Z5f*{-j!Twmffdy3f)u.!1+/!36:/:25!2>8!-m!f1y/f8U:B2u:t3p6n*m-b!!wufbdp3m)g1!/<7z5y6/7w9!1>-!!s1b/o5b:m4q3!231d*f-w!!w<f*dZ3f){.j1T/m7f6y2f8u9!5+-!!11//38!2.8!919/82*)-!!+w!ffdc3v)D1p/U5f3m2b1d1t4!->!+1!/w1!3<8f1c8v1D*p-U!fwmfbdd3t)!.>1+/!9W2t8c2b:!5<-*!*.{1//W3t8c2b1!:-7z*/-W!twcfbd)3y)b.n1!/-8y1/6W4t8c5b-)!y.b1n/!707!913/124!*>-!!fwcfvdD3p)U1f/m:b8d8t1!6u1b-p!m.g1!/<2*1w9)7t2c6b*!->!!wWftdc3b)!14/d1f7w4!4|3!7*-Z!f1{/j2T5m3f4y7f:u*!-u!bwpfmdg3!)-1w/!341d4f6w3)9W-V!p1U/f3c2v5d4!432d*f-w!!w~f!d<3x)p.e1b/i7t7!8o6s4v2u-f!s1!/~4!3\v7g1j:e1o*f-$!\vw!f<d*3{)/.e1s/p1p:D9x5p3e3b-i!t.!1-/z3y:/6e8s6p6p*D-x!pwefbdi3t)!.-1q/b9N9x6p:e3b3i-t!)1f/s3b2q6n4p7D:E*3-f!swvfudy3f)u1!/>6!7x7p7e4b8i-t!!1\v/f7t1m6f3$2\v4!*<-*!owpfjdu3d)f1s/s1p4D:f8{7j7T-u!i.h1j/m4!:-7e2s1p1p*D-x!pwefbdi3t)!1-/q8b6N2x:p5e7b-i!t1)/x5p6e4b4i6T3T*T-D!Qwuffdh3!)>1!/x1p8e9b8i1t8!-\v!*.T1T/D8Q2`6F4Q3Z4U*`-Q!BwNfXdP3E)B.I1T/)1e8f6o9j4g9f-e!!.g1j/m6f3$:\v4!5<5**1-/!:w!f0d!31)/12/)8!3+5!5*8!:*-{!/.e1s/p6p9D1x8p:e9b*i-t!!w-f*d23z)e1!/-323y3e:):3:d-f!w.!1,/!3z2y6/2e3s6p*p-D!xwpfedb3i)t.!1-/f5{7j8T6q8b5N-x!p.e1b/i5t1!6-5q4b9N*x-p!ewbfidt3))q.s1f/M3x5p9e3b7i9T-E!3.f1s/v9u2y5f8u6!4,*!-*!{w/feds3p)p1D/x4p6e5b5i2t2!--!*.21z/e9!9-816/811)*3-d!fwwf!d,3!)z1y//2e8s6p9p2D8x-p!e1b/i4t9!3-4f7{7j*T-q!bwNfxdp3e)b1i/t5!9-8q5b8N3x-p!e.b1i/t1)7q4s1f9M3x*p-e!bwifTdE33)f.s1v/u1y9f5u1!8,9!-*!{1//e9s:p9p4D2x3p*e-b!iwtf!d-3*)21z/e5!9-919y8e7)-3!d.f1w/!8,9!4z5y5/2e*s-p!pwDfxdp3e)b1i/t5!8-1f1{2j7T-q!b1N/x3p2e8b:i4t4!*--q!bwNfxdp3e)b.i1t/)7q:s7f9M:x1p-e!b.i1T/E635f:s8v:u2y*f-u!!w,f!d*3{)/.e1s/p2p5D:x7p:e4b-i!t1!/-7*116/817!3-*2-y!ew)f3dd3f)w1!/,1!4z5y3/2e2s-p!p1D/x:p8e:b:i9t1!*--f!{wjfTdq3b)N1x/p6e1b4i1t:!9--q!b.N1x/p4e1b9i9t8)9q*s-f!Mwxfpde3b)i.T1E/31f2s7v3u1y6f-u!!.,1!/*9{8/3e:s3p2p*D-x!pwefbdi3t)!1-/z4y9/6e8s9p5p-D!x.p1e/b4i:t4!:-1f3{*j-T!qwbfNdx3p)e.b1i/t2!5-7q9b9N7x-p!e.b1i/t9)6q:s3f5M:x*p-e!bwifTdE33)f1s/v7u5y4f4u7!2,-!!*1{//2e7s5p1p:D9x*p-e!bwiftd!3-)*11//714!5-419y9e-)!3.d1f/w1!5,:!5z8y2/*e-s!pwpfDdx3p)e.b1i/t7!9-9f9{:j5T-q!b1N/x1p1e8b9i5t4!*--q!bwNfxdp3e)b1i/t5)7q5s1f4M5x-p!e.b1i/T2E939f9s2v9u*y-f!uw!f,d!3*){./1e/s5p5p1D9x5p1e-b!i1t/!2-4*815z9e7!*--2!ywef)d33d)f1w/!4,7!5z5y9/4e-s!p1p/D6x2p2e8b1i5t*!--!fw{fjdT3q)b1N/x1p4e5b1i3t9!--!q1b/N4x3p6e:b7i9t*)-q!swffMdx3p)e1b/i1T:E:31f:s5v-u!y.f1u/!4,1!9*1{3/4e*s-p!pwDfxdp3e)b1i/t7!:-4*:17z1e-!!-.11//14)737d3f6w4!*,-!!zwyf/de3s)p1p/D7x8p9e9b9i5t-!!-.f1{/j3T1q5b7N9x9p*e-b!iwtf!d-3q)b1N/x1p1e2b9i1t2)-q!s1f/M8x9p1e4b3i9T*E-3!fwsfvdu3y)f1u/!2,5!6*2{8/8e-s!p.p1D/x9p:e9b:i9t5!*--*!1wzfed!3-)11y/e1)733d7f6w6!-,!!.z1y//7e2s2p9p7D7x*p-e!bwiftd!3-)f1{/j4T2q6b3N3x7p-e!b.i1t/!7-1q5b3N:x8p*e-b!iwtf)dq3s)f.M1x/p8e9b1i2T5E63-f!s1v/u5y9f7u3!6)2!*>-!!xwpfedb3i)t.!1</t4v8j2e9b7S9x-p!e1b/i9t9!3+2!4z9/*f-{!jwTfmdf3y)f1u/!3,1!1>5!827z-e!!1u/b5p:m5g5!4<1t*v-j!ewbfSdx3p)e.b1i/t5!:+5!6y6/3f-{!j.T1m/f8y2f2u1!6,2!*>-!!2wyfed!3u)b1p/m7g2!3<5t8v7j-e!b1S/x8p1e6b3i6t3!*+-!!zw/ffd{3j)T.m1f/y6f8u9!9.5!6>-!!1.z1e/!8u7b9p8m:g3!*<-t!vwjfedb3S)x.p1e/b8i8t3!5+6!5y-/!f.{1j/T1m:f1y:f8u7!*.-!!>w!f1dy3e)!1u/b6p1m5g5!5<1f-{!j1T/q4b8N3x3p:e6b*i-t!!w0f!d*31)/12/)236d6f8w4!7>-!!f1{/j1T7m6f2y6f8u*!-3!dwffwd!3\v)*1U/G4P:T2`6G3D3Q-`!F1Q/Z9U5`:Q7B1N6X*P-E!BwIfTd)3e)f.o1j/g7f3e1!2g1j7m-f!$.\v1!/<4*319/2:1!50*!-1!/w2f)d!3+)!1*/!8*9{:/3e4s:p-p!D.x1p/e5b2i:t:!7-6**2-z!ew!f-d23y)e.)13/d6f5w6!4,:!7z-y!/1e/s6p4p9D2x4p4e*b-i!tw!f-dq3b)N.x1p/e2b8i9t6)7f5s-b!q.n1p/D6E:37f1s6v8u*y!f*u<!!,g!m*p{b/ue!shpfpuDQxDpTeTbTiitb!e-p*x2)zteb!n-q1m/f1s)33Ed!ftwi!b,e!pzxyN/beqs-p!pwDfxdp5e!bdiptp!s-eqtb-N!xgpmepbbiut!)mfjshbiqunTpjD{Ef3Dfpssvsufydfuuj!p,o!**!{|/!ewsfpdp3D!xvpwe!b>i!td!p-p*s2ezte/!y-z1<y!eg)m3pdbfuw!!{,S!fzdyf/jewsfpsp!D>x!pdepbpiste!t-/q{b<N!xgpmepbbiut!)tffsbbsqdnipSDbEe3jfvstv!u>y!fqud!t,t!Q*b{s/benstp/pyD!x+p!eqbdittt!Q-b*s1b/n1t!/-z2!y+e!)m3jdhfiwu!T,j!{zfyD/pessspfpdDuxjppeob<i!tg!m-pqbbuN!xcpmepbdiltf)sfEsfbqqunipTDvEn3!f>s!v1u/y1f<u!!j,o!u*!{o/vensCpmppDdxlpfesbti!t>!!-1z<y!/gepssp!p)Djxopue!bji!t>!!-1q<b!Njx!p=e!bCiMtP)DfLsFbSq`nTpFDBES3DfIs`vTuByNfQuM!F,T!<*!{j/,e,s*p!p|D!xgpmepbbiut!!t-i*b1e/p1x!N-b1qyEef)q3udif!w>!!,v!ozqyb/delsSpHpCDBxUppeEbfiqtu!i-)qubfNyxupvesbfi3tE))ftsibbqenppxDNEb3qf-s!vvuwy!f,u!!Q,p!j*t{t/peosTpbpnDqxmpfesbti4t3!]-j*^1!z+e!!t-f2bysed)i3Sdbfewj!v,t!*z*y</!ejsgp!p)DtxipbeebpixtN!b-qqEbfNqxupie!b=i!t{)SffsdbfqjnwpfDsE*3!f|s!vcumypfdul!f,s!E*f{q/ueisTpvpnD!x,p>e!btiitb!e-p*x1Nzbeq!E-f1q/u1i)<3!dofvwn!C,m!pzdyl/fesstp!p,D,x<p!e~b!i~t!!j-gq!b)NoxvpneCbmiptd)lffssbtq!n>p>D!E13*f!ssvfuuyvfsuo!!,2!/*1{</!egsmpppbDux!p{eCbmiptd!l-f*s1!z>e!!c-m1pydel)f3sdEffwq!u,i!Tzvyn/!e0s!pgpmDpxbpue)boivtn!C-mqpbdNlxfpsetb*i<t!)gfmspbbqun!pbDbEP3gfgstvfuuy!f>u!!q)d!t>t!Qxbpsebbnitt/!z<!t+v!j2e1b/S1x<p!egbmiptb!u+!!qzf/ofv{njcTsmbfSybfuuj!p,!!>>!!)2{zSef!dufbjpwmfgs!!<.t!v{jCembpSdxlpfesb*i!t,!!+b!byP/gfg{tjfTum<f!ygfmup!b,u!!>g!j2myuef!suSbbpemjgv!t<!t>v!jqefboSvxnpcesbbiStb!u+j!pz!/+f!{qjdTtmtfQybfsub!n.t!/>y!!1+z!eq!dutbtpQmbgs!b<nttv/jze!b+S!xqpdetbtiQtb!s+b!nyt//f{{!j+T!mmfjyhfiuu!T.j!{>f!D1pyses!fudbupjmpgo!<<!fg{mjpTbqub!Ntxipbeebpixt!!>0!!1*/11/<2!)g3mdpfbwu!!>s!bfo{ejgT!m>f!ygfsub!d3ud)ftwj!o\v)*eGpDuQ)`vFwQ-ZwUf`dQ3B)N2X3P/E:B9I:T9)-e8f9o/j3g4f4e*!*g*j!$+\v!!5|4!8*6u9t/f6U5n6v4u*t<v!sggm)p!bguj!!s<p*udbfuWjuptofBUonhvmuft!v>s!gs)bmomebg!!>+!!u4t/f2U5n2v6u:t3v7s<g!!wmfpdp3c!!s<p*u1b/u2j!p>o=W!f{d/uepssp!p>D!xwpfedb3i)td!p-tn)vsuptuvbsuGjopjo)B3odhfmwfc*!->!!tdjfoW)ustpfuUbnuvjuptovBsogh!m3fd*f*w<c!!w<f*dd3f!Wpngvguttfvus<G!o\vj$)VmOmSbP!M>M!`nMvPuPtQv`sTGUoBjS!Um\vp!pgcp!s<!*)1j/o2u!!>j=!!>z!/1e<s!pjp!D=x!pQeDbGi`tT!B-N1Q/M1F!T><?!!jz,/,e*s!p|p!Dpxgpgetbfiut!!>-!1Q/p2j!t>t=p!oyT/bensqpmpfDsxtp7e5b]ijt^!<-!1p/g1g!t>f?u!!y>/!ewsfpdp3D)xppgegbtiftu)/!y5!d+f!wscp!u>b!udjfpWonWvfudtuvpssG/oyj!!.5!dpfgwgct!f<u*/:z:!:+:!:s:p/u1b!u-j{p/oeWsfpdpuDpxsp/ezb-i!tp)gogjtnf!u>/!z{!/+e!sspppuDbxupjepboiWtf!d<utpbsj/Cyx!p,e!bpigtg!t>f,u!/{y/!e+s!psppDuxbpuejbpiotW!f<d1u/p2s!/>z!*x<p!etbiibte!puxb!p,m>g!!t|u!f*qo)p{jSufddffsjswpfDsf-{!jvTouqibhdjlmS!HuCbBpUmpgE!f-qeusip)puDfxypuevbsift3!E5)dtfiwb!e-ptxvNjbeqb-S!xvpwe!b,i!tp!gugbtpfmug!!+-!tgbjjmCuxfpseSbbietj!vutb*p*m*g<!!-~f!{\vj$TVqObSNPxMpMe`bMiPtP!Q3`dFfOwE!\v-!qtbiNbxeppexb!i0t>!!Eg3mspfbmuq)nQbDtG)`xTpBeNbQiMTFuTf*h<!!utbipbmegp!x~!!><!dn!joys)vtuifbse!p<x*-y!/2g/!--!c{!S-fbd)fyjjwnf!s>!!.d!!{uCbmppmdgl!f<s**z</!gs!f-uuvss!o-!ctsi)byejpnx!<>!!~c!!\vu$bfpomegj!g<\v*!zg/mgp!b-uu!mu!f-ycumv)syfj3nE!D>p!nbq!busbfp)mtgb!n<q*m6f/s13!E,!!eff{qjuti!t+-!!wwvf)du3d!bvswg-!!>g!mgp!b3ud!fdwp!n<q*bfssfb*q!n|p!ds!f-uzvzs/ou!fttugfgqp)!d+p!nfq{bjsTfm-f!yvfouq!b,d!lWSVHeCjBpUspuEoffqdu!i-)tuifuyqufves)ff3sEb)qenfpqDuEi3tf-s!vvuwy*f*u*!<>!!~u!sg!mupbbpum!gu!f<y*ufvssbfq3nEpTdi!b-eypzx/Muffstqg)gtpb!n+q!mff{sj3TEm!feyffquu!i,t!-W!Vwefjdp3s!utojf{df!--!twifudq3f!ev)wf-s!bgqmnppbDuE!3dfpsnvqubysffu*!!>|!!cdsp!outbup!mwgf!d<3*!fpsgbgqtnfpud!!>-!zwyf/du3f)t1g/g1p-!!+2!/f1{*j<T!mwffydf3u!!u,f!yWfVmeTjjp{sfu!o>f!dw!f-dt3i)u2q/f1e*)!f0s!btqjn{pfD<E!3wffsdv3u!ydffuo!u>s!pujme!VuWb!p>m!gg!m<p*pfss)bvqwn!p+d!!t-jy{yf/!u,f!t1g/g6p*!!+0!!ft{jj{Tfm<f!ygfmup!b,u!!WmVce!j>p!suufoyfudv!s-ft3iEuDqpfneq)bfs",Z["shadowMap.fs.body"]="g$jjegoeff$g\v!!V~T!F\v`gTjIeBoEfP$X\vN!B<Qf\vv!mjbgW!x)pteibbietp!x>S+f!dnfsjfwUfu*s!f|c!ngbmmp!b\vuf!ttmifb$e\vp!x<WfbvmmvbfW<x!p\ve$bjigte!f>g+!!VsTpFm`pDdT/Nu\vi!hgjmMpubduf!smjjeo!f\vb*sSECfQq)ueif!o>j!g.fweN!w}Q}p!t*jHuOjPpIoQ/){e!f0o!jdgtfneE!fgqju$i\vS!b<o*hffv<m!btWixbpeepbxiWtb!m.v!f1!/>2!)2!/+1!<z!u\vj$tVoOfSuPoMJMx`pMePbPiQt`!T.U!B1S/U2\v!!>g!pfsv!m)bjWoxup!ejb!i>t!!1~<!!<jo!s=v!uDfTsN!`<DeBsTbDdBtEjFeT!<|!!j*,1,/*2!!|>!?j!gf!v)mmbjWoxfpbesbEiftq!u%i%!!?m>m!vdDtxnpDebbtidtb)e!fgtj]!j\v^g/jye!o%f%$!\vm!j<o*f1b/s2E!f-qeusip!p=D!xdptenbDibtt!d-btevfjte]bjS^x/pze*b!i|t!!t-itbbejpCxxWpbembvift!!+->f!{hjfTuxTpiebbeiptx!)-tqibbNexppxeNbbiqt])Jx^p-e!btiiTbuefphx!T>j!{ffv-m!btWixbpeepbxiCtj!b\vtf-t!mtfi$b\ve!p\vxESObFe`jQvPtP-M!`tMiMbPeSpOxVD$p\vp!s~e!]~j!^\v-g!jqedotft$D\vT!N\vMgjjheioufT$j\v{!f~D!p<s*spfjduubjSpgog]jje^!*-<f!v\vm$bjWgxepfegb!iDtT!N-`xGpBeEbFi\vT!u\vy$fjog)!y]jJn^!!>=!!fDvTmNb`WDxBpTeDbBiEtF!T<!*.^!22,\vj!]gomppjbuud!fesjsgpgDSfb{ujjTpu!i>h!j)MdNtTnDDtbttddqb!e-f^t2],jj^]/ezs!p.p!DmxjpoefbbistE!f-qtuvij*e!b0S!x)pdetbniDtb!t-dtbbejfCtx]pje^b/izt!!.-!fd{tjnTDxbptedbbietf!t-]^j2^,/Jy]*q!b+N!xdptenbGibte)fxGpbedbuipTsu<f!hj!g>!!)xepjegbgiSTbuuyjfpo!!=u!b2p/m1g*!!|",Z["bufferGrabber.fs"]="~0!0\v!g$jQeSoFfG$J\vY!\v<!*\v1$/e2f!g-j*omfb!nDsMpJOQw`)ECJHSSFpDUUmJbPnOs\vp!Owlbdsbzqj)o5hd!fwwf!d>4!!mwbMnpsdpbOmhQbpstgj!u\vjMpBoN<S!P\vO$`jCgBeSfHg!!gHfSeBgCj`$O\vP!S<N*B{M/\ve!smpbpzDphvbus)Gm`pmdhb)uBjCpHoS>p2U*i!upqvfuE!lidjbhqi!q>!!wsfpdm5p!DghsbbshGO`pmshn!b\vm?<z!ewpbcs/ztjgo/hy!pwcfqdj4m!dw=O!pfsenvbmmd<o!j\v$$\vf!o\ve?jzge\vp!c\v/$tjgo/dompvjeufd!f=sqjbEdqljjmodh=?!\vf!e\vv$mjdoodjm$v\ve!f|!!=*d)mojjqbEnj!sefjdpuwj!p\vog/jgeto/fi$f\vb!e<?o\vp!j\vu$jjtopdQmevmesfp!X=wd!m4jdqfcwp!yh/ogjtz/sibfwb!e\v?1\v!!?\v!$SjFgQ!QNJBMYD``CYP",Z["flowMap.vs.head"]="g$jjego!fN$B\vY!`<G^MUPDXF`KPCCPK`FXDPUM!G?`!Y1B\vN!]vwoVjxgppmsgn!!3ndbfuw5!!hgomjpzxsNbbwu!s<j^yU]DNFBKYC`PG`MXP",Z["flowMap.vs.body"]="g$jjego!fN$B\vY!`~G!M<P6X/`1P!C,K!F*D{U/!m?b!d1p\vM!wwVfxdp4m!gg!m,p!xzV/wmMbpddpbMmw<V!xgppmsg!.)!j-oyu/!mjb!d>p!M1w<V!xjp!m=g!)N3BdYf`wG!M>P!X^`jP]CwKVFxDpUm<g!!j<,{,z*y!/|*!*g1m/p2x!V-weMfpndsbpmg!t>o!b)sgum)p5xdNfbwu!s+j!yy]jjs^u!b+N!mvfNep",Z["flowMap.fs.head"]="g$jjego!fN$B\vY!`<G^MUPDXF`KPCCPK`FXDPUM!G?`!Y1B\vN!]vwoVjxgppmsgn!!3tdbfnwq!mhfosj3zEs!bgwm!p<x^UUfDyFuKvCsPf`]XNPBMYG``GYMBPNX]`fPuCjKoFjDgUo^J<x!pvmogj!gmppspnc!!cnpsppmg!jgomvp!x<F^oUbDcFmKfCeP]`NXBPYM`G",Z["flowMap.fs.body"]="g$jjego!fN$B\vY!`\vGEMOPFX``QPPCPKMF`DMUM!P?S!O1V\v$!\vw!f~d!5\v!ggjmepoxfU$f\vy!f<mc<h!s\v/$mVfOySfPUMxMp`mMgP!P>Q,`!TcUhBsS/Ue\vJ!!g\vpfst!m)fj$o\vu!!<jb>c1h<s!/jm!f=y!fNUBxYp`mGgM!P>X,`!PbCcKhFsD/Ue<J!!j\v,*,!*B!C|H!Sg`mEpExBU`fFyEfPmN!`>E!OuFfMyCu`vXsPfM3GE!))gemfpoxjUgffyeu!vgsjfm]fJ$^\v-!!<gbmcphxsV/wm]fjy^f*U<x!pjmgg!!)>g!mbpcxhFso/becJm!f\ve*]!jB^C!H%S%`!F)EgJmSpSxFJWoPg`jFoEjPuNf`]EjO^F!M}C}`!XbPmMmG)!m)fetftoUjigbfoe)!ggmjpmxfV$w\v]!j<^b-/!mwffydf3U)x2p/m1g*!*>*!!b%/%e!Jb!m\vm*)!hBs`fFbEuJfSsSUFiWbPo`)FgEmPpNx`VEwO]FjM^C-`!XwPfMdG3!))1e/f1o*j*g*f*e*!!g\vj$mjfg$!\ve!f<gcjhosf/em)f!yGfMUPxXp`mCgM!F>O!Ec`hNsP/EeFJ`!N\vV*M!UCJHQSM`ZF`ESJHSCS!F*W\vP!`JFeE/PsNh`cE!O+F>M!Cg`mXpPxMUGf!y)femf/osjhgcf<e!!\vg$jfmmfj$g\v!!e<fbgcjhosf/em)f!yGfMUPxXp`mCgM!F>O+E!`bNcPhEsF/`eNJV!M\vU*J!QBMCZH`S",Z["normalMap.fs.head"]="g$jjegoeff$g\v!!V~T!F\v`gOjPeSoNfB$M\vN!B<Q*\v{!/vOoqjbgnp!s+n!!ntsbpnoq`mgfssv3tE!!,o!pzs/nObqmbNnb!q+<!!*\vu$ojfghooebfugj!CVwT)Ff`{VjCmPb\vn!svpooj!g,p!syn/!Owqfbdn3!!+o!p*sunobfmhTodbbUmwf)<f!{\vj$mfbonesjpgo\v)!f\v{$jjmgbenfsgp!oV!ToFs`vUuBfOsH!F\vOfUt\vm!fw$b\vs!z<j*o{h/!Owqfbdn4!!+w!UOb!o,h!f*ofum<b!dwtb!s+z!jzo/hO!qwbfnd)4!!+w!CCj!u,b!o*hffmobud<t!!\v+$!fyo/eOjqgb\vn!)\v!$+f!oUe)jfg{\vj!m\vb$njsgp!o)!eofsgvjuoffse!)<V*TuFf`eO)PuSsNrBtMfNtBsQf*w!o}j}!!+e!fogpjjoufdef!s)jVETfFd`bDgM!F;B!S1D/P1B!U@`!O*P1S/N1B!M>N>B!Qu*f!e})}!!>e!ffgmjbodfte!)uVbTpFm`gV!W<****\vC!!w-fCd)4u!pqef!s-u*vUs!c-OUp)sunpbem)3yBbsnc!)>w!fudf4e!!fuzbfp`mqgp!t<-z!/w2fudt4!!+t!vqssgf`qo1prs!n,-!!zw/f1du4t!!n+b!qqOs-f!qg2mrp!b>u!!Cg!b4ddffEwj!s<fyd/u2jupto!*+!!|q!s\vf$qj1gr!!a,e!fyg/j1oufte!)+V!TqFs`fUqB2OrH!F>O!UU*!\v4!dwffwd!4<!*r11r!!>-!Oe)Gtetyp)sfdz!f>`!qqpstf/qy1zr{!*4<d!fwwf!d<4*!Or!2-!2>r!)etGtepzs)df!z>f!`qqspftq/2yrz!{4*d<f!ww!f<dn3s!ptou`1g!s>v!te!G>e!yO)!w4Vdwf/wt!u<**<u!tw/fwdV3w!)tzue2G!e>!",Z["envmapPhysical.fs.head"]="g$jjegoeff$g\v!!V~T!F\v`gFjOeWoNfB$Q\v\v!!<v*o1j/g1p)s4nd!fgwm!pobsuv!uffosw!N\vbfqtJmofu$f\vo!t<jzuuzj<t!ovfoujogJpqsbnN!wgomfp!b+u!!cghmsj/qsFpomwpNDbqqb<N!w\vo$fj!goesfvgu!fFsO!W<N*BtQt`fUoZiQhFv`pDsV!C-Fd\vf!Wvuodjfgmpgsfns!!t-bqnbqnmwfosfD)vWcVff!cfvoDwfnsbvqu<y!f\vu$!f>m!tsfp\vm!pvDoqjbgNpwsonf!!t5bdnfqwm!f<s*3yEj!sfuobwNnxbfqj<W!v\v!$-fdofeWjugd\vf!mwgffds4)!ohpfjuuJdCfMsJjsEsnbsepjgbtoodbfs)Udfptostfuw!ojjo!!>w!fddf4W!uodpfsmngbfms*!!<|*!*\vt$tjfgo!iehfvgpjso!f+e!)tFtOfWoNiBhQv`pUsZ!Q-Fm`bDnVsCpFo`!V-Wd*f\vW!uwdffdm4g!fxsp)symjenO)pfs{njbmmb!n>s!pjoo!w>f!sdtffWUusdbfomtggfpss!n<E*jmsbfndsupjop!o-)sojpEsxnfbjmw-!!.v)WujdffxmNgbfuss!j>y!*d<f!Wwufddf5m!gffosw!N<bdqfDWpumdpfsm!g>f!su!f4ydufvws!f\vD*vWcVf`VFWC)VfDo`wFnQbZqU-`!QxBpNsWmOeFO)pesfnobjmg-f!e2!/g1j*$<\v!!s|f!u*vtstof!oQiJh!v+p!sf!ouwbNpbmqgD!pomjp!su/tsohpcd!!+-!mfbonwsNpboq!J4oduffwo!tojju!zu<t!o\vp$df!m-tsfj\vE!xsffjuwv!s4od!fwwf!do4j)!1u/t1o*p<d!)\vf$dfoobejjegb\vS!M~C!Jwuffdh4!",Z["displacementMap.vs.head"]="g$jjegoeff$g\v!!V\vTgFj`eEoJfT$Q\vM!B<DtFbNjFCOuUoNfBnQf\vd!bvmoqjtgjpes!nu!btpbmngq!mnfssp3gEj!oevj!t<qfmmbbddfTnufoofunNfbdqb<m!q\vt$jjeg!ouebfpgm!gV!TnFs`pVgCjPo\vv!",Z["displacementMap.vs.body"]="g$jjegoeff$g\v!!V<T*Ft`bEjJCTuQoMfBnDfFdNbFmOqUtNjBeQ!\v,!!ufsmbbodtTguposfnnffed!b,m>q!tojpes!n+b!myj/{*fw)Vpwc!k-fqdbuNOuposfnnbfmd*b!m+q!t)juef)yEu3vfs",Z["bloomSelective.fs.head"]="<vuovjpglpdsbnm!cc!pmp",Z["bloomSelective.fs.body"]="~j!g<!o)scvmubfdsl!p<v*u1*/!2|!!-h1m/`1G!s-b1h/D1p!m-p1s/!1>)!5wdf",Z["highlightDetect.fs.head"]="~g!m<p1b/u1!!hofsuvIujfhsi!m<j1h/i2u!Dopsmvpusf)st!b*n!q*m2f1s/31E!!=j!n*byh/fs-p!mwpfDdl3t!bdnp!p.s!ey*/!d|)!twcfbd!5%!%d!!6>/!1u!f>y?u!vxs/fd3!E})}j!n2b1h1f/-1!!d=p!pys/es*p<m!pjDgl!t)bdn/!y%!%,!!6d//1z!!=,!!xd//d{)!!,%!%d!/1x/!1?!",qL(DR,{setBatchInfo:function(J,a){yH[J]=a},getBatchInfo:function(J){return yH[J]},getBatchInfoMap:function(){return yH},setBatchInfoMap:function(J){yH=J}},!0),[1,1,1]),XX=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],RX=[1,0,0,0,0,1,0,1,1,1,1,0],CX=[-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5],yX=[.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5],FX=[.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5],OX=[.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5],nX=[.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5],LX=[-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5],bX=function(J,a){J._40Q.each(function(J){J.ivBatch(a)})},SX=function(J,a,z,U){var g=a[z=z._id];if(g){var V=(E=J[u=g.batch]).ds,Y=g.index;if(E.invalidate=!0,delete a[z],V.splice(Y,1),OL(V))return!1!==(z=U.getBatchInfo(u)||mH).keepData&&E.ms&&E.ms.length&&z.instanced&&!U.isBatchInstancedDisabled()?(E.ms=[],E.ics&&(E.ics=[]),void(E.ps&&(E.ps=[]))):void delete J[u];for(var z=Y,U=g.begin,c=g.size;Y<V.length;Y++)(g=a[V[Y]._id]).index--,g.begin-=c;if(E.ms&&E.ms.length)return E.ms.splice(16*z,16),E.ics&&E.ics.splice(4*z,4),void(E.ps&&(E.ps.splice(4*z,4),E.ps._invalidateThisFrame=!0));var J=3*U,u=3*c,z=4*U,H=4*c,M=E.vs,I=E.ps,e=E.uv,Q=E.cs,v=E.bs,Z=E.rs,k=E.ns,E=E.ls;M.splice(J,u),I.splice(z,H),I._invalidateThisFrame=!0,e&&e.splice(2*U,2*c),Q&&Q.splice(z,H),v&&v.splice(J,u),Z&&Z.splice(U,c),k&&k.splice(J,u),E&&E.splice(U,c)}},PX=function(J,a,z,U,g){if(!U)return WR;var V,Y,c=a[U];return c||(Y=(V=g.getBatchInfo(U)||mH).image||V.material?[]:WR,g=V.instanced&&!g.isBatchInstancedDisabled(),c=a[U]={vs:[],ns:[],uv:Y,cs:Y||V.color?WR:[],bs:V.blend?[]:WR,ps:[],rs:V.brightness?[]:WR,ds:[],ms:g?[]:WR,ics:Y||V.color||!g?WR:[]}),c.invalidate=!0,J[z._id]={index:c.ds.length,begin:c.vs.length/3,batch:U},c.ds.push(z),c},$X=function(J,a){return a!=WR&&1!==a?[J[0]*a,J[1]*a,J[2]*a,J[3]]:J},lX=function(J){J&&(J._ctlineModel=[],J._lineModel=xR)},TX=function(J,a,z){var x=J.getData3dUI(a);if((c=(c=x.shapeModel)||l9(x))||!x.shapeName){var U,g=a.s("wf.combineTriangle");if(z.geometry){if(c||(a instanceof m.Node&&!(a instanceof m.Shape)?c=q2=q2||{vs:k9,is:E9,uv:i9}:(c=x._shapeModelCacheForWf)||(c=x._shapeModelCacheForWf=[x.left,x.front,x.right,x.back,x.top,x.bottom])),!(U=g?(U=a.s("wf.normEpsilon"),isNaN(U)&&(U=2),g=0|Math.min(3,Math.max(1,isNaN(g)?1:g)),lf[g-1](c,x,180/(Math.PI*U))):function(J){var a,z,U,g,V;if(M=J._lineModel)return M;for(var Y,c,u,H=["","top_","bottom_","from_","to_"],M=[],I=[],e=(EX(J,x,I),t.requestVector3()),Q=t.requestVector3(),v=t.requestVector3(),Z=0,k=I.length;Z<k;Z++)if((g=I[Z])&&(V=g.mesh))for(a=0,z=H.length;a<z;a++)if(U=V[H[a]+"vs"])for(var E=V[H[a]+"is"],i=g.matrix,w=E?E.length:U.length/3,p=0;p<w;p+=3)u=E?(Y=E[p],c=E[p+1],E[p+2]):(c=(Y=p)+1,p+2),Y*=3,c*=3,u*=3,i?(e.fromArray(U,Y).applyMatrix4(i),Q.fromArray(U,c).applyMatrix4(i),v.fromArray(U,u).applyMatrix4(i),M.push(e.x,e.y,e.z,Q.x,Q.y,Q.z,Q.x,Q.y,Q.z,v.x,v.y,v.z,v.x,v.y,v.z,e.x,e.y,e.z)):M.push(U[Y],U[Y+1],U[Y+2],U[c],U[c+1],U[c+2],U[c],U[c+1],U[c+2],U[u],U[1+u],U[2+u],U[u],U[1+u],U[2+u],U[Y],U[Y+1],U[Y+2]);return t.releaseVector3(e),t.releaseVector3(Q),t.releaseVector3(v),0<M.length&&(J._lineModel=M),M}(c))||0===U.length)return}else U=z.short?W9:x9,a.s("wf.boundingBox")&&(g=x.getBoundingBox(!0))&&(c=(new XR).scale(g.max.clone().sub(g.min)).setPosition(g.max.clone().add(g.min).divideScalar(2)).toArray(),U=zJ([],c,U));var V,Y,g=J.getBrightness(a),c=a.s("bloom"),u=a.s("3d.reflectable"),H=tQ(z.color||"white"),M=H[3]<1,I=Math.ceil(z.width)||1,e=a.s("3d.clipbox")?l2:a.s("3d.clipbox.mask"),Q=a.s("wf.fog"),v=a.s("wf.group"),Z=a.getRenderLayer(),J=J._40Q.get(Z),Z=a.s("wf.material"),k=J.wireframeIndexMap,J=J.wireframeModelMap,E=a.s("batch"),i=a.s("3d.clip.direction");if(Z||i){if(i){if(0===(Y=a.s("3d.clip.percentage")))return;Y=x._formatClipUniforms(i,Y,a)}V="_"+a._id}else V=E?(M?"T":"O")+v+"_"+E:(M?"T":"O")+v+(c?"_1":"_0")+(u?"1_":"0_")+e+"_"+I+(Q?"1_":"0_");i=(i=J[V])||(J[V]={vs:[],cs:[],ps:[],ds:[],T:M,B:c,clipboxMask:e,reflectable:!!u,W:I,batch:E,fog:Q}),Z&&(i.material=Z),i.invalidate=!0,v=i.vs,J=i.cs,M=i.ds,c=k[a._id]={index:M.length,begin:v.length/3,batch:V},M.push(a),e=x._finalMat,a instanceof m.Edge||!(!e||!z.geometry&&a instanceof m.Shape)||(e=gD(a,z.mat),a.appendAnchorMatrix3d(e)),Y?(i.mat=hu(e),i.clipDirection=Y[0],i.clipPercent=Y[1],zJ(v,null,U)):zJ(v,e,U),u=c.size=v.length/3-c.begin,aJ(J,$X(H,g),u)}},fX=function(J,a,z,U){if(a){var g=(z=z[a.batch]).ps,V=(z=z.ms&&z.ms.length)?4*a.index:4*a.begin,Y=z?1:a.size;if(g[V]!==J[0]||g[V+1]!==J[1]||g[V+2]!==J[2]||g[V+3]!==J[3]){for(var c=0;c<Y;c++)g[V++]=J[0],g[V++]=J[1],g[V++]=J[2],g[V++]=J[3];g._invalidateThisFrame=!0}}},NX=(d2=new m.Math.Vector3,j2=new m.Math.Vector3,function(J,a){var z=a+["32"],U=J[a],g=J[z];if(U){if(DR.extractBatchTranslation||DR.extractVerticesTranslation)if("vs"!==a||J.ms&&J.ms.length){if("ms"===a&&J.ms&&J.ms.length){for(j2.set(0,0,0),Y=U.length,c=12;c<Y;c+=16)j2.add(d2.fromArray(U,c));for(j2.divideScalar(Y/16),u=j2.x,H=j2.y,M=j2.z,I=new Array(Y),c=0;c<Y;c+=16){for(var V=0;V<12;V++)I[c+V]=U[c+V];I[c+12]=U[c+12]-u,I[c+13]=U[c+13]-H,I[c+14]=U[c+14]-M,I[c+15]=U[c+15]}U=I,J.translate=[u,H,M]}}else{j2.set(0,0,0);for(var Y=U.length,c=0;c<Y;c+=3)j2.add(d2.fromArray(U,c));j2.divideScalar(Y/3);for(var u=j2.x,H=j2.y,M=j2.z,I=new Array(Y),c=0;c<Y;c+=3)I[c]=U[c]-u,I[c+1]=U[c+1]-H,I[c+2]=U[c+2]-M;U=I,J.translate=[u,H,M]}g&&g.length===U.length?(g.set(U),g._bufId=null):J[z]=new fu(U)}else delete J[z]}),AX=function(J,a,z,U,g,V,Y,c){var u,H,M=a instanceof m.Shape,I=V[0],e=V.length;if(1<e)for(var I=hu(I),Q=1;Q<e;Q++)ZJ(I,I,V[Q]);M&&(u=a.p3(),QJ(I,u)),dL(Y.ms,I),Y.ics&&aJ(Y.ics,a.s("shape3d.color")||v,1),Y.vs.length||(H=hu(XX),M&&QJ(H,ou(u)),oX(J,a,z,U,g,[H],Y,c))},oX=function(a,z,J,U,g,V,Y,c){if(jR(J))J.forEach(function(J){oX(a,z,J,U,g,V,Y,c)});else if(dR(J))oX(a,z,l9(U,J),U,g,V,Y,c);else if(kL(J)){var u,H=_(J.mat,z,a),M=_(J.s3,z,a),I=_(J.t3,z,a),e=_(J.r3,z,a);if((M||e||I||H)&&(u=VD(H,M,e,_(J.rotationMode,z,a),I),V.push(u)),J.shape3d)oX(a,z,J.shape3d,U,g,V,Y,J);else{var H=U.s,Q=(c=c||mH,V[0]),v=V.length,M=H("shape3d.color",J.color,c.color);if(g=g||H("shape3d.blend",J.blend,c.blend),1<v)for(var Q=hu(Q),Z=1;Z<v;Z++)ZJ(Q,Q,V[Z]);e=Q?zX(Q):WR,J.vs&&H(Lq,J.visible,c.visible)&&sX(Q,Y,J.vs,J.uv,J.is,J.ns,e,g,M),J.top_vs&&H(Pq,J.topVisible,c.topVisible)&&sX(Q,Y,J.top_vs,J.top_uv,J.top_is,J.top_ns,e,g,H("shape3d.top.color",J.topColor,c.topColor)||M),J.bottom_vs&&H($q,J.bottomVisible,c.bottomVisible)&&sX(Q,Y,J.bottom_vs,J.bottom_uv,J.bottom_is,J.bottom_ns,e,g,H("shape3d.bottom.color",J.bottomColor,c.bottomColor)||M),J.from_vs&&H(bq,J.fromVisible,c.fromVisible)&&sX(Q,Y,J.from_vs,J.from_uv,J.from_is,J.from_ns,e,g,H("shape3d.from.color",J.fromColor,c.fromColor)||M),J.to_vs&&H(Sq,J.toVisible,c.toVisible)&&sX(Q,Y,J.to_vs,J.to_uv,J.to_is,J.to_ns,e,g,H("shape3d.to.color",J.toColor,c.toColor)||M)}u&&V.pop()}},sX=function(z,J,U,g,a,V,Y,c,u){var H,M=J.cs,I=J.uv,e=J.bs,Q=J.ns,v=J.vs,J=(V&&0!==V.length||(V=KJ(U,a)),XR.determinantOfArray(z)<0);a||J?(H=a?a.length:U.length/3,Gu(a||H,J,function(J){var a=3*J;zJ(v,z,[U[a],U[1+a],U[2+a]]),zJ(Q,Y,[V[a],V[1+a],V[2+a]]),I&&dL(I,[g[2*J],g[2*J+1]])})):(H=U.length/3,zJ(v,z,U),zJ(Q,Y,V),I&&dL(I,g)),M&&aJ(M,u,H),e&&(c?JJ(e,c,H):dL(e,qX,H))},mX=function(J,a,z){var U=J.data.p3();a=hu(a),QJ(a,U),dL(z.ms,a),z.ics&&aJ(z.ics,J.data.s("shape3d.color")||v,1),z.vs.length||(a=hu(XX),QJ(a,ou(U)),_X(J,a,z))},_X=function(J,a,z){rX(J,Ve,a,z),rX(J,Ye,a,z),rX(J,Ue,a,z),rX(J,ge,a,z),rX(J,ce,a,z),rX(J,ue,a,z),rX(J,"csg",a,z)},hX=function(J,a,z,U,g,V){dL(z.ms,g),z.ics&&aJ(z.ics,a.s("all.color")||v,1),z.vs.length||BX(J,a,z,U,hu(XX),V)},BX=function(J,a,z,U,g,V){GX(J,a,z,U,g,V,Ve,CX),GX(J,a,z,U,g,V,Ye,yX),GX(J,a,z,U,g,V,ce,FX),GX(J,a,z,U,g,V,ue,OX),GX(J,a,z,U,g,V,Ue,nX),GX(J,a,z,U,g,V,ge,LX)},tX=function(J,a,z,U,g){U?g.instanced?J.gv.batchInstancedModel(J.data,U,J,J.getBodyColor(),[a],z):oX(J.gv,J.data,U,J,J.getBodyColor(),[a],z):g.instanced?J.gv.batchInstancedShapeFace(J,a,z):_X(J,a,z)},rX=function(J,a,z,U){if(J=J[a]){var g=J.tuv;if(g){var a=J.uvScale,V=J.uvOffset,Y=J.uvRotation,c=J.uvAnchor;if(a||V||Y)for(var u,H,M=(Y=iX(Y,V,a,c)).a,I=Y.b,e=Y.c,Q=Y.d,v=Y.tx,Z=Y.ty,k=g.length,E=0;E<k;E+=2)u=g[E],H=g[E+1],g[E]=M*u+e*H+v,g[E+1]=I*u+Q*H+Z}sX(z,U,J.vs,g,WR,WR,z?zX(z):WR,J.blend,J.color)}},GX=function(J,a,z,U,g,V,Y,c){var u,H,M,I,e,Q,v,Z,k,E,i,w,p,x,W,D=z.cs,K=z.uv,d=z.bs,j=z.vs,q=z.ns,X=KJ(c);J.getFaceVisible(a,Y)&&((z=J.getFaceMat(a,Y))&&(g=gD(a,z),V=zX(g)),XR.determinantOfArray(g)<0?(z=c.length/3,Gu(z,!0,function(J){zJ(j,g,[c[J*=3],c[1+J],c[2+J]]),zJ(q,V,[X[J],X[1+J],X[2+J]])})):(zJ(j,g,c),zJ(q,V,X)),D&&aJ(D,J.getFaceColor(a,Y),6),K&&(z=J.getFaceUv(a,Y)||U[Y+"Uv"],D=J.getFaceUvScale(a,Y)||U[Y+"UvScale"],u=J.getFaceUvOffset(a,Y)||U[Y+"UvOffset"],I=J.getFaceUvRotation(a,Y)||U[Y+"UvRotation"],U=J.getFaceUvAnchor(a,Y)||U[Y+"UvAnchor"],e=(z=z?[z[6],z[7],z[0],z[1],z[2],z[3],z[2],z[3],z[4],z[5],z[6],z[7]]:RX)[0],Q=z[1],v=z[2],Z=z[3],k=z[4],E=z[5],i=z[6],w=z[7],p=z[8],x=z[9],W=z[10],z=z[11],(D||u||I||U)&&(u=(I=iX(I,u,D,U)).a,D=I.b,U=I.c,H=I.d,Q=D*(e=u*e+U*Q+(M=I.tx))+H*Q+(I=I.ty),Z=D*(v=u*v+U*Z+M)+H*Z+I,E=D*(k=u*k+U*E+M)+H*E+I,w=D*(i=u*i+U*w+M)+H*w+I,x=D*(p=u*p+U*x+M)+H*x+I,z=D*(W=u*W+U*z+M)+H*z+I),K.push(e,Q,v,Z,k,E,i,w,p,x,W,z)),d&&((D=J.getBodyColor(a)||J.getFaceBlend(a,Y))?JJ(d,D,6):dL(d,qX,6)))},J9=function(J,a,z,U){var g,V,Y,c,z=J._picking?J.pickColorMap:null,u=J.getGL(),H=J._buffer;if(!FL(a)){for(c in UX(J,XX),bJ(u),a){var M,I,e,Q,v,Z,k,E,i,w,p,x=a[c],W=(Q=x.batch?(M=(Q=J.getBatchInfo(x.batch)||mH).wfBloom===xR?Q.bloom:Q.wfBloom,I=Q.wfReflectable===xR?Q.reflectable:Q.wfReflectable,e=Q.wfClipboxMask===xR?Q.clipboxMask:Q.wfClipboxMask,Q.width):(M=x.B,I=x.reflectable,e=x.clipboxMask,x.W),!z&&x.material);!W&&(U&&!x.T||!U&&x.T||J.isReflecting(u)&&!1===I)||(w=z&&!J.drawFilter,x.invalidate?(x.invalidate=!1,NX(x,"vs"),NX(x,"cs"),NX(x,"ls"),w&&NX(x,"ps")):w&&x.ps&&x.ps._invalidateThisFrame&&(x.ps._invalidateThisFrame=!1,NX(x,"ps")),w=x.translate,g=x.clipDirection,W?("lines"!==(v=(W=x.material).renderMode)?W.renderMode="lines":v=null,J._prefabRenderer.render(u,{position:w,mesh:{vs:x.vs32,aLineDistance:x.ls32,aBatchColor:x.cs32,_complete_:!0},mat:W},x),v&&(W.renderMode=v)):(w||g?(V=g?hu(x.mat):[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],w&&QJ(V,w),Y=hu(J._6O),UX(J,V)):V=null,W=x.vs32,v=z?x.ps32:x.cs32,AJ(u,Q,WR,H.vs,W),Z=(k=RR.for(u)).directUniforms(),k=k.directAttribs(),E=x.D,i=!J._dashDisabled&&E,Z.uAlphaTest=CR.alphaTest,u._blooming&&!M&&(Z.blackout=!0),g&&(p=x.clipPercent,w&&(p-=w[Math.floor((g-1)/2)]||0),Z.uClipPercent=p,Z.uClipDirection=g,Z.uClipLocalTransform=t2),LJ(J,Z,e===xR?$2:e),i&&(Z.uDash=!0,Z.uDashDistance=E,Z.uDashGapDistance=x.G,Z.uDiffuse=x.A||CR["color.empty"],k.aLineDistance=BJ(u,H.lineDistance,x.ls32,WR,1)),(w=!J._batchColorDisabled)&&v&&v.length?(Z.uBatchColor=!0,k.aBatchColor=BJ(u,H.batchColor,v,WR,4)):(Z.uBatchColor=!1,k.aBatchColor=!1),p=!1!==x.fog,Z.uFog=p,lJ(u),sJ(u,0,W.length/3,1),TJ(u),p||(Z.uFog=!0),w&&(Z.uBatchColor=!1,k.aBatchColor=!1),i&&(Z.uDash=!1,k.aLineDistance=!1),u._blooming&&!M&&(Z.blackout=!1),V&&(g&&(Z.uClipDirection=0),aX(J,Y),Z.uModelMatrix=_u)))}SJ(u),aX(J)}},a9=function(J,a){J.invalidate=!1,NX(J,"vs"),NX(J,"ns"),NX(J,"cs"),NX(J,"rs"),a&&NX(J,"ps"),NX(J,"bs"),NX(J,"uv"),NX(J,"ms"),NX(J,"ics")},z9=function(J,a,b,z,U,g){var V,Y,c,u,H,M,I,e,z=J._picking?J.pickColorMap:null,Q=J.getGL(),v=RR.for(Q),Z=v.directUniforms(),k=v.directAttribs(),E=J._buffer;if(!FL(a)){var i,w,p,x=J._flowObjects.length?J.flowMap:null,W=J.drawFilter;for(V in UX(J,XX),a)if(!1!==(Y=J.getBatchInfo(V)||mH).visible)if((R=!z&&Y.material)||!(U&&!Y.transparent||!U&&Y.transparent||J.isReflecting(Q)&&!1===Y.reflectable)){var D=Y.renderLayerMask;if(TD(g=g==WR?PD:g,D=D==WR?PD:D)&&(D=a[V],z||!Y.transparentMask)){if(w=!1,W){if(!1===Y.highlight)continue;if(i=D.ds){for(var K=0,d=i.length;K<d;K++)if(!W(i[K])){w=!0;break}if(!w)continue}}var j,S=U&&!0===Y.autoSort&&(J._33Q||D.invalidate)&&!w,q=z&&!w,X=(D.invalidate?a9(D,q):q&&D.ps&&D.ps._invalidateThisFrame&&(D.ps._invalidateThisFrame=!1,NX(D,"ps")),D.ms32);if(X){if(!X.length)continue;p=!0}else p=!1;if(q=D.vs32,c=z?D.ps32:p?D.ics32:D.cs32,H=D.uv32,F=D.bs32,u=D.rs32,M=q.length/3,S&&((j=g9(q,J.getEye(),J,X))?(D.is=j.is,D.elementTypeUint=j.useUint32):(D.is=null,D.elementTypeUint=null)),M){if((j=Y.polygonOffset)&&CJ(Q,j),(I=D.translate)&&(e=[1,0,0,0,0,1,0,0,0,0,1,0,I[0],I[1],I[2],1],J._modelMatrixProcess&&(e=J._modelMatrixProcess(e))),R&&!w){var R={mesh:{vs:q,uv:H,ns:D.ns32,is:D.is,_complete_:!0},mat:Y.material};p&&(R.instances={aMatrixInstanced:D.ms32}),J._prefabRenderer.render(Q,R,Y,e)}else{I&&UX(J,e),Y.light,R=J.getTexture(Y.image),PJ(Q,WR,Y.light,Y.opacity,Y.reverseFlip,Y.reverseColor,Y.reverseCull),c?J._batchColorDisabled?(Z.uBatchColor=!1,k.aBatchColor=!1):(Z.uBatchColor=!0,w||(k.aBatchColor=p?hJ(Q,E.instancedBatchColor,c,WR,4):BJ(Q,E.batchColor,c,WR,4))):(Z.uBatchColor=!1,Z.uDiffuse=Y.color||CR["color.empty"]);var C,y=Y.alphaTest;Z.uAlphaTest=y===xR?CR.alphaTest:y,Z.shadowReceive=!z&&!1!==Y.shadowReceive,LJ(J,Z,Y.clipboxMask===xR?$2:Y.clipboxMask),YJ(J,Z,Y.lightMask===xR?$2:Y.lightMask,Y.headlightAmbientIntensity),x&&x.resetFlowUniform(Y.effectFlowMask===xR?$2:Y.effectFlowMask,Z),Q._blooming&&!Y.bloom&&(Z.blackout=!0),Y.envmap!==xR?(Z.uUseEnvMap=!0,Z.roughness=Y.roughness||0,J._setEnvmapByProbeId(Z,Y.envmapProbe||0,Y.envmap)):(Z.uUseEnvMap=!1,Z.envMapIntensity=0);(y=F&&!J._batchBlendDisabled)&&(Z.uBatchBlend=!0,k.aBatchBlend=BJ(Q,E.batchBlend,F,WR));var F=u&&!J._batchBrightnessDisabled;if(F&&(Z.uBatchBrightness=!0,k.aBatchBrightness=BJ(Q,E.batchBrightness,u,WR,1)),H?lJ(Q,R,Y.discardSelectable,E.uv,H,Y.uvOffset,Y.uvScale,Y.uvRotation,Y.uvAnchor):lJ(Q),k.aPosition=BJ(Q,E.vs,q,WR),k.aNormal=BJ(Q,E.ns,D.ns32,WR),p&&(Z.uUseInstance=!0),w){for(p&&!(C=J._highlightInstancedFloatArray)&&(C=J._highlightInstancedFloatArray=new fu(16)),K=0,d=i.length;K<d;K++)if(!W(i[K])){var O=b[i[K]._id];if(k.aBatchColor=J.getHighlightPickColor(i[K]),p){for(var n=0;n<16;n++)C[n]=X[16*O.index+n];L=hJ(Q,E.ms,C,WR),Q.bufferSubData(34962,0,C),cX(k,L,Z),sJ(Q,0,M,null,1)}else{var L=O.begin,P=O.size;sJ(Q,L,P)}}}else p&&(S&&(X=U9(X,J.getEye())),cX(k,hJ(Q,E.ms,X,WR),Z)),D.is?(tJ(Q,E.is,D.is),mJ(Q,0,M,null,D.elementTypeUint?5125:null,p?D.ms32.length/16:0)):sJ(Q,0,M,null,p?D.ms32.length/16:0);H?TJ(Q,R):TJ(Q),c&&!J._batchColorDisabled&&(Z.uBatchColor=!1,k.aBatchColor=!1),y&&(Z.uBatchBlend=!1,k.aBatchBlend=!1),F&&(Z.uBatchBrightness=!1,k.aBatchBrightness=!1),Q._blooming&&!Y.bloom&&(Z.blackout=!1),p&&(Z.uUseInstance=!1,cX(k,xR)),$J(Q),I&&(aX(J),Z.uModelMatrix=_u)}j&&yJ(Q)}}}aX(J)}},U9=function(z,U){for(var J,a,g,V=z.length/16,Y=new Array(V),c=0;c<V;c++)Y[c]=c;Y.sort(function(J,a){return J=[z[16*J+12],z[16*J+13],z[16*J+14]],a=[z[16*a+12],z[16*a+13],z[16*a+14]],pu(U,a)-pu(U,J)});var u=z._sortedByEye;for(u&&u.length===z.length||(u=z._sortedByEye=new fu(16*V)),c=0;c<V;c++)for(a=16*c,g=16*Y[c],J=0;J<16;J++)u[a+J]=z[g+J];return u._bufId=null,u},g9=function(U,g,J,a){var z=U.length/3,V=65535<z;if(!(J=J._glCapabilities.elementTypeUint&&V)&&V)return null;a&&a.length&&((V=t.requestMatrix4()).fromArray(a).invert(),g=Qm(g).applyMatrix4(V).toArray(),t.releaseMatrix4(V));for(var Y=new Array(z),c=z/3,u=new Array(c),H=0;H<c;H++)u[H]=H;for(u.sort(function(J,a){var z=[(U[J=9*J]+U[3+J]+2*U[6+J])/4,(U[1+J]+U[4+J]+2*U[7+J])/4,(U[2+J]+U[5+J]+2*U[8+J])/4],a=[(U[J=9*a]+U[3+J]+2*U[6+J])/4,(U[1+J]+U[4+J]+2*U[7+J])/4,(U[2+J]+U[5+J]+2*U[8+J])/4];return 0<(J=pu(g,z)-pu(g,a))?-1:J<0?1:0}),H=0;H<c;H++){var M=3*H,I=3*u[H];Y[M]=I,Y[1+M]=1+I,Y[2+M]=2+I}return{useUint32:J,is:new(J?Uint32Array:lu)(Y)}},V9={obj:function(U,g){var J={mat:U.mat,model3d:U.model3d,matDef:U.matDef,s3:U.s3,r3:U.r3,rotationMode:U.rotationMode,t3:U.t3,cube:U.cube==WR||U.cube,center:U.center==WR||U.center,ignoreMtls:U.ignoreMtls,ignoreTransparent:U.ignoreTransparent,ignoreColor:U.ignoreColor,ignoreImage:U.ignoreImage,part:U.part,ignoreNormal:U.ignoreNormal,prefix:U.prefix,assetsURIMap:U.assetsURIMap,flipY:U.flipY,flipFace:U.flipFace,reverseFlipMtls:U.reverseFlipMtls,finishFunc:function(J,a,z){if(J){if(J.model3d)return J.json=U,void g(J);(J=WX(J,U.eachModel)).json=U,!J.externalAssetURIs&&a&&a.externalAssetURIs&&(J.externalAssetURIs=a.externalAssetURIs),g(J)}else g()}};DR.loadObj(U.obj,U.mtl,J)},bin:function(J,U){DR.loadBin(J.url,{finishFunc:function(J,a,z){J?U(J):U()}})},fbx:function(a,z){var J={matDef:a.matDef,flipY:a.flipY,s3:a.s3,r3:a.r3,rotationMode:a.rotationMode,t3:a.t3,cube:a.cube,center:a.center,ignoreNormal:a.ignoreNormal,mikktTangent:a.mikktTangent,tangentFlipW:a.tangentFlipW,shape3d:a.shape3d,path:a.path,assetsURIMap:a.assetsURIMap,playAutomatically:a.playAutomatically,animations:!1!==a.animations,rotationInterpolation:a.rotationInterpolation,keyframeValuesInterpolation:a.keyframeValuesInterpolation,binaryImagePath:a.binaryImagePath,finishFunc:function(J){H9(J,a,z)}};DR.loadFbx(a.url,J)},gltf:function(a,z){var J={matDef:a.matDef,flipY:a.flipY,s3:a.s3,r3:a.r3,rotationMode:a.rotationMode,t3:a.t3,cube:a.cube,center:a.center,ignoreNormal:a.ignoreNormal,mikktTangent:a.mikktTangent,tangentFlipW:a.tangentFlipW,shape3d:a.shape3d,path:a.path,assetsURIMap:a.assetsURIMap,playAutomatically:a.playAutomatically,binaryImagePath:a.binaryImagePath,finishFunc:function(J){H9(J,a,z)}};DR.loadGltf(a.url,J)}},Y9=(DR.getModelTypeHandlers=function(){return V9},DR.setModelTypeHandler=function(J,a){a===xR?delete V9[J]:V9[J]=a},DR.getModelTypeHandler=function(J){return V9[J]},DR.handleModelLoaded=function(J,a){},DR.handleUnfoundModel=function(J,a,z){},WR),c9=WR,u9=function(J){Y9&&!J._loadingModelView_&&((c9=c9||{})[J._loadingModelView_=Ju()]=J)},H9=function(a,z,U){var J;a?(J=(a.json=z).animationSources)&&J.length?DR.asyncEach(J,function(J,z){M9(J,J,function(J,a){au(function(){z(null,a)})})},function(J){U(DR.completeModel3dAnimation(z.url,a,z.animations,J))}):U(DR.completeModel3dAnimation(z.url,a,z.animations)):U()},M9=function(z,U,g){if(!DR.isMaxConcurrencyReached()){if("string"==typeof U&&(J=U.match(NH))){if("bin"===(J=J[1])||"htb"===J)return I9(z,{modelType:"bin",url:U},U,g);if("fbx"===J)return I9(z,{modelType:"fbx",url:U},U,g);if("gltf"===J||"glb"===J)return I9(z,{modelType:"gltf",url:U},U,g);if(DR.__htExtraAsset3dPattern&&0<=DR.__htExtraAsset3dPattern.indexOf(J))return I9(z,{modelType:J,url:U},U,g)}if((U=DR.beforeLoadURL(U)).data){var J=DR.parse(U.data);I9(z,J,U,g)}else{if(J=(Y9=Y9||{})[z]){if(J.url===U)return;J.request&&(J.request.onload=hH,J.request.onerror=hH)}var V=new bw;Y9[z]={request:V,url:U},V.onload=function(J){var a;200===this.status||0===this.status?(delete Y9[z],a=DR.parse(V.getResponseText()),I9(z,a,U,g)):e9(z,DR.handleUnfoundModel(z,U)||WR,g)},V.onerror=function(J){e9(z,DR.handleUnfoundModel(z,U)||WR,g)},(J={}).url=encodeURI(U),J.sync=!1,V.send(J)}}},I9=function(a,z,U,g){var J=z.modelType;if(!J)return e9(a,z,g),void DR.handleModelLoaded(a,z);(J=DR.getModelTypeHandler(J))?(Y9=Y9||{})[a]||(Y9[a]={url:U},J(z,function(J){J?(e9(a,J,g),DR.handleModelLoaded(a,J)):e9(a,DR.handleUnfoundModel(a,U,z)||WR,g)})):e9(a,DR.handleUnfoundModel(a,U,z)||WR,g)},e9=function(J,a,z){if(delete Y9[J],dR(a)&&fH.test(a))M9(J,a,z);else{if(FH[J]=a,z&&z(J,a),hw(J,a),FL(Y9)&&(Y9=WR,c9)){for(var U in c9)(g=c9[U]).invalidateAll&&g.invalidateAll(xR,"modelLoaded",J),g.redraw&&g.redraw(),g.iv(),delete g._loadingModelView_;c9=WR}if(a&&c9)for(var U in c9){var g;(g=c9[U]).invalidateAll&&g.invalidateAll(xR,"modelLoading",J),g.redraw&&g.redraw(),g.iv()}}},Q9=new fu([0,0,0,1,1,1,1,0]),v9=new fu([0,0,1,0,0,1,0,0,1,0,0,1]),Z9=new lu([0,1,2,2,3,0]),k9=new fu([-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5]),E9=new lu([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),i9=new fu([0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0]),w9=KJ(k9,E9),p9=(new fu([-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,-.5,-.5,.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5]),new lu([0,1,2,3,0,7,5,4,6,7,5,3,2,4,6,1]),[Ve,Ue,Ye,ge,ce,ue]),x9=[-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5],W9=[-.5,.5,.5,-.4,.5,.5,-.5,.5,.5,-.5,.4,.5,-.5,.5,.5,-.5,.5,.4,.5,.5,.5,.4,.5,.5,.5,.5,.5,.5,.4,.5,.5,.5,.5,.5,.5,.4,-.5,-.5,.5,-.4,-.5,.5,-.5,-.5,.5,-.5,-.4,.5,-.5,-.5,.5,-.5,-.5,.4,.5,-.5,.5,.4,-.5,.5,.5,-.5,.5,.5,-.4,.5,.5,-.5,.5,.5,-.5,.4,-.5,.5,-.5,-.4,.5,-.5,-.5,.5,-.5,-.5,.4,-.5,-.5,.5,-.5,-.5,.5,-.4,.5,.5,-.5,.4,.5,-.5,.5,.5,-.5,.5,.4,-.5,.5,.5,-.5,.5,.5,-.4,-.5,-.5,-.5,-.4,-.5,-.5,-.5,-.5,-.5,-.5,-.4,-.5,-.5,-.5,-.5,-.5,-.5,-.4,.5,-.5,-.5,.4,-.5,-.5,.5,-.5,-.5,.5,-.4,-.5,.5,-.5,-.5,.5,-.5,-.4],D9=function(J,a,z,U,g,V,Y){J=J||16,a=a||0,z=z||J;var c,u,H,M,I,e,Q=[],v=[],Z=QR/J,k=y/(V=V||16);for(i=0;i<V;i++)for(u=i*k,e=(H=i+1)*k,c=a;c<z;c++)W=c*Z,I=(M=c+1)*Z,Q.push(.5*eR(u)*KR(W),.5*KR(u),-.5*eR(u)*eR(W),.5*eR(e)*KR(I),.5*KR(e),-.5*eR(e)*eR(I),.5*eR(u)*KR(I),.5*KR(u),-.5*eR(u)*eR(I),.5*eR(u)*KR(W),.5*KR(u),-.5*eR(u)*eR(W),.5*eR(e)*KR(W),.5*KR(e),-.5*eR(e)*eR(W),.5*eR(e)*KR(I),.5*KR(e),-.5*eR(e)*eR(I)),v.push(c/J,i/V,M/J,H/V,M/J,i/V,c/J,i/V,c/J,H/V,M/J,H/V);if(Y)for(var E=[],i=0,w=Q.length;i<w;i+=3)E.push(2*Q[i],2*Q[i+1],2*Q[i+2]);if(U)for(var p=[],x=[],W=a*Z,i=0;i<V;i++)u=i*k,p.push(0,0,0,.5*eR(e=(H=i+1)*k)*KR(W),.5*KR(e),-.5*eR(e)*eR(W),.5*eR(u)*KR(W),.5*KR(u),-.5*eR(u)*eR(W)),x.push(0,.5,a/J,H/V,a/J,i/V);if(g){var D=[],K=[],W=z*Z;for(i=0;i<V;i++)e=(H=i+1)*k,D.push(0,0,0,.5*eR(u=i*k)*KR(W),.5*KR(u),-.5*eR(u)*eR(W),.5*eR(e)*KR(W),.5*KR(e),-.5*eR(e)*eR(W)),K.push(1,.5,z/J,i/V,z/J,H/V)}return U={vs:Q,uv:v,from_vs:p,from_uv:x,to_vs:D,to_uv:K},Y&&(U.ns=E),U},K9=function(J,a,z){(J=J||.17)<0?J=0:.25<J&&(J=.25);for(var U,g,V,Y,c,u=[],H=[],M=[],I=QR/(z=z||18),e=QR/(a=a||12),Q=.5-J,v=0;v<=a;v++)for(Y=KR(g=v*e-y),V=eR(g),E=0;E<=z;E++)c=Q+J*Y,u.push(KR(U=E*I)*c,V*J,-eR(U)*c),H.push(E/z,1-v/a);for(v=0;v<a;v++)for(var Z=v*(z+1),k=(v+1)*(z+1),E=0;E<z;E++)M.push(Z+E,k+E+1,k+E,Z+E,Z+E+1,k+E+1);return{vs:u,uv:H,is:M}},d9=function(J,a,z,U,g,V,Y,c){J=J||18,a=a||0,z=z||J,(V=V||.17)<0?V=0:.25<V&&(V=.25);var u,H,M,I,e,Q,v,Z,k,E=[],i=[],w=QR/J,p=QR/(Y=Y||12),x=.5-V,W=c?[]:xR;for(d=0;d<Y;d++)for(Q=d*p-y,v=(M=d+1)*p-y,u=a;u<z;u++)I=u*w,e=(H=u+1)*w,Z=x+V*KR(Q),k=x+V*KR(v),E.push(KR(I)*Z,eR(Q)*V,-eR(I)*Z,KR(e)*Z,eR(Q)*V,-eR(e)*Z,KR(e)*k,eR(v)*V,-eR(e)*k,KR(I)*Z,eR(Q)*V,-eR(I)*Z,KR(e)*k,eR(v)*V,-eR(e)*k,KR(I)*k,eR(v)*V,-eR(I)*k),i.push(u/J,1-d/Y,H/J,1-d/Y,H/J,1-M/Y,u/J,1-d/Y,H/J,1-M/Y,u/J,1-M/Y),c&&W.push(KR(I)*KR(Q),eR(Q),-eR(I)*KR(Q),KR(e)*KR(Q),eR(Q),-eR(e)*KR(Q),KR(e)*KR(v),eR(v),-eR(e)*KR(v),KR(I)*KR(Q),eR(Q),-eR(I)*KR(Q),KR(e)*KR(v),eR(v),-eR(e)*KR(v),KR(I)*KR(v),eR(v),-eR(I)*KR(v));if(U)for(var D=[],K=[],d=0;d<Y;d++)v=(M=d+1)*p-y,I=a*w,Z=x+V*KR(Q=d*p-y),k=x+V*KR(v),D.push(KR(I)*Z,eR(Q)*V,-eR(I)*Z,KR(I)*k,eR(v)*V,-eR(I)*k,KR(I)*x,0,-eR(I)*x),K.push(.5+.5*KR(Q),.5-.5*eR(Q),.5+.5*KR(v),.5-.5*eR(v),.5,.5);if(g)for(var j=[],q=[],d=0;d<Y;d++)v=(M=d+1)*p-y,I=z*w,Z=x+V*KR(Q=d*p-y),k=x+V*KR(v),j.push(KR(I)*Z,eR(Q)*V,-eR(I)*Z,KR(I)*x,0,-eR(I)*x,KR(I)*k,eR(v)*V,-eR(I)*k),q.push(.5-.5*KR(Q),.5-.5*eR(Q),.5,.5,.5-.5*KR(v),.5-.5*eR(v));return U={vs:E,uv:i,from_vs:D,from_uv:K,to_vs:j,to_uv:q},c&&(U.ns=W),U},j9=function(J,a){for(var z,U,g,V,Y,c=[],u=[],H=[],M=[],I=QR/16,e=0;e<=16;e++)V=.5*(U=KR(z=e*I)),g=eR(z),c.push(V,-.5,Y=.5*g,V,.5,Y),H.push(U,0,g,U,0,g),u.push(1-e/16,1,1-e/16,0);for(e=0;e<16;e++)M.push(2*e,2*e+1,2*e+3,2*e,2*e+3,2*e+2);if(a){var Q=[],v=[],Z=[];for(Q.push(0,-.5,0),v.push(.5,.5),e=0;e<=16;e++)U=KR(z=e*I),g=eR(z),Q.push(.5*U,-.5,.5*-g),v.push(.5+.5*U,.5+.5*g);for(e=0;e<16;e++)Z.push(0,e+2,e+1)}if(J){var k=[],E=[],i=[];for(k.push(0,.5,0),E.push(.5,.5),e=0;e<=16;e++)U=KR(z=e*I),g=eR(z),k.push(.5*U,.5,.5*-g),E.push(.5+.5*U,.5-.5*g);for(e=0;e<16;e++)i.push(0,e+1,e+2)}return{vs:c,uv:u,is:M,ns:H,bottom_vs:Q,bottom_uv:v,bottom_is:Z,top_vs:k,top_uv:E,top_is:i}},q9=function(J,a,z,U,g,V,Y,c){J=J||12,z=z||J;for(var u,H,M,I,e,Q,v,Z,k,E,i,w,p=[],x=[],W=QR/J,D=a=a||0;D<z;D++)H=(u=D+1)*W,Z=.5*KR(v=D*W),k=.5*eR(v),M=.5*KR(H),I=.5*eR(H),p.push(Z,-.5,-k,M,-.5,-I,Z,.5,-k,M,-.5,-I,M,.5,-I,Z,.5,-k),x.push(D/J,1,u/J,1,D/J,0,u/J,1,u/J,0,D/J,0);if(c)for(var K=[],D=0,d=p.length;D<d;D+=3)K.push(2*p[D],0,2*p[D+2]);if(Y){var j=[],q=[];for(D=a;D<z;D++)H=W*(D+1),Z=KR(v=W*D),k=eR(v),M=KR(H),I=eR(H),j.push(.5*Z,-.5,.5*-k,0,-.5,0,.5*M,-.5,.5*-I),q.push(.5+.5*Z,.5+.5*k,.5,.5,.5+.5*M,.5+.5*I)}if(V){var X=[],R=[];for(D=a;D<z;D++)H=W*(D+1),Z=KR(v=W*D),k=eR(v),M=KR(H),I=eR(H),X.push(.5*Z,.5,.5*-k,.5*M,.5,.5*-I,0,.5,0),R.push(.5+.5*Z,.5-.5*k,.5+.5*M,.5-.5*I,.5,.5)}return U&&(e=[],Q=[],Z=.5*KR(v=W*a),k=.5*eR(v),E=a/J,e.push(0,.5,0,0,-.5,0,Z,-.5,-k,Z,-.5,-k,Z,.5,-k,0,.5,0),Q.push(0,0,0,1,E,1,E,1,E,0,0,0)),g&&(i=[],w=[],Z=.5*KR(v=W*z),k=.5*eR(v),E=z/J,i.push(0,-.5,0,0,.5,0,Z,.5,-k,Z,.5,-k,Z,-.5,-k,0,-.5,0),w.push(1,1,1,0,E,0,E,0,E,1,1,1)),Y={vs:p,uv:x,bottom_vs:j,bottom_uv:q,top_vs:X,top_uv:R,from_vs:e,from_uv:Q,to_vs:i,to_uv:w},c&&(Y.ns=K),Y},X9=function(J,a,z,U,g){z=z||0,g=g==WR?.5:g;for(var V,Y,c,u,H,M=[0,.5,.75,.875,.9375],I=[],e=[],Q=[],v=(U=U==WR?QR:U)/(a=a||18),Z=0;Z<M.length;Z++)for(var k=Z%2==0?0:.5,E=0;E<=a;E++)Y=1-M[Z],I.push(KR(V=(E+k)*v+z)*g*Y,M[Z]*g*2-g,-eR(V)*g*Y),e.push((E+k)/a,Y);for(Z=0;Z<M.length-1;Z++)for(var i=Z*(a+1),w=(Z+1)*(a+1),E=0;E<a;E++)Q.push(i+E,w+E+1,w+E,i+E,i+E+1,w+E+1);for(H=I.length/3-(a+1),E=0;E<a;E++)I.push(0,g,0),e.push((E+.5)/a,0);for(E=0;E<a;E++)Q.push(H+E,H+E+1,H+(a+1)+E);if(J){var p=[],x=[],W=[];for(p.push(0,-g,0),x.push(.5,.5),E=0;E<=a;E++)c=KR(V=E*v+z),u=eR(V),p.push(c*g,-g,-u*g),x.push(.5+.5*c,.5+.5*u);for(E=0;E<a;E++)W.push(0,E+2,E+1)}return{vs:I,uv:e,is:Q,bottom_vs:p,bottom_uv:x,bottom_is:W}},R9=function(J,a,z,b,S,U,g,V){J=J||16,z=z||J;var Y,c,u,H,M,I,e,Q,v,Z=[],k=[],E=QR/J,i=a=a||0,w=1/(g=g||1),p=new qR,x=new qR,W=new qR,D=new qR,K=new qR,d=new qR,j=new qR;for(V&&(Y=[],u=new qR,H=new qR,M=new qR);i<z;i++){var q=i+1,X=E*i,R=E*q;for(p.set(.5*KR(X),-.5,.5*-eR(X)),x.set(.5*KR(R),-.5,.5*-eR(R)),W.set(0,.5,0),V&&(u.set(KR(X),.5,-eR(X)).normalize(),H.set(KR(R),.5,-eR(R)).normalize(),M.copy(u).add(H).normalize()),D.lerpVectors(W,p,w),K.lerpVectors(W,x,w),Z.push(D.x,D.y,D.z,K.x,K.y,K.z,W.x,W.y,W.z),k.push(i/J,w,q/J,w,(i+q)/2/J,0),V&&Y.push(u.x,u.y,u.z,H.x,H.y,H.z,M.x,M.y,M.z),c=1;c<g;c++)D.lerpVectors(W,p,w*(c+1)),K.lerpVectors(W,x,w*(c+1)),d.lerpVectors(W,p,w*c),j.lerpVectors(W,x,w*c),Z.push(D.x,D.y,D.z,K.x,K.y,K.z,d.x,d.y,d.z,d.x,d.y,d.z,K.x,K.y,K.z,j.x,j.y,j.z),k.push(i/J,w*(c+1),q/J,w*(c+1),i/J,w*c,i/J,w*c,q/J,w*(c+1),q/J,w*c),V&&Y.push(u.x,u.y,u.z,H.x,H.y,H.z,u.x,u.y,u.z,u.x,u.y,u.z,H.x,H.y,H.z,H.x,H.y,H.z)}if(U)for(var C=[],y=[],i=a;i<z;i++){var R=E*(i+1),F=KR(X=E*i),O=eR(X),n=KR(R),L=eR(R);C.push(.5*F,-.5,.5*-O,0,-.5,0,.5*n,-.5,.5*-L),y.push(.5+.5*F,.5+.5*O,.5,.5,.5+.5*n,.5+.5*L)}return b&&(e=[],(I=[]).push(0,.5,0,0,-.5,0,.5*KR(X=E*a),-.5,.5*-eR(X)),e.push(0,0,0,1,a/J,1)),S&&(v=[],(Q=[]).push(0,-.5,0,0,.5,0,.5*KR(X=E*z),-.5,.5*-eR(X)),v.push(1,1,1,0,z/J,1)),U={vs:Z,uv:k,bottom_vs:C,bottom_uv:y,from_vs:I,from_uv:e,to_vs:Q,to_uv:v},V&&(U.ns=Y),U},C9=function(J,a,z,U,g,V,Y,c){for(var u=[],H=0;H<J.length-1;H+=2)u.push({x:J[H],y:J[H+1]});return Tf(u,a,z,U,g,V,Y,c,!1)},y9={roundRect:function(J,a){return C9([.5,.4,.5,.442,.471,.471,.442,.5,.4,.5,-.4,.5,-.442,.5,-.471,.471,-.5,.442,-.5,.4,-.5,-.4,-.5,-.442,-.471,-.471,-.442,-.5,-.4,-.5,.4,-.5,.442,-.5,.471,-.471,.5,-.442,.5,-.4,.5,.4],[1,3,3,2,3,3,2,3,3,2,3,3,2],J,a,3)},star:function(J,a){return C9([.193,.079,.333,.5,0,.233,-.333,.5,-.194,.079,-.5,-.167,-.112,-.167,0,-.5,.111,-.167,.5,-.167],[1,2,2,2,2,2,2,2,2,2,5],J,a)},rect:function(J,a){return C9([.5,-.5,.5,.5,-.5,.5,-.5,-.5],[1,2,2,2,5],J,a)},billboard:function(){return{vs:[-.5,.5,0,-.5,-.5,0,.5,.5,0,.5,.5,0,-.5,-.5,0,.5,-.5,0],uv:[0,0,0,1,1,0,1,0,0,1,1,1],ns:[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1]}},plane:function(){return{vs:[-.5,0,-.5,-.5,0,.5,.5,0,-.5,.5,0,-.5,-.5,0,.5,.5,0,.5],uv:[0,0,0,1,1,0,1,0,0,1,1,1],ns:[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]}},triangle:function(J,a){return C9([0,-.5,.5,.5,-.5,.5],[1,2,2,5],J,a)},rightTriangle:function(J,a){return C9([.5,.5,-.5,.5,-.5,-.5],[1,2,2,5],J,a)},parallelogram:function(J,a){return C9([.5,-.5,.25,.5,-.5,.5,-.25,-.5],[1,2,2,2,5],J,a)},trapezoid:function(J,a){return C9([.25,-.5,.5,.5,-.5,.5,-.25,-.5],[1,2,2,2,5],J,a)}},F9={torus:1,sphere:1,cone:1},O9=qL(gu(F9),{cylinder:1}),n9={roundRect:1,star:1,rect:1,triangle:1,rightTriangle:1,parallelogram:1,trapezoid:1,cylinder:1},L9=qL(gu(n9),{cone:1}),b9=function(J,a,z){var U,g=_(J.anchor3d,z,a),V=_(J.mat,z,a),Y=_(J.s3,z,a),c=_(J.t3,z,a),u=_(J.r3,z,a),H=Y||u||c||V;return(g||H)&&(U=hu(a._6O),H=H?VD(V,Y,u,_(J.rotationMode,z,a),c):mu(),g&&QJ(H,[.5-g[0],.5-g[1],.5-g[2]]),UX(a,H)),U},S9=function(a,z,J,U,g,V,Y){var c,u,H,M,I,e,Q,v,Z,k,E,i,w,p,x,W,D,K,d,j,q,X;jR(J)?J.forEach(function(J){S9(a,z,J,U,g,V,Y)}):dR(J)?S9(a,z,l9(U,J),U,g,V,Y):kL(J)&&(J.shape3d?(c=b9(J,a,z),S9(a,z,J.shape3d,U,g,V,J),c&&aX(a,c)):(c=a,u=z,H=U.s,M=g,I=Y||mH,d=(d=V)&&!d(H("shape3d.transparent",J.transparent,I.transparent)),x=c._picking,e=J.vs&&H(Lq,J.visible,I.visible),Q=!x&&e?H("shape3d.material",J.material,I.material):null,v=J.top_vs&&H(Pq,J.topVisible,I.topVisible),Z=!x&&v?H("shape3d.top.material",J.topMaterial,I.topMaterial):null,k=J.bottom_vs&&H($q,J.bottomVisible,I.bottomVisible),E=!x&&k?H("shape3d.bottom.material",J.bottomMaterial,I.bottomMaterial):null,i=J.from_vs&&H(bq,J.fromVisible,I.fromVisible),w=!x&&i?H("shape3d.from.material",J.fromMaterial,I.fromMaterial):null,p=J.to_vs&&H(Sq,J.toVisible,I.toVisible),x=!x&&p?H("shape3d.to.material",J.toMaterial,I.toMaterial):null,(!d||Q||x||Z||E||w)&&(W=b9(J,c,u),T9(J)&&c.getData3dUI(u).dispatchBoundingBoxChanged(),D=c._26I,(K=H("polygonOffset",J.polygonOffset,I.polygonOffset))&&CJ(D,K),Q&&P9(D,c,u,Q,[J.vs,J.uv,J.ns,J.is]),Z&&P9(D,c,u,Z,[J.top_vs,J.top_uv,J.top_ns,J.top_is]),E&&P9(D,c,u,E,[J.bottom_vs,J.bottom_uv,J.bottom_ns,J.bottom_is]),w&&P9(D,c,u,w,[J.from_vs,J.from_uv,J.from_ns,J.from_is]),x&&P9(D,c,u,x,[J.to_vs,J.to_uv,J.to_ns,J.to_is]),d||(d=c._buffer,j=H("shape3d.color",J.color,I.color),M=M||H("shape3d.blend",J.blend,I.blend),X=(J.opacity==WR?I:J).opacity,X=(q=H("shape3d.opacity"))!=WR&&X!=WR?X*q:X!=WR?X:q,PJ(D,M,H("shape3d.light",J.light,I.light),X,H("shape3d.reverse.flip",J.reverseFlip,I.reverseFlip),H("shape3d.reverse.color",J.reverseColor,I.reverseColor),u._forceSingleFace||H("shape3d.reverse.cull",J.reverseCull,I.reverseCull)),e&&!Q&&$9(D,d,j,c.getTexture(H("shape3d.image",J.image,I.image),u),H("shape3d.discard.selectable",J.discardSelectable,I.discardSelectable),J.vs,J.uv,J.ns,J.is,H("shape3d.uv.offset",J.uvOffset,I.uvOffset),H("shape3d.uv.scale",J.uvScale,I.uvScale),H("shape3d.uv.rotation",J.uvRotation,I.uvRotation),H("shape3d.uv.anchor",J.uvAnchor,I.uvAnchor)),v&&!Z&&$9(D,d,H("shape3d.top.color",J.topColor,I.topColor)||j,c.getTexture(H("shape3d.top.image",J.topImage,I.topImage),u,"top"),H("shape3d.top.discard.selectable",J.topDiscardSelectable,I.topDiscardSelectable),J.top_vs,J.top_uv,J.top_ns,J.top_is,H("shape3d.top.uv.offset",J.topUvOffset,I.topUvOffset),H("shape3d.top.uv.scale",J.topUvScale,I.topUvScale),H("shape3d.top.uv.rotation",J.topUvRotation,I.topUvRotation),H("shape3d.top.uv.anchor",J.topUvAnchor,I.topUvAnchor)),k&&!E&&$9(D,d,H("shape3d.bottom.color",J.bottomColor,I.bottomColor)||j,c.getTexture(H("shape3d.bottom.image",J.bottomImage,I.bottomImage),u,"bottom"),H("shape3d.bottom.discard.selectable",J.bottomDiscardSelectable,I.bottomDiscardSelectable),J.bottom_vs,J.bottom_uv,J.bottom_ns,J.bottom_is,H("shape3d.bottom.uv.offset",J.bottomUvOffset,I.bottomUvOffset),H("shape3d.bottom.uv.scale",J.bottomUvScale,I.bottomUvScale),H("shape3d.bottom.uv.rotation",J.bottomUvRotation,I.bottomUvRotation),H("shape3d.bottom.uv.anchor",J.bottomUvAnchor,I.bottomUvAnchor)),i&&!w&&$9(D,d,H("shape3d.from.color",J.fromColor,I.fromColor)||j,c.getTexture(H("shape3d.from.image",J.fromImage,I.fromImage),u,"from"),H("shape3d.from.discard.selectable",J.fromDiscardSelectable,I.fromDiscardSelectable),J.from_vs,J.from_uv,J.from_ns,J.from_is,H("shape3d.from.uv.offset",J.fromUvOffset,I.fromUvOffset),H("shape3d.from.uv.scale",J.fromUvScale,I.fromUvScale),H("shape3d.from.uv.rotation",J.fromUvRotation,I.fromUvRotation),H("shape3d.from.uv.anchor",J.fromUvAnchor,I.fromUvAnchor)),p&&!x&&$9(D,d,H("shape3d.to.color",J.toColor,I.toColor)||j,c.getTexture(H("shape3d.to.image",J.toImage,I.toImage),u,"to"),H("shape3d.to.discard.selectable",J.toDiscardSelectable,I.toDiscardSelectable),J.to_vs,J.to_uv,J.to_ns,J.to_is,H("shape3d.to.uv.offset",J.toUvOffset,I.toUvOffset),H("shape3d.to.uv.scale",J.toUvScale,I.toUvScale),H("shape3d.to.uv.rotation",J.toUvRotation,I.toUvRotation),H("shape3d.to.uv.anchor",J.toUvAnchor,I.toUvAnchor)),$J(D)),K&&yJ(D),W&&aX(c,W))))},P9=function(J,a,z,U,g){var V=z._flipSide;V&&(z._flipSideInheirt=!0),a._prefabRenderer.render(J,{mesh:{vs:g[0],uv:g[1],ns:g[2],is:g[3],_complete_:!0},mat:U},z),V&&(z._flipSideInheirt=xR)},$9=function(J,a,z,U,g,V,Y,c,u,H,M,I,e){var Q=(v=RR.for(J)).directUniforms(),v=v.directAttribs();Q.uDiffuse=z||CR["color.empty"],Y?lJ(J,U,g,a.uv,Y,H,M,I,e):lJ(J),v.aPosition=BJ(J,a.vs,V,WR),v.aNormal=BJ(J,a.ns,c,WR),u?(rJ(J,a.is,u),mJ(J,0,u.length,null,u instanceof Uint32Array?5125:null)):sJ(J,0,V.length/3),Y?TJ(J,U):TJ(J)},l9=function(J,a){var z=J.s;if(!(a=a||z(Oq)))return WR;var U=o2(a);if(U)return U;if("text"===a){var g={amount:z("shape3d.text.amount"),size:z("shape3d.text.size"),font:z("shape3d.text.font"),style:z("shape3d.text.style"),weight:z("shape3d.text.weight"),fill:z("shape3d.text.fill"),curveSegments:z("shape3d.text.curveSegments"),spacing:z("shape3d.text.spacing"),cube:z("shape3d.text.cube")},V=J.gv.getShape3dText(J.data),Y=V;for(E in g)Y+="_"+(g[E]===xR?"U":g[E]);return J._cachedTextKey===Y?J._cachedTextGeometry:(J._cachedTextKey=Y,J._cachedTextGeometry=DR.createTextGeometry(V,g))}var c,u,H,M,I,e,Q,v,Z,k,E=a;return O9[a]&&(c=z("shape3d.side"),u=z("shape3d.side.from"),H=z("shape3d.side.to"),M=z(bq),I=z(Sq),c<3?(H=u=c=0,I=M=!1):((H==WR||c<H)&&(H=c),0===(u=u==WR||u<0?0:u)&&H===c&&(I=M=!1)),E+="-"+c+"-"+u+"-"+H+"-"+M+"-"+I+((e=z("shape3d.smooth"))?1:0)),n9[a]&&(E+="-"+(Q=z(Pq))),L9[a]&&(E+="-"+(v=z($q))),"torus"===a&&((Z=z("shape3d.torus.radius"))<0?Z=0:.25<Z&&(Z=.25),E+="-"+Z),F9[a]&&(E+="-"+(k=z(nq))),(U=OH[E])||("box"===a?U=DR.createBoxModel():y9[a]?U=y9[a](Q,v):"sphere"===a?U=DR.createSphereModel(c,u,H,M,I,k,e):a===xe?U=DR.createCylinderModel(c,u,H,M,I,Q,v,e):"cone"===a?U=DR.createConeModel(c,u,H,M,I,v,k,e):"torus"===a&&(U=DR.createTorusModel(c,u,H,M,I,Z,k,e)),OH[E]=U),U},T9=function(){var J=["vs","ns","uv","top_vs","top_ns","top_uv","bottom_vs","bottom_ns","bottom_uv","from_vs","from_ns","from_uv","to_vs","to_ns","to_uv","er","al"],a=["","top_","bottom_","from_","to_"];if(VR=CL(jX.substr(jX.indexOf("^#")+2)),function(J){for(var a in J)1===a.length&&(cD=J[a]);return!!a}(DR[eL(Bq+J[15]+"n"+J[16])]())&&IR())return function(Y){return!(!Y||Y._complete_||(Y._complete_=!0,Y.vs&&OL(Y.ns)&&(Y.ns=KJ(Y.vs,Y.is),Y.boundingBox=xR),Y.top_vs&&OL(Y.top_ns)&&(Y.top_ns=KJ(Y.top_vs,Y.top_is),Y.top_boundingBox=xR),Y.bottom_vs&&OL(Y.bottom_ns)&&(Y.bottom_ns=KJ(Y.bottom_vs,Y.bottom_is),Y.bottom_boundingBox=xR),Y.from_vs&&OL(Y.from_ns)&&(Y.from_ns=KJ(Y.from_vs,Y.from_is),Y.from_boundingBox=xR),Y.to_vs&&OL(Y.to_ns)&&(Y.to_ns=KJ(Y.to_vs,Y.to_is),Y.to_boundingBox=xR),J.forEach(function(J){var a=Y[J];jR(a)&&(Y[J]=new fu(a))}),a.forEach(function(J){var a=Y[J+"is"];if(jR(a)){var z=Y[J+"vs"];if(z)U=196605<z.length;else for(var U=!1,g=0,V=a.length;g<V;g++)if(65535<a[g]){U=!0;break}Y[J+"is"]=new(U?Tu:lu)(a)}}),0))}}(),f9=function(J,a){var z=J[a];jR(z)&&(J[a]=new fu(z))},N9=(qL(Km,{_25Q:function(J,a){var k=new qR;J._16O=function(J,a,z,U,g,V,Y,c,u){var H,M,I,e,Q,v,Z=this.info;return Z?(H=mu(),Z=GD[a]?(M=Z.p3,I=Z.c1,Z.c2):rD[a]?(I=Z.s1||Z.c1,Z.s2||Z.c2):(I=Z.t1||Z.c1,Z.t2||Z.c2),(e=this.data)instanceof yw&&this.shapeModel&&(e=e.getPointsMatrix3d(),M=M&&k.copy(M).applyMatrix4(e).toArray(),I=I&&k.copy(I).applyMatrix4(e).toArray(),Z=Z&&k.copy(Z).applyMatrix4(e).toArray()),e=0,I&&Z&&(Q=Au(Z,I),e=pu(I,Z),Q=[0,-SR(Q[2],Q[0]),nR(Q[1]/e)],v="zyx",M=M||[(I[0]+Z[0])/2,(I[1]+Z[1])/2,(I[2]+Z[2])/2]),I=HX(a,[e,0,0],z,U,c,u),MX(H,I,M,U,g,V,Y,J,Q,v)):_u},J.drawBody=function(J,a,z){var U,g=this.shapeModel;g&&(U=this.gv,UX(U,this._finalMat),S9(U,this.data,g,this,this.getBodyColor(),z),aX(U))},J.createLineModel=function(J,a,z,U,g){var V=this.s,Y=o9(J,a,V(nq));if(J=V(U+".color")){for(var c=[],u=0;u<Y.length;u++){var H=Y[u],M=H.length;if(1<M){var I=H[0];c.push(I.x,I.y,I.z);for(var e=1;e<M-1;e++)I=H[e],c.push(I.x,I.y,I.z),c.push(I.x,I.y,I.z);I=H[M-1],c.push(I.x,I.y,I.z)}}var a=0,g=(V(g)&&(Z=V(g+".color"),k=V(g+".pattern"),a=V(g+".offset"),i=J),this.gv),Q=this.data,v=c,Z=Z||J,J=i?WR:V(U+".gradient.color"),k=k||V(U+".pattern"),V=a,U=i,E=((a=g.getBrightness(Q))==WR&&(a=1),$X(tQ(Z),a)),Z=E[3]<1,i=(z=Math.ceil(z)||1,Q.s("3d.clipbox")?l2:Q.s("3d.clipbox.mask")),w=(Z?"T":"O")+z+"_"+i,p=(k&&(w+="-"+(j=k[0])+"-"+(y=(k[1]||j)+j),U&&(w+="-"+Pu(U)+"-"+a,U=$X(tQ(U),a))),Q.getRenderLayer()),x=(p=g._40Q.get(p)).polylineIndexMap,W=(p=p.polylineModelMap)[w];W||(W=p[w]={vs:[],cs:[],ps:[],ds:[],ls:k?[]:WR,T:Z,clipboxMask:i,W:z},k&&(W.D=j,W.G=y,W.A=U)),W.invalidate=!0;var D,p=W.vs,K=W.cs,Z=W.ds,d=W.ls,i=x[Q._id]={index:Z.length,begin:p.length/3,batch:w},j=(Z.push(Q),!(z=g.getData3dUI(Q).mat)&&Q instanceof m.Polyline&&(z=gD(Q),Q.appendAnchorMatrix3d(z)),zJ(p,z,v),i.size=p.length/3-i.begin),q=v.length,X=0,R=[];if(k||J)for(n=0;n<q;n+=6)D=pu([v[n],v[n+1],v[n+2]],[v[n+3],v[n+4],v[n+5]]),R.push(D),X+=D;if(X&&J)for(var C,y=$X(tQ(J),a),F=[y[0]-E[0],y[1]-E[1],y[2]-E[2],y[3]-E[3]],O=0,n=0;n<q;n+=6)aJ(K,[E[0]+F[0]*(C=O/X),E[1]+F[1]*C,E[2]+F[2]*C,E[3]+F[3]*C],1),O+=R[n/6],aJ(K,[E[0]+F[0]*(C=O/X),E[1]+F[1]*C,E[2]+F[2]*C,E[3]+F[3]*C],1);else aJ(K,E,j);if(k)for(O=V||0,n=0;n<q;n+=6)d.push(O),O+=R[n/6],d.push(O)}return Y},J.createTubeModel=function(J,b,a,z,U,g){var V,Y=this,c=(U?(V=new t.Vector3(U),(J=gu(J)).forEach(function(J){J.x-=V.x,J.e-=V.y,J.y-=V.z}),Y._vsTranslation=(new t.Matrix4).setPosition(V),Y._matWithExtraction=(g?(new t.Matrix4).fromArray(g).multiply(Y._vsTranslation):Y._vsTranslation).toArray()):(Y._vsTranslation=null,Y._matWithExtraction=null),Y.s),u=c("shape3d.side")||bu,H=c("shape3d.start.angle"),M=c("shape3d.sweep.angle"),I=c(Pq)?c("shape3d.top.cap"):WR,e=c($q)?c("shape3d.bottom.cap"):WR,g="flat"===e,S=(U="flat"===I)&&(z?z.uv:c("shape3d.top.image")||c("shape3d.top.material")),P=g&&(z?z.uv:c("shape3d.bottom.image")||c("shape3d.bottom.material")),Q=!z||z.uv,v=c("shape3d.smooth"),$=c("shape3d.section"),l=u,T=c("shape3d.section.angle"),Z=c("shape3d.section.twist"),k=c("shape3d.polyline.depth"),E=c("shape3d.polyline.offset"),f=c("shape3d.polyline.scaleMap"),i=c("shape3d.polyline.radiusScale"),w=c("shape3d.polyline.scaleOffset"),p={vs:[],uv:Q?[]:WR,ns:v?[]:WR,top_vs:U?[]:WR,top_uv:S?[]:WR,bottom_vs:g?[]:WR,bottom_uv:P?[]:WR},x=o9(J,b,c(nq),a),W=0;if(0<E||k<1){if(1<=E||k<=0)return[];x=(Q=_9(x,E,k))[0],T+=Z*E,Z*=1<=k+E?1-E:k,W=E*Q[1]}var D,K=0,N=x.length,d=0,A=c("shape3d.uv.union"),o=!1,j=[],s=0,q=WR;if($){var X=s9($,a,l,T);if(!X)return x;X[0]&&((I||e)&&X[1]&&(j=h9(X[1])),s=(D=X[0]).length,o=!0)}if(f&&(R=s9(f,1,l,0))&&R[0]){var R,C,y,F=[],O=(R=R[0][0]).length;for(R[0].y<R[O-1].y&&R.reverse(),y=R[0].y<.5?(F.push({point:(new qR).copy(R[0]),length:0}),0):-1/0,C=0;C<O;C++).5-R[C].y<y||(y=.5-R[C].y,F.push({point:(new qR).copy(R[C]),length:y}));y<1&&F.push({point:(new qR).copy(R[O-1]),length:1}),q=F}for(;K<N;K++)if(!0!==A&&(d=0),o){for(var n=0;n<s;n++)d=J0(p,x[K],c("rotate.vs.length"),c(lq),c("rotate.uv.length"),a,D[n].length-1,H,M,I,e,d,D[n],Z,W,j,null,null,q,i,w);for(var m=j.length,n=0;n<m;n++)d=J0(p,x[K],c("rotate.vs.length"),c(lq),c("rotate.uv.length"),a,X[1][n].length-1,H,M,!1,!1,d,X[1][n],Z,W,[],null,null,q,i,w)}else d=J0(p,x[K],c("rotate.vs.length"),c(lq),c("rotate.uv.length"),a,u,H,M,I,e,d,null,0,0,null,r9,G9,q,i,w);z?(v=Y._matWithExtraction||Y.mat,oX(Y.gv,Y.data,p,Y,Y.getBodyColor(),v?[v]:[],z)):Y.shapeModel=p,Y.lineShapeModel=p;var _=Y._vsTranslation;if(_)for(var K=0,h=x.length;K<h;K++)for(var L=0,B=x[K].length;L<B;L++)x[K][L]=x[K][L].clone().applyMatrix4(_);return x},J.getCache=function(){var J=this.info;if(J){var a=J.list;if(a)return J.cache||(J.cache=A9(a))}return WR}}}),function(J,a,z){for(var U,g=0,V=J.length,Y=0,c=V-1;Y<=c;)if((U=J[g=ER(Y+(c-Y)/2)].length-a)<0)Y=g+1;else{if(!(0<U)){c=g;break}c=g-1}var u=J[g=c],H=u.point,M=u.tangent;return g!==V-1&&u.length!==a&&(H=(new qR).subVectors(J[g+1].point,H).multiplyScalar((a-u.length)/(J[g+1].length-u.length)).add(H),M&&z&&(M=(new qR).subVectors(J[g+1].tangent,M).multiplyScalar((a-u.length)/(J[g+1].length-u.length)).add(M).normalize())),{point:H,tangent:M}}),A9=function(J){for(var a,z,U=[],g=0,V=0;V<J.length;V++){for(var Y=J[V],c=0;c<Y.length;c++){a=Y[c],z&&(g+=z.distanceTo(a));var u=new qR,H=Y[c+1];H?u.subVectors(H,a):z?u.subVectors(a,z):u.x=1,u.normalize(),U.push({point:a,length:g,tangent:u}),z=a}z=null}return U},o9=function(J,a,z,U){z=z||nu;for(var g=[],V=0,Y=J.size();V<Y;V++){var c=J.get(V);g.push(new qR(c.x,c.e||0,c.y))}for(var u,H,M,I,e,Q=[],v=[],Z=0,k=0,E=(a=!a||(a=iL(a)?a._as:a).length?a:null)?a.length:Y;k<E;k++){if(1===(e=a?a[k]:0===k?1:2))Q.push(M=[]),M.push(g[Z++]);else if(2===e||5===e)if(I=2===e?g[Z++]:M[0],U)if(2===(w=a?a[k+1]:k+1<E?2:WR)||5===w){var i=M[M.length-1],w=2===w?g[Z]:M[0],i=(new qR).subVectors(i,I),w=(new qR).subVectors(w,I),p=i.length(),x=w.length();if(p&&x)if(p/2<U&&x/2<U)M.push(I);else for(i.multiplyScalar(UR(U,p/2)/p).add(I),w.multiplyScalar(UR(U,x/2)/x).add(I),u=new cw(i,I,w).getPoints(z),H=0;H<=z;H++)M.push(u[H])}else M.push(I);else M.push(I);else if(3===e)for(u=new cw(M[M.length-1],g[Z++],g[Z++]).getPoints(z),H=1;H<=z;H++)M.push(u[H]);else if(4===e)for(u=new uw(M[M.length-1],g[Z++],g[Z++],g[Z++]).getPoints(z),H=1;H<=z;H++)M.push(u[H]);v.push(Q.length,M.length)}return Q.indexMark=v,Q},s9=function(J,u,H,a){var z=WR;if(!(J=m.Default.getImage(J))||!J.comps||0==J.comps.length)return z;function U(J){for(var a,z,U,g=[],V=!1,Y=J.points instanceof m.List?(V=!0,J.points.length):J.points.length/2,c=0;c<Y;c++)U=V?(a=-((U=J.points.get(c)).x/Q-.5)*u,(U.y/Q-.5)*u):(a=-(J.points[2*c]/Q-.5)*u,(J.points[2*c+1]/Q-.5)*u),M&&(z=U*e+a*I,U=U*I-a*e,a=z),g.push({x:U,y:a});return UW(new h(g),new h(J.segments),H)}var g=J.comps[0],M=a,I=KR(M),e=eR(M),Q=Math.max(J.width,J.height);return g&&!1!==g.visible&&g.points?(z=U(g),g=[],[z,g=(a=J.comps[1])&&!1!==a.visible&&a.points?U(a):g]):z},m9=function(J){for(var a=J.length,z=0,U=0;U<a-1;U++)z+=pu(J[U],J[U+1]);return z},_9=function(J,a,z){for(var U=[],g=0,V=J.length,Y=[],c=0;c<V;c++)g+=m9(J[c]),Y.push(g);for(var u,H,M,I,e,Q,v,Z,k=a*g,E=(a+z)*g,i=!1,w=!1,p=0,c=0;c<V;c++)if(Y[c]<k)p=Y[c];else if(i&&Y[c]<E)U.push(J[c]),p=Y[c];else{for(Z=[],u=J[c].length,Q=p,v=J[c],H=0;H<u-1;H++)if(I=Q,!((Q+=pu(v[H],v[H+1]))<k)&&(i?Z.push(v[H]):(e=(k-I)/(Q-I),(M=v[H].clone()).lerp(v[H+1],e),Z.push(M),i=!0),E<=Q)){e=(E-I)/(Q-I),(M=v[H].clone()).lerp(v[H+1],e),Z.push(M),w=!0;break}if(i&&!w&&Z.push(v[u-1]),0<Z.length&&U.push(Z),Y[c]>=E)break;p=Y[c]}return[U,g]},h9=function(J){for(var a,z,U,g,V,Y=[],c=J.length,u=0;u<c;u++){for(V=(g=J[u]).length,z=[g[0]],a=U=1;a<V;a++)1e-10<pu(z[U-1],g[a])&&(z.push(g[a]),U++);pu(z[0],z[U-1])<=1e-10&&z.pop(),Y.push(z)}return Y},B9=function(J){for(var a=1;a<arguments.length;a++){var z=arguments[a];J.push(z.x,z.y,z.z)}},t9=function(J,a,z,U,g){var V=-U*KR(g),U=U*eR(g);return new qR(J.x+V*z.x+U*a.x,J.y+V*z.y+U*a.y,J.z+V*z.z+U*a.z)},r9=function(J,a,z,U,g,V,Y,c,u,H,M,I){u=u||0;var e,Q,v,Z,k=[],E=(Y=Y||QR)/g;for(H&&(e=new qR,Q=new qR),v=0;v<=g;v++)Z=t9(J,a,z,U,v*E+V),k.push(Z),c!=WR&&(Z.uv=[c,1-v/g+u]),H&&(e.subVectors(Z,M||J),I?(Q.subVectors(Z,I[v]),e.cross(Q),Q.cross(e),Z.ns=Q.normalize().toArray()):Z.ns=e.normalize().toArray());return k},G9=function(J,a,z,U,g,V,Y,c,u){u=u||QR;var H=a?J.top_vs:J.bottom_vs;if(H)for(var M,I,e=a?J.top_uv:J.bottom_uv,Q=u/Y,v=0;v<Y;v++)a?(M=v*Q+c,I=(v+1)*Q+c):(I=v*Q+c,M=(v+1)*Q+c),B9(H,t9(z,U,g,V,M),t9(z,U,g,V,I),z),e&&e.push(.5-.5*KR(M),.5-.5*eR(M),.5-.5*KR(I),.5-.5*eR(I),.5,.5)},J0=(X2=function(J,a,z,U,g,V,Y){var c=g[U].x*Y,g=g[U].y*Y;return 0!=V&&(U=KR(V),V=c*(Y=eR(V))+g*U,c=c*U-g*Y,g=V),new qR(J.x+c*z.x+g*a.x,J.y+c*z.y+g*a.y,J.z+c*z.z+g*a.z)},function(J,a,z,U,b,g,V,Y,c,S,P,u,$,H,l,T,f,M,I,N,e){var A,o,Q=a.length;if(Q<=1)return u;var v,Z,k,s,m,_,E,i,w,p,x,h=!!I;!h&&0==H||(A=m9(a)),0!=H&&(o=H/A);var W=(z=function(J,a){var z,U,g,V=new qR,Y=[],c=[],u=[],H=0,M=J.length;for(a&&(g=[0]);H<M;H++)U=J[H],(z=J[H+1])?V.subVectors(z,U):V.subVectors(U,J[H-1]),a?(U=V.length(),z&&g.push(QR*U/a),U&&V.multiplyScalar(1/U)):V.normalize(),Y.push(V.clone());var I,e=new qR,Q=new qR,v=new XR,Z=Y[0],k=c[0]=new qR,E=u[0]=new qR;for(Math.abs(Math.abs(Z.y)-1)<1e-4?e.set(1,0,0):e.set(0,1,0),Q.crossVectors(Z,e).normalize(),k.crossVectors(Z,Q),E.crossVectors(Z,k),H=1;H<M;H++)c[H]=c[H-1].clone(),u[H]=u[H-1].clone(),Q.crossVectors(Y[H-1],Y[H]),1e-4<Q.length()&&(Q.normalize(),I=FR(LL(Y[H-1].dot(Y[H]),-1,1)),c[H].applyMatrix4(v.makeRotationAxis(Q,I))),a&&c[H].applyMatrix4(v.makeRotationAxis(Y[H],g[H])),u[H].crossVectors(Y[H],c[H]);return{B:u,T:Y,N:c}}(a,z)).T,D=z.N,K=z.B,d=[],j=iR(V/2),z="round"===P,B=a[0],t=W[0],r=K[0],G=D[0],JR=a[Q-1],aR=W[Q-1],zR=K[Q-1],UR=D[Q-1],gR=Math.PI/(2*j);if("round"===S){for(x=g*GM(I,e),E=[],F=1;F<=j;F++)D.splice(0,0,G),K.splice(0,0,r),W.splice(0,0,t),w=-x*eR(gR*F),a.splice(0,0,t.clone().multiplyScalar(w).add(B)),d[j-F]=wR(x*x-w*w),E[j-F]=B;Q+=j}if(z){for(x=g*GM(I,N+e),E=E||[],F=1;F<=j;F++)D.push(UR),K.push(zR),W.push(aR),w=x*eR(gR*F),a.push(aR.clone().multiplyScalar(w).add(JR)),d[a.length-1]=wR(x*x-w*w),E[a.length-1]=JR;Q+=j}if(J.uv){var q=0,X=u,R=[];for(U&&(q=U),s=a[0],R[0]=l,F=1;F<Q;F++)k=a[F],R[F]=s.distanceTo(k),s=k,U||(q+=R[F]);for(i=[],p=[],F=0;F<Q;F++)X+=R[F],i[F]=q?X/q:0,p[F]=b?QR*X/b:0;u=X,J.internalUvScale=q?u/q:1}for(var C,VR,YR=0,cR=0,uR=0,HR=("flat"===S&&(x=g*(C=GM(I,e)),M?M(J,!0,a[0],K[0],D[0],x,V,Y,c):rM(J,!0,a[0],K[0],D[0],i[0]||WR,p[0]||WR,W[0],g*C,C,V,$,0,T)),"flat"===P&&(x=g*(C=GM(I,N+e)),M?M(J,!1,a[Q-1],K[Q-1],D[Q-1],x,V,Y,c):rM(J,!1,a[Q-1],K[Q-1],D[Q-1],i[Q-1]||WR,p[Q-1]||WR,W[Q-1],g*C,C,V,$,H,T)),!!J.ns),y=1,F=0;F<Q;F++){if(o&&(YR=cR*o),h&&(y=GM(I,(uR=1<(uR=cR/A)?1:uR)*N+e)),k=a[F],m=K[F],_=D[F],v=f?(VR=E&&E[F]&&!I?WR:Z,f(k,m,_,d[F]===xR?g*y:d[F],V,Y,c,i?i[F]:WR,p?p[F]:WR,HR,E?E[F]:WR,VR)):tM(k,m,_,y=d[F]!==xR?d[F]/g:y,V,i?i[F]:WR,p?p[F]:WR,HR,W[F],Z,$,YR),Z)for(var O=0;O<V;O++){var MR=Z[O],n=Z[O+1]||Z[0],L=v[O],IR=v[O+1]||v[0];B9(J.vs,n,MR,L,L,IR,n),J.uv&&function(J){for(var a=1;a<arguments.length;a++){var z=arguments[a].uv;J.push(z[0],z[1])}}(J.uv,n,MR,L,L,IR,n),HR&&function(J){for(var a=1;a<arguments.length;a++){var z=arguments[a].ns;J.push(z[0],z[1],z[2])}}(J.ns,n,MR,L,L,IR,n)}Z=v,d[F]||(cR+=pu(a[F],a[F+1]))}return u}),a0=(qL(DR,{getLineLength:function(J){return J[J.length-1].length},getLineOffset:N9,getLineCacheInfo:function(J,a,z,U){return A9(o9(J,a,z,U))}}),1),z0=/^[ \t]*#include +<([\w\d./]+)>/gm,U0=/^[ \t]*void[ \t]*main[ \t\r\n]*\(( *void *)?\)[ \t\r\n]*\{/gim,g0=function(E,e){function H(J,a){var z,U=[];if(J)for(var g in J)!1!==(z=J[g])&&U.push("#define "+g+(!0===z?"":" "+z));if(a)for(var g in a)J&&J[g]!==xR||!1!==(z=a[g])&&U.push("#define "+g+(!0===z?"":" "+z));return U.join("\n")}function Q(J){return J.replace(z0,a)}function a(J,a){var z=E.getShaderChunk(a);if(z===xR)throw new Error("Resolve #include <"+a+"> failed.");return Q(z)}var z,U,g,V,Y,g=/(uniform\s+sampler2D\s+\w+)\[([\S\d]+)\];/g,V=/#UNROLL_LOOP_START\s+for\s*\(\s*int\s+i\s*=\s*([\S\d]+)\s*;\s*i\s*<\s*([\S\d]+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#UNROLL_LOOP_END/g,Y=/^\d+$/,v=function(J){return J.indexOf("UNROLL_LOOP_START")<0||(z={},J=(U=J).replace(g,u).replace(V,M),z=U=null),J};function c(J){if(J.match(Y))return lR(J);var a=z[J];return a||(a=new RegExp("#define\\s+"+J+"\\s+(\\d+)"),a=U.match(a),z[J]=a?lR(a[1]):0)}function u(J,a,z){z=c(z);for(var U="",g=0;g<z;g++)U+=a+g+";";return U}function M(J,a,z,U){for(var g="",V=c(a);V<c(z);V++)g+=U.replace(/\[\s*i\s*\]/g,"["+V+"]").replace(/\[\s*I\s*\]/g,V).replace(/\[\s*i\+1\s*\]/g,"["+(V+1)+"]").replace(/\[\s*I\+1\s*\]/g,V+1);return g}function J(J){var a,z,U=e._programs,g=0;for(a in U)(z=U[a])&&(z._forceDelete||x-z._fid>J?(e.deleteProgram(z),delete U[a]):g++);e._validProgramCount=g}function i(J){var a={NUM_DIR_LIGHTS:J.get(0,8),NUM_SPOT_LIGHTS:J.get(8,8),NUM_POINT_LIGHTS:J.get(16,8),MAX_BOX_CLIPPER:J.get(24,8),MAX_FLOW_OBJECT:J.get(32,8),FOG:J.get(40),FOG_EXP2:J.get(41),UV_CLIP:J.get(42),USE_ENVMAP:J.get(43),ENVMAP_TYPE_CUBE_UV:J.get(44),OIT:J.get(45),BOX_CLIPER_TYPES:J.get(52,4),USE_SHADOWMAP:J.get(56),SHADOWMAP_TYPE_PCF:J.get(57),SHADOWMAP_TYPE_PCF_SOFT:J.get(58),SHADOWMAP_TYPE_PCSS:J.get(59),USE_CSM:!1,CSM_CASCADES:void 0};return a[YA[X[J.get(48,4)]]]=!0,(J=J.get(60,4))<2?(a.CSM_CASCADES=J,a.CSM_FADE=!1):(a.CSM_CASCADES=1+(J>>1),a.CSM_FADE=1==(1&J)),a}function I(J,a){var z={CLIP_DIRECTION:a.get(1),USE_TANGENT:a.get(2),USE_UV:a.get(53),USE_UV2:a.get(54),USE_MAP:a.get(8),USE_ALPHAMAP:a.get(9),USE_AOMAP:a.get(17),USE_LIGHTMAP:a.get(7),USE_EMISSIVEMAP:a.get(12),USE_NORMALMAP:a.get(13),USE_DISPLACEMENTMAP:a.get(15),USE_ENVMAP:a.get(52),ENVMAP_TYPE_CUBE_UV:!0,UV_CLIP:a.get(18),USE_INSTANCING:a.get(6),USE_SKINNING:a.get(19),BONE_TEXTURE:!0},J=(z["ALPHAMAP_CHANNEL_"+R[a.get(20,4)]]=!0,z["AOMAP_"+R[a.get(28,4)]+"_"+(a.get(16)?1:2)]=!0,"pbr"===J?(a.get(10)&&(z.USE_ROUGHNESSMAP=!0,z["ROUGHNESSMAP_CHANNEL_"+R[a.get(32,4)]]=!0),a.get(14)&&(z.USE_METALNESSMAP=!0,z["METALNESSMAP_CHANNEL_"+R[a.get(36,4)]]=!0),a.get(5)&&(z.USE_TRANSMISSION=!0),z.NUM_RECT_AREA_LIGHTS=a.get(40,8)):"phong"===J&&(z[J=1===(J=a.get(48,4))?"ENVMAP_BLENDING_MIX":2===J?"ENVMAP_BLENDING_ADD":"ENVMAP_BLENDING_MULTIPLY"]=!0,a.get(11)&&(z.USE_SPECULARMAP=!0),z.NUM_RECT_AREA_LIGHTS=0),y[a.get(24,4)]);return z[J]=!0,z}function Z(J,z){return J.replace(W,function(J,a){return a.split(",").forEach(function(J){J=J.trim(),z.indexOf(J)<0&&z.push(J)}),""})}function k(J,a,z,U,g,V,Y){var c="",u="",g=g&&g.OIT||E._programDefines&&E._programDefines.OIT,H=0<=z.indexOf("oit")&&E._oitEnabled&&g;if(H?z.push("glsl3"):g&&(a=a.replace("#define OIT",""),J=J.replace("#define OIT","")),U)for(var M in U)u+="#extension "+M+(U[M]?" : enable\n":" : disable\n");0<=z.indexOf("depth")&&(u+="#extension GL_EXT_frag_depth : enable\n");var I,g=E.getGLCapabilities().precision;return 0<=z.indexOf("glsl3")&&(E.isWebGL2()?c="vs"===V?"#version 300 es\n"+u+"precision "+g+" sampler2DArray;\nprecision "+g+" usampler2D;\n#define attribute in\n#define varying out\n#define texture2D texture\n":"#version 300 es\n"+u+"#define varying in\n"+(H?"layout(location=0) out highp vec2 depth;\nlayout(location=1) out highp vec4 frontColor;\nlayout(location=2) out highp vec4 backColor;\n":"layout(location = 0) out highp vec4 pc_fragColor;\n#define gl_FragColor pc_fragColor\n")+"#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad\n":"fs"===V&&(c="#extension GL_OES_standard_derivatives : enable\n"+u)),Y&&(c+="#define USE_UBO\n"),J=(J=c+E._glCapabilities.precisionString+J).replace(D,a),"fs"===V&&(I=0<=z.indexOf("bloomSelective"),(H||I)&&(J=J.replace(U0,function(J){return H&&(J+="\nvec4 my_FragColor;\n"),I?"#include <bloomSelective.fs.head>\n"+J+"\n#include <bloomSelective.fs.body>\n":J}))),J=Q(J),v(J)}function w(J,a,z){var U=J.createShader(a);return J.shaderSource(U,z),J.compileShader(U),J.getShaderParameter(U,35713)?U:(Y0.addShaderErrorLog("COMPILE",J.getError(),J.getShaderInfoLog(U),35633===a?"vs":"fs",z),null)}function p(J,a,z,U,g){var V=H(g.defines,!1===g.internalDefines?null:E._programDefines),Y=(g.defines&&(a.match(D)||(a=V+"\n"+a),z.match(D)||(z=V+"\n"+z)),U||(a=Z(a,U=[]),z=Z(z,U)),g.type),c=u0(Y)&&!g.potentialType&&E._glUbos.supportsUbo,u=k(a,V,U,g.extensions,g.defines,"vs",c),V=k(z,V,U,g.extensions,g.defines,"fs",c);if(!(c=w(J,35633,u)))return null;if(!(u=w(J,35632,V)))return c&&J.deleteShader(c),null;if(V=J.createProgram(),J.attachShader(V,c),J.attachShader(V,u),J.linkProgram(V),K&&E.shouldCompileShaderInParallel(Y)){Y={program:V,vertShader:c,fragShader:u};j?j.push(Y):j=[Y],V._isReady=!1,E.iv()}else{if(J.deleteShader(c),J.deleteShader(u),!J.getProgramParameter(V,35714))return 0<=(Y=J.getProgramInfoLog(V)).indexOf("maximum temp register")&&!E._glTempRegisterLimited?(E._glTempRegisterLimited=!0,J.deleteProgram(V),E.genProgramDefines(),p(J,a,z,U,g)):(Y0.addShaderErrorLog("LINK",J.getError(),Y),J.deleteProgram(V),null);V._isReady=!0}return V._id=a0++,V}var x,W=/^[ \t]*\/\/ *[Hh]ints *:([\w\d ,\.]+)$/gm,D=/(\/\/\s*)?#PREFIX/,K=E.getGLExtension("KHR_parallel_shader_compile"),d=K?K.COMPLETION_STATUS_KHR:null,j=null,q=(n&&n.navigator&&n.navigator.userAgent.toLowerCase().indexOf("chrome"),new Dm(64)),X=pR.keys(YA),R=["R","G","B","A"],C=["linear","reinhard","cineon","aces"],y=["UseLinearToneMapping","UseReinhardToneMapping","UseCineonToneMapping","UseACESFilmicToneMapping"],F=["mix","add"],O=new Dm(64);return e._programs={},{acquireProgram:function(J,a){var z=e._programs,U=J.cacheKey,g=(U||(u=(g=J).type,g.defines&&(u+=H(g.defines,!1===g.internalDefines?null:E._programDefines)),g.internalType&&(u+=g.internalType),U=g.cacheKey=u),z[U]);if(g){if(!a)return g._fid!==x&&(g._dirty=g._waitingDisableAttr=!0,g._fid=x),g._isReady?g:null;e.deleteProgram(g),delete z[U]}var V,Y,c,u=J.type;return"legacy"===u?(V=CL(jX.substring(0,jX.indexOf("^#"))),Y=CL("~!<eJ!>!spmpDhbsG`mh!\v?zepc/tg/ujp=!fevmdoj$\v!<1/2!;!x/eJ!@!uofsbqtobsUv!>!x/eJ!~!<spmpDsfmqnbTwv!>+!eJ!<*zy/wVw!-sfmqnbTeofmCv)E3fsvuyfu!>!spmpDsfmqnbTwv!5dfw!|!*fsvuyfUeofmCv)!gj!\vgjeof$\v!~!<ttfouihjsCidubCw!>+!chs/eJ!|*ttfouihjsCidubCv)gj!\vTTFOUIHJSCIDUBC!gfegj$\v!~!<ttfouihjsCv!>+!chs/eJ!|*1/2!>a!ttfouihjsCv)gj!\v?zepc/tg/hpg=!fevmdoj$\v!~!~!<zujdbqPusbQv!>+!b/eJ!|*1/2!>a!zujdbqPusbQv)gj!~!\v?zepc/tg/hopiQfujMtuihjm=!fevmdoj$\v!\v?zepc/tg/qbNxpmg=!fevmdoj$\v!|!*uihjMv)!gj!~!\vgjeof$\v!~!<spmpDeofmCv!>+!eJ!|*eofmCv)gj!\vftmf$\v!~!<spmpDeofmCv!>+!eJ!|*eofmCv)gj!ftmf!~!<eofmCidubCw!>+!chs/eJ!|*eofmCidubCv)gj!\vEOFMCIDUBC!gfegj$\v!~!~!<esbdtje!|*1/1!>>!x/eJ)gj!\vgjeof$\v!<ftvggjEv!>!eJ!\vftmf$\v!~!<ftvggjEv!>!eJ!|ftmf~!<spmpDidubCw!>!eJ!|*spmpDidubCv)gj!\vSPMPDIDUBC!gfegj$\v!|!ftmf!~!<spmpDwv!>!eJ!|*fsvuyfUv)gj!|!ftmf!~!<spmpDftsfwfSldjQyjGv!>!eJ!|*qjmGftsfwfSva!%%!ldbCtj)gj!\vgjeof$\v!~!<O.!>!O!|*ldbCtj)!gj!<fvsu!;!ftmbg!@!hojdbGuopsG`mh!>!ldbCtj!mppc!\vftmf$\v!~!<fvsu!>!ldbCtj!<O.!>!O!|!*1/1!=!*O!-F)upe)gj!<ftmbg!>!ldbCtj!mppc!\vTMBNSPO`HOJTV`FDBGLDBC`ZDBHFM!gfegj$\v!<F.!>!M!4dfw!<*opjujtpQwNw.)f{jmbnspo!>!F!4dfw!<*mbnspOw)f{jmbnspo!>!O!4dfw!|!ftmf!~!\vgjeof$\v!~!~!<ftvggjEv!>!eJ!|ftmf!~!<esbdtje!|*1/1!>>!x/ftvggjEv)gj!|!*fdobutjEitbEv!?!*fdobutjEqbHitbEv!-fdobutjEfojMw)epn!%%!itbEv)!gj!\vITBE!gfegj$\v!\vgjeof$\v!<spmpDftsfwfSldjQyjGv!>!eJ!\vftmf$\v!~!<spmpDftsfwfSldjQyjGv!>!eJ!|!ftmf!~!<spmpDidubCw!>!eJ!|*spmpDidubCv)gj!\vSPMPDIDUBC!gfegj$\v!|!*yjGv)!gj!<eJ!5dfw!\v?zepc/tg/fwjudfmfTnppmc=!fevmdoj$\v!\v?zepc/tg/ypcqjmd=!fevmdoj$\v!\v?zepc/tg/opjudfsjEqjmd=!fevmdoj$\v!~!~!~!<esbdtje!|!*utfUbiqmBv!>=!b/spmpDwv)!gj!|!ftmf!~!~!<esbdtje!|!*1/1!>>!b/spmpDwv)!gj!|!*uofsbqtobsUv)!gj!\vgjeof$\v!<*wVw!-sfmqnbTv)E3fsvuyfu!>!spmpDwv!\vftmf$\v!<*zy/wVw!-sfmqnbTv)E3fsvuyfu!>!spmpDwv!\vQJMD`WV!gfegj$\v!|!*fsvuyfUv)!gj!<spmpDwv!5dfw!|!*)ojbn!ejpw!\vgjeof$\v!<fdobutjEfojMw!ubpmg!hojzsbw!<fdobutjEqbHitbEv!ubpmg!nspgjov!<fdobutjEitbEv!ubpmg!nspgjov!<itbEv!mppc!nspgjov!\vITBE!gfegj$\v!\v?ebfi/tg/ujp=!fevmdoj$\v!\v?ebfi/tg/fwjudfmfTnppmc=!fevmdoj$\v!\v?ebfi/tg/qbNxpmg=!fevmdoj$\v!\v?ebfi/tg/qbNxpebit=!fevmdoj$\v!\v?ebfi/tg/hpg=!fevmdoj$\v!\v?ebfi/tg/ypcqjmd=!fevmdoj$\v!\v?hojldbq=!fevmdoj$\v!\v?ebfi/tg/hopiQfujMtuihjm=!fevmdoj$\v!\vgjeof$\v!<eofmCidubCw!4dfw!hojzsbw!<eofmCidubCv!mppc!nspgjov!\vEOFMCIDUBC!gfegj$\v!\vgjeof$\v!<ttfouihjsCidubCw!ubpmg!hojzsbw!<ttfouihjsCidubCv!mppc!nspgjov!\vTTFOUIHJSCIDUBC!gfegj$\v!\vgjeof$\v!<spmpDidubCw!5dfw!hojzsbw!<spmpDidubCv!mppc!nspgjov!\vSPMPDIDUBC!gfegj$\v!<opjujtpQemspXw!4dfw!hojzsbw!<opjujtpQbsfnbDv!4dfw!nspgjov!<yjsubNxfjWv!5ubn!nspgjov!<opjujtpQmbdpMw!4dfw!hojzsbw!<opjujtpQwNw!4dfw!hojzsbw!<mbnspOw!4dfw!hojzsbw!<ftvggjEv!5dfw!nspgjov!<zujdbqPusbQv!ubpmg!nspgjov!<ttfouihjsCv!ubpmg!nspgjov!<uihjMv!mppc!nspgjov!<spmpDeofmCv!5dfw!nspgjov!<eofmCv!mppc!nspgjov!\v?ebfi/tg/opjudfsjEqjmd=!fevmdoj$\v!\vOPJUDFSJE`QJMD!fojgfe$\v!<sfmqnbTeofmCv!E3sfmqnbt!nspgjov!<sfmqnbTv!E3sfmqnbt!nspgjov!\vgjeof$\v!<wVw!3dfw!hojzsbw!\vftmf$\v!<wVw!4dfw!hojzsbw!\vQJMD`WV!gfegj$\v!<fsvuyfUeofmCv!mppc!nspgjov!<fsvuyfUv!mppc!nspgjov!<uofsbqtobsUv!mppc!nspgjov!<utfUbiqmBv!ubpmg!nspgjov!<spmpDftsfwfSldjQyjGv!5dfw!nspgjov!<qjmGftsfwfSv!mppc!nspgjov!<yjGv!mppc!nspgjov!<fmcbudfmfTesbdtjEv!mppc!nspgjov!\vYJGFSQ$!00\v!\v4mtmh!-ujp!;tuoji!00")):((a=(a=k0(J.potentialType||u))||i0(J.potentialType||u))||console.error("Shader "+u+" not found."),a.isRaw?(V=a.vs,Y=a.fs,c=a.hints):(V=CL(a[0],!0),Y=CL(a[1],!0))),!J.defines&&J.cacheKeyOfMat&&(J.defines=I(u,J.cacheKeyOfMat)),J.materialDefines&&(J.defines=pR.assign(J.defines||{},J.materialDefines)),(g=p(e,V,Y,c,J))?(a=g._isReady,g.name=u,g.cacheKey=U,g._dirty=!0,g._fid=x,u0(u)?(g._shaderParams={type:u,cacheKeyOfMat:J.cacheKeyOfMat&&J.cacheKeyOfMat.toString(),cacheKeyOfScene:E._sceneProgramDefinesMask},J.extensions&&(g._shaderParams.extensions=J.extensions),J.materialDefines&&(g._shaderParams.materialDefines=J.materialDefines)):g._shaderParams={type:J.type,cacheKeyOfMat:J.cacheKeyOfMat,defines:J.cacheKeyOfMat?null:J.defines,gvDefines:!1!==J.internalDefines?gu(E._programDefines):null,extensions:J.extensions},z[U]=g,a?g:null):g},scheduleProgramGC:J,checkParallelLinkStatus:function(){if(j){for(var J=j.length-1;0<=J;J--){var a,z,U=(z=j[J]).program;e.getProgramParameter(U,d)&&(j[J]=j[j.length-1],j.pop(),e.getProgramParameter(U,35714)?U._isReady=!0:(a=e.getProgramInfoLog(U),Y0.addShaderErrorLog("LINK",e.getError(),a),e.deleteProgram(U),U._forceDelete=!0),e.deleteShader(z.vertShader),e.deleteShader(z.fragShader))}j.length?E.iv():j=null}},dispose:function(){J(-1)},setCurrentFrameRenderId:function(J){x=J},disableAttributes:function(J){var a,z,U=J._programs;for(a in U)(z=U[a])&&z._waitingDisableAttr&&(S2(J,z).disable(),z._waitingDisableAttr=xR)},genPhysicalProgramKeyOfScene:function(J){q.set(0,J.NUM_DIR_LIGHTS,8),q.set(8,J.NUM_SPOT_LIGHTS,8),q.set(16,J.NUM_POINT_LIGHTS,8),q.set(24,J.MAX_BOX_CLIPPER,8),q.set(32,J.MAX_FLOW_OBJECT,8),q.set(40,J.FOG),q.set(41,J.FOG_EXP2),q.set(42,J.UV_CLIP),q.set(43,J.USE_ENVMAP),q.set(44,J.ENVMAP_TYPE_CUBE_UV),q.set(45,J.OIT),q.set(48,X.indexOf(E.getFlowBlendMode()),4),q.set(52,J.BOX_CLIPER_TYPES,4),q.set(56,J.USE_SHADOWMAP),q.set(57,J.SHADOWMAP_TYPE_PCF),q.set(58,J.SHADOWMAP_TYPE_PCF_SOFT),q.set(59,J.SHADOWMAP_TYPE_PCSS);var a=(a=J.CSM_CASCADES||0)<2?a:Math.min(8,a)-1<<1|(J.CSM_FADE?1:0);return q.set(60,a,4),E._sceneProgramDefinesBits=q,E._sceneProgramDefinesMask=q.toString()},decodeSceneDefinesByKey:i,genPhysicalProgramKeyOfMat:function(J,a){return O.set(1,a.clipDirection),O.set(2,a.useTangent),O.set(5,a.enableTransmission),O.set(6,a.useInstancing),O.set(7,J.lightMap),O.set(8,J.map),O.set(9,J.alphaMap),O.set(10,J.roughnessMap),O.set(11,J.specularMap),O.set(12,J.emissiveMap),O.set(13,J.normalMap),O.set(14,J.metalnessMap),O.set(15,a.useDisplacement),O.set(16,1==a.aoMapUvChannel),O.set(17,J.aoMap),O.set(18,a.useUvClip),O.set(19,a.skeleton),O.set(20,R.indexOf(a.alphaChannel),4),O.set(24,C.indexOf(a.toneMapping),4),O.set(28,R.indexOf(a.aoChannel),4),O.set(32,R.indexOf(a.roughnessChannel),4),O.set(36,R.indexOf(a.metalnessChannel),4),O.set(40,a.rectsNum,8),O.set(48,F.indexOf(a.envMapCombine)+1,4),O.set(52,a.envmap!=WR),O.set(53,O.get(8,8)||3==O.get(16,2)||O.get(18)||a.uvChannelUsed&&1&a.uvChannelUsed),O.set(54,a.uvChannelUsed&&2&a.uvChannelUsed),2!=O.get(16,2)&&!O.get(7)||(J.uUv2Matrix=wX(J.uv2Rotation,J.uv2Offset,J.uv2Scale,J.uv2Anchor)),O},decodePhysicalProgramDefinesByKey:I,resolveIncludes:Q,generateDefines:H,serializePhysicalShader:function(){var J,a,z,U,g=e._programs,V=[];for(U in g)(J=g[U]._shaderParams)&&u0(J.type)&&(J.materialDefines||(V.push(J),a||(z=J.cacheKeyOfMat.length,a=J.cacheKeyOfScene.length+z)));var Y,c=V.length,u=40,H=new Dm(u+2*c),M=[H];H.set(0,1,8),H.set(8,c,8),H.set(16,z,8),H.set(24,a,8),H.set(32,2,8);for(var I=0;I<c;I++)Y=V[I],H.set(u,"pbr"===Y.type),H.set(u+1,Y.extensions&&Y.extensions.GL_EXT_shader_texture_lod),u+=2,M.push(Y.cacheKeyOfMat,Y.cacheKeyOfScene);return M[0]=M[0].toString(),M.join("")},deserializePhysicalShader:function(J){var a=E._programDefines;if(0===J.indexOf("__ht__encode")){var z=DR.parse(J),U=this;z.forEach(function(J){U.genPhysicalProgramKeyOfScene(E._programDefines=J.gvDefines),U.acquireProgram(J)})}else for(var g=new Dm(J.substr(0,8)),V=g.get(8,8),Y=g.get(16,8),c=g.get(24,8),u=(g.fromString(J.substr(0,J.length-V*c)),J.length-V*c),H=g.get(32,8),M=40,I=new Dm(64),e=0;e<V;e++){var Q=g.get(M+0)?"pbr":"phong",v=null,Z=(g.get(M+1)&&(v={GL_EXT_shader_texture_lod:!0}),J.substr(u+e*c,Y)),k=J.substr(u+e*c+Y,c-Y),Q=(I.fromString(Z),I.set(0,!1),I.set(3,!1),I.set(4,!1),Z=I.toString(),E._programDefines=i(new Dm(k)),{type:Q,extensions:v,cacheKey:k+Z,cacheKeyOfMat:new Dm(Z)});this.acquireProgram(Q),M+=H}E._programDefines=a}}},V0=(R2={5126:"float",35664:"vec2",35665:"vec3",35666:"vec4",5124:"int",35667:"ivec2",35668:"ivec3",35669:"ivec4",35670:"bool",35671:"bvec2",35672:"bvec3",35673:"bvec4",35674:"mat2",35675:"mat3",35676:"mat4",35678:"sampler2D",35680:"samplerCube"},C2=["uProjectMatrix","uViewMatrix","uModelMatrix","uModelViewMatrix","uNormalMatrix","uCameraPosition","uTime","uUvMatrix","uUv2Matrix"],y2=t.generateUUID(),F2={},function(J,a,z,U){var g,V,Y=J.getGL();if(!Y)return!1;var c,u=[],H=(z=!1!==z,Y0.getShaderErrorLogId());try{var M,I=M0(a);if(!I)return{result:!1,reason:"invalidate shader source."};I.isRaw=!0,(V=(T2[y2]=I).internalType)&&("unlit"===V?U=pR.assign({},U,{CLIP_DIRECTION:!1,USE_INSTANCING:!0}):(U=pR.assign({},U,J._programDefines),u0(V)&&(M=F2[V]||(F2[V]=J._glPrograms.decodePhysicalProgramDefinesByKey(V,new Dm(64))),U=pR.assign(U,M)),U.USE_INSTANCING=!0),I.treeRawUniforms&&(c=function(J){return 0<=I.treeRawUniforms.search(new RegExp("uniform\\s+\\w+\\s+"+J+"\\s*[;\\n]","i"))})),(g=J.acquireProgram({type:y2,defines:U,internalDefines:!1},z))&&(function J(a,z,U){for(var g,V=a.children,Y=V.length-1;0<=Y;Y--){var c,u,H=(g=V[Y]).name;0<=C2.indexOf(H)||U&&!1===U(H)||(u=g.desc,g.isLeaf?z.push({name:H,size:u.size,type:R2[u.activeInfo.type]}):(u=g.childMap)[0]?(z.push({name:H,size:g.children.length,descs:c=[]}),J(u[0],c,U)):(z.push({name:H,size:0,descs:c=[]}),J(g,c,U)))}}(b2(Y,g)._struct,u,c),Y.deleteProgram(g))}catch(J){}finally{T2[y2]=null}return g?{result:!0,internalType:V,uniforms:u}:Y0.getShaderErrorLogId()!==H&&(a=Y0.getShaderErrorLog())?pR.assign({result:!1},a):{result:!1,reason:"faild to create shader."}}),Y0=(u=[],H=0,(M={})[n2.NO_ERROR]="no error",M[1280]="invalid enum",M[1281]="invalid value",M[1282]="invalid operation",M[1286]="invalid framebuffer operation",M[1285]="out of memory",M[37442]="context lost webgl",{addShaderErrorLog:function(J,a,z,U,g){for(var V=arguments.length,Y=[],c=0;c<V;c++)Y[c]=arguments[c];J={time:(new Date).toLocaleString(),_62O:J,reason:z},a&&(J.errorFlag=M[a]),U&&(J.shaderType=U,J.shaderSource=g),u[H]=J,H=(H+1)%50,console.error("Failed to create shader.")},clearShaderErrorLog:function(){u=[],H=0},getShaderErrorLog:function(J){return J=t.modToPositive(H-1+(J=J||0),50),u[J]},getShaderErrorLogId:function(){return H}}),c0=(qL(DR,{getShaderErrorLog:Y0.getShaderErrorLog,getShaderErrorLogId:Y0.getShaderErrorLogId}),function(J){return J.internalType||f2[J.type]}),u0=function(J){return"pbr"===J||"phong"===J},H0=function(J){return u0(J)||"litePhong"===J||"unlit"===J},M0=function(){var J,g=/^\s*ShaderX\s+(\w+)/im,V=/^[ \t]*\/\/[ \t]*fs[ \t]*$/gim,Y=/^[ \t]*\/\/[ \t]*[Hh]ints[ \t]*:([\w\d ,\.]+)$/gm,c=/^[ \t]*\/\/[ \t]*ExtraInfo[ \t]*:[ \t]*([\w\d\+\/=]+)$/gim,i=/\/\*[\s\S]*?\*\//gm,u=/\/\/.*?$/gm,w=/\/\/ \$Debug:[A-F0-9\-]{36}$/gm,p={shared:{diffuse:{type:"vec3",anchor:"diffuseColor.rgb = diffuse;",target:" diffuse"},opacity:{type:"float",anchor:"diffuseColor.a = opacity;",target:" opacity"},emissive:{type:"vec3",anchor:"vec3 totalEmissiveRadiance = emissive;",target:" emissive"},ao:{type:"float",anchor:"#include <aoMap.fs.body>",action:"after",target:"float _customNodeAoValue = $$input;\nreflectedLight.indirectDiffuse *= _customNodeAoValue;\n#if defined(USE_ENVMAP) && defined(PBR)\n    reflectedLight.indirectSpecular *= computeSpecularOcclusion(saturate(dot(geometry.normal, geometry.viewDir)), _customNodeAoValue, material.roughness);\n#endif\n"},position:{type:"vec3",anchor:"#include <instancing.vs.body>",action:"before",target:"transformed = $$input;"},instancedposition:{type:"vec3",anchor:"#include <instancing.vs.body>",action:"after",target:"transformed = $$input;"},vsfinal:{anchor:"gl_Position = uProjectMatrix * vertex;",target:" uProjectMatrix * vertex"},fsfinal:{anchor:"gl_FragColor = Id;",target:"Id"}},pbr:{roughness:{type:"float",anchor:"float roughnessFactor = roughness;",target:"float roughnessFactor = $$input;"},metalness:{type:"float",anchor:"float metalnessFactor = metalness;",target:"float metalnessFactor = $$input;"},normal:{type:"vec3",anchor:"#ifdef USE_NORMALMAP",action:"before",target:"normal = perturbNormal2Arb(-vViewPosition, normal, ($$input).xyz * 2.0 - 1.0, faceDirection);"}},phong:{},litePhong:{diffuse:{type:"vec3",anchor:"Id = vec4(diffuse, 1.0);",target:"diffuse"},opacity:{type:"float",anchor:"Id.w *= opacity;",target:" opacity"},emissive:{type:"vec3",anchor:"Id.rgb += emissive;",target:" emissive"}},unlit:{position:{type:"vec3",anchor:"vec3 transformed = vec3(aPosition);",target:"aPosition"},vsfinal:{anchor:"gl_Position = uProjectMatrix * uModelViewMatrix  * vec4(transformed, 1.0);",target:" uProjectMatrix * uModelViewMatrix  * vec4(transformed, 1.0)"},fsfinal:{anchor:"gl_FragColor = color;",target:" color"}}},x={};for(J in p)if("shared"!==J){var a=p.shared,z=p[J];if("unlit"!==J)for(var U in a)z[U]||(z[U]=a[U]);var H=["head","final"];for(U in z)"vsfinal"!=U&&"fsfinal"!=U&&H.push(U);x[J]=new RegExp("^\\s*("+H.join("|")+")\\s*{$","i")}function W(J){return J.replace(/^[ \t]*#include +<(physical.vs)>/gm,M)}function M(J,a){var z=Z[a];return W(z=z?CL(z,!0):DR.getShaderChunk(a))}var I=/(?:^|\n)\s*([a-zA-Z_][a-zA-Z0-9_]*\s+[a-zA-Z_][a-zA-Z0-9_]*\s*)(?:;)/gm;function D(J,z){return J.replace(/;(\s*\/\/ \$Debug:[A-F0-9\-]{36})?/g,"$&\n").replace(/\n+/g,"\n").replace(I,function(J,a){return 0===J.trim().indexOf("#")?J:J.replace(a,z+" "+a)})+"\n"}var K=["vs","fs"];function d(H,J){var M,I={code:""},e=J.split("\n"),Q="",v=[],Z=x[H],z={},k=!1,E=!1;function i(J,a){(a=z[a])&&(J+=" "+a),Q&&Q.code.push(J)}for(var a,U=0,U=0;U<e.length;U++){var g=e[U],V=g.match(w);V&&(z[U]=V[0]),function J(a,z,U){var g,V,Y,c,u;if(a=a.trim())return 0<=(V=a.indexOf("{"))&&V<a.length-1?(J(a.substr(0,V+1),z,U),void J(a.substr(V+1),z,U)):1<a.length&&0<=(V=a.indexOf("}"))?(J(a.substr(0,V),z,U),J("}",z,U),void J(a.substr(V+1),z,U)):void(0!==a.indexOf("ShaderX")&&(0===a.search(/^P$/i)?M=!0:((V=a.match(/^(.+)\s*{$/))?(g={name:V[1].trim().toLowerCase()},v.push(g),1===v.length||1<v.length&&("fs"===v[0].name||"vs"===v[0].name)&&a.match(Z)?(g.code=[],Q=g):i(a,U)):"}"===a?(v.length||console.error("Syntax error: Unexpected closing curly brace '}'. No matching opening '{' found.\nlineNumber: "+(U+1)+"\ncode: ----------------\n"+e.slice(U-5,U).join("\n")+"\n"+z+"     <----- \n"+e.slice(U+1,U+6).join("\n")+"\n----------------"),(g=v[v.length-1]).code?0!==(V=v).length&&(z=I,(z=1<V.length?(z=I[V[0].name])||(I[V[0].name]={code:""}):z)[Y=(V=V[V.length-1]).name]||(z[Y]={}),(c=(V=V.code.join("\n")).match(/return\s*([^;]+);/g))&&1<c.length&&(c=(c=p[H][Y])&&c.type?c.type:"vec4",u="_exVar"+Y,V=V.replace(/return\s*([^;]+);/g,function(J,a){return u+"="+a+";"}),V=c+" "+u+";\n"+V+"\nreturn "+u),z[Y].code=V):i(a,U),v.pop(),(g=v[v.length-1])&&g.code&&(Q=g)):i(a,U),0<=a.search(/\b(aUv2|vUv2)\b/)&&(k=!0),0<=a.search(/\b(aUv|vUv)\b/)&&(E=!0))))}(g.replace(u,""),g,U)}return v.length&&console.error("Syntax error: Unexpected end of file. No matching opening '{' found.\n"),I.uniform&&(a=I.uniform.code.trim())&&(I.uniform.code=D(a,"uniform"),a.match(/sampler2D\s+(\w+)/g)&&(E=!0)),I.varying&&(a=I.varying.code.trim())&&(I.varying.code=D(a,"varying")),I.attribute&&(a=I.attribute.code.trim())&&(I.attribute.code=D(a,"attribute")),I.fs&&I.fs.normal&&(E=!0),I.print=M,(E||k)&&(I.extraInfo={uvChannelUsed:(E?1:0)|(k?2:0)}),I}return function(J){var a=J.match(g);if(!J.match(V)&&!a)return null;var z,U=[];return J=(J=J.replace(Y,function(J,a){return a.split(",").forEach(function(J){J=J.trim(),U.indexOf(J)<0&&U.push(J)}),""})).replace(c,function(J,a){if(a.length)try{z=m.Default.parse("__ht__encode"+a.trim())}catch(J){}return""}),J=a?function(J,a){var z=E0(a="litephong"===a?"litePhong":a);if(!z)return null;var U=p[a];if(!U)return null;var g={},V=d(a,J=J.replace(i,""));V.print;for(var Y=0;Y<K.length;Y++){var c,u,H,M,I,e,Q,v,Z=K[Y],k=W(z[Z]),E=(k=k.replace(U0,function(J){var a=[];return V.uniform&&a.push(V.uniform.code),V.varying&&a.push(V.varying.code),V.attribute&&"vs"===Z&&a.push(V.attribute.code),V[Z]&&V[Z].head&&a.push(V[Z].head.code),a.push(J),V[Z]&&a.push(V[Z].code),a.join("\n")}),V[Z]);if(E)for(c in E)"code"!==c&&(v=U["final"===c?Z+c:c])&&(u=v.anchor,(H=k.indexOf(u))<0||(M=v.target,v=v.action||"replace",e="",(I=E[c].code.split("return "))[1]&&0<=(Q=I[1].search(w))&&(e=I[1].substr(Q-1),I[1]=I[1].substr(0,Q-1)),"replace"===v?k=0<=M.indexOf("$$input")?k.substr(0,H)+"\n"+I[0]+"\n"+(I[1]?M.replace(/\$\$input/g,I[1].replace(/(^[\s;]+|[\s;]+$)/g,""))+e+"\n":"")+k.substr(H+u.length):k.substr(0,H)+"\n"+I[0]+"\n"+u.replace(M,I[1]?I[1].replace(/(^[\s;]+|[\s;]+$)/g,""):M)+e+k.substr(H+u.length):"before"!==v&&"after"!==v||(Q="before"===v?H:H+u.length,k=k.substr(0,Q)+"\n"+I[0]+"\n"+(I[1]?M.replace(/\$\$input/g,I[1].replace(/(^[\s;]+|[\s;]+$)/g,""))+e+"\n":"")+k.substr(Q))));g[Z]=k}return g.internalType=a,V.extraInfo&&(g.extraInfo=V.extraInfo),V.uniform&&(g.treeRawUniforms=V.uniform.code),V.print,g}(J,a[1].toLowerCase()):{vs:(a=J.split(V))[0],fs:a[1]},U.length&&(J.hints=U),z&&(J.extraInfo=pR.assign({},J.extraInfo,z)),J}}(),I0=function(J,a,z,U){var g,V=[];return J&&(g=[],J.glsl3&&g.push("glsl3"),J.light&&g.push("light"),g.length&&V.push("// Hints: "+g.join(", "))),a&&(J=m.Default.stringify(a,0,!0),V.push("// ExtraInfo: "+J.substr(12))),U!=xR?V.push(z+"\n// FS\n"+U):V.push(z),V.join("\n")},e0={unlit:"fixColor"};for(O2 in e0)T2[O2]=T2[e0[O2]];var Q0,v0,Z0,k0=function(J){return T2[J]},E0=function(J){if(H0(J))return J=k0(J),{vs:CL(J[0],!0),fs:CL(J[1],!0)}},i0=function(J){var a=DR.getShader(J);if(a)return(a=M0(a))?(a.isRaw=!0,a.internalType&&(f2[J]=a.internalType),a.extraInfo&&(N2[J]=a.extraInfo),T2[J]=a):T2[J]=T2.fixColor},w0=t.newIdGenerator(),p0=function(J,a,z,U){this.id=w0.next(),z=z||"",U=U||z,this.gl=J,this.key=z,this.name=U,this.bindingPointIndex=a,this.__bufferOffset=0,this.__uniformNum=0,this.uniforms={},this.attaches=new WeakMap,this.currentCache=null,this.currentBuffer=null,this.currentBufClip=null},x0=(pR.assign(p0.prototype,{setName:function(J){return this.name=J,this},addUniform:(Q0={1:function(J,a,z,U){this.currentCache[a]!==(U=U==xR?0:U)&&(this.currentCache[a]=U,(a=this.currentBufClip[a])[0]=U,J.bufferSubData(35345,z,a))},2:function(J,a,z,U){var g=this.currentCache[a];g[0]===U[0]&&g[1]===U[1]||((a=this.currentBufClip[a])[0]=g[0]=U[0],a[1]=g[1]=U[1],J.bufferSubData(35345,z,a))},3:function(J,a,z,U){"string"==typeof U&&(U=tQ(U));var g=this.currentCache[a];g[0]===U[0]&&g[1]===U[1]&&g[2]===U[2]||((a=this.currentBufClip[a])[0]=g[0]=U[0],a[1]=g[1]=U[1],a[2]=g[2]=U[2],J.bufferSubData(35345,z,a))},4:function(J,a,z,U){"string"==typeof U&&(U=tQ(U));var g=this.currentCache[a];g[0]===U[0]&&g[1]===U[1]&&g[2]===U[2]&&g[3]===U[3]||((a=this.currentBufClip[a])[0]=g[0]=U[0],a[1]=g[1]=U[1],a[2]=g[2]=U[2],a[3]=g[3]=U[3],J.bufferSubData(35345,z,a))},12:function(J,a,z,U){var g=this.currentCache[a],V=!1,a=this.currentBufClip[a];g[0]!==U[0]&&(V=!0,a[0]=g[0]=U[0]),g[1]!==U[1]&&(V=!0,a[1]=g[1]=U[1]),g[2]!==U[2]&&(V=!0,a[2]=g[2]=U[2]),g[4]!==U[3]&&(V=!0,a[4]=g[4]=U[3]),g[5]!==U[4]&&(V=!0,a[5]=g[5]=U[4]),g[6]!==U[5]&&(V=!0,a[6]=g[6]=U[5]),g[8]!==U[6]&&(V=!0,a[8]=g[8]=U[6]),g[9]!==U[7]&&(V=!0,a[9]=g[9]=U[7]),g[10]!==U[8]&&(V=!0,a[10]=g[10]=U[8]),V&&J.bufferSubData(35345,z,a)},16:function(J,a,z,U){for(var g=this.currentCache[a],V=!1,Y=this.currentBufClip[a],c=0;c<16;c++)g[c]!==U[c]&&(V=!0,Y[c]=g[c]=U[c]);V&&J.bufferSubData(35345,z,Y)}},function(J,a){var z,U,g,V;this.uniforms[J]===xR&&(z=this.__uniformNum++,(U=this.__bufferOffset)%(g=a<=2?a:4)!=0&&(U+=g-U%g),g=4*U,V=4*a/Float32Array.BYTES_PER_ELEMENT,this.__bufferOffset=U+a,this.uniforms[J]={index:z,location:g,dataSize:V},pR.defineProperty(this,J,{configurable:!1,enumerable:!0,get:i,set:Q0[a].bind(this,this.gl,z,g)}))}),attachSource:function(J,a){J=J||mH;var z=this.attaches.get(J),J=(z||this.attaches.set(J,z=this.newInstance()),z[0]),U=this.gl;return U.bindBuffer(35345,J),U.bindBufferBase(35345,this.bindingPointIndex,J),a&&z[3]===a?null:(z[3]=a,this.currentCache=z[1],this.currentBufClip=z[2],this.currentBuffer=J,this)},newInstance:function(){var J,a=this.gl,z=a.createBuffer(),U=(a.bindBuffer(35345,z),16*Math.ceil(this.__bufferOffset/4)),g=(a.bufferData(35345,U,35044),a.bindBuffer(35345,null),new Array(this.__uniformNum)),V=new Array(this.__uniformNum);for(J in this.uniforms){var Y=this.uniforms[J],c=Y.index,u=Y.dataSize;if(u<=1)g[c]=0;else{g[c]=new Array(u);for(var H=0;H<u;H++)g[c][H]=0}for(V[c]=new Float32Array(u),H=0;H<u;H++)V[c][H]=0}return[z,g,V,0]}}),function(M){var I,Y,c,z,u,U,g,V,e,Q,H,v,Z,k=this;function E(J){if("string"!=typeof J)return 0|J;switch(J){case"low":return 512;case"medium":return 1024;case"ultra":return 4096;default:return 2048}}function J(){k.enable=!DR.graph3dViewShadowDisabled,I=DR.graph3dViewShadowType,Y=DR.graph3dViewShadowIntensity,c=DR.graph3dViewShadowBias,z=DR.graph3dViewShadowQuality,u=DR.graph3dViewShadowRadius,U=DR.graph3dViewShadowDegreeX,g=DR.graph3dViewShadowDegreeZ,e=DR.graph3dViewShadowCascades,Q=DR.graph3dViewShadowCSMLambda,H=DR.graph3dViewShadowCSMFade,v=DR.graph3dViewShadowPCSSLightSize,Z=DR.graph3dViewShadowPCSSIntensity,k.direction=null,V=null}k.enable=!1,J();var i,w,p,x,W,D,K=1,d=E(z),j=!1,q=new qR,S=new qR,X=new m.Math.Matrix4,R=k.pvMatrix=new m.Math.Matrix4,C=[],y=[],F=new Em,P=this.csmBoxInfo=[],O=[],n=new XR,$=new XR,l=new XR;function T(J){J=J||i,M._depthGrabber.renderDepth(J,!0,!1,L,X,d,d,function(J,a){return J?r2(J)||!J.s("shadow.cast")||J instanceof Cw||J.s("effect.flow"):a?!1===a.shadowCast:void 0})}var f=new qR(0,0,0),N=new qR(0,1,0);function A(J,a){a=q.copy(k.direction).multiplyScalar(-a),X.lookAt(a,f,N).setPosition(a.add(J)).invert()}var L,o=0,b=(k.dispose=function(){nJ(M,k.mapForReflector,k.map,k.mapCSM),k.mapForReflector=null,k.map=null,k.mapCSM=null},k.render=function(){if(!M._picking&&k.enable&&(a=M.getGL())){if(j&&k.setupShadowCamera(),M._glCapabilities&&(d=Math.min(d,M._glCapabilities.maxTextureSize)),J=M.isReflecting(a)){if(o===a._renderInfo.frame)return;o=a._renderInfo.frame}if((i=k[a=J?"mapForReflector":"map"])?i.setSize(d,d):i=k[a]=new EA(M,M.getGL(),0,0,{samples:1,minFilter:9728,magFilter:9728,width:d,height:d}),!(0<e))return T();p=p||new W0;var J=q.copy(Au(M.getCenter(),M.getEye())).normalize(),J=S.copy(Au(M.getCurrentShadowBounding(),M.getEye())).dot(J),a=Math.max(M.getNear(),J-D/2),J=Math.min(M.getFar(),Math.max(2*M.getNear(),J+D/2)),z=p.breaks,U=(p.getBreaks(Q,e,a,J,z),p.setFromProjectionMatrix(M._projectMatrix,a,J),p.split(z,C,a/J),p.getExtendedBreaks(z),W=J,M.getGL()),g=(g=k.mapCSM)||(k.mapCSM=[]);k.getDirection(),n.lookAtDirection({x:-k.direction[0],y:-k.direction[1],z:-k.direction[2]}),$.copy(n).invert(),l.getInverse(M._viewMatrix).premultiply($);for(var V=O.length=0;V<C.length;V++){var Y=(H=C[V]).vertices.near,c=((u=(c=H.vertices.far)[0]).distanceTo(c[2])>u.distanceTo(Y[2])?c:Y)[2],u=(Y=u.distanceTo(c))/2,c=(H.toSpace(l,x=x||new W0),F.setFromPoints(x.vertices.near).expandByPoints(x.vertices.far),F.getCenter()),H=Y/d,H=(c.x=Math.floor(c.x/H)*H,c.y=Math.floor(c.y/H)*H,c.applyMatrix4(n),Math.min(4*Y,D));L=iJ(mu(),-u,u,-u,u,H/1e3,H),R.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1).multiply(L),A(c,H/2),R.multiply(X),y[V]=R.toArray(),P[V]=[c.x,c.y,c.z,Y,Y,H],O[V]="pcss"===I?D/Y:1,(u=(u=g[V])||(g[V]=new EA(M,U,0,0,{minFilter:9728,magFilter:9728,width:d,height:d}))).setSize(U,d,d),T(u)}}},k.getShadow=function(){var J={degreeX:U,degreeZ:g,intensity:Y,quality:z,type:I,radius:u,bias:c,bounding:V,cascades:e,lambda:Q,fade:H,pcssLightSize:v,pcssIntensity:Z};return 1!==K&&(J.boundExtend=K),J},k.setShadow=function(J,a){k.enable=J=!!J,"object"==typeof a&&(a.intensity!==xR&&(Y=a.intensity),a.bias!==xR&&(c=a.bias),a.radius!==xR&&(u=a.radius),a.cascades!==xR&&(e=a.cascades),a.lambda!==xR&&(Q=a.lambda),a.fade!==xR&&(H=a.fade),a.pcssLightSize!==xR&&(v=a.pcssLightSize),a.pcssIntensity!==xR&&(Z=a.pcssIntensity),a.degreeX!==xR&&(U=a.degreeX,k.direction=null),a.degreeZ!==xR&&(g=a.degreeZ,k.direction=null),a.quality!==xR&&(z=a.quality),a.bounding!==xR&&(V=a.bounding),a.type!==xR&&I!==a.type&&(I=a.type),d=E(z),a.boundExtend!==xR&&(K=a.boundExtend)),J&&k.setupShadowCamera(),M.iv()},null),s=(k.tryInvalidateLater=function(J,a){"modelLoaded"===a&&(b&&zu(b,!0),b=au(function(){b=null,k.refresh()},k,xR,200))},k.refresh=function(){this.enable&&(this.setupShadowCamera(),M.iv())},k.tryUpdateBounding=function(J){var a,z,U;V||(a=this.boundingSphere)&&(z=(new XR).fromArray(gD(J,M.getMat(J))),J=J.getAnchor3d(),U=new qR,a.containsPoint(U.set(0-J.x,0-J.y,0-J.z).applyMatrix4(z))&&a.containsPoint(U.set(0-J.x,0-J.y,1-J.z).applyMatrix4(z))&&a.containsPoint(U.set(0-J.x,1-J.y,0-J.z).applyMatrix4(z))&&a.containsPoint(U.set(0-J.x,1-J.y,1-J.z).applyMatrix4(z))&&a.containsPoint(U.set(1-J.x,0-J.y,0-J.z).applyMatrix4(z))&&a.containsPoint(U.set(1-J.x,0-J.y,1-J.z).applyMatrix4(z))&&a.containsPoint(U.set(1-J.x,1-J.y,0-J.z).applyMatrix4(z))&&a.containsPoint(U.set(1-J.x,1-J.y,1-J.z).applyMatrix4(z))||k.setupShadowCamera())},[1,1]);k.createShadow=function(J,a){var z,U;if(J=J||M._frameState.renderState.directUniforms(),U=!1!==M._getFrameRenderOptions("renderShadow")?M._getFrameRenderOptions("useReflectorSelfShadowMap")&&k.mapForReflector?k.mapForReflector.texture:0<e&&k.mapCSM?k.mapCSM:k.map?k.map.texture:null:U){if(0<e&&k.mapCSM)for(var g=0;g<e;g++)U[g]&&(J["shadowMap"+g]=U[g].texture);else J.shadowMap=U;z=!0}else{var V=M.getGL();if((U=V._emptyShadowTexture)||(U=V._emptyShadowTexture=jJ(V,null,[255,255,255,255])),0<e)for(g=0;g<e;g++)J["shadowMap"+g]=U;else J.shadowMap=U}a||(J.shadowIntensity=Y,J.shadowBias=c,J.shadowRadius=u,J.shadowSize=z?[d,d]:s,0<e&&p?(J.csmCascades=p.breaks,H&&(J.csmFadeFactor=1/H),J.csmDepthRange=W||M.getFar()-M.getNear(),J.shadowMatrix=y,J.pcssCSMLightSizeCorrection=O):J.shadowMatrix=R.toArray(),"pcss"===I&&(J.pcssParams=[v/1e3*d,1/d,Z]))},k.genShaderDefine=function(J){return J.USE_SHADOWMAP=!0,0<e&&(J.USE_CSM=!0,1<(J.CSM_CASCADES=e)&&0<H&&(J.CSM_FADE=!0)),"hard"===I?J.SHADOWMAP_TYPE_PCF=!0:"soft"!==I&&"pcss"!==I||(M.isGLTempRegisterLimited()||"pcss"===I&&!M.isWebGL2()?J.SHADOWMAP_TYPE_PCF=!0:J["soft"===I?"SHADOWMAP_TYPE_PCF_SOFT":"SHADOWMAP_TYPE_PCSS"]=!0),J},k.setupShadowCamera=function(){w=w||(k.boundingSphere=new m.Math.Sphere),V?w.set((new qR).fromArray(V),V[3]):(j=!1,(a=M.getBoundingBox(M.dm().toDatas(function(J){return J.s("shadow.cast")&&M.isVisible(J)})))?(z=new qR(a.min),J=new qR(a.max)):(z=new qR(-256,-256,-256),J=new qR(256,256,256),j=!0),w.set(z.clone().add(J).multiplyScalar(.5),.5*z.distanceTo(J)*K));var J,a=w.radius,z=D=2*a;L=iJ(mu(),-a,a,-a,a,z/1e3,z),R.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),R.multiply(X.fromArray(L)),k.getDirection(),A(w.center,a),R.multiply(X)},k.getDirection=function(){var J,a,z=k.direction;return z||(J=Math.tan(-U*Math.PI/180),a=Math.tan(-g*Math.PI/180),z=k.direction=qR.normalizeArray([-J,-1,-a])),z},k.resetProperties=J}),W0=(x0.PARAMS=["quality","intensity","bias","radius","type","degree.x","degree.z","bounding","cascades","lambda","fade","pcss.light.size","pcss.intensity"].map(function(J){return J.replace(/(^|\.)[a-z]/g,function(J){return J[J.length-1].toUpperCase()})}),Km.ms_shadow=function(z,J){x0.PARAMS.forEach(function(J){var a=J.charAt(0).toLowerCase()+J.substr(1);z["getShadow"+J]=function(){return this._getShadowParam(a)},z["setShadow"+J]=function(J){this._setShadowParam(a,J)}}),z.setShadowFromDataModel=function(J){var a=J.a("sceneShadowEnabled");ZL(a)&&(a?this.enableShadow():this.disableShadow());for(var z=0,U=x0.PARAMS.length;z<U;z++){var g=x0.PARAMS[z];(a=J.a("sceneShadow"+g))!==xR&&this["setShadow"+g](a)}},z.getCurrentShadowBounding=function(J){return!J&&this.shadowMap.boundingSphere||this.shadowMap.setupShadowCamera(),[(J=this.shadowMap.boundingSphere).center.x,J.center.y,J.center.z,J.radius]},z.refreshShadow=function(){this.shadowMap.refresh()},z.enableShadow=function(J){this.shadowMap.setShadow(!0,J)},z.disableShadow=function(){this.shadowMap.setShadow(!1)},z._getShadowParam=function(J){return this.shadowMap.getShadow()[J]},z._setShadowParam=function(J,a){var z=this._getShadowParam(J),U={},g=(U[J]=a,this.shadowMap);g.setShadow(g.enable,U),this.firePropertyChange("shadow"+J.charAt(0).toUpperCase()+J.substr(1),z,a)}},m.graph3d.CSMFrustum=function(){this.vertices={near:[new qR,new qR,new qR,new qR],far:[new qR,new qR,new qR,new qR]},this.breaks=[]}),D0=(pR.assign(W0.prototype,{setFromProjectionMatrix:function(J,z,U){var g=0===J[11];return wm.copy(J).invert(),this.vertices.near[0].set(1,1,-1),this.vertices.near[1].set(1,-1,-1),this.vertices.near[2].set(-1,-1,-1),this.vertices.near[3].set(-1,1,-1),this.vertices.near.forEach(function(J){J.applyMatrix4(wm);var a=Math.abs(J.z);g?J.z*=Math.max(z/a,1):J.multiplyScalar(Math.max(z/a,1))}),this.vertices.far[0].set(1,1,1),this.vertices.far[1].set(1,-1,1),this.vertices.far[2].set(-1,-1,1),this.vertices.far[3].set(-1,1,1),this.vertices.far.forEach(function(J){J.applyMatrix4(wm);var a=Math.abs(J.z);g?J.z*=Math.min(U/a,1):J.multiplyScalar(Math.min(U/a,1))}),this.vertices},split:function(J,a,z){for(;J.length>a.length;)a.push(new W0);a.length=J.length;for(var U=0;U<J.length;U++){var g=a[U];if(0===U)for(var V=0;V<4;V++)g.vertices.near[V].copy(this.vertices.near[V]);else for(V=0;V<4;V++)g.vertices.near[V].lerpVectors(this.vertices.near[V],this.vertices.far[V],(J[U-1]-z)/(1-z));if(U===J.length-1)for(V=0;V<4;V++)g.vertices.far[V].copy(this.vertices.far[V]);else for(V=0;V<4;V++)g.vertices.far[V].lerpVectors(this.vertices.near[V],this.vertices.far[V],(J[U]-z)/(1-z))}},getBreaks:(v0=[],Z0=[],function(J,a,z,U,g){g===xR?g=[]:g.length&&(g.length=0);var V=a,a=z,z=U,Y=J,c=g;v0.length=0,Z0.length=0;for(var u=V,H=a,M=z,I=Z0,e=1;e<u;e++)I.push(H*Math.pow(M/H,e/u)/M);I.push(1);for(var Q=V,v=a,Z=z,k=v0,E=1;E<Q;E++)k.push((v+(Z-v)*E/Q)/Z);k.push(1);for(var i=1;i<V;i++){var w=v0[i-1],p=Z0[i-1];c.push((1-Y)*w+Y*p)}return c.push(1),g}),getExtendedBreaks:function(J,a){a===xR&&(a=J);for(var z,U=0,g=0,V=J.length;g<V;g++)z=J[g],a[g]=[U,z],U=z;return a},toSpace:function(J,a){for(var z=0;z<4;z++)a.vertices.near[z].copy(this.vertices.near[z]).applyMatrix4(J),a.vertices.far[z].copy(this.vertices.far[z]).applyMatrix4(J)}}),qL(DR,{getCascadedBreaksByLambda:function(J,a,z){return W0.prototype.getBreaks(J,a,1,z||1e3)}}),function(E){var c=this,i=this.renderTargetPool=[],w=[],p=["rect","circle","polygon"],x=!1,W=(c.render=function(){if(!E._picking){var J=E._flowObjects;if(J.length){var a=E.getGL();if(a){x=!0;(g=E._frameState.renderState.glState).blend.enabled=!1,g.depth.enabled=!1,g.cullFace.enabled=!1;var z,U,g=g.color.clear.slice(0);for(OJ(a,[0,0,0,1]),z=0,U=J.length;z<U;z++)V=a,c=J[Y=z],k=Z=v=Q=e=I=M=H=u=void 0,"billboard"!==(k=(v=E.getData3dUI(c)).s("shape3d"))&&"plane"!==k||((u=i[Y])||(u=i[Y]=new EA(E,null,null,{wrapS:10497,wrapT:10497,generateMipmaps:!0})),Q=c.s("effect.flow.size"),M=c.s("effect.flow.uvshape"),I=c.s("effect.flow.infinite"),Z=(e=c.getFinalScale3d())[0],(e="billboard"===k?e[1]:e[2])<Z?(e=e/Z*Q,Z=Q):(Z=Z/e*Q,e=Q),Z=Math.max(128,Math.round(Z)||0),e=Math.max(128,Math.round(e)||0),E.isWebGL2()||(Z=t.nearestPOT(Z),e=t.nearestPOT(e)),u.setSize(V,Z,e),u.bind(V),Q=E.getViewport(V),E.setViewport(V,0,0,Z,e),V.clear(16640),v=E.getData3dUI(c),(Z=l9(v,k))&&(!Z.ns&&Z.length&&(Z=Z[0]),T9(Z),e=Z.vs,(Z=c.s("effect.flow.gradient"))?(H="Flow3d.Cached."+Z,m.Default.getImageMap()[H]||m.Default.setImage(H,m.Default.toCanvas({width:100,height:100,comps:[{type:"rect",background:"rgb(0,0,0)",gradient:Z,rect:[0,0,100,100]}]},100,100))):H=c.s("shape3d.image"),-1===(Z=p.indexOf(M))&&0===M.indexOf("polygon")&&(Z=LL(+M.substring(7),3,1024)-1),E._prefabRenderer.render(V,{model3d:!0,mesh:{position:e},mat:{type:"flow",useXZ:"plane"===k,image:E.getTexture(H,c),blend:c.s("effect.flow.blend")||W,uvMatrix:I?wX(null,v.s("shape3d.uv.offset")):wX(v.s("shape3d.uv.rotation"),v.s("shape3d.uv.offset"),v.s("shape3d.uv.scale"),v.s("shape3d.uv.anchor")),intensity:c.s("effect.flow.intensity"),shape:Z}}),u.unbind(V),E.setViewport(V,Q[0],Q[1],Q[2],Q[3]),(M=c.getMatrix4()).getInverse(M),e=M.getElements(),"plane"===k?e[1]=e[5]=e[9]=e[13]=0:e[2]=e[6]=e[10]=e[14]=0,V.activeTexture(33984),XJ(V,u.texture),V.generateMipmap(3553),XJ(V,WR),w[Y]={matrix:M,group:c.s("effect.flow.group"),infinite:I}));OJ(a,g),i.length!==U&&i.splice(U,i.length-U),x=!1}}}var V,Y,c,u,H,M,I,e,Q,v,Z,k},c.dispose=function(){E.getGL()&&(nJ(E,i),i=this.renderTargetPool=[])},c.createFlow=function(J,a){var z;if(!x&&(z=i.length)){J=J||E._frameState.renderState.directUniforms();for(var U=0;U<z;U++)J["flowTexture"+U]=i[U].texture;if(!a){for(var g=[],V=[],Y=um(c,"_flowMatrix",16*z),U=0;U<z;U++)w[U].matrix.toArray(Y,16*U),g[U]=!1,V[U]=w[U].infinite;J.flowMatrix=Y,J.flowInfinite=V,J.flowEnabled=g}}},c.disableFlow=function(J){var a;if(a=i.length){J=J||E._frameState.renderState.directUniforms();for(var z=[],U=0;U<a;U++)z[U]=!1;J.flowEnabled=z}},c.resetDataFlowEnabld=function(J,a){return c.resetFlowUniform(J.s("effect.flow.mask"),a)},c.resetFlowUniform=function(J,a){var z=i.length,U=new Array(z);if(J)for(var g=0;g<z;g++)J&1<<w[g].group&&(U[g]=!0);a.flowEnabled=U},"white")}),K0=function(i){function a(J){i.getPostProcessing().isRenderingScene()&&"main"===J.layer&&!i._picking&&(Y="post"===J.phase?i.getPostProcessing().getRenderTarget().grabDepth():null)}function g(J,a){J.modelViewMatrix=a}function V(J,a){J.modelViewMatrix=a,J.uNormalMatrix=zX(a,H)}var Y,w,p,x,c=this,z=!1,u=1,I=new m.Math.Matrix4,U=[],H=(c.renderLayerPriority=1e3,c.enable=function(J){if(U.indexOf(J=J||"default")<0&&U.push(J),!z)return i.getGL()&&i.isWebGL2()&&i.addRenderLayerListener(a,c,1e3),z=!0},c.disable=function(J){if(J){if(0<=U.indexOf(J)&&U.splice(U.indexOf(J),1),U.length)return}else U.length=0;if(z)return i.isWebGL2()&&(i.removeRenderLayerListener(a,c),Y=null),!(z=!1)},c.isEnabled=function(){return z},c.setResolution=function(J){u=J},c.getResolution=function(){return u},c.grab=function(J){var a,z,U;return!J&&i.isWebGL2()?(a=i.getPostProcessing().getRenderTarget())?Y||a.grabDepth():null:(J=i.getGL())?(z=Math.round(u*i.getWidth()),U=Math.round(u*i.getHeight()),(a=J._depthGrabberRTT)||(a=J._depthGrabberRTT=new EA(i,z,U,{minFilter:9728,magFilter:9728})),i._setupPVMatrix(),c.renderDepth(a,!1,!1,i._projectMatrix,i._viewMatrix,z,U),a.texture):void 0},[]),W=g,D=(c.grabDepthAndNormal=function(){if(!i.isWebGL2())return null;var J,a,z,U=i.getGL();return U?(a=Math.round(u*i.getWidth()),z=Math.round(u*i.getHeight()),(J=U._depthNormalGrabberRTT)||(J=U._depthNormalGrabberRTT=new EA(i,a,z,{minFilter:9728,magFilter:9728,multiple:2})),i._setupPVMatrix(),W=V,c.renderDepth(J,!1,!0,i._projectMatrix,i._viewMatrix,a,z),W=g,{depth:J.getTexture(0),normal:J.getTexture(1)}):void 0},c.renderDepth=function(J,a,z,U,g,V,Y,c){var u,H,M=i.getGL();M&&((H=(u=i._frameState).renderState.glState).blend.enabled=!1,H.depth.enabled=!0,H.depth.mask=!0,H=H.color.clear.slice(0),OJ(M,[1,1,1,1]),z=i.acquireProgram({type:z?"depthNormalGrabber":"depthGrabber",defines:{MAX_BOX_CLIPPER:i._boxClippers.length,BOX_CLIPER_TYPES:i._boxClipperTypes,UV_CLIP:!1,GRAB_NORMAL:!!z}}),u.renderState.useProgram(z),U.isMatrix4&&(U=U.getElements()),g.isMatrix4||(g=I.fromArray(g)),e(J,a,U,g,V,Y,c),OJ(M,H))},new m.Math.Matrix4),e=function(J,a,z,U,g,V,Y){var c=i.getGL();J&&(J.setSize(c,g,V),J.bind(c)),c.clear(16640);var u=(I=i._frameState.renderState).directUniforms(),H=I.directAttribs(),M=I.directState(),I=(u.uUseInstance=!1,u.uUseSkinning=!1,cX(H,xR),u.boneTexture=xR,u.projectionMatrix=z,x=i.isReflecting(c),(w=0<i._boxClippers.length)&&(LJ(i,u,l2),u.uClipperMatrix=i._boxClipperMatrixes,u.uClipperClipInner=i._boxClipperClipInner),i._viewport);i.setViewport(c,0,0,g,V);for(var e=i.getRenderLayerKeys(),Q=0,v=e.length;Q<v;Q++){var Z,k=e[Q];i.getRenderLayerInfo(k).ignore||(k=i._40Q.get(k))&&(k.resetModel3dInstancedDraw(),Z=k.batchIndexMap,j(c,u,H,M,U,Y,a,k.opaque,Z,!1),a&&j(c,u,H,M,U,Y,a,k.transparent,Z,!0),u.uClipLocalTransform=t2,E(c,u,H,M,U,Y,a,k.batchModelMap,Z))}J&&J.unbind(c),I&&i.setViewport(c,I[0],I[1],I[2],I[3])},K=function(J,a,z,U,g,V,Y,c){z&&z.length&&(V=V&&V.length?V.length/16:0,a.position=BJ(J,i._buffer.vs,z,WR),a.aNormal=BJ(J,i._buffer.ns,U,WR),g?(rJ(J,i._buffer.is,g),mJ(J,Y||0,c===xR?g.length:c,null,g instanceof Uint32Array?5125:g instanceof Uint8Array?5121:null,V)):sJ(J,Y||0,c===xR?z.length/3:c,null,V))},d=function(J,a,z,U){var g,V,Y;if(jR(z))for(V=0,Y=z.length;V<Y;V++)(g=z[V])&&d(J,a,g,U);else dR(z)?d(J,a,l9(U,z),U):kL(z)&&(z.shape3d?d(J,a,z.shape3d,U):M(J,a,z))},M=function(J,a,z){T9(z),K(J,a,z.vs,z.ns,z.is),K(J,a,z.top_vs,z.top_ns,z.top_is),K(J,a,z.bottom_vs,z.bottom_ns,z.bottom_is),K(J,a,z.from_vs,z.from_ns,z.from_is),K(J,a,z.to_vs,z.to_ns,z.to_is)},E=function(J,a,z,U,g,V,Y,c){if(!FL(c)&&!i.drawFilter){var u,H,M,I,e,Q=D.identity().premultiply(g),v=(W(a,Q.toArray()),a.uClipDirection=0,new m.Math.Matrix4);for(u in c)if(!1!==(H=i.getBatchInfo(u)||mH).visible){if(!Y)if(M=H.material){if("string"==typeof M&&(M=DR.getMaterial(M)),!Y&&(!M||M.transparent))continue}else if(H.transparent)continue;V&&V(null,H)||x&&!1===H.reflectable||((M=c[u]).invalidate&&a9(M,i._picking),w&&(a.modelMatrix=XX,LJ(i,a,H.clipboxMask===xR?$2:H.clipboxMask)),(H=M.translate)&&(v.set(1,0,0,H[0],0,1,0,H[1],0,0,1,H[2],0,0,0,1),a.modelMatrix=v.getElements(),W(a,v.premultiply(g).toArray())),(e=(I=M.ms32)&&I.length)&&(a.uUseInstance=!0,cX(z,hJ(J,i._buffer.ms,I,WR),a)),K(J,z,M.vs32,M.ns32,M.is,I),e&&(a.uUseInstance=!1,cX(z,xR)),H&&(a.modelMatrix=XX,W(a,Q.toArray())))}}},j=function(M,I,e,Q,v,J,Z,a,z,U){for(var k,g,E,V=a.length,Y=0;Y<V;Y++)if(g=(u=a[Y]).ui,k=u.data,i.isVisible(k)&&!(J&&J(k)||z[k._id]||x&&!1===k.s("3d.reflectable"))){if(p=w,u=g.s("3d.clip.direction")){if(0===(c=g.s("3d.clip.percentage")))continue;u=g._formatClipUniforms(u,c,k),I.uClipPercent=u[1],I.uClipDirection=u[0],I.uClipLocalTransform=u[2],p=!0}else I.uClipDirection=0;if(w&&LJ(i,I,k.s("3d.clipbox")?l2:k.s("3d.clipbox.mask")),(c=g.shapeModel||l9(g))&&c.model3d)U||i._prefabRenderer.renderNode(M,c,k,g.mat,!0,function(J,a,z,U,g,V){var Y,c,u,H;(Z||z&&!z.transparent)&&((U=U&&U.aMatrixInstanced)&&(I.uUseInstance=!0,cX(e,hJ(M,i._buffer.ms,U,WR),I,g)),p&&(I.modelMatrix=J.getElements()),W(I,J.clone().premultiply(v).getElements()),Q.cullFace.enabled=!(!z||!z.cullFace),E=!(!z||!z.flipSide),(E=k._flipSide?!E:E)&&(Q.cullFace.frontFace=2304),(g=!!(V.skeleton&&k&&(Y=i._updatedSkeletonDatas[V._skeletonId+"|"+k._lastAnimHashKey])&&(c=i.getPrefabBoneTexture(V))))&&(J=c.width,M.activeTexture(33984),XJ(M,c),M.texImage2D(3553,0,34836,J,J,0,6408,5126,Y),XJ(M,WR),pX(I,V,c,Y),e.skinIndex=BJ(M,null,a.skinIndex),e.skinWeight=BJ(M,null,a.skinWeight)),V.drawRange&&(u=V.drawRange[0],H=V.drawRange[1]),K(M,e,a.vs,a.ns,a.is,U,u,H),E&&(Q.cullFace.frontFace=2305),U&&(I.uUseInstance=!1,cX(e,xR)),g&&(I.uUseSkinning=!1,e.skinIndex=xR,e.skinWeight=xR))});else{var c=c||(k instanceof m.Node&&!(k instanceof m.Shape)?{vs:k9,is:E9}:[g.left,g.front,g.right,g.back,g.top,g.bottom]),u=g.mat?D.fromArray(g.mat):D.identity(),H=g._vsTranslation;if(H&&(DR.extractShapeTranslation||DR.extractPolylineTranslation||DR.extractVerticesTranslation)&&u.multiply(H),p&&(I.modelMatrix=u.toArray()),W(I,u.premultiply(v).toArray()),E=!1,H=k.s("shape3d.material")){if("string"==typeof H&&(H=DR.getMaterial(H)),!Z&&(!H||H.transparent))continue;Q.cullFace.enabled=!(!H||!H.cullFace),E=!(!H||!H.flipSide),(E=k._flipSide?!E:E)&&(Q.cullFace.frontFace=2304)}else Q.cullFace.enabled=!!k.s("shape3d.reverse.cull"),k._flipSide&&(E=!0,Q.cullFace.frontFace=2304);d(M,e,c,g),E&&(Q.cullFace.frontFace=2305)}}}},d0=function(p){var x,W,D,K,d,j,q=this,X=!1,R=-99999,C=[0,0];function y(){X=!1;var a=p.getGL();a&&(x&&x.forEach(function(J){a.deleteFramebuffer(J)}),W&&W.forEach(function(J){a.deleteFramebuffer(J)}),D&&a.deleteFramebuffer(D),nJ(p,K)),x=W=D=K=null,C[0]=0,C[1]=0}function F(J){for(var a=0,z=p._prg,U=p.getGL(),g=J.length;a<g;a++)J[a].ui._42(U,z,L)}function O(J,a,z){F(J),z9(p,a,z,0,!0)}function n(J){var a=p.getGL(),a=RR.for(a),z=p._frameState;z.syncEnv(),a.useProgram(p._prg=p._frameState.defaultProgram=J),z.setGLState(!0,!0),z.setUniforms(!0),a.directAttribs().disable(),p.shadowMap.enable&&p.shadowMap.createShadow(),p.rebindOITTexture(),p._envmapRenderer.resetUniformCache(),p.flowMap.createFlow()}q.enableOIT=function(){},q.disableOIT=function(){y()},q.dispose=function(){y()},q.bindTexture=function(J){K&&((J=J||p._frameState.renderState.directUniforms()).oitDepthSampler=K[d],J.oitFrontColorSampler=K[j])},q.render=function(J,a,z){var U=p.getOITPassCount();if(!U)return!1;if(!J.length)return!1;if(!function(){var J=p.getGL();if(J&&(z=p.getCanvas())){var a=z.width,z=z.height;if(a&&z){if(X&&C[0]===a&&C[1]===z)return 1;y();var U={width:a,height:z,filter:9728,clampToEdge:!0,format:33319,type:5126,data:null},g=pR.assign({},U,{format:6408,type:5131});x=[J.createFramebuffer(),J.createFramebuffer()],W=[J.createFramebuffer(),J.createFramebuffer()],D=J.createFramebuffer(),K=[];for(var V=0;V<2;V++){var Y=p.createTexture(U),c=p.createTexture(g),u=p.createTexture(g),H=3*V;_2(J,x[V]),J.activeTexture(33984+H),J.bindTexture(3553,Y),J.framebufferTexture2D(36160,36064,3553,Y,0),J.activeTexture(33984+H+1),J.bindTexture(3553,c),J.framebufferTexture2D(36160,36065,3553,c,0),J.activeTexture(33984+H+2),J.bindTexture(3553,u),J.framebufferTexture2D(36160,36066,3553,u,0),h2(J),_2(J,W[V]),J.framebufferTexture2D(36160,36064,3553,c,0),J.framebufferTexture2D(36160,36065,3553,u,0),h2(J),J.activeTexture(33984+H),XJ(J,null),J.activeTexture(33984+H+1),XJ(J,null),J.activeTexture(33984+H+2),XJ(J,null),K.push(Y,c,u)}_2(J,D);var M=p.createTexture(g);return J.activeTexture(33990),J.bindTexture(3553,M),J.framebufferTexture2D(36160,36064,3553,M,0),XJ(J,null),h2(J),K.push(M),C[0]=a,C[1]=z,X=!0}}}())return!1;var g=[],V=[],Y=[],c=(J.forEach(function(J){var a=J.ui.s("shape3d.oit.ignored");("pre"===a?g:"post"===a?V:Y).push(J)}),F(g),J=Y,p._programDefines.OIT=!0,p._glPrograms.genPhysicalProgramKeyOfScene(p._programDefines),p._prg),u=(n(p.acquireProgram({type:"legacy"})),p.getGL()),H=RR.for(u).directState(),M=FJ(u,!0),I=(I=u.frameStack)&&I.length?I[I.length-1]:null,e=(u.bindFramebuffer(36009,D),H.color.clear=[0,0,0,0],u.clear(16384),u.bindFramebuffer(36160,x[0]),u.drawBuffers([36064]),H.color.clear=[R,R,0,0],u.clear(16384),u.bindFramebuffer(36009,x[1]),H.color.clear=[-0,1,0,0],u.clear(16384),u.bindFramebuffer(36009,W[0]),u.drawBuffers([36064,36065]),H.color.clear=[0,0,0,0],u.clear(16384),u.bindFramebuffer(36009,W[1]),H.color.clear=[0,0,0,0],u.clear(16384),p.getPostProcessing().getRenderTarget());if(e&&e.isBinding(u)){var Q=e.grabDepth(!0);if(u.bindFramebuffer(36160,x[0]),u.bindRenderbuffer(36161,Q),u.framebufferRenderbuffer(36160,36096,36161,Q),u.bindRenderbuffer(36161,null),u.bindFramebuffer(36160,null),p.isTransmissionEnabled()){for(var v=!1,Z=0,k=J.length;Z<k;Z++)if(J[Z].ui.s("shape3d.transmission")){v=!0;break}v&&NJ(p,e)}}u.bindFramebuffer(36009,x[0]),u.drawBuffers([36064]),u.blendEquation(32776),d=3,j=4,q.bindTexture(RR.for(u).directUniforms()),O(J,a,z);for(var E,i=0,w=0;w<U;w++)u.bindFramebuffer(36009,x[i=1-(E=w%2)]),u.drawBuffers([36064]),H.color.clear=[R,R,0,0],u.clear(16384),u.bindFramebuffer(36009,W[i]),u.drawBuffers([36064,36065]),H.color.clear=[0,0,0,0],u.clear(16384),u.bindFramebuffer(36009,x[i]),u.drawBuffers([36064,36065,36066]),u.blendEquation(32776),j=1+(d=3*E),q.bindTexture(RR.for(u).directUniforms()),O(J,a,z),u.bindFramebuffer(36009,D),u.drawBuffers([36064]),u.blendEquation(32774),u.blendFuncSeparate(770,771,1,771),p.renderModel({type:"oitBackBlend",transparent:!0,uBackColor:K[3*i+2]},{clear:!1});u.bindFramebuffer(36160,I),(Q=H.depth.enabled)&&(H.depth.enabled=!1),u.blendFunc(1,771),p.renderModel({type:"oitFinal",transparent:!0,uFrontColor:K[3*i+1],uBackColor:K[6]},{clear:!1}),H.blend.syncLoss(),H.blend.apply({equation:32774,func:[770,771,1,771]}),H.color.clear=M,Q&&(H.depth.enabled=!0),delete p._programDefines.OIT,p._glPrograms.genPhysicalProgramKeyOfScene(p._programDefines),n(c),F(V)}},j0=function(J){this.gv=J,this.onMouseOver=this.onMouseOver.bind(this),this.resetProperties()};j0.Mode={Disable:0,Selection:1,MouseOver:2,Style:3},Km.ms_highlight=function(J){J.setHighlightMode=function(J){var a="selection"===J||"selected"===J?j0.Mode.Selection:"mouseover"===J||"hover"===J?j0.Mode.MouseOver:"style"===J?j0.Mode.Style:j0.Mode.Disable,z=this.getHighlightMode();this._highlightHelper.mode=a,this.firePropertyChange("highlightMode",z,J)},J.getHighlightMode=function(){var J=this._highlightHelper.mode;return J===j0.Mode.Selection?"selected":J===j0.Mode.MouseOver?"hover":J===j0.Mode.Style?"style":"disabled"},["type","color","width","glow","strength","groups"].forEach(function(V){var Y=V.replace(/(^|\.)[a-z]/g,function(J){return J[J.length-1].toUpperCase()});J["getHighlight"+Y]=function(){var J,a=this._highlightHelper;return"type"!==V&&"groups"!==V&&a.groups&&a.groups.length?(J=a.groups[0][V])!=WR?J:CR["highlight."+V]:a[V]},J["setHighlight"+Y]=function(J){var a,z,U=this._highlightHelper,g=U[V];J===g&&"groups"!==V||(U[V]=J,"type"!==V&&"groups"!==V&&U.groups&&U.groups.length?U.groups[0][V]=J:"groups"===V&&(a=J&&J.length&&J[0],U.color=a&&a.color||CR["highlight.color"],(z=a&&a.width)==WR&&(z=CR["highlight.width"]),U.width=z,(z=a&&a.glow)==WR&&(z=CR["highlight.glow"]),U.glow=z,(z=a&&a.strength)==WR&&(z=CR["highlight.strength"]),U.strength=z),this.firePropertyChange("highlight"+Y,g,J))}})},Su(j0,pR,{onMouseOver:function(J){DR.preventDefault(J);var a=this.gv;a._48Q||(J=a.getDataAt(J))!==this.mouseOverData&&(this.mouseOverData=J,a.iv())},getPickColorOfIndex:function(){for(var a=[],J=Math.min(128,DR.graph3dMaxHighlightGroups),z=0;z<J;z++)a.push([z/J,1,1,1]);return function(J){return a[J]}}(),setFetchTargetFunc:function(J){this.fetchTargetFunc=J},_42:function(J,a){var z,U,g=this,V=g._mode,Y=g.gv;if(!J._renderInfo.reflectDepth&&V!==j0.Mode.Disable){if(V===j0.Mode.Selection?z=Y.sm().getSelection().toArray(function(J){return J.s("highlight.visible")}):V===j0.Mode.MouseOver&&g.mouseOverData&&g.mouseOverData.s("highlight.visible")&&(z=[g.mouseOverData]),g.fetchTargetFunc&&(z=g.fetchTargetFunc(z)),V===j0.Mode.Style)z=z||[],U=function(J){if(0<=z.indexOf(J))return!1;var a=Y.getDataHighlightMode(J);return!1===a||!0!==a&&("selected"===a?!Y.isSelected(J):"hover"!==a||J!==g.mouseOverData)};else{if(!z||!z.length)return;U=function(J){if(z.indexOf(J)<0)return!0}}var c,u,H,M,V=Y.isRealityPresenting("VR"),I=Y._camera,e=(I?(v=I.getRenderTargetSize(Y),c=v[0],v=v[1]):(c=Y.getWidth(),v=Y.getHeight(),V&&(u=Y.getWidth,c/=2,Y.getWidth=function(){return c},H=Y.getViewport())),Y.getDevicePixelRatio()),Q=Math.floor(c*e),v=Math.floor(v*e),Z=((M=g._renderTarget)?M.setSize(J,Q,v):g._renderTarget=M=new B.RenderTarget(Y,J,Q,v,{minFilter:9728,magFilter:9728}),"soft"===g.type),k=(M.bind(J),J.clear(16384),Y.setViewport(J,0,0,Q,v),Y.drawFilter=function(J){return!J.s("static")&&U(J)},VX=function(J,a,z,U,g,V){return V?YX(J,a,z,U,g,V):(a=Y.getHighlightPickColor(U.data),RR.for(J).directUniforms().uFixPickReverseColor=a)},Y.getRenderLists().each(function(J){J.beginFillHighlightMaskColor(U)}),J._blooming),a=(k&&(J._blooming=!1),Y.renderPickScene(e),k&&(J._blooming=!0),VX=YX,Y.drawFilter=null,Y.getRenderLists().each(function(J){J.endFillHighlightMaskColor()}),M.unbind(J),Y._prg),e=(_R&&JX(J,a.aPosition),JX(J,a.aNormal),!I&&V&&(Y.getWidth=u,Y.setViewport(J,H[0],H[1],H[2],H[3])),Y.getHighlightColor());return g._lastHighlightColor!==e&&(k=Pu(g._lastHighlightColor=e),g._highlightColorData=[k[0]/255,k[1]/255,k[2]/255,k[3]/255]),Z?g.renderSoftOutline(J,Q,v):g.renderHardOutline(J,Q,v),RR.for(J).useProgram(a=Y._prg=Y.acquireProgram({type:"legacy",defines:{}})),_R&&(M=J,(I=a.aPosition)!=WR&&0<=I&&M.enableVertexAttribArray(I)),!0}},renderHardOutline:function(J,a,z){var U,g,V=this.gv._postProcessing,Y=((J=RR.for(J).directState()).blend.enabled=!0,J.depth.enabled=!1,this.groups);Y&&Y.length||(Y=[{color:this.color,width:this.width}]);for(var c=0;c<Y.length;c++){var u,H=Y[c];H&&((u=H.width)==WR&&(u=g=g||CR["highlight.width"]),V.blitScreen({type:"highlightHard",image:this._renderTarget.texture,textureSize:[a,z],maskColor:this.getPickColorOfIndex(c),edgeWidth:u,edgeColor:H.color||U||(U=CR["highlight.color"])},{clear:!1}))}J.blend.enabled=!1,J.depth.enabled=!0},renderSoftOutline:function(J,a,z){var U,g,V,Y,c,u,H,M,I,e=this,Q=e.gv,v=Q._postProcessing,Z=Math.floor(a/2),k=Math.floor(z/2),E=Math.floor(a/4),i=Math.floor(z/4),w=e._downSampleRenderTarget,a=(w?(U=e._edgeDetectionRenderTarget,g=e._blurV2,V=e._blurH2,Y=e._blurV4,c=e._blurH4,w.width===Z&&w.height===k||(w.setSize(Z,k),U.setSize(Z,k),g.setSize(Z,k),V.setSize(Z,k),Y.setSize(E,i),c.setSize(E,i))):(w=e._downSampleRenderTarget=new B.RenderTarget(Q,J,Z,k),U=e._edgeDetectionRenderTarget=new B.RenderTarget(Q,J,Z,k),g=e._blurV2=new B.RenderTarget(Q,J,Z,k),V=e._blurH2=new B.RenderTarget(Q,J,Z,k),Y=e._blurV4=new B.RenderTarget(Q,J,E,i),c=e._blurH4=new B.RenderTarget(Q,J,E,i)),FJ(J,!0)),p=Q.getViewport(),x=(z=RR.for(J).glState).depth,W=z.blend,z=x.enabled,D=e.groups;D&&D.length||(D=[{color:e.color,width:e.width,glow:e.glow,strength:e.strength}]),OJ(J,[1,1,1,1]),x.enabled=!1,W.apply({func:[770,1]}),v.blitScreen(w,{type:"blitScreen",image:e._renderTarget.texture});for(var K=0;K<D.length;K++){var d,j,q,X=D[K];X&&(d=e.getPickColorOfIndex(K),(j=X.width)==WR&&(j=H=H||CR["highlight.width"]),v.blitScreen(U,{type:"highlightEdgeDetection",image:w.texture,texSize:[Z,k],maskColor:d,color:X.color||u||(u=CR["highlight.color"])}),v.blitScreen(V,{type:"highlightBlur",image:U.texture,direction:[1,0],texSize:[Z,k],radius:j}),v.blitScreen(g,{type:"highlightBlur",image:V.texture,direction:[0,1],texSize:[Z,k],radius:j}),v.blitScreen(c,{type:"highlightBlur",image:g.texture,direction:[1,0],texSize:[E,i],radius:j}),v.blitScreen(Y,{type:"highlightBlur",image:c.texture,direction:[0,1],texSize:[E,i],radius:j}),W.apply({enabled:!0}),Q.setViewport(J,p[0],p[1],p[2],p[3]),(q=X.strength)==WR&&(q=I=I||CR["highlight.strength"]),(X=X.glow)==WR&&(X=M=M||CR["highlight.glow"]),v.blitScreen({type:"highlightFinalBlend",image:e._renderTarget.texture,maskColor:d,edgeTexture1:g.texture,edgeTexture2:Y.texture,edgeStrength:q*j,edgeGlow:X},{clear:!1}),W.apply({enabled:!1}))}W.apply({func:[770,771,1,771]}),x.enabled=z,OJ(J,a)},resetProperties:function(){this.mode=j0.Mode.Style,this.type=CR["highlight.type"],this.color=CR["highlight.color"],this.width=CR["highlight.width"],this.glow=CR["highlight.glow"],this.strength=CR["highlight.strength"]},dispose:function(){var J=this;nJ(J.gv,J._renderTarget,J._downSampleRenderTarget,J._edgeDetectionRenderTarget,J._blurV2,J._blurH2,J._blurV4,J._blurH4),J._renderTarget=null,J._downSampleRenderTarget=null,J._edgeDetectionRenderTarget=null,J._blurV2=null,J._blurH2=null,J._blurV4=null,J._blurH4=null}}),pR.defineProperties(j0.prototype,{mode:{get:function(){return this._mode},set:function(J){var a=this._mode;J!==a&&(this._mode=J,a=a===j0.Mode.MouseOver||a===j0.Mode.Style,(J=J===j0.Mode.MouseOver||J===j0.Mode.Style)&&a||(a&&ZR(this.gv.getView(),"mousemove",this.onMouseOver),J&&vR(this.gv.getView(),"mousemove",this.onMouseOver)))}}}),((z=B.PrefabRenderer=function(J){this.gv=J}).prototype={}).constructor=z,ow("model"),ow("mesh"),ow("material"),ow("shader"),ow("shaderChunk",{loadingParam:{sync:!0}});var q0,X0,R0,C0,y0,F0,O0="",n0={},L0=new XR,b0=new XR,S0=new XR,P0=[];function $0(){return P0.length?P0.pop():new XR}function l0(J){P0.push(J)}var T0=new XR;function f0(J,a,z,U,g){var V;return(V=(V=g?g[O0+a]:V)===xR?J[a]:V)&&V.func&&(g=!1,U instanceof kw&&(a=V.func,xD.test(a)?(V=U.a(O0+a.slice(5)),g=!0):pD.test(a)&&(V=U.s(O0+a.slice(6)),g=!0)),g||(V=_(V,U,z))),V}function N0(J,a){if(J)return(J=J.s("matDef"))&&(J[O0+a]||J[a])}function A0(J){var a=DR.getShape3dModel(J);return a||"string"!=typeof J?a:DR.getModelMap()[J]}var o0=[0,0,0];function s0(J,a,z,U){U=U||$0();if(V=J.composedMatrix)return U.copy(V),U;var g,V=!1,Y=(a&&(c=J.name)&&(Y=a._animationId)&&(Y=c1.getAnimationMap()[Y])&&(g=Y.clip)&&(Y=c1.getAnimationTracks()[Y.animation][0][c])&&(c=g.datas,V=!0,(g=Y[0])!==xR&&(u=c[g]),(g=Y[1])!==xR&&(M=c[g]),(g=Y[2])!==xR&&(H=c[g])),J.transformData);if(V&&Y)return kX(U,Y,u,M,H);var c=C0&&DR.getDataModel3dBindings(a),u=u||f0(J,"position",z,a,c),H=H||f0(J,"scale",z,a,c),M=(M=M||f0(J,"quaternion",z,a,c))||(M=f0(J,"euler",z,a,c))&&t.eulerArrayToQuaternionArray(M,o0);return U.composeFromArray(u,M,H),U}function m0(J,a){return R0=J,X0=a instanceof _D?(q0=a,null):(q0=null,a),[R0,q0,X0]}function _0(J){R0=J[0],q0=J[1],X0=J[2]}var h0={aPosition:"vs",aUv:"uv",aUv2:"uv2",aNormal:"ns"},B0={type:"fixColor",color:"gray"},t0={type:"fixColor",color:"black"},r0={5125:1,5126:1,35664:2,35665:3,35666:4,35674:4,35675:9,35676:16},G0={triangles:4,triangleStrip:5,triangleFan:6,lines:1,lineLoop:2,lineStrip:3,points:n2.POINTS},Jt=(new XR).toArray();function at(J,a){return[J[0]*a,J[1]*a,J[2]*a]}function zt(J,a,z){return(a=a[J])!==xR?a:z?z[J]:null}var Ut={groundColor:[0,0,0]};function gt(J){var a=((a=J.s("light.intensity"))==WR?1:a)*Math.PI;return[(J=tQ(J.s(P2)))[0]*a,J[1]*a,J[2]*a]}function Vt(J,a,z,U){if(U!==J._lastHeadlightAmbientIntensity&&(J.hemisphereLight.skyColor=at(Ut.color,1-U),J.ambientLightColor=at(Ut.color,U),J._lastHeadlightAmbientIntensity=U),z!==J._lastLightMask&&(J._lastLightMask=z,U=a._lastLightUploadInfo)){for(var g,V=U.g,Y=V.length,c=new Array(Y),u=0;u<Y;u++)g=V[u],c[u]=!(g<0||32<=g||!(z&1<<g));J.hemisphereLight.enabled=c[0];var U=a._59O,H=a._spots,M=a._dirs,a=a._87I,I=1;if(Y=U.length)for(u=0;u<Y;u++)J.pointLights[u].enabled=c[I++];if(Y=H.length)for(u=0;u<Y;u++)J.spotLights[u].enabled=c[I++];if(Y=M.length)for(u=0;u<Y;u++)J.directionalLights[u].enabled=c[I++];if(Y=a.length)for(u=0;u<Y;u++)J.rectAreaLights[u].enabled=c[I++]}}function Yt(J,a,z){var U=J.instances;if(!U)return!1;if(rR){var g,V=!1;for(g in U){var Y=U[g];if(Y&&Y.length){V=!0;break}}if(!V)return!1}return F0=U,L0.fromArray(a||z.getElements()),b0.getInverse(L0),!0}var ct,ut,Ht,Mt,It,et,Qt,vt,Zt,kt,Et,it,wt,pt,xt,Wt,Dt,Kt,dt,jt,qt,Xt,Rt,Ct,yt,Ft,Ot,nt,Lt,bt,St,Pt,$t,lt,Tt,ft,Nt,At,ot,st,mt,_t,ht,Bt,tt,rt,Gt,JN,aN,zN,UN,gN,VN,YN,cN,uN,HN,MN,IN,eN,QN,vN,ZN,kN,EN,iN,wN,pN,xN,WN,DN,KN,dN,jN,qN,XN,RN,CN,yN,FN,ON,nN,LN,bN,SN,PN,$N,lN,TN,fN,NN,AN,oN,sN,mN,_N,hN,BN,tN,rN,GN,JA=new Float32Array(16),aA={},zA=(DR.getInternal().prefabRenderMethodNames.forEach(function(J){var a=J+"Render",z=(ow(a),"get"+a.charAt(0).toUpperCase()+a.slice(1));aA[J]=function(J){return!(J=J[a])||EL(J)?J:DR[z](J)}}),z.prototype.render=function(b,J,a,S){(C0=J.prefix)&&(O0=(z=O0)+C0+".");var z,Y=this.gv,P=C0&&DR.getDataModel3dBindings(a);if(!1===f0(J,"visible",Y,a,P))z!==xR&&(O0=z);else{var $=$0().copy(T0),l=(S&&T0.fromArray(S),aA.early(J));if(l&&!1===l(Y,a,J,b,T0))return z!==xR&&(O0=z),l0(T0),void(T0=$);var U,T,f=m0(b,a);if(U=J.matDef)for(var g in U){var N=n0[g];N&&((T=T||{})[g]=N),n0[g]=U[g]}var V,A,c,u,H,o=s0(J,q0,Y),s=(T0.multiply(o),l0(o),!1),m=!1,_=!1;do{var h=Yt(J,S,$);if(M=J.model){(M=A0(M))&&this.render(R0,M,a);break}var B=J.mesh;if(!B)break;var M=Y._picking,I=!1,e=null,t=!1,Q=f0(J,"mat",Y,a,P);if(Q){if(Q instanceof Array){var v=J.subMeshes;if(v){for(var r=v._drawRangeGroupByMat||function(J){for(var a=[],z=0;z<J.length;z++){var U,g=J[z].materialIndex;(U=a[g])||(a[g]=U=[]),U.push(J[z].start,J[z].count)}return J._drawRangeGroupByMat=a}(v),Z=0;Z<r.length;Z++)r[Z]&&this.render(R0,{mesh:B,_skeletonId:J._skeletonId,skeleton:J.skeleton,mat:Q[Z],instances:J.instances,drawRange:r[Z],originalPrefab:J},a);break}}if("string"==typeof Q){if(v=N0(q0,Q)||n0[Q]){if(dR(v)&&!(v=DR.getMaterial(v)))break}else if(!(v=DR.getMaterial(Q)))break;Q=v}}else Q=B0;var G=!0===Q.transparent;if(!!Y._45Q!=G)break;var k,E,i=c0(Q),JR=(y0=e1[i||Q.type],!!(J.skeleton&&q0&&(k=Y._updatedSkeletonDatas[J._skeletonId+"|"+q0._lastAnimHashKey])));if(JR&&(Y.getPrefabBoneTexture(J)?(E=(VR=Y.getPrefabBoneTexture(J)).width,R0.activeTexture(33984),XJ(R0,VR),R0.texImage2D(3553,0,34836,E,E,0,6408,5126,k),XJ(R0,WR)):(E=Math.round(Math.sqrt(k.length/4)),Y.setPrefabBoneTexture(J,Y.createTexture({data:k,width:E,height:E,type:5126,filter:9728,clampToEdge:!0})))),!M||Q.renderPickMap){var aR,w=RR.for(R0),p=i||Q.type||"fixColor";if(!(d=k0(p))||d.isRaw){if(!d){if(!i0(p))break;aR=!0,i||(i=c0(Q))&&(y0=e1[p=i])}H0(i)||(d=Y,H=aR,O={type:X=p,internalDefines:q=!(O=q=void 0)===(D=Q).internalDefines||u0(X)},(D=D.defines)&&(O.defines=D),q||d._oitEnabled&&d._programDefines&&d._programDefines.OIT&&(O.defines=pR.assign({},O.defines,{OIT:!0})),q||O.defines||(O.cacheKey=X),x=d.acquireProgram(O,H))}if(!x){var zR=q0?q0.s("3d.clip.direction"):0;switch(q0&&R0._blooming&&!q0.s("bloom")&&(p="fixColor",t0.cullFace=Q.cullFace,t0.flipSide=Q.flipSide,Q=t0),p){case"fixColor":x=Y.acquireProgram({type:"fixColor",defines:{CLIP_DIRECTION:!!zR,USE_INSTANCING:!(!J.instances&&!F0)}});break;case"unlit":x=Y.acquireProgram({type:"unlit",defines:pR.assign({CLIP_DIRECTION:!!zR,USE_INSTANCING:!(!J.instances&&!F0)},Q.defines),potentialType:i?Q.type:xR,cacheKey:Y._sceneProgramDefinesMask+(i?Q.type:"")+(Q.defines?Y._glPrograms.generateDefines(Q.defines):"")});break;case"pbr":case"phong":var UR,gR,VR,YR=1,cR=((q0||X0)&&-1!==(UR=q0?q0.s("envmap.probe"):X0.envmapProbe||0)&&(gR=!0,(YR=q0?q0.s("envmap"):X0.envmap||0)&&(YR*=(uR=1,(u=Y._envmapRenderer._envmapIntensity[UR])===xR?uR:u),e=UR)),gR||!(e=Q.envmap||Q.envMap)||(VR=Y.getTexture(e))&&VR!==R0._emptyTexture||(e=null),Y.isTransmissionEnabled(Q)),uR=Y._glPrograms.genPhysicalProgramKeyOfMat(Q,{clipDirection:zR,isTransparent:G,enableTransmission:cR,useInstancing:!(!J.instances&&!F0),useDisplacement:!!Q.displacementMap&&Y._glCapabilities.vertexTextures,aoMapUvChannel:zt("aoUvChannel",Q,y0)||1,uvChannelUsed:(u=void 0,(u=(UR=Q).uvChannelUsed)||((u=N2[UR.type])?u.uvChannelUsed:0)),useUvClip:!(!Y._uvClipEnabled||"uv.left"!=zR&&"uv.right"!=zR),skeleton:JR,alphaChannel:zt("alphaChannel",Q,y0),aoChannel:zt("aoChannel",Q,y0),roughnessChannel:zt("roughnessChannel",Q,y0),metalnessChannel:zt("metalnessChannel",Q,y0),toneMapping:Y.getToneMapping(),rectsNum:Y._87I.length,envMapCombine:zt("envMapCombine",Q,y0),useTangent:Q.normalMap&&B.tangent,envmap:e}),x=Y.acquireProgram({type:p,materialDefines:Q.defines,potentialType:i?Q.type:xR,cacheKey:Y._sceneProgramDefinesMask+uR.toString()+(Q.extraCacheKey||"")+(i?Q.type:"")+(Q.defines?Y._glPrograms.generateDefines(Q.defines):""),cacheKeyOfMat:uR,extensions:cR?{GL_EXT_shader_texture_lod:!0}:null});break;case"litePhong":x=Y.acquireProgram({type:"litePhong",defines:Q.defines,potentialType:i?Q.type:xR,cacheKey:Y._sceneProgramDefinesMask+(i?Q.type:"")+(Q.defines?Y._glPrograms.generateDefines(Q.defines):"")});break;default:x=Y.acquireProgram(Q)}}if(!x)break;_=!0,w.useProgram(x);var HR,W=w.directUniforms(),MR=w.directState(),D=!!Q.flipSide;if(q0&&(2===(HR=q0._forceSingleFace)&&(D=!D),q0._flipSideInheirt&&(D=!D)),T0.determinant()<0&&(D=!D),F0&&XR.determinantOfArray(F0.aMatrixInstanced)<0&&(D=!D),MR.cullFace.enabled=!(!HR&&!Q.cullFace),MR.cullFace.frontFace=D?2304:2305,(t=(I=x&&u0(x.name))&&!i&&Y._glUbos.supportsUbo)?Y._glUbos.updateAndBind("scene",x):(W.uProjectMatrix=Y._projectMatrix,W.uViewMatrix=Y._viewMatrix,W.uCameraPosition=Y._camera?Y._camera.p3():Y.getEye(),W.uTime=Y.__uptime),x._dirty){if(x._dirty=xR,I){var K,d=vR=y=K=C=R=X=q=j=void 0,j=Y,q=W,X=(X=j._headlightDirection)&&3===X.length?X:"shadow"===X?j.shadowMap.getDirection():Au(j.getCenter(),j.getEye()),d=j._lastLightUploadInfo.headlightColor;if(Ut.color=at(d,Math.PI*j._headlightRatioForPhysicalMaterial),q.hemisphereLight.direction=qR.normalizeArray(j._transformDirectionToViewSpace(X)),q.hemisphereLight.groundColor=Ut.groundColor,q._lastLightMask=xR,q._lastHeadlightAmbientIntensity=xR,j.lightProbe&&(q.lightProbe=j.lightProbe),(K=j._59O)&&K.length){for(R=0,C=K.length,y=[];R<C;R++)y.push({position:j._transformPointToViewSpace(K[R].p3()),color:gt(K[R]),distance:K[R].s("light.range"),decay:1,enable:!1});q.pointLights=y}if((K=j._spots)&&K.length){for(R=0,C=K.length,y=[];R<C;R++){var IR=K[R].s("light.angle");y.push({position:j._transformPointToViewSpace(K[R].p3()),color:gt(K[R]),direction:K[R].s("light.rotation.enable")?j._transformDirectionToViewSpace(gJ([0,0,1],K[R])):j._transformDirectionToViewSpace(K[R].s("light.center"),K[R].p3()),decay:1,enable:!1,distance:K[R].s("light.range"),coneCos:KR(IR/2),penumbraCos:KR(IR/2*(1-K[R].s("light.exponent")))})}q.spotLights=y}if((K=j._dirs)&&K.length){for(R=0,C=K.length,y=[];R<C;R++)y.push({direction:K[R].s("light.rotation.enable")?j._transformDirectionToViewSpace(gJ([0,0,1],K[R])):j._transformDirectionToViewSpace(null,K[R].p3()),color:gt(K[R]),enable:!1});q.directionalLights=y}if((K=j._87I)&&K.length){for(var eR,QR,vR=new qR,R=0,C=K.length,y=[];R<C;R++)im.fromArray(gD(K[R])),im.premultiply(wm.fromArray(j._viewMatrix)),wm.identity().extractRotation(im),eR=vR.set(.5*-K[R].s("light.size")[0],0,0).applyMatrix4(wm).toArray(),QR=vR.set(0,.5*K[R].s("light.size")[1],0).applyMatrix4(wm).toArray(),y.push({position:j._transformPointToViewSpace(K[R].p3()),color:gt(K[R]),halfWidth:eR,halfHeight:QR,enable:!1,disableSpecular:K[R].s("light.specular.disable")});q.rectAreaLights=y,DR.LTC_FLOAT_1&&((d=j.getGL())._LTC_1||(d._LTC_1=j.createTexture(DR.LTC_FLOAT_1)),d._LTC_2||(d._LTC_2=j.createTexture(DR.LTC_FLOAT_2)),q.ltc_1=d._LTC_1,q.ltc_2=d._LTC_2)}}else"litePhong"===p&&VJ(Y,W);W.uClipperMatrix=Y._boxClipperMatrixes,W.uClipperClipInner=Y._boxClipperClipInner,t||(Y._fogDisabled||(W.uFogColor=Y._fogColor,W.uFogDensity=Y._fogDensity,W.uFogNear=Y._fogNear,W.uFogFar=Y._fogFar),W.toneMappingExposure=Y.getToneMappingExposure()),Y.shadowMap.enable&&Y.shadowMap.createShadow(W)}else Y.shadowMap.enable&&Y.shadowMap.createShadow(W,!0);Y.rebindOITTexture(W),Y.flowMap.createFlow(W),Y._87I.length&&DR.LTC_FLOAT_1&&(W.ltc_1=R0._LTC_1,W.ltc_2=R0._LTC_2),I&&cR&&R0._transmissionRTT&&(W.transmissionSamplerMap=R0._transmissionRTT.texture,W.transmissionSamplerSize=R0._transmissionRTT.getSize()),Q.uUvMatrix=wX(Q.uvRotation,Q.uvOffset,Q.uvScale,Q.uvAnchor)}var F,O=F0,n=function(J,a,Y){var z=V1(a);if(!z)return 0;if(T9(z)||!z._4HQ)for(var U in z._4HQ=!0,z)"is"!==U&&jR(z[U])&&(z[U]=new fu(z[U]));if(Y&&!Y._complete_)for(var U in Y._complete_=!0,Y)jR(Y[U])&&(Y[U]=new fu(Y[U]));(a=RR.for(R0).directAttribs()).disable();var c,g=z.index||z.is,u=!g,H=0;return a.apply(z,function(J,a,z){var U,g=h0[a];if(Y&&(U=g&&Y[g]||Y[a])!==xR){if(!U.length)return null;var V=r0[z.desc.activeInfo.type];return H=H||U.length/V,hJ(R0,null,U,null,V)}return(U=g&&J[g]||J[a])!=xR&&U.length?(u&&(u=!1,c=U.length/r0[z.desc.activeInfo.type]),BJ(R0,null,U)):null}),!a.aMatrixInstanced||Y&&Y.aMatrixInstanced||(a.aMatrixInstanced=Jt),g?(rJ(R0,J._buffer.is,g),{length:g.length,instances:H,indexType:g instanceof Uint32Array?5125:g instanceof Uint8Array?5121:null,is:!0}):c||z.vs?{length:c||z.vs.length/3,instances:H,is:!1}:0}(Y,B,O);if(!n)break;n.instances&&(W=W||RR.for(R0).directUniforms(),O.aBatchColor&&(W.uBatchColor=!0),W.uUseInstance=!0,W.uRightMatrixInstanced=F0?S0.multiplyMatrices(b0,T0).getElements():_u,m=!0),s=!0,UX(Y,(F0?L0:T0).getElements()),!M||Q.renderPickMap?(W=W||w.directUniforms(),q0?fJ(R0,Y,q0,I):X0&&(H=R0,d=Y,V=X0,A=I,F=c=void 0,c=RR.for(H).directUniforms(),F=V.alphaTest,c.uAlphaTest=F===xR?CR.alphaTest:F,F=d._picking,c.shadowReceive=!F&&!1!==V.shadowReceive,LJ(d,c,V.clipboxMask===xR?$2:V.clipboxMask),c.blackout=!(!H._blooming||V.bloom),F||(d._flowObjects.length&&d.flowMap.resetFlowUniform(V.effectFlowMask===xR?$2:V.effectFlowMask,c),A||(V.envmap!==xR?(c.uUseEnvMap=!0,c.roughness=V.roughness||0,d._setEnvmapByProbeId(c,V.envmapProbe||0,V.envmap)):(c.uUseEnvMap=!1,c.envMapIntensity=0),YJ(d,c,V.lightMask===xR?$2:V.lightMask,V.headlightAmbientIntensity)),c.uFog=!0)),I&&(q0?Vt(W,Y,q0._currentFaceLightMask!=WR?q0._currentFaceLightMask:q0.s("shape3d.light")?q0.s("light.mask"):0,q0.s("headlight.ambientIntensity")||Y._headlightAmbientIntensity):X0?Vt(W,Y,X0.light==WR?X0.lightMask===xR?$2:X0.lightMask:0,X0.headlightAmbientIntensity||Y._headlightAmbientIntensity):Vt(W,Y,0,0),e!=WR&&(gR?(F=Y._envmapRenderer._envmaps[e],W.envmap=F?F.texture:R0._emptyTexture):W.envmap=Y._envmapRenderer.assureEnvmapFromEquirectangular(e),W.envMapIntensity=YR*zt("envMapIntensity",Q,y0)),JR&&pX(W,J,Y.getPrefabBoneTexture(J),k)),Y.resetSharedTextureIndex(),A=q0,V=void 0,(V=zt("completeHandler",c=Q,kR=y0))&&V.call(c,A,kR),I&&!i?(W.transparent=(Q.transparent===xR?y0:Q).transparent,W.cullFace=(Q.cullFace===xR?y0:Q).cullFace,function(J,a,z,U,g,V){var Y,c,u,H,M,I,e,Q,v,Z,k,E=c0(V)||V.type,i=Q1[E];if(z){if(!(k=(Z=J._glUbos).attachUbo(E,V,J._renderId))){for(c=0,u=i.length;c<u&&-1!==(H=i[c]);c+=2)I=V[H],M=i[c+1],I&&(I instanceof WebGLTexture||(I=J.textureAccessesByMaterial(I,U)),g[H]=I),c+=2*M;return Z.updateAndBind(E,a)}}else k=g;for(Y=!0,c=0,u=i.length;c<u;c+=2)if(-1===(H=i[c]))Y=!1,c--;else{if(M=0,e=!1,-2===H?(M=(u-c-1)/2,c--,e=!0):(I=V[H],M=i[c+1],I&&(!Y||I instanceof WebGLTexture||(I=J.getTexture(I,U)),Y?g[H]=I:k[H]=I,e=!0)),e)for(v=(Q=c+2)+2*M;Q<v;Q+=2)(I=V[H=i[Q]])===xR&&(I=i[Q+1]),k[H]=I;c+=2*M}k.uUvMatrix=V.uUvMatrix;var w=V.uUv2Matrix;w&&(k.uUv2Matrix=w),z&&Z.updateAndBind(E,a)}(Y,x,t,q0,W,Q)):W.apply(Q,function(J,a,z){if("envmap"!==a&&"envMapIntensity"!==a){if((g=(g=J[a])===xR&&y0?y0[a]:g)&&(35678===z||35680===z||36306===z)&&!(g instanceof WebGLTexture))if(jR(g))for(var U=g,J=U.length,g=new Array(J),V=0;V<U.length;V++)g[V]=Y.textureAccessesByMaterial(U[V],q0);else g=Y.textureAccessesByMaterial(g,q0);return g}})):JR&&(W=W||RR.for(R0).directUniforms(),pX(W,J,Y.getPrefabBoneTexture(J),k));var ZR,L,kR=Q.glState,ER=(kR&&MR.apply(kR,ZR={}),G0[Q.renderMode]);if(q0&&Y.emitPreRenderData(q0,R0,J),L=J.drawRange)for(var Z=0,iR=L.length;Z<iR;Z+=2)n.is?mJ(R0,L[Z],L[Z+1],ER,n.indexType,n.instances):sJ(R0,L[Z],L[Z+1],ER,n.instances);else n.is?mJ(R0,0,n.length,ER,n.indexType,n.instances):sJ(R0,0,n.length,ER,n.instances)}while(q0&&Y.emitPostRenderData(q0,R0,J),kR&&MR.apply(ZR),JR&&(W.uUseSkinning=!1),M&&((I=RR.for(R0).directAttribs()).aNormal=!1,I.aUv=!1,I.skinIndex=!1,I.skinWeight=!1),0);s&&aX(Y),m&&(W.uUseInstance=!1,W.uBatchColor=!1),_&&Y._prg&&(w.useProgram(Y._prg),w.directAttribs().disable(),MR.cullFace.frontFace=2305,Y.shadowMap.enable&&Y.shadowMap.createShadow(null,!0),Y.rebindOITTexture(),Y._envmapRenderer.resetUniformCache(),Y.flowMap.createFlow(null,!0));var wR=J.comps;if(wR&&wR.length)for(Z=0,iR=wR.length;Z<iR;Z++)this.render(R0,wR[Z],q0);if(l0(T0),T0=$,h&&(F0=null),U=J.matDef)for(var g in U)n0[g]=T&&T[g]||xR;z!==xR&&(O0=z),_0(f),(l=aA.post(J))&&l(Y,a,J,b,T0)}},z.prototype.renderLod=function(J,a,z,U,g,V){var Y=this.gv,c=a.lod;if(z&&z.s("static")&&(a=(a=Y.getRenderLists().get(z.getRenderLayer()).getModel3dInstancedBatchMap())&&a[Y.getStaticInstancingKey(z)])&&a.length){if(!a.rendered||a.rendered===z._id){var u,H,M=c.group.length,I=function(J,a,z,U){var g,V=U?(g=z.cacheShadow,z.shadowVersion):(g=z.cache,z.msVersion);if(g.lodVersion===z.lodVersion&&g.version===V&&g.id===a._id)return g.buffer;for(var Y,c,u,H,M=z.lod,I=z.lodSum,e=z.ms,Q=U?z.shadow:null,v=[],Z=new Uint16Array(J),k=0;k<J;k++)Z[k]=0,I[k]?(H=16*I[k],g.buffer&&g.buffer[k]&&g.buffer[k].length===H?delete(c=g.buffer[k])._bufId:c=new fu(H),v.push(c)):v.push(null);for(length=16*z.length,u=Y=0;Y<length;Y+=16,u+=1)if(c=v[k=M[u]]){if(Q&&!Q[Y>>4])c.set(JA,Z[k]);else for(var E=0;E<16;E++)c[Z[k]+E]=e[Y+E];Z[k]=Z[k]+16}return g.version=U?z.shadowVersion:z.msVersion,g.lodVersion=z.lodVersion,g.id=a._id,g.buffer=v}(M,z,a,g);if(!g&&J._picking){if(a._highlightInvalid)return;H=function(J,a){if((V=a.cachePick).lodVersion===a.lodVersion&&V.version===a.csVersion)return V.buffer;for(var z,U=a.lod,g=a.lodSum,V=a.cachePick,Y=[],c=new Uint16Array(J),u=0;u<J;u++)c[u]=0,g[u]?(z=4*g[u],V.buffer&&V.buffer[u]&&V.buffer[u].length===z?delete(I=V.buffer[u])._bufId:I=new fu(z),Y.push(I)):Y.push(null);for(var H=0,M=0,I=V.buffer,e=a.cs,Q=4*a.length;M<Q;M+=4,H++)(I=Y[u=U[H]])&&(I[c[u]]=e[M],I[c[u]+1]=e[M+1],I[c[u]+2]=e[M+2],I[c[u]+3]=e[M+3],c[u]=c[u]+4);return V.lodVersion=a.lodVersion,V.version=a.csVersion,V.buffer=Y,V.buffer}(M,a)}for(var e=a.msTranslation,Q=0;Q<M;Q++)I[Q]&&0!==I[Q].length&&(v=c.group[Q])&&(u=dR(v)?(v={model3d:!0,model:v},xR):v.instances,v.instances={aMatrixInstanced:I[Q]},H&&(v.instances.aBatchColor=H[Q]),g?this.renderDepth(J,v,z,e,V):this.render(J,v,z,e),u?v.instances=u:delete v.instances);a.rendered=z._id}}else{var v,a=Y.getData3dUI(z);(v=c.group[a._lodId])&&(dR(v)&&(v={model:v}),this.renderNode(J,v,z,U,g,V))}},z.prototype.renderDepth=function(J,a,z,U,g){(C0=a.prefix)&&(O0=(V=O0)+C0+".");var V,Y=this.gv,c=C0&&DR.getDataModel3dBindings(z);if(!1===f0(a,"visible",Y,z,c))V!==xR&&(O0=V);else{var u,H,J=m0(J,z),M=$0().copy(T0);if(U&&T0.fromArray(U),u=a.matDef)for(var I in u){var e=n0[I];e&&((H=H||{})[I]=e),n0[I]=u[I]}var Q,v=s0(a,q0,Y);T0.multiply(v),l0(v);do{var Z=Yt(a,U,M),k=a.model;if(k){(k=A0(k))&&this.renderDepth(R0,k,z,null,g);break}if(!(k=V1(a.mesh)))break;T9(k);var E,i=f0(a,"mat",Y,z,c);if(i){if("string"==typeof i){var w=N0(q0,i)||n0[i];if(w){if(dR(w)&&!(w=DR.getMaterial(w)))break}else if(!(w=DR.getMaterial(i)))break;i=w}}else i=B0}while(w=T0,(Q=F0)&&(E=S0.multiplyMatrices(b0,T0).getElements(),w=L0),g(w,k,i,Q,E,a),0);var p=a.comps;if(p&&p.length)for(var x=0,W=p.length;x<W;x++)this.renderDepth(R0,p[x],q0,null,g);if(l0(T0),T0=M,Z&&(F0=null),u=a.matDef)for(var I in u)n0[I]=H&&H[I]||xR;V!==xR&&(O0=V),_0(J)}},z.prototype.renderNode=function(J,a,z,U,g,V){if(a.lod)this.renderLod(J,a,z,U,g,V);else{var Y,c;if(z&&z.s("static")){var u=this.gv.getRenderLists().get(z.getRenderLayer()).getModel3dInstancedBatchMap();if((u=u&&u[this.gv.getStaticInstancingKey(z)])&&u.length){if(u.rendered&&u.rendered!==z._id)return;if(Y={aMatrixInstanced:function(J,a,z){var U=z?a.cacheShadow:a.cache;if(U.length===a.length&&U.version===(z?a.shadowVersion:a.msVersion)&&U.id===J._id)return U.buffer;var g,V=a.ms,Y=z?a.shadow:null,c=16*a.length;U.buffer&&U.buffer.length===c?delete(g=U.buffer)._bufId:g=new fu(c);for(var u=0,H=c;u<H;u+=16)if(Y&&!Y[u>>4])g.set(JA,u);else for(var M=0;M<16;M++)g[u+M]=V[u+M];return U.length=a.length,U.version=z?a.shadowVersion:a.msVersion,U.id=J._id,U.buffer=g}(z,u,g)},!g&&J._picking){if(u._highlightInvalid)return;Y.aBatchColor=function(J){var a=J.cachePick;if(a.length!==J.length||a.version!==J.csVersion){a.buffer=new fu(4*J.length);for(var z=0,U=a.buffer,g=J.cs,V=4*J.length;z<V;z+=4)U[z]=g[z],U[z+1]=g[z+1],U[z+2]=g[z+2],U[z+3]=g[z+3];a.length=J.length,a.version=J.csVersion}return a.buffer}(u)}u.rendered=z._id}}u=Y?(c=a.instances,a.instances=Y,u.msTranslation):U,g?this.renderDepth(J,a,z,u,V):this.render(J,a,z,u),Y&&(c===xR?delete a.instances:a.instances=c)}},z.prototype.calcMatrix=s0,m.Light=function(){yL(zA,this),this.s(P2,CR[P2]),this.s(Oq,"sphere"),this.s("shape3d.reverse.cull",!0),this.s3(20,20,20)}),UA=(_W("Light",kw,{_image:"light_icon",_icon:"light_icon",onStyleChanged:function(J,a,z){zA.superClass.onStyleChanged.apply(this,arguments),J===P2&&this.s("shape3d.color",z)}}),B.FrameState=function(J,a){this.renderState=RR.for(a),this.picking=!1,this.envmapReflectivity=.5,this.cameraPosition=xR,this.projectMatrix=xR,this.viewMatrix=xR,this.view=J,this.defaultProgram=xR,this.pickColorMap=xR,this._pvStack=[],this._renderStateStack=[]}),gA=(UA.prototype.savePV=function(){var J=this.view;this._pvStack.push([hu(this.projectMatrix),hu(this.viewMatrix),J._18Q,hu(J._7O)])},UA.prototype.restorePV=function(){var J,a=this._pvStack.pop();a&&(J=this.view,this.projectMatrix=J._projectMatrix=a[0],this.viewMatrix=J._viewMatrix=a[1],J._18Q=a[2],J._7O=a[3])},UA.prototype.setPV=function(J,a){var z,U=this.view,g=!1;J&&(this.projectMatrix=U._projectMatrix=J,g=!0),a&&(this.viewMatrix=U._viewMatrix=a,U._7O=hu(a),g=!0),g&&(J=U.getWidth(),g=U.getHeight(),z=hu(this.projectMatrix),U._18Q=ZJ(z,z,a),U._18Q._wh=J/g)},UA.prototype.syncEnv=function(J){var a=this.view;this.envmapReflectivity=a._envmapReflectivity||.5,this.cameraPosition=a.getEye(),this.projectMatrix=a._projectMatrix,this.viewMatrix=a._viewMatrix,this.pickColorMap=J,this.picking=a.getGL()._picking},UA.prototype.setGLState=(ct=[0,0,0,0],ut=[!0,!0,!0,!0],Ht=[0,1],Mt=[32774,32774],It=[770,771,1,771],function(J,a){this.renderState.gl;var z=this.renderState.glState;z.dither=!1,a?z.color.mask=ut:z.color.reset(),z.pixelStore.reset(),z.blend.color=ct,z.blend.equation=Mt,z.blend.func=It,z.cullFace.enabled=!1,z.cullFace.mode=1029,z.scissor.enabled=!1,z.depth.enabled=!0,z.depth.clear=1,z.depth.func=515,z.depth.range=Ht,z.stencil.enabled=!1,z.polygonOffset.enabled=!1,J?(z.depth.mask=!1,z.blend.enabled=!0):(z.depth.mask=!0,z.blend.enabled=!1)}),UA.prototype.setUniforms=function(J){var a=this.view,z=this.renderState;z.gl,(z=z.uniforms).uBrightness=1,z.uOpacity=1,z.uPartOpacity=1,z.uUseSkinning=!1,z.uUseInstance=!1,z.uTexture=!1,z.uBlendTexture=!1,z.uAlphaTest=CR.alphaTest,z.uTransparent=!!J,z.uFix=!1,z.uBatchColor=!1,z.uBatchBlend=!1,z.uBatchBrightness=!1,z.envMapIntensity=this.envmapReflectivity||.5,z.uCameraPosition=this.cameraPosition,z.uProjectMatrix=this.projectMatrix,z.uViewMatrix=this.viewMatrix,z.uEnvMap=null,LJ(a,z,l2),z.uClipperMatrix=a._boxClipperMatrixes,z.uClipperClipInner=a._boxClipperClipInner,z.uEnvmapQuat=a._envmapExtraQuaternion,a._envmapRenderer.resetUniformCache(),this.picking||(VJ(a,z),a._fogDisabled||(z.uFogColor=a._fogColor,z.uFogDensity=a._fogDensity,z.uFogNear=a._fogNear,z.uFogFar=a._fogFar))},UA.prototype.drawLayer=function(J,a){return this.view.renderLayers(J,!0)},UA.prototype.drawData=function(J,a,z){var U,g,V,Y,c,u,H=this.view;H.isVisible(J)&&(g=(U=this.renderState).uniforms,(J=H.getData3dUI(J))&&(Y=(V=U.gl)._picking,c=H._picking,u=J._pickId,z&&(J._pickId=z),V._picking=H._picking=!!z,g.uTransparent=!!a,J._42(U.gl,U.program,a?L:p),V._picking=Y,H._picking=c,J._pickId=u))},B.Graph3dView=function(J,a){var z,U,g=this;if(g.resetHeadlightProperties(),g.resetFogProperties(),g._webGLVersion=1,g._attributes=a||DR.graph3dViewAttributes,g._25I={},g._attributes&&(z=g._attributes.view)?z._ht=g:z=_L(1,g),g._view=z,g._attributes&&(U=g._attributes.canvas)||(U=BL(g._view)),g._canvas=U,g.__startTime=Date.now(),g.__uptime=0,vR(U,"webglcontextlost",function(J){J.preventDefault(),g._26I&&g.dispose(),g._26I=WR,g._35O=!0}),vR(U,"webglcontextrestored",function(J){g._35O=!1,g._loseContextExt=xR,g.iv()}),g._40Q=new kA(g),g._43Q={},g._44Q=-1,g._boneViewMatrices=[],g._batchIndexMap={},g._batchModelMap={},g._wireframeIndexMap={},g._wireframeModelMap={},g._wireframeIndexMapSwap={},g._wireframeModelMapSwap={},g._polylineIndexMap={},g._polylineIndexMap={},g._polylineIndexMapSwap={},g._polylineIndexMapSwap={},g._8O=[],g._modelMatrixStack=[],g._7O=mu(),g._6O=mu(),g._modelMatrix=mu(),g._1o=new WA(g),g._30O=new dA(g),g._31O=new DA(g),g._32O=new KA(g),g._raycaster=new bA(g),g._highlightHelper=new j0(g),g._postProcessing=new W1(g),g._41Q=[],g._42Q=0,g._frameRenderOptionStack=[],B.Reality){var V,Y=g._reality={};for(V in B.Reality)Y[V]=new B.Reality[V](g);g.getReality=function(J){return Y[J]},g.getRealities=function(){return Y},g.isRealityEnabled=function(J){return(J=Y[J])&&J.enable},g.isRealityPresenting=function(J){return(J=Y[J])&&J.isPresenting()},g.getPresentingReality=function(){for(var J in Y)if(Y[J].isPresenting())return Y[J];return null}}else g.getReality=g.getRealities=g.getPresentingReality=w,g.isRealityEnabled=g.isRealityPresenting=i;g.shadowMap=new x0(g),g.flowMap=new D0(g),g._33Q=!0,g._eye=gu(DR.graph3dViewEye),g._center=gu(DR.graph3dViewCenter),g._up=gu(DR.graph3dViewUp),g._lightChanged=!1,g._59O=[],g._spots=[],g._dirs=[],g._87I=[],g._boxClippers=[],g._boxClipperVersion=0,g._flowObjects=[],g._transmissionObjects=[],g._frameId=0,g._renderId=0,g._picking=!1,g._tempCameraQueue=[],g._batchInfoMap={},g._updatedSkeletonDatas={},g._renderLayerInfoMap={},g._renderLayerSettingsVersion=0,g._gatherRenderLayersByPriority(!0),g.overlappingBox=new Lw(g),g._envmapRenderer=new B.EnvmapRenderer(this),g._prefabRenderer=new B.PrefabRenderer(this),g._depthGrabber=new K0(this),g.dm(J||new hD),g._coreInteractor=new Zr(this),g.setInteractors([new iA(g)]),g.enableQuickVisibleMode(),g.initRenderEvents(),g._initView(),g._genBatchInstancedArrayFunc(),g.genProgramDefines(),g._setupPVMatrix()}),VA={box:1,sphere:2,cylinder:3,cone:4},YA={addRGB:"FLOW_BLEND_MODE_ADD_RGB",addRGBA:"FLOW_BLEND_MODE_ADD_RGBA",overrideRGBA:"FLOW_BLEND_MODE_OVERRIDE_RGBA",overrideRGB:"FLOW_BLEND_MODE_OVERRIDE_RGB",overrideA:"FLOW_BLEND_MODE_OVERRIDE_A",multiplyRGB:"FLOW_BLEND_MODE_MULTIPLY_RGB",multiplyRGBA:"FLOW_BLEND_MODE_MULTIPLY_RGBA"},cA=0,uA=(J("Graph3dView",pR,{ms_v:1,ms_tip:1,ms_gv:1,ms_dm:1,ms_lp:1,ms_fire:1,ms_sm:1,_51o:1,ms_shadow:1,ms_highlight:1,ms_quickVisible:1,ms_renderEvents:["PreFrame","PostFrame","PreUpdate","PostUpdate","PreRender","PostRender","PreRenderData","PostRenderData"],ms_ac:["devicePixelRatio","boundaries","moveStep","rotateStep","editHelperDisabled","blockSelectable","sizeEditableFunc","rotationEditableFunc","editableFunc","rotatable","zoomable","pannable","walkable","resettable","mouseRoamable","zoomToCenter",gq,Vq,"firstPersonMode",Zq,"movableFunc","gridVisible","gridSize","gridGap","gridColor","originAxisVisible","centerAxisVisible","axisXColor","axisYColor","axisZColor","editSizeColor","rectSelectable","rectSelectBackground","headlightRange","headlightDirection","headlightColor","headlightIntensity","headlightAmbientIntensity","headlightRatioForPhysicalMaterial","headlightDisabled","headlightGroup","ortho","orthoWidth","syncEyeWithOrthoWidth","fovy","near","far",Me,He,"up","aspect","fogDisabled","fogMode","fogDensity","fogColor","fogNear","fogFar","pickerResolution","dashDisabled","uvClipEnabled","transmissionEnabled","batchColorDisabled","batchInstancedDisabled","batchBlendDisabled","batchBrightnessDisabled","flowBlendMode","hoverDelay","batchInfoMap","renderLayerInfoMap","rotateMinPhi","rotateMaxPhi","sortable","opaqueSortable","sortFunc","backfaceUsingNormals","toneMapping","toneMappingExposure"],_editable:!1,_sortable:DR.graph3dViewSortable,_opaqueSortable:DR.graph3dViewOpaqueSortable,_editHelperDisabled:DR.graph3dViewEditHelperDisabled,_blockSelectable:DR.graph3dViewBlockSelectable,_devicePixelRatio:xR,_boundaries:xR,_parallelShaderCompile:!1,_moveStep:DR.graph3dViewMoveStep,_rotateStep:DR.graph3dViewRotateStep,_toneMapping:xR,_toneMappingExposure:1,_rotateMinPhi:DR.graph3dViewMinPhi===xR?DR.graph3dViewRotateMinPhi:DR.graph3dViewMinPhi,_rotateMaxPhi:DR.graph3dViewMaxPhi===xR?DR.graph3dViewRotateMaxPhi:DR.graph3dViewMaxPhi,_pannable:DR.graph3dViewPannable,_rotatable:DR.graph3dViewRotatable,_walkable:DR.graph3dViewWalkable,_resettable:DR.graph3dViewResettable,_zoomable:DR.graph3dViewZoomable,_zoomToCenter:!0,_firstPersonMode:DR.graph3dViewFirstPersonMode,_mouseRoamable:DR.graph3dViewMouseRoamable,_gridVisible:DR.graph3dViewGridVisible,_gridSize:DR.graph3dViewGridSize,_gridGap:DR.graph3dViewGridGap,_gridColor:DR.graph3dViewGridColor,_originAxisVisible:DR.graph3dViewOriginAxisVisible,_centerAxisVisible:DR.graph3dViewCenterAxisVisible,_axisXColor:DR.graph3dViewAxisXColor,_axisYColor:DR.graph3dViewAxisYColor,_axisZColor:DR.graph3dViewAxisZColor,_ortho:DR.graph3dViewOrtho,_orthoWidth:DR.graph3dViewOrthoWidth,_syncEyeWithOrthoWidth:DR.graph3dViewSyncEyeWithOrthoWidth,_fovy:DR.graph3dViewFovy,_near:DR.graph3dViewNear,_far:DR.graph3dViewFar,_rectSelectable:DR.graph3dViewRectSelectable,_rectSelectBackground:DR.graph3dViewRectSelectBackground,_editSizeColor:DR.graph3dViewEditSizeColor,_autoMakeVisible:BW,_pickerResolution:DR.graph3dViewPickerResolution,_oitPassCount:3,_modelMatrixProcess:xR,_modelMatrixReverseProcess:xR,_dashDisabled:DR.graph3dViewDashDisabled,_uvClipEnabled:DR.graph3dViewUvClipEnabled,_transmissionEnabled:DR.graph3dViewTransmissionEnabled,_batchColorDisabled:DR.graph3dViewBatchColorDisabled,_batchInstancedDisabled:DR.graph3dViewBatchInstancedDisabled,_batchBlendDisabled:DR.graph3dViewBatchBlendDisabled,_batchBrightnessDisabled:DR.graph3dViewBatchBrightnessDisabled,_backfaceUsingNormals:DR.graph3dViewBackfaceUsingNormals,_useOIT:!1,_oitEnabled:!1,_flowBlendMode:DR.graph3dViewFlowBlendMode,addCamera:function(J){var a=this._42Q++,z=pR.freeze({id:a,priority:J.priority||0,ignoreInPick:!!J.ignoreInPick,render:J.render});return J.switch3DStatus&&(this._43Q[z.id]=!0),this._41Q.push(z),this._41Q.sort(function(J,a){return J.priority!==a.priority?J.priority-a.priority:J.id-a.id}),a},removeCamera:function(J){for(var a=this._41Q,z=0,U=a.length;z<U;z++)if(a[z].id===J)return a.splice(z,1),!0;return!1},setEye:function(J,a,z){1===arguments.length&&(a=J[1],z=J[2],J=J[0]);var U=this._eye;U[0]=J,U[1]=a,U[2]=z,this.fp(Me,WR,U)},setCenter:function(J,a,z){1===arguments.length&&(a=J[1],z=J[2],J=J[0]);var U=this._center;U[0]=J,U[1]=a,U[2]=z,this.fp(He,WR,U)},setUp:function(J,a,z){1===arguments.length&&(a=J[1],z=J[2],J=J[0]);var U=this._up;U[0]=J,U[1]=a,U[2]=z,this.fp("up",WR,U)},setVisibleFunc:function(J){var a=this._visibleFunc;this._visibleFunc=J,this.fp("visibleFunc",a,J),J?this.isQuickVisibleMode()&&(this.disableQuickVisibleMode(),this._quickVisiblePending=!0):this._quickVisiblePending&&(this._quickVisiblePending=!1,this.enableQuickVisibleMode())},getDevicePixelRatio:function(){return this._dynamicRatio||this._devicePixelRatio||Xm},isTransmissionEnabled:function(J){return!!this._transmissionEnabled&&(!J||J.enableTransmission)},isDepthGrabberEnabled:function(){return this._depthGrabber.isEnabled()||this.getPostProcessing().isEnabled()},enableDepthGrabber:function(J){this._depthGrabber.enable(J)},disableDepthGrabber:function(J){this._depthGrabber.disable(J)},grabDepth:function(J){return this._depthGrabber.grab(J)},isFloatDepthTexture:function(J){return J&&J._internalFormat},isOITEnabled:function(J){return!!this._useOIT&&(!J||this._oitEnabled)},enableOIT:function(){var J=this;if(J._useOIT)return!0;if(J._useOIT=!0,!J.getGL())return!1;if(!J.isWebGL2())return!1;if(!J.getGLExtension("EXT_color_buffer_float"))return!1;var a=n.navigator;return!(a&&(/iPad|iPhone|iPod/.test(a.platform)||"MacIntel"===a.platform&&1<a.maxTouchPoints)||(J._oitEnabled=!0,J._depthPeelingRenderer||(J._depthPeelingRenderer=new d0(J)),J._depthPeelingRenderer.enableOIT(),J.iv(),0))},disableOIT:function(){return this._useOIT&&(this._useOIT=!1,this._oitEnabled&&(this._depthPeelingRenderer&&this._depthPeelingRenderer.disableOIT(),this._oitEnabled=!1,this.iv())),!0},setOITPassCount:function(J){this._oitPassCount=J,this.iv()},getOITPassCount:function(){return this._oitPassCount},rebindOITTexture:function(J){return!!this._oitEnabled&&this._depthPeelingRenderer.bindTexture(J)},isTransparentMask:function(J){return J.s("transparent.mask")},getCoreInteractor:function(){return this._coreInteractor},getHighlightHelper:function(){return this._highlightHelper},getHighlightPickColor:function(J){return J=J.s("highlight.group"),this._highlightHelper.getPickColorOfIndex(J)},getRaycaster:function(){return this._raycaster},getAspect:function(){return this._aspect||this.getWidth()/this.getHeight()||DR.graph3dViewAspect},setAspect:function(J){var a=this.getAspect();this._aspect=J,this.fp("aspect",a,this._lastAspect=this.getAspect())},_tryFireAspectEvent:function(){var J=this.getAspect(),a=this._lastAspect;J!==a&&(this._lastAspect=J,a!=WR&&this.fp("aspect",a,J))},getCanvas:function(){return this._canvas},setDataModel:function(J){var a=this,z=a._dataModel,U=a._selectionModel;z!==J&&(z&&(z.ump(a.handleDataModelPropertyChange,a),z.umm(a.handleDataModelChange,a),z.umd(a.handleDataPropertyChange,a),U||z.sm().ums(a.handleSelectionChange,a)),(a._dataModel=J).mp(a.handleDataModelPropertyChange,a),J.mm(a.handleDataModelChange,a),J.md(a.handleDataPropertyChange,a),U?U._21I(J):J.sm().ms(a.handleSelectionChange,a),a._postProcessing.handleDataModelChange(z,J),a._tryInvalidateEnvmap(),a.invalidateAll(!0),a.invalidateLight(),a.invalidateBoxClipper(),a.invalidateFlowObjects(),a.invalidateTransmissionObjects(),a._49Q(),a.fp(Cq,z,J),a._canvas.style.background=J.getBackground()||"")},handleDataModelPropertyChange:function(J){var a,z,U=J.property;"background"===U?(a=this._canvas.style.background,z=J.newValue||"",this._canvas.style.background=z,this.fp("canvasBackground",a,z)):"envmapType"===U?this._tryInvalidateEnvmap():"envmap"===U||"invalidateView"===U?this.iv():"a:sceneRedrawState"===U&&(J.newValue?this.redrawLoop():this.stopRedrawLoop())},handleDataPropertyChange:function(J){var a=J.data,z=(this.invalidateData(a),J.property);r2(a)&&"s:light.type"===z?this.invalidateLight():"s:3d.clipbox"===z?this.invalidateBoxClipper(a,!0):"s:effect.flow"===z?this.invalidateFlowObjects(a,!0):"s:shadow.cast"===z?this.shadowMap.tryUpdateBounding(a):"s:3d.visible"===z||"parent"===z&&(J.oldValue instanceof jw||J.newValue instanceof jw)?this.invalidateQuickVisible(a):"s:shape3d.transmission"===z&&this.invalidateTransmissionObjects(a,!0)},invalidateBoxClipper:function(J,a){var z=this._boxClippers,U=z.length;J?!!J.s("3d.clipbox")==(a=!!a)?z.indexOf(J)<0&&z.push(J):0<=(a=z.indexOf(J))&&z.splice(a,1):(z=this._boxClippers=[],this.dm().each(function(J){J.s("3d.clipbox")&&z.push(J)})),U!==z.length&&this._updateBoxClipperMatrix(),this.iv()},getProjectMatrix:function(J){return J&&this._setupPVMatrix(),this._projectMatrix},getViewMatrix:function(J){return J&&this._setupPVMatrix(),this._viewMatrix},_setupPVMatrix:function(){this._projectMatrix=DJ(this),WJ(this,this._7O),this._viewMatrix=hu(this._7O)},_updateBoxClipperMatrix:(Ot=/if[ \t]*\([^\0{}]*{/,function(){for(var J,a=this._boxClippers,z=um(this,"_boxClipperMatrixes",16*a.length),U=this._boxClipperClipInner=[],g=this._boxClipperGroups=[],V=this._boxClipperShapes=[],Y=0,c=new XR,u=0,H=a.length;u<H;u++){(J=a[u]).appendAnchorMatrix3d(M=gD(J,this.getMat(J))),c.getInverse(c.fromArray(M)).toArray(z,16*u),U.push("inner"===J.s("3d.clipbox")),g.push(J.s("3d.clipbox.group"));var M=VA[J.s("3d.clipbox.shape")]||1;V.push(M),Y|=1<<M-1}if(this._boxClipperVersion++,Y!==this._boxClipperTypes){if(Y){yt||(I=(e=CL(Z["clipbox.fs.body"],!0)).match(Ot),Ft=e.slice(0,I.index)+"if ($TEMPLATE) {"+e.slice(I.index+I[0].length),e=I[0],yt=e.slice(e.indexOf("(")+1,e.lastIndexOf(")")).split("||").map(function(J){return J.trim()}));for(var I,e,Q=[],u=0;u<yt.length;u++)Y&1<<u&&Q.push(yt[u]);this._clipboxShaderChunkFS=Ft.replace("$TEMPLATE",Q.join(" || "))}else this._clipboxShaderChunkFS="";this._boxClipperTypes=Y}}),_49Q:function(){this._4AQ||this._48Q||this.dm().size()<DR.graph3dViewDataNumWarningLine||(this._48Q=!0,console.log("Too many datas so than disable some feature to speed up.\nYou can set global Default.graph3dViewDataNumWarningLine to largeEnoughNum to avoid this, or call graph3dView.quitDataNumWarning() to quit.\n"),this.enableQuickVisibleMode(),this.getHighlightHelper().mouseOverData=null)},quitDataNumWarning:function(){this.disableQuickVisibleMode(),this._48Q=!1,this._4AQ=!0},invalidateFlowObjects:function(J,a){var z=this._flowObjects;J?!!J.s("effect.flow")==(a=!!a)?z.indexOf(J)<0&&z.push(J):0<=(a=z.indexOf(J))&&z.splice(a,1):(z=this._flowObjects=[],this.dm().each(function(J){J.s("effect.flow")&&z.push(J)})),this.iv()},invalidateTransmissionObjects:function(J,a){var z=this._transmissionObjects;J?!!J.s("shape3d.transmission")==(a=!!a)?z.indexOf(J)<0&&z.push(J):0<=(a=z.indexOf(J))&&z.splice(a,1):(z=this._transmissionObjects=[],this.dm().each(function(J){J.s("shape3d.transmission")&&z.push(J)})),this.iv()},invalidateLight:function(){this._lightChanged||(this._lightChanged=!0,this.iv())},onPropertyChanged:function(J){if(J=J.property,this.iv(),this._18Q=WR,"eye"===J)this._33Q=!0;else if("devicePixelRatio"===J)this._42(this.getDevicePixelRatio());else if("batchInstancedDisabled"===J){this._genBatchInstancedArrayFunc();var a,z=DR.getBatchInfoMap();for(a in z)z[a]&&z[a].instanced&&this.invalidateBatch(a);for(a in z=this._batchInfoMap)z[a]&&z[a].instanced&&this.invalidateBatch(a)}},_5O:function(J){var a=J.get3dUIClass();return a?new a(this,J):WR},getData3dUI:function(J){var a=this._25I[J._id];return a===xR&&(a=this._5O(J),this._25I[J._id]=a),a},invalidateAll:function(J,a){var z=this;if(J){for(var U in z._25I)(U=z._25I[U])&&U.dispose();z._25I={},z.iv(),bX(z)}else bX(z),z.dm().each(function(J){z.invalidateData(J)});z.shadowMap.tryInvalidateLater(J,a)},invalidateSelection:function(){var a=this;a.sm().each(function(J){a.invalidateData(J)})},invalidateData:function(J){var a=this.getData3dUI(J);a&&(a.iv(),this.iv()),bX(this,J)},getShape3dText:function(J){return J.getStyle("shape3d.text")||this.getLabel(J)},invalidateBatch:function(a){var z=this;z._40Q.each(function(J){z._invalidateBatch(a,J.batchModelMap,J.batchIndexMap),z._invalidateBatch("T"+a,J.wireframeModelMap,J.wireframeIndexMap),z._invalidateBatch("O"+a,J.wireframeModelMap,J.wireframeIndexMap),J.markBatchInvalid()}),z.iv()},_invalidateBatch:function(J,a,z){var U=this,g=a[J];if(g){g.ds.forEach(function(J){var a=U.getData3dUI(J);a&&(a.iv(),a.invalidateWireframe()),delete z[J._id]});var V=U.getBatchInfo(J)||mH;if(!1!==V.keepData&&g.ms&&g.ms.length&&V.instanced&&!U.isBatchInstancedDisabled())return g.ds=[],g.ms=[],g.ics&&(g.ics=[]),void(g.ps&&(g.ps=[]));delete a[J]}},handleDataModelChange:function(J){var a,z,U=this,g=J.kind,J=J.data;"add"===g?(U.invalidateData(J),wL(J)&&J.getEdgeGroup()&&J.getEdgeGroup().eachSiblingEdge(U.invalidateData,U),r2(J)&&U.invalidateLight(),J.s("3d.clipbox")&&U.invalidateBoxClipper(J,!0),J.s("effect.flow")&&U.invalidateFlowObjects(J,!0),J.s("shape3d.transmission")&&U.invalidateTransmissionObjects(J,!0),U._49Q()):g===de?(a=J._id,(z=U._25I[a])&&(z.dispose(),delete U._25I[a],U.iv()),J===U._currentSubGraph&&U.setCurrentSubGraph(WR),bX(U,J),r2(J)&&U.invalidateLight(),J.s("3d.clipbox")&&U.invalidateBoxClipper(J,!1),J.s("effect.flow")&&U.invalidateFlowObjects(J,!1),J.s("shape3d.transmission")&&U.invalidateTransmissionObjects(J,!1),J.isAnimationPlaying()&&J.stopAnimation()):g===je&&(U.invalidateAll(!0),U.setCurrentSubGraph(WR),bX(U),U.invalidateLight(),U.invalidateBoxClipper(),U.invalidateFlowObjects(),U.invalidateTransmissionObjects())},toCanvas:function(J,a,z){this._renderNonEditableAtRatio(1,J);for(var U=this.getWidth()||1,g=this.getHeight()||1,V=new Uint8Array(U*g*4),Y=(J=BL()).getContext("2d"),c=(this.getGL().readPixels(0,0,U,g,6408,5121,V),GL(J,U,g,1),Y.getImageData(0,0,U,g)),u=c.data,H=0;H<u.length;H+=4){var M=H/4,I=ER(M/U);u[M=4*((g-1-I)*U+(M-I*U))]=V[H],u[1+M]=V[H+1],u[2+M]=V[H+2],u[3+M]=V[H+3]}return Y.putImageData(c,0,0),this._42(this.getDevicePixelRatio()),a&&z?(c=(Y=BL()).getContext("2d"),GL(Y,a,z,1),DR.drawImage(c,J,0,0,a,z),Y):J},toDataURL:function(J,a){return this._renderNonEditableAtRatio(1,J),J=this._canvas.toDataURL(a||"image/png",1),this._42(this.getDevicePixelRatio()),J},_renderNonEditableAtRatio:function(J,a){var z,U=this.getGL();this.validate(),a&&(z=U.getParameter(3106),OJ(U,a)),this._dynamicRatio=J,this._42(J,{renderAxis:!1,renderEdit:!1,renderGrid:!1}),this._dynamicRatio=xR,a&&OJ(U,z)},isWebGL2:function(){return 2===this._webGLVersion},getGL:function(){var J,a,z,U=this._26I;if(U)return U;if(!this._35O&&!this._hibernating){if("undefined"==typeof WebGLRenderingContext)throw new Error("WebGL not supported.");var g=this,V=g._canvas,Y=g._attributes;if(!Y||!1!==Y.requestWebGL2)try{(U=V.getContext("webgl2",Y)||V.getContext("experimental-webgl2",Y))&&(g._webGLVersion=2,g._26I=U)}catch(U){}if(!U)try{U=V.getContext("webgl",Y)||V.getContext("experimental-webgl",Y)}catch(U){throw new Error("Failed to initialize WebGL.")}if(U)return g._26I=U,V=g._frameState=new UA(g,U),g._glExtensions=new JI(U),g._glCapabilities=new aI(U,g._glExtensions),g._glUbos=new zI(g,U,g._glCapabilities,Y&&Y.forceNoUniformBuffer),g._glPrograms=new g0(g,U),g._2O={},U._emptyCubeTexture=(J=U,z=new Uint8Array(4),a=J.createTexture(),J.activeTexture(33984),J.bindTexture(34067,a),J.texParameteri(34067,10240,9729),J.texParameteri(34067,10241,9729),J.texImage2D(34069,0,6408,1,1,0,6408,5121,z),J.texImage2D(34070,0,6408,1,1,0,6408,5121,z),J.texImage2D(34071,0,6408,1,1,0,6408,5121,z),J.texImage2D(34072,0,6408,1,1,0,6408,5121,z),J.texImage2D(34073,0,6408,1,1,0,6408,5121,z),J.texImage2D(34074,0,6408,1,1,0,6408,5121,z),a),U._compiledShader={},U._emptyTexture=jJ(U),U._emptyBlendTexture=jJ(U),U._4NQ={},U._id=++cA,U._4KQ={},V.setGLState(),g._buffer={vs:qJ(U),ns:qJ(U),is:qJ(U),uv:qJ(U),batchColor:qJ(U),batchBlend:qJ(U),batchBrightness:qJ(U),lineDistance:qJ(U)},U._sharedTexture=dJ(g,U),U._sharedTexturePool=[],Y=g._cube={vs:qJ(U),ns:qJ(U),is:qJ(U),uv:qJ(U)},_J(U,Y.vs,k9),_J(U,Y.ns,w9),_J(U,Y.uv,i9),tJ(U,Y.is,E9),g._genBatchInstancedArrayFunc(),U._renderInfo={calls:0,vertices:0,faces:0,lines:0,points:0,textureCache:{time:0,count:0,pixels:0},frame:0,cacheTimeCost:0,reflectDepth:0},U._renderTargetStack=[],U._dynamicTexturePool={},U;throw new Error("Failed to initialize WebGL.")}},getGLCapabilities:function(){if(this.getGL())return this._glCapabilities},getGLExtensions:function(){if(this.getGL())return this._glExtensions},getGLExtension:function(J){var a=this.getGLExtensions();return a&&a.get(J)||!1},getGLState:function(){var J=this.getGL();if(J)return RR.for(J).glState},getShaderChunk:function(J){var a;return"clipbox.fs.body"===J?this._clipboxShaderChunkFS||"":(a=Z[J])?CL(a,!0):DR.getShaderChunk(J)},_releaseGLResource:function(){var a=this,J=a.getGL();if(J){J._renderInfo&&a._doBufferGC(J,!0),a._glPrograms.dispose(),GL(a._canvas,0,0),["_highlightHelper","shadowMap","flowMap","_envmapRenderer","_postProcessing","_depthPeelingRenderer"].forEach(function(J){(J=a[J])&&J.dispose()});var z,U,g,V=a._25I;for(U in V)(z=V[U])&&z.dispose();for(g in a._2O)a.deleteTexture(g);for(g in J)"string"==typeof g&&"_"===g[0]&&(nJ(a,J[g]),delete J[g]);return a._1o.dispose(),!0}},dispose:function(J){this._releaseGLResource()&&(this.fireViewEvent("dispose"),J&&this.forceLoseContext(),this._26I=WR)},hibernate:function(){this._releaseGLResource()&&(this.fireViewEvent("hibernate"),this._hibernating=!0,this._26I=WR)},wakeup:function(){delete this._hibernating,this.iv(),this.fireViewEvent("wakeup")},disposeAllPrograms:function(){this._glPrograms.dispose()},forceLoseContext:function(){var J=this.getGLExtension("WEBGL_lose_context");J&&(this._26I=WR,J.loseContext(),this._35O=!0,this._loseContextExt=J)},forceRestoreContext:function(){var J=this._loseContextExt||this.getGLExtension("WEBGL_lose_context");J&&J.restoreContext()},getShadowMap:function(){return this.shadowMap},invalidateShape3dAttribute:function(J,a){delete J._complete_,(J=J[a])&&J._bufId&&delete J._bufId},getEnvmap:function(){return this._glCapabilities&&this._glCapabilities.maxVertexTextures<DR.graph3dEnvmapCapabilityRequire?null:this.dm().getEnvmap()},getEnvmapType:function(){var J,a=this.dm();return(a?a.getEnvmapType():J)||"legacy"},setEnvmapExtraQuaternion:function(J){this._envmapExtraQuaternion=J instanceof t.Quaternion?J.clone().inverse().toArray():null},invalidateEnvmap:function(J){return this._envmapRenderer.invalidateEnvmap(J)},invalidateEnvmapUsedByMaterial:function(J){return this._envmapRenderer.invalidateEnvmapUsedByMaterial(J)},isEnvmapUsedByMaterialReady:function(J){return this._envmapRenderer.isEnvmapUsedByMaterialReady(J)},_setEnvmapByProbeId:function(J,a,z){return this._envmapRenderer.setEnvmapByProbeId(J,a,z)},_tryInvalidateEnvmap:function(){var J=this.getEnvmapType();J!==this._lastProgramEnvmapType&&(this._envmapRenderer.changeEnvmapType(this._lastProgramEnvmapType=J),this.iv())},acquireProgram:function(J,a){return this._glPrograms.acquireProgram(J,a)},resolveIncludes:function(J){return this._glPrograms.resolveIncludes(J)},renderModel:function(J,a,z,U,g){g&&!1===g.restoreViewport||z&&!1===z.restoreViewport||a&&!1===a.restoreViewport||(V=(V=this.getViewport())&&gu(V));var V,J=this._postProcessing.blitScreen(J,a,z,U,g);return V&&this.setViewport(this.getGL(),V[0],V[1],V[2],V[3]),J},renderPrefab:function(){return this.renderModel.apply(this,arguments)},getModel3dCompMatrix:function(J,a){return this._prefabRenderer.calcMatrix(J,a,this)},isGLTempRegisterLimited:function(){return this._glTempRegisterLimited},getBrightness:function(J){var a=J.s("brightness"),J=this.isSelected(J)?J.s("select.brightness"):WR;return a==WR?J:J==WR?a:a*J},getDataHighlightMode:function(J){return J.s("highlight.mode")},getWireframe:function(J){var a=J.s("wf.visible"),z=J.s("wf.width");if(!0===a||0<z&&"selected"===a&&this.isSelected(J))return{color:J.s("wf.color"),width:z,short:J.s("wf.short"),mat:J.s("wf.mat")}},getPartPosition:function(J,a,z,U){return U=U||mH,[(J=this.getData3dUI(J)._16O(U.autoRotate,a,WR,z||Ue,U.t3,U.r3,U.rotationMode))[12],J[13],J[14]]},_transformPointToViewSpace:function(J){return J=[J[0],J[1],J[2]],tu(J,this._viewMatrix),J},_transformDirectionToViewSpace:function(J,a){var J=J?[J[0],J[1],J[2]]:[0,0,0],a=(tu(J,this._viewMatrix),a?[a[0],a[1],a[2]]:[0,0,0]),z=(tu(a,this._viewMatrix),a[0]-J[0]),U=a[1]-J[1],a=a[2]-J[2];return(J=Math.sqrt(z*z+U*U+a*a))?[z/J,U/J,a/J]:[z,U,a]},getWireframeGeometry:function(J){if(J.s("wf.geometry"))return{color:J.s("wf.color"),width:J.s("wf.width"),mat:J.s("wf.mat"),geometry:!0}},getBodyColor:function(J){return J.s("body.color")},getMat:function(J){return J.getMat?J.getMat():J.s("mat")},getFaceMat:function(J,a){return J.getFaceMat?J.getFaceMat(a):J.s(a+".mat")},getFaceBlend:function(J,a){return J.s(a+".blend")||J.s("all.blend")},getFaceColor:function(J,a){return J.s(a+".color")||J.s("all.color")},getFaceImage:function(J,a){return J.s(a+".image")||J.s("all.image")},getFaceBlendImage:function(J,a){return J.s(a+".blend.image")||J.s("all.blend.image")},getFaceDiscardSelectable:function(J,a){return(a=J.s(a+".discard.selectable"))==WR?J.s("all.discard.selectable"):a},getFaceUv:function(J,a){return J.s(a+".uv")||J.s("all.uv")},getFaceUvOffset:function(J,a){return J.s(a+".uv.offset")||J.s("all.uv.offset")},getFaceUvScale:function(J,a){return J.s(a+".uv.scale")||J.s("all.uv.scale")},getFaceUvRotation:function(J,a){return J.s(a+".uv.rotation")||J.s("all.uv.rotation")},getFaceUvAnchor:function(J,a){return J.s(a+".uv.anchor")||J.s("all.uv.anchor")},getFaceLight:function(J,a){return(a=J.s(a+".light"))==WR?J.s("all.light"):a},getFaceVisible:function(J,a){return(a=J.s(a+".visible"))==WR?J.s("all.visible"):a},getFaceOpacity:function(J,a){return(a=J.s(a+".opacity"))==WR?J.s("all.opacity"):a},getFaceTransparent:function(J,a){return(a=J.s(a+".transparent"))==WR?J.s("all.transparent"):a},getFaceReverseColor:function(J,a){return J.s(a+".reverse.color")||J.s("all.reverse.color")},getFaceReverseFlip:function(J,a){return(a=J.s(a+".reverse.flip"))==WR?J.s("all.reverse.flip"):a},getFaceReverseCull:function(J,a){return(a=J.s(a+".reverse.cull"))==WR?J.s("all.reverse.cull"):a},getFaceMaterial:function(J,a){return(a=J.s(a+".material"))==WR?J.s("all.material"):a},isPicking:function(){return this._picking},renderPickScene:function(J){var a=this.getGL();a&&(this.syncRenderState(),this._picking=a._picking=!0,this._dynamicRatio=J,this.renderScene(),this._picking=a._picking=!1,this._dynamicRatio=xR)},invalidateCachedGeometry:function(J){var a=this.getData3dUI(J);a&&(a.invalidateCachedGeometry(),this.invalidateData(J))},invalidateCachedWireframe:function(z){var J,U;z instanceof m.Data?(J=this.getData3dUI(z))&&(delete J._shapeModelCacheForWf,(J=J.shapeModel||l9(J))&&(lX(J),z.iv())):z&&(lX(z),(U=this).dm().each(function(J){var a=U.getData3dUI(J);a&&(a.shapeModel||l9(a))===z&&J.iv()}),this.iv())},isInteractive:function(J){return J.s("interactive")},redraw:function(){this.iv()},redrawLoop:function(){var J,a=this;a._redrawState||(a._redrawState=!0,(J=function(){a._redrawState&&(a.redraw(),requestAnimationFrame(J))})())},stopRedrawLoop:function(){this._redrawState&&delete this._redrawState},validateImpl:function(){var z,U,g,V,J=this;J._hibernating||(J._lightChanged&&(J._lightChanged=!1,z=[],U=[],g=[],V=[],J.dm().each(function(J){var a;r2(J)&&("point"===(a=J.s("light.type"))?z.push(J):"spot"===a?U.push(J):"directional"===a?g.push(J):"rect"===a&&V.push(J))}),J._59O=z,J._spots=U,J._dirs=g,J._87I=V),J._attributes&&!1===J._attributes.autoDraw||J._42(),J._1o.iv())},getRenderInfo:function(){var J=this.getGL();if(J)return J._renderInfo},getDebugTip:function(){var J,a,z,U,g,V=this.getRenderInfo();if(V)return a=(J=this.getGL())._validBufCount||0,a="Draw Calls: "+V.calls+"<br/>Vertices: "+V.vertices+"<br/>Faces: "+V.faces+"<br/>Lines: "+V.lines+"<br/>"+(V.points?"Points: "+V.points+"<br/>":"")+"Buffers: "+a+"<br/>Programs: "+(J._validProgramCount||0)+"<br/>Cache Models: "+pR.keys(OH).length+"<br/>Shape3d Models: "+pR.keys(FH).length,(U=this.getPresentingReality())&&(a+="<br/>VR fps: "+U.getFps()),V.textureCache&&(U=V.textureCache.count,a+="<br/>2D Dynamic Textures: "+V.textureCache.count,0<U&&(a+="<br/>2D Dynamic pixels: "+(1e6<(U=V.textureCache.pixels)?Math.round(U/1e6)+"M":1e3<U?Math.round(U/1e3)+"K":Math.round(U)))),a+="<hr>WebGL "+(this.isWebGL2()?"2.0":"1.0"),(V=J._debugRendererInfo)===xR&&((U=this.getGLExtension("WEBGL_debug_renderer_info"))&&(V=J.getParameter(U.UNMASKED_RENDERER_WEBGL))?((U=V.match(oH))&&5<U.length&&(z=U[3],U=U[5],V=(g=z.match(/ (Direct3D|OpenGL)/))?z.substr(0,g.index)+"<br/>"+z.substr(g.index+1):z+(U?"<br/>"+U:"")),J._debugRendererInfo=V):V=J._debugRendererInfo=null),V&&(a+="<br/>"+V),a},getFrameState:function(){return this._frameState},isBoundingBoxInView:(Rt=new m.Math.Box3,Ct=new m.Math.Matrix4,function(J){if(!(J=J instanceof m.Data?this.getData3dUI(J):J)||!J.mat)return!0;var a=J.getBoundingBox(!0);return Rt.copy(a).applyMatrix4(Ct.fromArray(J.mat)),this.getFrustum().intersectsBox(Rt)}),updateScene:function(){var a=this,z=(a.emitPreUpdate(),a._81O=WR,a.overlappingBox.clear(),a.initSkeletonDatas(),a._40Q),U=(z.init(),a.getGL()),J=a.dm();if(J.isHierarchicalRendering())J.eachByHierarchical(function(J){(J=a.getData3dUI(J))&&J.update(a,U,z)});else for(var g,V=J.getDatas().getArray(),Y=V.length,c=0;c<Y;c++)g=V[c],(g=a.getData3dUI(g))&&g.update(a,U,z);this._updateBoxClipperMatrix(),z.onUpdated(),a.emitPostUpdate()},_pushFrameRenderOptions:function(J){this._frameRenderOptionStack.push(this._currentFrameRenderOptions),this._currentFrameRenderOptions=J},_popFrameRenderOptions:function(J){this._currentFrameRenderOptions=this._frameRenderOptionStack.pop()},_getFrameRenderOptions:function(J){var a=this._currentFrameRenderOptions;return a&&a[J]},getRenderLists:function(){return this._40Q},_setCurrentFrameRenderId:function(J,a){var z=this._renderId++;J._renderInfo.renderId=z,this._glPrograms.setCurrentFrameRenderId(z),a&&this._glUbos.setCurrentFrameRenderId(z)},renderScene:function(J){var U=this,g=U.getGL();if(g){var V,Y,a,c=U._picking,u=(c||U.emitPreRender(),U._setCurrentFrameRenderId(g,!1),U.genProgramDefines(),U._frameState),H=(U._prg=u.defaultProgram=U.acquireProgram({type:c?"pick":"legacy",defines:{}}),U._pushFrameRenderOptions(J),u.setGLState(!1,!0),!1!==U._getFrameRenderOptions("renderShadowMap")&&U.shadowMap.render(),U.flowMap.render(),U._envmapRenderer.onBeforeRender(g),U._44Q=-1,u.renderState),J=H.glState,z=U._prg,M=(U._setupPVMatrix(),Math.tan(U.getFovy()/2)),I=(U._lodConst=1/(4*M*M*U.getAspect()),this._glUbos.setCurrentFrameRenderId(this._renderId),U.isReflecting(g)||ZJ(U._projScreenMatrix=mu(),U._projectMatrix,U._viewMatrix),u.syncEnv(c?this.pickColorMap:xR),H.useProgram(z),w(!1,!1,!0),g.clear(256),this._41Q),e=0,Q=I.length;if(p(DR.cameraPriority.skybox),c?(a=J.color.clear.slice(0),OJ(g,[0,0,0,0]),p(DR.cameraPriority.main)):(OJ(g,[0,0,0,0]),J.blend.enabled=!1,J.depth.enabled=!1,J.depth.mask=!1,U._camera&&!1===U._camera.s("camera.renderSky")||U.drawSky(g,z),p(DR.cameraPriority.main),!1!==U._getFrameRenderOptions("renderReflector")&&U.drawReflectors(g)&&(U._setupPVMatrix(),u.syncEnv(),w(!0),U._setCurrentFrameRenderId(g,!0)),J.blend.enabled=!1,J.depth.enabled=!0,J.depth.mask=!0,(V.uTransparent=!1)!==U._getFrameRenderOptions("renderGrid")&&U._31O._42(g)),!g.textureBatch||MR[(ONE_FRAME_TIME-6)/2]){c||(U.shadowMap.enable&&U.shadowMap.createShadow(V),U.rebindOITTexture(V),U.flowMap.createFlow(V));for(var v=U._sortedRenderLayers,Z=0,k=v.length;Z<k;Z++){var E=v[Z],i=U.getRenderLayerInfo(E);!(U._camera||!i.ignore||i.renderForBloom&&g._blooming)||U._camera&&!U._camera.isLayerVisible(E)||(p(i.priority)&&!c&&(U.shadowMap.enable&&U.shadowMap.createShadow(V),U.rebindOITTexture(V),U.flowMap.createFlow(V,!0)),this.renderLayer(E))}p(DR.cameraPriority.infinity),c||(U._renderBonesForDebug(g,J),U.flowMap.disableFlow(V)),YJ(U,V,0,DR.graph3dViewHeadlightAmbientIntensity),V.uHeadlightColor=[1,1,1,0],V.uUseEnvMap=!1,V.uHeadlightDirection=[0,0,0],V.uHeadlightRange=0,J.depth.enabled=!1,V.uTransparent=!1,V.shadowReceive=!1,LJ(U,V,l2),c?U.drawFilter||U._30O._42(g):(U._highlightHelper._42(g),this._renderAxisAndEditHelper(!1!==U._getFrameRenderOptions("renderAxis"),!1!==U._getFrameRenderOptions("renderEdit")),J.blend.enabled=!1,J.depth.mask=!0),J.depth.enabled=!0,c&&OJ(g,a),_J(g,WR),tJ(g,WR),U._44Q=-1,U._popFrameRenderOptions(null),U._glPrograms.disableAttributes(g),c||U.emitPostRender()}}function w(J,a,z){J&&(H.syncLoss(),u.setGLState(a,z)),u.setUniforms(a),Y=H.attribs,V=H.directUniforms(),Y.disable()}function p(J){if(!0!==U._getFrameRenderOptions("ignoreExternalCamera")){for(var a=!1;e<Q;e++){var z=I[e];if(!c||!z.ignoreInPick){if(z.priority>=J)break;U._43Q[U._44Q=z.id]&&!MR[fe.length]||(z.render(g,U,u),w(!0),a=!0)}}return a}}},_renderAxisAndEditHelper:function(J,a){if(!J&&!a)return!1;var z=this.getGL(),U=this._frameState,g=(V=U.renderState).glState,V=V.directUniforms();return U.renderState.attribs.disable(),g.depth.enabled=!1,V.uTransparent=!1,V.shadowReceive=!1,g.blend.enabled=!1,g.depth.mask=!0,(U=!this._fogDisabled)&&(V.uFog=!1),J&&this._32O._42(z),a&&this._30O._42(z),U&&(V.uFog=!0),_J(z,WR),tJ(z,WR),!0},renderLayers:function(J,a){for(var z=0,U=(J=a?fD(J):J).length;z<U;z++)this.renderLayer(J[z])},renderSky:function(){var J=this._frameState,a=J.renderState,z=a.glState,U=this.getGL(),g=this._prg;this._setupPVMatrix(),ZJ(this._projScreenMatrix=mu(),this._projectMatrix,this._viewMatrix),J.syncEnv(),a.useProgram(g),J.setGLState(!1,!0),J.setUniforms(!1),J.renderState.attribs.disable(),U.clear(256),OJ(U,[0,0,0,0]),z.blend.enabled=!1,z.depth.enabled=!1,z.depth.mask=!1,this.drawSky(U,g),z.depth.mask=!0,z.depth.enabled=!0,_J(U,WR),tJ(U,WR)},addRenderLayerListener:function(J,a,z){this._renderLayerNotifier||(this._renderLayerNotifier=new mD),this._renderLayerNotifier.add(J,a,z)},removeRenderLayerListener:function(J,a){this._renderLayerNotifier&&this._renderLayerNotifier.remove(J,a)},fireRenderLayerEvent:function(J,a){var z=this._renderLayerNotifier;z&&z.fire({layer:J,phase:a})},renderLayer:function(J){var a=this,z=a._picking;if(Z=a._40Q.get(J)){a.fireRenderLayerEvent(J,"prepare");var U,g,V,Y=a.getGL(),c=a.getRenderLayerInfo(J),u=(H=a._frameState.renderState).glState,H=H.directUniforms(),M=(!z&&a.isSortable()&&Z.sort(a._sortFunc,a._projScreenMatrix,a.isOpaqueSortable()),Z.resetModel3dInstancedDraw(),Z.opaque),I=Z.transparent,e=Z.batchModelMap,Q=Z.batchIndexMap,v=Z.polylineModelMap,Z=Z.wireframeModelMap,Y=a.getGL(),k=a._prg,E=(z||(u.blend.enabled=!1,u.depth.enabled=!0,u.depth.mask=!0),(H.uTransparent=!1)!==c.clearDepth&&Y.clear(256),this.drawFilter);if(E){for(U=0,g=(V=M).length;U<g;U++)!0!==E(V[U].data)&&V[U].ui._42(Y,k,p);if(z)for(U=0,g=(V=I).length;U<g;U++)V[U].ui._46Q(Y);z9(a,e,Q)}else{for(U=0,g=(V=M).length;U<g;U++)V[U].ui._42(Y,k,p);if(z)for(U=0,g=(V=I).length;U<g;U++)V[U].ui._46Q(Y);z9(a,e,Q),J9(a,v),J9(a,Z)}if(a.fireRenderLayerEvent(J,"opaque"),z||(u.blend.enabled=!0,u.depth.mask=!1),a._45Q=H.uTransparent=!0,E){for(U=0,g=(V=I).length;U<g;U++)!0!==E(V[U].data)&&V[U].ui._42(Y,k,L);z9(a,e,Q,0,!0)}else{if(z||!a._oitEnabled||a.isReflecting(Y)||Y._blooming){for(U=0,g=(V=I).length;U<g;U++)V[U].ui._42(Y,k,L);z9(a,e,Q,0,!0)}else a._depthPeelingRenderer.render(I,e,Q);J9(a,v,0,!0),J9(a,Z,0,!0)}a._45Q=null,a.fireRenderLayerEvent(J,"transparent"),a.fireRenderLayerEvent(J,"post")}},isRenderTransparent:function(){return!!this._45Q},_42:function(J,a){var z=this;if(!z._35O&&(!d||MR(d))){var U=z.getWidth(),g=z.getHeight();if(U&&g){var V=z.getGL();if(V){var Y=z._canvas,c=(J?c=!0:J=z.getDevicePixelRatio(),z._picking||!c&&U===Y.clientWidth&&g===Y.clientHeight||(GL(Y,U,g,J),c=J,U&&1<Math.abs(V.drawingBufferWidth-U*J)&&(c=Math.min(c,V.drawingBufferWidth/U)),(c=g&&1<Math.abs(V.drawingBufferHeight-g*J)?Math.min(c,V.drawingBufferHeight/g):c)!==J&&(z.setDevicePixelRatio(J=c),GL(Y,U,g,J)),z._18Q=null,z._tryFireAspectEvent()),z._attributes&&!1===z._attributes.autoClear||V.clear(16384),V._renderInfo);if(c){c.calls=0,c.vertices=0,c.faces=0,c.lines=0,c.points=0,c.textureCache={time:0,count:0,pixels:0},c.frame=++z._frameId,c.cacheTimeCost=0,c.reflectDepth=0,z.__uptime=(Date.now()-z.__startTime)/1e3,U=Y.width,g=Y.height,z._gatherRenderLayersByPriority(),Y=(c=this._frameState).renderState,c&&Y&&(Y.syncLoss(),c.setGLState()),z.emitPreFrame(),z._glPrograms.checkParallelLinkStatus();do{var u=z.getRealities();if(u){var H,M=!1;for(H in u)if(z.isRealityEnabled(H)&&(M=u[H].render(V,U,g,a)))break;if(M)break}z.updateScene();var I=z._4JQ}while((I||!z._postProcessing.render(V,U,g,a,0<z._transmissionObjects.length&&z.isTransmissionEnabled()||z._oitEnabled||z._depthGrabber.isEnabled()))&&(z.setViewport(V,0,0,U,g),I?z.renderPickScene(J):z.renderScene(a),0));z._33Q=!1,z.countFrame(),z.emitPostFrame(),z._doBufferGC(V),z._glPrograms.scheduleProgramGC(z._shaderGCInterval||500)}}}}},drawImmediately:function(J,a,z){if(J){var U=this.getGL();if(!U)return!1;_2(U,J),this._42(a,z),h2(U)}else this._42(a,z)},_4IQ:function(J){this._4JQ=J,this.iv()},syncRenderState:function(){var J;(J=this._frameState)&&(J=J.renderState)&&J.syncLoss()},drawReflectors:function(J){J._renderInfo.reflectDepth++;var a,z,U=this._dataModel.getReflectors(),g=!1;for(a in U)z=U[a],!this.isVisible(z)||1<J._renderInfo.reflectDepth&&!1===z.s("3d.reflectable")||(z=this.getData3dUI(z))&&z.drawReflector&&z.drawReflector(J)&&(g=!0);return J._renderInfo.reflectDepth--,g},isReflecting:function(J){return J._renderInfo.reflectDepth},isOITProcessing:function(){return this._programDefines.OIT},isRenderSceneForBloom:function(){var J=this.getGL();return!!J&&!!J._blooming},getPostProcessing:function(){return this._postProcessing},enablePostProcessing:function(J,a){return this._postProcessing.enableModule(J,a)},getPostProcessingModule:function(J){return this._postProcessing.getModule(J)},getPostProcessingValue:function(J,a){return(J=this._postProcessing.getModule(J))?J[a]:xR},setPostProcessingValue:function(J,a,z){var U=this.getPostProcessingValue(J,a),g=this._postProcessing.getModule(J);g&&U!==z&&("enable"===a?this.enablePostProcessing(J,z):g[a]=z,this.firePropertyChange("postProcessing."+J+"."+a,U,z))},setDofImageFromGraphView:function(J,a,z){return this._postProcessing.getModule("Dof").setImageFromGraphView(J,a,z)},setViewport:function(J,a,z,U,g){this._viewport=[a,z,U,g],RR.for(J).directState().viewport=this._viewport},getRenderState:function(){return RR.for(this._26I)},getFlowBlendModeMacro:function(){return YA[this.getFlowBlendMode()]||YA[DR.graph3dViewFlowBlendMode]},genProgramDefines:function(){var J=this,a=(a=J.getEnvmap())&&a.length,z=((a={NUM_DIR_LIGHTS:J._dirs.length,NUM_SPOT_LIGHTS:J._spots.length,NUM_POINT_LIGHTS:J._59O.length,MAX_BOX_CLIPPER:J._boxClippers.length,BOX_CLIPER_TYPES:J._boxClipperTypes,MAX_FLOW_OBJECT:J._flowObjects.length,FOG:!J._fogDisabled,FOG_EXP2:"exp2"===J.getFogMode(),UV_CLIP:!!J._uvClipEnabled,USE_ENVMAP:!!a,ENVMAP_TYPE_CUBE_UV:"legacy"!==J.getEnvmapType(),DASH:!J._dashDisabled,ENVMAP_ROTATE:null!=J._envmapExtraQuaternion,BATCHCOLOR:!J._batchColorDisabled,BATCHINSTANCE:!J._batchInstancedDisabled,BATCHBLEND:!J._batchBlendDisabled,BATCHBRIGHTNESS:!J._batchBrightnessDisabled,LEGACY_BACKFACE_USING_NORMALS:J._backfaceUsingNormals})[J.getFlowBlendModeMacro()]=!0,J.shadowMap.enable&&J.shadowMap.genShaderDefine(a),J._glPrograms);return z&&z.genPhysicalProgramKeyOfScene(J._programDefines=a),a},getViewport:function(){return this._viewport},setBufferGCInterval:function(J){this._bufferGCInterval=J},setShaderGCInterval:function(J){this._shaderGCInterval=J},releaseGLBuffer:function(J){var a=this.getGL();if(!a)return!1;if(!J)return this._doBufferGC(a,!0),!0;if(!(J=J._bufId))return!1;var z=a._4NQ,U=z[J];return!!U&&(a.deleteBuffer(U._buf),U._buf=null,z[J]=null,a._validBufCount=Math.max(0,a._validBufCount-1),this.iv(),!0)},_doBufferGC:function(J,a){var z,U,g=J._4NQ,V=0,Y=0,c=J._renderInfo.frame,u=this._bufferGCInterval||10;for(z in g)V++,(U=g[z])&&(a||c-U._fid>u?(J.deleteBuffer(U._buf),U._buf=null,g[z]=null):Y++);if(Y<V/2&&128<V){var H={};for(z in g)g[z]&&(H[z]=g[z]);J._4NQ=H}J._validBufCount=Y},_swapLineMap:function(){var J=this;sR=J._polylineModelMap,J._polylineModelMap=J._polylineModelMapSwap,J._polylineModelMapSwap=sR,sR=J._wireframeModelMap,J._wireframeModelMap=J._wireframeModelMapSwap,J._wireframeModelMapSwap=sR,sR=J._polylineIndexMap,J._polylineIndexMap=J._polylineIndexMapSwap,J._polylineIndexMapSwap=sR,sR=J._wireframeIndexMap,J._wireframeIndexMap=J._wireframeIndexMapSwap,J._wireframeIndexMapSwap=sR},_updateSkybox:function(J){var a,z,U,g,V,Y,c,u,H;this._skybox&&J&&(J=J.property,a=!1,z=this._skybox,"eye"!==J&&"forceUpdate"!==J||(U=this._camera?this._camera.getEye():this._eye,z.p3(U[0],U[1],U[2]),a=!0),"near"!==J&&"far"!==J&&"aspect"!==J&&"forceUpdate"!==J||(U=(U=z.__cachedS3__)||(z.__cachedS3__=z.getFinalScale3d()),J=UR(U[0],U[1],U[2])/2,g=("sphere"===z.s("shape3d")?zR(U[0],U[1],U[2]):wR(U[0]*U[0]+U[1]*U[1]+U[2]*U[2]))/2,V=this._near,Y=this._far,H=Math.tan(this.getFovy()/2)*V,c=this.getAspect()*H,c=wR(c*c+H*H+V*V),c=1.01*zR(c,wR(3)*V),u=1,J<c?u=c/J:Y<=g&&(u=Y*Y/(V+Y)/g),u!==1/0&&1!==u&&(z.__updatingSkybox__=!0,H=U.map(function(J){return u*J}),z.s3(H),z.setScale3d(1,1,1),a=!0,delete z.__updatingSkybox__)),a&&this.invalidateData(z))},getSkyBox:function(){return this.getSkybox()},setSkyBox:function(J){return this.setSkybox(J)},getSkybox:function(){return this._skybox},setSkybox:function(a){var z,J=this._skybox;J===a?a&&this._updateSkybox({property:"forceUpdate"}):(J&&(this._skyboxStyleMap&&J.setStyleMap(this._skyboxStyleMap),this._skyboxStyleMap=null,this._skyboxAnchor3d&&J.setAnchor3d(this._skyboxAnchor3d),this._skyboxAnchor3d=null,this._skyboxP3&&J.p3(this._skyboxP3),this._skyboxP3=null,this.handleDataModelChange({kind:de,data:J})),this._skybox=a,this.ump(this._updateSkybox,this),a&&(a.removeFromDataModel(),this._skyboxStyleMap=m.Default.clone(a.getStyleMap()),this._skyboxAnchor3d=a.getAnchor3d(),a.setAnchor3d(.5,.5,.5),this._skyboxP3=a.p3().slice(0),a.s({"shape3d.reverse.flip":!0,"shape3d.reverse.cull":!1,"all.reverse.flip":!0,"all.reverse.cull":!1,"front.reverse.flip":!0,"front.reverse.cull":!1,"back.reverse.flip":!0,"back.reverse.cull":!1,"left.reverse.flip":!0,"left.reverse.cull":!1,"right.reverse.flip":!0,"right.reverse.cull":!1,"top.reverse.flip":!0,"top.reverse.cull":!1,"bottom.reverse.flip":!0,"bottom.reverse.cull":!1}),z=a.onPropertyChanged,a.onPropertyChanged=function(J){z.call(a,J),!a.__updatingSkybox__&&0<=["width","height","tall","scale","scaleTall"].indexOf(J.property)&&(a.__cachedS3__=xR)},this.mp(this._updateSkybox,this),this._updateSkybox({property:"forceUpdate"})),this.fp("skybox",J,a))},drawSky:function(J,a){var z,U,g,V,Y,c,u,H,M,I,e,Q,v=this,Z=v._skybox;Z&&(V=g=0,v._camera&&!1===v._camera.s("camera.skybox.blur")||(g=Z.s("skybox.blur.size"),V=Z.s("skybox.blur.resolution"),0===g&&0===V||(u=V||v.getDevicePixelRatio(),(z=J._blurRTT)||(z=J._blurRTT=new B.RenderTarget(v,null,null,{})),Y=v.getWidth()*u,u=v.getHeight()*u,z.setSize(J,Y,u),U=gu(v._viewport),v.setViewport(J,0,0,Y,u),z.bind(J))),Y=RR.for(J).directUniforms(),u=v._headlightIntensity,c=tQ(v._headlightColor),a=v._prg,1!==u&&(c=[c[0]*u,c[1]*u,c[2]*u]),Y.uHeadlightColor=[c[0],c[1],c[2],1],(u=v.getData3dUI(Z))&&((M=(H=v.isOrtho())||this._computedProjectMatrix)&&(I=v._projectMatrix,H&&(v._ortho=!1),Y.uProjectMatrix=v._projectMatrix=DJ(v,!0)),Q=Z.p3(),e=(this._camera||this).getEye(),Q[0]===e[0]&&Q[1]===e[1]&&Q[2]===e[2]||(Z._position.x=e[0],Z._54O=e[1],Z._position.y=e[2]),u.validate(),u._42(J,a,E),M&&(H&&(v._ortho=!0),Y.uProjectMatrix=v._projectMatrix=I)),J.clear(256),Y.uHeadlightColor=[c[0],c[1],c[2],v._headlightDisabled?1:0],0===g&&0===V||(z.unbind(J),0!==g&&(Q=v.getPostProcessingModule("Blur"))&&Q.drawImpl(J,z,g,!1,4<g?4:2<g?3:1<g?2:1),v.setViewport(J,U[0],U[1],U[2],U[3]),v.renderModel(null,{type:"blitScreen",image:z.texture,defines:{DITHERING:!1}},{clear:!1})))},getLogicalPoint:function(J){return Ru(J,this._canvas)},isRectOverlapping:function(J){return this.getData3dUI(J)._rectOverlapping},getHitFaceInfo:function(J){J.target&&(J=this.lp(J));var a=this.getDataInfoAt(J);return a&&(J=this.intersectObject(J,a.data))?{data:a.data,face:J.part}:WR},unproject:function(J,a){var z=this.getWidth(),U=this.getHeight(),z=((J=J.target?this.lp(J):J).x-z/2)/z*2,J=-1*(J.y-U/2)/U*2,U=(a=a||0,mu()),g=DJ(this),V=WJ(this);return ZJ(U,g,V),eJ(U),[(g=ru([z,J,a,1],U))[0]/g[3],g[1]/g[3],g[2]/g[3]]},getDataAt:function(J){return(J=this.getDataInfoAt(J))?J.data:WR},getDataInfoAt:function(J,a,z){return J.target&&(J=this.lp(J)),this._1o.get(IL(J.x,J.y,a),!0,z)},getDataInfoDuringInteract:function(J,a){var z=this.getDataInfoAt(J);if(!this.isBlockSelectable()||!z||!z.data)return z;if(!a&&this.isSelected(z.data))return z;if(DR.blockThroughContinuous&&(J=this.sm().ld())&&J.getParent()instanceof m.Block&&this.dm().getSiblings(J).contains(z.data))return z;for(var U=z.data;(U=U.getParent())&&U instanceof m.Block&&this.isSelectable(U);){var g=this.isSelected(U);if(g&&a)break;if(z={data:U,part:z.part},g&&!a)break}return z},getDatasInRect:function(J,a){return this._1o.get(J,!1,a)},setEditable:function(J){var a=this._editable;this._editable=J,this.fp(pq,a,J)},isEditable:function(J){return J?!!this._editable&&!!b(J)&&!!J.s("3d.editable")&&(!this._editableFunc||this._editableFunc(J)):this._editable},isSelectable:function(J){return J.s("3d.selectable")&&this.sm().isSelectable(J)},isMovable:function(J){return(!wL(J)||J.getStyle(Be)===ne)&&!!J.s("3d.movable")&&(!this._movableFunc||this._movableFunc(J))},isSizeEditable:function(J){return!!b(J)&&(!this._sizeEditableFunc||this._sizeEditableFunc(J))},isRotationEditable:function(J){return!(!b(J)||!1===J.IRotatable)&&(!this._rotationEditableFunc||this._rotationEditableFunc(J))},handleDelete:function(J){this._editable&&this.removeSelection()},zoomIn:function(J){this.setZoom(Am,J)},zoomOut:function(J){this.setZoom(1/Am,J)},setZoom:(dt=new qR,jt=new qR,qt=new qR,Xt=new qR,function(J,a){if(1!==J){var z=this;z._14o&&z._14o.stop(!0);var U,g=1/J,V=(dt.copy(z.getCenter()),jt.copy(z.getEye()),z._ortho);if(V){if((U=z._orthoWidth)<z._moveStep&&1<J)return}else if(dt.distanceTo(jt)<z._moveStep&&g<1)return;var Y=!1;if(!1===z._zoomToCenter&&z._lastZoomLP&&(qt.copy(jt).sub(dt).normalize(),z._81O=null,Xt.copy(z.getHitPosition(z._lastZoomLP,dt.toArray(),qt.toArray())),Y=!0,z._lastZoomHit=Xt),a=jL(a))return a.action=function(J){z.fi({kind:z._zooming?"betweenZoom":"beginZoom"}),z._zooming=1,J=(g-1)*J+1,V&&z.setOrthoWidth(U*J),Y?(z.setEye(qt.lerpVectors(Xt,jt,J).toArray()),z.setCenter(qt.lerpVectors(Xt,dt,J).toArray())):V||z.setEye(qt.lerpVectors(dt,jt,J).toArray())},a._37o=function(){delete z._14o,delete z._zooming,z.fi({kind:"endZoom"}),z.onZoomEnded()},z._14o=Yu(a);V&&z.setOrthoWidth(U*g),Y?(z.setEye(qt.lerpVectors(Xt,jt,g).toArray()),z.setCenter(qt.lerpVectors(Xt,dt,g).toArray())):V||z.setEye(qt.lerpVectors(dt,jt,g).toArray())}}),setOutsidePickSource:function(J){this.pickColorMap._outside=J},setModelMatrixProcess:function(J,a){this._modelMatrixProcess!==J&&(this._modelMatrixProcess=J,this.invalidateAll()),this._modelMatrixReverseProcess=a},hasModelMatrixProcess:function(){return!!this._modelMatrixProcess},processModelMatrix:function(J){if(!this._modelMatrixProcess)return J;try{return this._modelMatrixProcess(J)}catch(J){return xR}},reverseProcessModelMatrix:function(J){if(!this._modelMatrixProcess)return J;if(!this._modelMatrixReverseProcess)return xR;try{return this._modelMatrixReverseProcess(J)}catch(J){return xR}},createNodeFinalMatrix:function(J,a){if(!this._modelMatrixProcess)return a||gD(J,this.getMat(J));var z,U=this.getData3dUI(J);return U.s("shape3d.distortion.ignore")?a||gD(J,this.getMat(J)):U.s("autorotate")||U.s("shape3d.autorotate")?(U=VD(WR,WR,WR,"xzy",J.p3(),WR,WR),U=this._modelMatrixProcess(U),(z=VD(WR,J.getFinalScale3d(),J.getFinalRotation3d(),J.getRotationMode(),WR,WR,this.getMat(J)))[12]=U[12],z[13]=U[13],z[14]=U[14],z):a?this._modelMatrixProcess(a):(U=gD(J,this.getMat(J)),this._modelMatrixProcess(U))},setOrthoZoom:function(J,a){return this.setZoom(J,a)},getPositionInfo:function(J){var a=this._eye,z=this._center,U=this.getAspect(),J=J?su(Au(z,a,!0),Au(J,a)):pu(a,z);return this._ortho?{length:J,height:(a=this._orthoWidth)/U,width:a}:{length:J,height:z=bR(this._fovy/2)*J*2,width:z*U}},getCenterInfo:function(){return this._81O||(this._81O=this.getPositionInfo()),gu(this._81O)},rotate:function(z,U,J,g){var V=this;if(z||U){g==WR&&(g=V._firstPersonMode),V._88O&&V._88O.stop(!0);var a=V._center,Y=V._eye,c=V.getCenterInfo().length,u=g?a:Y,H=g?Y:a,M=Au(u,H),I=SR(M[0],M[2]),e=SR(wR(M[0]*M[0]+M[2]*M[2]),M[1]),Q=g?He:Me;if(g&&(U=-U),J=jL(J))return J.action=function(J){V.fi({kind:V._rotating?"betweenRotate":"beginRotate"}),V._rotating=1;var a=I+z*J,J=e+U*J,J=g?y-cJ(V,y-J):cJ(V,J);M[0]=c*eR(J)*eR(a),M[1]=c*KR(J),M[2]=c*eR(J)*KR(a),u[0]=H[0]+M[0],u[1]=H[1]+M[1],u[2]=H[2]+M[2],V.fp(Q,WR,u)},J._37o=function(){delete V._88O,delete V._rotating,V.fi({kind:"endRotate"}),V.onRotateEnded()},V._88O=Yu(J);I+=z,e+=U,e=g?y-cJ(V,y-e):cJ(V,e),M[0]=c*eR(e)*eR(I),M[1]=c*KR(e),M[2]=c*eR(e)*KR(I),u[0]=H[0]+M[0],u[1]=H[1]+M[1],u[2]=H[2]+M[2],V.fp(Q,WR,u)}},pan:function(J,a,z,U){if(J||a){var g,V,Y=this;U==WR&&(U=Y._firstPersonMode),Y._89O&&Y._89O.stop(!0);var J=[(c=WJ(Y))[0]*J,c[4]*J,c[8]*J],c=[c[1]*a,c[5]*a,c[9]*a],u=J[0]+c[0],H=J[1]+c[1],M=J[2]+c[2],I=Y._center,e=Y._eye;if(U&&(a=DX(Y.getBoundaries(),e[0],e[2],e[0]+u,e[2]+M,wR(u*u+M*M)),u=a[0],M=a[1]),z=jL(z))return g=gu(e),V=gu(I),z.action=function(J){Y.fi({kind:Y._panning?"betweenPan":"beginPan"}),Y._panning=1,I[0]=V[0]+u*J,I[1]=V[1]+H*J,I[2]=V[2]+M*J,e[0]=g[0]+u*J,e[1]=g[1]+H*J,e[2]=g[2]+M*J,Y.fp(Me,WR,e),Y.fp(He,WR,I)},z._37o=function(){delete Y._89O,delete Y._panning,Y.fi({kind:"endPan"}),Y.onPanEnded()},Y._89O=Yu(z);I[0]+=u,I[1]+=H,I[2]+=M,e[0]+=u,e[1]+=H,e[2]+=M,Y.fp(Me,WR,e),Y.fp(He,WR,I)}},walk:function(a,J,z){if(a){var U,g,V=this,Y=(z==WR&&(z=V._firstPersonMode),V._90O&&V._90O.stop(!0),V._center),c=V._eye,u=Au(Y,c,!0);if(z){if(z=DX(V.getBoundaries(),c[0],c[2],c[0]+u[0]*a,c[2]+u[2]*a,yR(a)),!(a=pu(z)))return;u=[z[0]/a,0,z[1]/a]}if(J=jL(J))return U=gu(c),g=gu(Y),J.action=function(J){V.fi({kind:V._walking?"betweenWalk":"beginWalk"}),V._walking=1,J*=a,c[0]=U[0]+u[0]*J,c[1]=U[1]+u[1]*J,c[2]=U[2]+u[2]*J,Y[0]=g[0]+u[0]*J,Y[1]=g[1]+u[1]*J,Y[2]=g[2]+u[2]*J,V.fp(Me,WR,c),V.fp(He,WR,Y)},J._37o=function(){delete V._90O,delete V._walking,V.fi({kind:"endWalk"}),V.onWalkEnded()},V._90O=Yu(J);c[0]+=u[0]*a,c[1]+=u[1]*a,c[2]+=u[2]*a,Y[0]+=u[0]*a,Y[1]+=u[1]*a,Y[2]+=u[2]*a,V.fp(Me,WR,c),V.fp(He,WR,Y)}},handleScroll:function(J,a){Bm(J);var z=this,U=z._moveStep,g=z.getDataInfoAt(J);if((g=g&&g.data)&&z.isInteractive(g)){var V=z.intersectObject(J,g);if(V&&(V=V.part,(V=s(g.s(V+".image")||g.s("shape3d."+V+".image")||g.s("all.image")||g.s("shape3d.image")))&&_(V.scrollable,g,z)))return}z.isFirstPersonMode()?z.isPannable()&&z.pan(0,0<a?U:-U):z.isZoomable()&&(z._lastZoomLP=z.lp(J),z.setZoom(a<0?1/om:om),z._lastZoomLP=z._lastZoomHit=null)},handlePinch:function(J,a){!this.isZoomable()||Math.abs(J-a)<DR.pinchZoomThreshold||this.setZoom(J<a?1/sm:sm)},setLightProbe:function(J){if(J){if(9===J.length)return this.lightProbe=J;if(27<=J.length){for(var a=this.lightProbe=[],z=0;z<9;z++)a[z]=[J[3*z],J[3*z+1],J[3*z+2]];return a}}return!1},getLightProbe:function(){return this.lightProbe},reset:function(J){this.setUp(DR.graph3dViewUp),this.moveCamera(DR.graph3dViewEye,DR.graph3dViewCenter,J)},moveSelection:function(J,a,z){this.dm().beginTransaction(),RW(this.sm().toSelection(this.isMovable,this),J,a,z),this.dm().endTransaction()},getMoveMode:function(J,a){return(a=a.s("3d.move.mode"))?a:ku(J)||nH[88]&&nH[89]&&nH[90]?"xyz":nH[88]&&nH[89]?"xy":nH[88]&&nH[90]?"xz":nH[89]&&nH[90]?"yz":nH[88]?"x":nH[89]?"y":nH[90]?"z":"xz"},handleTick:function(){var J,a=this,z=!1,U=a._moveStep,g=U,V=-1*a._rotateStep;a.isWalkable()||(g=0),a.isPannable()||(U=0),a.isRotatable()||(V=0),a._32Q&&(g*=J=(YL()-a._32Q)/50,U*=J,V*=J),a._31Q&&(zu(a._31Q),delete a._31Q,delete a._32Q),OQ()&&a.pan(-U,0,!(z=!0),!0),LQ()&&a.pan(U,0,!(z=!0),!0),bQ()&&(z=!0,ku()?a.pan(0,U,!1,!0):a.walk(g,!1,!0)),nQ()&&(z=!0,ku()?a.pan(0,-U,!1,!0):a.walk(-g,!1,!0)),SQ()&&a.rotate(-V,0,!(z=!0),!0),$Q()&&a.rotate(V,0,!(z=!0),!0),PQ()&&a.rotate(0,-V/2,!(z=!0),!0),lQ()&&a.rotate(0,V/2,!(z=!0),!0),z&&(a._32Q=YL(),a._31Q=au(a.handleTick,a))},handleKeyDown:function(J){!Eu(J)&&AQ[J.keyCode]?this.handleTick():yQ(J)?this.selectAll():FQ(J)?this.handleDelete(J):TQ(J)&&this.isResettable()&&this.reset()},checkDoubleClickOnNote:function(J,a,z){if(z===le){if(a.s("note.toggleable"))return a.s(se,!a.s(se)),this.fi({kind:"toggleNote",event:J,data:a,part:z}),!0}else if(z===Te&&a.s("note2.toggleable"))return a.s(me,!a.s(me)),this.fi({kind:"toggleNote2",event:J,data:a,part:z}),!0;return!1},checkDoubleClickOnRotation:function(J,a,z){return z===RA?(a.setRotationX(0),!0):z===CA?(a.setRotationY(0),!0):z===yA&&(a.setRotationZ(0),!0)},onRotateEnded:function(){},onWalkEnded:function(){},getViewRatio:function(J){if(this.isOrtho())return this.getWidth()/this.getOrthoWidth();var a=this.getCenter(),z=this.getHeight(),U=this.getEye(),a=[a[0]-U[0],a[1]-U[1],a[2]-U[2]],J=[J[0]-U[0],J[1]-U[1],J[2]-U[2]];return z*Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2])*(1/Math.tan(this.getFovy()/2))/(J[0]*a[0]+J[1]*a[1]+J[2]*a[2])},inViewSpace:function(J){var a,J=this._transformPointToViewSpace(J),z=this.getAspect(),U=this.getNear(),g=this.getFar();return!(-J[2]<U||-J[2]>g)&&(this.isOrtho()?(a=this.getOrthoWidth()/2,Math.abs(J[0])<=a&&Math.abs(J[1]*z)<=a):(a=Math.sqrt(J[0]*J[0]+J[1]*J[1]+J[2]*J[2])*Math.tan(this.getFovy()/2),Math.abs(J[1]<=a)&&Math.abs(J[0])<=a*z))},getPVMatrix:function(J){var a;return!J&&(a=this._18Q)||(a=DJ(this),this._18Q=ZJ(a,a,WJ(this)),this._18Q._wh=this.getWidth()/2/this.getHeight()),a},getFrustum:(Wt=new XR,Dt=new hW,Kt=new Array(16),function(){for(var J=this.getPVMatrix(),a=!1,z=0;z<16;z++)J[z]!==Kt[z]&&(a=!0,Kt[z]=J[z]);return a&&Dt.setFromMatrix(Wt.fromArray(J)),Dt}),toViewPosition:function(J){var a=this.getWidth()/2,z=this.getHeight()/2,U=this.getPVMatrix();return{x:a+a*(J=ru([J[0],J[1],J[2],1],U))[0]/J[3],y:z-z*J[1]/J[3],z:J[2]/J[3]}},getHitPosition:function(J,a,z){var U=this.getWidth(),g=this.getHeight(),V=(J=J.target?this.lp(J):J).x-U/2,J=J.y-g/2,Y=this.getCenterInfo(),c=WJ(this),U=(a=a||[0,0,0],z=z||[0,1,0],V=V/U*Y.width,J=-1*J/g*Y.height,[c[0]*V,c[4]*V,c[8]*V]),g=[c[1]*J,c[5]*J,c[9]*J],Y=[U[0]+g[0],U[1]+g[1],U[2]+g[2]],V=this.getCenter();return HJ(this,a,z,[Y[0]+V[0],Y[1]+V[1],Y[2]+V[2]])||[0,0,0]},intersectObject:function(J,a){return this._raycaster.intersectObject(J,a)},intersectObjects:function(J,a,z){return this._raycaster.intersectObjects(J,a,z)},serializePhysicalShader:function(){return this._glPrograms.serializePhysicalShader()},deserializePhysicalShader:function(J){return this._glPrograms.deserializePhysicalShader(J)},getLineLength:function(J){return this.validate(),(J=this.getData3dUI(J))&&J.getCache&&(J=J.getCache())?J[J.length-1].length:0},getLineOffset:function(J,a,z){var U=this.getData3dUI(J);if(U&&U.getCache&&(U=U.getCache())){var g,U=N9(U,a,z);if(J.s("shape3d")!==xe)return U;if(J.getScale3d&&1===(V=J.getScale3d())[0]&&1===V[1]&&1===V[2]&&(V=null),!(g=J.r3&&0===(g=J.r3())[0]&&0===g[1]&&0===g[2]?null:g)&&!V)return U;var V,a=new qR(J.p3()),z=new qR(U.point).sub(a),U=new qR(U.tangent).add(z);return V&&(V=new qR(V),z.multiply(V),U.multiply(V)),g&&(V=(new Im).setFromEuler(new xm(g,J.getRotationMode(),!0)),z.applyQuaternion(V),U.applyQuaternion(V)),{point:z.clone().add(a),tangent:U.sub(z).normalize()}}return WR},_genBatchInstancedArrayFunc:function(){var J=this._glCapabilities&&this._glCapabilities.instancedArray&&!this._batchInstancedDisabled,c=J?AX:oX,U=(this.batchInstancedModel=function(J,a,z,U,g,V,Y){c(this,J,a,z,U,g,V,Y)},J?mX:_X),V=(this.batchInstancedShapeFace=function(J,a,z){U(J,a,z)},J?hX:BX);this.batchInstancedFace=function(J,a,z,U,g){V(this,J,a,z,U,g)}},isLabelVisible:function(J){return!0},isNoteVisible:function(J){return!0},skipNonSelectableOnPick:function(J,a){return!a&&!this.drawFilter&&!J.s("static")},moveCamera:function(J,a,z){var U=this,g=[(g=U.getEye())[0],g[1],g[2]],V=[(V=U.getCenter())[0],V[1],V[2]];if(J=J||g,a=a||V,U._flyAnim&&U._flyAnim.stop(!0),!(z=jL(z)))return U.setEye(J[0],J[1],J[2]),U.setCenter(a[0],a[1],a[2]),delete U._flyAnim,!0;var Y=[J[0]-g[0],J[1]-g[1],J[2]-g[2]],c=[a[0]-V[0],a[1]-V[1],a[2]-V[2]];return z.action=function(J){U.setCenter(V[0]+c[0]*J,V[1]+c[1]*J,V[2]+c[2]*J),U.setEye(g[0]+Y[0]*J,g[1]+Y[1]*J,g[2]+Y[2]*J)},z._37o=function(){delete U._flyAnim},U._flyAnim=Yu(z)},flyTo:(Qt=new qR,vt=new qR,Zt=new qR,kt=new qR,Et=new qR,it=new XR,wt=new m.Math.Quaternion,pt=new xm,xt=new Em,function(J,a,z){var U,g,V=this,Y=(a=("boolean"==typeof a?{animation:a}:a)||{}).center,c=a.distance,u=a.direction,H=a.worldDirection,M=z||a.ratio||.8,I=a.xRatio||M,M=a.yRatio||M,e=((z!==xR||a.duration||a.frames)&&(a={animation:a}),[]),z=c===xR;if(Y&&Zt.fromArray(Y),!Y||z)if((J=1===(J=J||V.dm().getDatas()).length?iL(J)?J.get(0):J[0]:J)instanceof m.Node)Y||Zt.fromArray(J.p3()),z&&(UI(e,V,J),U=e.length);else{if(!J.length)return;if(!(!z&&Y||(e=[],J.forEach(function(J){UI(e,V,J)}),U=e.length)))return;Y||(xt.setFromPoints(e),Zt.copy(xt.min).add(xt.max).multiplyScalar(.5))}V._flyAnim&&V._flyAnim.stop(!0),Qt.fromArray(V.getEye()),vt.fromArray(V.getCenter()),V.setCenter(Zt.x,Zt.y,Zt.z),kt.subVectors(Qt,vt),(u||H)&&(!H&&J instanceof m.Node?wt.setFromEuler(pt.set(J.r3(),J.getRotationMode(),!0)):wt.set(0,0,0,1),Y=kt.length(),kt.fromArray(H||u).applyQuaternion(wt).setLength(Y));var Q=new qR(V.getUp()),v=t.fequal(Q.x,0,1e-5)&&t.fequal(Q.z,0,1e-5),Z=(v&&0===kt.x&&0===kt.z&&(J=kt.y,kt.y=.999*J,kt.z=.001*Math.sign(J)),0);if(z){var k,E,i,w=I,p=M;if(Et.copy(kt),V.isOrtho()){var x=-1/0;for(V._eye[0]=kt.x+Zt.x,V._eye[1]=kt.y+Zt.y,V._eye[2]=kt.z+Zt.z,k=DJ(V),ZJ(k,k,WJ(V)),g=0;g<U;g++)i=e[g],E=ru([i.x,i.y,i.z,1],k),x=Math.max(x,Math.max(Math.abs(E[0])/w,Math.abs(E[1])/p));Z=V.getOrthoWidth()*x}else{for(var W,D,b=V.getNear(),K=10;K--;){for(V._eye[0]=kt.x+Zt.x,V._eye[1]=kt.y+Zt.y,V._eye[2]=kt.z+Zt.z,k=DJ(V),ZJ(k,k,WJ(V)),W=!0,D=-1/0,g=0;g<U;g++){if(i=e[g],(E=ru([i.x,i.y,i.z,1],k))[3]<b&&K){kt.multiplyScalar(2),W=!1;break}D=Math.max(D,Math.max(Math.abs(E[0])/w,Math.abs(E[1])/p)-E[3])}if(W)break}kt.setLength(D+kt.length())}kt.manhattanLength()<1e-6&&kt.copy(Et)}else V.isOrtho()?Z=2*c*bR(V.getFovy()/2)/V.getAspect():kt.setLength(c);var d,j,q,X,R,C,y,F,O,n,L,S,H=kt.add(Zt);return(u=jL(a.animation))?(V.setEye(Qt.x,Qt.y,Qt.z),V.setCenter(vt.x,vt.y,vt.z),Y=H.clone().sub(Zt),(d=Y.length())&&Y.multiplyScalar(1/d),J=Qt.clone().sub(vt),(j=J.length())&&J.multiplyScalar(1/j),z=(new XR).lookAtDirection(J,Q),I=(new XR).lookAtDirection(Y,Q),q=(new Im).setFromRotationMatrix(z),X=(new Im).setFromRotationMatrix(I),R=(new qR).subVectors(Zt,vt),Z&&(C=V.getOrthoWidth()),y=new qR,F=new qR,O=new qR,n=u.action,L=u._37o,S=vt.clone(),u.action=function(J,a){F.copy(S).addScaledVector(R,J);var z=q.clone().slerp(X,J);y.set(0,0,1).applyQuaternion(z).setLength(j+(d-j)*J).add(F),O.set(0,1,0).applyQuaternion(z),V.setCenter(F.x,F.y,F.z),V.setEye(y.x,y.y,y.z),V.setUp(O.x,O.y,O.z),Z&&V.setOrthoWidth((Z-C)*J+C),n&&n(J,a)},u._37o=function(){delete V._flyAnim;var J=V.getUp(),a=v?DR.graph3dViewUp:Q.toArray();J[0]===a[0]&&J[1]===a[1]&&J[2]===a[2]||V.setUp(a),L&&L()},{lastEye:Qt,lastCenter:vt,eye:H,center:Zt,orthoWidth:Z,animation:V._flyAnim=Yu(u)}):(V.setEye(H.x,H.y,H.z),V.setCenter(Zt.x,Zt.y,Zt.z),Z&&V.setOrthoWidth(Z),delete V._flyAnim,{lastEye:Qt,lastCenter:vt,eye:H,center:Zt,orthoWidth:Z})}),getBoundingBox:(et=new XR,function(J){if(0===(J=(J=J||this.sm().getSelection())instanceof m.Node?[J]:J).length)return WR;var u=[],a=(J.forEach(function(J){if(b(J)){var a=u;if(J instanceof m.Node){var z=m.Default.getShape3dModel(J.s("shape3d")),U=[-.5,-.5,-.5],g=[.5,.5,.5],V=(z&&z.boundingBox&&(U=z.boundingBox.min,g=z.boundingBox.max),[U[0],U[1],U[2],U[0],U[1],g[2],U[0],g[1],U[2],U[0],g[1],g[2],g[0],U[1],U[2],g[0],U[1],g[2],g[0],g[1],U[2],g[0],g[1],g[2]]),Y=(et.fromArray(gD(J,this.getMat(J))),J.getAnchor3d());Y.x=Y.x-.5,Y.y=Y.y-.5,Y.z=Y.z-.5;for(var c=0;c<24;c+=3)a.push((new qR).set(V[c]-Y.x,V[c+1]-Y.y,V[c+2]-Y.z).applyMatrix4(et))}}},this),[1/0,1/0,1/0]),z=[-1/0,-1/0,-1/0];return u.forEach(function(J){a[0]=Math.min(J.x,a[0]),a[1]=Math.min(J.y,a[1]),a[2]=Math.min(J.z,a[2]),z[0]=Math.max(J.x,z[0]),z[1]=Math.max(J.y,z[1]),z[2]=Math.max(J.z,z[2])}),{min:a,max:z}}),isShaderCompileParallel:function(){return!!this._parallelShaderCompile},shouldCompileShaderInParallel:function(J){return this._parallelShaderCompile&&u0(J)},enableShaderCompileParallel:function(){if(!this.getGLExtension("KHR_parallel_shader_compile"))return!1;this._parallelShaderCompile=!0},disableShaderCompileParallel:function(){this._parallelShaderCompile=!1},setBatchInfo:function(J,a){var z=this._batchInfoMap[J];this._batchInfoMap[J]=a,this.fp("batchInfo",z,a)},getBatchInfo:function(J){return this._batchInfoMap[J]||yH[J]},getStaticInstancingKey:function(J,a){if(!a&&(U=J._lastInstancingKey))return U;var z,a=J.s("shape3d"),U=kL(a)?z=(z=a.uuid)?z:a.uuid=t.generateUUID():a;return U+=(J._flipSide?"_1_":"_0_")+J.s("static.group"),J._lastInstancingKey=U},setOrthoWidth:function(J,a){var z,U,g=this._orthoWidth;this._orthoWidth=J,!a&&this._syncEyeWithOrthoWidth&&(a=J/this.getAspect()/2/bR(this.getFovy()/2),z=(new qR).fromArray(this.getEye()),U=(new qR).fromArray(this.getCenter()),z.sub(U).setLength(a).add(U),this.setEye(z.toArray())),this.fp("orthoWidth",g,J)},getCamera:function(J){var a=this,z=((J=(J=J||a._mainCamera)||(a._mainCamera=new m.Camera)).s({"camera.type":a.isOrtho()?"ortho":"perspective","camera.fovy":a.getFovy(),"camera.ortho.width":a.getOrthoWidth(),"camera.near":a.getNear(),"camera.far":a.getFar()}),J.s("camera.aspect.sync")&&J.s("camera.aspect",a.getAspect()),a.getEye());return J.p3(z.slice()),J.lookAt(a.getCenter(),a.getUp()),J},syncFromCamera:function(J){var a=this,z=new qR(a.getEye()),U=new qR(a.getCenter()),g=new qR,V=U.sub(z).length(),Y=(a.setEye(J.p3()),J.getEuler());return g.set(0,0,-1).applyEuler(Y),z.copy(g).setLength(V).add(U.copy(J.p3())),a.setCenter(z.toArray()),z.set(0,1,0).applyEuler(Y),U.set(0,1,0),Math.abs(g.cross(z).dot(U))<1e-5?a.setUp(U.toArray()):a.setUp(z.toArray()),a.setOrtho("ortho"===J.s("camera.type")),J.s("camera.aspect.sync")&&a.setAspect(J.s("camera.aspect")),a.setFovy(J.s("camera.fovy")),a.setOrthoWidth(J.s("camera.ortho.width"),!0),a.setNear(J.s("camera.near")),a.setFar(J.s("camera.far")),!0},resetHeadlightProperties:function(){this._headlightColor=DR.graph3dViewHeadlightColor,this._headlightIntensity=DR.graph3dViewHeadlightIntensity,this._headlightRange=DR.graph3dViewHeadlightRange,this._headlightDirection=DR.graph3dViewHeadlightDirection,this._headlightGroup=DR.graph3dViewHeadlightGroup,this._headlightAmbientIntensity=DR.graph3dViewHeadlightAmbientIntensity,this._headlightDisabled=DR.graph3dViewHeadlightDisabled,this._headlightRatioForPhysicalMaterial=DR.graph3dViewHeadlightRatioForPhysicalMaterial},resetFogProperties:function(){this._fogDisabled=DR.graph3dViewFogDisabled,this._fogMode=DR.graph3dViewFogMode,this._fogDensity=DR.graph3dViewFogDensity,this._fogColor=DR.graph3dViewFogColor,this._fogNear=DR.graph3dViewFogNear,this._fogFar=DR.graph3dViewFogFar},_gatherRenderLayersByPriority:function(J){if(J||!(this._renderLayerSettingsVersion>=LD)){var a,z=this,U=(z._renderLayerSettingsVersion=LD,z._sortedRenderLayers=pR.keys(z._renderLayerInfoMap));for(a in bD)0<=U.indexOf(a)||U.push(a);U.sort(function(J,a){return z.getRenderLayerInfo(J).priority-z.getRenderLayerInfo(a).priority})}},setRenderLayerInfo:function(J,a){$D(0,J,this._renderLayerInfoMap);var z,U=this.getRenderLayerInfo(J),J=gu(U);for(z in a)"mask"!==z&&(U[z]=a[z]);this._gatherRenderLayersByPriority(!0),this.fp("renderLayerInfo",J,U)},getRenderLayerInfo:function(J){return this._renderLayerInfoMap[J]||bD[J]},setRenderLayerInfoMap:function(J){var a,z=this._renderLayerInfoMap,U=!(this._renderLayerInfoMap={});for(a in J)this.setRenderLayerInfo(a,J[a]),U=!0;U||this._gatherRenderLayersByPriority(!0),this.fp("renderLayerInfoMap",z,this._renderLayerInfoMap)},getRenderLayerInfoMap:function(){return this._renderLayerInfoMap},getRenderLayerKeys:function(){return this._sortedRenderLayers}}),DR.registerTextureLoader=function(J){nt?nt.push(J):nt=[J]},DR.unregisterTextureLoader=function(J){if(nt)return 0<=(J=nt.indexOf(J))&&(nt.splice(J,1),0===nt.length&&(nt=null),!0)},function(J,a){return(5131!==a||J.isWebGL2()?a:null!==(J=J._glExtensions.get("OES_texture_half_float"))?J.HALF_FLOAT_OES:null)||5121}),HA=function(J,a){a?(J._needDeleteGetAttrBackupFunc=!J.hasOwnProperty("getAttr"),J._textureAttrObject=a,J._getAttrBackupFunc=J.getAttr,J.getAttr=gI):(delete J._textureAttrObject,J._needDeleteGetAttrBackupFunc?delete J.getAttr:J.getAttr=J._getAttrBackupFunc,delete J._needDeleteGetAttrBackupFunc,delete J._getAttrBackupFunc)},MA=function(J,a,z){if(!J.isWebGL2())return a;var U=a;return 6403===a&&(5126===z&&(U=33326),5131===z&&(U=33325),5121===z&&(U=33321)),33319===a&&(5126===z&&(U=33328),5131===z&&(U=33327),5121===z&&(U=33323)),6407===a&&(5126===z&&(U=34837),5131===z&&(U=34843),5121===z&&(U=32849)),6408===a&&(5126===z&&(U=34836),5131===z&&(U=34842),5121===z&&(U=32856)),33325!==(U=36249===a&&5125===z?36208:U)&&33326!==U&&34842!==U&&34836!==U&&36208!==U||J._glExtensions.get("EXT_color_buffer_float"),U},IA=t.newIdGenerator(),eA=(pR.assign(B.Graph3dView.prototype,{getTextureMap:function(){return this._2O},setTextureStyle:function(J,a,z){return!(!(J=s(J))||!J.texture||(this.deleteTexture(J),J[a]=z,this.iv(),0))},setTexture:function(J,a,z){var U,g;z=z||"",(U=this._2O[J])?U[z]&&(g=this.getGL())&&U[z]!==a&&g.deleteTexture(U[z]):U=this._2O[J]={},U[z]=a},deleteTexture:function(J){if(this._2O){J&&J.uuid&&(J=J.uuid);var a=this._2O[J];if(a){delete this._2O[J];var z,U=this.getGL();for(z in a)U.deleteTexture(a[z]);return!0}}},invalidateCachedTexture:(Pt=[],$t=["shape3d.image"],["top","bottom","from","to"].forEach(function(J){$t.push("shape3d."+J+".image")}),["all","left","right","top","bottom","front","back"].forEach(function(J){Pt.push(J+".image")}),lt=function(J){return!!J&&(kL(J)&&!jR(J)?!J.tagName&&(!J.texture||lt(J.image)):dR(J)&&$H.test(J))},function(J,a){if(J instanceof _D){for(var z,U,g,V,Y=this.getData3dUI(J),c=(Y&&(z=Y.invalidateCachedTexture(this.getGL())),J.getMaterials()),u=0,H=c.length;u<H;u++)for(var M in U=c[u])g=U[M],z=VI(this,g)||z;if((Y=J.getStyle("shape3d"))?dR(Y)&&!fH.test(Y)&&(V=$t):V=Pt,V)for(var I=J.getStyleMap(),u=0,H=V.length;u<H;u++)z=VI(this,g=I[V[u]])||z;!1===a&&!z||this.invalidateData(J)}}),invalidateShape3dCachedImage:function(J){this.invalidateCachedTexture(J)},getTextureFromLoader:function(J){if(nt)for(var a,z=0,U=nt.length;z<U;z++)if((a=nt[z]).checkType(J))return a.getTexture(this,J)},getGLTextureFromLoader:function(J){var a=this.getTextureFromLoader(J);return a&&(a=this.createTexture(a),this.setTexture(J,a),a)},_getPrefabBoneTextureId:function(J){var a=J.originalPrefab;return(J=a||J)._4LQ||(J._4LQ=IA.next())},getPrefabBoneTexture:function(J){var a=this._26I;return a?(J=this._getPrefabBoneTextureId(J),a._4KQ[J]):null},setPrefabBoneTexture:function(J,a){J=this._getPrefabBoneTextureId(J),this._26I._4KQ[J]=a},textureToCanvas:(bt={type:"blitScreen",defines:{USE_LINEAR:!0}},St={type:"blitScreen"},function(J,a,z,U){var g=m2(J)?J:this.getTextureFromLoader(J);if(g&&(z=z||g.width,U=U||g.height,z&&U))return(g=(a=a===xR?"linear"===g.colorSpace:a)?bt:St).image=J,a=new EA(this,z,U),this.renderModel(a,g),g.image=null,J=a.toCanvas(),a.release(),J}),createTexture:function(J,a){var z,U,g,V,Y,c=this.getGL(),u=n2,H=uA(this,J.type||J.textureType),M=J.format||u.RGBA,I=MA(this,M,H),e=(J.image?(g=s(J.image),z=J.width||g.naturalWidth||g.width,U=J.height||g.naturalHeight||g.height,e=!g||"VIDEO"!==g.tagName&&(!z||!U)):(g=J.data,z=J.width,U=J.height,(e=g===xR||!z||!U)||(V=!0)),e&&(g=null,z=U=0),J.minFilter||J.filter||u.LINEAR),Q=J.magFilter||J.filter||u.LINEAR,v=J.wrapS||J.wrap,Z=J.wrapT||J.wrap,k=(v||Z||(v=Z=!t.isPOT(z)||!t.isPOT(U)||J.clampToEdge||g&&g.clampToEdge?u.CLAMP_TO_EDGE:u.REPEAT),this.isWebGL2()),E=(k||v===u.CLAMP_TO_EDGE&&Z===u.CLAMP_TO_EDGE&&(e===u.NEAREST||e===u.LINEAR)||t.isPOT(z)&&t.isPOT(U)||!g||V||(E=J.scaleMode,i=t.nearestPOT(z),Y=t.nearestPOT(U),"smaller"===E?(z<i&&(i/=2),U<Y&&(Y/=2)):"larger"===E&&(i<z&&(i*=2),Y<U&&(Y*=2)),g=DR.resizeImage(g,i,Y),z=i,U=Y),!a),i=(a=a||c.createTexture(),c.activeTexture(33984),XJ(c,a),c.pixelStorei(37440,!0===J.flipY),c.pixelStorei(37441,!1),V?c.texImage2D(u.TEXTURE_2D,0,I,z,U,0,M,H,g):g&&c.texImage2D(u.TEXTURE_2D,0,I,M,H,g),RJ(c,10242,v),RJ(c,10243,Z),RJ(c,10240,Q),J.generateMipmaps);return(i=i===xR?v!==u.CLAMP_TO_EDGE||Z!==u.CLAMP_TO_EDGE:i)?(RJ(c,10241,9728===e?9984:9987),k&&J.mipmapMaxLevel!==xR&&RJ(c,33085,J.mipmapMaxLevel),c.generateMipmap(u.TEXTURE_2D)):RJ(c,10241,e),XJ(c,WR),V&&a&&(a.width=z,a.height=U),J.gray&&(Y="TEXTURE_GRAY_SHADER",m.Default.getShaderMap()[Y]||m.Default.setShader(Y,["#include <blitScreenVS>","","// FS","uniform sampler2D image;","varying vec2 vUv;","","void main() {","    gl_FragColor = texture2D(image, vUv);","    gl_FragColor.rgb = vec3(dot(gl_FragColor.rgb, vec3(0.299, 0.587, 0.114)));","}"].join("\n")),I=new EA(this,z,U),this.renderModel(I,{transparent:this._45Q,type:Y,image:a}),E&&c.deleteTexture(a),a=I.texture,delete this._2O[I.uuid],I.release()),a},resetSharedTextureIndex:function(){this._sharedTextureIndex=0},textureAccessesByMaterial:function(J,a){var z,U=this._sharedTextureIndex,g=this.getGL();return 0===U?z=g._sharedTexture:(z=g._sharedTexturePool[U-1])||(g._sharedTexturePool[U-1]=z=dJ(this,g)),(U=this.getTexture(J,a,xR,xR,z))===z&&this._sharedTextureIndex++,U},getTexture:function(J,a,z,U,g){if(!J)return WR;var V=this,Y=V.getGL(),c=V._2O[J];if(!(u=(c=!c&&kL(J)&&J.uuid?V._2O[J.uuid]:c)?c[(E=a?a.s("texture.mipmap.max"):E)||""]||c.default:u)&&null===(u=V.getGLTextureFromLoader(J)))return Y._emptyTexture;if(!u){if(!(c=s(J)))return Y._emptyTexture;U=U?pR.assign({},U):{},a&&(U.mipmapMaxLevel=E=a.s("texture.mipmap.max"),H=a.s("texture.wrap"),U.clampToEdge="clampToEdge"===H||"repeat"!==H&&xR,U.flipY=a.s("texture.flipY")),c.uuid||(c.uuid=m.Math.generateUUID());var u,H=dR(J)?J:c.uuid,M=c.texture;if(c.tagName||M){if(c.dynamic&&!(Q=Y._dynamicTexturePool[c.uuid])&&(Q=Y._dynamicTexturePool[c.uuid]=Y.createTexture()),M){if(u=!(M=c.image)&&c.data?c:V.getTextureFromLoader(M))return(e=pR.assign({},u,c)).image&&delete e.image,u=V.createTexture(e,Q),c.dynamic||V.setTexture(H,u),u;if(null===u)return Y._emptyTexture;if(!(e=s(M)))return Y._emptyTexture;if(e.tagName){if(!tm(e,a))return Y._emptyTexture;u=V.createTexture(c,Q)}else{if(!c.dynamic){if(Y._renderInfo.textureCache.time>DR.graph3dMaxVectorCacheTime)return V.redraw(),Y._emptyTexture;if(!tm(e,a))return Y._emptyTexture}u=V._getTextureFromSymbol(Y,a,J,e,c,Q,!c.dynamic)}E=""}else{if(!tm(c,a))return Y._emptyTexture;M=U.image,U.image=c,u=V.createTexture(U,Q),U.image=M}c.dynamic||V.setTexture(H,u,E)}else{var I,e=a&&(a.s("texture.cache")||a.s("shape3d.image.cache")||c.textureCache),Q=V.getPresentingReality();if(Q&&a&&(a._textureUpdateFrame===Y._renderInfo.frame?e=!0:a._textureUpdateFrame=Y._renderInfo.frame),e&&(u=(I=V.getData3dUI(a)).getCachedTexture(z))&&I.interactiveInfo&&u.interactiveInfo&&(I.interactiveInfo[u.interactiveInfo.key]=u.interactiveInfo.info),!u){if(e){if(Y._renderInfo.textureCache.time>DR.graph3dMaxVectorCacheTime)return V.redraw(),Y._emptyTexture;if(!tm(c,a))return Y._emptyTexture}a&&(1!==a.s("texture.scale")?k=a.s("texture.scale"):1!==a.s("shape3d.texture.scale")&&(k=a.s("shape3d.texture.scale")));var v,Z,k,k=k||1,H=(M=a&&(a.s("fixSizeOnScreen")||a.s("shape3d.fixSizeOnScreen")))?9728:9729;M?"number"==typeof M&&(k*=M<0?1:M):a&&(a.s("vector.dynamic")||a.s("shape3d.vector.dynamic"))&&(M=(I=I||V.getData3dUI(a)).getVectorDynamicSize());"billboard"===(E=a&&a.s("shape3d"))?v=a.getTall()/a.getWidth():"plane"===E&&(v=a.getHeight()/a.getWidth());var E=a&&a.s("texture.width"),E=v&&vL(E)?dD(c,a,V,Math.min(4096,E)):dD(c,a),i=v?jD(c,a,V,Math.min(4096,E*v)):jD(c,a);M&&(Z=V._devicePixelRatio||Xm,E=0<M[0]?M[0]:k*E,i=0<M[1]?M[1]:k*(v?jD(c,a,V,Math.min(4096,E*v)):jD(c,a)),k=Z),U.scale=k,U.width=E,U.height=i,a?(U.minFilter=KX(a.s("texture.filter.min")||a.s("texture.filter"))||H,U.magFilter=KX(a.s("texture.filter.mag")||a.s("texture.filter"))||H):U.minFilter=U.magFilter=H,g=e||Q?null:g||Y._sharedTexture,u=V._getTextureFromSymbol(Y,a,J,c,U,g,e||Q),(e||Q)&&(I=!I&&a?V.getData3dUI(a):I)&&I.setCachedTexture(u,z)}}}return u},_getTextureFromSymbol:function(J,a,z,U,g,V,Y){U.uuid||(U.uuid=m.Math.generateUUID());var c,u,H,M,I=g.width||dD(U,a),e=g.height||jD(U,a),Q=g.scale||1,v=Q*I,Z=Q*e;return 1<=v&&1<=Z&&(J=J._renderInfo.textureCache,c=0,Y&&(c=Date.now()),u=this._glCapabilities.maxTextureSize,v=Math.min(v,u),Z=Math.min(Z,u),u=_Q(v,Z),1!==Q&&u.scale(Q,Q),a&&(Q=this.getData3dUI(a))&&Q.interactiveInfo&&("object"==typeof(M=z)&&(M=M.uuid||(M.uuid=m.Math.generateUUID())),H=Q.interactiveInfo[M]={},u.interactiveInfo=H.bodyInfo={compInfos:[],matrix:new Hm,rect:{x:0,y:0,width:I,height:e}}),(z=a&&a.setCurrentDrawingImage)&&a.setCurrentDrawingImage(U),g.texture&&g.dataBindings?a?(HA(a,g.dataBindings),qD(u,U,0,0,I,e,a,this),HA(a)):((Lt=Lt||new _D).setAttrObject(g.dataBindings),qD(u,U,0,0,I,e,Lt,this),Lt.setAttrObject(null)):qD(u,U,0,0,I,e,a,this),z&&a.setCurrentDrawingImage(null),u.interactiveInfo&&(u.interactiveInfo=null),u.restore(),Q=g.image,g.image=sQ,u=this.createTexture(g,V),g.image=Q,H&&(u.interactiveInfo={key:M,info:H}),J.count++,J.pixels+=v*Z,Y&&(J.time+=Date.now()-c)),u}}),function(J,a,z){if(!J)return 0;if(J.texture){if(J.width)return J.width;J=s(J.image)}return dD(J,a,z)}),QA=function(J,a,z){if(!J)return 0;if(J.texture){if(J.height)return J.height;J=s(J.image)}return jD(J,a,z)},vA=((((a=B.EnvmapRenderer=function(J){this.gv=J,this._envmaps={},this._envmapHash={},this._probeCaptureTime={},this._envmapPoolCachedByImage=[],this._pingPongRenderTarget=null,this._equirectMaterial=null,this._blurMaterial=null,this._lastCaptureFrame=0,this._cubemapMaterial=null,this._envmapIntensity={}}).prototype={}).constructor=a).prototype.changeEnvmapType=function(J){if("legacy"===J){for(var a in this.setEnvmapByProbeId=this.setEnvmapLegacy,this.onBeforeRender=this.onBeforeRenderLegacy,this._envmaps)YI(this._envmaps,a,null);this._envmapHash={},this._probeCaptureTime={}}else this.setEnvmapByProbeId=this.setEnvmap,this.onBeforeRender=this.onBeforeRenderNew},a.prototype.invalidateEnvmap=function(J){var a=this.gv;"legacy"!==a.getEnvmapType()&&a.getGL()&&(J?(delete this._envmapHash[J],delete this._probeCaptureTime[J]):(this._envmapHash={},this._probeCaptureTime={}),a.iv())},a.prototype.dispose=function(){var J,a=this,z=[a._pingPongRenderTarget,a._hdrDynamicComposeRTT];for(J in a._envmaps)z.push(a._envmaps[J]);nJ(a.gv,z),a._envmaps={},a._envmapPoolCachedByImage=[],a._envmapHash={},a._pingPongRenderTarget=null,a._equirectMaterial=a._cubemapMaterial=a._blurMaterial=null,a._hdrDynamicComposeRTT=null,a._envmapLegacy=null,a._lastLegacyImage=null},a.prototype.onBeforeRenderLegacy=function(J){this.gv._picking||(this.assureTextureLegacy(J),this.assureEnvmapPoolForImage())},a.prototype.assureTextureLegacy=function(J){var a,z,U=this.gv.getEnvmap();U!==this._lastLegacyImage&&(this._envmapLegacy&&(J.deleteTexture(this._envmapLegacy),this._envmapLegacy=null),U?(a=DR.getImage(U))&&a.tagName&&(a=DR.resizeImagePOT(a,!0),z=this._envmapLegacy=J.createTexture(),J.activeTexture(33984),J.bindTexture(34067,z),J.texParameteri(34067,10240,9729),J.texParameteri(34067,10241,9729),J.texImage2D(34069,0,6408,6408,5121,a),J.texImage2D(34070,0,6408,6408,5121,a),J.texImage2D(34071,0,6408,6408,5121,a),J.texImage2D(34072,0,6408,6408,5121,a),J.texImage2D(34073,0,6408,6408,5121,a),J.texImage2D(34074,0,6408,6408,5121,a),J.bindTexture(34067,J._emptyCubeTexture),this._lastLegacyImage=U):this._lastLegacyImage=U)},a.prototype.setEnvmapLegacy=function(J,a,z){J.uEnvMap=this._envmapLegacy,J.envMapIntensity=z},a.prototype.onBeforeRenderNew=function(J){this.gv._picking||(this.assureTextureNew(J),this.resetUniformCache(),this.assureEnvmapPoolForImage())},a.prototype.isHDR=function(J){return"string"==typeof J&&(J.indexOf(".hdr")===J.length-4||J.indexOf(".HDR")===J.length-4)},a.prototype.isDynamicImage=function(J){return J&&J.comps&&J.comps[0]&&"__ht_envmap_bg__"===J.comps[0].type},a.prototype.isImageReady=function(J){var a;if(this.isHDR(J))a=DR.getHdrTexture(J);else if(a=DR.getImage(J),this.isDynamicImage(a)&&!this.isImageReady(a.comps[0].image))return!1;return a},a.prototype.assureTextureNew=function(J){var a=this,z=a.gv,U=z.getEnvmap(),g=a._envmapHash,V=a._envmaps,Y=a._envmapIntensity,J=J._renderInfo.frame;if(this._lastCaptureFrame>=J||z._picking)for(c in U)H=U[c].intensity,Y[c]=H==WR?1:H;else{for(var c in U){var u=U[c],H=u.intensity;switch(Y[c]=H==WR?1:H,u.type){case"sphere":(i=u.image)!==g[c]&&(i?a.isImageReady(i)&&(g[c]=i,YI(V,c,a.fromEquirectangular(i))):(g[c]=i,YI(V,c,null)));break;case"cube":var M=u.texture;if(M!==xR)g[c]!==M&&(g[c]=M,YI(V,c,a.fromCubemap(M,u.encoding)));else{var I=u.images;if(I&&6===I.length){if((i=I.join(","))!==g[c]){for(var e=!0,Q=!1,v=0;v<6;v++){if(!I[v]){Q=!0;break}if(!DR.getImage(I[v])){e=!1;break}}Q?(g[c]=i,YI(V,c,null)):e&&(g[c]=i,YI(V,c,a.fromCubemap(I)))}}else g[c]=xR,YI(V,c,null)}break;case"skybox":var Z,k=z.getSkybox(),E=!1;if(k){if("sphere"===(M=k.s("shape3d")))i=k._id+"_"+k.s("shape3d.image");else for(var i=k._id,v=0;v<6;v++)i+="_"+k.s(p9[v]+".image");if(i!==g[c]){if("sphere"===M)(Z=k.s("shape3d.image"))==WR?E=!0:e=a.isImageReady(Z);else for(e=!0,v=0;v<6;v++){if((Z=k.s(p9[v]+".image"))==WR){E=!0;break}if(!DR.getImage(Z)){e=!1;break}}E?(g[c]=i,YI(V,c,null)):e&&(g[c]=i,YI(V,c,a.fromSkybox()))}}else V[c]&&(g[c]=xR,YI(V,c,null));break;case"probe":var w,p,x=u.pos,W=u.size;(i=x[0]+"_"+x[1]+"_"+x[2]+"_"+W)!==g[c]&&(w=this._probeCaptureTime[i],p=Date.now(),w||(this._probeCaptureTime[i]=w=p),p-w>DR.envmapProbeMinWaitTime&&!JL&&!Y9||p-w>DR.envmapProbeMaxWaitTime?(delete this._probeCaptureTime[i],g[c]=i,YI(V,c,a.fromSceneProbe(x,W,u.filter))):z.iv())}}pR.keys(V).forEach(function(J){U[J]===xR&&(delete g[J],YI(V,J,null))})}},a.prototype.resetUniformCache=function(){this._frameUniformCache={}},a.prototype.setEnvmap=function(J,a,z){var U=J.uuid,g=this._frameUniformCache,V=(V=this._envmaps[a])&&V.texture;g.hasOwnProperty(U)&&g[U]===V||(g[U]=V,J.uEnvMap=V),z&&(z*=this._envmapIntensity[a]||0),J.envMapIntensity=z},a.prototype.assureEnvmapPoolForImage=function(){for(var J=this._envmapPoolCachedByImage,a=0,z=J.length;a<z;a++)J[a][0]&&!J[a][1]&&this.isImageReady(J[a][0])&&(J[a][1]=this.fromEquirectangular(J[a][0]))},a.prototype.assureEnvmapFromEquirectangular=function(J){for(var a,z=this._envmapPoolCachedByImage,U=0,g=z.length;U<g;U++)if(z[U][0]===J)return(a=z[U][1])?a.texture:null;return z.push([J,null]),this.gv.iv(),null},a.prototype.invalidateEnvmapUsedByMaterial=function(J){if(J)for(var a=this._envmapPoolCachedByImage,z=0,U=a.length;z<U;z++)a[z][0]===J&&(a[z][1]=null);else this._envmapPoolCachedByImage=[];this.gv.iv()},a.prototype.isEnvmapUsedByMaterialReady=function(J){for(var a=this._envmapPoolCachedByImage,z=J==WR,U=0,g=a.length;U<g;U++)if(z){if(!a[U][1])return!1}else if(a[U][0]===J)return!!a[U][1];return z},a.prototype.fromEquirectangular=function(J){var a,z,U,g,V,Y=this.isHDR(J)?(a=m.Default.getHdrTexture(J),"linear"):this.isDynamicImage(J)&&this.isHDR(J.comps[0].image)?(g=(z=J.comps[0]).image,z.image=null,U=this.gv.getTexture(J),z.image=g,g=this.gv.getTexture(g),V=(V=this._hdrDynamicComposeRTT)||(this._hdrDynamicComposeRTT=this._allocateTargets()),Y=J.width,this.gv.renderModel(V,Y,J.height,{type:"envmapDynamicCompose",offset:z.offset?(z.offset%1+1)%1:0,texture1:g,texture2:U}),V=V.texture,a=J,"linear"):(a=m.Default.getImage(J),"sRGB");return a?(this.rectSize=[1/a.width,1/a.height],J=V||this.gv.getTexture(J),this.fromTexture(J,null,Y)):null},a.prototype.fromCubemap=function(J,a){if(a=a||"sRGB",m2(J))return this.fromTexture(J,!0,a);for(var z=this.gv.getGL(),U=z.createTexture(),g=(z.activeTexture(33984),z.bindTexture(34067,U),z.texParameteri(34067,10240,9729),z.texParameteri(34067,10241,9729),[]),V=tt/3,Y=0;Y<6;Y++)g[Y]=DR.resizeImage(m.Default.getImage(J[Y]),V);return z.texImage2D(34069,0,6408,6408,5121,g[0]),z.texImage2D(34070,0,6408,6408,5121,g[1]),z.texImage2D(34071,0,6408,6408,5121,g[2]),z.texImage2D(34072,0,6408,6408,5121,g[3]),z.texImage2D(34073,0,6408,6408,5121,g[4]),z.texImage2D(34074,0,6408,6408,5121,g[5]),z.bindTexture(34067,z._emptyCubeTexture),this.fromTexture(U,!0,a)},a.prototype.fromTexture=function(J,a,z){var U=this._allocateTargets(),g=(this._pingPongRenderTarget||(this._pingPongRenderTarget=this._allocateTargets()),this.gv),V=g.getGL(),Y=RR.for(V).directState(),c=Y.depth.enabled,u=(Y.scissor.enabled=!0,Y.depth.enabled=!1,g.getViewport(V));return this._textureToCubeUV(J,U,a,z),this._applyPMREM(U),g.setViewport(V,u[0],u[1],u[2],u[3]),Y.depth.enabled=c,Y.scissor.enabled=!1,U},a.prototype.fromSkybox=function(){return this._fromCamera(function(J){J.s({"camera.onlySky":!0,"camera.skybox.blur":!1})})},a.prototype.fromScene=function(a){return this._fromCamera(function(J){J.s({"camera.onlySky":!1}),a&&a(J)})},a.prototype.fromNode=function(J){var a,z=this.gv.getData3dUI(J),U=z._42,g=(z._42=hH,this.gv.getSkybox()),V=J.p3(),J=(g&&(a=g.p3(),g.p3(V)),this.fromScene(function(J){J.p3(V)}));return z._42=U,g&&g.p3(a),J},a.prototype.fromSceneProbe=function(a,z,U){var J,g,V=this.gv,Y=V.getSkybox(),c=(Y&&(J=Y.p3(),Y.p3(a)),U&&(g=V.isVisible,V.isVisible=function(J){var a=U(J);return a!==xR?a:g.call(V,J)}),this.fromScene(function(J){J.p3(a),J.s("camera.near",z)}));return U&&(V.isVisible=g),Y&&Y.p3(J),c},a.prototype._fromCamera=function(J){var a=this.gv,z=a.getCamera(),J=(J&&J(z),new EA(a,tt,tt,{cube:!0})),U=a.getGL(),g=a.getViewport(U),V=this.setEnvmapByProbeId,Y=this.onBeforeRender,z=(this.setEnvmapByProbeId=function(J){J.envMap=U._emptyTexture},this.onBeforeRender=hH,z.attachRenderTarget(J),z.render(a),z.detachRenderTarget(),this.setEnvmapByProbeId=V,this.onBeforeRender=Y,a.setViewport(U,g[0],g[1],g[2],g[3]),this.fromTexture(J.texture,!0,"sRGB"));return J.releaseTexture(),z},a.prototype._allocateTargets=function(J){return new EA(this.gv,3*Nt,3*Nt,{textureType:5131})},a.prototype._textureToCubeUV=function(J,a,z,U){var g,V,Y=this,c=Y.gv,u="sRGB"===U?"USE_SRGB":"USE_LINEAR",u=(z?(null==Y._cubemapMaterial&&(Y._cubemapMaterial={}),null==(g=Y._cubemapMaterial[u])&&((V={})[u]=!0,Y._cubemapMaterial[u]=g={type:"envmapCubemap",internalDefines:!1,defines:V})):(null==Y._equirectMaterial&&(Y._equirectMaterial={}),null==(g=Y._equirectMaterial[u])&&((V={})[u]=!0,Y._equirectMaterial[u]=g={type:"envmapEquirect",internalDefines:!1,defines:V})),g.envMap=J,z||(g.texelSize=Y.rectSize),_t[0]);c.renderModel(a,{model3d:!0,mesh:u,mat:g,encoding:"linear"===U?1:0},{restoreViewport:!1,preRender:function(){Y._setViewport(a,0,0,3*Nt,2*Nt)}})},a.prototype._applyPMREM=function(J){for(var a,z,U=1;U<ot;U++)a=Math.sqrt(Bt[U]*Bt[U]-Bt[U-1]*Bt[U-1]),z=mt[(U-1)%mt.length],this._blur(J,U-1,U,a,z)},a.prototype._setViewport=function(J,a,z,U,g){var V=this.gv;V.setViewport(V.getGL(),a,z,U,g),V.getRenderState().directState().scissor.box=[a,z,U,g]},a.prototype._blur=function(J,a,z,U,g){var V=this._pingPongRenderTarget;this._halfBlur(J,V,a,z,U,"latitudinal",g),this._halfBlur(V,J,z,z,U,"longitudinal",g)},a.prototype._halfBlur=function(J,a,z,U,g,V,Y){var c=this,u=c.gv,H=c._blurMaterial;if("latitudinal"===V||"longitudinal"===V){H||(c._blurMaterial=H={type:"envmapBlur",internalDefines:!1,defines:{n:st}});for(var M,I=ht[z]-1,e=g/(I=isFinite(g)?Math.PI/(2*I):2*Math.PI/(2*st-1)),Q=isFinite(g)?1+Math.floor(3*e):st,v=[],Z=0,k=0;k<st;++k)i=k/e,M=Math.exp(-i*i/2),v.push(M),0==k?Z+=M:k<Q&&(Z+=2*M);for(k=0;k<v.length;k++)v[k]=v[k]/Z;H.envMap=J.texture,H.samples=Q,H.weights=v,H.latitudinal="latitudinal"===V,Y&&(H.poleAxis=Y),H.dTheta=I,H.mipInt=ft-z;var E=ht[U],i=3*Math.max(0,Nt-2*E),w=(0===U?0:2*Nt)+2*E*(ft-Tt<U?U-ft+Tt:0),g=_t[U];u.renderModel(a,{model3d:!0,mesh:g,mat:H},{restoreViewport:!1,preRender:function(J){c._setViewport(a,i,w,3*E,2*E)}})}},Tt=4,ft=8,Nt=Math.pow(2,ft),ot=ft-Tt+1+(At=[.125,.215,.35,.446,.526,.582]).length,st=20,$R=1/(a=(1+Math.sqrt(5))/2),mt=[new qR(1,1,1),new qR(-1,1,1),new qR(1,1,-1),new qR(-1,1,-1),new qR(0,a,$R),new qR(0,a,-$R),new qR($R,0,a),new qR(-$R,0,a),new qR(a,$R,0),new qR(-a,$R,0)],a=function(){for(var J=[],a=[],z=[],U=ft,g=0;g<ot;g++){var V=Math.pow(2,U),Y=(a.push(V),1/V);ft-Tt<g?Y=At[g-ft+Tt-1]:0==g&&(Y=0),z.push(Y);for(var c=-(Y=1/(V-1))/2,u=1+Y/2,H=[],M=[],I=[],e=0;e<6;e++){var Q=e%3*2/3-1,v=2<e?0:-1;H.push(Q,v,0,Q+2/3,v,0,Q+2/3,1+v,0,Q,v,0,Q+2/3,1+v,0,Q,1+v,0),M.push(c,c,u,c,u,u,c,c,u,u,c,u),I.push(e,e,e,e,e,e)}J.push({position:new fu(H),uv:new fu(M),faceIndex:new fu(I)}),Tt<U&&U--}return{_lodPlanes:J,_sizeLods:a,_sigmas:z}}(),_t=a._lodPlanes,ht=a._sizeLods,Bt=a._sigmas,tt=DR.EnvmapTextureSize,DR.setCompType("__ht_envmap_bg__",function(J,a,z,U,g){var V,Y,c,u=z.image;(u=u&&DR.getImage(u))&&(V=a.x,Y=a.y,c=a.width,a=a.height,0!=(z=((z.offset||0)%1+1)%1*c|0)&&(J.save(),J.beginPath(),J.rect(V,Y,c,a),J.clip(),J.translate(z,0),DR.drawImage(J,u,V-c,Y,c,a,U,g)),DR.drawImage(J,u,V,Y,c,a,U,g),0!=z&&J.restore())}),["left","front","right","back","top","bottom"]),ZA=B._RenderList=function(y){var F=[],O=[],n={},L={},b={},S={},P={},$={},l={},T={};return{opaque:F,transparent:O,init:function(){for(var J in F.length=0,O.length=0,l={},T)T[J].length=0},push:function(J,a){if(a){var z,U,g,V,Y=J,c=Y.gv,u=Y.data,H=Y.shapeModel;if(H)if(u.s("static")&&(k=!0),H.model3d)Z=z=U=!0;else{(Q=u.s("shape3d.top.material"))&&(ZX(Q)?U=!0:z=!0),(Q=u.s("shape3d.bottom.material"))&&(ZX(Q)?U=!0:z=!0),(Q=u.s("shape3d.from.material"))&&(ZX(Q)?U=!0:z=!0),(Q=u.s("shape3d.to.material"))&&(ZX(Q)?U=!0:z=!0),(Q=u.s("shape3d.material"))&&(ZX(Q)?U=!0:z=!0);var M,I,e=u.s("shape3d.transparent")||u.s("points.transparent");for(jR(H)||(M=_(H.transparent,u,c),H=[H]),g=0,V=H.length;g<V;g++)I=H[g],(I=(I=(I=_(I.transparent,u,c))===xR?M:I)===xR?e:I)?U=!0:z=!0}for(g=0,V=vA.length;g<V;g++){var Q,v=Y[vA[g]];v&&((Q=c.getFaceMaterial(u,vA[g]))?ZX(Q)?U=!0:z=!0:v.transparent?U=!0:z=!0)}var a=!1,Z=(c.isLabelVisible(u)&&(Y.labelInfo&&(a=!0,u.s(Pe+".transparent")?U=!0:z=!0),Y.label2Info&&(a=!0,u.s($e+".transparent")?U=!0:z=!0)),c.isNoteVisible(u)&&(Y.noteInfo&&(a=!0,u.s(le+".transparent")?U=!0:z=!0),Y.note2Info&&(a=!0,u.s(Te+".transparent")?U=!0:z=!0)),{opaque:z=!(U=Y._38o?z=a=!0:U)||z,transparent:U,model3d:Z,staticModel3d:k});a&&u instanceof jw&&(Z.blockRenderable=!0),Y._renderParams=Z}var k=J.data,a=k._id;if((Z=l[a])!==xR)return Z;Z=J._renderParams;if(!Z||!1===Z.visible||k instanceof jw&&!Z.blockRenderable)return l[a]=!1;if(l[a]=!0,k.isAnimationPlaying()&&(J.shapeModel&&y.updateSkeleton(k,J.shapeModel),k.isAnimationPaused()||y.iv()),J={ui:J,model3d:Z.model3d,data:k,z:0,id:a},y._glCapabilities&&y._glCapabilities.instancedArray&&Z.staticModel3d&&J.ui.mat&&y.isVisible(k)&&k.s(Lq)){var E,i=y.shadowMap.enable,w=y.getStaticInstancingKey(k,!0),p=T[w],x=0!==(w=(p=p||(T[w]={ms:[],ds:[],cs:[],highlightColors:[],lod:[],lodSum:new Uint32Array(32),length:0,msVersion:0,shadowVersion:0,csVersion:0,highlightVersion:0,lodVersion:0,shadow:[],cache:{version:-1,length:-1,id:-1,buffer:null},cacheShadow:{version:-1,length:-1,id:-1,buffer:null},cachePick:{version:-1,length:-1,buffer:null},cacheHighlight:{version:-1,length:-1,buffer:null}})).length),W=!1,D=J.ui._finalMat;DR.extractBatchTranslation?((E=p.msTranslation)||(p.msTranslation=E=mu()),x||(E[12]=D[12],E[13]=D[13],E[14]=D[14])):p.msTranslation&&delete p.msTranslation;for(var K=16*w,d=0,j=p.ms;d<16;d++){var q=D[d];E&&12<=d&&d<=14&&(q-=E[d]),j[K+d]!=q&&(W=!0,j[K+d]=q)}W&&(p.msVersion=p.msVersion+1),p.ds[w]=a,i&&(i=k.s("shadow.cast"),!W&&p.shadow[w]===i||(p.shadow[w]=i,p.shadowVersion=p.shadowVersion+1));for(var X=VX(null,y.pickColorMap,y.isSelectable(k),J.ui,Se,!0),W=!1,R=4*w,d=0,C=p.cs;d<4;d++)C[R+d]!==X[d]&&(W=!0,C[R+d]=X[d]);if(W&&(p.csVersion=p.csVersion+1),p.length++,x)return X&&(fX(X,L[a],n),fX(X,S[a],b),fX(X,$[a],P)),!0}return Z.opaque&&F.push(J),Z.transparent&&O.push(J),!0},getModel3dInstancedBatchMap:function(){return T},resetModel3dInstancedDraw:function(){for(var J in T)T[J].rendered=null},batchModelMap:n,batchIndexMap:L,polylineModelMap:b,polylineIndexMap:S,wireframeModelMap:P,wireframeIndexMap:$,beginFillHighlightMaskColor:function(J){var a,z=y.dm();for(a in T){var U=T[a],g=U.ds;if(g&&U.length){for(var V=U.highlightColors,Y=!1,c=!1,u=0,H=U.length;u<H;u++)for(var M,I=J(M=z.getDataById(g[u]),!0)?[0,0,0,0]:(c=!0,y.getHighlightPickColor(M)),e=4*u,Q=0;Q<4;Q++)V[e+Q]!==I[Q]&&(Y=!0,V[e+Q]=I[Q]);Y&&(U.highlightVersion=U.highlightVersion+1),U._csBackup=[U.cs,U.csVersion,U.cachePick],U.cs=U.highlightColors,U.csVersion=U.highlightVersion,U.cachePick=U.cacheHighlight,U._highlightInvalid=!c}}},endFillHighlightMaskColor:function(){for(var J in T){var a=(J=T[J])._csBackup;a&&(J.cachePick=a[2],J.csVersion=a[1],J.cs=a[0],J._csBackup=xR,J._highlightInvalid=xR)}},ivBatch:function(J){J?(SX(n,L,J,y),SX(b,S,J,y),SX(P,$,J,y)):(n=this.batchModelMap={},L=this.batchIndexMap={},b=this.polylineModelMap={},S=this.polylineIndexMap={},P=this.wireframeModelMap={},$=this.wireframeIndexMap={}),this.markBatchInvalid()},ivModelBatch:function(J){J?SX(n,L,J,y):(n=this.batchModelMap={},L=this.batchIndexMap={}),this.markBatchInvalid()},ivPolylineBatch:function(J){J?SX(b,S,J,y):(b=this.polylineModelMap={},S=this.polylineIndexMap={}),this.markBatchInvalid()},ivWireframeBatch:function(J){J?SX(P,$,J,y):(P=this.wireframeModelMap={},$=this.wireframeIndexMap={}),this.markBatchInvalid()},markBatchInvalid:function(){this._batchInvalid=!0},isBatchInvalid:function(){return this._batchInvalid},onUpdated:function(){this._batchInvalid=null},sort:function(J,a,z){var U=1<O.length;if(z=z&&1<F.length,U||z){for(var g,V,Y,c,u=a[2],H=a[6],M=a[10],I=a[14],e=a[3],Q=a[7],v=a[11],Z=a[15],k=0;k<2;k++){if(0===k){if(!z)continue;c=F}else{if(!U)continue;c=O}for(var E=0,i=c.length;E<i;E++)(Y=(V=c[E].data)._position)?(g=Y.x,V=V._54O,Y=Y.y,c[E].z=(u*g+H*V+M*Y+I)/(e*g+Q*V+v*Y+Z)):c[E].z=0}z&&F.sort(function(J,a){var z=J.model3d;return z!==a.model3d?z?1:-1:J.z!==a.z?J.z-a.z:J.id-a.id}),U&&O.sort(J||cI)}}}},kA=B._RenderLists=function(U){var g={};function z(J,a){var z=g[J=J||"main"];return!z&&a?g[J]=new ZA(U):z}return{init:function(){for(var J in g)g[J].init()},onUpdated:function(){for(var J in g)g[J].onUpdated()},get:z,push:function(J,a){return z(J.data.getRenderLayer(),!0).push(J,a)},each:function(J){for(var a in g)J(g[a])},lists:g}},EA=B.RenderTarget=function(J,a,z,U){var g,V=this,Y=(null!=a&&a.canvas?(g=a,a=z,z=U,U=arguments[4]):g=J.getGL(),(U=U||{}).cube,U.multiple);if(Y&&1<Y&&J.isWebGL2()&&!U.cube?(V.textures=[],V.multiple=Y):Y=0,U.cube||Y?U.samples=0:U.samples=Math.min(J._glCapabilities.maxSamples,U.samples&&1<U.samples&&J.isWebGL2()?U.samples:0),V.options=U,V.uuid=U.uuid||m.Math.generateUUID(),V.gv=J,V.init(J,g,U),Y){var c,u,H=U.format,M=U.textureType;jR(H)||(c=H,H=[]),jR(M)||(u=M,M=[]);for(var I=0;I<Y;I++)H[I]=H[I]||c||6408,M[I]=uA(J,M[I]||u);V.format=H,V.textureType=M}else V.format=[U.format||6408],V.textureType=[uA(J,U.textureType)];V.generateMipmaps=!!U.generateMipmaps,V.depthInternalFormat=U.depthFormat||33189,U.samples&&!J._glCapabilities._maxSamplesChecked?V.setSize(g,a||1,z||1):V.setSize(g,a,z)},tR=(pR.assign(B.RenderTarget.prototype,{isRenderTarget:!0,bind:function(J,a){var z,U,g,V=this.options;if(V.autoSize&&(z=(g=this.gv).getDevicePixelRatio(),U=g.getWidth()*z,g=g.getHeight()*z,this.setSize(J,U,g)),V.cube?_2(J,this.frame[a]):_2(J,this.options.samples?this._MSAAFbo:this.frame),this.multiple){for(var Y=[],c=0;c<this.multiple;c++)Y.push(36064+c);J.drawBuffers(Y)}J._renderTargetStack.push(this)},unbind:function(J){J._renderTargetStack.pop(),h2(J),this.options.samples&&(J.bindFramebuffer(36008,this._MSAAFbo),J.bindFramebuffer(36009,this.frame),J.blitFramebuffer(0,0,this.width,this.height,0,0,this.width,this.height,16384,9728),J.bindFramebuffer(36008,null),J.bindFramebuffer(36009,null))},isBinding:function(J){if(!(J=J.frameStack)||!J.length)return!1;var a=J[J.length-1];if(this.options.cube){for(var z=0;z<6;z++)if(this.frame[z]===a)return!0;return!1}return a===(this.options.samples?this._MSAAFbo:this.frame)},grabDepth:function(J){var a=this,z=this.gv.getGL();if(!z)return null;var U,g,V,Y=a.options,c=Y.samples;if(J&&!c)return a.depth;var u=a.depthInternalFormat,H=a.width,M=a.height;return J?(g=(U=(U=z._grabDepthRboFrame)?U:z._grabDepthRboFrame={frame:z.createFramebuffer()}).depthRbo)||(g=U.depthRbo=z.createRenderbuffer()):(V=(U=(U=z._grabDepthTextureFrame)?U:z._grabDepthTextureFrame={frame:z.createFramebuffer()}).depthTexture)||(V=U.depthTexture=a.gv.createTexture({empty:!0,wrapS:Y.wrapS||33071,wrapT:Y.wrapT||33071,filter:9728})),U.width===H&&U.height===M&&U.format===u||(_2(z,U.frame),J?(z.bindRenderbuffer(36161,g),z.renderbufferStorage(36161,u,H,M),z.framebufferRenderbuffer(36160,36096,36161,g),z.bindRenderbuffer(36161,null)):(z.activeTexture(33984),XJ(z,V),z.texImage2D(3553,0,u,H,M,0,6402,36012===u?5126:33190===u?5125:5123,null),z.framebufferTexture2D(36160,36096,3553,V,0),XJ(z,null),V._internalFormat=u),h2(z),U.width=H,U.height=M,U.format=u),_2(z,null),z.bindFramebuffer(36008,c?this._MSAAFbo:this.frame),z.bindFramebuffer(36009,U.frame),z.blitFramebuffer(0,0,a.width,a.height,0,0,a.width,a.height,256,9728),z.bindFramebuffer(36008,null),z.bindFramebuffer(36009,null),h2(z),J?g:V},isCube:function(){return this.options.cube},init:function(J,a,z){for(var U=this,g=z.samples,V=z.cube,Y=U.multiple,c=Y||1,u=0;u<c;u++){var H=a.createTexture(),M=V?34067:3553,I=(a.activeTexture(33984),a.bindTexture(M,H),a.texParameteri(M,10242,z.wrapS||33071),a.texParameteri(M,10243,z.wrapT||33071),g?9728:9729);a.texParameteri(M,10241,z.minFilter||I),a.texParameteri(M,10240,z.magFilter||I),a.bindTexture(M,null),0==u&&(U.texture=H),Y&&(U.textures[u]=H)}if(V)for(U.depth=[],U.frame=[],u=0;u<6;u++)U.depth[u]=a.createRenderbuffer(),U.frame[u]=a.createFramebuffer();else U.depth=a.createRenderbuffer(),U.frame=a.createFramebuffer();U.assureTexture()},assureTexture:function(){var J=this.uuid,a=(this.gv.setTexture(J,this.texture,"default"),m.Default.setImage(J,null),this.multiple);if(a)for(var z=0;z<a;z++){var U=J+z;this.gv.setTexture(U,this.textures[z],"default"),m.Default.setImage(U,null)}},releaseTexture:function(){return this.release()},release:function(){var J=this,a=J.gv.getGL(),z=J.uuid,U=(J.gv.deleteTexture(z),J.multiple);if(U)for(var g=0;g<U;g++)J.gv.deleteTexture(z+g);if(J.options.cube)for(g=0;g<6;g++)a.deleteRenderbuffer(J.depth[g]),a.deleteFramebuffer(J.frame[g]);else a.deleteRenderbuffer(J.depth),a.deleteFramebuffer(J.frame),J._MSAAFbo&&(a.deleteRenderbuffer(J._MSAARbO),a.deleteFramebuffer(J._MSAAFbo))},getUUID:function(){return this.uuid},getTexture:function(J){return this.multiple?this.textures[J]:this.texture},getSize:function(){return[this.width,this.height]},setSize:function(J,a,z){var U=this;if(a=Math.round(a),z=Math.round(z),a&&z&&(U.width!==a||U.height!==z)){U.width=a,U.height=z;var g=36161,V=U.options.samples,Y=U.options.cube,c=Y?34067:3553;if(V){var u=U.gv._glCapabilities;if(!u._maxSamplesChecked){for(J.bindRenderbuffer(g,U.depth),J.getError();1<V&&(J.renderbufferStorageMultisample(g,V,U.depthInternalFormat,a,z),J.getError());)V=Math.floor(V>>1);V<=1&&(V=0,J.texParameteri(c,10241,U.options.minFilter||9729),J.texParameteri(c,10240,U.options.magFilter||9729),J.renderbufferStorage(g,U.depthInternalFormat,a,z)),u._maxSamplesChecked=!0,u.maxSamples=U.options.samples=V,J.bindRenderbuffer(g,WR)}}V&&(U._MSAAFbo||(U._MSAAFbo=J.createFramebuffer(),U._MSAARbO=J.createRenderbuffer()),J.bindRenderbuffer(g,U._MSAARbO),J.renderbufferStorageMultisample(36161,V,32856,a,z),_2(J,U._MSAAFbo),J.framebufferRenderbuffer(36160,36064,g,U._MSAARbO),J.framebufferRenderbuffer(36160,36096,g,U.depth),h2(J),J.bindRenderbuffer(g,null));for(var H=U.multiple||1,M=0;M<H;M++){var I,e=U.getTexture(M);if(J.activeTexture(33984+M),J.bindTexture(c,e),Y)for(var Q=0;Q<6;Q++)U.setupFrameBufferTextureAndDepth(J,U.frame[Q],e,U.depth[Q],34069+Q,M);else U.setupFrameBufferTextureAndDepth(J,U.frame,e,U.depth,3553,M);U.generateMipmaps&&(U.gv.isWebGL2()||t.isPOT(a)&&t.isPOT(z))&&(J.generateMipmap(c),I=U.options.minFilter||(V?9728:9729),J.texParameteri(c,10241,9728===I?9984:9987)),J.bindTexture(c,null)}}},updateTextureData:function(J,a){a=a||0;var z,U=this.gv.getGL();U&&(z=this.options.cube?34067:3553,this._updateTextureDataImpl(U,z,!0,J,a))},_updateTextureDataImpl:function(J,a,z,U,g){var V,Y=this.format[g],c=this.textureType[g];z&&(V=this.getTexture(g),J.activeTexture(33984+g),J.bindTexture(a,V)),J.texImage2D(a,0,MA(this.gv,Y,c),this.width,this.height,0,Y,c,U||null),z&&J.bindTexture(a,null)},setupFrameBufferTextureAndDepth:function(J,a,z,U,g,V){var Y;(Y=this.options.data)&&(this.options.data=null),this._updateTextureDataImpl(J,g,!1,Y,V),_2(J,a),J.framebufferTexture2D(36160,36064+V,g,z,0),0===V&&this.setupRenderBufferStorage(J,U),h2(J)},setupRenderBufferStorage:function(J,a){J.bindRenderbuffer(36161,a);var z=this.options.samples;z?J.renderbufferStorageMultisample(36161,z,this.depthInternalFormat,this.width,this.height):(J.renderbufferStorage(36161,this.depthInternalFormat,this.width,this.height),J.framebufferRenderbuffer(36160,36096,36161,a)),J.bindRenderbuffer(36161,null)},readPixels:function(J,a,z,U,g,V){var Y=this.gv.getGL();_2(Y,this.frame),V=5121===this.textureType[V||0]?(g=g||new Uint8Array(4*z*U),5121):(g=g||new Float32Array(4*z*U),5126);try{Y.readPixels(J,a,z,U,6408,V,g)}finally{h2(Y)}return g},readPixelsAsync:function(J,a,z,U,g,V,Y){if(!this.gv.isWebGL2())throw new Error("readPixelsAsync only work on WebGL2");var c,u,H,M,I,e=this.gv.getGL();_2(e,this.frame),Y=5121===this.textureType[Y||0]?(g=g||new Uint8Array(4*z*U),5121):(g=g||new Float32Array(4*z*U),5126);try{var Q=qJ(e),v=(e.bindBuffer(35051,Q),e.bufferData(35051,g.byteLength,35041),e.readPixels(J,a,z,U,6408,Y,0),e.bindBuffer(35051,null),e.fenceSync(37143,0));e.flush()}finally{h2(e)}c=e,u=v,H=0,M=10,I=function(J){e.deleteSync(v),J&&(e.bindBuffer(35051,Q),e.getBufferSubData(35051,0,g),e.bindBuffer(35051,null)),e.deleteBuffer(Q),V(J?g:null)},function J(){var a=c.clientWaitSync(u,H,0);37149==a?I(!1):37147==a?AR(J,M):I(!0)}()},toCanvas:function(J,a){var z,U=this.width,g=this.height,V=this.readPixels(0,0,U,g),Y=((a=a||Q.createElement("canvas")).width!==U&&(a.width=U),a.height!==g&&(a.height=g),(z=J?((rt=rt||Q.createElement("canvas")).width!==U&&(rt.width=U),rt.height!==g&&(rt.height=g),rt.getContext("2d")):a.getContext("2d")).createImageData(U,g));if(V instanceof Float32Array){for(var c=V.byteLength/V.BYTES_PER_ELEMENT,u=new Uint8Array(c);0<=--c;){var H=V[c];H<0?H=0:1<H&&(H=1),u[c]=255*H}V=u}return Y.data.set(V),z.putImageData(Y,0,0),J&&(z=a.getContext("2d"),Gm(z,{width:U,height:g,comps:[{scaleY:-1,type:"image",name:rt,rect:[0,0,U,g]}]},xR,0,0,U,g)),a}}),B.Interactor=function(J){this.gv=this.g3d=J}),iA=(J("Interactor",pR,{ms_listener:1,getView:function(){return this.gv.getView()},setUp:function(){this.addListeners()},tearDown:function(){this.removeListeners()},fi:function(J){this.gv.fi(J)},startDragging:function(J){yu(this,J)}}),B.DefaultInteractor=function(J){yL(iA,this,[J])}),wA=(J("DefaultInteractor",tR,{getState:function(){return this._62O},setState:function(J){this._62O=J},handle_contextmenu:function(J){Bm(J)},handle_mousewheel:function(J){this.gv.handleScroll(J,J.wheelDelta/40)},handle_DOMMouseScroll:function(J){2===J.axis&&this.gv.handleScroll(J,-J.detail)},handle_keydown:function(J){this.gv.handleKeyDown(J)},handle_mousedown:function(J){this.handle_touchstart(J)},handle_touchstart:function(J){Bm(J);var a=this,z=a.gv,U=Iu(J),g=(V=z.getDataInfoDuringInteract(J))?V.data:WR,V=V?V.part:WR,Y=z.sm(),c=RQ(J),u=vu(J);z.setFocus(J)&&(a._62O=WR,a._57I=WR,a.pendingClickThrough=WR,a.__lastClientPoint__=iu(J),g?Eu(J)?Y.co(g)?Y.rs(g):Y.as(g):Y.co(g)?g instanceof jw&&g.isClickThroughEnabled()&&Iu(J)&&(a.pendingClickThrough=iu(J)):Y.ss(g):U&&(Eu(J)?z.isRectSelectable()&&(a._62O=Uq):a._57I=iu(J)),a._31Q&&(zu(a._31Q),delete a._31Q,delete a._32Q),a._62O||(z.isFirstPersonMode()&&(ku(J)||eu(J)||2<u?a._62O="pan":z.isMouseRoamable()||WQ(J)?(a._62O="roaming",a.foward=c&&Iu(J),a._32Q=YL(),a._31Q=au(a.tick,a)):U||(a._62O="roaming")),a._62O||(U&&c&&LA[V]?(a._62O=V,a.p3=g.p3()):U&&c&&b(g)&&z.isSelected(g)?z.isMovable(g)?(a._62O="move",a.p3=g.p3(),a.movedata=g):z._39Q(g)&&(a._62O="none"):WQ(J)&&(2<u?a._62O="pan":2===u&&(a.dist=KW(J),a._62O="pinch")))),a.point=z.lp(J),yu(a,J),Zu(J)?z.handleDoubleClick(J,g,V):z.handleClick(J,g,V))},tick:function(){var J=this.gv,a=J._moveStep;this.point&&J.isWalkable()&&(this._32Q&&(a*=(YL()-this._32Q)/50),J.walk(this.foward?a:-a),this._32Q=YL(),this._31Q=au(this.tick,this))},handle_mouseup:function(J){this.handle_touchend(J)},handle_touchend:function(J){var a=this._57I;a&&(pu(a,iu(J))<=1&&this.gv.sm().cs(),this._57I=WR),(a=this.pendingClickThrough)&&(pu(a,iu(J))<=1&&(a=this.gv.getDataInfoDuringInteract(J))&&a.data instanceof jw&&a.data.isClickThroughEnabled()&&(a=this.gv.getDataInfoDuringInteract(J,!0))&&(J.clickThrough=!0,this.gv.sm().ss(a.data)),this.pendingClickThrough=null)},handleWindowMouseMove:function(J){this.handleWindowTouchMove(J)},handleWindowTouchMove:function(a){var z,U,J=this,g=J.gv,V=J._62O,Y=J.point,c=g.dm(),u=g.lp(a),H=u.x-Y.x,M=u.y-Y.y,I=g.getWidth(),e=g.getHeight();if(I&&e){var Q=iu(a),Q=Ef(g,Q,J.__lastClientPoint__),Q=pu({x:0,y:0},Q),v=-QR*H/I,Z=-QR*M/e;if("roaming"===V)J.rotate(a,v/2,Z/2);else if(V===RA||V===CA||V===yA)g._86O||c.beginTransaction(),g.fi({kind:g._86O?"betweenEditRotation":"beginEditRotation",event:a}),g._86O=1,g.sm().each(function(J){var a;b(J)&&g.isRotationEditable(J)&&(a=yR(v)>yR(Z)?v:Z,V===RA?J.setRotationX(J.getRotationX()+a):V===CA?J.setRotationY(J.getRotationY()+a):V===yA&&J.setRotationZ(J.getRotationZ()+a))});else if("move"===V||LA[V]){if(V===FA||V===OA||V===nA)g._87O||c.beginTransaction(),g.fi({kind:g._87O?"betweenEditScale":"beginEditScale",event:a}),g._87O=1;else{if(!g._moving){if(Q<DR.touchMoveThreshold)return;c.beginTransaction()}g.fi({kind:g._moving?"betweenMove":"beginMove",event:a}),g._moving=1}var k,E,Q=J.p3,c=g.getPositionInfo(Q),i=WJ(g),w=V===jA?"x":V===qA?"y":V===XA?"z":V===FA?"sx":V===OA?"sy":V===nA?"sz":g.getMoveMode(a,J.movedata),H=H/I*c.width,M=-1*M/e*c.height,I=[i[0]*H,i[4]*H,i[8]*H],e=[i[1]*M,i[5]*M,i[9]*M],c=I[0]+e[0],i=I[1]+e[1],I=I[2]+e[2],e=[Q[0]+c,Q[1]+i,Q[2]+I],p=Au(g.getEye(),e,!0);if("xyz"===w?(k=e,g.moveSelection(c,i,I)):"xz"===w?(k=HJ(g,Q,[0,1,0],e))&&g.moveSelection(k[0]-Q[0],0,k[2]-Q[2]):"xy"===w?(k=HJ(g,Q,[0,0,1],e))&&g.moveSelection(k[0]-Q[0],k[1]-Q[1],0):"yz"===w?(k=HJ(g,Q,[1,0,0],e))&&g.moveSelection(0,k[1]-Q[1],k[2]-Q[2]):"x"===w||"sx"===w?(p[0]=0,(k=HJ(g,Q,p,e))&&(E=k[0]-Q[0],"x"===w?g.moveSelection(E,0,0):g.sm().each(function(J){b(J)&&g.isSizeEditable(J)&&(z=J.getScaleX()+E/100,U=z/J.getScaleX(),J.setScaleX(z),ku(a)&&(J.setScaleY(J.getScaleY()*U),J.setScaleTall(J.getScaleTall()*U)))}))):"y"===w||"sy"===w?(p[1]=0,(k=HJ(g,Q,p,e))&&(E=k[1]-Q[1],"y"===w?g.moveSelection(0,E,0):g.sm().each(function(J){b(J)&&g.isSizeEditable(J)&&(z=J.getScaleTall()+E/100,U=z/J.getScaleTall(),J.setScaleTall(z),ku(a)&&(J.setScaleY(J.getScaleY()*U),J.setScaleX(J.getScaleX()*U)))}))):"z"!==w&&"sz"!==w||(p[2]=0,(k=HJ(g,Q,p,e))&&(E=k[2]-Q[2],"z"===w?g.moveSelection(0,0,E):g.sm().each(function(J){b(J)&&g.isSizeEditable(J)&&(z=J.getScaleY()+E/100,U=z/J.getScaleY(),J.setScaleY(z),ku(a)&&(J.setScaleX(J.getScaleX()*U),J.setScaleTall(J.getScaleTall()*U)))}))),!k)return;J.p3=k}else V===Uq?((c=J.div)||(c=J.div=hL(),JQ(J.getView(),c),c.op=Y,c.style.background=g.getRectSelectBackground()),g.fi({kind:g._rectSelecting?"betweenRectSelect":"beginRectSelect",event:a}),g._rectSelecting=1,c.rect=xu(c.op,u),R(c,c.rect)):"pinch"===V&&2===vu(a)?(g.fi({kind:g._pinching?"betweenPinch":"beginPinch",event:a}),g._pinching=1,E=KW(a),g._lastZoomLP||(g._lastZoomLP=(I=(i=a).touches[0],i=i.touches[1],p=I.clientX,I=I.clientY,{x:(p+i.clientX)/2,y:(I+i.clientY)/2})),g.handlePinch(E,J.dist),J.dist=E):"pan"===V||ku(a)||eu(a)?J.pan(a,H,M):"none"===V||g.isFirstPersonMode()||J.rotate(a,v,Z);J.point=u}},pan:function(J,a,z){var U,g,V=this.gv;V.isPannable()&&(g=V.getWidth(),U=V.getHeight(),g&&U&&(g=a/g*(a=V.getCenterInfo()).width,z=-1*z/U*a.height,V.fi({kind:V._panning?"betweenPan":"beginPan",event:J}),V._panning=1,V.pan(-g,-z)))},rotate:function(J,a,z){var U=this.gv;U.isRotatable()&&(U.fi({kind:U._rotating?"betweenRotate":"beginRotate",event:J}),U._rotating=1,U.rotate(a,z))},handleWindowMouseUp:function(J){this.handleWindowTouchEnd(J)},handleWindowTouchEnd:function(J){var a,z,U,g,V,Y=this,c=Y.gv,u=c.dm(),H=Y.div;H&&((a=c.getDatasInRect(H.rect)).isEmpty()||(z=c.sm(),U=z.toSelection(),g=ku(J),V=J.altKey,a.each(function(J){z.co(J)?g&&!V||U.remove(J):(!V||g&&V)&&U.add(J)}),z.ss(U)),Fu(H)),c._moving&&(delete c._moving,c.fi({kind:"endMove",event:J}),c.onMoveEnded(),u.endTransaction()),c._panning&&(delete c._panning,c.fi({kind:"endPan",event:J}),c.onPanEnded()),c._rotating&&(delete c._rotating,c.fi({kind:"endRotate",event:J}),c.onRotateEnded()),c._86O&&(delete c._86O,c.fi({kind:"endEditRotation",event:J}),u.endTransaction()),c._87O&&(delete c._87O,c.fi({kind:"endEditScale",event:J}),u.endTransaction()),c._pinching&&(delete c._pinching,c.fi({kind:"endPinch",event:J}),c.onPinchEnded()),c._rectSelecting&&(delete c._rectSelecting,c.fi({kind:"endRectSelect",event:J}),c.onRectSelectEnded()),c._walking&&(delete c._walking,c.fi({kind:"endWalk",event:J}),c.onWalkEnded()),c._lastZoomLP=c._lastZoomHit=null,Y.dist=Y.point=Y._62O=Y.p3=Y.movedata=Y.div=Y._57I=Y.pendingClickThrough=Y._32Q=Y._31Q=Y.foward=WR,Y.__lastClientPoint__=WR}}),B.MapInteractor=function(J){yL(wA,this,[J]),this._keepHorizon=!0,this._threshold=2,this._touchScaleThreshold=.05,this._touchRotateThreshold=.03,this._touchScaleCheckAccuracy=.01,this._panButton="right",this._minPhi=0,this._maxPhi=5*Math.PI/12}),pA=(J("MapInteractor",tR,{setUp:function(){wA.superClass.setUp.call(this);var J=this.gv;this.__oldMinPhi__=J.getRotateMinPhi(),this.__oldMaxPhi__=J.getRotateMaxPhi(),J.setRotateMinPhi(this._minPhi),J.setRotateMaxPhi(this._maxPhi)},tearDown:function(){wA.superClass.tearDown.call(this);var J=this.gv;J.setRotateMinPhi(this.__oldMinPhi__),J.setRotateMaxPhi(this.__oldMaxPhi__),delete this.__oldMinPhi__,delete this.__oldMaxPhi__},handle_contextmenu:function(J){Bm(J)},handle_mousewheel:function(J){this.gv.handleScroll(J,J.wheelDelta/40)},handle_DOMMouseScroll:function(J){2===J.axis&&this.gv.handleScroll(J,-J.detail)},handle_keydown:function(J){this.gv.handleKeyDown(J)},handle_mousedown:function(J){this.handle_touchstart(J)},handle_touchstart:function(J){Bm(J);var a,z,U,g=this.gv;g.setFocus(J)&&(a=(z=g.getDataInfoAt(J))?z.data:WR,z=z?z.part:WR,this.__lastClientPoint__=iu(J),U=this.editing={point:g.lp(J),data:a,part:z},WQ(J)?U.touch=!0:(U.touch=!1,U.clickLeft=Iu(J),eu(J)?U.pan=!0:U.pan="left"===this.panButton===U.clickLeft),a&&g._39Q(a)&&(U.preventDefault=!0),yu(this,J),Zu(J)?g.handleDoubleClick(J,a,z):g.handleClick(J,a,z))},handle_mouseup:function(J){this.handle_touchend(J)},handle_touchend:function(J){},handleWindowMouseMove:function(J){this.handleWindowTouchMove(J)},handleWindowTouchMove:function(J){var a=this,g=a.gv,z=a.editing;if(z){var U=g.lp(J),V=z.point,Y=U.x-V.x,V=U.y-V.y;if(!z.moved){if(Math.abs(Y)<a.threshold&&Math.abs(V)<a.threshold&&!(J.touches&&1<J.touches.length))return;z.moved=!0}if(!z.preventDefault){z.point=U;var c,u,H,M,I,e,Q=z.part;if(LA[Q]){var U=z.data,v=g.dm(),Z=g.getWidth(),k=g.getHeight(),E=-QR*Y/Z,i=-QR*V/k;if(Q===RA||Q===CA||Q===yA){g._86O||v.beginTransaction(),g.fi({kind:g._86O?"betweenEditRotation":"beginEditRotation",event:J}),g._86O=1;var w=yR(E)>yR(i)?E:i;g.sm().each(function(J){b(J)&&g.isRotationEditable(J)&&(Q===RA?J.setRotationX(J.getRotationX()+w):Q===CA?J.setRotationY(J.getRotationY()+w):Q===yA&&J.setRotationZ(J.getRotationZ()+w))})}else{var p,x,W,D,U=U.p3(),Y=Y/Z*(d=g.getPositionInfo(U)).width,V=-1*V/k*d.height,K=[(d=WJ(g))[0]*Y,d[4]*Y,d[8]*Y],d=[d[1]*V,d[5]*V,d[9]*V],K=[U[0]+(K[0]+d[0]),U[1]+(K[1]+d[1]),U[2]+(K[2]+d[2])],d=Au(g.getEye(),K,!0);if(Q===FA||Q===OA||Q===nA)g._87O||v.beginTransaction(),g.fi({kind:g._87O?"betweenEditScale":"beginEditScale",event:J}),g._87O=1,(p=HJ(g,U,d,K))&&(X=0,Q===FA?x="X":Q===OA?(x="Tall",X=1):Q===nA&&(x="Y",X=2),(W=["X","Y","Tall"]).splice(W.indexOf(x),1),D=ku(J),q=(p[X]-U[X])/100,g.sm().each(function(a){var J,z,U;b(a)&&g.isSizeEditable(a)&&(J=a["getScale"+x](),a["setScale"+x](z=J+q),D&&(U=z/J,W.forEach(function(J){a["setScale"+J](a["getScale"+J]()*U)})))}));else if(Q===jA||Q===qA||Q===XA){if(!g._moving){var j=iu(J),j=Ef(g,j,a.__lastClientPoint__);if(pu({x:0,y:0},j)<DR.touchMoveThreshold)return;v.beginTransaction()}g.fi({kind:g._moving?"betweenMove":"beginMove",event:J}),g._moving=1;var q,X=0;Q===jA?X=0:Q===qA?X=1:Q===XA&&(X=2),d[X]=0,(p=HJ(g,U,d,K))&&(q=p[X]-U[X],(j=[0,0,0])[X]=q,g.moveSelection.apply(g,j))}}}else z.touch?2!==(v=J.touches.length)?a.pan(J,Y,V):v<=1||(K=(d=J.touches)[0].clientX,p=d[0].clientY,j={x:(U=d[1].clientX)-K,y:(X=d[1].clientY)-p},v=z.lastCenter,d=Math.atan2(j.y,j.x),c=0,(H=z.theta)==WR?H=z.theta=d:(c=d-H,z.thetaStarted||Math.abs(c)>a.touchRotateThreshold?(z.thetaStarted=!0,z.theta=d):c=0),H=y*(p+X)/2/g.getHeight(),d=0,(u=z.phi)==WR?u=z.phi=H:(d=H-u,z.phiStarted||Math.abs(d)>a.touchRotateThreshold?(z.phiStarted=!0,z.phi=H):d=0),u=Math.sqrt(j.x*j.x+j.y*j.y),(H=z.vlen)?(j=K-v.x,I=p-v.y,e=U-v.x,v=X-v.y,j=Math.sqrt(j*j+I*I),I=Math.sqrt(e*e+v*v),(v=a._sign2(j-(e=H/2)))*(j=a._sign2(I-e))<0||0===v&&0===j?(M=1,z.vlen=u):(M=M||u/H,z.scaleStarted||Math.abs(M-1)>a.touchScaleThreshold?(z.vlen=u,z.scaleStarted=!0):M=1)):(H=z.vlen=u,M=1),1!==M&&g.setZoom(M),(d||c)&&a.rotate(J,c,-d),z.lastCenter={x:(U+K)/2,y:(X+p)/2}):z.pan?a.pan(J,Y,V):(Z=g.getWidth(),k=g.getHeight(),Z&&k&&a.rotate(J,E=-QR*Y/Z,i=-QR*V/k))}}},_sign2:function(J){return Math.abs(J)<this._touchScaleCheckAccuracy?0:0<J?1:-1},handleWindowMouseUp:function(J){this.handleWindowTouchEnd(J)},handleWindowTouchEnd:function(J){var a,z,U=this.editing;this.editing=null,U&&(a=this.gv,U.moved||!U.clickLeft&&!U.touch?(a._panning=null,a._rotating=null,a.fi({kind:U.pan?"endPan":"endRotate",event:J})):(z=(z=(U=a.getDataInfoDuringInteract(J))&&U.data)instanceof jw&&z.isClickThroughEnabled()&&(U=a.getDataInfoDuringInteract(J,!0))?U.data:z)?a.sm().setSelection([z]):a.sm().clearSelection(),U=a.dm(),a._moving&&(delete a._moving,a.fi({kind:"endMove",event:J}),a.onMoveEnded(),U.endTransaction()),a._86O&&(delete a._86O,a.fi({kind:"endEditRotation",event:J}),U.endTransaction()),a._87O&&(delete a._87O,a.fi({kind:"endEditScale",event:J}),U.endTransaction()))},pan:function(J,a,z){var U=this.gv;if(U.isPannable()){var g=U.getWidth(),V=U.getHeight();if(g&&V){var Y=U.getCenterInfo(),a=-a/g*Y.width,g=+z/V*Y.height,z=(U.fi({kind:U._panning?"betweenPan":"beginPan",event:J}),U._panning=1,this.keepHorizon);if(!(z=(V=this.editing.touch)&&J.touches&&1<J.touches.length||!V&&ku(J)?!z:z))return U.pan(a,g);(a||g)&&(V=[(Y=WJ(U))[0]*a,Y[4]*a,Y[8]*a],J=[Y[1],0,Y[9]],(z=Math.sqrt(J[0]*J[0]+J[2]*J[2]))&&(J=[J[0]/z*g,0,J[2]/z*g]),a=V[0]+J[0],Y=V[1]+J[1],z=V[2]+J[2],g=U._center,V=U._eye,g[0]+=a,g[1]+=Y,g[2]+=z,V[0]+=a,V[1]+=Y,V[2]+=z,U.fp(Me,WR,V),U.fp(He,WR,g))}}},rotate:function(J,a,z){var U,g,V=this.gv;V.isRotatable()&&(g=V._center,U=V._eye,U=Au(U,g),g=SR(wR(U[0]*U[0]+U[2]*U[2]),U[1]),z=cJ(V,g+z)-g,V.fi({kind:V._rotating?"betweenRotate":"beginRotate",event:J}),V._rotating=1,V.rotate(a,z))}}),pR.defineProperties(wA.prototype,{panButton:{get:function(){return this._panButton},set:function(J){this._panButton=J}},minPhi:{get:function(){return this._minPhi},set:function(J){this.gv.setRotateMinPhi(this._minPhi=J)}},maxPhi:{get:function(){return this._maxPhi},set:function(J){this.gv.setRotateMaxPhi(this._maxPhi=J)}},keepHorizon:{get:function(){return this._keepHorizon},set:function(J){this._keepHorizon=J}},threshold:{get:function(){return this._threshold},set:function(J){this._threshold=J}},touchScaleThreshold:{get:function(){return this._touchScaleThreshold},set:function(J){this._touchScaleThreshold=J}},touchRotateThreshold:{get:function(){return this._touchRotateThreshold},set:function(J){this._touchRotateThreshold=J}}}),B.GlobeInteractor=function(Q,J){function U(J){return Q._81O=null,J=Q.getHitPosition(J,Q.getCenter(),I.copy(Q.getEye()).sub(i.copy(Q.getCenter())).toArray()),e.origin.copy(Q.getEye()),e.direction.copy(J).sub(e.origin).normalize(),e.intersectEllipsoid(w)}function v(J,a){var z;E&&(z=Date.now(),E.deltaTime=E.lastTime?z-E.lastTime:1e3,E.lastTime=z,E.lastAxis=J,E.lastAngle=a),a&&(g.setFromAxisAngle(J,a),Q.setEye(I.copy(Q.getEye()).applyQuaternion(g).toArray()),Q.setCenter(I.copy(Q.getCenter()).applyQuaternion(g).toArray()),Q.setUp(I.copy(Q.getUp()).applyQuaternion(g).toArray()))}function Z(J){return Math.abs(J)<.01?0:0<J?1:-1}yL(pA,this,[Q]);var V,k=J.radius||6378137,c=this,E=null,g=(Gt||((Gt=hL()).style.border="",Gt.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEyUlEQVRYR62XW0xcVRSG/58cmIG2HmstE9N4SX2xtVqBCISoFS/RmDSpKQSvTWNixUStQSqVyBQYJUGttrQVtYkPatuQPmhivMUHqbUBZ2itl1qjTzZpImNUZhDLsUeWWXgOOd2cgcGyk3mYs/de69trr70uxP8YIlJKMi0i9wIgyf0iEiM5PFdxzGeDiBQAuB7AjQBuALCN5NcGQDmANgBfeL8UyYnZ5M8KICJ3AXgAwAlfOMl/VHAQwPtveYAKuQLA2yQ/ngliRgAR2QogA2AvSdcUZAIE50VEYR4BsIDkC7kgQgFE5GIAuwDsJnkk1+aZAPw9IqLX1gjgcZK/m7KmAXjK4wBaSf4ZplxEIgCuA3Cz3gSAfgDHSf6dY/0FAJ4D0G5ChAEcAPBwmHIRqXNd90nLsiocx/k+k8n8oK/Atu2rIpHIStd1v7QsawfJd0Ouywawh6T609Q4B8C788NhZnddt29sbGxBd3f39q6urtNhJ43H48uam5u3lJSUjFiWdV8IxE0Aqki+6M9NAXjefjnJXsOZogBGBgYGttbU1Hw427PS+cHBwbVVVVUJAItJOoa8xwD8RPIT/T4J4L3zfQAeNL1dRMZra2ur+/v7/8pHub+mvr7+wr6+vs8KCgoWGABFAN4EsEHjhA9QBeA2ks8HF6vZk8nkQL4nNwGTyeTa8vLycsuy7jcg1Mk/IpnyAZoBaOQ6FHg+ddlsdqNt201zObm5NpvN7ly0aNHrJN8LyL4FwGqSr/gAOrnej3C60HXdw/F4PJ7L4fKFSiQSl7W0tLQVFRWtCQDoNRwguZ6aWABcorE9sEDf+QjJ1fkqmmmdiHwHoCToXyKiceR0rkhY5TjOq9FoVLPdeY/x8fG+SCSySe/cFKYWCFOyPJ1Or4zFYh3nrR3A8PBwe2lp6TcAfg4DmBYwAFyRTqdXxWKx9nkE+DYUIEyBiFQ6jvNaNBq9Zz4AZruCGIBlJI8ZXpolee18AORwwgoAp/xnqMmjPuilZ8+ePZRIJNo7OztD436+YB0dHZe2trY+W1hYWGsccD/JOh/gKQBHSWpanRwicnc2m91k2/bmfJWFrRsdHd29cOHCXSTfD8i+FcA1JHcEQ/HtJDVnTw3XdfcPDQ0dra6unto8F5hUKrWurKxslWVZG4L7RGQbgA9IDgWT0VsANprJaGJi4kxDQ8OagwcPjsxFeWNj49Le3l6N91qMTA2vmNnr6fovGXkmvxPAlST3hGz4LZVKbausrMzLEnryioqKNpJLzCpJRJ4AcJLkp6rHLEieBjBA8rB5Wtd1942NjS3p6el5qa2t7VSYNdThmpqaWoqLi38xze4dUku4CpLb/f1hJZnWBY+SzJpKRGSdV5LVOI5zIpPJnNQ1tm2viEQiV7uue8SyrJeDDhew8GIAO0me4w9hABdp8ahNBkktyacNr+Qu84pSndfX81VY6e6dXJV3AoiT/CMoMFcyUogeAG+Q/DyX8+VZlqvZHwKw2VQ+zQdCTL4FwBkPZFrJPUtjoildG5PC4J2bOvJpze7QWhHAj4HWbBImpDXTQsPvH5cDeMf39lxWnBXAU6TNqcZu7fn0lyB53GhOdf6ZQHN6bF6a0xxOuJTkrwbA5LdcJ831/V8SOUYQxYGhRwAAAABJRU5ErkJggg==)"),new Im),I=new qR,i=new qR,u=new qR,e=new km,Y="number"==typeof k?{x:k,y:k,z:k}:k,w={center:new qR(0,0,0),radius:Y};c._showCrossIcon=function(J){JQ(c.getView(),Gt),R(Gt,{x:J.clientX-16,y:J.clientY-16,width:32,height:32})},c._hideCrossIcon=function(){Fu(Gt)},c._scrollImpl=function(J,a){(E={point:Q.lp(J),screen:iu(J),hit:U(J),type:"right"}).hitNormalize=E.hit?E.hit.clone().normalize():new qR,J={clientX:E.screen.x,clientY:E.screen.y+10*a},c._handleMoveImpl(J),c._endMoveImpl(J)},c._startMoveImpl=function(J){V&&(V.stop(!0),V=null),(E={point:Q.lp(J),screen:iu(J),hit:U(J)}).hitNormalize=E.hit?E.hit.clone().normalize():new qR,WQ(J)?1===J.touches.length?E.hit&&(E.type="left"):2===J.touches.length&&(E.type="touch2"):(Iu(J)?E.hit&&(E.type="left"):Qu(J)?E.type="right":eu(J)&&E.hit&&(E.type="middle"),!E.hit||"right"!==E.type&&"middle"!==E.type||c._showCrossIcon(J)),E.type&&yu(c,J)},c._handleMoveImpl=function(J){if(E)switch(E.type){case"left":return c._handleLeft(J);case"right":return c._handleRight(J);case"middle":return c._handleMiddle(J);case"touch2":return c._handleTouch2(J)}},c._endMoveImpl=function(J){var z,U,g;E&&(this._hideCrossIcon(),"left"!==E.type&&"middle"!==E.type||(z=E.lastAngle/(E.deltaTime||30)*1e3,U=E.lastAxis,g=E.lastTime,V=Yu({action:function(){var J=Date.now(),a=(J-g)/1e3;g=J,z*=Math.pow(Math.abs(c.decelerationRate),3*a),Math.abs(z)<.01?(z=0,V&&V.stop()):v(U,z*a)},duration:5e3})),E=null)},c._handleLeft=function(J){if(!E.finished){var a=iu(J),z=function(J,a){Q._81O=null,e.origin.copy(Q.getEye());for(var z,U,g=Q.getCenter(),V=I.copy(Q.getEye()).sub(i.copy(Q.getCenter())).toArray(),Y=1,c=16,u=0,H=1,M={x:0,y:0};c--;){if(M.x=a.x+(J.x-a.x)*Y,M.y=a.y+(J.y-a.y)*Y,z=Q.getHitPosition(M,g,V),e.direction.copy(z).sub(e.origin).normalize(),(U=e.intersectEllipsoid(w))&&1===Y)return{hit:U};U?u=Y:H=Y,Y=(u+H)/2}return{hit:U,out:Y<1}}(a,E.lastScreen||E.screen);if(E.lastScreen=a,!z.hit)return E.finished=!0,void c._endMoveImpl(J);(a=z.hit).normalize();var U=E.hitNormalize,g=Math.acos(a.dot(U));v(a=a.cross(U).normalize(),g),z.out&&(E.finished=!0,c._endMoveImpl(J))}},c._handleRight=function(J){var a,z=(E.lastScreen||E.screen).y;(J=(E.lastScreen=iu(J)).y-z)&&(z=Math.min(.5,J*c.scaleSpeed),I.copy(Q.getEye()),J=(J=E.hit)||I.clone().divide(Y).normalize().multiply(Y),i.copy(I).lerp(J,z),Q.setEye(i.toArray()),I.copy(Q.getUp()),i.normalize(),J=I.clone().cross(i).normalize(),u.copy(Q.getCenter()),u.sub(J.multiplyScalar(u.dot(J))),Q.setCenter(u.toArray()),E.hit&&(z=U(E.screen),J=E.hitNormalize,z&&(z.normalize(),a=Math.acos(z.dot(J)),z=z.cross(J).normalize(),a&&v(z,a))))},c._handleTouch2=function(J){var a,z,U,g,V,Y,c,u,H,M,I,e;2===J.touches.length&&(a=(J=J.touches)[0].clientX,z=J[0].clientY,e={x:(U=J[1].clientX)-a,y:(J=J[1].clientY)-z},M=E.lastCenter,Y=Math.atan2(e.y,e.x),g=0,(V=E.theta)==WR?V=E.theta=Y:(g=Y-V,E.thetaStarted||.03<Math.abs(g)?(E.thetaStarted=!0,E.theta=Y):g=0),V=Math.sqrt(e.x*e.x+e.y*e.y),(Y=E.vlen)?(I=a-M.x,u=z-M.y,H=U-M.x,M=J-M.y,I=Math.sqrt(I*I+u*u),u=Math.sqrt(H*H+M*M),(M=Z(I-(H=Y/2)))*(I=Z(u-H))<0||0===M&&0===I?(c=1,E.vlen=V):(c=c||V/Y,E.scaleStarted||.05<Math.abs(c-1)?(E.vlen=V,E.scaleStarted=!0):c=1)):(Y=E.vlen=V,c=1),e=i.copy(Q.getEye()).clone(),1!==c&&Q.setEye(e.setLength((e.length()-k)/c+k).toArray()),g&&v(e.normalize(),g),E.lastCenter={x:(U+a)/2,y:(J+z)/2})},c._handleMiddle=function(J){var J=iu(J),a=E.screen,z=((E.screen=J).y-a.y)/180*Math.PI*c.rollSpeed,U=(i.copy(Q.getCenter()).sub(I.copy(Q.getEye())).normalize(),I.copy(Q.getUp()).cross(i).normalize(),i.copy(Q.getEye()).sub(E.hit).applyAxisAngle(I,z).add(E.hit),i.clone()),g=(i.copy(Q.getCenter()).sub(E.hit).applyAxisAngle(I,z).add(E.hit),i.clone()),V=i.copy(Q.getUp()).applyAxisAngle(I,z).clone(),Y=!1,z=(0<z&&(u.copy(V),i.copy(g).sub(U).normalize(),I.copy(U).multiplyScalar(-1).normalize(),0<I.dot(u)-i.dot(u)&&(Y=!0)),Y||0<=u.copy(E.hit).sub(U).dot(E.hitNormalize)&&(Y=!0),Y||(Q.setEye(U.toArray()),Q.setCenter(g.toArray()),Q.setUp(V.toArray())),-(J.x-a.x)/180*Math.PI*c.rotateSpeed);v(E.hitNormalize,z)}}),xA=(J("GlobeInteractor",tR,{handle_contextmenu:function(J){Bm(J)},handle_mousewheel:function(J){this._scrollImpl(J,J.wheelDelta/40)},handle_DOMMouseScroll:function(J){2===J.axis&&this._scrollImpl(J,-J.detail)},handle_keydown:function(J){this.gv.handleKeyDown(J)},handle_mousedown:function(J){this.handle_touchstart(J)},handle_touchstart:function(J){Bm(J);var a,z,U=this.gv;U.setFocus(J)&&((a=(z=U.getDataInfoAt(J))?z.data:WR)&&U.isInteractive(a)||this._startMoveImpl(J),z=z?z.part:WR,Zu(J)?U.handleDoubleClick(J,a,z):U.handleClick(J,a,z))},handle_mouseup:function(J){this.handle_touchend(J)},handle_touchend:function(J){},handleWindowMouseMove:function(J){this.handleWindowTouchMove(J)},handleWindowTouchMove:function(J){this._handleMoveImpl(J)},handleWindowMouseUp:function(J){this.handleWindowTouchEnd(J)},handleWindowTouchEnd:function(J){this._endMoveImpl(J)}}),pR.defineProperties(pA.prototype,{rotateSpeed:{get:function(){return this._rotateSpeed||.3},set:function(J){this._rotateSpeed=J}},rollSpeed:{get:function(){return this._rollSpeed||.1},set:function(J){this._rollSpeed=J}},scaleSpeed:{get:function(){return this._scaleSpeed||.002},set:function(J){this._scaleSpeed=J}},decelerationRate:{get:function(){return this._decelerationRate||.04},set:function(J){this._decelerationRate=J}}}),function(J){return[((J|=2147483648)>>16&255)/255,(J>>8&255)/255,(255&J)/255,(J>>24&255)/255]}),WA=function(J){this.gv=J,this.gv.pickColorMap={_pickIdUsed:2e3,_outside:xR},this._cacheQuery=[],this._cacheLength=0,this._cacheIdx=0},DA=(Su(WA,pR,{_iv:!0,iv:function(){this._iv=!0},get:function(J,a,z){this.validate();var U=this,g=U.gv;if(!g.getGL())return WR;var V=U._resolution,Y=U.renderTarget,c=Y.getSize()[1],u=Math.round(J.x*V),H=Math.ceil(J.width*V),M=Math.ceil(J.height*V),I=c-Math.round(J.y*V)-M;if(!z)for(var e=U._cacheQuery,Q=U._cacheIdx;Q>=U._cacheIdx-U._cacheLength+1;Q--){var v=e[3&Q];if(v[0]===u&&v[1]===I&&v[2]===H&&v[3]===M&&v[4]===a)return v[5]}var Z,k,E,i=Y.readPixels(u,I,H,M),w=g.pickColorMap;if(a){for(var p=Math.round((H-1)/2),x=Math.round((M-1)/2),W=Math.floor(Math.max(H,M)/2),Q=0;Q<=W;Q++){var D=p-Q,K=p+Q,d=x-Q,j=x+Q;if(0<=d)for(E=D;E<=K;E++)if(Z=HI(d,E,u,I,H,M,c,V,i,w,z))return MI(U,u,I,H,M,a,z,Z);if(0<=D)for(k=1+d;k<j;k++)if(Z=HI(k,D,u,I,H,M,c,V,i,w,z))return MI(U,u,I,H,M,a,z,Z);if(j<M)for(E=D;E<=K;E++)if(Z=HI(j,E,u,I,H,M,c,V,i,w,z))return MI(U,u,I,H,M,a,z,Z);if(K<H)for(k=1+d;k<j;k++)if(Z=HI(k,K,u,I,H,M,c,V,i,w,z))return MI(U,u,I,H,M,a,z,Z)}return MI(U,u,I,H,M,a,z,null)}for(var q,X,R=new h,C={},y={},Q=0,F=i.length;Q<F;Q+=4)!(q=(i[Q]<<16)+(i[Q+1]<<8)+i[Q+2]+(i[Q+3]<<24))||C[q]||!(Z=uI(w,q))||z&&!1===z(Z,E=Math.round((u+(Q>>2)%H)/V),k=Math.round((c-1-(I+Math.floor((Q>>2)/H)))/V))||y[(X=Z.data)._id]||(R.add(X),y[X._id]=X,C[q]=!0);return MI(U,u,I,H,M,a,z,R)},getResolution:function(){return this._resolution},dispose:function(){nJ(this.gv,this.renderTarget),this.renderTarget=null},validate:function(){var J,a,z,U,g,V=this.gv,Y=V.getGL();Y&&((J=this.renderTarget)||(this.renderTarget=J=new EA(V,1,1)),this._iv&&(this._iv=!1,this._cacheLength=0,a=this._resolution=V._pickerResolution*V.getDevicePixelRatio(),z=Math.round(a*V.getWidth()),U=Math.round(a*V.getHeight()),J.setSize(Y,z,U),g=!1,V._40Q.each(function(J){!g&&J.isBatchInvalid()&&(g=!0)}),g&&V.updateScene(),J.bind(Y),Y.colorMask(!0,!0,!0,!0),Y.clear(16384),V.overlappingBox.clear(),V.setViewport(Y,0,0,z,U),V.renderPickScene(a),J.unbind(Y)))}}),function(J){this.gv=J}),KA=(Su(DA,pR,{gap:0,size:0,_42:function(J){var a,z=this,U=z.gv,g=U._gridGap,V=U._gridSize;if(U._gridVisible){if(z.gap!==g||z.size!==V){for(var Y=[],c=U._gridSize/2,u=g*c,H=0;H<2*c+1;H++){var M=6*H,I=6*(2*c+1)+M;Y[M]=-u,Y[1+M]=0,Y[2+M]=H*g-u,Y[3+M]=u,Y[4+M]=0,Y[5+M]=H*g-u,Y[I]=H*g-u,Y[1+I]=0,Y[2+I]=-u,Y[3+I]=H*g-u,Y[4+I]=0,Y[5+I]=u}z.vs=new fu(Y),z.gap=g,z.size=V}UX(U),bJ(J),lJ(J),(V=!U._fogDisabled)&&((a=RR.for(J).directUniforms()).uFog=!1),AJ(J,1,U._gridColor,U._buffer.vs,z.vs),sJ(J,0,z.vs.length/3,1),V&&(a.uFog=!0),TJ(J),SJ(J)}else z.vs=z.gap=z.size=WR}}),function(J){this.gv=J}),dA=(Su(KA,pR,{_42:function(J){var a,z,U,g,V=this.gv,Y=V._buffer.vs,c=V._axisXColor,u=V._axisYColor,H=V._axisZColor,M=V._originAxisVisible,I=V._centerAxisVisible;(M||I)&&(z=_R?4:6,UX(V),bJ(J),lJ(J),M&&(U=V.getCenterInfo(),g=UR(U.width,U.height)/5,AJ(J,1.5,c,Y,new fu([0,0,0,g,0,0,M=.8*g,a=.05*g,0,M,0,a,M,-a,0,M,0,-a,M,a,0,0,0,0,0,g,0,a,M,0,0,M,a,-a,M,0,0,M,-a,a,M,0,0,0,0,0,0,g,a,0,M,0,a,M,-a,0,M,0,-a,M,a,0,M])),sJ(J,0,2,1),sJ(J,1,6,z),AJ(J,WR,u),sJ(J,7,2,1),sJ(J,8,6,z),AJ(J,WR,H),sJ(J,14,2,1),sJ(J,15,6,z)),I&&(M=(a=V._center)[0],z=a[1],I=a[2],U=V.getPositionInfo(a),g=UR(U.width,U.height)/20,AJ(J,1.5,c,Y,new fu([M,z,I,M+g,z,I,M,z,I,M,z+g,I,M,z,I,M,z,I+g])),sJ(J,0,2,1),AJ(J,WR,u),sJ(J,2,2,1),AJ(J,WR,H),sJ(J,4,2,1)),TJ(J),SJ(J))}}),function(J){this.gv=J}),jA="edit_tx",qA="edit_ty",XA="edit_tz",RA="edit_rx",CA="edit_ry",yA="edit_rz",FA="edit_sx",OA="edit_sy",nA="edit_sz",LA={},bA=(LA[jA]=101,LA[qA]=102,LA[XA]=103,LA[RA]=104,LA[CA]=105,LA[yA]=106,LA[FA]=107,LA[OA]=108,LA[nA]=109,Su(dA,pR,{_42:function(J){var a,z,U,g,V,Y,c,u,H,M,I,e,Q,v,Z=this,k=Z.gv,E=k.sm().ld();!E||!k.isEditable(E)||k.isEditHelperDisabled()||!b(E)||k.isFirstPersonMode()&&(k.isMouseRoamable()||GR)||(UX(k),a=k.isMovable(E),z=k.isRotationEditable(E),U=k.isSizeEditable(E),g=k._axisXColor,V=k._axisYColor,Y=k._axisZColor,c=k._editSizeColor,e=E.p3(),k=(u=k.isOrtho()?(u=k.getCenterInfo(),UR(u.width,u.height)/8):pu(k.getEye(),e)/10)/(k.isPicking()?5:10),H=.4*(u*=.7),M=e[0],I=e[1],e=e[2],v=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],a&&Z._17O(J,E,jA,g,v,[M,I-k,e,M+u,I-k,e,M+u,I,e,M+u,I,e,M,I,e,M,I-k,e,M,I-k,e+k,M+u,I-k,e+k,M+u,I-k,e,M+u,I-k,e,M,I-k,e,M,I-k,e+k]),Q=M+u,U&&Z._17O(J,E,FA,c,v,[Q,I-k,e,Q+H,I-k,e,Q+H,I,e,Q+H,I,e,Q,I,e,Q,I-k,e,Q,I-k,e+k,Q+H,I-k,e+k,Q+H,I-k,e,Q+H,I-k,e,Q,I-k,e,Q,I-k,e+k]),Q+=H,z&&Z._17O(J,E,RA,g,v,[Q,I-k,e,Q+H,I-k,e,Q+H,I,e,Q+H,I,e,Q,I,e,Q,I-k,e,Q,I-k,e+k,Q+H,I-k,e+k,Q+H,I-k,e,Q+H,I-k,e,Q,I-k,e,Q,I-k,e+k]),v=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0],a&&Z._17O(J,E,qA,V,v,[M,I,e,M,I+u,e,M-k,I+u,e,M-k,I+u,e,M-k,I,e,M,I,e,M,I,e,M,I,e-k,M,I+u,e-k,M,I+u,e-k,M,I+u,e,M,I,e]),Q=I+u,U&&Z._17O(J,E,OA,c,v,[M,Q,e,M,Q+H,e,M-k,Q+H,e,M-k,Q+H,e,M-k,Q,e,M,Q,e,M,Q,e,M,Q,e-k,M,Q+H,e-k,M,Q+H,e-k,M,Q+H,e,M,Q,e]),Q+=H,z&&Z._17O(J,E,CA,V,v,[M,Q,e,M,Q+H,e,M-k,Q+H,e,M-k,Q+H,e,M-k,Q,e,M,Q,e,M,Q,e,M,Q,e-k,M,Q+H,e-k,M,Q+H,e-k,M,Q+H,e,M,Q,e]),v=[1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],a&&Z._17O(J,E,XA,Y,v,[M,I,e,M,I,e+u,M,I-k,e+u,M,I-k,e+u,M,I-k,e,M,I,e,M,I-k,e,M-k,I-k,e,M-k,I-k,e+u,M-k,I-k,e+u,M,I-k,e+u,M,I-k,e]),Q=e+u,U&&Z._17O(J,E,nA,c,v,[M,I,Q,M,I,Q+H,M,I-k,Q+H,M,I-k,Q+H,M,I-k,Q,M,I,Q,M,I-k,Q,M-k,I-k,Q,M-k,I-k,Q+H,M-k,I-k,Q+H,M,I-k,Q+H,M,I-k,Q]),Q+=H,z&&Z._17O(J,E,yA,Y,v,[M,I,Q,M,I,Q+H,M,I-k,Q+H,M,I-k,Q+H,M,I-k,Q,M,I,Q,M,I-k,Q,M-k,I-k,Q,M-k,I-k,Q+H,M-k,I-k,Q+H,M,I-k,Q+H,M,I-k,Q]))},_17O:function(J,a,z,U,g,V){var Y=this.gv,c=Y._buffer,u=(H=RR.for(J)).directUniforms(),H=H.directAttribs();Y._picking&&(Y.pickColorMap[Y=LA[z]]={data:a,part:z},u.uFixPickReverseColor=xA(Y)),PJ(J,WR,!0,WR,!0,WR,!1),u.uDiffuse=U,H.aPosition=_J(J,c.vs,new fu(V)),H.aNormal=_J(J,c.ns,new fu(g)),lJ(J),sJ(J,0,12),TJ(J),$J(J)}}),m.Raycaster=function(J){this.gv=J,this.maxTriangleTest=1/0,this.backfaceCulling=!0,this.triangleTestEpsilon=1e-9}),SA=(_W("Raycaster",pR,{getTriangleTestEpsilon:function(){return this.triangleTestEpsilon},setTriangleTestEpsilon:function(J){return this.triangleTestEpsilon=J,this},getBackfaceCulling:function(){return this.backfaceCulling},setBackfaceCulling:function(J){return this.backfaceCulling=J,this},intersect:function(J){var a=this.gv.getDataAt(J);return a?this.intersectObject(J,a):null},intersectObjects:function(a,J,z){var U,g,V,Y,c=this,u=1/0,H=a.origin||(new qR).fromArray(c.gv.getEye()),M=c.maxTriangleTest,I=[],e=(J.forEach(function(J){z&&!1===z(J)||!1!==J.s("intersect")&&I.push(J)}),H.distanceToSquared2([0,0,0]));return I.sort(function(J,a){return(J.p3?H.distanceToSquared2(J.p3()):e)-(a.p3?H.distanceToSquared2(a.p3()):e)}),c.countTriangles=0,I.forEach(function(J){c.countTriangles>M||(U=c.intersectObject(a,J))&&(g=H.distanceToSquared(U.world))<u&&(V=J,Y=U,u=g)}),c.countTriangles=0,{data:V,intersect:Y}},intersectObjectAndRecordTriangle:function(J,a){return this._4GQ=!0,J=this.intersectObject(J,a),this._4GQ=!1,J},intersectLastTriangle:function(J,a){if((J=this.getRay(J)).applyMatrix4(a.inverseMatrix),!(J=J.intersectPlane(a.plane)))return null;var z=pm.uvIntersection(J,a.p1,a.p2,a.p3,a.uv1.clone(),a.uv2.clone(),a.uv3.clone());return{world:J.clone().applyMatrix4(a.matrixWorld),local:J.clone(),uv:z}},getRay:function(J){if(J instanceof km)return J;var a,z=this.gv,J=z.unproject(J),U=new qR,g=z.getEye(),V=new qR;return z.isOrtho()?(a=new qR(g),V.copy(z.getCenter()).sub(a).normalize(),z=U.copy(J).sub(a).dot(V),U.copy(V).setLength(-z).add(a.copy(J))):(U.copy(g),V.copy(J).sub(U).normalize()),new m.Math.Ray(U,V,!0)},intersectObject:function(J,a){return this._intersectObjectImpl(this.getRay(J),a)},_intersectObjectImpl:(JN=new XR,aN=new XR,zN=new XR,UN=new XR,gN=new km,VN=new qR,YN=new qR,cN=new qR,uN=new qR,HN=new qR,MN=new qR,IN=new qR,eN=new qR,QN=new o,vN=new o,ZN=new o,kN=new qR,EN={vs:k9,is:E9,uv:i9},(iN=p9.slice(0)).push("csg"),function(J,a){var z,U,g,V,Y,c,u,H,M,I,e,Q,v,Z=this.gv.getData3dUI(a),k=((n=J.inDisplaySpace?Z._finalMat||Z._matWithExtraction||a.mat||Z.mat:Z._matWithExtraction||a.mat||Z.mat)?JN.fromArray(n):JN.identity(),"body");if(!(n=(n=(n=!(n=Z.shapeModel)&&(a instanceof m.Polyline||a instanceof m.Edge)&&Z.lineShapeModel?Z.lineShapeModel:n)||l9(Z))||(m.CSGNode&&a instanceof m.CSGNode||m.CSGShape&&a instanceof m.CSGShape?(g=!0,[Z.left,Z.front,Z.right,Z.back,Z.top,Z.bottom,Z.csg]):a instanceof m.Node&&!(a instanceof m.Shape)?(z=!0,EN):(U=!0,[Z.left,Z.front,Z.right,Z.back,Z.top,Z.bottom]))))return console.log("Can not find shape model."),null;jR(n)||(n=[n]);var E,i,w,p,x,W,D,K,d,j=1/0,q=["","top_","bottom_","from_","to_"],X=!1,R=this.backfaceCulling,C=this.triangleTestEpsilon,y=[];for(EX(n,Z,y),V=0,Y=y.length;V<Y;V++)if((w=y[V])&&(K=w.matrix,p=w.model,w=w.mesh))for(aN.copy(JN),K&&aN.multiply(K),UN.getInverse(aN),gN.copy(J).applyMatrix4(UN),c=0,u=q.length;c<u;c++)if(I=w[(x=q[c])+"vs"]){if(e=w[x+"is"],Q=w[x+"uv"]||w[x+"tuv"],W=w[x+"boundingBox"]){if(!(d=gN.intersectBox(W)))continue;if(gN.origin.distanceTo(d)>j)continue;D=!1}else w[x+"boundingBox"]=W=new m.Math.Box3,D=!0;for(H=0,M=e?e.length:I.length/3;H<M;H+=3)this.countTriangles++,e?(YN.fromArray(I,3*e[H]),cN.fromArray(I,3*e[H+1]),uN.fromArray(I,3*e[H+2])):(YN.fromArray(I,3*H),cN.fromArray(I,3*(H+1)),uN.fromArray(I,3*(H+2))),D&&(W.expandByPoint(YN),W.expandByPoint(cN),W.expandByPoint(uN)),(v=gN.intersectTriangle(YN,cN,uN,R,C,VN))&&(E=gN.origin.distanceTo(v))<j&&(j=E,HN.copy(v),MN.copy(YN),IN.copy(cN),eN.copy(uN),""!==x?k=x.slice(0,-1):z?k=p9[Math.floor(H/6)]:U?k=p9[V]:g&&(k=iN[V]),i=p,Q&&(X=!0,e?(QN.fromArray(Q,2*e[H]),vN.fromArray(Q,2*e[H+1]),ZN.fromArray(Q,2*e[H+2])):(QN.fromArray(Q,2*H),vN.fromArray(Q,2*(H+1)),ZN.fromArray(Q,2*(H+2)))),zN.copy(aN))}if(!isFinite(j))return null;JN.copy(zN),UN.getInverse(JN);var F,O,a=HN.clone().applyMatrix4(JN),n=this._4GQ,Z=(X&&(n&&(O={inverseMatrix:UN.clone(),matrixWorld:JN.clone(),p1:MN.clone(),p2:IN.clone(),p3:eN.clone(),uv1:QN.clone(),uv2:vN.clone(),uv3:ZN.clone(),plane:(new m.Math.Plane).setFromCoplanarPoints(MN,IN,eN)}),F=pm.uvIntersection(HN,MN,IN,eN,QN,vN,ZN)),II()),n=II(MN.applyMatrix4(JN),IN.applyMatrix4(JN),eN.applyMatrix4(JN)),L=0<gN.direction.dot(Z),a=(L&&(Z.multiplyScalar(-1),n.multiplyScalar(-1)),{world:a,local:HN.clone(),worldNormal:n,normal:Z,uv:F,part:k,backface:L,model:i,worldMatrix:JN.clone()});return O&&(a.triangleInfo=O),a})}),B.Data3dUI=function(U,g){this.gv=U,this.s=function(J,a,z){return(a=a==WR?z:a)==WR?g.getStyle(J):_(a,g,U)},this.data=g}),PA=(Su(SA,pR,{I3d:!0,ms_icons:1,_iv:!0,_cacheBoundingBox:xR,iv:function(){this._iv=!0},update:function(J,a,z){var U=this,g=U.data;if(J||(a=(J=U.gv).getGL(),z=J._40Q),!U.needValidate(a)||!J.isVisible(g))return z.push(this,!1),void(J.isVisible(g)&&this.updateLod());var V,Y,c,u=g._id,H=g._47Q?null:U.s("batch"),M=g.getRenderLayer(),M=(z=z.get(M,!0)).batchIndexMap,I=z.batchModelMap,e=J.getBrightness(g),Q=e!=WR&&1!==e,I=PX(M,I,g,H,J),H=H?J.getBatchInfo(H)||mH:WR,v=U.validate(I,H);if(I&&(!H.ms||!H.ms.length)&&(V=(H=M[u]).size=I.vs.length/3-H.begin,c=I.rs))for(e=Q?e:1,Y=0;Y<V;Y++)c.push(e);(M=J.getWireframeGeometry(g))?TX(J,g,M):b(g)&&(u=J.getWireframe(g))&&TX(J,g,u),U.labelInfo=U.label2Info=U.noteInfo=U.note2Info=U._38o=WR,U._24O(Pe,"getLabel"),U._24O($e,"getLabel2"),U._26O(le,"getNote"),U._26O(Te,"getNote2"),U._15O(),U.interactiveInfo=J.isInteractive(g)?{}:WR,!z.push(this,!0)&&g instanceof jw&&U._46Q(a),this.updateLod(),!1!==v&&(U._iv=!1)},updateLod:function(){var J=this.shapeModel;if(J&&J.lod&&(this._getLodId(J.lod),(J=this.data).s("static"))){var a=this.gv,z=J.getRenderLayer(),z=a._40Q.get(z,!0),a=a.getStaticInstancingKey(J),U=z.getModel3dInstancedBatchMap();if(U=U&&U[a]?U[a]:U){if(U.lod[U.length-1]!=this._lodId&&(U.lod[U.length-1]=this._lodId,U.lodVersion=U.lodVersion+1),1===U.length)for(var g=0;g<32;g++)U.lodSum[g]=0;U.lodSum[this._lodId]=U.lodSum[this._lodId]+1}}},clearWireframeGeometryCache:function(){this.gv.invalidateCachedWireframe(this.data)},invalidateWireframe:function(){var J=this.data,a=J.getRenderLayer();(a=this.gv._40Q.get(a))&&a.ivWireframeBatch(J)},_46Q:function(J,a){var z,U,g,V,Y=this.data,c=this.gv;c.isVisible(Y)&&(V=Y._id,U=(z=c._40Q.get(Y._renderLayer,!0)).batchIndexMap[V],g=z.polylineIndexMap[V],V=z.wireframeIndexMap[V],(U||g||V)&&(a=a==WR?VX(J,c.pickColorMap,c.isSelectable(Y),this,Se,!0):a)&&(fX(a,U,z.batchModelMap),fX(a,g,z.polylineModelMap),fX(a,V,z.wireframeModelMap)))},_42:function(J,a,z){var U=this,g=U.data,V=U.gv;if(V.isVisible(g)){var Y,c,u,H,M,I,e,Q,v,Z,k=V._picking;if(k)Y=V.pickColorMap;else{if(V.isTransparentMask(g)||V.isReflecting(J)&&!1===g.s("3d.reflectable"))return;Y=xR}if(SA.getTitle===xR)for(var E in SA.getTitle=0,DR)if(E.length===$e.length+1&&E[$e.length]===Iq[4].toUpperCase()&&E[$e.length-1]===Iq[$e.length+1].toUpperCase()){SA.getTitle=$L;break}if(!SA.getTitle||MR[$e.length+2]){if(SA.getHead===xR)for(var E in SA.getHead=0,iQ){var i="box-sizing";6===E.length&&E[0]===Iq[4]&&E[3]===i[0]&&E[4]===i[1]&&E[5]===i[2]&&(SA.getHead=HL)}if(!SA.getHead||MR[$e.length]){if(SA.getTitle2===xR)for(var E in SA.getTitle2=0,iQ)6===E.length&&E[0]===sq[1].toUpperCase()&&E[1]==="uv"[0]&&(SA.getTitle2=uL);SA.getTitle2&&!MR[iq.length]||V[Le[0]+eq[0]]&&V[Le[0]+eq[0]].enable&&!MR[xe[0]]||(!k&&V.isTransmissionEnabled()&&U.s("shape3d.transmission")&&!V.isOITProcessing()&&(c=J._renderTargetStack[J._renderTargetStack.length-1])&&!c.isCube()&&NJ(V,c),c=g._id,Q=(u=V._40Q.get(g._renderLayer,!0)).batchIndexMap,v=u.batchModelMap,H=V.isSelectable(g),e=!(I=!1),Q=Q[c],k&&(Z=VX(J,Y,H,U,Se,Q))&&!V._45Q&&(fX(Z,Q,v),fX(Z,u.polylineIndexMap[c],u.polylineModelMap),fX(Z,u.wireframeIndexMap[c],u.wireframeModelMap)),k&&V.skipNonSelectableOnPick(g,H)||(Q||(I||(I=!0,e=fJ(J,V,g)),e&&(k||!V._45Q||V._oitEnabled||V.isReflecting(J)||J._blooming||!U.s("transparent.separate")?U.drawBody(J,a,z):(v=RR.for(J).directState().cullFace,g._forceSingleFace=2,v.frontFace=g._flipSide?2305:2304,U.drawBody(J,a,z),g._forceSingleFace=1,v.frontFace=g._flipSide?2304:2305,U.drawBody(J,a,z),g._forceSingleFace=xR,v.frontFace=2305))),V.isLabelVisible(g)&&((M=U.labelInfo)&&(k&&VX(J,Y,H,U,Pe),I||(I=!0,fJ(J,V,g)),U._28O(M,Pe,z)),(M=U.label2Info)&&(k&&VX(J,Y,H,U,$e),I||(I=!0,fJ(J,V,g)),U._28O(M,$e,z))),V.isNoteVisible(g)&&((M=U.noteInfo)&&(k&&VX(J,Y,H,U,le),I||(I=!0,fJ(J,V,g)),U._29O(M,le,z)),(M=U.note2Info)&&(k&&VX(J,Y,H,U,Te),I||(I=!0,fJ(J,V,g)),U._29O(M,Te,z))),(M=U._38o)&&(I||(I=!0,fJ(J,V,g)),U._99O(J,M,Y,H,z)),I&&((Z=RR.for(J).directUniforms()).uBrightness=1,Z.uClipDirection=0,RR.for(J).directState().cullFace.frontFace=2305,J._blooming&&(Z.blackout=!1))))}}}},_formatClipUniforms:function(J,a,z){switch(J){case"uv.right":J=7;break;case"uv.left":J=8;break;case"left":J=2;break;case"top":J=3;break;case"bottom":J=4;break;case"front":J=5;break;case"back":J=6;break;default:J=1}var U,g,V,Y;return J%2==0&&(a=1-a),7===J||8===J?(g=this.shapeModel)&&g.internalUvScale&&(a*=g.internalUvScale):z instanceof m.Shape?(g=z.s3(),V=this._vsTranslation?[0,0,0]:z.p3(),Y=z.getAnchor3d(),a=J<3?(a-Y.x)*g[0]+V[0]:J<5?(a-Y.y)*g[1]+V[1]:(a-Y.z)*g[2]+V[2]):(a-=.5,U=z._clipPercentageTranform),[J,a,U||t2]},prepare:function(){var J=this,a=J.data;if(!(a instanceof jw)){var z,U,g,V=J.gv,Y=V.getGL(),c=a._id,u=J.s("batch"),H=V._batchIndexMap,M=V._batchModelMap,I=V.getBrightness(a),e=I!=WR&&1!==I;if(J.needValidate(Y)){Y=PX(H,M,a,u,V),M=u?V.getBatchInfo(u)||mH:WR;if(J.validate(Y,M),Y&&(!M.ms||!M.ms.length)&&(z=(u=H[c]).size=Y.vs.length/3-u.begin,g=Y.rs))for(I=e?I:1,U=0;U<z;U++)g.push(I);b(a)&&((M=V.getWireframeGeometry(a))?TX(V,a,M):(H=V.getWireframe(a))&&TX(V,a,H)),J.labelInfo=J.label2Info=J.noteInfo=J.note2Info=J._38o=WR,J._24O(Pe,"getLabel"),J._24O($e,"getLabel2"),J._26O(le,"getNote"),J._26O(Te,"getNote2"),J._15O(),J.interactiveInfo=V.isInteractive(a)?{}:WR,J._iv=!1}}},dispatchBoundingBoxChanged:function(){this._cacheBoundingBox=xR},getBoundingBox:function(J){if(this._cacheBoundingBox)return this._cacheBoundingBox;wN||(wN={vs:k9,is:E9,uv:i9},pN=new qR,xN=new qR,WN=new qR,DN=new qR,KN=new qR);var a,z,U,g,V,Y,c,u,H=this,M=H.data,I=H.shapeModel;if((I=(I=!I&&(M instanceof m.Polyline||M instanceof m.Edge)&&H.lineShapeModel?H.lineShapeModel:I)||l9(H))||(m.CSGNode&&M instanceof m.CSGNode||m.CSGShape&&M instanceof m.CSGShape?(isCSG=!0,I=[H.left,H.front,H.right,H.back,H.top,H.bottom,H.csg]):M instanceof m.Node&&!(M instanceof m.Shape)?I=wN:(H.left||H.front||H.right||H.back||H.top||H.bottom)&&(I=[H.left,H.front,H.right,H.back,H.top,H.bottom])),!I)return xR;jR(I)||(I=[I]);var e,Q,v,Z,k,E,i=["","top_","bottom_"],w=new m.Math.Box3,p=!1,x=(H._needRecoverPosition?(DN.set.apply(DN,M.p3()),E=M.s3(),KN.set(1/(E[0]||1),1/(E[1]||1),1/(E[2]||1))):(DN.set(0,0,0),KN.set(1,1,1)),[]);for(EX(I,H,x),a=0,z=x.length;a<z;a++)if((e=x[a])&&(Q=e.mesh))for(v=e.matrix,U=0,g=i.length;U<g;U++)if(c=Q[(k=i[U])+"vs"],u=Q[k+"is"],c){if(!(Z=Q[k+="boundingBox"]))for(Q[k]=Z=new m.Math.Box3,V=0,Y=u?u.length:c.length/3;V<Y;V+=3)u?(pN.fromArray(c,3*u[V]),xN.fromArray(c,3*u[V+1]),WN.fromArray(c,3*u[V+2])):(pN.fromArray(c,3*V),xN.fromArray(c,3*(V+1)),WN.fromArray(c,3*(V+2))),v&&(pN.applyMatrix4(v),xN.applyMatrix4(v),WN.applyMatrix4(v)),pN.sub(DN).multiply(KN),xN.sub(DN).multiply(KN),WN.sub(DN).multiply(KN),pN.isNaN()||Z.expandByPoint(pN),xN.isNaN()||Z.expandByPoint(xN),WN.isNaN()||Z.expandByPoint(WN);w.expandByBox(Z),p=!0}return p?(this._cacheBoundingBox=w,pR.freeze(w),pR.freeze(w.min),pR.freeze(w.max),J||bX(H.gv,M),w):xR},needValidate:function(J){return this._iv},validate:function(J,a){},_16O:function(J,a,z,U,g,V,Y,c,u){return _u},drawBody:function(J,a,z){},dispose:function(){this.disposeGLContent();var J,a=this._pickId;a&&(J=this.gv.pickColorMap)[a]&&delete J[a]},getBodyColor:function(J){var a=this.data;return this.gv.getBodyColor(a)||(J?a.getStyle(J):WR)},disposeGLContent:function(){this._cachedTextures&&this.gv.invalidateCachedTexture(this.data)},getCachedTexture:function(J){var a=this._cachedTextures;return a?a[J||"main"]:null},setCachedTexture:function(J,a){var z=this._cachedTextures,U=(z=z||(this._cachedTextures={}))[a=a||"main"];return U&&(this.gv.getGL().deleteTexture(U),U.interactiveInfo&&(U.interactiveInfo=WR)),z[a]=J},invalidateCachedTexture:function(J){var a=this._cachedTextures;if(!a)return!1;var z,U=!1;for(z in a){var g=a[z];g&&(U=!0,J.deleteTexture(g))}return this._cachedTextures={},U},invalidateCachedGeometry:function(){},_24O:function(J,a){var z,U,g=this.data,V=this.gv,Y=this.s,c=V[a](g);c!=WR&&(z=Y(J+".scale"),U=Y(J+".max"),a=(V=this[J+"Info"]={label:c,textureScale:Y(J+".texture.scale"),color:V[a+"Color"](g),font:Y(J+".font"),align:Y(J+".align"),borderWidth:Y(J+".border.width"),borderColor:Y(J+".border.color"),letterGap:Y(J+".letter.gap"),background:V[a+"Background"](g)}).rect=aQ(V,c),0<U&&U<a.width&&(V.labelWidth=a.width,a.width=U),a.x=a.y=0,a.width*=z,a.height*=z,V.mat=this._16O(Y(J+".autorotate"),Y(J+".position"),a,Y(J+".face"),Y(J+".t3"),Y(J+".r3"),Y(J+".rotationMode")),g=a.width/2,c=a.height/2,V.vs=new fu([-g,c,0,-g,-c,0,g,-c,0,g,c,0]),a.width/=z,a.height/=z)},_26O:function(J,a){var z,U=this.data,g=this.gv,V=this.s,Y=g[a](U);Y!=WR&&(z=V(J+".scale"),Y=(g=this[J+"Info"]={note:Y,textureScale:V(J+".texture.scale"),expanded:V(J+".expanded"),font:V(J+".font"),color:V(J+".color"),align:V(J+".align"),borderWidth:V(J+".border.width"),borderColor:V(J+".border.color"),background:g[a+"Background"](U)}).expanded?(a=V(J+".max"),(U=aQ(g,Y)).width+=6,U.height+=2,0<a&&a<U.width&&(g.labelWidth=U.width,U.width=a),{x:-U.width/2,y:-8-U.height,width:U.width,height:U.height+8}):{x:-6,y:-18,width:12,height:18},g.mat=this._16O(V(J+".autorotate"),V(J+".position"),WR,V(J+".face"),V(J+".t3"),V(J+".r3"),V(J+".rotationMode")),g.rect=Y,1!==z&&((Y=gu(Y)).x*=z,Y.height*=z,Y.y=-Y.height,Y.width*=z),a=Y.x,U=Y.y,V=Y.width,J=Y.height,g.vs=new fu([a,-U,0,a,-U-J,0,a+V,-U-J,0,a+V,-U,0]))},eachShapeModel:function(J,a){var z,U,g,V,Y=this,c=Y.data,u=(a=(a=(a=!(a=a||Y.shapeModel)&&(c instanceof m.Polyline||c instanceof m.Edge)&&Y.lineShapeModel?Y.lineShapeModel:a)||l9(Y))||(c instanceof m.Node&&!(c instanceof m.Shape||m.CSGNode&&c instanceof m.CSGNode)?cubeSM:[Y.left,Y.front,Y.right,Y.back,Y.top,Y.bottom,Y.csg]),jR(a)||(a=[a]),[]);for(EX(a,Y,u),z=0,U=u.length;z<U;z++)(V=u[z])&&(g=V.mesh)&&(V=V.matrix,T9(g),g.vs&&J(g.vs,g.is,g.ns,g.uv,V),g.top_vs&&J(g.top_vs,g.top_is,g.top_ns,g.top_uv,V),g.bottom_vs&&J(g.bottom_vs,g.bottom_is,g.bottom_ns,g.bottom_uv,V),g.from_vs&&J(g.from_vs,g.from_is,g.from_ns,g.from_uv,V),g.to_vs&&J(g.to_vs,g.to_is,g.to_ns,g.to_uv,V));return!0},_28O:function(J,a,z){var U,g,V;z(this.s(a+".transparent"))&&(z=J.rect,U=J.textureScale,V=z.width*U,g=z.height*U,1<=V&&1<=g&&(V=_Q(V,g),1!==U&&(V.translate(z.x,z.y),V.scale(U,U),V.translate(-z.x,-z.y)),wf(V,J),V.restore(),eX(this,a,J.mat,J.vs,!0)))},_29O:function(J,a,z){var U,g,V,Y,c;z(this.s(a+".transparent"))&&(z=J.rect,U=J.textureScale,g=z.x,V=z.y,c=z.width*U,Y=z.height*U,1<=c&&1<=Y&&(z.x=z.y=0,c=_Q(c,Y),1!==U&&c.scale(U,U),pf(c,J),c.restore(),z.x=g,z.y=V,eX(this,a,J.mat,J.vs,!1)))},_99O:function(J,a,z,U,g){if(a){var V,Y=this.gv,c=this.data,u=Y._buffer,H=J._sharedTexture,M=a.icons,I=RR.for(J).directAttribs();for(V in M){var e=M[V],Q=a.rects[V];if(Q&&g(_(e.transparent,c,Y))){Y._picking&&VX(J,z,U,this,V);var v=_(e.shape3d,c,Y),Z=v?[v]:_(e.names,c,Y),k=Z?Z.length:0,E=_(e.textureScale,c,Y)||1,i=_(e.light,c,Y);i==WR&&(i=!!v),PJ(J,_(e.blend,c,Y),i,_(e.opacity,c,Y),_(e.reverseFlip,c,Y),_(e.reverseColor,c,Y),_(e.reverseCull,c,Y));for(var w=0;w<k;w++){var p,x,W,D=Z[w],K=Q[w];IX(this,K.mat),v?S9(Y,c,l9(this,v),this):(D=s(D))&&(p=K.width*E,x=K.height*E,1<=p&&1<=x&&(W=_Q(p,x),Gm(W,D,_(e.stretch,c,Y),0,0,p,x,c,Y),W.restore(),dJ(Y,J,sQ,H),lJ(J,H,_(e.discardSelectable,c,Y),u.uv,Q9),I.aPosition=_J(J,u.vs,K.vs),I.aNormal=BJ(J,u.ns,v9,WR),rJ(J,u.is,Z9),mJ(J,0,Z9.length),TJ(J,H))),aX(Y)}$J(J)}}}},_getLodId:function(J){for(var a,z=this.gv,U=(g=this.data).getFinalScale3d(),g=g.p3(),V=this._getRangeSq(J),J=z.getEye(),Y=V.length,z=Math.max(U[0],U[2])*U[1],U=J[0]-g[0],c=J[1]-g[1],u=(U*U+c*c+(J=J[2]-g[2])*J)/z,H=this._lodId,M=0;M<Y;M++)if(H===M){if(u<V[M][2]){a=M;break}}else if(u<V[M][0]){a=M;break}this._lodId=a=a===xR?Y-1:a},_getRangeSq:function(J){var a=this.gv;if(J._version===a._renderId&&J._rangeSq)return J._rangeSq;for(var z,U=J.range,g=(U.length,J.switchBias||.01),V=(J._version=a._renderId,U.length),Y=a._lodConst,c=[],u=0;u<V;u++)z=Y/U[u],c.push([z/(1+g),z,z/(1-g)]);return J._rangeSq=c}}),B.Node3dUI=function(J,a){yL(PA,this,[J,a])}),$A=(Su(PA,SA,{_16O:function(J,a,z,U,g,V,Y,c,u){var H,M,I=this.data,e=I.getFinalScale3d(),Q=((I.hasOwnProperty("_anchor")||I.hasOwnProperty("_anchorElevation"))&&(H=[-((H=I.getAnchor3d()).x-.5)*e[0],-(H.y-.5)*e[1],-(H.z-.5)*e[2]]),I.s("part.boundingBox")&&(Q=this.getBoundingBox(!0))&&(M=Q.max.clone().sub(Q.min),Q=Q.max.clone().add(Q.min).divideScalar(2),(H=H||[0,0,0])[0]+=Q.x*e[0],H[1]+=Q.y*e[1],H[2]+=Q.z*e[2],e[0]*=M.x,e[1]*=M.y,e[2]*=M.z),HX(a,e,z,U,c,u));return H&&(Q[0]+=H[0],Q[1]+=H[1],Q[2]+=H[2]),MX(mu(),Q,I.p3(),U,g,V,Y,J,I.getFinalRotation3d(),I.getRotationMode())},clear:function(){var J=this;J.faceMat=J.mat=J.shapeModel=J.left=J.right=J.front=J.back=J.top=J.bottom=J.csg=WR},needValidate:function(J){return this._iv?(this._validateFrameId=J._renderInfo.frame,!0):!(!this.data._47Q||(J=J._renderInfo.frame,this._validateFrameId===J))&&(this._validateFrameId=J,!0)},invalidateUnstableWireframe:function(){this.data._47Q&&this.invalidateWireframe()},validate:function(J,a){var z=this,U=z.gv,g=z.data,V=z.shapeName=z.s(Oq),Y=l9(z,V),c=(z._updateAutoRotation(),z._updateFixSize2d(),z._updateOverlapping(),z.dispatchBoundingBoxChanged(),z.invalidateUnstableWireframe(),gD(g,U.getMat(g),!Y||z.s("shape3d.scaleable"))),u=(g.appendAnchorMatrix3d(c),U.createNodeFinalMatrix(g,c)),H=Y!==z.shapeModel,u=(z.clear(),z.mat=g.mat=c,z._finalMat=u);g._flipSide=XR.determinantOfArray(c)<0,!Y&&V||(V=null,(z.shapeModel=Y)&&Y.model3d&&(g.s("3d.clip.direction")&&g.s("3d.clip.percentage")&&(V=eJ(hu(c))),H&&((H=g._pendingAnimation)?g.playAnimation(H.animationName,H.speed,H.start,H.loop):Y.playAutomatically&&!g.isAnimationPlaying()&&g.playAnimation())),g._clipPercentageTranform=V,J?Y?a.instanced?U.batchInstancedModel(g,Y,z,z.getBodyColor(),[c],J):oX(U,g,Y,z,z.getBodyColor(),[c],J):(H=zX(u),a.instanced?U.batchInstancedFace(g,J,a,u,H):BX(U,g,J,a,u,H)):Y||(z._cubeUvs=null,z.vf(Ve,0),z.vf(Ye,16),z.vf(Ue,8),z.vf(ge,24),z.vf(ce,32),z.vf(ue,40)))},_updateAutoRotation:(sN=new xm,mN=new XR,_N=new qR,hN=new qR,BN=new qR,function(){var J=this.data,a=this.s("autorotate")||this.s("shape3d.autorotate");if(a){var z=this.gv,U=this.s("shape3d.autorotate.up");do{if("string"==typeof a){if("spinaxis"!==a){_N.copy(U||z._up),hN.copy(z._eye).sub(BN.copy(z._center));for(var g=0,V=a.length;g<V;g++)hN[a[g]]=0;var Y=hN.normalize().dot(BN.copy(_N).normalize());1-Math.abs(Y)<1e-5&&(a.indexOf("x")<0?hN.x+=1e-4:a.indexOf("y")<0?hN.y+=1e-4:a.indexOf("z")<0&&(hN.z+=1e-4));break}_N.copy(J.p3())}else{if(!jR(a)){_N.copy(U||z._up),hN.copy(z._eye).sub(BN.copy(z._center));break}_N.copy(a)}}while(U?hN.copy(U):(Y=z._viewMatrix,hN.set(Y[1],Y[5],Y[9])),hN.crossVectors(hN,_N),hN.crossVectors(hN,_N),0);mN.lookAtDirection(hN,_N),sN.set(0,0,0,J.getRotationMode(),!0).setFromRotationMatrix(mN);var c=J._dynamicRotation;c&&Math.abs(c[0]-sN.x)<1e-5&&Math.abs(c[1]-sN.y)<1e-5&&Math.abs(c[2]-sN.z)<1e-5||(J._dynamicRotation=[sN.x,sN.y,sN.z])}else J._dynamicRotation&&delete J._dynamicRotation}),_updateFixSize2d:function(){var J,a,z,U,g,V,Y=this.data,c=this.s("fixSizeOnScreen")||this.s("shape3d.fixSizeOnScreen");c?(J=(z=this.gv).createNodeFinalMatrix(Y),V=tu([0,0,0],J),V=z.toViewPosition(V),isNaN(V.x)||isNaN(V.y)||(a=tu([1,0,0],J),a=z.toViewPosition(a),J=tu([0,1,0],J),z=z.toViewPosition(J),J=a.x-V.x,a=z.y-V.y,J&&a&&(z=Y._dynamicScale3d||[1,1,1],V=s(Y.s("shape3d.image")),0<c[0]&&(U=c[0]),0<c[1]&&(g=c[1]),U&&g||(c=0<c?c:1,U=U||(eA(V,Y)||Y.getWidth())*c,g=g||(QA(V,Y)||Y.getTall())*c),V=Math.abs(J/U),c=Math.abs(a/g),Math.abs(V-1)<.001&&Math.abs(c-1)<.001||(Y._dynamicScale3d=[z[0]/V,z[1]/c,z[2]])))):Y._dynamicScale3d&&delete Y._dynamicScale3d},_updateOverlapping:function(){var J=this.s("hide.overlapping.group");if(J){for(var a,z=this.gv,U=this.data,g=z.createNodeFinalMatrix(U),V=1/0,Y=1/0,c=-1/0,u=-1/0,H=(U=U.getAnchor3d()).x,M=U.y,I=U.z,e=0;e<8;e++){if(a=tu([(e>>2)-H,(e>>1&1)-M,(1&e)-I],g),a=z.toViewPosition(a),isNaN(a.x)||isNaN(a.y))return;V=Math.min(V,a.x),c=Math.max(c,a.x),Y=Math.min(Y,a.y),u=Math.max(u,a.y)}this._rectOverlapping=z.overlappingBox.isOverlapping(J,{x:V,y:Y,w:c-V,h:u-Y})}else this._rectOverlapping&&(this._rectOverlapping=xR)},getVectorDynamicSize:function(){var U,g,V,Y,c,u,J,a,z,H,M=this.s("shape3d"),I=this.data;if("billboard"===M||"plane"===M||(a=I._currentCubeElementId)!=WR)return U=this.gv,g=U.createNodeFinalMatrix(I),J=I.getAnchor3d(),V=.5-J.x,Y=.5-J.y,c=.5-J.z,u=Math.min(this.s("vector.dynamic.maxsize"),U._glCapabilities.maxTextureSize)/U.getDevicePixelRatio(),J=function(J,a){J[0]+=V,J[1]+=Y,J[2]+=c,a[0]+=V,a[1]+=Y,a[2]+=c;var J=U.toViewPosition(tu(J,g)),a=U.toViewPosition(tu(a,g)),z=J.x-a.x,J=J.y-a.y;return Math.min(u,Math.sqrt(z*z+J*J))},"billboard"===M?(z=J([-.5,0,0],[.5,0,0]),H=J([0,-.5,0],[0,.5,0])):"plane"===M?(z=J([-.5,0,0],[.5,0,0]),H=J([0,0,-.5],[0,0,.5])):I._currentCubeElementId!=WR&&(M=3*E9[a+1],I=3*E9[a],a=3*E9[a+2],z=J([k9[M],k9[1+M],k9[2+M]],[k9[a],k9[1+a],k9[2+a]]),H=J([k9[M],k9[1+M],k9[2+M]],[k9[I],k9[1+I],k9[2+I]])),[z,H]},vf:function(J,a){if(this.gv.getFaceVisible(this.data,J)){(J=QX(this,J)).mat&&(this.faceMat=!0);var z=J.uv;if(z)for(var U=(U=this._cubeUvs)||(this._cubeUvs=new fu([0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0])),g=0;g<8;g++)U[a+g]=z[g];return J}},_billboardInView:(TN=[-.5,-.5,0,-.5,.5,0,.5,-.5,0,.5,.5,0],fN=[-.5,0,-.5,-.5,0,.5,.5,0,-.5,.5,0,.5],NN=new Em,AN=new qR,oN=new XR,function(J){if(!this._finalMat)return!0;var a=this.gv.getFrustum(),z="billboard"===J?TN:fN;NN.makeEmpty(),oN.fromArray(this._finalMat);for(var U=0,g=z.length;U<g;U+=3)NN.expandByPoint(AN.fromArray(z,U).applyMatrix4(oN));return a.intersectsBox(NN)}),drawBody:function(J,a,z){var U=this;if(U._rectOverlapping)return!0;var g=U.shapeModel;if(g||!U.shapeName){if(("billboard"===(u=U.s("shape3d"))||"plane"===u)&&!U._billboardInView(u))return!0;var V,Y,c,u=U.gv,H=U.data,M=u._cube,I=RR.for(J).directAttribs();if(!U.s("effect.flow")&&(J._picking||!U.s("shape3d.reflector")||(V=U._reflectorModel)&&V.renderAsNode))if(V||g&&g.model3d)U.s(Lq)&&((Y=H.s("polygonOffset"))&&CJ(J,Y),V?U.gv._prefabRenderer.render(J,V,H):U.gv._prefabRenderer.renderNode(J,g,H,U._finalMat),Y&&yJ(J));else{if(UX(u,U._finalMat),g)S9(u,H,g,U,U.getBodyColor(),z);else for(I.aPosition=_J(J,M.vs,WR),I.aNormal=_J(J,M.ns,WR),tJ(J,M.is),c=0;c<6;c++)U._18O(J,p9[c],6*c,z,!1);if(aX(u),U.faceMat)for(c=0;c<6;c++)U._18O(J,p9[c],6*c,z,!0)}}},_18O:function(J,a,z,U,g){var V,Y,c,u,H,M,I,e,Q,v=this[a];v&&(V=this.data,!(u=(Y=this.gv)._picking?null:v.material)&&!U(v.transparent)||g&&!v.mat||!g&&v.mat||(V._currentCubeElementId=z,(U=V.s("polygonOffset"))&&CJ(J,U),u?(u={mesh:{vs:k9,is:E9,ns:w9,uv:v.uv?this._cubeUvs:i9,_complete_:!0},drawRange:[z,6],mat:u},V._currentFaceLightMask=v.light?V.s("light.mask"):0,Y._prefabRenderer.render(J,u,V,g?v.mat:null),V._currentFaceLightMask=null,u=Y._cube,(c=RR.for(J).directAttribs()).aPosition=_J(J,u.vs,WR),c.aNormal=_J(J,u.ns,WR),tJ(J,u.is)):(g&&UX(Y,v.mat),c=RR.for(J).directUniforms(),u=Y.getTexture(v.texture,V,a),a=v.uv,H=v.uvScale,M=v.uvOffset,I=v.uvRotation,e=v.uvAnchor,Q=v.discardSelectable,u?a?lJ(J,u,Q,Y._buffer.uv,this._cubeUvs,M,H,I,e):lJ(J,u,Q,Y._cube.uv,WR,M,H,I,e):lJ(J),PJ(J,v.blend,v.light,v.opacity,v.reverseFlip,v.reverseColor,V._forceSingleFace||v.reverseCull),c.uDiffuse=v.color||CR["color.empty"],mJ(J,z,6),$J(J),TJ(J,u),g&&aX(Y)),U&&yJ(J),V._currentCubeElementId=null))},disposeGLContent:function(){PA.superClass.disposeGLContent.apply(this,arguments),this.data.s("shape3d.reflector")&&(nJ(this.gv,this._reflectorRenderTarget),this._reflectorRenderTarget=null,this._reflectNormal=null)},drawReflector:(dN=new qR,jN=new qR,qN=new qR,XN=new qR,RN=new qR,CN=new qR,yN=new XR,FN=new XR,ON=new XR,nN=new vm,LN=new Zm,bN=new em,SN=new em,PN=mu(),$N=mu(),lN=["","top_","bottom_","from_","to_"],function(J){var a=this,z=(a._reflectorInfo=null,a.data);if(z._reflecting||!a.mat)return!1;var U=a.gv;if(U._picking)return!1;if(U._camera&&!U._camera.isLayerVisible(z.getRenderLayer()))return!1;var g=U._camera||U,V=z instanceof Rw,Y=z.s("shape3d.reflector.ratio"),c=a._reflectorRenderTarget,u=U._canvas.width*Y,Y=U._canvas.height*Y,H=(H=U.getViewport(J))&&gu(H);if(c?c.setSize(J,u,Y):c=a._reflectorRenderTarget=new B.RenderTarget(U,J,u,Y),ON.copy(a.mat),jR(u=a.s("shape3d.reflector.position"))?dN.copy(u).applyMatrix4(ON):V?((i=z.p3())[1]+=(1-z.getAnchorElevation())*z.getTall(),dN.copy(i).applyMatrix4(ON)):dN.copy(z.p3()),!a._reflectNormal){if(!(Y=a.shapeModel))if(V)Y=[a.left,a.right,a.top,a.bottom,a.front,a.back];else if(u=a.s(Oq)){if(!(Y=l9(a,u)))return!1}else Y={vs:k9,is:E9,ns:w9};var M,I,e,Q,v,Z=[];if(EX(Y,a,Z),0===(M=Z.length))return!1;if(jR(u=a.s("shape3d.reflector.normal")))qN.copy(u).normalize();else if(V)qN.set(0,1,0);else{for(var k,E=0;E<M;E++)if((I=Z[E])&&(e=I.mesh)){for(T9(e),Q=0,v=lN.length;Q<v&&!(k=e[lN[Q]+"ns"]);Q++);if(k){qN.set(k[0],k[1],k[2]);break}}if(!k)return!1}a._reflectNormal=qN.toArray(),(i=t.requestVector3()).copy(dN),i.applyMatrix4(FN.copy(ON).invert()),a._reflectorPosition=i.toArray(),Y=Math.max(a.s("shape3d.reflector.normal.threshold"),.01*Math.PI),a._reflectorModel={model3d:!0,mesh:{vs:function(J,a,z,U){for(var g,V,Y,c,u,H,M,I,e,Q,v,Z,k=t.requestVector3(),E=t.requestVector3(),i=t.requestVector3(),w=t.requestVector3(),p=t.requestVector3(),x=t.requestVector3(),W=[],D=0,K=J.length;D<K;D++)if((u=J[D])&&(H=u.mesh))for(T9(H),Y=0,c=lN.length;Y<c;Y++)if(M=H[lN[Y]+"vs"])for(V=(I=H[lN[Y]+"is"])?I.length:M.length/3,Z=u.matrix,g=0;g<V;g+=3)v=I?(e=I[g],Q=I[g+1],I[g+2]):(Q=(e=g)+1,g+2),Q*=3,v*=3,E.fromArray(M,e*=3),i.fromArray(M,Q),w.fromArray(M,v),Z&&(E.applyMatrix4(Z),i.applyMatrix4(Z),w.applyMatrix4(Z)),p.subVectors(i,E),x.subVectors(w,E),k.crossVectors(p,x).angleTo(z)<=U&&k.crossVectors(z,p.subVectors(E,a)).cross(z).angleTo(p)<=U&&k.crossVectors(z,x.subVectors(i,a)).cross(z).angleTo(x)<=U&&k.crossVectors(z,p.subVectors(w,a)).cross(z).angleTo(p)<=U&&W.push(E.x,E.y,E.z,i.x,i.y,i.z,w.x,w.y,w.z);return t.releaseVector3(k),t.releaseVector3(E),t.releaseVector3(i),t.releaseVector3(w),t.releaseVector3(p),t.releaseVector3(x),W}(Z,i,qN,Y)},mat:{type:"reflector",internalDefines:!1,defines:{}}},t.releaseVector3(i)}if(nN.getNormalMatrix(ON),qN.copy(a._reflectNormal).applyNormalMatrix(nN),jN.copy(g.getEye()),XN.subVectors(dN,jN),0<XN.dot(qN))return!1;XN.reflect(qN).negate(),XN.add(dN),RN.copy(g.getCenter()).negate().add(dN),RN.reflect(qN).negate(),RN.add(dN),CN.copy(g.getUp()),CN.reflect(qN);var u=U._camera,Y=0<(w=U)._tempCameraQueue.length?w._tempCameraQueue.pop():((w=new m.Camera).s("camera.aspect.sync",!0),w),i=(U.getCamera(Y),(U._camera=Y).p3(XN.toArray()),Y.lookAt(RN.toArray(),CN.toArray()),U._18Q=WR,c.bind(J),U.setViewport(J,0,0,c.width,c.height),z.s("shape3d.reflector.background"));i?(D=FJ(J,!0),OJ(J,i)):OJ(J,[0,0,0,1]),RR.for(J).glState.depth.mask=!0,J.clear(16640);var g=(g=z.s("shape3d.reflector.clip"))===xR?.003:g,w=DJ(U),p=WJ(U),g=(LN.setFromNormalAndCoplanarPoint(qN,dN.add(qN.clone().multiplyScalar(g))),LN.applyMatrix4(FN.fromArray(p)),bN.set(LN.normal.x,LN.normal.y,LN.normal.z,LN.constant),FN.fromArray(w).getInverse(FN),SN.set(Math.sign(bN.x),Math.sign(bN.y),1,1).applyMatrix4(FN),bN.multiplyScalar(2/bN.dot(SN)),z._reflecting=!0,z.s("shape3d.reflector.shadow")),p={renderAxis:!1,renderEdit:!1,renderGrid:!1};if("disabled"===g?(p.renderShadowMap=!1,p.renderShadow=!1):"scene"===g?p.renderShadowMap=!1:p.useReflectorSelfShadowMap=!0,Y.setProjectMatrix(w),U.renderSky(),w[2]=bN.x-w[3],w[6]=bN.y-w[7],w[10]=bN.z-w[11],w[14]=bN.w-w[15],Y.setProjectMatrix(w),Y.s("camera.renderSky",!1),p.ignoreExternalCamera=!0,U.renderScene(p),yN.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),yN.multiply(FN.fromArray(U._projectMatrix)),yN.multiply(FN.fromArray(U._viewMatrix)),i&&OJ(J,D),c.unbind(J),U._tempCameraQueue.push(Y),U._18Q=WR,U._camera=u,(g=z.s("shape3d.reflector.blur"))&&(w=U.getPostProcessingModule("Blur"))&&w.drawImpl(J,c,g,3<=g,z.s("shape3d.reflector.blur.iterations")),(p=U.getPostProcessingModule("Glitch"))&&p.enable&&p.onlyReflector&&(c=p._42(J,c)),H&&U.setViewport(J,H[0],H[1],H[2],H[3]),!1===z.s("shape3d.reflector.visible"))return eI(U,z),!0;var x,W,D=(i=a._reflectorModel).mat,u=(D.tDiffuse=c.texture,D.color=tQ(z.s("shape3d.reflector.color")||CR["shape3d.reflector.color"]),D.defines.MAX_BOX_CLIPPER=U._boxClippers.length,D.defines.BOX_CLIPER_TYPES=U._boxClipperTypes,D.cacheKey=U._boxClippers.length+" "+U._boxClipperTypes,Y=V&&a._matWithExtraction?a._matWithExtraction:a.mat,z.s("shape3d.reflector.immediate")),w=(D.modelMatrix=Y,D.modelTextureMatrix=ZJ(u?PN:mu(),yN.getElements(),Y),D.modelViewMatrix=ZJ(u?$N:mu(),WJ(U),Y),D.projectionMatrix=DJ(U),this.s("shape3d.transparent"));return D.transparent=!u&&w,u?(w&&(W=(x=RR.for(J).glState).depth.mask,x.depth.mask=!1),U._prefabRenderer.render(J,i,z),w&&(x.depth.mask=W),delete i.renderAsNode):i.renderAsNode=!0,eI(U,z),!0})}),function(J,a){yL($A,this,[J,a])}),lA=(Su($A,PA,{drawBody:function(J){}}),B.Edge3dUI=function(J,a){yL(lA,this,[J,a])}),TA=(Su(lA,SA,{_25Q:1,validate:function(J,a){var z=this,U=z.s;if(U(Oq)===xe&&U("batch")==WR&&z.info&&z._geometryVersion===z.data._geometryVersion)dX(z.gv,z.data);else{var g=z.gv,V=z.data,Y=U("edge.width"),c=V._40I,u=V._41I;if(z._geometryVersion=V._geometryVersion,z.shapeModel=z.info=z.lineShapeModel=WR,c&&u){var H=V.isLooped(),M=U(Be);if(q=DR.getEdgeType(M)){if(!(q=q(V,Kf(z,g,V,H,M),g,z._19Q)).points||q.points.isEmpty())return;for(var I=z.info={},e=q.segments,Q=(j=q.points).size(),v=c.getElevation(),Z=u.getElevation(),k=0;k<Q;k++){var E=j.get(k);E.e==WR&&(E.e=v+(Z-v)*k/(Q-1))}var i=G2(j.get(0)),w=G2(j.get(Q-1)),p=(Q-(K=Q%2))/2;I.c1=G2(j.get(p-1)),I.c2=G2(j.get(p)),0!==K&&(I.p3=I.c2),I.s1=i,I.s2=G2(j.get(1)),I.t1=G2(j.get(Q-2)),I.t2=w}else{var x,W,D,K,d,j=new h,I=z.info={},q=U("edge.offset"),X=U("edge.center"),R=U("edge.source.t3"),C=U("edge.target.t3"),y=uX(g,V,"source"),F=uX(g,V,"target");if(!y||!F)return g.invalidateData(V),delete z.info,!1;R&&(y[0]+=R[0],y[1]+=R[1],y[2]+=R[2]),C&&(F[0]+=C[0],F[1]+=C[1],F[2]+=C[2]),M===ne?(e=U("edge.segments"),(Q=(R=I.points=U(he)||oD).size())?(i=G2(R.get(0)),w=G2(R.get(Q-1)),!X&&q&&(C=q,x=Au(i,y,!0),q=UR(C,pu(y,i)),y=[y[0]+x[0]*q,y[1]+x[1]*q,y[2]+x[2]*q],x=Au(F,w,!0),q=UR(C,pu(w,F)),F=[F[0]-x[0]*q,F[1]-x[1]*q,F[2]-x[2]*q]),1===Q?I.p3=i:(p=(Q-(K=Q%2))/2,W=G2(R.get(p-1)),D=G2(R.get(p)),0!==K&&(I.p3=D),I.s1=y,I.s2=i,I.t1=w,I.t2=F)):(!X&&q&&(x=Au(F,y,!0),d=pu(y,F),q=xf(q,d),y=[y[0]+x[0]*q,y[1]+x[1]*q,y[2]+x[2]*q],F=[F[0]-x[0]*q,F[1]-x[1]*q,F[2]-x[2]*q]),W=y,D=F),j.add({x:y[0],y:y[2],e:y[1]}),j.addAll(R),j.add({x:F[0],y:F[2],e:F[1]})):(C=Kf(z,g,V,H,M),z._19Q||(C=-C),H?(p=y[0],K=y[1],i=y[2],W=[p-C,K+(w=c.getTall()/2+C),i],D=[p+C,K+w,i],j.add({x:p-C,y:i,e:K}),j.add({x:p-C,y:i,e:K+w}),j.add({x:p+C,y:i,e:K+w}),j.add({x:p+C,y:i,e:K})):(x=Au(F,y,!0),d=pu(y,F),R={x:y[0],y:y[2]},V={x:F[0],y:F[2]},H=(M=IJ(WR,R,V,C)).x-R.x,w=M.y-R.y,q=xf(q,d),x[0]*=q,x[1]*=q,x[2]*=q,W=[y[0]+x[0]+H,y[1]+x[1],y[2]+x[2]+w],D=[F[0]-x[0]+H,F[1]-x[1],F[2]-x[2]+w],X?(j.add({x:y[0],y:y[2],e:y[1]}),j.add({x:W[0],y:W[2],e:W[1]}),j.add({x:D[0],y:D[2],e:D[1]}),j.add({x:F[0],y:F[2],e:F[1]})):(j.add({x:W[0],y:W[2],e:W[1]}),j.add({x:D[0],y:D[2],e:D[1]})))),I.c1=W,I.c2=D}I._lastPointsSegments={points:j,segments:e},z._matWithExtraction=z._vsTranslation=null,U(Oq)===xe?((DR.extractPolylineTranslation||DR.extractVerticesTranslation)&&(p=c.p3(),y=u.p3(),X=[(p[0]+y[0])/2,(p[1]+y[1])/2,(p[2]+y[2])/2]),I.list=z.createTubeModel(j,e,Y/2,J,X)):I.list=z.createLineModel(j,e,Y,"edge","edge.dash"),dX(g,z.data)}}},invalidateCachedGeometry:function(){this.info=WR}}),B.Shape3dUI=function(J,a){yL(TA,this,[J,a]),this._needRecoverPosition=!0}),fA=(Su(TA,PA,{drawBody:function(J,a,z){var U=this._finalMat;if(U&&(!this.s("shape3d.reflector")||J._picking)){var g=this.gv,V=this.shapeModel;if(UX(g,U),V)S9(g,this.data,V,this,this.getBodyColor(),z);else for(var Y=0;Y<6;Y++)vX(this,J,a,p9[Y],z);aX(g)}},validate:function(J,a){var z,U,g,V=this,Y=V.s,c=V.data,u=c._thickness/2,H=c.isClosePath(),M=c.getPoints(),I=c.getSegments(),e=Y(nq),Q=J&&J.uv;if(V.invalidateUnstableWireframe(),V.clear(),V.dispatchBoundingBoxChanged(),V._updateAutoRotation(),DR.extractShapeTranslation||DR.extractVerticesTranslation?(U=new t.Vector3(c.p3()),(M=gu(M)).forEach(function(J){J.x-=U.x,J.y-=U.z}),V._vsTranslation=(new t.Matrix4).setPosition(U),g=c.getShapeElevation,c.getShapeElevation=function(){return-(this.getTall()||0)*(this._anchorElevation-.5)}):V._vsTranslation=null,u<0){V.s("shape3d.reflector")&&(V._reflectNormal=null);try{var v,Z,k=Y("shape3d.image.projection");k&&k[4]&&(v=(C=c.p3())[0],Z=C[2],k=[v+k[0],k[1]+Z,v+k[2],k[3]+Z]),z=V.shapeModel=Tf(M,I,Y(Pq),Y($q),e,Y(lq),c.getTall(),c.getShapeElevation(),H,k)}catch(J){z=V.shapeModel={}}Y(Lq)||(delete z.vs,delete z.ns,delete z.uv)}else if(Y(Oq)===xe)j=UW(M,I,e,H),(z=V.shapeModel={vs:[],uv:[]}).sum=Y(lq)||oL(j)||1,z.len=0,Y(Pq)&&!H&&(z.top_vs=[],z.top_uv=[]),Y($q)&&!H&&(z.bottom_vs=[],z.bottom_uv=[]),V._12O(j,u);else{var E,i,w,p,x,W,D,K,d,j=UW(M,I,e,H),q=V.vf(Ue,Q,!1,a);if(u&&(x=V.vf(ge,Q,!1,a),W=H?WR:V.vf(Ve,Q,!1,a),D=H?WR:V.vf(Ye,Q,!1,a),K=V.vf(ce,Q,!1,a),d=V.vf(ue,Q,!1,a)),u){for(var X=0,R=j.length;X<R;X++)j[X]=V._tryRemoveBezierPoints(j[X],u);V._12O(j,u)}else q&&j.forEach(function(J){if(0<(p=J.length))for(E=J[0],w=1;w<p;w++)i=J[w],V.addV(q.vs,E,i),E=i});V._20Q(j),J||(q&&(q.ns=KJ(q.vs),f9(q,"vs"),f9(q,Jq)),u&&(x&&(x.ns=KJ(x.vs),f9(x,"vs"),f9(x,Jq)),W&&(W.ns=KJ(W.vs),f9(W,"vs"),f9(W,Jq)),D&&(D.ns=KJ(D.vs),f9(D,"vs"),f9(D,Jq)),K&&(K.ns=KJ(K.vs),f9(K,"vs"),f9(K,Jq)),d&&(d.ns=KJ(d.vs),f9(d,"vs"),f9(d,Jq)))),delete this._shapeModelCacheForWf}var C=V.mat=c.getPointsMatrix3d().getElements();c._flipSide=XR.determinantOfArray(C)<0,V._vsTranslation?C=V._matWithExtraction=(new t.Matrix4).fromArray(C).multiply(V._vsTranslation).toArray():V._matWithExtraction=null,J&&(tX(V,C,J,z,a),V.clear()),g!=WR&&(c.getShapeElevation=g),dX(V.gv,c,V.mat)},_20Q:function(J){var a,z,U,g,V,Y,c,u,H,M,I,e,Q,v=this,Z=v.front,k=v.back,E=v.top,i=v.bottom,Z=Z?Z.tuv:WR,k=k?k.tuv:WR,E=E?E.tuv:WR,i=i?i.tuv:WR,w=0,p={front:0,back:0,top:0,bottom:0};(Z||k||E||i)&&(Q=v.s(lq),a=Q||oL(J)||1,I=v.s("all.uv.union"),J.forEach(function(J){if(0<(z=J.length)){for(M in p)(!1===(e=v.s(M+".uv.union"))||e==WR&&!1===I)&&(p[M]=0,Q||(a=oL([J])));for(Y=J[0],U=1;U<z;U++){for(M in c=J[U],u=pu(Y,c),p)w=p[M],g=w/a,p[M]=w+=u,V=w/a,"back"===M&&(H=g,g=1-V,V=1-H),v._14O(v[M],g,V);Y=c}}}))},_14O:function(J,a,z){var U,g,V,Y,c,u,H,M;J&&(M=J.uv,(J=J.tuv)&&(M=M?(U=M[0]+(M[6]-M[0])*a,g=M[1]+(M[7]-M[1])*a,V=M[2]+(M[4]-M[2])*a,Y=M[3]+(M[5]-M[3])*a,c=M[2]+(M[4]-M[2])*z,u=M[3]+(M[5]-M[3])*z,H=M[0]+(M[6]-M[0])*z,M[1]+(M[7]-M[1])*z):(V=U=a,u=Y=1,H=c=z,g=0),J.push(V,Y,c,u,H,M,H,M,U,g,V,Y)))},_13O:function(J){var a=J.uv;(J=J.tuv)&&(a?J.push(a[2],a[3],a[4],a[5],a[6],a[7],a[6],a[7],a[0],a[1],a[2],a[3]):J.push(0,1,1,1,1,0,1,0,0,0,0,1))},_tryRemoveBezierPoints:function(a,J){var z=a.length;if(z<4)return a;for(var U,g,V,Y,c=!1,u=function(J){return a[J]},H=function(J){return a[z-1-J]},M=0;M<=1;M++)for(U=(V=M?H:u)(0),g=V(1),e=2;e<z-1;e++)(Y=V(e)).remove||(Y.b&&IJ(U,g,Y,J).adjust?c=Y.remove=!0:(U=g,g=Y));if(!c)return a;for(var I=[],e=0;e<z;e++)a[e].remove||I.push(a[e]);return I},_12O:function(J,a){var z,U,g,V,Y,c=this.s("shape3d.point.epsilon"),u=this;J.forEach(function(J){if(0<(Y=J.length))for(z={p:J[0],n:!0},V=1;V<Y;V++)U=J[V],(g=V<Y-1?J[V+1]:WR)&&Math.abs(U.x-g.x)<c&&Math.abs(U.y-g.y)<c||u.addPoint(z,U,g,a,J)})},addPoint:function(J,a,z,U,g){var V,Y,c,u,H,M,I=this,e=J.p,Q=J.f,v=J.b,Z=I.s("shape3d.side")||bu,k=I.s("shape3d.start.angle"),E=I.s("shape3d.sweep.angle"),i=I.shapeModel,w=I.data.isClosePath();if(J.n&&(J.n=!1,Q=w&&2<g.length?IJ(g[g.length-2],e,a,U):IJ(WR,e,a,U),v=MJ(e,Q),i?i.top_vs&&I._10O(v,Q,Z,k,E,i.top_vs,i.top_uv):(V=I.left)&&(I.addV(V.vs,v,Q),I._13O(V))),w=z?IJ(e,a,z,U):w&&2<g.length?IJ(e,a,g[1],U):IJ(e,a,WR,U),g=MJ(a,w),i){var p,x,W=i.vs,D=i.uv,U=i.sum;for(D&&(p=i.len/U,i.len+=pu(e,a),x=i.len/U),c=I._9O(v,Q,Z,k,E),u=I._9O(g,w,Z,k,E),H=0;H<Z;H++)dL(W,c[M=H+1]),dL(W,u[H]),dL(W,c[H]),dL(W,u[H]),dL(W,c[M]),dL(W,u[M]),D&&D.push(p,M/=Z,x,Y=H/Z,p,Y,x,Y,p,M,x,M);!z&&i.bottom_vs&&I._10O(g,w,Z,k,E,i.bottom_vs,i.bottom_uv,!0)}else!z&&(V=I.right)&&(I.addV(V.vs,w,g),I._13O(V)),(V=I.front)&&I.addV(V.vs,Q,w),(V=I.back)&&I.addV(V.vs,g,v),(V=I.top)&&I.addH(V.vs,Q,w,g,v,!0),(V=I.bottom)&&I.addH(V.vs,v,g,w,Q);J.p=a,J.f=w,J.b=g},_10O:function(J,a,z,U,g,V,Y,c){for(var u,H,M=this.data,I=this._9O(J,a,z,U,g),e=(J.x+a.x)/2,Q=(J.y+a.y)/2,v=M.getShapeElevation(),Z=0,Z=0;Z<z;Z++)c?(dL(V,I[Z]),dL(V,I[Z+1])):(dL(V,I[Z+1]),dL(V,I[Z])),dL(V,[e,v,Q]),Y&&(H=c?(u=QR*(Z+1)/z+U,QR*Z/z+U):(u=QR*Z/z+U,QR*(Z+1)/z+U),Y.push(.5-.5*KR(H),.5-.5*eR(H),.5-.5*KR(u),.5-.5*eR(u),.5,.5))},_9O:function(J,a,z,U,g){var V,Y,c=this.data,u=[],H=(J.x+a.x)/2,M=(J.y+a.y)/2,I=c.getTall()/2,e=c.getShapeElevation(),Q=0;for(g==WR&&(g=QR);Q<=z;Q++)Y=KR(V=g*Q/z+U),u.push([H+(J.x-H)*Y,e+I*eR(V),M+(J.y-M)*Y]);return u},addV:function(J,a,z){var U=a.x,a=a.y,g=z.x,z=z.y,V=(Y=this.data).getShapeElevation(),Y=Y.getTall()/2;J.push(U,V-Y,a,g,V-Y,z,g,V+Y,z,g,V+Y,z,U,V+Y,a,U,V-Y,a)},addH:function(J,a,z,U,g,V){var Y=(c=this.data).getTall()/2,c=c.getShapeElevation()+(V?Y:-Y);J.push(a.x,c,a.y,z.x,c,z.y,U.x,c,U.y,U.x,c,U.y,g.x,c,g.y,a.x,c,a.y)},vf:function(J,a,z,U){var g,V=this.gv.getFaceVisible(this.data,J);return(z||V)&&((g=QX(this,J,U)).vs=[],g.tuv=V?[]:WR,g.visible=V),g}}),B.Points3dUI=function(J,a){yL(fA,this,[J,a])}),NA={},AA=(Su(fA,PA,{validate:function(){var J=this,a=J.gv,z=J.data,U=J.s,g=tQ(U("points.color")),V=U("points.size"),b=U("points.uv.offset"),Y=U("points.image"),c=(!Y||/\.(png|jpg|gif|jpeg|bmp|svg)$/i.test(Y)||$H.test(Y)||(NA[Y]||(NA[Y]=J._createCachedImage(Y)),Y=NA[Y]),z._modelDirty),u=U("points.model");if(u){if(J._lastShapeModel!==u||!J.shapeModel){var H=l9(J,u);if(!H)return;var I=[],e={},Q=t.requestVector3();J.eachShapeModel(function(J,a,z,U,g){for(var V=0,Y=J.length;V<Y;V+=3){var c=J[V],u=J[V+1],H=J[V+2],M=(g&&(Q.set(c,u,H).applyMatrix4(g),c=Q.x,u=Q.y,H=Q.z),c+"_"+u+"_"+H);e[M]||(e[M]=!0,I.push(c,u,H))}},H),t.releaseVector3(Q),J._setShapeModelPoints(new fu(I)),J._lastShapeModel=u,c=!0}v=J.shapeModel.vs.length/3}else{var M=z.getPoints(),v=M.length;if(c||z._pointsDirty||!J.shapeModel){for(var Z=[],k=0;k<v;k++){var E=M[k];E&&Z.push(E.x,E.e,E.y)}J._setShapeModelPoints(new fu(Z)),z._pointsDirty=!1,c=!(J._lastShapeModel=null)}}if(J.mat=gD(z),J._finalMat=a.createNodeFinalMatrix(z,J.mat),H=U("points.transparent"),J.info={mat:J._finalMat,size:V,diffuse:g,opacity:U("points.opacity"),texture:Y,transparent:H,alphaTest:H?0:U("alphaTest"),uvScale:U("points.uv.scale"),uvOffset:b,discardSelectable:U("points.discard.selectable"),highlightPickColor:a.getHighlightPickColor(z)},c||z._colorsDirty){var i=!1,w=z.getColors();if(w&&0<w.length)for(var p=[],k=0;k<v;k++)for(var x=w[k],S=x?(i=!0,tQ(x)):g,P=4*k,W=0;W<4;W++)p[P+W]=S[W];J.shapeModel.cs=i?new fu(p):null,z._colorsDirty=!1}if(c||z._sizesDirty){var D=!1,K=z.getSizes();if(K&&0<K.length)for(var d,j=[],k=0;k<v;k++)0<=(d=K[k])?(j.push(d),D=!0):j.push(V);J.shapeModel.ss=D?new fu(j):null,z._sizesDirty=!1}if(c||z._offsetsDirty){var q=!1,X=z.getUvoffsets();if(X&&0<X.length)for(var R,C,y=[],k=0;k<v;k++)R=X[C=2*k],C=X[1+C],R!=xR&&C!=xR?(y.push(R,C),q=!0):y.push(0,0);J.shapeModel.os=q?new fu(y):null,z._offsetsDirty=!1}if(c||J._lastPointNumber!==v){this.dispose();for(var F=a.pickColorMap,O=J._startPickId=F._pickIdUsed,Z=(F._pickIdUsed=O+v,[]),k=0;k<v;k++){var n=O+k,L=xA(n);Z.push(L[0],L[1],L[2],L[3]),F[n]||(F[n]={data:z,part:k})}J.shapeModel.ps=new fu(Z),J._lastPointNumber=v}z._modelDirty=!1,this.dispatchBoundingBoxChanged()},_setShapeModelPoints:function(J){var a=this.shapeModel,z=this.shapeModel={vs:J};return a&&(J=J.length,J=Math.round(J/3),a.cs&&a.cs.length==4*J&&(z.cs=a.cs),a.ss&&a.ss.length==J&&(z.ss=a.ss),a.os&&a.os.length==2*J&&(z.os=a.os),a.ps&&a.ps.length==4*J&&(z.ps=a.ps)),z},_createCachedImage:function(J){var a=BL(),z=a.getContext("2d"),z=(GL(a,128,128,1),qD(z,{width:128,height:128,comps:[{type:J,background:"white",borderWidth:0,rect:[0,0,128,128]}]},0,0,128,128),m.Math.generateUUID());return RH[z]=a,z},drawBody:function(J,a){var z,U,g,V,Y,c=this.gv,u=this.data,H=c._picking;H&&!c.isSelectable(u)||(z=this.shapeModel,Y=this.info,z&&z.vs&&z.vs.length&&((U=u.s("polygonOffset"))&&CJ(J,U),g={type:"points",renderMode:"points",renderPickMap:!0,transparent:Y.transparent,modelMatrix:Y.mat,modelViewMatrix:ZJ([],c._viewMatrix,Y.mat),projectionMatrix:c._projectMatrix,viewMatrix:c._viewMatrix,scale:c.getHeight()/2/Math.tan(c.getFovy()/2),size:Y.size,diffuse:Y.diffuse,opacity:Y.opacity,map:c.getTexture(Y.texture,u),alphaTest:Y.alphaTest,resolution:c.getDevicePixelRatio(),discardSelectable:Y.discardSelectable,uvScale:Y.uvScale,blackout:J._blooming&&!u.s("bloom"),picking:H,useColor:!H&&z.cs!=WR,useSizeArray:z.ss!=WR,uUvOffset:Y.uvOffset,useUvArray:!H&&z.os!=WR,defines:{MAX_BOX_CLIPPER:c._boxClippers.length,BOX_CLIPER_TYPES:c._boxClipperTypes}},V=null,H&&(c.drawFilter?(g.pickColor=Y.highlightPickColor,g.defines.HIGHLIGHT=!0):V=z.ps),c._prefabRenderer.render(J,{model3d:!0,mesh:{position:z.vs,pickColor:V,color:H?null:z.cs,aUvOffset:!H&&z.os?z.os:null,sizeArray:z.ss},mat:g},u),this._material=g,U&&yJ(J),(Y=RR.for(J)).useProgram(a),Y.directAttribs().disable(),c.shadowMap.enable&&c.shadowMap.createShadow(),c.rebindOITTexture(),c.flowMap.createFlow(null,!0)))},dispose:function(){fA.superClass.dispose.call(this);var J=this._startPickId,a=this._lastPointNumber;if(J&&a){for(var z=this.gv.pickColorMap,U=0;U<a;U++){var g=J+U;z[g]&&delete z[g]}delete this._startPickId,delete this._lastPointNumber}}}),B.Polyline3dUI=function(J,a){yL(AA,this,[J,a]),this._needRecoverPosition=!0}),oA=(Su(AA,SA,{_25Q:1,needValidate:function(J){return PA.prototype.needValidate.call(this,J)},_updateAutoRotation:function(){return PA.prototype._updateAutoRotation.call(this)},invalidateUnstableWireframe:function(){this.data._47Q&&this.invalidateWireframe()},validate:function(J,a){var z,U,g,V,Y,c=this,u=c.data,H=c.s,M=u.getPoints(),I=M.size(),e=(c.dispatchBoundingBoxChanged(),c._updateAutoRotation(),c.invalidateUnstableWireframe(),u.p3()),Q=c.mat=mu(),v=(QJ(Q,e),Ww(Q,u.getFinalRotation3d(),u.getRotationMode()),u.getScale3d()),Z=u._dynamicScale3d;Z&&(v[0]*=Z[0],v[1]*=Z[1],v[2]*=Z[2]),vJ(Q,v),QJ(Q,ou(e)),u._flipSide=XR.determinantOfArray(Q)<0,H(Oq)===xe&&H("batch")==WR&&c.shapeModel&&c._geometryVersion===u._geometryVersion?c._vsTranslation&&(c._matWithExtraction=(new t.Matrix4).fromArray(Q).multiply(c._vsTranslation).toArray()):(c._geometryVersion=u._geometryVersion,c.shapeModel=c.info=c.lineShapeModel=WR,c._matWithExtraction=c._vsTranslation=null,1<I&&(Z=c.info={},v=u.getSegments(),e=u.getThickness(),z=G2(M.get(0)),U=G2(M.get(I-1)),Z.c1=G2(M.get((V=(I-(g=I%2))/2)-1)),Z.c2=G2(M.get(V)),0!=g&&(Z.p3=Z.c2),Z.s1=z,Z.s2=G2(M.get(1)),Z.t1=G2(M.get(I-2)),Z.t2=U,H(Oq)===xe?((DR.extractPolylineTranslation||DR.extractVerticesTranslation)&&(Y=u.p3()),Z.list=c.createTubeModel(M,v,e/2,J,Y,Q)):Z.list=c.createLineModel(M,v,e,"shape.border","shape.dash"))),dX(c.gv,u,c.mat)},invalidateCachedGeometry:function(){this.shapeModel=this.info=this.lineShapeModel=WR},drawBody:function(J,a,z){var U,g,V,Y,c,u,H,M,I,e,Q=this,v=Q.shapeModel;v&&(g=Q._finalMat,U=Q.gv,UX(U,g),g=Q.s("3d.clip.direction"),U._uvClipEnabled&&("uv.left"===g||"uv.right"===g)&&(V=Q.s("3d.clip.percentage"))<1?(c=Y=!0,T9(v),u=v.top_vs,H=v.bottom_vs,M=v.vs,I=(e=RR.for(J)).directUniforms(),e=e.directAttribs(),"uv.left"==g?(V<1&&(Y=!1),V<=0&&(c=!1)):(V<1&&(c=!1),V<=0&&(Y=!1)),v.top_vs=v.bottom_vs=xR,e.aUv=BJ(J,U._buffer.uv,v.uv,WR,2),S9(U,Q.data,v,Q,Q.getBodyColor(),z),e.aUv=!1,I.uClipDirection=0,v.vs=xR,Y&&(v.top_vs=u),c&&(v.bottom_vs=H),S9(U,Q.data,v,Q,Q.getBodyColor(),z),v.vs=M,v.top_vs=u,v.bottom_vs=H):S9(U,Q.data,v,Q,Q.getBodyColor(),z),aX(U))}}),tN={s:E},function(J){var a={vs:[],ns:[],uv:[]};return oX(null,null,J,tN,!1,[],a),a}),sA=DR.meshTypeMap={box:function(){return DR.createBoxModel()},sphere:function(J){return oA(DR.createSphereModel(J.side,J.sideFrom,J.sideTo,J.from,J.to,J.resolution,J.smooth))},cylinder:function(J){return oA(DR.createCylinderModel(J.side,J.sideFrom,J.sideTo,J.from,J.to,J.top,J.bottom,J.smooth))},cone:function(J){return oA(DR.createConeModel(J.side,J.sideFrom,J.sideTo,J.from,J.to,J.bottom,J.resolution,J.smooth))},torus:function(J){return oA(DR.createTorusModel(J.side,J.sideFrom,J.sideTo,J.from,J.to,J.radius,J.resolution,J.smooth))}};for(GN in qL(DR,{invalidateMeshAttribute:function(J){J&&J._bufId&&(J._bufId=null)},setMeshStyle:function(J,a,z){return J[a]!==z&&(z===xR?delete J[a]:J[a]=z,delete J._geometry_,!0)},invalidateMesh:function(J,a){if(J){if(a)for(var z in J)DR.invalidateMeshAttribute(J[z]);delete J._4HQ,delete J._complete_}},invalidateSubMeshes:function(J){J&&delete(J.subMeshes||J)._drawRangeGroupByMat}}),qL(gA,{invalidateMeshAttribute:function(J,a){a&&this.releaseGLBuffer(J),DR.invalidateMeshAttribute(J),this.iv()},setMeshStyle:function(J,a,z){DR.setMeshStyle(J,a,z)&&this.iv()},getMeshStyle:function(J,a){return J[a]},invalidateMesh:function(J,a,z){if(z)for(var U in J)this.releaseGLBuffer(J[U]);DR.invalidateMesh(J,a),this.iv()},invalidateSubMeshes:function(J){DR.invalidateSubMeshes(J),this.iv()}}),y9)sA[GN]=function(a){return function(J){return oA(y9[a](J.top,J.bottom))}}(GN);sA.bone=(rN=new Array(5),function(J){for(var a=J.ratio||.1,z=J.resolution||8,U=null,g=0;g<5;g++){if(rN[g])return rN[g].ratio==a&&rN[g].resolution==z&&(rN[g].active=Date.now()),rN[g].mesh;U=g}if(!U)for(var V=1/0,g=0;g<5;g++)rN[g].active<V&&(V=rN[g].active,U=g);var Y=[],c=[];for(a*=.5,Y.push(0,0,0,0,0,.5),g=0;g<z;g++){var u=g/z*Math.PI*2;Y.push(Math.cos(u)*a,Math.sin(u)*a,a),0<g&&(c.push(0,g+2,g+1),c.push(g+1,g+2,1))}return c.push(0,2,z+1),c.push(z+1,2,1),rN[g]={active:Date.now(),resolution:z,ratio:a,mesh:{vs:Y,is:c}},rN[g].mesh});var mA,_A,hA,BA,tA,rA,GA,J1,a1,z1,U1,g1,V1=function(J){if(J)return Y1(J="string"==typeof J?{type:J}:J)},Y1=function(J,a,z){var U,g,V=J._geometry_;if(V)return V;if(z=z||J,(V=J.type)&&"raw"!==V){var Y=DR.meshTypeMap[V],c=(g=J)&&a?(pR.assign(c={},g),pR.assign(c,a),delete c.type,c):g||a;if(!Y)return!!(U=DR.getMesh(V))&&Y1(U,c,z);if(!(U=Y(c)))return!1;z._geometry_=U}else U=J;return U.func?U.func(U):U},c1=(_A=!(mA=1),hA={},BA={},tA={},rA=function(J){var a,z,U={};for(a in hA){var g,V,Y=(V=hA[a]).speed,c=V.time,u=(V.paused?g=V.time:(g=V.time+J*Y,V.time=g),V.duration),H=V.loop,Y=("once"===H?Y<0&&g<=V.end||0<=Y&&g>=V.end?(g=V.end,V.iteration=1):g=t.modToPositive(g,u):(Math.floor(g/u)!==Math.floor(c/u)&&V.iteration++,"pingpong"===H?u<(g=t.modToPositive(g,2*u))&&(g=2*u-g):g=t.modToPositive(g,u)),z=V.animation,V.displayTime=t.roundFloat(g,3));Y+=V.shift,(c=U[z])?c.push(a,Y):U[z]=[a,Y]}for(z in U){R=X=K=p=w=d=E=k=Z=D=j=v=W=e=void 0;var M=z,I=U[z],e=BA[M][1];if(e){var Q,v,Z,k,E={},i=I.length/2,w={},p=tA[M];if(p){for(var x=p.clips,W=0,D=x.length;W<D;W++)E[x[W].time]=W;for(W=0;W<i;W++)(k=E[Z=I[2*W+1]])!==xR&&(w[k]=!0)}else p=tA[M]={clips:[]};for(var D=e.length,K=-1,d=0;d<i;d++)if(Q=I[2*d],(k=E[Z=I[2*d+1]])!==xR)hA[Q].clip=p.clips[k];else{for(;w[++K];);(v=p.clips[K])?v.time=Z:v=p.clips[K]={time:Z,datas:[]};for(var j=v.datas,W=0;W<D;W++)for(var q=e[W].evaluate(Z),X=(X=j[W])||(j[W]=[]),R=0,C=q.length;R<C;R++)X[R]=q[R];E[Z]=K,hA[Q].clip=v}}}},GA=t.newIdGenerator(),{add:function(M,J,a,z,U){(g=M.tag)||(g=M.tag=GA.next()),BA[g]||(BA[g]=function(){for(var J,a,z=M.tracks,U=z.length,g=new Array(U),V={},Y=0;Y<U;Y++){var c=z[Y],u=c.type,H=c.name.split(".");switch((a=V[H[0]])||(a=V[H[0]]=[]),H[1]){case"scale":a[2]=Y;break;case"quaternion":a[1]=Y;break;default:a[0]=Y}switch(u){case"linear":J=new VM(c.times,c.values);break;case"quaternion":J=new YM(c.times,c.values);break;case"cubic":J=new cM(c.times,c.values);break;case"cubicSpline":J=new uM(c.times,c.values,3);break;case"cubicSplineQuaternion":(J=new uM(c.times,c.values,3)).isQuaternion=!0;break;default:J=new gM(c.times,c.values)}g[Y]=J}return[V,g]}());var g,V=mA++,Y=M.duration;return J===xR&&(J=M.speed||1),z===xR&&(z=M.loop||"repeat"),hA[V]={time:a||0,start:a||0,loop:z,shift:M.start||0,duration:Y,animation:g,animationName:M.name,clip:U,iteration:0},vI(hA[V],J),_A||(_A=!0,DR.registerHeartbeat(QI)),V},stop:function(J){var a=hA[J];return!!a&&(delete hA[J],a)},changeAnimationInfo:function(J,a,z){return!!(J=hA[J])&&("speed"===a?(vI(J,z),!0):"forwardTime"===a&&(J.time+=z,!0))},getAnimation:function(J){return hA[J]},getAnimationMap:function(){return hA},getAnimationTracks:function(){return BA},getFrameAnimationData:function(){return tA}}),u1=(qL(kw,{playAnimation:function(J,a,z,U){this._pendingAnimation&&delete this._pendingAnimation;var g,V=!1;do{if(!J&&!(J=this.getDefaultAnimationName()))break;var Y=this.getAnimation(J)}while(Y&&(V=!0,0));if(!V)return c=this.s(Oq),dR(c)&&fH.test(c)&&(this._pendingAnimation={animationName:J,speed:a,start:z,loop:U}),!1;this._animationPlaying&&(g=c1.stop(this._animationId));var c=this._animationId=c1.add(Y,a,z,U,g?g.clip:null);return this._animationPlaying=!0,this._animationPaused=!1,this._lastAnimIteration=0,this.fp("animationStart",null,!0),c},changeCurrentAnimationSpeed:function(J){return c1.changeAnimationInfo(this._animationId,"speed",J)},forwardAnimation:function(J){return this.invalidateView(),c1.changeAnimationInfo(this._animationId,"forwardTime",J)},backwardAnimation:function(J){return this.forwardAnimation(-J)},stopAnimation:function(){var J=this._animationId;return J&&c1.stop(J),this._animationPlaying=!1,this._animationPaused=!1,this._animationId=xR,this._lastAnimIteration=0,delete this._pendingAnimation,this.fp("animationStop",null,!0),J},pauseAnimation:function(){if(this._animationPaused)return!1;var J=this._animationId;return!!J&&(!!(J=c1.getAnimation(J))&&(J.paused=!0,this._animationPaused=!0,this.fp("animationPause",null,!0),!0))},resumeAnimation:function(){var J;return!!this._animationPaused&&(!!(J=this._animationId)&&(!!(J=c1.getAnimation(J))&&(J.paused=!1,this._animationPaused=!1,this.fp("animationResume",null,!0),!0)))},isAnimationPlaying:function(){return this._animationPlaying},isAnimationPaused:function(){return this._animationPaused},getAnimationNames:function(){return DR.getShapeModelAnimationNameList(this.s("shape3d"))},getAnimation:function(J){return DR.getShapeModelAnimation(this.s("shape3d"),J)},getDefaultAnimationName:function(){return DR.getShapeModelDefaultAnimationName(this.s("shape3d"))},getAnimations:function(){return DR.getShapeModelAnimations(this.s("shape3d"))},getCurrentAnimationState:function(J){var a=this._animationId;if(!a)return null;var z=c1.getAnimation(a);if(!z)return null;switch(J){case"time":return z.displayTime||0;case"name":return z.animationName;case"loop":return z.loop;case"speed":return z.speed;case"duration":return z.duration;default:return{time:z.displayTime||0,name:z.animationName,loop:z.loop,speed:z.speed,duration:z.duration}}}}),qL(_D,{isAnimationPlaying:i}),qL(DR,{getShapeModelAnimations:function(J){var a;return(J=J&&A2(J))&&J.model3d?(a=J.animations)?a:J.lod?DR.getShapeModelAnimations(J.lod.group[0]):J.model&&dR(J.model)?DR.getShapeModelAnimations(J.model):null:null},getShapeModelAnimation:function(J,a){var z=DR.getShapeModelAnimations(J);if(z)for(var U=0,g=z.length;U<g;U++)if(z[U].name===a)return z[U];return null},getShapeModelAnimationNameList:function(J){var a=DR.getShapeModelAnimations(J);if(!a)return null;for(var z=a.length,U=new Array(z),g=0;g<z;g++)U[g]=a[g].name;return U},getShapeModelDefaultAnimationName:function(J){var a,z=DR.getShapeModelAnimations(J);if(!z)return null;for(var U=0,g=z.length;U<g;U++){if(z[U].default)return z[U].name;!a&&0<z[U].duration&&(a=z[U].name)}return a}}),J1={},{request:function(J){var a;return(a=J1[J])?a.length?a.pop():new Float32Array(J):(J1[J]=[],new Float32Array(J))},release:function(J){var a,z=J.length;(a=J1[z])?a.push(J):J1[z]=[J]}}),H1=t.newIdGenerator(),M1=(pR.assign(B.Graph3dView.prototype,{initSkeletonDatas:function(){var J,a=this._updatedSkeletonDatas;for(J in a)u1.release(a[J]);this._updatedSkeletonDatas={},this._isSkeletonUpdated={},this._boneViewMatrices.length=0,this._boneViewMatrices._bufId=null},_renderBonesForDebug:function(J,a){0<this._boneViewMatrices.length&&(a.depth.enabled=!1,a.depth.mask=!1,this._prefabRenderer.render(J,{mesh:{type:"bone"},instances:{aMatrixInstanced:new Float32Array(this._boneViewMatrices)},mat:{type:"fixColor",color:"red",cullFace:!0}}))},queryBonePose:function(J){var a;return J._recordBonePose||(J._recordBonePose={},a=!0),this.updateSkeleton(J,xR,a,!0),J._recordBonePose},updateSkeleton:function(J,a,z,U){var H=this;if((a||(a=o2(J.s("shape3d")))&&a.model3d)&&(a.lod?g=a.lod.group[0]:a.model&&(g=a.model),!g||(a=o2(g))&&a.model3d)){var M,I,g=J._animationId;if(g=c1.getAnimationMap()[g]){var V=g.clip;if(!V)return;var Y=g.iteration,c=(Y!==(c=J._lastAnimIteration||0)&&(J._lastAnimIteration=Y,J.fp("animationIteration",c,Y)),g.time),u=J._lastAnimHashKey=g.animation+"|"+c;if(this._isSkeletonUpdated[u]&&!z)return;this._isSkeletonUpdated[u]=!0,M=c1.getAnimationTracks()[g.animation][0],I=V.datas}else{if(!U)return;M={}}var e,Q,v,Z,k,E=J.s("3d.bone.visible"),i=(E&&(Q=t.requestVector3(),v=t.requestVector3(),Z=t.requestMatrix4()),t.requestMatrix4()),w=[],p={},x=J._recordBonePose;if((E||x)&&(k=t.requestMatrix4().fromArray(J.mat)),DR.traverse(a,function(J,a){J.skeleton&&w.push(J);var z,U,g,V,Y,c=J.name,u=(c&&(Y=M[c])&&((V=Y[0])!==xR&&(z=I[V]),(V=Y[1])!==xR&&(U=I[V]),(V=Y[2])!==xR&&(g=I[V])),(V=J.matrixWorld)||(V=J.matrixWorld=new XR),J.transformData);Y&&u?kX(V,u,z||J.position,U||J.quaternion,g||J.scale):V.composeFromArray(z||J.position,U||J.quaternion,g||J.scale),a&&(V.premultiply(a.matrixWorld),E&&a.isBone&&(Y=H._boneViewMatrices,a.matrixWorld.getPosition(Q),Q.applyMatrix4(k),V.getPosition(v),v.applyMatrix4(k),e=2*Q.distanceTo(v),Z.lookAt(v,Q).setPosition(v.set(0,0,0)).scale(v.set(e,e,e)).setPosition(Q),Y.push.apply(Y,Z.getElements()))),p[c]=V,x&&(x[c]||(x[c]=new XR)).multiplyMatrices(k,V),J.skeleton&&(J.skeleton._tempMatrixInverse=i.copy(V).invert().toArray())},null,"comps"),E&&(t.releaseVector3(Q),t.releaseVector3(v),t.releaseMatrix4(Z),t.releaseMatrix4(k)),t.releaseMatrix4(i),g)for(var W,D,K,d,j=H._updatedSkeletonDatas,q=0,X=w.length;q<X;q++){var R,C,y,F,O=(F=(y=w[q]).skeleton.bones).length;for((W=j[(K=(K=y._skeletonId)?K:y._skeletonId=H1.next())+"|"+u])||(R=Math.sqrt(4*O),(C=t.nearestPOT(R))<R&&(C<<=1),C=Math.max(C,4),W=j[K+"|"+u]=u1.request(C*C*4)),D=y.skeleton.boneMatrixInverses,d=0;d<O;d++)XR.multiplyMatrixArray(W,p[F[d]],D,16*d,0,16*d);W.bindMatrixInverse=y.skeleton._tempMatrixInverse,delete y.skeleton._tempMatrixInverse}}}}),{cullFace:!1,flipSide:!1,transparent:!1,uvRotation:0,uvScale:[1,1],uvOffset:[0,0],uvAnchor:[0,0]}),z=function(J,a){if(J=I1(this,J),a===xR||!J)return J;var z=J[a];return z===xR&&(a in M1?z=gu(M1[a]):(J=e1[J.type])&&(z=gu(J[a]))),z},$R=function(J,a,z){var U,g,V=I1(this,J);if(V){if(dR(a))U=V[a],g=V[a]=z;else if(kL(a)){for(var Y in U={},a)U[Y]=V[Y],V[Y]=a[Y];g=a}this.fp("material",WR,{material:V,materialName:J,property:a,oldValue:U,newValue:g})}},I1=function(J,a){if(kL(a))return a;var z,U,g=dR(a),V=g&&/.*\.material/.test(a);return(z=(z=V?J.s(a):z)||(g&&(U=J.s("matDef"))?U[a]:z))||(J=J.s("shape3d"),(J=dR(J)?DR.getShape3dModel(J):J)&&J.model3d&&(g||(z=J.mat),(U=J.matDef)&&(!z&&g?z=U[a]:dR(z)&&z in U&&(z=U[z])))),z||!g||V?z&&dR(z)&&(z=DR.getMaterial(z)):z=DR.getMaterial(a),z},e1=(qL(_D,{getMaterials:(a1={},["all","left","right","top","bottom","front","back"].forEach(function(J){a1[J+".material"]=1}),z1={"shape3d.material":1},["top","bottom","from","to"].forEach(function(J){z1["shape3d."+J+".material"]=1}),U1=[],function(){var J,a=[],z={},U={},g=this.getStyle("matDef");if(g)for(J in g)g[J]&&(U[J]=1,ZI(g[J],a,z));var V,Y=this.getStyle("shape3d");if(Y?dR(Y)&&!(Y=DR.getShape3dModelFromMemory(Y))&&(V=z1):V=a1,kL(Y))!Y.model3d&&Y.json&&"obj"===Y.json.modelType?ZI(this.getStyle("shape3d.material"),a,z):function U(J,g,V,Y){DR.traverse(J,function(J){U1.push(Y),Y=gu(Y);var a,z=J.matDef;if(z)for(a in z)!Y[a]&&z[a]&&(Y[a]=1,ZI(z[a],g,V));!(a=J.mat)||!kL(a)&&Y[a]||ZI(a,g,V),J.model&&(J=DR.getShape3dModelFromMemory(J.model))&&U(J,g,V,Y)},function(){Y=U1.pop()},"comps")}(Y,a,z,U);else if(V)for(var c in V)J=this.getStyle(c),ZI(J,a,z);var u=DR.getMaterialMap();for(J in z)(J=u[J])&&a.push(J);return a})}),qL(kw,{getMaterial:z,setMaterial:$R}),qL(Dw,{getMaterial:z,setMaterial:$R}),{}),Q1=(qL(e1,{pbr:{diffuse:[1,1,1],emissive:[0,0,0],roughness:1,metalness:0,opacity:1,transparent:!1,cullFace:!1,map:null,alphaMap:null,alphaChannel:"A",alphaTest:0,roughnessMap:null,roughnessChannel:"R",metalnessMap:null,metalnessChannel:"G",emissiveMap:null,aoMap:null,aoMapIntensity:1,aoChannel:"B",aoUvChannel:1,normalMap:null,normalScale:[1,1],lightMap:null,lightMapIntensity:1,envMap:null,envMapIntensity:1,displacementMap:null,displacementScale:1,displacementBias:0,rimColor:[0,0,0],rimPower:0,fresnelIntensity:1,enableTransmission:!1,transmission:1,thickness:0,ior:1.5,specularIntensity:1,specularColor:[1,1,1]},phong:{diffuse:[1,1,1],emissive:[0,0,0],specular:[17/255,17/255,17/255],shininess:30,opacity:1,transparent:!1,cullFace:!1,map:null,alphaMap:null,alphaChannel:"A",alphaTest:0,specularMap:null,emissiveMap:null,aoMap:null,aoMapIntensity:1,aoChannel:"B",aoUvChannel:1,normalMap:null,normalScale:[1,1],lightMap:null,lightMapIntensity:1,envMap:null,envMapCombine:"add",envMapIntensity:1,refractionRatio:.98,displacementMap:null,displacementScale:1,displacementBias:0,fresnelIntensity:1},litePhong:{diffuse:[1,1,1],emissive:[0,0,0],map:null,opacity:1,alphaTest:.4,transparent:!1,useLighting:!0,roughness:0,completeHandler:function(){this.uTexture=!!this.map}}},!0),{}),v1={aoMap:["aoMapIntensity"],normalMap:["normalScale"],lightMap:["lightMapIntensity"],displacementMap:["displacementScale","displacementBias"],enableTransmission:["transmission","thickness","ior","specularIntensity","specularColor"]};for(g1 in e1){var Z1,k1,E1=[],i1=[],w1=e1[g1],p1={},x1=[];for(k1 in w1)"envMap"!==k1&&"envMapIntensity"!==k1&&k1.indexOf("Channel")!==k1.length-7&&"enableTransmission"!==k1&&"envMapCombine"!==k1&&("map"===k1||k1.indexOf("Map")===k1.length-3?(Z1=v1[k1])&&Z1.length?(E1.push(k1,Z1.length),Z1.forEach(function(J){p1[J]=!0,E1.push(J,w1[J])})):E1.push(k1,0):(Z1=v1[k1])&&Z1.length?(p1[k1]=!0,i1.push(k1,Z1.length),Z1.forEach(function(J){p1[J]=!0,i1.push(J,w1[J])})):x1.push(k1));E1.push(-1),(E1=E1.concat(i1)).push(-2),x1.forEach(function(J){p1[J]||E1.push(J,w1[J])}),Q1[g1]=E1}m.Default.getMaterialDefaultStyle=function(){return e1};var W1=m.graph3d.PostProcessing=function(I){var e,Q=this,v={},Z=!1,k=!1,H={model3d:!0,mesh:{is:[0,2,1,1,2,3],pos:new fu([0,0,1,0,0,1,1,1])},mat:null},E={type:"blitScreen"},i={type:"fxaa"},w=(pR.keys(W1).forEach(function(J){((J=v[J]=new W1[J](I)).resetProperties=function(){var J,a=this.serializeProperties;for(J in a)this[J]=a[J]}.bind(J))()}),Q.getModule=function(J){return J?v[J]:Q},Q.getModuleList=function(){return pR.keys(v)},Q.resetModules=function(){for(var J in v)v[J].resetProperties()},Q._serializable=!0,Q.handleDataModelChange=function(J,a){J&&(Q._serializable&&J.setPostProcessingData(Q.serialize()),J.removeSerializeListener(Q.onDataModelSerialize,Q)),a&&(a.addSerializeListener(Q.onDataModelSerialize,Q),Q.deserialize(a))},Q.onDataModelSerialize=function(J){"serialize"===J.type?Q._serializable&&(I.dm()._postProcessingData=Q.serialize()):"deserialize"===J.type&&Q.deserialize(I.dm())},Q.isDeserializeDisabled=function(J){return!Q._serializable||J.a("sceneBloom")!==xR},Q.isSerializable=function(){return Q._serializable},Q.setSerializable=function(J){(Q._serializable=J)||I.dm().setPostProcessingData(xR)},Q.serialize=function(){var J,a,z,U,g={};for(a in v)if(U=(z=v[a]).serializeProperties){for(var V in J={},z.enable&&(J.enable=!0),U){var Y=z[V];Y!=U[V]&&(J[V]=Y)}pR.keys(J).length&&(g[a.toLowerCase()]=J)}return g},Q.deserialize=function(J){var a,z,U={},g={};for(a in v){var V,Y,c=(V=v[a]).serializeProperties,u={},H="scene"+a;for(Y in(M=J.a(H))!==xR&&(u.enable=M),c)(M=J.a(H+Y[0].toUpperCase()+Y.slice(1)))!==xR&&M!==c[Y]&&(u[Y]=M);FL(u)||(g[a[0].toLowerCase()+a.slice(1)]=u)}if(g=FL(g)?J.getPostProcessingData():g)for(z in g)if(z&&(a=z[0].toUpperCase()+z.slice(1),V=v[a])){U[a]=!0;var M,I=!!(c=g[z]).enable;for(Y in Q.enableModule(a,I),J.a(a="scene"+a,I),V.resetProperties(),c)"enable"!==Y&&(M=c[Y],V[Y]=M,J.a(a+Y[0].toUpperCase()+Y.slice(1),M))}for(a in v)U[a]||((V=v[a]).enable=!1,V.resetProperties())},Q.getRenderTarget=function(){return e},Q.blitScreen=function(J,a,z,U,g){var V,Y,c=I.getGL();if(null==J)U=a,g=z;else{var u=J instanceof EA;if(u){if(a&&(a.type||a.model3d)&&(U=a,g=z,z=a=null),0==a||0==z)return;a&&z&&J.setSize(c,a,z),J.bind(c),g&&g.viewport?I.setViewport(c,g.viewport[0],g.viewport[1],g.viewport[2],g.viewport[3]):I.setViewport(c,0,0,J.width,J.height)}else U=J,g=a}g&&!1===g.clear||c.clear(16640),g&&(g.preRender&&g.preRender(c),V=g.data,Y=g.matrix),U&&U.model3d?I._prefabRenderer.render(c,U,V,Y):(H.mat=U||E,I._prefabRenderer.render(c,H,V,Y)),g&&g.postRender&&g.postRender(c),u&&J.unbind(c)},Q.enableModule=function(J,a){for(var z,U=J.split(","),g=0,V=U.length;g<V;g++)z=U[g].trim(),v[z]&&(v[z].enable=a);for(z in Z=!1,v)if(v[z].enable){Z=!0;break}},Q.isEnabled=function(){return Z},Q.dispose=function(){for(var J in k=!1,nJ(I,e),e=null,v)v[J].dispose&&v[J].dispose()},!(Q.resetBlendState=function(J){RR.for(J).glState.blend.apply({enabled:!0,equation:32774,func:[770,771,1,771]})}));Q.isRenderingScene=function(){return w},Q.render=function(J,a,z,U,g){if((Z||g)&&(k||function(){var J;if(!k)return J=I.getGL(),J&&(e=new B.RenderTarget(I,J,null,null,{samples:CR.renderTextureSamples||1,minFilter:9729,magFilter:9729,depthFormat:I.isWebGL2()?36012:null}),k=!0)}())){e.setSize(J,a,z),w=!0,e.bind(J);(g=FJ(J,!0))&&0===g[0]&&0===g[1]&&0===g[2]&&0===g[3]?g=null:OJ(J,[0,0,0,0]),J.clear(16640),I.setViewport(J,0,0,a,z);var V=!1!==(U=U||{}).renderAxis,Y=!1!==U.renderEdit;U.renderAxis=U.renderEdit=!1,I.renderScene(U),w=!1,e.unbind(J);for(var c,u=0,H=I._glCapabilities.maxAttributes;u<H;u++)J.disableVertexAttribArray(u);var M=e;for(c in v)M=v[c]._42(J,M)||M;return I.setViewport(J,0,0,a,z),g&&OJ(J,g),U=Q.getModule("Fxaa"),g=I._attributes&&!1===I._attributes.autoClear?{clear:!1}:null,Q.resetBlendState(J),U&&U.enable?(i.resolution=[1/a,1/z],i.image=M.texture,Q.blitScreen(i,g)):(E.image=M.texture,Q.blitScreen(E,g)),(U=Q.getModule("Bloom")).blendAtFinal&&U.composeFinalBloom(J),J.useProgram(I._prg),I._renderAxisAndEditHelper(V,Y)||(a=I.getGLState())&&(a.depth.enabled=!1,a.blend.enabled=!1),!0}}},D1=(m.graph3d.PostProcessing.HueSaturation=function(U){var g,V=!1,Y=!1,c={type:"hueSaturation"},u=[],H=[],M=[];this.serializeProperties={hue:[0,0,0,0,0,0,0],saturation:[0,0,0,0,0,0,0],lightness:[0,0,0,0,0,0,0]},pR.defineProperties(this,{enable:{get:function(){return V},set:function(J){!!V!=!!J&&(V=J,U.iv())}},hue:{get:function(){return u.map(function(J){return ER(180*J)})},set:function(J){if(u!==J&&7===J.length){for(var a=0;a<7;a++)u[a]=J[a]/180;U.iv()}}},saturation:{get:function(){return H.map(function(J){return ER(100*J)})},set:function(J){if(H!==J&&7===J.length){for(var a=0;a<7;a++)H[a]=J[a]/100;U.iv()}}},lightness:{get:function(){return M.map(function(J){return ER(100*J)})},set:function(J){if(M!==J&&7===J.length){for(var a=0;a<7;a++)M[a]=J[a]/100;U.iv()}}}}),this.dispose=function(){Y=!1,nJ(U,g),g=null},this._42=function(J,a){var z;if(V&&(Y||(z=U.getGL())&&(g=new B.RenderTarget(U,z),Y=!0)))return c.image=a.texture,c.hue=u,c.saturation=H,c.lightness=M,U._postProcessing.blitScreen(g,a.width,a.height,c),g}},m.graph3d.PostProcessing.Bloom=function(H){var M,I,e,a,Q,v,Z,k,E,i=this,w=!1,p=!1,x=(this.serializeProperties={strength:1.5,smoothWidth:.01,threshold:.55,radius:.4,overrideAlpha:!0,blendAtFinal:!1,selective:!1},pR.defineProperties(i,{enable:{get:function(){return w},set:function(J){!!w!=!!J&&(w=J,H.iv())}},strength:{get:function(){return M},set:function(J){M!==J&&(M=J,H.iv())}},smoothWidth:{get:function(){return Z},set:function(J){Z!==J&&(Z=J,H.iv())}},threshold:{get:function(){return I},set:function(J){I!==J&&(I=J,H.iv())}},radius:{get:function(){return e},set:function(J){e!==J&&(e=J,H.iv())}},overrideAlpha:{get:function(){return a},set:function(J){!!a!=!!J&&(a=J,p&&j(),H.iv())}},blendAtFinal:{get:function(){return v},set:function(J){!!v!=!!J&&(v=!!J,H.iv())}},selective:{get:function(){return Q},set:function(J){!!Q!=!!J&&(Q=!!J,H.iv())}}}),[256,256]),W=[],D=[],K=5,z=[3,5,7,9,11],d=[];function j(){for(var J=0;J<K;J++)d[J]={type:"bloomBlur",defines:{KERNEL_RADIUS:z[J],SIGMA:z[J],OVERRIDE_ALPHA:!!a},internalDefines:!1}}i.dispose=function(){p=!1,nJ(H,k,E,W,D),k=E=W=D=null},i.composeFinalBloom=function(J,a){var z,U,g;w&&p&&(z=H._postProcessing,U=RR.for(J).directState(),g=U.depth.enabled,z.blitScreen(a,{type:"blitScreen",image:W[0].texture},{clear:!1,preRender:function(J){g&&(U.depth.enabled=!1),RR.for(J).glState.blend.apply({enabled:!0,equation:32774,func:[770,1]})},postRender:function(J){z.resetBlendState(J),g&&(U.depth.enabled=!0)}}))},i._42=function(J,a){if(w&&(p||function(){var J=H.getWidth(),a=H.getHeight();if(J&&a){var z=H.getGL();if(z){x=[J,a];var U,g=Math.round(x[0]/2),V=Math.round(x[1]/2);for(E=new B.RenderTarget(H,z,g,V),W=[],D=[],U=0;U<K;U++)W.push(new B.RenderTarget(H,z,g,V)),D.push(new B.RenderTarget(H,z,g,V)),g=Math.round(g/2),V=Math.round(V/2);return j(),p=!0}}}())){var z,U=H._postProcessing;Q&&((k=k||new B.RenderTarget(H,J)).setSize(J,a.width,a.height),k.bind(J),(z=FJ(J,!0))&&0===z[0]&&0===z[1]&&0===z[2]&&1===z[3]?z=null:OJ(J,[0,0,0,1]),J.clear(16640),H.setViewport(J,0,0,a.width,a.height),J._blooming=!0,H.syncRenderState(),H.renderScene({renderAxis:!1,renderGrid:!1,renderEdit:!1}),J._blooming=!1,z&&OJ(J,z),k.unbind(J)),U.blitScreen(E,{type:"bloomHighPass",smoothWidth:Z,luminosityThreshold:I,tDiffuse:(Q?k:a).texture});for(var g,V=E,Y=Math.round(x[0]/2),c=Math.round(x[1]/2),u=0;u<K;u++)(g=d[u]).texSize=[Y,c],g.colorTexture=V.texture,g.direction=[1,0],U.blitScreen(W[u],g),g.colorTexture=W[u].texture,g.direction=[0,1],U.blitScreen(D[u],g),Y=Math.round(Y/2),c=Math.round(c/2),V=D[u];return U.blitScreen(W[0],{type:"bloomComposite",blurTexture1:D[0].texture,blurTexture2:D[1].texture,blurTexture3:D[2].texture,blurTexture4:D[3].texture,blurTexture5:D[4].texture,bloomStrength:M,bloomRadius:e,bloomTintColor:[1,1,1]}),v||i.composeFinalBloom(J,a),a}}},m.graph3d.PostProcessing.Dof=function(H){var V,M,a,z,U,I,e,Y,Q,c,u,v,Z,k=!1,E=!1,i=0,w=!1,p=t.generateUUID();this.serializeProperties={useDepth:!1,aperture:.025,maxblur:1,overrideAlpha:!0,image:null,focus:1e3,range:100,density:10,densityInverse:.1},pR.defineProperties(this,{enable:{get:function(){return k},set:function(J){!!k!=!!J&&((k=J)||(w=!1),H.iv())}},image:{get:function(){return a},set:function(J){a!==J&&(a=J,w=!1,M&&(H.deleteTexture(p),M=null),H.iv())}},maxblur:{get:function(){return z},set:function(J){z!==J&&(z=J,H.iv())}},overrideAlpha:{get:function(){return Y},set:function(J){!!Y!=!!J&&(Y=J,H.iv())}},aperture:{get:function(){return U},set:function(J){U!==J&&(U=J,H.iv())}},useDepth:{get:function(){return!!c},set:function(J){!!c!=!!J&&((c=J)?H.enableDepthGrabber("sceneDof"):H.disableDepthGrabber("sceneDof"),M&&(J&&H.deleteTexture(p),M=null),H.iv())}},focus:{get:function(){return u},set:function(J){u!==J&&(u=J,H.iv())}},range:{get:function(){return v},set:function(J){v!==J&&(v=J,H.iv())}},density:{get:function(){return Z},set:function(J){Z!==J&&(Z=J,H.iv())}},densityInverse:{get:function(){return t.safeInvert(Z)},set:function(J){J=t.safeInvert(J),Z!==J&&(Z=J,H.iv())}}}),this.dispose=function(){E=!1,M&&(H.deleteTexture(p),M=null),nJ(H,V),V=null},this.setImageFromGraphView=function(J,a,z){this.image=null,function J(a,z,U,g){Q=null;var V=a.getCanvas(),Y=V.width,c=V.height,u=(((U=U||1024)<Y||U<c)&&(u=U/Math.max(Y,c),Y=Math.round(Y*u),c=Math.round(c*u),I=I||BL(),V=DR.resizeImage(V,Y,c,I)),H.getGL());e=e||u.createTexture(),M=dJ(H,u,V,e),i=z||.01,w=!0,H.iv(),g--&&(Q=Q||DR.callLater(function(){J(a,z,U,g)}))}(J,a,z,2)},this._42=function(J,a){if(k&&(E||(z=H.getGL())&&(V=new B.RenderTarget(H,z),E=!0))){var z=a.width,U=a.height;if(z&&U){if(c)M=H.grabDepth();else if(!M){var g=s(this.image);if(!g||!g.comps&&!g.tagName)return a;m.Default.setImage(p,g),M=H.getTexture(p)}return g={OVERRIDE_ALPHA:!!Y},a={type:"bokeh",tColor:a.texture,tDepth:M,aspect:z/U,maxblur:this.maxblur,defines:g},c?(g.USE_DEPTH=!0,H.isOrtho()&&(g.USE_ORTHO_CAMERA=!0),H.isFloatDepthTexture(M)&&(g.USE_FLOAT_TEXTURE=!0),pR.assign(a,{near:H.getNear(),far:H.getFar(),focus:u,range:v,density:Z})):pR.assign(a,{aperture:this.aperture,useG2d:w,threshold:i}),H._postProcessing.blitScreen(V,z,U,a),V}}}},m.graph3d.PostProcessing.Lut=function(V){var Y,c,u,H=!1,M=!1;this.serializeProperties={texture:null,intensity:1},pR.defineProperties(this,{enable:{get:function(){return H},set:function(J){!!H!=!!J&&(H=J,V.iv())}},texture:{get:function(){return Y},set:function(J){Y!==J&&(Y=J,V.iv())}},intensity:{get:function(){return c},set:function(J){c!==J&&(c=J,V.iv())}}}),this.dispose=function(){M=!1,nJ(V,u),u=null},this._42=function(J,a){if(H){var z,U,g=Y?V.getTexture(Y):null;if(g&&(z=g.width)&&(M||(U=V.getGL())&&(u=new B.RenderTarget(V,U),M=!0)))return V._postProcessing.blitScreen(u,a.width,a.height,{type:"lut",tDiffuse:a.texture,intensity:c,lutSize:z,lut:g}),u}}},m.graph3d.PostProcessing.Custom=function(c){function a(J,a){return(J.priority||0)-(a.priority||0)}var u,H,M=!1,I=!1;this.serializeProperties={materials:[]},pR.defineProperties(this,{enable:{get:function(){return M},set:function(J){!!M!=!!J&&(M=J,c.iv())}},materials:{get:function(){return H},set:function(J){(H=J)&&H.sort(a),c.iv()}}}),this.dispose=function(){I=!1,nJ(c,u),u=null},this._42=function(J,a){if(M&&H&&H.length&&(I||(z=c.getGL())&&(u=new B.RenderTarget(c,z),I=!0))){for(var z,U,g=a,V=u,Y=0;Y<H.length;Y++)(U=H[Y]).image=g.texture,c._postProcessing.blitScreen(V,g.width,g.height,U),delete U.image,U=g,g=V,V=U;return g}}},m.graph3d.PostProcessing.Ssao=function(C){function z(){var J=!!($.enable&&$.mainOpaqueOnly&&C.isWebGL2());g!==J&&((g=J)?C.addRenderLayerListener(a,$,C._depthGrabber.renderLayerPriority-100):C.removeRenderLayerListener(a,$))}function a(J){"main"===J.layer&&"opaque"===J.phase&&!C._picking&&C.getPostProcessing().isRenderingScene()&&(J=C.getPostProcessing().getRenderTarget())&&J.isBinding(C.getGL())&&(J=C.getPostProcessing().getRenderTarget().grabDepth(),$.drawImpl(C.getGL(),J,C.getPostProcessing().getRenderTarget(),!0))}var y,F,O,J,n,L,b,S,P,$=this,l=!1,T=!1,U=this.serializeProperties={aoRadius:5,distanceFalloff:1,screenSpaceRadius:!1,quality:"high",aoSamples:16,denoiseSamples:8,denoiseRadius:12,denoiseIterations:2,intensity:5,mainOpaqueOnly:!0,renderMode:"combined",colorMultiply:!0},g=!(this.resetProperties=function(){for(var J in U)this[J]=U[J]});for(J in pR.defineProperties($,{enable:{get:function(){return l},set:function(J){!!l!=!!J&&((l=J)?C.enableDepthGrabber("sceneSsao"):C.disableDepthGrabber("sceneSsao"),z(),C.iv())}}}),U)!function(a){pR.defineProperty($,a,{get:function(){return $["_"+a]},set:function(J){$["_"+a]!==J&&($["_"+a]=J,"mainOpaqueOnly"===a&&z(),C.iv())}})}(J);this.resetProperties(),$.dispose=function(){T=!1,nJ(C,y,F,O),y=F=O=null};var f=new o,N={performance:[8,4,12],low:[16,4,12],medium:[16,8,12],high:[64,8,6],ultra:[64,16,6]};$._42=function(J,a){return $.mainOpaqueOnly?a:$.drawImpl(J,null,a)},$.drawImpl=function(J,a,z,U){if(l&&C.isWebGL2()&&(a=a||C.grabDepth(),C.isFloatDepthTexture(a)&&(T||(c=C.getWidth(),u=C.getHeight(),c&&u&&((c=C.getGL())&&(y=new B.RenderTarget(C,c),F=new B.RenderTarget(C,c),u=Uint8Array.from(atob(D1),function(J){return J.charCodeAt(0)}),O=C.createTexture({data:u,width:128,height:128,filter:9728,wrap:10497}),T=!0)))))){U&&((g=C.getGLState()).depth.enabled=!1,g.depth.mask=!1);var g,V=(c=z.getSize())[0],Y=c[1],c=C.getNear(),u=C.getFar(),H=C.getPostProcessing();p=$.quality;var M=(p=N[p]||[$.aoSamples,$.denoiseSamples,$.denoiseRadius])[0],I=p[1],e=p[2],Q=M;if(L!==Q){L=Q,n=[];for(var v=0,Z=Math.sqrt(Q);v<Q;v++){var k=2.399963*v,E=(i=Math.sqrt(v+.5)/Z)*Math.cos(k),i=i*Math.sin(k),k=Math.sqrt(1-(E*E+i*i));n.push([E,i,k])}}var w={type:"ssao",sceneDepth:a,sceneNormal:null,projMat:C._projectMatrix,viewMat:C._viewMatrix,projViewMat:C._projScreenMatrix,projectionMatrixInv:eJ(hu(C._projectMatrix)),viewMatrixInv:eJ(hu(C._viewMatrix)),cameraPos:C.getEye(),resolution:[V,Y],time:performance.now()/1e3,samples:n,blueNoise:O,distanceFalloff:$.distanceFalloff,near:c,far:u,ortho:C.isOrtho(),screenSpaceRadius:$.screenSpaceRadius,frame:0,internalDefines:!1},p=pR.assign({},w,{radius:$.aoRadius,defines:{EFFECT_SHADER:!0,SAMPLES:M,FSAMPLES:M+".0",LOGDEPTH:!1,HALFRES:!1}}),x=(H.blitScreen(y,V,Y,p),I),c=11;if(S!==x||P!==c){S=x,P=c;for(var W=2*Math.PI*c/x,D=c=1/x,K=(b=[],c),d=0,j=0;j<x;j++)b.push(f.set(Math.cos(d),Math.sin(d)).multiplyScalar(Math.pow(K,.75)).toArray()),K+=D,d+=W}for(var q=0;q<$.denoiseIterations;q++){var X=y,X=(y=F,F=X,pR.assign({},w,{tDiffuse:F.texture,radius:e,worldRadius:$.aoRadius,index:q,poissonDisk:b,defines:{POISSION_BLUR:!0,NUM_SAMPLES:I,LOGDEPTH:!1}}));H.blitScreen(y,V,Y,X)}var R,u="ao"===(u=$.renderMode)?1:"split"===u?3:"splitAo"===u?4:0,M=U?(z.unbind(J),H.blitScreen(F,V,Y,{type:"blitScreen",image:z.texture}),R=F.texture,z):(R=z.texture,F),p=pR.assign({},w,{sceneDiffuse:R,downsampledDepth:a,intensity:$.intensity,radius:$.aoRadius,gammaCorrection:!1,tDiffuse:y.texture,color:[0,0,0],colorMultiply:$.colorMultiply,fog:!1,renderMode:u,defines:{EFFECT_COMPOSITER:!0,LOGDEPTH:!1,HALFRES:!1}});return H.blitScreen(M,V,Y,p),U&&(g.depth.enabled=!0,g.depth.mask=!0,z.bind(J)),M}var c,u}},"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"),K1=(m.graph3d.PostProcessing.Blur=function(v){var Z,k,E,i,w,g,V=this,Y=!1,p=!1,x={type:"blurDownSample"},W={type:"blurH"},D={type:"blurV"},a=(this.serializeProperties={value:0,downSample:!1,iterations:1,layer:"main"},pR.defineProperties(V,{enable:{get:function(){return Y},set:function(J){!!Y!=!!J&&((Y=J)?v.addRenderLayerListener(a,this):v.removeRenderLayerListener(a,this),v.iv())}},downSample:{get:function(){return i},set:function(J){i!==J&&(i=J,v.iv())}},value:{get:function(){return E},set:function(J){E!==J&&(E=J,v.iv())}},iterations:{get:function(){return w},set:function(J){w!==J&&(w=J,v.iv())}},layer:{get:function(){return g},set:function(J){g!==J&&(g=J,v.iv())}}}),function(J){if(Y&&J.layer===g&&"post"===J.phase){var a=v.getGL();if(!v._picking&&!v.isReflecting(a)){(J=v._postProcessing.getRenderTarget()).unbind(a);for(var z=0,U=v._glCapabilities.maxAttributes;z<U;z++)a.disableVertexAttribArray(z);V.drawImpl(a,J),J.bind(a),a.useProgram(v._prg)}}});V._42=function(){},V.dispose=function(){p=!1,nJ(v,Z,k),Z=k=null},V.drawImpl=function(J,a,z,U,g){if(p||(H=v.getGL())&&(Z=new B.RenderTarget(v,H),p=!0)){var V,Y=a?(V=a.width,a.height):(V=v._viewport[2],v._viewport[3]);if(V&&Y){for(var c,u=v._postProcessing,H=("boolean"!=typeof U&&(U=i),z==WR&&(z=E),g==WR&&(g=w),g=Math.max(1,Math.round(g)),RR.for(J).glState.depth),M=H.enabled,I=(H.enabled=!1,U?(z/=2,c=[V,Y],V/=2,Y/=2,k=k||new B.RenderTarget(v,J),x.image=a.texture,x.texelSize=[1/c[0],1/c[1]],u.blitScreen(k,V,Y,x),a.setSize(J,V,Y)):k&&k.setSize(0,0),Z.setSize(J,V,Y),[]),e=0;e<g;e++)I.push(z),z=Math.max(1,Math.floor(z/2));for(e=0;e<g;e++){var Q=I[g-e-1];W.image=(U&&0===e?k:a).texture,W.value=Q/V,u.blitScreen(Z,null,null,W),U&&e===g-1&&a.setSize(J,c[0],c[1]),D.image=Z.texture,D.value=Q/Y,u.blitScreen(a,null,null,D)}return H.enabled=M,a}}}},m.graph3d.PostProcessing.Glitch=function(c){var u,z,H,M,I,e,Q,U,v,Z=!1,k=!1,E=t.randomFloat,i=t.randomInt,g=0,w={type:"glitch"};function p(){if(v&&U){H=Date.now(),z=1e3*E(U[M=0],U[1]),I=[];for(var J=1,a=v.length;J<a;J+=2)I.push((1<J?I[I.length-1]:0)+z*v[J]/g)}}function x(){c.redraw()}this.serializeProperties={onlyReflector:!1,period:[2,3],intensity:[3,.3,1,.1,0,.4]},pR.defineProperties(this,{enable:{get:function(){return Z},set:function(J){!!Z!=!!J&&((Z=J)&&p(),c.iv())}},onlyReflector:{get:function(){return Q},set:function(J){!!Q!=!!J&&(Q=J,c.iv())}},period:{get:function(){return U},set:function(J){U=J,p(),c.iv()}},intensity:{get:function(){return v},set:function(J){g=0;for(var a=1,z=(v=J=J||[1,1]).length;a<z;a+=2)g+=J[a];p(),c.iv()}}}),this.dispose=function(){k=!1,nJ(c,u),u=null},this._42=function(J,a){if(Z&&(k||function(){var J=c.getGL();if(J){u=new B.RenderTarget(c,J);for(var a=_Q(64,64),z=a.getImageData(0,0,64,64),U=z.data,g=0;g<4096;g++)U[3*g+0]=i(256),U[3*g+1]=i(256),U[3*g+2]=i(256),U[3*g+3]=i(256);return a.putImageData(z,0,0),e=dJ(c,J,sQ),k=!0}}())&&!!c.isReflecting(J)==!!Q){var z,U,g,V=a.width,Y=a.height;if(V&&Y)return z=c._postProcessing,U=(J=RR.for(J).glState.depth).enabled,J.enabled=!1,Date.now()-H>I[M]&&++M>=I.length&&p(),g=v[2*M],w.seed=Math.random(),w.byp=g?0:1,w.tDisp=e,g&&(w.angle=E(-Math.PI,Math.PI),w.distortion_x=E(0,1),w.distortion_y=E(0,1),w.amount=Math.random()/30*g,w.seed_x=E(-1,1)*g,w.seed_y=E(-1,1)*g),w.image=a.texture,z.blitScreen(u,V,Y,w),J.enabled=U,requestAnimationFrame(x),u}}},m.graph3d.PostProcessing.Fxaa=function(a){var z=!1;this.serializeProperties={},pR.defineProperties(this,{enable:{get:function(){return z},set:function(J){!!z!=!!J&&(z=J,a.iv())}}}),this._42=function(){}},qL(DR,{accordionViewExpandIcon:HL(bW),accordionViewCollapseIcon:HL(bW,!0),accordionViewLabelColor:TR,accordionViewLabelFont:Sm,accordionViewTitleBackground:D,accordionViewSelectBackground:oW,accordionViewSelectWidth:3,accordionViewSeparatorColor:xR,splitViewDividerSize:1,splitViewDividerBackground:D,splitViewDragOpacity:.5,splitViewToggleIcon:{width:16,height:16,comps:[{type:we,rect:[2,2,12,12],background:bW}]},propertyViewLabelColor:bm,propertyViewLabelSelectColor:TR,propertyViewLabelFont:Sm,propertyViewExpandIcon:HL(PW),propertyViewCollapseIcon:HL(PW,!0),propertyViewBackground:SW,propertyViewRowLineVisible:!0,propertyViewColumnLineVisible:!0,propertyViewRowLineColor:fW,propertyViewColumnLineColor:fW,propertyViewSelectBackground:oW,listViewLabelColor:bm,listViewLabelSelectColor:TR,listViewLabelFont:Sm,listViewRowLineVisible:!1,listViewRowLineColor:fW,listViewSelectBackground:oW,treeViewLabelColor:bm,treeViewLabelSelectColor:TR,treeViewLabelFont:Sm,treeViewExpandIcon:HL(TW),treeViewCollapseIcon:HL(TW,!0),treeViewRowLineVisible:!1,treeViewRowLineColor:fW,treeViewSelectBackground:oW,treeViewDoubleClickToToggle:!0,tableViewLabelColor:bm,tableViewLabelSelectColor:TR,tableViewLabelFont:Sm,tableViewRowLineVisible:!0,tableViewColumnLineVisible:!0,tableViewRowLineColor:fW,tableViewColumnLineColor:fW,tableViewSelectBackground:oW,treeTableViewLabelColor:bm,treeTableViewLabelSelectColor:TR,treeTableViewLabelFont:Sm,treeTableViewExpandIcon:HL(TW),treeTableViewCollapseIcon:HL(TW,!0),treeTableViewRowLineVisible:!0,treeTableViewColumnLineVisible:!0,treeTableViewRowLineColor:fW,treeTableViewColumnLineColor:fW,treeTableViewSelectBackground:oW,tableHeaderLabelColor:bm,tableHeaderLabelFont:Sm,tableHeaderColumnLineVisible:!0,tableHeaderColumnLineColor:lW,tableHeaderBackground:SW,tableHeaderMoveBackground:I,tableHeaderInsertColor:oW,tableHeaderSortDescIcon:VH(PW,!0),tableHeaderSortAscIcon:VH(PW),tabViewTabGap:1,tabViewLabelColor:TR,tabViewLabelFont:Sm,tabViewTabBackground:D,tabViewSelectWidth:3,tabViewSelectBackground:oW,tabViewMoveBackground:I,tabViewInsertColor:oW,toolbarLabelColor:bm,toolbarLabelSelectColor:TR,toolbarLabelFont:Sm,toolbarBackground:SW,toolbarSelectBackground:oW,toolbarItemGap:8,toolbarSeparatorColor:$W},!0),{translateX:1,sortColumn:1}),d1={sortable:1,sortOrder:1,sortFunc:1},j1={focusData:1},q1={dataModel:1,sortColumn:1,sortFunc:1,visibleFunc:1,rootData:1,rootVisible:1},X1={dataModel:1,sortFunc:1,visibleFunc:1,categorizable:1},R1=function(J,a){a.add(J),J.hasChildren()&&J.eachChild(function(J){R1(J,a)})},C1=function(J,a,z,U,g,V,Y,c,u,H,M){var I,e,Q,v,Z,k,E=z.getValueType(H),i=z.getAlign(H);if(z.getEnumValues(H))return I=z.toEnumLabel(a,H),e=Pm||0,Q=0,v=V,Z=DR.getTextSize(U,I).width,(k=s(z.toEnumIcon(a,H)))&&(Q=V+Pm/2,"center"===i?Q+=(c-(e+Z))/2:"right"===i&&(Q=Q+c-(e+Z)),rm(J,k,Q,Y+u/2,H,M),v=Q+Pm/2),void(I!=WR&&(k?Hu(J,I,U,g,v,Y,c-(v-V),u):Hu(J,I,U,g,V,Y,c,u,i)));if((a=z.formatValue(a))!=WR){if(E!==hq)return E===_q||!E&&ZL(a)?(k=s(a?Ce:ye),void rm(J,k,V+c/2,Y+u/2,H,M)):void Hu(J,a,U,g,V,Y,c,u,i);YW(J,V,Y,c,u,a)}},y1=function(z,U){var g=U.view,V=pQ(z),Y=U.column||U.property;g.getDataModel().beginTransaction(),(U.editor=z).info=U,g.setCurrentEditor(z),g.getView().insertBefore(V,g._79O),R(z,U.editorRect),z.setFocus?z.setFocus():wQ(z),z.commitValue=function(J,a){z._17Q&&(z=z._17Q),a||g.setValue(U.data,Y,z.getValue?z.getValue():z.value),z.close&&z.close(),Fu(V)},Y.onEditorCreated&&Y.onEditorCreated(U)},F1=function(J,a,z,U,g){var V=Ou(J,z),Y=a.value,c=a.view,z=g.getValueType(a.data);return V.onblur=V.onchange=function(J){c.endEditing()},"input"===J?((Y=g.formatValue(Y))!=WR&&(V.value=Y),V.onkeydown=function(J){fQ(J)?c.endEditing():NQ(J)&&c.endEditing(!0)},z!==Bq&&z!==tq||vR(V,HH,DR.numberListener)):J===Uq&&U.forEach(function(J){var a=Q.createElement("option");a.innerHTML=g.toEnumLabel(J),a.value=J,g.isEnumEqual(Y,J)&&(a.selected=!0),JQ(V,a)}),y1(V,a),V},O1=m.widget={},a=function(J,a,z){Su("ht.widget."+J,a,z)},n1=(qL(Km,{ms_value:function(J,a){J.getValue=function(J){var a=(J=this.getItemById(J)).element;return dR(a)?a:a?a.getValue?a.getValue():a.value:J.selected},J.setValue=function(J,a){var z;(J=this.getItemById(J))&&((z=J.element)&&!dR(z)?z.setValue?z.setValue(a):z.value=a:(ZL(a)?J.selected=a:J.element=a,this.iv()))},J.v=function(J,a){if(2===arguments.length)this.setValue(J,a);else{if(!kL(J))return this.getValue(J);for(var z in J)this.setValue(z,J[z])}return this}},_46o:function(J,a){J._icon=WR,J._accessType=WR,J._valueType=WR,J._editable=!1,J._batchEditable=!0,J._align=Ve,J._nullable=!0,J._emptiable=!1,J.setParent=BH,J.formatValue=function(J){var a=this._valueType;return this.getEnumValues()?this.toEnumLabel(J):a===_q?!!J:J!=WR&&a===Bq?kR(J):J},J.setEnum=function(J,a,z,U,g,V,Y){J&&!jR(J)&&J.values&&(U=J.editable,z=J.icons,a=J.labels,g=J.strict,V=J.maxHeight,Y=J.dropDownWidth,J=J.values),iL(J)&&(J=J._as),iL(a)&&(a=a._as),iL(z)&&(z=z._as),this._enumValues=J,this._enumLabels=a,this._enumIcons=z,this._enumEditable=U,this._enumStrict=g==WR||g,this._enumMaxHeight=V,this._enumDropDownWidth=Y,J&&J.length&&vL(J[0])&&(this._valueType=tq),this.fp("enum",!1,!0)},J.getEnumDropDownWidth=function(){return this._enumDropDownWidth},J.getEnumMaxHeight=function(){return this._enumMaxHeight},J.isEnumEditable=function(){return this._enumEditable},J.getEnumValues=function(){return this._enumValues},J.getEnumLabels=function(){return this._enumLabels},J.getEnumIcons=function(){return this._enumIcons},J.isEnumStrict=function(){return this._enumStrict},J.isEnumEqual=function(J,a){return this._enumStrict?J===a:J==a},J.toEnumLabel=function(J,a){var z=this.getEnumValues(a),U=this.getEnumLabels(a);if(z&&U)for(var g=0;g<z.length;g++)if(this.isEnumEqual(J,z[g]))return U[g];return J},J.toEnumIcon=function(J,a){var z=this.getEnumValues(a),U=this.getEnumIcons(a);if(z&&U)for(var g=0;g<z.length;g++)if(this.isEnumEqual(J,z[g]))return U[g];return xR}},_45o:function(J,a){J._87o=function(J,a,z,U,g,V){var Y,c;J&&(Y=this._90I,c=hL(1),this._columnLineVisible&&--g,this._rowLineVisible&&--V,g<=0||V<=0||((Y=this._90I?Y:this._90I={})[a]||(Y[a]=new h),R(c,this.tx()+z,this.ty()+U,g,V),JQ(c,J),this._view.insertBefore(c,this._79O),J.onParentAdded&&J.onParentAdded(c),Y[a].add(c)))},J._76o=function(){var J=this._90I;if(J){for(var a in J)J[a].each(function(J){Fu(J)});delete this._90I}},J._77o=function(J){var a;this._90I&&(a=this._90I[J])&&(a.each(function(J){Fu(J)}),delete this._90I[J])}},_47o:function(J,a){J.getValue=function(J,a){return a.getValue?a.getValue(J,a,this):$L(J,a.getAccessType(),a.getName())},J.setValue=function(J,a,z){var U,g,V,Y;a.isEmptiable(J)||""!==z||(z=xR),!a.isNullable(J)&&z==WR||(U=this,g=a.getName(J),V=a.getAccessType(J),(Y=a.getValueType(J))===Bq&&dR(z)?z=lR(z):Y===tq&&dR(z)?z=parseFloat(z):Y===_q&&dR(z)&&(z="true"===z),U._batchEditable&&a._batchEditable&&U.isSelected(J)?U.sm().each(function(J){a.setValue?a.setValue(J,a,z,U):lL(J,V,g,z)}):a.setValue?a.setValue(J,a,z,U):lL(J,V,g,z))},J.setCurrentEditor=function(J){this.endEditing(),this._currentEditor=J,this.redraw()},J.isEditing=function(J,a){var z=this._currentEditor;return!!z&&(!a||!!(z=z.info)&&(z.column||z.property)===a&&z.data===J)},J.endEditing=function(J){var a=this._currentEditor;a&&(delete this._currentEditor,a.commitValue&&a.commitValue(a.info,J),this.redraw(),this.getDataModel().endTransaction())},J.beginEditing=function(J){this.endEditing();var z=this,U=J.column||J.property;if(U.beginEditing)U.beginEditing(J);else{var a,g,V=J.data,Y=J.value,c=z.getSelectBackground(V),u=U.getEnumValues(V),H=U.getSlider(V),M=U.getColorPicker(V);if(H)return(a=hm(O1.Slider,H)).setValue(Y),a.getView().onblur=function(J){z.endEditing()},a.isInstant()&&(a.onValueChanged=function(){z.setValue(V,U,a.getValue())}),void y1(a,J);if(M||U.getValueType(V)===hq)return(H=hm(O1.ColorPicker,M)).setValue(Y),g=H.onClosed,H.onClosed=function(){z.endEditing(),g&&g.call(this)},H.isInstant()&&(H.onValueChanged=function(J,a){z.setValue(V,U,a)}),y1(H,J),void H.open();if(u)O1.ComboBox?((M=new O1.ComboBox).setValue(Y),M.setValues(u),M.setLabels(U.getEnumLabels(V)),M.setIcons(U.getEnumIcons(V)),M.setEditable(U.isEnumEditable(V)),M.setStrict(U.isEnumStrict(V)),M.setMaxHeight(U.getEnumMaxHeight(V)),M.setDropDownWidth(U.getEnumDropDownWidth(V)),M.onClosed=function(){z.endEditing()},y1(M,J),M.open()):F1(Uq,J,c,u,U);else{if(U.getValueType(V)!==_q&&!ZL(Y))return U.getItemEditor(V)?(((M=(H=new(Vu(U.getItemEditor(V)))(V,U,z,J)).getView())._17Q=H).setValue(Y),rL(M),y1(M,J),void(H.editBeginning&&H.editBeginning())):void F1("input",J,c,WR,U);z.setValue(V,U,!Y)}}}},_44o:function(J,a){J.init=function(J){var a=this,z=a.th=new _1(J),U=a._view=_L(1,a);a.tv=a._tableView=J,JQ(U,z.getView()),JQ(U,J.getView()),z.mp(function(J){J.property===Xe&&a.iv()}),a.iv()},J.getTableView=function(){return this.tv},J.getTableHeader=function(){return this.th},J.getDataModel=function(){return this.tv.dm()},J.getColumnModel=function(){return this.tv.getColumnModel()},J.setColumns=function(J){this.tv.setColumns(J)},J.addColumns=function(J){this.tv.addColumns(J)},J.endEditing=function(){this.tv.endEditing()},J.validateImpl=function(){var J=this.th,a=uQ(J),z={x:0,y:0,width:this.getWidth(),height:a};R(J,z),z.y=a,z.height=zR(0,this.getHeight()-a),R(this.tv,z)}},ms_vs:function(J,a){J._41o=function(){return this._29I.height<this._59I},J._43o=function(){var J=this;J._41o()&&(J._58I||(AR(function(){J._94O()},Tm),J.iv()),J._58I=new Date)},J._94O=function(){var J=this;J._58I&&((new Date).getTime()-J._58I.getTime()>=Tm?(delete J._58I,J.iv()):AR(function(){J._94O()},Tm))},J._93I=function(){var J,a,z,U,g,V,Y,c=this,u=c._27I;c._58I||!c._autoHideScrollBar?(u||JQ(c._79O,u=c._27I=hL()),J=(U=c._29I).height,a=c._59I,z=c.getScrollBarSize(),U=U.width-z-2,g=J*(-c.ty()/a),V=J*(J/a),Y=u.style,J<a?(V<fm&&(J<(g=(g=g+V/2-fm/2)<0?0:g)+fm&&(g=J-fm),V=fm),Y.visibility=Ge,Y.background=c.getScrollBarColor(),Y.borderRadius=z/2+ke,R(u,U,g,z,V)):Y.visibility=re):u&&(u.style.visibility=re)}},ms_hs:function(J,a){J._40o=function(){return this._29I.width<this._91I},J._42o=function(){var J=this;J._40o()&&(J._95O||(AR(function(){J._94I()},Tm),J.iv()),J._95O=new Date)},J._94I=function(){var J=this;J._95O&&((new Date).getTime()-J._95O.getTime()>=Tm?(delete J._95O,J.iv()):AR(function(){J._94I()},Tm))},J._92I=function(){var J,a,z,U,g,V,Y,c=this,u=c._28I;c._95O||!c._autoHideScrollBar?(u||JQ(c._79O,u=c._28I=hL()),J=(U=c._29I).width,a=c._91I,z=c.getScrollBarSize(),U=U.height-z-2,g=J*(-c.tx()/a),V=J*(J/a),Y=u.style,J<a?(V<fm&&(J<(g=(g=g+V/2-fm/2)<0?0:g)+fm&&(g=J-fm),V=fm),Y.visibility=Ge,Y.background=c.getScrollBarColor(),Y.borderRadius=z/2+ke,R(u,g,U,V,z)):Y.visibility=re):u&&(u.style.visibility=re)}}}),qH(Ce,cL(16,16,[{type:f,rect:[1,1,14,14],background:oW},{type:ie,rect:[1,1,14,14],width:1,color:NW},{type:We,points:[13,3,7,12,4,8],borderWidth:2,borderColor:"#FFF"}])),qH(ye,cL(16,16,{type:ie,rect:[1,1,14,14],width:1,color:NW})),qH(Fe,cL(16,16,[{type:pe,rect:[2,2,12,12],borderWidth:1,borderColor:NW,background:"#FFF"},{type:pe,rect:[4,4,8,8],background:oW}])),qH(Oe,cL(16,16,{type:pe,rect:[2,2,12,12],borderWidth:1,borderColor:NW})),Km._15Q=function(J,a){J._29I=rH,J._59I=0,J._91I=0,J._5o=function(J){var a=this;a._30I=new h,a._rows=new h,a._rowMap={},a._31I=0,a._14I=0,a._view=_L(1,a),a._canvas=BL(a._view),JQ(a._view,a._79O=hL()),a.dm(J||new hD)},J.getCheckIcon=function(J){var a=this.sm(),J=a.co(J);return a.sg()?s(J?Fe:Oe):s(J?Ce:ye)},J.checkData=function(J){var a=this.sm(),z=a.co(J);a.sg()&&z||(this._32o=1,z?a.rs(J):a.as(J),delete this._32o)},J.getDataAt=function(J){J.target&&(J=this.lp(J));var J=ER(J.y/this._rowHeight),a=this._rows;return J<0||J>=a.size()?WR:a.get(J)},J.onDataDoubleClicked=function(J,a){},J.onDataClicked=function(J,a){},J.adjustTranslateX=function(J){return 0},J.adjustTranslateY=function(J){var a=this.getHeight()-this._59I;return 0<(J=J<a?a:J)?0:kR(J)},J.onPropertyChanged=function(J){J=J.property,q1[J]?this.ivm():j1[J]||this.redraw(),J===Xq?this._42o():J===Rq&&this._43o()},J.getLabel=function(J){return J.toLabel()},J.getLabelFont=function(J){return this._labelFont},J.getLabelColor=function(J){if(this.isCheckMode()){if(this._focusData===J)return this._labelSelectColor}else if(this.isSelected(J))return this._labelSelectColor;return this._labelColor},J.getStartRowIndex=function(){return this._31I},J.getEndRowIndex=function(){return this._14I},J.getRowDatas=function(){return this._rows},J.getRowIndex=function(J){return this._rowMap[J._id]},J.getRowSize=function(){return this._rows.size()},J.getViewRect=function(){return gu(this._29I)},J.isVisible=function(J){return!this._visibleFunc||this._visibleFunc(J)},J.getCurrentSortFunc=function(){return this._sortFunc},J.setDataModel=function(J){var a=this,z=a._dataModel,U=a._selectionModel;z!==J&&(z&&(z.umm(a.handleDataModelChange,a),z.umd(a.handleDataPropertyChange,a),z.umh(a.handleHierarchyChange,a),U||z.sm().ums(a.handleSelectionChange,a)),(a._dataModel=J).mm(a.handleDataModelChange,a),J.md(a.handleDataPropertyChange,a),J.mh(a.handleHierarchyChange,a),U?U._21I(J):J.sm().ms(a.handleSelectionChange,a),a.fp("dataModel",z,J))},J.validateModel=function(){var J=this,a=(J._rows.clear(),J._rowMap={},J.buildChildren(J._dataModel._roots),J._rows=J._rows.toList(J.isVisible,J)),z=0,U=J.getCurrentSortFunc(),g=a.size();for(U&&a.sort(U);z<g;z++)J._rowMap[a.get(z)._id]=z},J.buildChildren=function(J){var a=this;J.each(function(J){a._rows.add(J),a.buildChildren(J._children)})},J.handleDataModelChange=function(J){this.ivm()},J.handleDataPropertyChange=function(J){"parent"===J.property?this.ivm():this.invalidateData(J.data)},J.handleHierarchyChange=function(J){this.ivm()},J.handleSelectionChange=function(J){J.datas.each(this.invalidateData,this),this.onSelectionChanged(J)},J.onSelectionChanged=function(J){var a=this.sm();!this.isAutoMakeVisible()||1!==a.size()||"set"!==J.kind&&"append"!==J.kind||this._32o||this.makeVisible(a.ld())},J.handleBackgroundClick=function(J){Iu(J)&&!this.isCheckMode()&&this.sm().cs()},J.makeVisible=function(J){J&&(this._23I=J,this.iv())},J.scrollToIndex=function(J){var a=this._29I,z=a.height,U=this._rowHeight,g=U*J;0<=J&&J<this._rows.size()&&0<z&&(g+U>a.y+z?this.ty(-g+z-U):g<a.y&&this.ty(-g))},J.autoScroll=function(J,a){var z=this,U=z._rowHeight,g=U,V=U/4,Y=z._29I,J=z.lp(J),c={x:z.tx(),y:z.ty()};return 0<U&&Y&&(J.x-Y.x<g?z.translate(V,0):Y.x+Y.width-J.x<g&&z.translate(-V,0),J.y-Y.y<g?z.translate(0,V):Y.y+Y.height-J.y<g&&z.translate(0,-V)),c.x=z.tx()-c.x,c.y=z.ty()-c.y,a&&(a.x+=c.x,a.y+=c.y),c},J.getTopRowOrderSelection=function(){var J=this.sm().getTopSelection(),a={},z=new h;return J.each(function(J){a[J._id]=J}),this._rows.each(function(J){a[J._id]&&z.add(J)}),z},J.getRowOrderSelection=function(){var a=new h;return this._rows.each(function(J){this.isSelected(J)&&a.add(J)},this),a},J.ivm=function(){this.invalidateModel()},J.invalidateModel=function(){this._96I||(this._96I=1,this._32I=1,delete this._24I),this.iv()},J.redraw=function(){this._32I||(this._32I=1,delete this._24I,this.iv())},J.invalidateData=function(J){hR?this.redraw():this._32I||(this._24I||(this._24I={}),this._24I[J._id]=J,this.iv())},J.getFocusData=function(){return this._focusData},J.setFocusDataById=function(J){this.setFocusData(this.dm().getDataById(J))},J.setFocusData=function(J){var a=this._focusData;a!==J&&(this._focusData=J,this.fp("focusData",a,J),a&&this.invalidateData(a),J&&(this.invalidateData(J),this.isAutoMakeVisible()&&this.makeVisible(J)))},J.drawRowBackground=function(J,a,z,U,g,V,Y){var c=this.isCheckMode();(a===this._focusData&&c||z&&!c)&&YW(J,U,g,V,Y,this.getSelectBackground(a))},J.drawData=function(J,a,z){var U=this._rowHeight,g=U*z,V=(Y=this._29I).x,Y=Y.width;J.save(),J.beginPath(),J.rect(V,g,Y,U),J.clip(),this._87o(this.drawRow(J,a,this.isSelected(a),V,g,Y,U),z,V,g,Y,U),J.restore(),this._rowLineVisible&&YW(J,V,g+U-1,Y,1,this._rowLineColor)},J._12I=function(J){var a=this._31I,z=(V=this._29I).x,U=V.y,g=V.width,V=V.height;for(J.beginPath(),J.rect(z,U,g,V),J.clip(),J.clearRect(z,U,g,V),this._76o(),this._93db(J);a<this._14I;a++)this.drawData(J,this._rows.get(a),a);this._92db(J)},J._13I=function(a){for(var J,z=this,U=z._rowHeight,g=z._29I,V=g.x,Y=g.width,c=z._31I,u=z._30I;c<z._14I;c++)J=z._rows.get(c),z._24I[J._id]&&u.add({data:J,index:c});u.isEmpty()||(a.beginPath(),u.each(function(J){a.rect(V,J.index*U,Y,U)}),a.clip(),u.each(function(J){a.clearRect(V,J.index*U,Y,U)}),u.each(function(J){z._77o(J.index)}),z._93db(a),u.each(function(J){z.drawData(a,J.data,J.index)}),z._92db(a),u.clear())},J.preValidateModel=function(){this.endEditing&&this.endEditing()},J.validateImpl=function(){var J=this,a=J._canvas,z=J.getWidth(),U=J.getHeight(),g=J._rowHeight,V=J._32I,Y=(z===a.clientWidth&&U===a.clientHeight||(GL(a,z,U),V=1),J._96I&&(J.preValidateModel(),J.validateModel()),J._29I),z={x:-J.tx(),y:-J.ty(),width:z,height:U},U=J._rows.size(),a=IQ(a),c=J._23I,Y=(V||nL(z,Y)||(V=1),J._29I=z,J._59I=U*g,J._31I=ER(z.y/g),J._14I=iR((z.y+z.height)/g),J._31I<0&&(J._31I=0),J._14I>U&&(J._14I=U),J._99I&&V&&J._99I(),J.tx()),z=J.ty();(J._40o()||J._41o())&&(J._59I+=J.getScrollBarSize(),J._99I&&V&&(J._91I+=J.getScrollBarSize())),eQ(a,Y,z,1),V?J._12I(a):J._24I&&J._13I(a),J._93I(),J._92I(),a.restore(),J._32I=J._24I=J._96I=WR,c&&(J.scrollToIndex(J.getRowIndex(c)),delete J._23I),J.tx(J.tx()),J.ty(J.ty())},J.canHandleSelectMode=function(J,a){return!0},J.isDraggable=function(J){return!0}},Km._48o=function(J,a){J._rootVisible=!0,J._rootData=WR,J._35o=function(){this._expandMap={},this._levelMap={}},J.validateModel=function(){var J=this,a=J._rootData;J._rows.clear(),J._levelMap={},J._rowMap={},J._currentLevel=0,a?J._rootVisible?J.isVisible(a)&&J.buildData(a):J.buildChildren(a):J.buildChildren(),delete J._currentLevel},J.buildData=function(J){var a=J._id,z=this._rows;this._rowMap[a]=z.size(),z.add(J),this._levelMap[a]=this._currentLevel,this.isExpanded(J)&&(this._currentLevel++,this.buildChildren(J),this._currentLevel--)},J.buildChildren=function(J){var a=this,z=J?J._children:a._dataModel._roots,U=a.getCurrentSortFunc();U&&a.isChildrenSortable(J)?z.toList(a.isVisible,a).sort(U).each(a.buildData,a):z.each(function(J){a.isVisible(J)&&a.buildData(J)})},J.getLevel=function(J){return this._levelMap[J._id]},J.getToggleIcon=function(J){var a=this._loader,z=this._collapseIcon;return a&&!a.isLoaded(J)?z:J.hasChildren()?this.isExpanded(J)?this._expandIcon:z:WR},J.isCheckMode=function(){return this._checkMode!=WR},J.isChildrenSortable=function(J){return!0},J.handleDataModelChange=function(J){J.kind===de?delete this._expandMap[J.data._id]:J.kind===je&&(this._expandMap={}),this.ivm()},J.toggle=function(J){this.isExpanded(J)?this.collapse(J):this.expand(J)},J.isExpanded=function(J){return 1===this._expandMap[J._id]},J.expand=function(J){var a=this._loader;this.isExpanded(J)||(a&&!a.isLoaded(J)&&a.load(J),this._expandMap[J._id]=1,this.ivm(),this.onExpanded(J))},J.onExpanded=function(J){},J.collapse=function(J){this.isExpanded(J)&&(delete this._expandMap[J._id],this.ivm(),this.onCollapsed(J))},J.onCollapsed=function(J){},J.expandAll=function(J){var a;J?(this.expand(J),J.eachChild(function(J){this.expandAll(J)},this)):((a=this)._dataModel.each(function(J){J.hasChildren()&&(a._expandMap[J._id]=1)}),a.ivm())},J.collapseAll=function(){this._expandMap={},this.ivm()},J.makeVisible=function(J){if(J&&(!this._rootData||J.isDescendantOf(this._rootData))){for(var a=J._parent;a;)this.expand(a),a=a._parent;this._23I=J,this.iv()}},J.checkData=function(J){var a,z=this._checkMode,U=this.sm(),g=U.co(J);if(!U.sg()||!g){if(this._32o=1,z===Je)g?U.rs(J):U.as(J);else if(z===qq)(a=new h(J)).addAll(J._children);else if("descendant"===z)a=new h,R1(J,a);else if("all"===z&&(a=new h,R1(J,a),!g))for(var V=J._parent;V;)a.add(V),V=V._parent;a&&(g?U.rs(a):U.as(a)),delete this._32o}},J.drawTree=function(J,a,z,U,g,V,Y){var c=this,u=c._indent,H=c._levelMap[a._id],M=c.getIconWidth(a),I=s(c.getToggleIcon(a));I?(rm(J,I,(U+=u*H)+u/2,g+Y/2,a,c),U+=u):U+=u*(H+1),c._checkMode&&(rm(J,c.getCheckIcon(a),U+u/2,g+Y/2,a,c),U+=u),c.drawIcon(J,a,U,g,M,Y),c.drawLabel(J,a,U+M,g,Y)}},Km._14Q=function(J,a){J.getIcon=function(J){return J.getIcon()},J.getIconWidth=function(J){return this.getIcon(J)?this._indent:0},J.drawIcon=function(J,a,z,U,g,V){var Y,c;g&&(Y=this.getBodyColor(a),(c=s(this.getIcon(a),Y))&&(V-=this.isRowLineVisible()?1:0,Gm(J,c,Nq,z,U,g,V,a,this,Y),ZW(J,this.getBorderColor(a),z,U,g,V)))},J.drawLabel=function(J,a,z,U,g){Hu(J,this.getLabel(a),this.getLabelFont(a),this.getLabelColor(a),z,U,0,g)}},Km._50o=function(J,a){J._98I=function(){var J=this._39o=new hD;this._60I=new h,J.mm(this._17o,this),J.md(this._18o,this),J.mh(this._19o,this)},J.setColumns=function(J){this._39o.clear(),this.addColumns(J)},J.addColumns=function(J){var z=this._39o;J.forEach(function(J){var a;J instanceof L1||(a=Vu(J.className),J=hm(a||L1,J)),z.add(J)})},J.onColumnClicked=function(J){},J.onCheckColumnClicked=function(J){},J._3Q=function(J){for(var a,z=0,U=this._60I,g=U.size();z<g;z++)if((a=U.get(z)).column===J)return a;return WR},J.getColumnAt=function(J){return(J=this._4Q(J))?J.column:WR},J._4Q=function(J){for(var a=(J.target?this.lp(J):J).x,z=this._60I,U=0;U<z.size();U++){var g=z.get(U),V=g.startX;if(V<=a&&a<V+g.column.getWidth())return g}return WR},J.getToolTip=function(J){var a=this.getDataAt(J),J=this.getColumnAt(J);return a&&J?J.getToolTip(a,this):WR},J.adjustTranslateX=function(J){var a=this.getWidth()-this._91I;return 0<(J=J<a?a:J)?0:kR(J)},J._99I=function(){var z=this,U=z._29I,g=z._60I;g.clear(),z._91I=0,z._39o._roots.each(function(J){var a;J.isVisible()&&(a=z._91I+J.getWidth(),z._91I<=U.x+U.width&&a>=U.x&&g.add({column:J,startX:z._91I}),z._91I=a)})},J.drawData=function(U,g,V){var Y=this,c=Y._rowHeight,u=c*V,H=Y.isSelected(g),J=(a=Y._29I).x,a=a.width;Y.drawRowBackground(U,g,H,J,u,a,c),Y._60I.each(function(J){var a=J.column,J=J.startX,z=a.getWidth();0<z&&!Y.isEditing(g,a)&&(U.save(),U.beginPath(),U.rect(J,u,z,c),U.clip(),Y._87o(Y.drawCell(U,g,H,a,J,u,z,c),V,J,u,z,c),Y._columnLineVisible&&YW(U,J+z-1,u,1,c,Y._columnLineColor),U.restore())}),Y._rowLineVisible&&YW(U,J,u+c-1,a,1,Y._rowLineColor)},J.drawCell=function(J,a,z,U,g,V,Y,c){if(U.drawCell)return U.drawCell(J,a,z,U,g,V,Y,c,this);z=this.getValue(a,U),C1(J,z,U,this.getLabelFont(a,U,z),this.getLabelColor(a,U,z),g,V,Y,c,a,this)},J.getColumnModel=function(){return this._39o},J._17o=function(J){this.redraw()},J._18o=function(J){J.data===this._sortColumn&&d1[J.property]?this.ivm():(this._42o(),this.redraw())},J._19o=function(J){this.redraw()},J.getCurrentSortFunc=function(){var z,U,g=this,V=g._sortColumn;return V&&V.isSortable()?(U=V.getSortFunc(),z=Dq===V.getSortOrder()?1:-1,U=U||Uu,function(J,a){return U.call(g,g.getValue(J,V),g.getValue(a,V),J,a)*z}):g._sortFunc},J.isCellEditable=function(J,a,z){return!(!a.isEditable()||!this.isEditable())&&(!a.isCellEditable||a.isCellEditable(J,a,z,this))},J._37O=function(J,a){if(Iu(a))for(var z=this,U=z.lp(a),g=z._60I,V=z._rowHeight,Y=z._29I,c=Y.x,u=Y.y,H=Y.width,M=Y.height,I=0;I<g.size();I++){var e,Q,v=g.get(I),Z=v.startX,k=(v=v.column).getWidth();if(v!==z._31o&&v!==z._4o&&U.x>=Z&&U.x<Z+k&&z.isCellEditable(J,v,a))return k={x:(Z={x:Z,y:z.getRowIndex(J)*V,width:k,height:V}).x+z.tx(),y:Z.y+z.ty(),width:Z.width,height:Z.height},Q=e=0,Z.x<c?e=Z.x-c:c+H<Z.x+Z.width&&(e=Z.x+Z.width-c-H),e&&(z.tx(z.tx()-e),k.x-=e),Z.y<u?Q=Z.y-u:u+M<Z.y+V&&(Q=Z.y+V-u-M),Q&&(z.ty(z.ty()-Q),k.y-=Q),void z.beginEditing({data:J,column:v,value:z.getValue(J,v),event:a,rect:Z,editorRect:k,view:z})}}},O1.BaseItemEditor=function(J,a,z,U){this._data=J,this._column=a,this._master=z,this._editInfo=U},a("BaseItemEditor",pR,{ms_ac:["data","column","master","editInfo"],editBeginning:function(){},getView:function(){},getValue:function(){},setValue:function(){}}),m.Tab=function(){yL(n1,this)}),L1=(_W("Tab",_D,{ms_ac:["view","closable","disabled","visible"],_icon:WR,_closable:!1,_disabled:!1,_visible:!0,setParent:BH}),m.Column=function(){yL(L1,this)}),b1=(_W("Column",_D,{_46o:1,ms_ac:["accessType","valueType",Ge,pq,xq,qe,"align",hq,"sortOrder",wq,"sortable","clickable","nullable","emptiable","slider","colorPicker","itemEditor"],_visible:!0,_width:80,_sortOrder:Dq,_sortFunc:WR,_sortable:!0,_clickable:!0,setWidth:function(J){var a=this._width;this._width=J=J<16?16:J,this.fp(qe,a,J)},getToolTip:function(J,a){return this.formatValue(a.getValue(J,this))}}),m.Property=function(){yL(b1,this)}),S1=(_W("Property",_D,{_46o:1,ms_ac:["accessType","valueType",pq,xq,"categoryName",hq,"align","nullable","emptiable","slider","itemEditor","colorPicker"],_categoryName:WR,getToolTip:function(J,a,z){return a?this.formatValue(z.getValue(J,this)):z.getPropertyName(this)}}),O1.AccordionView=function(){this._20o={},this._21o=new h,this._10o=WR,this._9o=WR,this._11o=WR,this._view=_L(0,this),this.iv()},a("AccordionView",pR,{ms_v:1,ms_fire:1,ms_ac:[kq,Eq,"titleHeight",Ae,Ne,"titleBackground","selectWidth",fR,"orientation","separatorColor"],_expandIcon:DR.accordionViewExpandIcon,_collapseIcon:DR.accordionViewCollapseIcon,_titleHeight:lm,_labelColor:DR.accordionViewLabelColor,_labelFont:DR.accordionViewLabelFont,_titleBackground:DR.accordionViewTitleBackground,_selectBackground:DR.accordionViewSelectBackground,_selectWidth:DR.accordionViewSelectWidth,_orientation:"v",_separatorColor:DR.accordionViewSeparatorColor,onPropertyChanged:function(J){this.iv()},getView:function(){return this._view},getTitles:function(){return this._21o},getCurrentTitle:function(){return this._10o},add:function(a,J,z,U){var g=this,V=hL(),J={content:J,div:V,canvas:BL(V),icon:U};if(g._20o[a])throw a+" already exists";var Y=J.downEventFunc=function(J){Bm(J)},c=J.upEventFunc=function(J){Bm(J),Iu(J)&&(g._10o===a?g.collapse():g.expand(a))};[YH,zH].forEach(function(J){vR(V,J,Y)}),[uH,gH].forEach(function(J){vR(V,J,c)}),V.style.cursor=JH,JQ(g._view,V),g._20o[a]=J,g._21o.add(a),z&&g.expand(a),g.iv()},remove:function(J){var a,z=this._20o[J];z&&(a=z.div,Fu(a),[YH,zH].forEach(function(J){ZR(a,J,z.downEventFunc)}),[uH,gH].forEach(function(J){ZR(a,J,z.upEventFunc)}),delete this._20o[J],this._21o.remove(J),this.iv())},clear:function(){this._21o.toArray().forEach(this.remove,this),this._20o={},this._21o.clear(),this.iv()},isExpanded:function(J){return this._10o===J},expand:function(J){this._20o[J]&&this._10o!==J&&(this._10o=J,this.onExpanded(J),this.iv())},onExpanded:function(J){},collapse:function(){this._10o&&(this.onCollapsed(this._10o),delete this._10o,this.iv())},onCollapsed:function(J){},initCanvas:function(J,a,z){return GL(J,a,z),J=IQ(J),eQ(J,0,0,1),J.clearRect(0,0,a,z),J},drawTitle:function(J,a,z,U,g){var V=this,g=s(g.icon),Y=V.isExpanded(a),c=V._titleHeight,u=V._titleBackground,H=V._selectWidth,M=V._separatorColor,I=s(Y?V._expandIcon:V._collapseIcon),e=H+4;YW(J,0,0,z,U,u),Y&&H&&YW(J,0,0,H,U,V._selectBackground),!Y&&V._21o.get(V._21o.size()-1)===a||YW(J,0,U-1,z,1,M||cu(u)),g&&(rm(J,g,e+dD(g)/2,c/2),e+=dD(g)+2),Hu(J,a,V.getLabelFont(a),V.getLabelColor(a),e,0,0,c),I&&rm(J,I,z-dD(I)/2-4,c/2)},validateImpl:function(){var Y=this,J=Y._view,c=0,u=0,H=Y.getWidth(),M=Y.getHeight(),I=Y._titleHeight,e=Y._21o.size()*I,a=Y._11o,z=Y._9o,U=(delete Y._11o,delete Y._9o,Y._21o.each(function(J){var a,z,U=Y._20o[J],g=U.content,V=Y._10o===J;ML(Y)?(R(U.div,c,0,I,M),a=Y.initCanvas(U.canvas,I,M),QQ(a,0,M),vQ(a,-LR),Y.drawTitle(a,J,M,I,U),a.restore(),V?(z=zR(0,H-e),g&&(Y._11o=g,Y._9o=pQ(g),R(g,c+I,0,z,M)),c+=I+z):c+=I):(R(U.div,0,u,H,I),a=Y.initCanvas(U.canvas,H,I),Y.drawTitle(a,J,H,I,U),a.restore(),V?(z=zR(0,M-e),g&&(Y._11o=g,Y._9o=pQ(g),R(g,0,u+I,H,z)),u+=I+z):u+=I)}),Y._9o);a&&a!==Y._11o&&a.endEditing&&a.endEditing(),U&&U!==z&&JQ(J,U),z&&z!==U&&Fu(z)}}),O1.SplitView=function(J,a,z,U){var g=this,V=g._dividerDiv=hL(),Y=g._60O=BL(),c=g._61O=BL(),Y=Y.style,c=c.style;g._view=_L(1,g),JQ(g._view,V),Y.msTouchAction=aH,Y.pointerEvents=aH,Y.cursor=JH,c.msTouchAction=aH,c.pointerEvents=aH,c.cursor=JH,J&&g.setLeftView(J),a&&g.setRightView(a),z&&g.setOrientation(z),U!=WR&&g.setPosition(U),g.setStatus(Ke),new S1(g)},a("SplitView",pR,{ms_v:1,ms_fire:1,ms_ac:["continuousLayout","dividerSize","dividerBackground","toggleIcon","togglable","dragOpacity","orientation","draggable","status"],_continuousLayout:!1,_position:.5,_togglable:!0,_orientation:"h",_draggable:!0,_dividerSize:DR.splitViewDividerSize,_dividerBackground:DR.splitViewDividerBackground,_dragOpacity:DR.splitViewDragOpacity,_toggleIcon:DR.splitViewToggleIcon,onPropertyChanged:function(J){this.iv()},getDividerDiv:function(){return this._dividerDiv},getPosition:function(){return this._position},setPosition:function(J,a){var z=this._position;isNaN(J)||(a||(this._82O=J<0?-1:1<J?1:0),this._position=J,this.fp(dq,z,J))},getLeftView:function(){return this._leftView},setLeftView:function(J){var a,z=this._leftView,U=this._view;this._leftView!==J&&(z&&z!==this._rightView&&(a=pQ(z)).parentNode===U&&Fu(a),(this._leftView=J)&&(a=pQ(J)).parentNode!==U&&U.insertBefore(a,this._dividerDiv),this.fp("leftView",z,J))},getRightView:function(){return this._rightView},setRightView:function(J){var a,z=this._rightView,U=this._view;this._rightView!==J&&(z&&z!==this._leftView&&(a=pQ(z)).parentNode===U&&Fu(a),(this._rightView=J)&&(a=pQ(J)).parentNode!==U&&U.insertBefore(a,this._dividerDiv),this.fp("rightView",z,J))},validateImpl:function(){var J,a,z,U,g=this,V=g._draggable,Y=g._position,c=g.getWidth(),u=g.getHeight(),H=g._dividerSize,M=g._dividerBackground,I=GR?18:8,e=g._dividerDiv,Q=g._82O,v=g._60O,Z=g._61O,k=g._toggleIcon,E=g._status,i=e.style,w=null,p=GR?20:4,x=k.comps[0],W=(I<=H||0===H?g._coverDiv&&(Fu(g._coverDiv),delete g._coverDiv):g._coverDiv||(g._coverDiv=hL(),_R&&(g._coverDiv.style.background=oq),JQ(e,g._coverDiv)),g._togglable?v.parentNode||(JQ(e,v),JQ(e,Z)):(Fu(v),Fu(Z)),g._coverDiv),D=g._leftView,K=g._rightView;ML(g)?(c<H&&(H=c),E===Ke?1===Q?(U=UR(Y,c),z=zR(0,c-H-U)):-1===Q?(z=UR(-Y,c),U=zR(0,c-H-z)):(U=kR((c-H)*Y),z=zR(0,c-H-U)):"cl"===E?z=zR(U=0,c-H):"cr"===E&&(U=zR(z=0,c-H)),D&&R(D,0,0,U,u),K&&R(K,U+H,0,z,u),R(e,U,0,H,u),g._22o=U,W&&(R(W,H/2-I/2,0,I,u),W.style.cursor=V?rq:""),e.style.cursor=V?rq:"",z=e.clientHeight/2,U=e.clientWidth,GL(v,U,U),R(v,0,z-U-p,U,U),w=IQ(v),eQ(w,0,0,1),x.rotation=-LR,qD(w,k,0,0,U,U),w.restore(),GL(Z,U,U),R(Z,0,z+p,U,U),w=IQ(Z),eQ(w,0,0,1),x.rotation=LR):(u<H&&(H=u),E===Ke?1===Q?(J=UR(Y,u),a=zR(0,u-H-J)):-1===Q?(a=UR(-Y,u),J=zR(0,u-H-a)):(J=kR((u-H)*Y),a=zR(0,u-H-J)):"cl"===E?a=zR(J=0,u-H):"cr"===E&&(J=zR(a=0,u-H)),D&&R(D,0,0,c,J),K&&R(K,0,J+H,c,a),R(e,0,J,c,H),g._22o=J,W&&(R(W,0,H/2-I/2,c,I),W.style.cursor=V?Gq:""),i.cursor=V?Gq:"",z=e.clientWidth/2,U=e.clientHeight,GL(v,U,U),R(v,z-U-p,0,U,U),w=IQ(v),eQ(w,0,0,1),x.rotation=0,qD(w,k,0,0,U,U),w.restore(),GL(Z,U,U),R(Z,z+p,0,U,U),w=IQ(Z),eQ(w,0,0,1),x.rotation=y),qD(w,k,0,0,U,U),w.restore(),i.background=M}}),function(J){this.sv=J,this.addListeners()}),P1=(Su(S1,pR,{ms_listener:1,getView:function(){return this.sv.getView()},handle_touchstart:function(J){var a=this.sv,z=a._dividerDiv,U=a._60O,g=a._61O,V=a._status,Y=J.target;Y===U?V===Ke?a.setStatus("cl"):"cr"===V&&a.setStatus(Ke):Y===g?V===Ke?a.setStatus("cr"):"cl"===V&&a.setStatus(Ke):!RQ(J)||Y!==z&&Y!==a._coverDiv||(Bm(J),a.isDraggable()&&(a.getLeftView(),a.getRightView(),(U=this.maskDiv=hL()).style.left=0,U.style.top=0,U.style.width=a.getWidth()+"px",U.style.height=a.getHeight()+"px",a.getView().appendChild(U),a.isContinuousLayout()||((g=this.resizeDiv=hL()).style.left=z.style.left,g.style.top=z.style.top,g.style.width=z.style.width,g.style.height=z.style.height,g.style.opacity=a.getDragOpacity(),g.style.background=a.getDividerBackground(),JQ(this.getView(),g)),this._lastAbsPosition=a._22o,this._86o=ML(a)?iu(J).x:iu(J).y,yu(this,J)))},handleWindowTouchMove:function(J){RQ(J)&&this.update(J,this.sv.isContinuousLayout())},handleWindowTouchEnd:function(J){this.update(J,!0),this.sv.setStatus(Ke),this.maskDiv&&Fu(this.maskDiv),this.resizeDiv&&Fu(this.resizeDiv),this.maskDiv=this.resizeDiv=WR},handle_mousedown:function(J){Iu(J)&&this.handle_touchstart(J)},handleWindowMouseMove:function(J){this.handleWindowTouchMove(J)},handleWindowMouseUp:function(J){this.handleWindowTouchEnd(J)},update:function(J,a){var z=this.sv,U=ML(z)?z.getWidth():z.getHeight(),g=z._dividerSize,V=this._lastAbsPosition-this._86o;ML(z)?((V=U-g<(V+=iu(J).x)?U-g:V)<0&&(V=0),this.resizeDiv&&(this.resizeDiv.style.left=V+ke)):((V=U-g<(V+=iu(J).y)?U-g:V)<0&&(V=0),this.resizeDiv&&(this.resizeDiv.style.top=V+ke)),a&&U!==g&&(1===z._82O?z.setPosition(V,1):-1===z._82O?z.setPosition(V-U+g,1):z.setPosition(V/(U-g),1))}}),O1.TabView=function(){var J=this,a=J._view=_L(1,J),z=J._91O=hL(1),U=J._tabModel=new hD,g=U.sm(),V=J.invalidate;J._7o=new h,J._canvas=BL(z),JQ(a,z),JQ(a,J._92O=hL(1)),g.setSelectionMode(ae),g.ms(J.handleSelectionChange,J),U.mm(V,J),U.mh(V,J),U.md(V,J),J._interactor=new P1(J),J.iv()},a("TabView",pR,{ms_v:1,ms_fire:1,ms_tx:1,ms_ty:1,ms_lp:1,ms_ac:["movable","tabGap","tabHeight","tabPosition",Ae,Ne,"tabHPadding","tabBackground","selectWidth",fR,"moveBackground","insertColor"],_tabHPadding:0,_tabPosition:ce,_tabHeight:lm,_tabGap:DR.tabViewTabGap,_labelColor:DR.tabViewLabelColor,_labelFont:DR.tabViewLabelFont,_tabBackground:DR.tabViewTabBackground,_selectWidth:DR.tabViewSelectWidth,_selectBackground:DR.tabViewSelectBackground,_moveBackground:DR.tabViewMoveBackground,_insertColor:DR.tabViewInsertColor,_movable:!0,handleSelectionChange:function(){this._selectionChanged=!0,this.invalidate()},getContentDiv:function(){return this._92O},getTitleDiv:function(){return this._91O},getTabModel:function(){return this._tabModel},add:function(J,a,z){var U,g=this._tabModel;return J instanceof n1?(U=J,a&&U.setView(a)):((U=new n1).setName(J),U.setView(a)),g.add(U),z&&g.sm().ss(U),U},getLabel:function(J){return J.toLabel()},onPropertyChanged:function(J){this.iv()},_7Q:function(J){this._23o=J,this.iv()},get:function(a){var z,U=this,J=U._tabModel;return vL(a)?J._roots.get(a):dR(a)?(J.each(function(J){a===U.getLabel(J)&&(z=J)}),z):a instanceof n1?a:WR},select:function(J){this._tabModel.sm().ss(this.get(J))},remove:function(J){var a;(J=this.get(J))&&(a=this._tabModel._roots.indexOf(J),this._tabModel.remove(J),this.selectByIndex(--a))},getCurrentTab:function(){return this._8o},hideTabView:function(J,a){a.parentNode===this._92O&&(DL(a)||KL(a)?(a.style.display=Ze,a._tab_=J):Fu(a),Fm())},showTabView:function(J,a){(DL(a)||KL(a))&&(a.style.display="block",a._tab_=J),a.parentNode!==this._92O&&(JQ(this._92O,a),Fm())},_24o:function(){var J,a=this._8o,z=this._9o,U=this._tabModel.sm().ld();(J=U?pQ(U.getView()):J)!==z&&(z&&(a.getView()&&a.getView().endEditing&&a.getView().endEditing(),this.hideTabView(a,z)),J&&this.showTabView(U,J)),this._8o=U,this._9o=J,a!==U&&this.onTabChanged(a,U)},onTabClosing:function(J){return!0},onTabChanged:function(J,a){},onTabClosed:function(J,a){this.selectByIndex(--a)},selectByIndex:function(J){var a=this._tabModel,z=a.size();if(z&&!a.sm().ld()){for(var U=J=(J=z<=(J=J==WR?0:J)?z-1:J)<0?0:J;0<=U;U--){var g=this.get(U);if(!g.isDisabled())return this.select(g),g}for(U=J+1;U<z;U++)if(!(g=this.get(U)).isDisabled())return this.select(g),g}},getTabWidth:function(J){var a=4+2*this.getTabHPadding(),z=s(J.getIcon());return z&&(a+=dD(z,J)+4),(z=this.getLabel(J))&&(a+=Mu(this.getLabelFont(J),z).width+4),J.isClosable()&&(a+=10),a},drawTab:function(J,a,z,U,g,V,Y){var c,u=this._tabPosition,H=z+4+(w=this.getTabHPadding()),M=this._selectWidth,I=s(a.getIcon()),e=a.isDisabled(),Q=this.getLabelColor(a),v=this.getLabelFont(a),Z=this.getLabel(a),k=this._selectBackground,E=u===Ve+"-vertical",i=u===Ye+"-vertical",w=((E||i)&&(H=U+4+w),e&&(J.globalAlpha=jm),YW(J,z,U,g,V,Y),a===this._8o&&M&&(u===ce?YW(J,z,U+V-M,g,M,k):u===Ve?YW(J,z+g-M,U,M,V,k):u===Ye?YW(J,z,U,M,V,k):E?YW(J,z+g-M,U,M,V,k):i?YW(J,z,U,M,V,k):YW(J,z,U,g,M,k)),g/2);return E&&(QQ(J,w,U+V/2),vQ(J,y),QQ(J,-w,-U-V/2)),I&&(Y=jD(I,a),u=dD(I,a),E||i?(QQ(J,M=z+g/2,k=H+Y/2),vQ(J,LR),QQ(J,-M,-k),rm(J,I,z+g/2,H+Y/2,a,this),QQ(J,M,k),vQ(J,-LR),QQ(J,-M,-k),H+=Y+4):(rm(J,I,H+u/2,U+V/2,a,this),H+=u+4)),E||i?(QQ(J,g/2,H+g/2),vQ(J,LR),QQ(J,-g/2,-H-g/2),Hu(J,Z,v,Q,z,H,V,g),QQ(J,g/2,H+g/2),vQ(J,-LR),QQ(J,-g/2,-H-g/2)):Hu(J,Z,v,Q,H,U,g,V),E&&(QQ(J,w,U+V/2),vQ(J,-y),QQ(J,-w,-U-V/2)),a.isClosable()&&this.drawCloseIcon(a,J,Q,c=i?{x:z+g-12,y:U+V-12,width:12,height:12}:{x:z+g-12,y:U+2,width:12,height:12}),e&&(J.globalAlpha=1),c},drawCloseIcon:function(J,a,z,U){var g=U.x,U=U.y;a.strokeStyle=z,a.lineWidth=1,a.beginPath(),a.moveTo(g+2,U+8),a.lineTo(g+8,U+2),a.moveTo(g+8,U+8),a.lineTo(g+2,U+2),a.stroke()},getTabAt:function(J){return(J=this._interactor._8Q(J))?J.tab:null},validateImpl:function(){var U=this,J=(U._24o(),U._canvas),a=U._tabPosition,z=U._91O,g=U._92O,V=U._tabModel,Y=U.getWidth(),c=U.getHeight(),u=U._tabHeight,H=U._7o,M=U._tabGap,I=a===ce,e=a===Ve,Q=a===Ye,v=a===Ve+"-vertical",a=a===Ye+"-vertical",Z=U._23o,k=0;if((e||Q)&&V._roots.each(function(J){k=zR(U.getTabWidth(J),k)}),I=I?(R(z,0,0,Y,u),{x:0,y:u,width:Y,height:zR(0,c-u)}):e?(R(z,0,0,k,c),{x:k,y:0,width:zR(0,Y-k),height:c}):Q?(R(z,Y-k,0,k,c),{x:0,y:0,width:zR(0,Y-k),height:c}):v?(R(z,0,0,u,c),{x:u,y:0,width:zR(0,Y-u),height:c}):a?(R(z,Y-u,0,u,c),{x:0,y:0,width:zR(0,Y-u),height:c}):(R(z,0,c-u,Y,u),{x:0,y:0,width:Y,height:zR(0,c-u)}),R(g,I),v||a){U._9o&&(I.x=0,R(U._8o.getView(),I)),GL(J,u,c);var E=IQ(J),i=0;if(eQ(E,0,U.ty(),1),E.clearRect(0,0,u,c),H.clear(),V._roots.each(function(J){var a,z;J.isVisible()&&(a=U.getTabWidth(J),Z&&Z.tab===J||(z=U.getTabBackground(J),z=U.drawTab(E,J,0,i,u,a,z)),H.add({_75o:z,tab:J,startY:i,endY:i+a,height:a}),i+=a+M)}),U._23Q=zR(0,i-M),Z&&(x=Z.position,U.drawTab(E,Z.tab,0,Z.startY,u,Z.height,U._moveBackground),YW(E,0,x,u,1,U._insertColor)),E.restore(),U._selectionChanged){U._selectionChanged=!1;for(var w=U.ty(),p=0;p<H.size();p++)if((D=H.get(p)).tab===U._8o){if(D.endY+w<0){U.ty(-D.startY);break}if(D.startY+w>c){U.ty(c-D.endY);break}}}U.ty(U.ty())}else if(e||Q){if(U._9o&&(I.x=0,R(U._8o.getView(),I)),GL(J,k,c),E=IQ(J),eQ(E,i=0,U.ty(),1),E.clearRect(0,0,k,c),H.clear(),V._roots.each(function(J){var a;J.isVisible()&&(Z&&Z.tab===J||(a=U.getTabBackground(J),a=U.drawTab(E,J,0,i,k,u,a)),H.add({_75o:a,tab:J,startY:i,endY:i+u,height:u}),i+=u+M)}),U._23Q=zR(0,i-M),Z&&(x=Z.position,U.drawTab(E,Z.tab,0,Z.startY,k,Z.height,U._moveBackground),YW(E,0,x,k,1,U._insertColor)),E.restore(),U._selectionChanged)for(U._selectionChanged=!1,w=U.ty(),p=0;p<H.size();p++)if((D=H.get(p)).tab===U._8o){if(D.endY+w<0){U.ty(-D.startY);break}if(D.startY+w>c){U.ty(c-D.endY);break}}U.ty(U.ty())}else{U._9o&&(I.y=0,R(U._8o.getView(),I)),GL(J,Y,u);var x,E=IQ(J),W=0;if(eQ(E,U.tx(),0,1),E.clearRect(0,0,Y,u),H.clear(),V._roots.each(function(J){var a,z;J.isVisible()&&(a=U.getTabWidth(J),Z&&Z.tab===J||(z=U.getTabBackground(J),z=U.drawTab(E,J,W,0,a,u,z)),H.add({_75o:z,tab:J,startX:W,endX:W+a,width:a}),W+=a+M)}),U._64I=zR(0,W-M),Z&&(x=Z.position,U.drawTab(E,Z.tab,Z.startX,0,Z.width,u,U._moveBackground),fL(E,U._insertColor,x,0,u)),E.restore(),U._selectionChanged){U._selectionChanged=!1;for(var D,K=U.tx(),p=0;p<H.size();p++)if((D=H.get(p)).tab===U._8o){if(D.endX+K<0){U.tx(-D.startX);break}if(D.startX+K>Y){U.tx(Y-D.endX);break}}}U.tx(U.tx())}for(var d=[],j=g.children,p=0;p<j.length;p++){var q=j[p],X=q._tab_;X&&!V.contains(X)&&d.push(q)}d.forEach(function(J){g.removeChild(J)})}}),function(J){this.tv=J,this.addListeners()}),$1=(Su(P1,pR,{ms_listener:1,getView:function(){return this.tv._91O},handle_mousewheel:function(J){this.handleScroll(J,J.wheelDelta/40*10)},handle_DOMMouseScroll:function(J){this.handleScroll(J,10*-J.detail)},handleScroll:function(J,a){Bm(J);var z=(J=this.tv)._tabPosition;!J._40o()||z!==ce&&z!==ue||J.tx(this.tv.tx()+a),!J._41o()||z!==Ve&&z!==Ye&&z!==Ve+"-vertical"&&z!==Ye+"-vertical"||J.ty(this.tv.ty()+a)},_8Q:function(J){var a,z=this.tv,U=z._tabPosition,g=z._7o;if(U===ce||U===ue){for(var V=z.lp(J).x,Y=0;Y<g.size();Y++)if((a=g.get(Y)).startX<=V&&V<=a.endX)return a}else if(U===Ve||U===Ye||U===Ve+"-vertical"||U===Ye+"-vertical")for(var c=z.lp(J).y,Y=0;Y<g.size();Y++)if((a=g.get(Y)).startY<=c&&c<=a.endY)return a;return WR},isClickable:function(J){var a=this.tv,z=a._tabPosition,J=this._73o=this._8Q(J);return!(!a._40o()||z!==ce&&z!==ue)||!(!a._41o()||z!==Ve&&z!==Ye&&z!==Ve+"-vertical"&&z!==Ye+"-vertical")||J&&(!J.tab.isDisabled()||a.isMovable())},handle_mousemove:function(J){KQ?this._74o=this._8Q(J):this.getView().style.cursor=this.isClickable(J)?JH:""},handle_mousedown:function(J){this.handle_mousemove(J),this.handle_touchstart(J)},handle_touchstart:function(J){var a=this.tv,z=a._tabPosition;Bm(J),Iu(J)&&this.isClickable(J)&&(z===ce||z===ue?(this.x=iu(J).x,this.lp=a.lp(J),this.tx=a.tx()):(this.y=iu(J).y,this.lp=a.lp(J),this.ty=a.ty()),yu(this,J))},handle_mouseup:function(J){this.handle_touchend(J)},handle_touchend:function(J){var a,z,U;eu(J)&&(J=this._73o)&&(a=this.tv,z=a.getTabModel(),!(U=J.tab).isDisabled()&&U.isClosable()&&a.onTabClosing(U,J=function(){var J=z._roots.indexOf(U);z.remove(U),a.onTabClosed(U,J)})&&J())},handleWindowMouseMove:function(J){this.handleWindowTouchMove(J)},handleWindowTouchMove:function(J){var U,g,V,Y,a=this,c=a.tv,z=c._tabPosition,u=a._73o;z===ce||z===ue?(g=iu(J).x-a.x,!a._25o&&!a.moving&&2<yR(g)&&(c._40o()&&!Eu(J)?a._25o=1:u&&c.isMovable()&&(a.moving=1)),a._25o?c.tx(a.tx+g):a.moving&&(U=a.lp.x+g,Y=c._tabGap/2,c._7o.each(function(J){var a=J.endX,z=U-J.startX<a-U;U>=J.startX&&U<=a&&c._7Q({tab:u.tab,startX:u.startX+g,width:u.width,front:z,insertTab:J.tab,position:z?zR(0,J.startX-Y):UR(c._64I,a+Y)})}))):(g=iu(J).y-a.y,!a._25o&&!a.moving&&2<yR(g)&&(c._41o()&&!Eu(J)?a._25o=1:u&&c.isMovable()&&(a.moving=1)),a._25o?c.ty(a.ty+g):a.moving&&(V=a.lp.y+g,Y=c._tabGap/2,c._7o.each(function(J){var a=J.endY,z=V-J.startY<a-V;V>=J.startY&&V<=a&&c._7Q({tab:u.tab,startY:u.startY+g,height:u.height,front:z,insertTab:J.tab,position:z?zR(0,J.startY-Y):UR(c._23Q,a+Y)})})))},handleWindowMouseUp:function(J){this.handleWindowTouchEnd(J)},handleWindowTouchEnd:function(J){var a,z,U,g,V=this,Y=V.tv,c=Y._tabPosition,u=Y.getTabModel(),H=u._roots,M=V._73o;V.moving?((U=Y._23o)&&U.insertTab!==U.tab&&(z=U.tab,g=H.remove(z),0<=(a=H.indexOf(U.insertTab))&&(U.front||a++,a<=H.size()&&(H.add(z,a),u._38I(z,g,a)))),Y._7Q(WR),delete V.moving):!V._25o&&M&&(z=M.tab,(U=V._74o)&&U.tab!==z||(!z.isDisabled()&&Du(M._75o,V.lp)?Y.onTabClosing(z,g=function(){var J=H.indexOf(z);u.remove(z),Y.onTabClosed(z,J)})&&g():z.isDisabled()||Y._8o===z||u.sm().ss(z))),V._25o=V._73o=V._74o=c===ce||c===ue?V.x=V.lp=V.tx=WR:V.y=V.lp=V.ty=WR}}),O1.PropertyView=function(J){var a=this,z=(a._view=_L(1,a),a._canvas=BL(a._view),JQ(a._view,a._79O=hL()),a._rows=new h,a._28o=new h,a._26o={},a._26Q={},a._propertyModel=new hD),U=a.ivm;z.mm(U,a),z.md(U,a),z.mh(U,a),a.dm(J||new hD),new $1(a)},a("PropertyView",pR,{ms_ac:[Ae,oe,Ne,pq,xq,"categorizable",Hq,wq,Zq,kq,Eq,cq,uq,Yq,"selectRowIndex",fR,"background",Mq,vq,eq,Qq,Iq],ms_v:1,ms_dm:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,_45o:1,_47o:1,ms_tip:1,_29I:rH,_59I:0,_9I:0,_selectRowIndex:-1,_editable:!0,_batchEditable:!0,_categorizable:!0,_indent:Pm,_background:DR.propertyViewBackground,_expandIcon:DR.propertyViewExpandIcon,_collapseIcon:DR.propertyViewCollapseIcon,_scrollBarColor:mW,_scrollBarSize:e,_autoHideScrollBar:Rm,_selectBackground:DR.propertyViewSelectBackground,_rowHeight:sW,_rowLineVisible:DR.propertyViewRowLineVisible,_rowLineColor:DR.propertyViewRowLineColor,_10I:.5,_columnLineVisible:DR.propertyViewColumnLineVisible,_columnLineColor:DR.propertyViewColumnLineColor,_labelColor:DR.propertyViewLabelColor,_labelSelectColor:DR.propertyViewLabelSelectColor,_labelFont:DR.propertyViewLabelFont,getRows:function(){return this._rows},getColumnPosition:function(){return this._10I},setColumnPosition:function(J){var a=this._10I;this._10I=J=1<(J=J<0?0:J)?1:J,this.fp("columnPosition",a,J)},getPropertyName:function(J){return J.toLabel()},getLabelFont:function(J,a,z){return this._labelFont},getLabelColor:function(J,a,z){return z===this._selectRowIndex?this._labelSelectColor:this._labelColor},getPropertyFont:function(J,a){return this._labelFont},getPropertyColor:function(J,a){return a===this._selectRowIndex?this._labelSelectColor:J.getColor()||this._labelColor},getCategoryFont:function(J){return this._labelFont},getCategoryColor:function(J){return this._labelColor},adjustTranslateX:function(J){return 0},adjustTranslateY:function(J){var a=this.getHeight()-this._59I;return 0<(J=J<a?a:J)?0:kR(J)},isExpanded:function(J){if(!J)return!0;var a=this._26o[J];return a?a.isExpanded:!(!1===this._26Q[J])},toggle:function(J){this.isExpanded(J)?this.collapse(J):this.expand(J)},expandAll:function(){for(var J in this.validate(),this._26o)this.expand(J)},expand:function(J){var a;J&&J!==Ze&&(a=this._26o[J])&&!a.isExpanded&&(a.isExpanded=!0,this.onExpanded(J),this.ivm())},onExpanded:function(J){},collapseAll:function(){for(var J in this.validate(),this._26o)this.collapse(J)},collapse:function(J){var a;J&&J!==Ze&&(a=this._26o[J])&&a.isExpanded&&(a.isExpanded=!1,this.onCollapsed(J),this.ivm())},onCollapsed:function(J){},getCategoryName:function(J){return this.isCategorizable()&&(J=J.getCategoryName())||Ze},getPropertyModel:function(){return this._propertyModel},handleSelectionChange:function(){this.ivm()},setDataModel:function(J){var a=this,z=a._dataModel;z!==J&&(z&&(z.umd(a.handlePropertyChange,a),a._selectionModel||z.sm().ums(a.handleSelectionChange,a)),(a._dataModel=J).md(a.handlePropertyChange,a),a._selectionModel?a._selectionModel._21I(J):J.sm().ms(a.handleSelectionChange,a),a.fp(Cq,z,J))},isVisible:function(J){return!this._visibleFunc||this._visibleFunc(J)},onPropertyChanged:function(J){J=J.property,X1[J]?this.ivm():this.iv(),J===Rq&&this._43o()},getCurrentData:function(){return this._27o},updateCurrentData:function(){this._27o=this.sm().ld()},getRawProperties:function(){return this._27o?this._propertyModel._roots:oD},handlePropertyChange:function(J){this._27o===J.data&&this.iv()},ivm:function(){this.invalidateModel()},invalidateModel:function(){this._96I||(this.setSelectRowIndex(-1),this._96I=1,this.iv())},redraw:function(){this.iv()},validateModel:function(){var J,U=this,g=U._rows,a=U._28o,V={},Y=new h,z=U._27o;for(J in U.updateCurrentData(),z!==U._27o&&U.endEditing(),g.clear(),a.clear(),U.getRawProperties().each(function(J){U.isVisible(J)&&(Y.add(J),J=U.getCategoryName(J),V[J]||(a.add(J,J===Ze?0:xR),V[J]={isExpanded:U.isExpanded(J),properties:new h}))}),U._sortFunc&&Y.sort(U._sortFunc),U._26o)U._26Q[J]=U.isExpanded(J);U._26o=V,a.each(function(a){a!==Ze&&g.add(a);var z=V[a];z.isExpanded&&Y.each(function(J){U.getCategoryName(J)===a&&(z.properties.add(J),g.add({property:J,data:U._27o}))},U)})},validateImpl:function(){var J=this,a=(J._76o(),J._96I&&(J.validateModel(),delete J._96I),J._canvas),z=J.getWidth(),U=J.getHeight(),g=-J.ty(),V=J._rowHeight,Y=J._indent,c=z-Y,u=J._rows,H=u.size(),M=J._9I=Y+c*J._10I,I=J._59I=H*V,e=(GL(a,z,U),J._29I={x:0,y:g,width:z,height:U},J._31I=ER(g/V),J._14I=iR((g+U)/V),J._31I<0&&(J._31I=0),J._14I>H&&(J._14I=H),IQ(a)),Q=J._background;eQ(e,0,-g,1),e.beginPath(),e.rect(0,g,z,U),e.clip(),e.clearRect(0,g,z,U),J._93db(e),Q&&YW(e,0,0,Y,I,Q);for(var v=J._31I;v<J._14I;v++){var Z,k,E,i,w=u.get(v),g=V*v;dR(w)?(Q&&YW(e,Y,g,c,V,Q),(k=s(J.isExpanded(w)?J._expandIcon:J._collapseIcon))&&Gm(e,k,Nq,0,g,Y,V),e.save(),e.beginPath(),e.rect(Y,g,c,V),e.clip(),J.drawCategoryName(e,w,v,Y,g,c,V),e.restore()):(Z=w.property,w=w.data,k=s(Z.getIcon()),E=J._selectRowIndex===v?J.getSelectBackground():WR,k&&Gm(e,k,Nq,0,g,Y,V),E&&YW(e,Y,g,c,V,E),e.save(),e.beginPath(),e.rect(Y,g,M-Y,V),e.clip(),J.drawPropertyName(e,Z,v,Y,g,M-Y,V),e.restore(),J.isEditing(w,Z)||(E=M+1,i=z-M-1,e.save(),e.beginPath(),e.rect(E,g,i,V),e.clip(),J._87o(J.drawPropertyValue(e,Z,J.getValue(w,Z),v,E,g,i,V,w),v,E,g,i,V),e.restore())),J._rowLineVisible&&YW(e,Y,g+V-1,c,1,J._rowLineColor)}J._columnLineVisible&&(YW(e,M,0,1,I,J._columnLineColor),YW(e,z-1,0,1,I)),J._92db(e),J._93I(),e.restore(),J.ty(J.ty())},drawCategoryName:function(J,a,z,U,g,V,Y){Hu(J,a,this.getCategoryFont(a),this.getCategoryColor(a),U,g,V,Y)},drawPropertyName:function(J,a,z,U,g,V,Y){a.drawPropertyName?a.drawPropertyName(J,a,z,U,g,V,Y,this):Hu(J,this.getPropertyName(a),this.getPropertyFont(a,z),this.getPropertyColor(a,z),U,g,V,Y)},drawPropertyValue:function(J,a,z,U,g,V,Y,c,u){if(a.drawPropertyValue)return a.drawPropertyValue(J,a,z,U,g,V,Y,c,u,this);C1(J,z,a,this.getLabelFont(a,z,U),this.getLabelColor(a,z,U),g,V,Y,c,u,this)},isPropertyEditable:function(J,a){return J.isEditable()&&this.isEditable()},setProperties:function(J){this._propertyModel.clear(),this.addProperties(J)},addProperties:function(J){var z;J&&(z=this._propertyModel,J.forEach(function(J){var a;J instanceof b1||(a=Vu(J.className),J=hm(a||b1,J)),z.add(J)}))},getRowIndexAt:function(J){return 0<=(J=ER(this.lp(J).y/this._rowHeight))&&J<this._rows.size()?J:-1},getPropertyAt:function(J){return 0<=(J=this.getRowIndexAt(J))?this._rows.get(J).property:WR},getToolTip:function(J){var a=this.getPropertyAt(J),z=this._27o;return a&&z?a.getToolTip(z,this._9I<this.lp(J).x,this):WR}}),function(J){this.pv=J,this.addListeners()}),l1=(Su($1,pR,{ms_listener:1,getView:function(){return this.pv._view},setCursor:function(J){this.getView().style.cursor=J},clear:function(){this._62O=this.cp=this.ty=this.p=WR,this.setCursor(Je)},handle_mousedown:function(J){this.handle_touchstart(J)},handle_touchstart:function(J){var a=this.pv;Bm(J),a.setFocus(J)&&(Iu(J)?(this.cp=iu(J),this.ty=a.ty(),this.p=a.getColumnPosition(),this.handle_touchmove(J)):a.setSelectRowIndex(a.getRowIndexAt(J)))},handleWindowMouseUp:function(J){this.clear()},handleWindowTouchEnd:function(J){this.clear()},handle_mouseup:function(J){this.handle_touchend(J)},handle_touchend:function(J){var a,z,U,g,V,Y,c,u,H,M;this.cp&&!this._62O&&(H=(u=(a=this.pv).lp(J)).x,u=u.y,c=a._indent,z=a.getRowIndexAt(J),U=a._9I,0<=z&&(M=(g=a._rowHeight)*z,Y=(V=a._rows.get(z)).property,dR(V)?(s(a.isExpanded(V)?a._expandIcon:a._collapseIcon)&&0<=H&&H<=c&&M<=u&&u<=M+g||Zu(J))&&a.toggle(V):U<H&&a.isPropertyEditable(Y,J)&&(u={x:(c={x:U+1,y:M,width:a.getWidth()-U-1,height:g}).x+a.tx(),y:c.y+a.ty(),width:c.width,height:c.height},H=0,M=a._29I,c.y<M.y?H=c.y-M.y:c.y+g>M.y+M.height&&(H=c.y+g-M.y-M.height),H&&(a.ty(a.ty()-H),u.y-=H),a.beginEditing({data:V.data,property:Y,value:a.getValue(V.data,Y),event:J,rect:c,editorRect:u,view:a}))),a.setSelectRowIndex(z)),this.clear()},handleWindowMouseMove:function(J){this.handleWindowTouchMove(J)},handleWindowTouchMove:function(J){var a,z,U=this.pv,g=this.ty,V=this.cp,J=iu(J),Y=this._62O;"p"===Y?U.setTranslateY(g+J.y-V.y):"c"===Y?16<(z=U.getWidth()-U._indent)&&(a=this.p-(V.x-J.x)/z,U.setColumnPosition(a=1-(z=16/z)<(a=a<z?z:a)?1-z:a)):"s"===Y&&U.setTranslateY(g+(V.y-J.y)*U._59I/U._29I.height)},handle_mousemove:function(J){this.handle_touchmove(J)},handle_touchmove:function(J){var a,z,U;!KQ&&Iu(J)&&(z=(a=this).pv,U=yR(z.lp(J).x-z._9I)<=(GR?8:3),a.cp?a._62O||(U?(a._62O="c",yu(a,J)):2<=yR(iu(J).y-a.cp.y)&&(a._62O=a.isV(J)?"s":"p",yu(a,J))):(U?a.setCursor(rq):a.setCursor(Je),a.isV(J)&&z._43o()))},isV:function(J){var a=this.pv,z=a._29I;return a._41o()&&z.x+z.width-a.lp(J).x<Nm},handle_mousewheel:function(J){this.handleScroll(J,J.wheelDelta/40)},handle_DOMMouseScroll:function(J){2===J.axis&&this.handleScroll(J,-J.detail)},handleScroll:function(J,a){var z=this.pv;Bm(J),z.endEditing(),z.translate(0,a*z.getRowHeight())},handle_keydown:function(J){var a=this.pv,z=a._rows.size(),U=a._selectRowIndex+(PQ(J)?-1:1);(PQ(J)||lQ(J))&&a.setSelectRowIndex(U=z<=(U=U<0?0:U)?z-1:U)}}),O1.ListView=function(J){this._5o(J),new l1(this)},a("ListView",pR,{ms_ac:[Ae,oe,Ne,Mq,Hq,vq,eq,wq,Zq,cq,uq,Yq,Vq,fR],ms_v:1,ms_bnb:1,ms_tip:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,_14Q:1,ms_dm:1,_45o:1,_checkMode:!1,_indent:Pm,_rowHeight:sW,_rowLineVisible:DR.listViewRowLineVisible,_rowLineColor:DR.listViewRowLineColor,_scrollBarColor:mW,_scrollBarSize:e,_autoMakeVisible:BW,_autoHideScrollBar:Rm,_selectBackground:DR.listViewSelectBackground,_labelColor:DR.listViewLabelColor,_labelSelectColor:DR.listViewLabelSelectColor,_labelFont:DR.listViewLabelFont,isCheckMode:function(){return this._checkMode},setCheckMode:function(J){var a=this._checkMode;this._checkMode=J,this.fp(iq,a,J)},drawRow:function(J,a,z,U,g,V,Y){var c=0,u=this._indent,H=this.getIconWidth(a);this.drawRowBackground(J,a,z,U,g,V,Y),this._checkMode&&(rm(J,s(this.getCheckIcon(a)),c+u/2,g+Y/2,a,this),c+=u),this.drawIcon(J,a,c,g,H,Y),this.drawLabel(J,a,c+H,g,Y)}}),function(J){this.list=J,this.addListeners()}),T1=(Su(l1,pR,{ms_listener:1,getView:function(){return this.list._view},clear:function(J){var a=this,z=a.list;J&&"d"===a._62O&&!a.dragCancel&&z.handleDragAndDrop(J,"end"),z.draggingData&&(z.draggingData=null,z.redraw()),a.dragCancel=a._62O=a._isV=a._isH=a.cp=a.tx=a.ty=WR},handle_mousedown:function(J){this.handle_touchstart(J)},handle_touchstart:function(J){var a,z=this.list;Bm(J),z.setFocus(J)&&(a=z.getDataAt(J),this.cp=iu(J),this.tx=z.tx(),this.ty=z.ty(),Iu(J)?a&&z.handleDragAndDrop&&!this.isV(J)&&!this.isH(J)&&z.isDraggable(a)&&(z.draggingData=a,z.redraw(),z.handleDragAndDrop(J,"prepare")):(a?this._33o(J,a):this._cancelDataDoubleSelect(),this.clear(J)))},handleWindowMouseUp:function(J){this.clear(J)},handleWindowTouchEnd:function(J){this.clear(J)},handle_mouseup:function(J){this.handle_touchend(J)},handle_touchend:function(J){var a,z=this.list;this._isV||this._isH||!this.cp||this._62O||((a=z.getDataAt(J))?(z.isCheckMode()?this._34o(J,a):this._33o(J,a),Zu(J)?z.onDataDoubleClicked(a,J):z.onDataClicked(a,J)):(this._cancelDataDoubleSelect(),z.handleBackgroundClick(J))),this.clear(J)},handleWindowMouseMove:function(J){this.handleWindowTouchMove(J)},handleWindowTouchMove:function(J){var a=this.list,z=this._62O,U=this.tx,g=this.ty,V=this.cp,Y=iu(J),c=a._29I;"p"===z?a.setTranslate(U+Y.x-V.x,g+Y.y-V.y):"v"===z?a.ty(g+(V.y-Y.y)*a._59I/c.height):"h"===z?a.tx(U+(V.x-Y.x)*a._91I/c.width):"d"!==z||this.dragCancel||a.handleDragAndDrop(J,"between")},handle_mousemove:function(J){this.handle_touchmove(J)},handle_touchmove:function(J){var a,z;!KQ&&Iu(J)&&(z=(a=this).list,a._isV=a.isV(J),a._isH=a.isH(J),a.cp?a._62O||pu(iu(J),a.cp)<2||(a._isV?a._62O="v":a._isH?a._62O="h":z.draggingData&&!this.dragCancel?(a._62O="d",z.handleDragAndDrop(J,"begin")):a._62O="p",a._62O&&"d"!==a._62O&&z.draggingData&&(z.draggingData=null,z.redraw()),yu(a,J)):(a._isV&&z._43o(),a._isH&&z._42o()))},isV:function(J){var a=this.list,z=a._29I;return a._41o()&&z.x+z.width-a.lp(J).x<Nm},isH:function(J){var a=this.list,z=a._29I;return a._40o()&&z.y+z.height-a.lp(J).y<Nm},handle_mousewheel:function(J){this.handleScroll(J,J.wheelDelta/40,J.wheelDelta!==J.wheelDeltaX)},handle_DOMMouseScroll:function(J){this.handleScroll(J,-J.detail,1)},handleScroll:function(J,a,z){var U=this.list;Bm(J),U.endEditing&&U.endEditing(),z&&U._41o()?U.translate(0,a*U.getRowHeight()):U._40o()&&U.translate(10*a,0)},handle_keydown:function(J){var a,z,U,g,V,Y,c;DR.isInput(J.target)||(z=(a=this.list).sm(),g=(U=a._rows).size(),yQ(J)?a.selectAll():FQ(J)?a.handleDelete&&a.handleDelete(J):NQ(J)?"d"!==this._62O||this.dragCancel||(a.handleDragAndDrop(J,"cancel"),this.dragCancel=!0):TQ(J)?a.isCheckMode()&&(c=a.getFocusData())&&a.checkData(c):(PQ(J)||lQ(J))&&((c=(V=a.isCheckMode())?a.getFocusData():z.ld())?0<=(Y=a.getRowIndex(c))&&(PQ(J)?0!==Y&&(c=U.get(Y-1),V?a.setFocusData(c):z.ss(c)):Y!==g-1&&(c=U.get(Y+1),V?a.setFocusData(c):z.ss(c))):0<g&&(c=U.get(0),V?a.setFocusData(c):z.ss(c))))},_34o:function(J,a){var z=this.list;0<=(J=z.lp(J).x)&&J<=z._indent?z.checkData(a):z.setFocusData(a)},_33o:function(J,a){var z=this.list,U=z.dm(),g=z.sm(),V=g.ld();if(z.canHandleSelectMode(J,a)){if(U.beginTransaction(),Eu(J))z.isSelected(a)?g.rs(a):g.as(a);else if(ku(J))if(V)for(var Y=z.getRowIndex(V),c=z.getRowIndex(a);Y!==c;)g.as(z._rows.get(Y+=Y<c?1:-1));else g.ss(a);else Iu(J)?(g.contains(a)?z.handleDataDoubleSelect&&(this._handleDataDoubleSelect(J,a),Zu(J)&&this._cancelDataDoubleSelect()):this._cancelDataDoubleSelect(),g.ss(a)):g.contains(a)||g.ss(a);U.endTransaction()}else this._cancelDataDoubleSelect()},_handleDataDoubleSelect:function(J,a){this._cancelDataDoubleSelect(),this._doubleSelectTimer=AR(function(){this.list.handleDataDoubleSelect(J,a),this._doubleSelectTimer=xR}.bind(this),DR.doubleClickSpeed)},_cancelDataDoubleSelect:function(){this._doubleSelectTimer&&(oR(this._doubleSelectTimer),this._doubleSelectTimer=xR)}}),O1.TreeView=function(J){this._35o(),this._5o(J),new T1(this)},a("TreeView",pR,{ms_ac:[Ae,oe,Ne,"rootVisible",iq,"rootData",wq,Zq,cq,uq,Yq,Hq,Mq,vq,eq,kq,Eq,Vq,fR,"loader","doubleClickToToggle"],ms_v:1,ms_bnb:1,ms_tip:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,ms_dm:1,_48o:1,_14Q:1,_45o:1,_checkMode:WR,_indent:Pm,_rowHeight:sW,_rowLineVisible:DR.treeViewRowLineVisible,_rowLineColor:DR.treeViewRowLineColor,_scrollBarColor:mW,_scrollBarSize:e,_autoHideScrollBar:Rm,_expandIcon:DR.treeViewExpandIcon,_collapseIcon:DR.treeViewCollapseIcon,_autoMakeVisible:BW,_selectBackground:DR.treeViewSelectBackground,_labelColor:DR.treeViewLabelColor,_labelSelectColor:DR.treeViewLabelSelectColor,_labelFont:DR.treeViewLabelFont,_doubleClickToToggle:DR.treeViewDoubleClickToToggle,drawRow:function(J,a,z,U,g,V,Y){this.drawRowBackground(J,a,z,U,g,V,Y),this.drawTree(J,a,z,0,g,V,Y)},isOnToggleIcon:function(J){var a=this.getDataAt(J);if(a){var z=this.getIndent(),J=this.lp(J).x;if(s(this.getToggleIcon(a))&&(a=z*this.getLevel(a))<=J&&J<=a+z)return!0}return!1}}),function(J){yL(T1,this,[J])}),f1=(Su(T1,l1,{toggle:function(J,a,z,U){var g=this.list,V=g.lp(J).x;return s(g.getToggleIcon(a))&&(U*=z)<=V&&V<=U+z?(g.toggle(a),!0):!(!g.isDoubleClickToToggle()||!Zu(J)||(g.toggle(a),0))},_34o:function(J,a){var z=this.list,U=z.lp(J).x,g=z._levelMap[a._id],V=z._indent,Y=V*(g+1);Y<=U&&U<=Y+V?z.checkData(a):this.toggle(J,a,V,g)||z.setFocusData(a)},_33o:function(J,a){var z=this.list;if(!this.toggle(J,a,z._indent,z.getLevel(a)))if(ku(J)){var U=z.dm(),g=(U.beginTransaction(),z.sm());if(0<g.size()){for(var V=z._rows,Y=null,c=0,u=V.size();c<u;c++)if(z.isSelected(V.get(c))){Y=c;break}for(var H=null,c=V.size()-1;0<=c;c--)if(z.isSelected(V.get(c))){H=c;break}for(var M,I=z.getRowIndex(a),e=I<Y?(M=I-1,Y):H<I?(M=H,I):(M=Y,H);M!==e;)g.as(z._rows.get(++M))}else g.ss(a);U.endTransaction()}else T1.superClass._33o.call(this,J,a)},handle_keydown:function(J){var a,z,U,g,V;SQ(J)||$Q(J)?(z=(a=this.list)._rows,U=a.isCheckMode(),g=a.sm(),(V=U?a.getFocusData():g.ld())?V.hasChildren()&&(SQ(J)?a.collapse(V):a.expand(V)):0<z.size()&&(V=z.get(0),U?a.setFocusData(V):g.ss(V))):T1.superClass.handle_keydown.call(this,J)}}),O1.TableView=function(J){this._98I(),this._5o(J),new N1(this)}),N1=(a("TableView",pR,{ms_ac:[Ae,oe,Ne,"sortMode",pq,xq,Mq,vq,eq,Qq,Iq,"sortColumn",wq,Zq,cq,uq,Yq,Vq,fR],ms_v:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,ms_dm:1,ms_tip:1,_50o:1,_45o:1,_47o:1,_sortMode:Wq,_editable:!0,_batchEditable:!1,_rowHeight:sW,_rowLineVisible:DR.tableViewRowLineVisible,_rowLineColor:DR.tableViewRowLineColor,_columnLineVisible:DR.tableViewColumnLineVisible,_columnLineColor:DR.tableViewColumnLineColor,_scrollBarColor:mW,_scrollBarSize:e,_autoHideScrollBar:Rm,_autoMakeVisible:BW,_selectBackground:DR.tableViewSelectBackground,_labelColor:DR.tableViewLabelColor,_labelSelectColor:DR.tableViewLabelSelectColor,_labelFont:DR.tableViewLabelFont,getCheckColumn:function(){var J;return this._31o||((J=this._31o=new L1).setEditable(!0),J.setWidth(40),J.getValue=this.getCheckColumValue,J.drawCell=this.drawCheckColumnCell),this._31o},isCheckMode:function(){return this._39o.contains(this._31o)},setCheckMode:function(J){var a=this._39o,z=this.getCheckColumn();J!==this.isCheckMode()&&(J?a.add(z,0):a.remove(z),this.fp(iq,!J,J))},getCheckColumValue:function(J,a,z){return z.isSelected(J)},drawCheckColumnCell:function(J,a,z,U,g,V,Y,c,u){rm(J,u.getCheckIcon(a),g+Y/2,V+c/2,a,u)}}),function(J){yL(N1,this,[J])}),A1=(Su(N1,l1,{_34o:function(J,a){var z=this.list,U=z._31o;if(z.isCellEditable(a,U,J)){var g=z._3Q(U),V=z.lp(J).x;if(g&&V>=g.startX&&V<g.startX+U.getWidth())return void z.checkData(a)}z._37O(a,J),z.setFocusData(a)},_33o:function(J,a){this.list._37O(a,J),N1.superClass._33o.apply(this,arguments)}}),O1.TreeTableView=function(J){var a=this._4o=new L1;this._35o(),this._98I(),this._5o(J),a.setDisplayName("Name"),a.setEditable(!0),a.setWidth(180),a.drawCell=o1,a.getValue=s1,this._39o.add(a),new m1(this)}),o1=function(J,a,z,U,g,V,Y,c,u){u.drawTree(J,a,z,g,V,Y,c)},s1=function(J,a,z){return z.getLabel(J)},m1=(a("TreeTableView",pR,{ms_ac:[Ae,oe,Ne,"sortMode",pq,xq,Hq,iq,"rootData","rootVisible",wq,Zq,"sortColumn",kq,Eq,cq,uq,Yq,Vq,eq,Mq,vq,Qq,Iq,fR,"loader"],ms_v:1,ms_bnb:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,ms_dm:1,ms_tip:1,_50o:1,_48o:1,_14Q:1,_45o:1,_47o:1,_sortMode:Wq,_checkMode:WR,_editable:!0,_batchEditable:!1,_indent:Pm,_rowHeight:sW,_rowLineVisible:DR.treeTableViewRowLineVisible,_rowLineColor:DR.treeTableViewRowLineColor,_columnLineVisible:DR.treeTableViewColumnLineVisible,_columnLineColor:DR.treeTableViewColumnLineColor,_expandIcon:DR.treeTableViewExpandIcon,_collapseIcon:DR.treeTableViewCollapseIcon,_scrollBarColor:mW,_scrollBarSize:e,_autoHideScrollBar:Rm,_autoMakeVisible:BW,_selectBackground:DR.treeTableViewSelectBackground,_labelColor:DR.treeTableViewLabelColor,_labelSelectColor:DR.treeTableViewLabelSelectColor,_labelFont:DR.treeTableViewLabelFont,getTreeColumn:function(){return this._4o}}),function(J){yL(m1,this,[J])}),_1=(Su(m1,l1,{_34o:function(J,a){var z=this.list,U=z._4o,g=z._3Q(U),V=z.lp(J).x;if(g){var Y=z._indent,g=g.startX+Y*z.getLevel(a);if(s(z.getToggleIcon(a))&&g<=V&&V<=g+Y)return void z.toggle(a);if(z.isCellEditable(a,U)&&(g+=Y)<=V&&V<=g+Y)return void z.checkData(a)}z._37O(a,J),z.setFocusData(a)},_33o:function(J,a){var z=this.list,U=z.lp(J).x;if(s(z.getToggleIcon(a))&&(g=z._3Q(z._4o))){var g,V=z._indent;if((g=g.startX+V*z.getLevel(a))<=U&&U<=g+V)return void z.toggle(a)}z._37O(a,J),m1.superClass._33o.apply(this,arguments)}}),O1.TableHeader=function(J){var a=this,z=a._view=_L(1,a),U=a._39o=J.getColumnModel(),g=a.iv;a.tv=a._tableView=J,a._60I=new h,a._canvas=BL(z),z.style.background=DR.tableHeaderBackground||"",z.style.height=$m+ke,U.mm(g,a),U.md(g,a),U.mh(g,a),J.mp(function(J){K1[J.property]&&a.iv()},a),new h1(a),a.iv()}),h1=(a("TableHeader",pR,{ms_v:1,ms_lp:1,ms_fire:1,ms_ac:["checkIcon","sortDescIcon","sortAscIcon",Ae,Ne,Hq,"moveBackground","insertColor",Qq,Iq,"resizable","movable"],_checkIcon:ye,_movable:!0,_resizable:!0,_labelColor:DR.tableHeaderLabelColor,_labelFont:DR.tableHeaderLabelFont,_columnLineColor:DR.tableHeaderColumnLineColor,_columnLineVisible:DR.tableHeaderColumnLineVisible,_sortDescIcon:DR.tableHeaderSortDescIcon,_sortAscIcon:DR.tableHeaderSortAscIcon,_moveBackground:DR.tableHeaderMoveBackground,_insertColor:DR.tableHeaderInsertColor,_indent:Pm,getCheckIcon:function(){return this._checkIcon},getTableView:function(){return this.tv},getLabel:function(J){return J.toLabel()},getLabelFont:function(J){return this._labelFont},getLabelColor:function(J){return J.getColor()||this._labelColor},getLabelAlign:function(J){return J._align},onPropertyChanged:function(J){this.iv()},_5Q:function(J){this._61I=J,this.iv()},getLogicalPoint:function(J){return Ru(J,this._canvas,this.tv.tx())},validateImpl:function(){var J,U=this,a=U._canvas,z=U.getWidth(),g=U.getHeight(),V=U.tv,Y=U._60I,c=U._61I,u=-V.tx(),H=0,M=(z===a.clientWidth&&g===a.clientHeight||GL(a,z,g),Y.clear(),U._39o._roots.each(function(J){var a;J.isVisible()&&(a=H+J.getWidth(),H<=u+z&&u<=a&&Y.add({column:J,startX:H}),H=a)}),IQ(a));eQ(M,-u,0,1),M.beginPath(),M.rect(u,0,z,g),M.clip(),M.clearRect(u,0,z,g),Y.each(function(J){var a=J.column,J=J.startX,z=a.getWidth();0<z&&(M.save(),M.beginPath(),M.rect(J,0,z,g),M.clip(),c&&c.column===a||U.drawColumn(M,a,J,0,z,g),U._columnLineVisible&&YW(M,J+z-1,0,1,g,U._columnLineColor),M.restore())}),c&&(V=c.column,H=c.startX,a=c.position,J=V.getWidth(),M.save(),M.beginPath(),M.rect(H,0,J,g),M.clip(),M.fillStyle=U._moveBackground,M.fill(),U.drawColumn(M,V,H,0,J,g),M.restore(),fL(M,U._insertColor,a,0,g)),M.restore()},_6Q:function(J){var a=this.tv;return a._31o===J&&a.sm().getSelectionMode()===ze},drawColumn:function(J,a,z,U,g,V){var Y,c,u,H,M,I=this,e=I.tv,Q=s(a.getIcon()),v=I.getLabelAlign(a);I._6Q(a)?(M=s(I._checkIcon),rm(J,M,z+g/2,U+V/2,a,I)):(M=I.getLabel(a),Y=I.getLabelFont(a),c=I.getLabelColor(a),u=Mu(Y,M).width,H=Q?I._indent:0,v===Ve?(Q&&Gm(J,Q,Nq,z,U,H,V),Hu(J,M,Y,c,z+H,U,g,V,Ve)):v===Ye?(Q&&Gm(J,Q,Nq,z+g-u-H,U,H,V),Hu(J,M,Y,c,z,U,g,V,Ye)):(Q&&Gm(J,Q,Nq,z+(g-u-H)/2,U,H,V),Hu(J,M,Y,c,z+(g-u+H)/2,U,0,V,Ve))),a.isSortable()&&e.getSortColumn()===a&&(Q=s(a.getSortOrder()===Dq?I._sortAscIcon:I._sortDescIcon))&&(M=dD(Q,a)/2+2,rm(J,Q,v===Ye?z+M:z+g-M,U+V/2,a,e))},isColumnMovable:function(J){return!0},canColumnInsertBefore:function(J){return!0}}),function(J){this.th=J,this.tv=J._tableView,this.addListeners()}),B1=(Su(h1,pR,{ms_listener:1,getView:function(){return this.th.getView()},setCursor:function(J){this.getView().style.cursor=J},handle_mousemove:function(J){if(!KQ){delete this._29o,this.setCursor(Je);for(var a=this.th,z=a._60I,U=a.lp(J).x,g=z.size()-1;0<=g;g--){var V=z.get(g),Y=V.column,c=V.startX+Y.getWidth();if(a.isResizable()&&yR(c-U)<=(GR?10:3))return this._29o=V,void this.setCursor(rq);U>V.startX&&U<c&&(this._29o=V),(Y.isClickable()||Y.isSortable()||a.isMovable()&&a.isColumnMovable(Y)||this.tv.getCheckColumn&&Y===this.tv.getCheckColumn())&&U>V.startX&&U<c&&this.setCursor(JH)}}},handle_mousedown:function(J){this.handle_touchstart(J)},handle_touchstart:function(J){Bm(J),this.tv.endEditing(),this.handle_mousemove(J),this._29o&&(this.x=iu(J).x,this.lx=this.th.lp(J).x,this.w=this._29o.column.getWidth(),yu(this,J))},handleWindowMouseMove:function(J){this.handleWindowTouchMove(J)},handleWindowTouchMove:function(J){var U,a=this,g=a.th,z=a.getView().style.cursor,V=a._29o,Y=iu(J).x-a.x;a.resizing||a.moving||(z===rq?a.resizing=1:g.isMovable()&&z===JH&&2<yR(Y)&&(a.moving=1)),a.resizing?V.column.setWidth(a.w+Y):a.moving&&(U=a.lx+Y,g._60I.each(function(J){var a=J.startX,z=a+J.column.getWidth();a<=U&&U<=z&&((J={column:V.column,startX:V.startX+Y,front:g.canColumnInsertBefore(J.column)&&U-a<z-U,insertColumn:J.column}).front?J.position=a:J.position=z,g._5Q(J))}))},_16Q:function(J,a){var z=this.tv,U=this.th,g=U._checkIcon;if(U._6Q(J)){var V=s(g),Y=this.lx,c=J.getWidth();if(a+c/2-(V=dD(V,J))<=Y&&Y<=a+c/2+V)return U.setCheckIcon(g===Ce?ye:Ce),Y=z.sm(),a=z._rows,g===Ce?Y.rs(a):Y.ss(a),z.onCheckColumnClicked(J),!0}return!1},handleWindowMouseUp:function(J){this.handleWindowTouchEnd(J)},handleWindowTouchEnd:function(J){var a,z,U,g,V,Y=this,c=Y.tv,u=Y.th,H=Y._29o;Y.moving?((z=u._61I)&&z.insertColumn!==z.column&&(a=z.column,g=(U=c.getColumnModel()._roots).remove(a),0<=(V=U.indexOf(z.insertColumn))&&(z.front||V++,V<=U.size()&&(U.add(a,V),c.getColumnModel()._38I(a,g,V)))),u._5Q(WR),delete Y.moving):!Y.resizing&&H&&(a=H.column,z=u.lp(J).x,U=H.startX,g=!0,(g=(!u.onColumnClicked||!1!==u.onColumnClicked(a,J,U))&&g)&&U<=z&&z<=U+a.getWidth()&&(Y._16Q(a,U)||(a.isSortable()&&(V=c.getSortMode(),H=a.getSortOrder(),V===Wq?c.getSortColumn()===a?(H===Kq&&c.setSortColumn(WR),a.setSortOrder(H===Dq?Kq:Dq)):c.setSortColumn(a):"bistate"===V&&(c.getSortColumn()===a?a.setSortOrder(H===Dq?Kq:Dq):c.setSortColumn(a))),c.onColumnClicked(a,J,U)))),Y._29o=Y.resizing=Y.x=Y.lx=Y.w=WR}}),O1.TablePane=function(J){this.init(new f1(J))},a("TablePane",pR,{ms_v:1,ms_fire:1,_44o:1}),O1.TreeTablePane=function(J){this.init(new A1(J))},a("TreeTablePane",pR,{ms_v:1,_44o:1}),O1.Toolbar=function(J){var U=this,a=U._view=_L(1,U),z=a.style;z.background=DR.toolbarBackground||"",z.height=lm+ke,U._canvas=BL(a),U._30o=new h,U._90I=new h,U.setItems(J||[]),a.handleGroupSelectedChanged=function(a){var z;a.isSelected()&&null!=(z=a.getGroupId())&&U._items.forEach(function(J){(J=J.element)&&J!==a&&J.setSelected&&J.getGroupId&&J.getGroupId()===z&&J.setSelected(!1)})},new B1(U)},a("Toolbar",pR,{ms_v:1,ms_fire:1,ms_tx:1,ms_lp:1,ms_tip:1,ms_value:1,ms_ac:[De,Ae,Ne,oe,fR,"itemGap","separatorColor","currentItem","stickToRight"],_labelColor:DR.toolbarLabelColor,_labelSelectColor:DR.toolbarLabelSelectColor,_labelFont:DR.toolbarLabelFont,_selectBackground:DR.toolbarSelectBackground,_itemGap:DR.toolbarItemGap,_separatorColor:DR.toolbarSeparatorColor,_stickToRight:!1,getSumWidth:function(J){return this._64I},getToolTip:function(J){return(J=this.getItemInfoAt(J))?J.item.toolTip:WR},getLabelColor:function(J){return J&&J.selected&&J.type!==Ce&&"radio"!==J.type?this._labelSelectColor:this._labelColor},onPropertyChanged:function(J){this.iv(),J.property===De&&this._items.forEach(function(J){mL(J)})},redraw:function(){this.iv()},addItem:function(J,a){var z=this._items;a==WR?z.push(J):z.splice(a,0,J),this.fp(De,WR,z)},removeItem:function(J){if(J)for(var a=this._items,z=0;z<a.length;z++)J===a[z]&&(a.splice(z,1),this.fp(De,WR,a))},removeItemById:function(J){if(J!=WR)for(var a,z=this._items,U=0;U<z.length;U++)if(J===z[U].id)return a=z.splice(U,1)[0],this.fp(De,WR,z),a},getItemById:function(J){if(J!=WR)for(var a=this._items,z=0;z<a.length;z++){var U=a[z];if(J===U.id)return U}},setItemVisible:function(J,a){(J=this.getItemById(J))&&(J.visible=a)},getItemInfos:function(){return this._30o},getItemInfoAt:function(J){var a=0,z=this._30o,U=(J=this.lp(J)).x;if(0<=(J=J.y)&&J<=this.getHeight())for(;a<z.size();a++){var g=z.get(a);if(g.startX<=U&&U<=g.endX)return g}return WR},drawItem:function(J,a,z,U,g){if(!1===a.visible)return 0;if(EL(a.visible)&&!a.visible())return 0;var V=a.disabled,g=(V&&(J.globalAlpha=jm),this.drawItemImpl(J,a,z,U,g)),Y=this._itemGap;return V&&(J.globalAlpha=1),this._currentItem!==a||"separator"===a||!0===a.separator||a.unfocusable||ZW(J,this._separatorColor,z-Y/2,0,g+Y,U),g},drawItemImpl:function(J,a,z,U,g){var V,Y,c=this,u=c._view,H=c._itemGap,M=U/2,I=a.type,e=a.element,Q=a.label,v=(dR(e)&&(Q=e,e=WR),c.getLabelFont(a)),Z=c.getLabelColor(a),k=a.selected,E=s(a.icon),i=dD(E,a),w=i+(Q?Mu(v,Q).width:0);return"separator"===a||!0===a.separator?(fL(J,c._separatorColor,z,U/4,M),1):e?(E&&rm(J,E,z+i/2,M,a,c),Hu(J,Q,v,Z,z+i,0,0,U),Y=pQ(e),g||c._90I.add(Y),Y.parentNode!==u&&JQ(u,Y),e.iv&&e.iv(),e.validate&&e.validate(),u=(g=Y.getBoundingClientRect()).width,e=Y.style,rL(Y),e.left=c.tx()+z+w+ke,e.top=(U-g.height)/2+ke,w+u):("radio"===I?V=s(k?Fe:Oe):I===Ce&&(V=s(k?Ce:ye)),V?(Y=dD(V,a),rm(J,V,z+Y/2,M,a,c),z+=Y,w+=Y):k&&YW(J,z-H/2,0,w+H,U,c.getSelectBackground(a)),E&&rm(J,E,z+i/2,M,a,c),Hu(J,Q,v,Z,z+i,0,0,U),w)},validateImpl:function(){var z=this,J=z._canvas,a=z.getWidth(),U=z.getHeight(),g=z._30o,V=z._items,Y=(GL(J,a,U),IQ(J)),c=z._itemGap,u=c/2,H=(eQ(Y,z.tx(),0,1),Y.clearRect(0,0,a,U),z._90I),H=(z._90I=new h,g.clear(),V.forEach(function(J){var a=z.drawItem(Y,J,u,U);g.add({item:J,startX:u,endX:u+a,width:a}),a&&(u+=a+c)}),H.each(function(J){z._90I.contains(J)||Fu(J)}),z._64I);z._64I=zR(0,u-c/2),Y.restore(),z._stickToRight?(z._65O=0,Y=IQ(J),u=a-z._64I+c/2,eQ(Y,0,0,1),Y.clearRect(0,0,a,U),g.clear(),V.forEach(function(J){var a=z.drawItem(Y,J,u,U,!0);g.add({item:J,startX:u,endX:u+a,width:a}),a&&(u+=a+c)}),Y.restore()):z.tx(z.tx()),H!==z._64I&&z.onSumWidthChanged(H,z._64I)},onSumWidthChanged:function(J,a){},handleClick:function(a,J){var z=a.type,U=a.action,g=a.groupId,V=a.selected;a.disabled||(g!=WR?V||(a.selected=!0,this._items.forEach(function(J){J.groupId===g&&a!==J&&(J.selected=!1)}),U&&a.action(a,this,J)):(z!==Ce&&"toggle"!==z||(a.selected=!V),U&&a.action(a,this,J))),Fm(),this.iv()}}),function(J){this.tb=J,this.addListeners()});Su(B1,pR,{ms_listener:1,getView:function(){return this.tb._view},handle_mousewheel:function(J){this.handleScroll(J,J.wheelDelta/40*10)},handle_DOMMouseScroll:function(J){this.handleScroll(J,10*-J.detail)},handleScroll:function(J,a){Bm(J),(J=this.tb).isScrollable()&&!J._stickToRight&&(J.tx(J.tx()+a),DQ())},handle_mousemove:function(J){KQ||this.setItem(J)},handle_mouseout:function(J){J.target===this.getView()?this.tb.setCurrentItem(WR):this.handle_mousemove(J)},handle_mousedown:function(J){this.handle_mousemove(J),this.handle_touchstart(J)},handle_touchstart:function(J){var a=this.tb,z=J.target;!Iu(J)||z!==this.getView()&&z!==a._canvas||(Bm(J),a.setFocus(J)&&(this.setItem(J,!0),(a.isScrollable()||this.info&&!this.info.item.disabled)&&(this.x=iu(J).x,this.tx=a.tx(),yu(this,J))))},handleWindowMouseMove:function(J){this.handleWindowTouchMove(J)},handleWindowTouchMove:function(J){var a=this.tb;a._stickToRight||(J=iu(J).x-this.x,!this._25o&&2<yR(J)&&a.isScrollable()&&(this._25o=1),this._25o&&a.tx(this.tx+J))},handleWindowMouseUp:function(J){this.handleWindowTouchEnd(J)},handleWindowTouchEnd:function(J){var a=this.tb,z=this.info,U=this.tb.getItemInfoAt(J);!this._25o&&z&&(z=z.item,U&&U.item===z&&a.handleClick(z,J)),this._25o=this.x=this.tx=WR,this.setItem()},setItem:function(J,a){var z=this.tb,U=(U=this.info=J?z.getItemInfoAt(J):WR)?U.item:WR;z.setCurrentItem(U),a&&U&&EL(U.onDown)&&U.onDown(J)}}),O1.BorderPane=function(){this._view=_L(1,this),this.iv()},a("BorderPane",pR,{ms_v:1,ms_ac:["topHeight","bottomHeight","leftWidth","rightWidth"],ms_fire:1,getLeftView:function(){return this._leftView},setLeftView:function(J,a){this._12o("leftView",J),a!=WR&&this.setLeftWidth(a)},getRightView:function(){return this._rightView},setRightView:function(J,a){this._12o("rightView",J),a!=WR&&this.setRightWidth(a)},getTopView:function(){return this._topView},setTopView:function(J,a){this._12o("topView",J),a!=WR&&this.setTopHeight(a)},getBottomView:function(){return this._bottomView},setBottomView:function(J,a){this._12o("bottomView",J),a!=WR&&this.setBottomHeight(a)},getCenterView:function(){return this._centerView},setCenterView:function(J){this._12o("centerView",J)},_12o:function(J,a){var z="_"+J,U=this._view,g=this[z];g!==a&&(g&&(g.getView?Fu(g.getView()):Fu(g)),(this[z]=a)&&(a.getView?JQ(U,a.getView(),1):JQ(U,a,1)),this.fp(J,g,a))},onPropertyChanged:function(J){this.iv()},validateImpl:function(){var J=(Z=this)._topView,a=Z._bottomView,z=Z._leftView,U=Z._rightView,g=Z._centerView,V=Z.getWidth(),Y=0,c=0,u=V,H=v=Z.getHeight(),M=0,I=0,e=0,Q=0,v=(J&&(c=M=Z._topHeight==WR?uQ(J):Z._topHeight),a&&(H=v-(I=Z._bottomHeight==WR?uQ(a):Z._bottomHeight)),z&&(Y=e=Z._leftWidth==WR?cQ(z):Z._leftWidth),U&&(u=V-(Q=Z._rightWidth==WR?cQ(U):Z._rightWidth)),zR(0,u-Y)),Z=zR(0,H-c);J&&R(J,0,0,V,M),a&&R(a,0,H,V,I),z&&R(z,0,c,e,Z),U&&R(U,u,c,Q,Z),g&&R(g,Y,c,v,Z)}})}function t1(J){Bm(J),J.stopPropagation()}function r1(J){Bm(J)}function G1(J,a){var z=J.length,U=J[0];if(dR(J)||U&&1!==U.length)return J;for(var g=new Array(z),V=0;V<z;V++)g[V]=J[V];var Y=g[U="L"===g[0]?5:7],c=g[1+U],u=g[2+U],H=g[3+U],M=g[4+U],I=g[5+U],e=a[0],Q=a[1],v=a[2],Z=a[3],k=a[4],a=a[5];return g[U]=e*Y+v*c,g[1+U]=Q*Y+Z*c,g[2+U]=e*u+v*H,g[3+U]=Q*u+Z*H,g[4+U]=e*M+v*I+k,g[5+U]=Q*M+Z*I+a,g}function JM(J,a){return a===J.substring(0,a.length)}function aM(J){return parseFloat(J)||0}function zM(J,a){a==xR&&(a=new qR),J=(J=J.split(/\s+/)).map(aM),a.set(J[0]||0,J[1]||0,J[2]||0)}function UM(J){try{var a=J.zoom;return a==xR?1:+a}catch(J){return 1}}function gM(){Wm.apply(this,arguments)}function VM(){Wm.apply(this,arguments)}function YM(){Wm.apply(this,arguments)}function cM(){Wm.apply(this,arguments),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:"ZeroCurvature",endingEnd:"ZeroCurvature"}}function uM(){Wm.apply(this,arguments)}function HM(J){var a=J.substr(J.lastIndexOf(".")+1).toLowerCase(),z=(J=DR.beforeLoadURL(J),zh[a]||a);return{postfix:a,url:"url("+J+') format("'+z+'")'}}function MM(J,a){return Uh[J.postfix]-Uh[a.postfix]}function IM(J,a,z){J.x=a.x,J.y=a.e||z,J.z=a.y}function eM(J){J.duration&&(J.startTime=YL()),J.timeId=au(J.tick,WR,WR,J.interval)}function QM(J){J.details=0,J.timeout=null,J.lastPoint=null}function vM(){Eh=!1}function ZM(){if(Eh){var J,a=Date.now(),z=a-ih,U=a;try{for(J=0;J<kh.length;J++)kh[J].callback(U,z)}catch(a){kh.splice(J,1),console.error("Heartbeat error:",a)}ih=a,0<kh.length?requestAnimationFrame(ZM):vM()}}function kM(U,z){U.getValue&&U.getValue.compType===z||(U.getValue=function(J){var a=A(U,J);return a===xR&&z.properties&&(J=z.properties[J])?J.defaultValue:a},U.getColor=function(J,a,z){return!0===a?Lh(J,WR,z):(a=U.getValue(J),z&&pR.assign(z,{comp:U,name:J}),Lh(a,WR,z))},U.getValue.compType=z)}function EM(J,a){return Lh(J,WR,a)}function iM(J,a){if(DR.convertColor)return{comp:J,name:a}}function wM(J){if(jR(J)){for(var a=new h,z=J.length,U=0;U<z;U+=2)a.add({x:J[U],y:J[U+1]});J=a}return J}function pM(J,a,z){if(a){var U,g,V,Y={x:a.x,y:a.y,width:a.width,height:a.height},c=bh(J),u=A(J,"layoutH"),H=A(J,"layoutV"),M=1,I=1,e=0,Q=0,v=1,Z=1,k=Y.x+c.x*Y.width,E=Y.y+c.y*Y.height;switch(u){case"left":break;case"right":k+=z.width-z.rw;break;case"center":k+=.5*(z.width-z.rw);break;default:(U=A(J,te)||0)&&(e=Math.abs(Q=Math.sin(U)),v=Math.abs(Z=Math.cos(U))),"leftright"!==u?(M+=v*(z.widthScale-1),I+=e*(z.widthScale-1),k*=z.widthScale):(g=A(J,"scaleX")||1,V=A(J,"scaleY")||1,M+=Y.width?v*(z.width-z.rw)/Y.width/g:0,I+=Y.height?e*(z.width-z.rw)/Y.height/V:0,k+=(z.rw-z.width)*Math.min(-c.x*Z+c.y*Q,-c.x*Z-(1-c.y)*Q,(1-c.x)*Z+c.y*Q,(1-c.x)*Z-(1-c.y)*Q))}switch(H){case"top":break;case"bottom":E+=z.height-z.rh;break;case"center":E+=.5*(z.height-z.rh);break;default:U==WR&&(U=A(J,te))&&(e=Math.abs(Q=Math.sin(U)),v=Math.abs(Z=Math.cos(U))),"topbottom"!==H?(M+=e*(z.heightScale-1),I+=v*(z.heightScale-1),E*=z.heightScale):(g==WR&&(g=A(J,"scaleX")||1,V=A(J,"scaleY")||1),M+=Y.width?e*(z.height-z.rh)/Y.width/g:0,I+=Y.height?v*(z.height-z.rh)/Y.height/V:0,E+=(z.rh-z.height)*Math.min(-c.x*Q-c.y*Z,-c.x*Q+(1-c.y)*Z,(1-c.x)*Q-c.y*Z,(1-c.x)*Q+(1-c.y)*Z))}return 1===M&&1===I||(Y.width*=M,Y.height*=I,Y.width<0&&(Y.width=0),Y.height<0&&(Y.height=0)),Y.x=k-c.x*Y.width,Y.y=E-c.y*Y.height,Y}}function xM(J){return jR(J)?new h(J):J}function WM(J,a,z,U,g,V,Y){var c=N.interactiveInfo,u=J.transform,H=nh();if(u)return N.save(),N.setTransform(u.a,u.b,u.c,u.d,u.tx,u.ty),c&&Sh(c,{comp:J,rect:a,matrix:u.clone(),prefix:ED,refRect:c.refRect,exData:H}),!0;if(g===xR&&(g=1),V===xR&&(V=1),u=A(J,"clipPercentage"),nL(z,a)&&!U&&1===g&&1===V&&u==xR)return c&&Sh(c,{comp:J,rect:a,matrix:c.matrix.clone(),prefix:ED,refRect:c.refRect,exData:H}),!1;var M=a.x+a.width*(Y=Y||DD).x,I=a.y+a.height*Y.y,e=z.x+z.width*Y.x,Y=z.y+z.height*Y.y,g=z.width?g*(a.width/z.width):1,V=z.height?V*(a.height/z.height):1;return N.save(),c&&(c.matrix.appendTranslate(M,I).appendRotate(U).appendScale(g,V).appendTranslate(-e,-Y),Sh(c,{comp:J,rect:a,matrix:c.matrix.clone(),prefix:ED,refRect:c.refRect,exData:H})),QQ(N,M,I),vQ(N,U||0),ZQ(N,g,V),QQ(N,-e,-Y),u!=xR&&(a=TL(z,A(J,"clipDirection"),u),N.beginPath(),N.rect(a.x,a.y,a.width,a.height),N.clip()),!0}function DM(){N.restore()}function KM(J,a,z,U){var g,V,Y,c,u,H,b,M,I,e,Q,v,S,P,$,Z,l,T,k,E,i,w,p,x,W,D,K,d,j,q,X,R,C=A(J,ne,wM),y=A(J,te),F=bh(J),U=(C&&U.fitSize&&(g=new h,U=pM(J,O=xu(C),U),V=O.x+F.x*O.width,Y=O.y+F.y*O.height,c=U.x+F.x*U.width,u=U.y+F.y*U.height,H=O.width?U.width/O.width:1,b=O.height?U.height/O.height:1,C.each(function(J){g.add({x:c+(J.x-V)*H,y:u+(J.y-Y)*b})}),C=g,J.unionRect=null),A(J,"scaleX")),O=A(J,"scaleY"),n=a===We,L=WR;!z&&n&&((z=J.unionRect)||(z=xu(C),J.points.func||(J.unionRect=z)),L=z),z&&(n?(L=L||J.unionRect)||(L=xu(C),J.points.func||(J.unionRect=L)):L=z,z=WM(J,z,L,y,U,O,F),y=A(J,"borderPattern"),U=HD(N,y),O=Lh(J,"background"),F=s(A(J,"repeatImage"),Fh,Oh),p=A(J,"gradientPack"),M=A(J,"borderGradientPack"),I=Lh(J,"borderColor"),e=A(J,"borderWidth"),Q=s(A(J,"borderRepeatImage"),Fh,Oh),v=A(J,"segments",xM),d=A(J,"gradient"),S=A(J,"border3d"),P=Lh(J,"border3dColor"),$=A(J,"border3dAccuracy"),Z=A(J,"closePath"),X=A(J,"fillRule")||"nonzero",l=N.lineJoin,T=N.lineCap,W=A(J,"shadow"),D=A(J,"shadowInset"),N.lineJoin=A(J,"borderJoin")||Lm,N.lineCap=A(J,"borderCap")||nm,n?O||F||p?((x=A(J,"fillClipPercentage"))!=xR&&(q=TL(L,A(J,"fillClipDirection"),x),N.save(),N.beginPath(),N.rect(q.x,q.y,q.width,q.height),N.clip()),zW(N,C,v,Z),p?JW(N,p,EM,!1,L,WR,iM(J,"gradientPack")):F?HW(N,F,Fh,Oh,Rh,Ch,A(J,"repeatImageStretch"),L,A(J,"repeatImageRotation")):(d&&(j=Lh(J,"gradientColor")),uW(N,O,d,j,L)),N.fill(X),p&&N.restore(),x!=xR&&N.restore(),U!==N&&zW(U,C,v,Z)):zW(U,C,v,Z):("roundRect"===a?k=A(J,"cornerRadius"):"polygon"===a?(k=A(J,"polygonSide"),E=A(J,"cornerRadius"),i=A(J,"regular")):"nStar"===a?(k=A(J,"starSide"),E=A(J,"cornerRadius"),i=A(J,"starRatio"),w=A(J,"regular")):"arc"===a&&(k=A(J,"arcFrom"),E=A(J,"arcTo"),i=A(J,"arcClose"),w=A(J,"arcOval")),O||F||p?((x=A(J,"fillClipPercentage"))!=xR&&(q=TL(L,A(J,"fillClipDirection"),x),N.save(),N.beginPath(),N.rect(q.x,q.y,q.width,q.height),N.clip()),cW(N,a,L,k,E,i,w),p?JW(N,p,EM,!1,L,WR,iM(J,"gradientPack")):F?HW(N,F,Fh,Oh,Rh,Ch,A(J,"repeatImageStretch"),L,A(J,"repeatImageRotation")):(d&&(j=Lh(J,"gradientColor")),uW(N,O,d,j,L)),N.fill(X),p&&N.restore(),x!=xR&&N.restore(),N!==U&&cW(U,a,L,k,E,i,w)):cW(U,a,L,k,E,i,w)),W&&D&&(N.save(),q=yh*DR.devicePixelRatio,F=A(J,"shadowOffsetX"),d=A(J,"shadowOffsetY"),j=A(J,"shadowBlur"),X=Lh(J,"shadowColor"),N.shadowOffsetX=(F==WR?3:F)*q,N.shadowOffsetY=(d==WR?3:d)*q,N.shadowBlur=(j==WR?6:j)*q,N.shadowColor=X||Lh(oW),p=L.x-50,x=L.y-50,W=L.width+100,D=L.height+100,F=!1,n?(zW(U,C,v,Z),N.clip(),zW(U,C,v,Z)):(cW(N,a,L,k,E,i,w),N.clip(),cW(N,a,L,k,E,i,w),["circle","star","hexagon","pentagon","diamond"].indexOf(a)<0&&(F=!0)),F?(N.moveTo(p,x),N.lineTo(p,x+D),N.lineTo(p+W,x+D),N.lineTo(p+W,x)):N.rect(p,x,W,D),N.fillStyle=N.shadowColor,N.fill(),N.restore(),n?zW(U,C,v,Z):cW(U,a,L,k,E,i,w)),(d=A(J,"borderWidthAbsolute"))&&kQ(N,K=Hm.TEMP_MATRIX),e&&(I||Q||M)&&(N.lineWidth=e,M?((R=gu(L)).width<e?(R.width+=e,R.x-=.5*e):R.height<e&&(R.height+=e,R.y-=.5*e),JW(N,M,EM,!0,R,K,iM(J,"borderGradientPack"))):Q?MW(N,Q,Fh,Oh,Rh,Ch,A(J,"borderRepeatImageStretch"),L,A(J,"borderRepeatImageRotation")):N.strokeStyle=I,N.stroke(),M&&N.restore(),S&&gW(N,I,P,e,yh,$)),MD(N,y),A(J,"dash")&&0<(j=A(J,"dashWidth")||e)&&(y=A(J,"dashPattern")||Om,U=HD(N,y,A(J,"dashOffset")),q=Lh(J,"dashColor")||Lh(LW),U!==N&&(n?zW(U,C,v,Z):cW(U,a,L,k,E,i,w)),N.lineWidth=j,(X=A(J,"dashGradientPack"))?((R=gu(L)).width<j?(R.width+=j,R.x-=.5*j):R.height<j&&(R.height+=j,R.y-=.5*j),JW(N,X,EM,!0,R,K,iM(J,"dashGradientPack"))):N.strokeStyle=q,N.stroke(),X&&N.restore(),A(J,"dash3d")&&gW(N,q,Lh(J,"dash3dColor"),j,yh,A(J,"dash3dAccuracy")),MD(N,y)),d&&N.restore(),a===f&&kW(N,O,A(J,"depth"),L),N.lineJoin=l,N.lineCap=T,z&&DM())}function dM(J){N=J[0],Rh=J[1],Ch=J[2],yh=J[3],Fh=J[4],Oh=J[5]}function jM(J,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");J.prototype=pR.create(a&&a.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),a&&XD(J,a)}function qM(J){return"Array]"===(J=pR.prototype.toString.call(J)).substring(J.length-6)}function XM(J,a,z,U,g,V){a=a||[],z=z||[],U=U||[];try{a.push(J);var Y=Function.apply(0,a);return z[z.length]="return "+Y,Function.apply(0,z).apply(0,U)}catch(J){return V&&V(J),g}}function RM(J){return J}function CM(J,a){return a}function yM(J,a,z,U){var g=J?J.path.slice(0):[];a&&g.push(a),this.desc=z,this.name=a,this.path=CD(g),this.getter=FD(g),this.setter=OD(g),this.isLeaf=U,this.parent=J,this.children=[],this.childMap={}}function FM(J){var a=[];return J.forEach(function(J){a.push({x:J.x,y:J.y}),a.push({x:J.x+J.width,y:J.y+J.height}),a.push({x:J.x+J.width,y:J.y}),a.push({x:J.x,y:J.y+J.height})}),a}function OM(J,a){return 0<J.dot(a)}function nM(){this._vertexMap={},this._lineMap={},this._lineList=[]}function LM(J,a,z,U,g,V,Y){z=[z,g],J[0]===U&&z.reverse(),g=[z[0]._key,z[1]._key].join("|"),(U=J._triangles[g])||(J._triangles[g]=U={}),U[z=[V._key,Y._key].join("|")]||(U[z]=[V,Y])}function bM(J,a,z){var U=J._planes[z._key];if(!U)for(var g in J._planes)if((g=J._planes[g])._normal.angleTo(z)<.001){U=g;break}U?U._vertices.indexOf(a)<0&&U._vertices.push(a):J._planes[z._key]={_normal:z,_vertices:[a]}}function SM(J,a){return 0===a?"0|0|0":(Math.abs(a)===1/0?[J.x,J.y,J.z]:[Math.round(Gh.angleTo(J)*a),Math.round(Jg.angleTo(J)*a),Math.round(ag.angleTo(J)*a)]).join("|")}function PM(J){for(var a=J.length,z=0,U=a-1,g=0;g<a;U=g++)z+=J[U].x*J[g].y-J[g].x*J[U].y;return.5*z}function $M(J,a,z,U,g,V){a=new o(a.get(z)),V=V.apply(a),J.push({local:a,world:V,type:g,index:z,realIndex:U})}function lM(){var g={_calcShift:function(J,a){var z=g.getBackup("_calcShift"),U=this.gv;return S.inEdit(U)&&U.getEditInteractor().getSubModule("Move").calcShift(J,a,this)||z.call(this,J,a)},clear:function(J){g.getBackup("clear").call(this,J);var a=this.gv;S.inEdit(a)&&a.getEditInteractor().getSubModule("Move").clear(J)}};return g}function TM(J,a){var z=J.x-a.x;return z*z+(J=J.y-a.y)*J}function fM(a,z,J){return{def:a,getter:J?function(J){return 1<L2.for(J).version?J.getParameter(z):a}:function(J){return J.getParameter(z)},setter:J?function(J,a){1<L2.for(J).version&&J.pixelStorei(z,a)}:function(J,a){J.pixelStorei(z,a)}}}function NM(J){return"string"==typeof J?tQ(J):J.r!==xR?(hr[0]=J.r,hr[1]=J.g,hr[2]=J.b,hr[3]=J.a,hr):J.red!==xR?(hr[0]=J.red,hr[1]=J.green,hr[2]=J.blue,hr[3]=J.alpha,hr):J}function AM(J){return qM(J)?Array.prototype.slice.call(J,0):J}function oM(J,a,z){this.gl=a,this._record=z||{},this._branches={},this._leafSync={};for(var U=(this._struct=J).children,g=U.length;g--;){var V=U[g],Y=V.name;V.isLeaf?(this._leafSync[Y]=!1,this._record[Y]=AM(V.desc.def)):this._record[Y]={}}}function sM(J,a){var z=J.duration,U=a.start,g=a.duration;U&&z<U||g&&z<g+(U||0)||(U&&(J.start=U),z!==(g=g||z-(U||0))&&(J.duration=g,J.rawDuration=z),a.default&&(J.default=!0),a.speed!==xR&&(J.speed=a.speed),a.loop&&(J.loop=a.loop))}function mM(J,a,z){var U,g,V,Y=a.name;if(tr[Y]){do{if(rr=a.sourceShortName+"#"+Y,!tr[rr])break;if(a.sources&&a.sources.length&&(rr+=a.sources.join("#")),!tr[rr])break;for(var Y=rr,c=1;rr=Y+"$"+c++,tr[rr];);}while(0);tr[rr]=!0,Y=a.name=rr}else tr[Y]=!0;if(z)for(U in(V=z[Y])&&(V.invalid?a._toBeRemoved=!0:(V.name&&(a.rawName=Y,a.name=V.name),sM(a,V))),z)(V=z[U]).source!==Y||tr[U]||(tr[U]=!0,(g=pR.assign({},a)).name=U,g.source=Y,g.rawDuration&&(g.duration=g.rawDuration,delete g.rawDuration),sM(g,V),J.push(g))}function _M(J,a){return J&&(J[0]!==(a=a?1:0)||J[1]!==a||J[2]!==a)}function hM(J,a,z){if(z){var U=a.mesh,g=a.matrix;k2.multiplyMatrices(z.mi,g);for(var V=0,Y=z.data,c=z.m,u=Y.length;V<u;V+=16){var H=(new XR).fromArray(Y,V);H.premultiply(c).multiply(k2),J.push({matrix:H,mesh:U,model:a.model})}}else J.push(a)}function BM(J,a){a&&(a.isRenderTarget?a.release():m2(a)&&J.deleteTexture(a))}function tM(J,a,z,U,g,V,Y,c,u,H,M,I){Y=Y||0;for(var e=[],Q=c?new qR:WR,v=0;v<=g;v++){var Z=X2(J,a,z,v,M,I,U);e.push(Z),V!=WR&&(Z.uv=[V,1-v/g+Y])}if(c){for(v=0;v<g;v++)Q.subVectors(e[v],e[v+1]),0==Q.lengthSq()&&Q.copy(a),H&&(u=e[v].clone().sub(H[v])),Q.cross(u).normalize(),e[v].ns=Q.toArray();e[v].ns=e[v-1].ns}return e}function rM(J,a,z,U,g,V,Y,c,u,H,M,I,e,Q){if(!(I.length<3||0==u)){var v=a?J.top_vs:J.bottom_vs;if(v){var Z,k,E,i,w=a?J.top_uv:J.bottom_uv,p=Jw.triangulateShape(I,Q),x=tM(z,U,g,H,M,V,Y,!1,c,null,I,e),W=Q.length;for(w&&(k=I.slice(0)),q=0;q<W;q++)if(Z=tM(z,U,g,H,Q[q].length-1,V,Y,!1,c,null,Q[q],e))for(E=Z.length,i=0;i<E;i++)x.push(Z[i]),w&&k.push(Q[q][i]);for(var D,K,d,j=p.length,q=0;q<j;q++)d=p[q],d=a?(D=d[2],K=d[1],d[0]):(D=d[0],K=d[1],d[2]),B9(v,x[D],x[K],x[d]),w&&w.push(.5+k[D].x/u,.5+k[D].y/u,.5+k[K].x/u,.5+k[K].y/u,.5+k[d].x/u,.5+k[d].y/u)}}}function GM(J,a){return J?(0!==a&&(a=a%1||1)<0&&(a+=1),.5-N9(J,a).point.x):1}function JI(z){var U={};return{get:function(J){if(U[J]!==xR)return U[J];var a;switch(J){case"WEBGL_depth_texture":a=z.getExtension("WEBGL_depth_texture")||z.getExtension("MOZ_WEBGL_depth_texture")||z.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=z.getExtension("EXT_texture_filter_anisotropic")||z.getExtension("MOZ_EXT_texture_filter_anisotropic")||z.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=z.getExtension("WEBGL_compressed_texture_s3tc")||z.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||z.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=z.getExtension("WEBGL_compressed_texture_pvrtc")||z.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":a=z.getExtension("WEBGL_compressed_texture_etc1");break;default:a=z.getExtension(J)}return U[J]=a}}}function aI(a,z,J){var U;function g(J){if("highp"===J){if(0<a.getShaderPrecisionFormat(35633,36338).precision&&0<a.getShaderPrecisionFormat(35632,36338).precision)return"highp";J="mediump"}return"mediump"===J&&0<a.getShaderPrecisionFormat(35633,36337).precision&&0<a.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}J=J||{};var V,Y="undefined"!=typeof WebGL2RenderingContext&&a instanceof WebGL2RenderingContext,c=J.precision!==xR?J.precision:"highp",u=((u=g(c))!==c&&(console.warn("WebGL:",c,"not supported, using",u,"instead."),c=u),!0===J.logarithmicDepthBuffer),J=a.getParameter(34930),H=a.getParameter(35660),M=a.getParameter(3379),I=a.getParameter(34076),e=a.getParameter(34921),Q=a.getParameter(36347),v=a.getParameter(36348),Z=a.getParameter(36349),k=0<H,E=Y||!!z.get("OES_texture_float"),i=(Y||!!z.get("OES_element_index_uint"))&&"undefined"!=typeof Uint32Array,w=k&&E,p=Y?a.getParameter(36183):0,x=Y||!!z.get("EXT_shader_texture_lod"),W=!1;return Y?W=!0:(V=z.get("ANGLE_instanced_arrays"))&&(W=!0,a.vertexAttribDivisor=function(J,a){return V.vertexAttribDivisorANGLE(J,a)},a.drawElementsInstanced=function(J,a,z,U,g){return V.drawElementsInstancedANGLE(J,a,z,U,g)},a.drawArraysInstanced=function(J,a,z,U){return V.drawArraysInstancedANGLE(J,a,z,U)}),Y?z.get("EXT_color_buffer_float"):(z.get("WEBGL_depth_texture"),z.get("OES_texture_half_float"),z.get("OES_texture_half_float_linear"),z.get("OES_standard_derivatives"),z.get("OES_vertex_array_object")),z.get("OES_texture_float_linear"),z.get("EXT_color_buffer_half_float"),z.get("WEBGL_multisampled_render_to_texture"),{isWebGL2:Y,getMaxAnisotropy:function(){if(U!==xR)return U;var J=z.get("EXT_texture_filter_anisotropic");return U=null!==J?a.getParameter(J.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:g,precision:c,precisionString:"precision "+c+" float;\nprecision "+c+" int;\n",logarithmicDepthBuffer:u,maxTextures:J,maxVertexTextures:H,maxTextureSize:M,maxCubemapSize:I,maxAttributes:e,maxVertexUniforms:Q,maxVaryings:v,maxFragmentUniforms:Z,vertexTextures:k,floatFragmentTextures:E,elementTypeUint:i,floatVertexTextures:w,maxSamples:p,shaderTextureLod:x,instancedArray:W}}function zI(a,g,J,z){if(z||!J.isWebGL2||"undefined"==typeof WeakMap)return{supportsUbo:!1,setCurrentFrameRenderId:i};var U,V={},z=g.getParameter(35375),Y=new WeakMap;return(U=V.scene=new p0(g,0,"scene","Scene")).addUniform("uProjectMatrix",16),U.addUniform("uViewMatrix",16),U.addUniform("uCameraPosition",3),U.addUniform("uTime",1),U.addUniform("toneMappingExposure",1),U.addUniform("uFogColor",4),U.addUniform("uFogDensity",1),U.addUniform("uFogNear",1),U.addUniform("uFogFar",1),U.attachSource(),["pbr","phong"].forEach(function(J){(U=V[J]=new p0(g,1,J,"Material")).addUniform("aoMapIntensity",1),U.addUniform("lightMapIntensity",1),U.addUniform("displacementScale",1),U.addUniform("displacementBias",1),U.addUniform("diffuse",3),U.addUniform("emissive",3),U.addUniform("normalScale",2),U.addUniform("opacity",1),U.addUniform("alphaTest",1),U.addUniform("fresnelIntensity",1),U.addUniform("uUvMatrix",12),U.addUniform("uUv2Matrix",12),"pbr"===J?(U.addUniform("roughness",1),U.addUniform("metalness",1),U.addUniform("transmission",1),U.addUniform("thickness",1),U.addUniform("ior",1),U.addUniform("specularIntensity",1),U.addUniform("rimPower",1),U.addUniform("rimColor",3),U.addUniform("specularColor",3)):(U.addUniform("shininess",1),U.addUniform("refractionRatio",1),U.addUniform("specular",3))}),{supportsUbo:!0,maxBindingPoints:z,setCurrentFrameRenderId:function(J){(J=V.scene).attachSource(),J.uProjectMatrix=a._projectMatrix,J.uViewMatrix=a._viewMatrix,J.uCameraPosition=a._camera?a._camera.p3():a.getEye(),J.uTime=a.__uptime,J.toneMappingExposure=a.getToneMappingExposure(),J.uFogColor=tQ(a._fogColor),J.uFogDensity=a._fogDensity,J.uFogNear=a._fogNear,J.uFogFar=a._fogFar},updateAndBind:function(J,a){var z,J=V[J],U=Y.get(a);U===xR&&(U=new WeakMap,Y.set(a,U)),U.get(J)===xR&&(z=g.getUniformBlockIndex(a,J.name),g.uniformBlockBinding(a,z,J.bindingPointIndex),U.set(J,z))},attachUbo:function(J,a,z){return V[J].attachSource(a,z)}}}function UI(J,a,z){if(z instanceof m.Node){var U=m.Default.getShape3dModel(z.s("shape3d")),g=[-.5,-.5,-.5],V=[.5,.5,.5],Y=(U&&U.boundingBox&&(g=U.boundingBox.min,V=U.boundingBox.max),[g[0],g[1],g[2],g[0],g[1],V[2],g[0],V[1],g[2],g[0],V[1],V[2],V[0],g[1],g[2],V[0],g[1],V[2],V[0],V[1],g[2],V[0],V[1],V[2]]),c=(it.fromArray(gD(z,a.getMat(z))),z.getAnchor3d());c.x=c.x-.5,c.y=c.y-.5,c.z=c.z-.5;for(var u=0;u<24;u+=3)J.push((new qR).set(Y[u]-c.x,Y[u+1]-c.y,Y[u+2]-c.z).applyMatrix4(it))}}function gI(J,a){var z=this._attrObject;return z&&J in z||(z=this._textureAttrObject)&&J in z?z[J]:this._getAttrBackupFunc(J,a)}function VI(J,a){if(lt(a))return J.deleteTexture(a)}function YI(J,a,z){var U=J[a];U&&U.releaseTexture(),z?J[a]=z:delete J[a]}function cI(J,a){return J.z!==a.z?a.z-J.z:J.id-a.id}function uI(J,a){var z=a>>24&255;if(z<128){var U=J._outside;if(U)return U(a>>16&255,a>>8&255,255&a,z)}return J[2147483647&a]}function HI(J,a,z,U,g,V,Y,c,u,H,M){return!(J<0||V<=J||a<0||g<=a)&&(!(u=uI(H,g=(u[V=4*(J*g+a)]<<16)+(u[1+V]<<8)+u[2+V]+(u[3+V]<<24)))||M&&!1===M(u,Math.round((z+a)/c),Math.round(Y-1-(U+J))/c)?void 0:u)}function MI(J,a,z,U,g,V,Y,c){return Y||(Y=J._cacheIdx=J._cacheIdx+1&3,J._cacheQuery[Y]=[a,z,U,g,V,c],J._cacheLength=Math.min(J._cacheLength+1,4)),c}function II(){var J=new qR;return J.subVectors(eN,IN),kN.subVectors(MN,IN),J.cross(kN).normalize(),J}function eI(J,a){a._reflecting=!1,J.getRenderState().useProgram(J._prg)}function QI(J,a){rA(a/1e3)}function vI(J,a){var z,U;a=t.roundFloat(a,3),J.speed=a,"once"===J.loop&&(z=J.duration,U=J.start,J.end=0===a?U:(a<0?Math.floor((U-1e-8)/z):Math.ceil((U+1e-8)/z))*z)}function ZI(J,a,z){J&&(kL(J)?a.push(J):$H.test(J)&&(z[J]=1))}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);