!function(r,m,l3){"use strict";var e,u,X,g3="ht";if(!r.ht){Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),r.performance&&r.performance.now||(R=Date.now(),r.performance||(r.performance={}),r.performance.now=function(){return Date.now()-R});for(var R,B=Date.now(),L=["ms","moz","webkit","o"],Z=0;Z<L.length&&!r.requestAnimationFrame;++Z)r.requestAnimationFrame=r[L[Z]+"RequestAnimationFrame"],r.cancelAnimationFrame=r[L[Z]+"CancelAnimationFrame"]||r[L[Z]+"CancelRequestAnimationFrame"];r.requestAnimationFrame||(r.requestAnimationFrame=function(Q){var Y=Date.now(),n=16+B-Y;return B=Y,r.setTimeout(function(){B=Date.now(),Q(performance.now())},n=n<0?0:n)}),r.cancelAnimationFrame||(r.cancelAnimationFrame=function(Q){return r.clearTimeout(Q)}),m.assign===l3&&(m.assign=function(Q){if(Q===l3||null===Q)throw new TypeError("Cannot convert undefined or null to object");for(var Y=m(Q),n=1;n<arguments.length;n++){var R=arguments[n];if(R!==l3&&null!==R)for(var g in R)m.prototype.hasOwnProperty.call(R,g)&&(Y[g]=R[g])}return Y}),r.btoa===l3&&(r.btoa=function(Q){for(var Y,n,R=String(Q),g=0,B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",L="";R.charAt(0|g)||(B="=",g%1);L+=B.charAt(63&Y>>8-g%1*8)){if(255<(n=R.charCodeAt(g+=.75)))throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");Y=Y<<8|n}return L});var o=(id=r.location)&&r.document,V3=null,x=l3,K=r.ht={},G=r.htconfig,z3=K.Default=G&&G.Default||{},J3=K.Style=G&&G.Style||{},z=K.Attr=G&&G.Attr||{},p=function(){return!0},$=function(){return!1},M=function(){return null},k=function(Q){return Q},F=function(Q){return!Q},i=K.Color=G&&G.Color||{},v=K.IsGetter=G&&G.IsGetter||{},a=!1;try{var J=m.defineProperty({},"passive",{get:function(){return a=!0,l3}});id&&r.addEventListener("test",J,J),id&&r.removeEventListener("test",J,J)}catch(Q){a=!1}z3.passiveSupported=a;var B3,L3,I,Z3,A,e3,u3,P,T,_,X3,x3,O,N,U,j,S,D,f,Q3,G=z3.passiveSupported,Y3=z3.eventListenerOptionsFalse=!!G&&{passive:!1,capture:!1},I3=z3.eventListenerOptionsTrue=!G||{passive:!1,capture:!0},A3=function(Q,Y,n,R){Q.addEventListener(Y,n,R?I3:Y3)},P3=function(Q,Y,n,R){Q.removeEventListener(Y,n,R?I3:Y3)},i3=(J=Math).round,T3=J.floor,E3=J.ceil,_3=J.sqrt,n3=J.max,R3=J.min,b3=J.abs,p3=J.cos,k3=J.acos,G3=J.sin,O3=J.pow,N3=J.asin,b=(J.exp,J.PI),o3=2*b,U3=b/2,C3=J.tan,w3=J.atan2,j3=J.random,G=J.log,r3=O3(2,1),H3=r.parseInt||global.parseInt,s3="2024-12-15",h3=id&&!!r.navigator&&-1<r.navigator.platform.indexOf("Win"),t3=function(Q){return Q*Q},m3=id&&r.setTimeout,q3=id&&r.clearTimeout,d3=id&&(r.navigator?r.navigator.userAgent.toLowerCase():""),K3=($R=function(Q){return Q.test(d3)})(/msie/),W3=$R(/msie/)||$R(/trident/),c3=$R(/msie 10/),S3=$R(/edge/),y3=$R(/firefox/),D3=$R(/mac/),f3=($R(/mscAndroid/),z3.isTouchable===l3?!h3&&!!o&&"ontouchend"in o:z3.isTouchable),QR="default",YR="single",nR="multiple",RR="front",gR="back",BR="left",LR="right",ZR="top",eR="bottom",uR="center",XR="eye",xR="middle",GR="east",oR="west",lR="north",VR="none",zR="px",pR="absolute",$R="border",MR="triangle",H="rect",FR="circle",vR="cylinder",aR="shape",JR="items",IR="normal",AR="remove",PR="clear",iR="width",TR="height",ER="ingroup",_R="check",bR="uncheck",kR="radioOn",OR="radioOff",NR="points",UR="values",CR="series",wR="body",jR="label",rR="label2",HR="note",sR="note2",hR="icons",tR="labelFont",mR="labelColor",qR="labelSelectColor",dR="note.expanded",KR="note2.expanded",WR="edge.expanded",cR="edge.points",SR="edge.type",yR="rotation",DR="hidden",fR="visible",QV="tuv",YV="no",nV="draw",RV="select",gV="currentSubGraph",h3="selectBackground",BV="autoMakeVisible",LV="autoHideScrollBar",ZV="scrollBarColor",eV="scrollBarSize",uV="indent",XV="rowHeight",xV="columnLineColor",GV="rowLineColor",oV="columnLineVisible",lV="rowLineVisible",VV="visibleFunc",zV="expandIcon",pV="collapseIcon",$V="checkMode",MV="sortFunc",FV="editable",vV="batchEditable",aV="tristate",JV="asc",IV="desc",AV="position",PV="elevation",iV="children",TV="translateX",EV="translateY",_V="dataModel",bV="state",kV="encode",OV="shape3d",NV="shape3d.resolution",UV="shape3d.visible",CV="shape3d.from.visible",wV="shape3d.to.visible",jV="shape3d.top.visible",rV="shape3d.bottom.visible",HV="repeat.uv.length",sV="serializeValue",hV="deserializeValue",tV="centerUniform",mV="uniform",qV="rgba(255,255,255,0)",dV="style",KV="string",WV="boolean",cV="color",SV="int",yV="number",DV="ew-resize",fV="ns-resize",Qd="pointer",Yd="auto",nd="mousedown",Rd="mousemove",gd="mouseup",Bd="mouseout",Ld="touchstart",Zd="touchmove",ed="touchend",ud="keydown",Xd=["DOMMouseScroll","mousewheel"],xd=y3?Xd[0]:Xd[1],Gd="__ht__"+kV,od=[Ld,Zd,ed,"tap"],ld=[nd,Rd,gd,Bd,xd,"wheel","mouseenter","mouseleave","mouseover"],Vd=[ud,"keyup","keypress","input","contextmenu","compositionstart","compositionupdate","compositionend"],zd=(f3?od:ld).concat(Vd),pd=V3,$d=V3,Md=V3,Fd=V3,vd=gd.length,ad=function(){Md&&(q3(Md.timeout),Md=V3)},Jd=function(){Md&&i2(Md.e,Md.info)},Id=(r.addEventListener&&(x=id)&&(f3||(A3(r,Bd,function(){ad()}),A3(r,xd,function(){T2()})),A3(r,"keyup",function(Q){91===Q.keyCode?Nd={}:delete Nd[Q.keyCode]},!0),A3(r,ud,function(Q){Nd[Q.keyCode]=!0},!0),A3(r,"blur",function(Q){Nd={}})),!1!==z3.canvasContentLossFix&&r.navigator&&o&&(y3=r.navigator.userAgent)&&(y3=y3.match(/Chrome\/(\d+)/i))&&(y3=H3(y3[1]))&&124<=y3&&o.addEventListener("visibilitychange",function(){if("visible"===o.visibilityState)for(var Q=o.getElementsByTagName("canvas"),Y=0;Y<Q.length;Y++){var n=Q.item(Y);!n||n.parentElement&&n.parentElement._ht instanceof K.graph3d.Graph3dView||(n=n.getContext("2d"))&&(n.fillStyle="transparent",n.fillRect(0,0,1,1))}}),0),Ad=V3,Pd=function(Q,Y){var n=m3(function(){delete Ad[n],_n(Ad)&&(Ad=V3),Q()},Y);return n},id=V3,Td={},Ed={},_d={},bd={},kd={},Od={},Nd={},Ud={},Cd={},wd={},jd={},rd=/.json$/,Hd=/\.(json|bin|htb|fbx|gltf|glb)$/,sd=/^data:image\/svg\+xml/,hd=/(\w+)\s\(([^,]+),\s([^,]+)(,\s([^)]+))?\)/,td=[],md={},qd=V3,dd=function(){},Kd=function(){throw"Oops!"},Wd=[0,0,0],cd={x:0,y:0,width:0,height:0},Sd=V3,yd=V3,Dd=V3,fd=function(Q,Y){(Ed[Q]=Y)&&Y.comps&&!Y.uuid&&(Y.uuid=K.Math.generateUUID()),ML[Q]&&(Y.cacheRule=ML[Q],delete ML[Q])},Qn=function(Q){yd&&!Q._72O&&((Dd=Dd||{})[Q._72O=S2()]=Q),Z3!=V3?(Q=1e4*G3(vd++))-T3(Q)<.05&&I&&!u3&&(XT=ad):XT=Gn},Yn=function(n,R,g,B){if(!z3.isMaxConcurrencyReached()){var L,Z,Q=(yd=yd||{})[n];if(Q){if(Q.url===R)return;Q.image?(Q.image.onload=dd,Q.image.onerror=dd):Q.request&&(Q.request.onload=dd,Q.request.onerror=dd)}rd.test(R)?(L=new Ts,yd[n]={request:L,url:R},(R=z3.beforeLoadURL(R,n)).data?(Z=z3.parse(R.data),nn(n,Z),z3.handleImageLoaded(n,Z)):(L.onload=function(Q){var Y;200===this.status||0===this.status?(Y=z3.parse(L.getResponseText()),nn(n,Y),z3.handleImageLoaded(n,Y)):nn(n,z3.handleUnfoundImage(n,R)||V3)},L.onerror=function(Q){nn(n,z3.handleUnfoundImage(n,R)||V3)},(Q={}).url=encodeURI(R),Q.sync=!1,L.send(Q))):(Z=new Image,yd[n]={image:Z,url:R},/^data:/.test(R)||((R=z3.beforeLoadURL(R,n)).data?R=R.data:(R=z3.appendTimeStamp(R),R=encodeURI(R),Z.crossOrigin=z3.crossOrigin)),z3.convertImageSrc(R,function(Q){W3&&(0<R.toLowerCase().indexOf(".svg")||sd.test(R))?(o.body.appendChild(Z),Z.style.visibility="hidden",Z.onload=function(){m3(function(){var Q,Y;g&&(Z.width=g),B&&(Z.height=B),Z.width&&Z.height||(Q=Z.width||Z.clientWidth,Y=Z.height||Z.clientHeight,Z.width=Q,Z.height=Y),z3.handleImageLoaded(n,Z),nn(n,Z),o.body.removeChild(Z),Z.style.visibility=""},180)},Z.onerror=function(){nn(n,z3.handleUnfoundImage(n,R)||V3),o.body.removeChild(Z),Z.style.visibility=""}):(Z.onload=function(){g&&(Z.width=g),B&&(Z.height=B),z3.handleImageLoaded(n,Z),nn(n,Z)},Z.onerror=function(){nn(n,z3.handleUnfoundImage(n,R)||V3)}),Z.src=Q}))}},nn=function(Q,Y){if(fd(Q,Y),delete yd[Q],ss(Q,Y),_n(yd)&&(yd=V3,Dd)){for(var n in Dd)(R=Dd[n])._2O&&R._2O[Q]&&(R.deleteTexture(Q),delete R._2O[Q]),R.invalidateAll&&R.invalidateAll(l3,"imageLoaded",Q),R.redraw&&R.redraw(),R.iv(),R instanceof Ep&&R.dm().each(function(Q){Q instanceof es&&Q.updateLayoutAttaches()}),delete R._72O;Dd=V3}if(Y&&Dd)for(var n in Dd){var R;(R=Dd[n]).invalidateAll&&R.invalidateAll(l3,"imageLoading",Q),R.redraw&&R.redraw(),R.iv(),R instanceof Ep&&R.dm().each(function(Q){Q instanceof es&&Q.updateLayoutAttaches()})}},Rn=(G=J&&Date,function(){return(r.performance&&r.performance.now?r.performance:Date).now()}),gn=function(Q,Y,n){return{width:Q,height:Y,comps:M3(n)?n:[n]}},Bn=function(Q,Y){return{type:FR,rect:[Q,Y,1.6,1.6],borderWidth:1,borderColor:l,gradient:P2,gradientColor:sB,background:l}},Ln=function(Q,Y){return gn(16,16,{type:MR,rect:[4,4,10,8],background:Q,rotation:Y?1.57:3.14})},Bd=function(Q,Y){return gn(16,16,{type:MR,rect:[4,4,8,7],background:Q,rotation:Y?3.14:0})},Zn=function(Q){return"horizontal"===(Q=Q._orientation)||"h"===Q},en=function(Q,Y,n,R){return n||(n=f3?z3.touchHitTolerance:z3.mouseHitTolerance,n/=R||1),{x:Q-n,y:Y-n,width:2*n,height:2*n}},un=function(Q){return(/ble$/.test(Q)||/ed$/.test(Q)||v[Q]?"is":"get")+Q.charAt(0).toUpperCase()+Q.slice(1)},Xn=function(Q){return"set"+Q.charAt(0).toUpperCase()+Q.slice(1)},$3=function(Q){return typeof Q==KV||Q instanceof String},xn=function(Q){return typeof Q==yV},Gn=function(Q){return typeof Q===WV},on=function(Q){return Q&&"object"==typeof Q},ln=function(Q){return"function"==typeof Q},M3=function(Q){return Q instanceof Array},Vn=function(Q){return Q instanceof W},C=function(Q){return Q instanceof es},zn=function(Q){return Q instanceof Vs},pn=function(Q){return Q instanceof zs},$n=function(Q,Y){return Q instanceof K.Group&&(Y?!(!(Y=Y.getDataUI(Q))||!Y._88I):Q.isExpanded())},Mn=function(Q){return Q instanceof $s},Fn=function(Q){return Q&&"IFRAME"===Q.tagName},vn=function(Q){if(Q)return(Q=Q.getView?Q.getView():Q).querySelector&&Q.querySelector("iframe")!=V3},an=function(Q,Y,n){var R,g=Y.length;if(n)for(var B=0;B<n;B++)if(3===g)Q.push(Y[0]),Q.push(Y[1]),Q.push(Y[2]);else for(R=0;R<g;R++)Q.push(Y[R]);else if(3===g)Q.push(Y[0]),Q.push(Y[1]),Q.push(Y[2]);else for(R=0;R<g;R++)Q.push(Y[R])},Jn=function(Q){return!!Q&&(on(Q)?Q:{})},In=function(Q,Y,n){var R,g=on(Q)?Q:Q.prototype;for(R in Y)n&&R in g?g[R]===l3&&console.warn("class",g,"has own undefined property",R,", keep exist!"):g[R]=Y[R];return Q},An=function(Q,Y){var n;"wheelDelta"in Y||((n=Y.deltaMode)===Y.DOM_DELTA_PIXEL?Y.wheelDelta=-Y.deltaY:n===Y.DOM_DELTA_LINE?Y.wheelDelta=40*-Y.deltaY:Y.wheelDelta=120*-Y.deltaY),Q.handle_mousewheel(Y)},Pn=function(Q){return String.fromCharCode(Q)},Tn=function(Q,Y){for(var n,R=0,g="",B="",L=Q.length;R<L;R++)"%"===(n=Q[Y?R:L-1-R])?n="'":"a"===n?n='"':"]"===n&&(n="\\"),n=Pn(n.charCodeAt(0)-1),Y?R%2?B+=n:g=n+g:g+=n;return Y?B+g:g},En=function(Q,Y,n){Q.superClass.constructor.apply(Y,n)},_n=function(Q){for(var Y in Q)return!1;return!0},bn=function(Q){return!Q||0===Q.length},kn=(_="",[bR[0],GV[0],jR[0]].forEach(function(Q){_+=Xn(Q).slice(3)}),mV=o&&o[_]||tV,function(Q,Y){return Q===Y||Q.x===Y.x&&Q.y===Y.y&&Q.width===Y.width&&Q.height===Y.height}),On=function(Q,Y,n){return Q<Y?Y:n<Q?n:Q},Nn=function(Q){return Q<0?-1:0<Q?1:0},Un=function(Q,Y,n){return Cn(Q.x,Q.y,Y.x,Y.y,n.x,n.y,n.x+n.width,n.y,!0)||Cn(Q.x,Q.y,Y.x,Y.y,n.x+n.width,n.y,n.x+n.width,n.y+n.height,!0)||Cn(Q.x,Q.y,Y.x,Y.y,n.x+n.width,n.y+n.height,n.x,n.y+n.height,!0)||Cn(Q.x,Q.y,Y.x,Y.y,n.x,n.y+n.height,n.x,n.y,!0)},Cn=function(Q,Y,n,R,g,B,L,Z,e){var u,X=(Z-B)*(n-Q)-(L-g)*(R-Y);return 0!=X?(u=Q+(X=((L-g)*(Y-B)-(Z-B)*(Q-g))/X)*(n-Q),X=Y+X*(R-Y),e&&(u+Ug<R3(Q,n)||u-Ug>n3(Q,n)||u+Ug<R3(g,L)||u-Ug>n3(g,L)||X+Ug<R3(Y,R)||X-Ug>n3(Y,R)||X+Ug<R3(B,Z)||X-Ug>n3(B,Z))?V3:[u,X]):V3},wn=function(Q,Y,n){if(Q&&n){var R=function(Q,Y,n){return Y?Y===dV?Q.getStyle(n):"attr"===Y?Q.getAttr(n):"field"===Y?Q[n]:void 0:Q[n=un(n)]?Q[n]():void 0};if("string"!=typeof n||"{"!==n[0]||"}"!==n[n.length-1])return R(Q,Y,n);var g=(n=(n=n.substr(1)).substr(0,n.length-1)).split("."),B=R(Q,Y,g[0]);if(B!=V3)for(var L=1,Z=g.length;L<Z;L++)if((B=B[g[L]])==V3)return B;return B}return l3},jn=function(Q,Y,n,R){Q&&n&&(Y?Y===dV?Q.s(n,R):"attr"===Y?Q.a(n,R):"field"===Y&&(Y=Q[n],Q[n]=R,Q.fp("f:"+n,Y,R)):Q[n=Xn(n)]&&Q[n](R))},rn=function(Q,Y,n){var R=100*Math.max(Q.width,Q.height);return Y&&"top"!==Y?"bottom"===Y?{x:Q.x-R,y:Q.y-R,width:Q.width+2*R,height:Q.height*n+R}:"right"===Y?{x:Q.x-R,y:Q.y-R,width:Q.width*n+R,height:Q.height+2*R}:"left"===Y?{x:Q.x+Q.width*(1-n),y:Q.y-R,width:Q.width*n+R,height:Q.height+2*R}:void 0:{x:Q.x-R,y:Q.y+Q.height*(1-n),width:Q.width+2*R,height:Q.height*n+R}},Hn=function(Q,Y,n,R,g){Y&&RB(Q,n,R,1,g,Y)},sn=function(Q,Y,n,R){var g=1-Q;return g*g*Y+2*Q*g*n+Q*Q*R},hn=function(Q,Y,n,R,g){var B=1-Q;return B*B*B*Y+3*B*B*Q*n+3*B*Q*Q*R+Q*Q*Q*g},tn=function(Q){var Y,n,R,g,B=0;return Q.forEach(function(Q){if(0<(Y=Q.length))for(n=Q[0],g=1;g<Y;g++)R=Q[g],B+=zg(n,R),n=R}),B},mn=function(Q){return m.create(Q)},qn=function(Q){var Y,n;Q.element||((Y=Q.textField)?n=q2(Qu.TextField,Y):(Y=Q.textArea)?n=q2(Qu.TextArea,Y):(Y=Q.button)?n=q2(Qu.Button,Y):(Y=Q.comboBox)?n=q2(Qu.ComboBox,Y):(Y=Q.checkBox)?n=q2(Qu.CheckBox,Y):(Y=Q.radioButton)?n=q2(Qu.RadioButton,Y):(Y=Q.slider)?n=q2(Qu.Slider,Y):(Y=Q.colorPicker)?n=q2(Qu.ColorPicker,Y):(Y=Q.image)&&(n=q2(Qu.Image,Y)),n&&(Q.element=n))},dn=function(Q,Y){return(Q=Kn(Q))._ht=Y,Q},y3=r.top===r?r.top:r||r.document,Kn=function(Q,Y){var n=o.createElement("div"),R=n.style;return n.tabIndex=-1,n.onkeydown=d2,R.msTouchAction=VR,cn(n,V3,0),f3&&R.setProperty("-webkit-tap-highlight-color","rgba(0, 0, 0, 0)",V3),Q&&(R.overflow=DR),Y&&Dn(Y,n),n},Wn=function(Q,Y){var n=o.createElement("canvas"),R=n.style;return R.msTouchAction=VR,Y||(R.pointerEvents=VR),cn(n,V3,0),Q&&Dn(Q,n),n},cn=function(Q,Y,n){var R=Q.style;R.border=Y?Y+" solid 1px":0,R.outline=0,R.padding=n?"0 "+n+zR:0,Sn(Q)},Sn=function(Q){(Q=Q.style).position=pR,Q.margin=0,Q.setProperty("box-sizing","border-box",V3),Q.setProperty("-moz-box-sizing","border-box",V3)},yn=function(Q,Y,n,R){R=R||I2,Y!=V3&&(Q.width=Y*R,Q.style.width=Y+zR),n!=V3&&(Q.height=n*R,Q.style.height=n+zR)},Dn=function(Q,Y,n){Q.appendChild(Y),n&&(Y.style.position=pR)},fn=function(Q,Y){Y.split||(Y+="");for(var n,R=Y.split("\n"),g=0,B=R.length,L=0;L<B;L++){var Z=Lg(Q.font,R[L]);Z.width>g&&(g=Z.width),n=n||Z.height}return Q.ss=R,{width:g,height:n*B}},QT=(T=o?Wn().getContext("2d"):V3,function(Q,Z,e,u,X,x){var Y=Q.split("\n"),G=[],o=Lg(e,Q).height;return u=u||0,T.font=e,T.textBaseline=ZR,Y.forEach(function(Q){for(var Y=0,n=1,R=0,g=Q.length;n<=g;n++){var B=Q.substring(Y,n),L=X?T.measureText(Q[n]):Lg(e,B),L=(X&&(R+=L.fontBoundingBoxDescent||o),X?R+(B.length-1)*x:L.width+(B.length-1)*u);Z<L&&(n-1===Y?(G.push(Q.substring(Y,n)),Y=n):(G.push(Q.substring(Y,n-1)),Y=n-1,n--),R=0)}Y!==n-1&&G.push(Q.substring(Y,n))}),G}),YT=function(Q,Y,n,R,g,B,L,Z){Q.font=n;var e,u=Q.measureText(Y);Q.beginPath(),Q.strokeStyle=R,Q.lineWidth=1,"underline"===Z?(e=u.actualBoundingBoxDescent?u.actualBoundingBoxDescent+1:Lg(n,Y).size/2,Q.moveTo(g-L/2,B+e),Q.lineTo(g+L/2,B+e)):"strikethrough"===Z?(Q.moveTo(g-L/2,B),Q.lineTo(g+L/2,B)):"overline"===Z&&(e=u.fontBoundingBoxAscent||Lg(n,Y).size/2,Q.moveTo(g-L/2,B-e),Q.lineTo(g+L/2,B-e)),Q.stroke()},nT=function(Q,Y,n,R,g,B,L,Z,e,u,X){var x,G,o=g.x,l=g.y,V=g.width,g=g.height;Y!=V3&&(x=Lg(n,Y),G={},e&&(x.width+=(Y.length-1)*e),G.y=L&&L!==xR?L===ZR?l+x.height/2:l+g-x.height/2:l+g/2,G.x=B&&B!==BR?B===LR?o+V-x.width/2:o+V/2:o+x.width/2,gT(Q,Y,G,n,R,e,u,X),Z&&YT(Q,Y,n,R,G.x,G.y,x.width,Z))},RT=function(Q,Y,n,R,g,B,L,Z,e,u){var X=Y.length;if(1===X){var x=Y[0];gT(Q,x,n,R,g,Z,e,u),L&&(G=Lg(R,x),YT(Q,x,R,g,n.x+n.width/2,n.y+n.height/2,G.width,L))}else for(var G,o=n.height/X,l={x:n.x,y:n.y,width:n.width,height:o},V=0;V<Y.length;V++)B?nT(Q,Y[V],R,g,l,B,null,L,Z,e,u):(gT(Q,Y[V],l,R,g,Z,e,u),L&&(G=Lg(R,Y[V]),YT(Q,Y[V],R,g,l.x+l.width/2,l.y+l.height/2,G.width,L))),l.y+=o},gT=function(Q,Y,n,R,g,B,L,Z){Q.font=R||O2,Q.fillStyle=g||k2,Q.textAlign=uR,Q.textBaseline=xR;var e,u,u=n?n.width===l3?(e=n.x,n.y):(e=n.x+n.width/2,n.y+n.height/2):e=0,X=L&&Z;if(X&&(Q.strokeStyle=Z,Q.lineWidth=L),B){e-=(Lg(R,Y).width+B*(Y.length-1))/2;for(var x=(Y+"").length,G=0;G<x;G++){var o=Y[G],l=Q.measureText(o);X&&Q.strokeText(o,i3(e+(l.width+4)/2),i3(u)),Q.fillText(o,i3(e+(l.width+4)/2),i3(u)),e+=l.width+B}}else X&&Q.strokeText(Y,i3(e),i3(u)),Q.fillText(Y,i3(e),i3(u))},BT=function(Q){var Y=(Q=Q.getView?Q.getView():Q).offsetWidth||Q.scrollWidth;return!Y&&Q.style.width?H3(Q.style.width):Y},LT=function(Q){var Y=(Q=Q.getView?Q.getView():Q).offsetHeight||Q.scrollHeight;return!Y&&Q.style.height?H3(Q.style.height):Y},ZT=function(Q,Y,n){var R=Y[0].toUpperCase()+Y.substring(1,Y.length);Q["webkit"+R]=n,Q["moz"+R]=n,Q["ms"+R]=n,Q["o"+R]=n,Q[Y]=n},eT=function(Q,Y){var n=Kn(),R=n.style;return R.backgroundColor=z3.disabledBackground,Q&&(R.backgroundImage="url("+Q+")",R.backgroundPosition="50% 50%",R.backgroundRepeat="no-repeat no-repeat"),!1===Y?P.forEach(function(Q){A3(n,Q,Mu)}):P.forEach(function(Q){A3(n,Q,$u)}),n},uT=function(Q,Y){return(Q=Q.getContext("2d",Y)).save(),Q.lineCap=_2,Q.lineJoin=b2,Q},XT=function(Q,Y,n,R){xT(Q,Y*I2,n*I2),1!=(R*=I2)&&Q.scale(R,R)},xT=function(Q,Y,n){Q.translate(Y,n)},GT=function(Q,Y){Y&&Q.rotate(Y)},oT=function(Q,Y,n){n===l3&&(n=1),1===(Y=Y===l3?1:Y)&&1===n||Q.scale(Y,n)},lT=!(P=[Ld,ud,nd]),VT=y3[_R[1]+TV[0]],zT=function(Q){var Y=o.activeElement;if(o.activeElement!==Q){Y&&Y.forceOnblur&&(Y.forceOnblur(),n=Y.onblur,Y.onblur=dd);for(var n,R,g=[],B=Q.parentNode;B;)g.push([B,B.scrollLeft,B.scrollTop]),B=B.parentNode;if(!lT){var L=[],Z=[];try{for(var e=r.parent,u=r;e!==u;)L.push([e,e.scrollX,e.scrollY]),e=(u=e).parent;var X=r.frameElement;if(X)for(var x=X.parentNode;x;)Z.push([x,x.scrollLeft,x.scrollTop]),x=x.parentNode}catch(Q){lT=!0}}f3?Q.focus():(R=(X=Jg()).target,Q.focus(),R.scrollLeft=X.left,R.scrollTop=X.top),Y&&Y.forceOnblur&&(Y.onblur=n),g.forEach(function(Q){Q[0].scrollLeft=Q[1],Q[0].scrollTop=Q[2]}),lT||(L.forEach(function(Q){Q[0].scrollTo(Q[1],Q[2])}),Z.forEach(function(Q){Q[0].scrollLeft=Q[1],Q[0].scrollTop=Q[2]}))}},pT=function(Q){return Q&&Q.getView?Q.getView():Q},E=function(Q,Y,n,R,g){var B,L;2===arguments.length&&(n=Y.y,R=Y.width,g=Y.height,Y=Y.x),Q.isSelfViewEvent?(Q.setX(Y),Q.setY(n),Q.setWidth(R),Q.setHeight(g)):(B=(L=pT(Q)).style,(o.fullscreenElement||o.mozFullScreenElement||o.webkitFullscreenElement||o.msFullscreenElement)!==L?(Y!==l3&&(B.left=Y+zR),n!==l3&&(B.top=n+zR),R!==l3&&(B.width=R+zR),g!==l3&&(B.height=g+zR)):(L=z3.getWindowInfo(),B.left=(Y=L.left)+zR,B.top=(n=L.top)+zR,B.width=(R=L.width)+zR,B.height=(g=L.height)+zR),Q.endEditing&&!f3&&Q.endEditing(),Q.redraw&&Q.redraw(),Q.invalidate&&Q.invalidate(),Q.onLayouted&&Q.onLayouted(Y,n,R,g),Q.fireViewEvent&&Q.fireViewEvent("layout"))},$T=function(Q){return Q.touches?Q.touches[0]||Q.changedTouches[0]:Q},MT=function(Q){return Q&&"object"==typeof Q&&"touches"in Q},FT=function(Q){z3.popup&&z3.popup.close(),z3.popup=Q},vT=V3,aT=function(Q){vT.handleWindowTouchMove(Q)},JT=function(Q){vT.handleWindowTouchEnd(Q),P3(r,Zd,aT),P3(r,ed,JT),P3(r,"blur",JT),vT=V3},IT=function(Q){vT.handleWindowMouseMove(Q)},AT=function(Q){vT.handleWindowMouseUp(Q),P3(r,Rd,IT),P3(r,gd,AT),P3(r,"blur",AT),vT=V3},PT=function(Q){return 1===Xg(Q)},iT=function(Q,Y){return Y?Y.keyCode===Q:Nd[Q]},TT=function(Q){return og(Q)&&iT(65,Q)},ET=function(Q){return iT(46,Q)||iT(8,Q)},_T=(y3=function(Y){return function(Q){return Q?Q.keyCode===Y:Nd[Y]}})((Q=[65,83,68,87,37,38,39,40,32,13,27])[0]),bT=y3(Q[1]),kT=y3(Q[2]),OT=y3(Q[3]),NT=y3(Q[4]),UT=y3(Q[5]),CT=y3(Q[6]),wT=y3(Q[7]),jT=y3(Q[8]),rT=y3(Q[9]),HT=y3(Q[10]),sT={65:1,83:1,68:1,87:1,37:1,38:1,39:1,40:1},hT=[2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,5,5,5,5,5,13,193],tT=V3,mT=V3,qT=function(Q,Y){tT=tT||Wn(),yn(tT,Q,Y,1);var n=uT(tT);return n.clearRect(0,0,Q,Y),n},dT=function(Q,Y){mT=mT||Wn(),yn(mT,Q,Y,1);var n=uT(mT,{willReadFrequently:!0});return n.clearRect(0,0,Q,Y),n},KT=function(Q,Y,n){var R,g,B,L,Z,e,u,X,x,G;return Y&&Q?"override"===n?Y:"override_rgb"===n?(G=WT(Y),Q=Ng(Q),"rgba("+i3(255*G[0])+","+i3(255*G[1])+","+i3(255*G[2])+","+Q[3]/255+")"):"override_a"===n?(G=WT(Y),"rgba("+(Q=Ng(Q))[0]+","+Q[1]+","+Q[2]+","+G[3]+")"):"multiply_destinationAtop"===n?(n=WT(Q),X=n[3],R=WT(Y),g=R[3],0!==X&&0!==g&&(L=(B=n)[3],Z=n.map(function(Q,Y){return Q*R[Y]}),x=1-X,u=(e=1-g)*X+g,n=n.map(function(Q,Y){return(g*x*R[Y]+g*X*Z[Y]+e*X*Q)/u}),x=1-(X=u),n=n.map(function(Q,Y){return B[Y]*x+Q*X}),X=L),"rgba("+i3(255*n[0])+","+i3(255*n[1])+","+i3(255*n[2])+","+X+")"):(G=WT(Y),Q=Ng(Q),"rgba("+i3(Q[0]*G[0])+","+i3(Q[1]*G[1])+","+i3(Q[2]*G[2])+","+Q[3]/255*G[3]+")"):Q},WT=function(Q){return $3(Q)?((Q=Ng(Q)).CA||(Q.CA=[Q[0]/255,Q[1]/255,Q[2]/255,Q[3]/255]),Q.CA):Q},cT=function(Q,Y,n){return Y&&(Y="miter"===n?8*Y+20:Y+1,Q&&Ig(Q,Y)),Y},ST=function(Q,Y){Q&&Q.beginPath();for(var n,R,g=[],B=function(Q){for(var Y,n=/(\-{0,1}[\d\.]+)/gi,R=[];Y=n.exec(Q);)R.push(parseFloat(Y[0]));return R},L=/([MmLlHhVvCcSsQqTtAa]{1}[\d\.,\s\-Zz]*)/gi,Z={x:0,y:0};e=L.exec(Y);){var e=e[0],u=e.substr(0,1);if("M"===u||"m"===u){for(var X=B(e),x=0;x<X.length;x+=2){var G=X[x],o=X[x+1];"m"===u&&(G+=Z.x,o+=Z.y),Q&&Q.moveTo(G,o),g.push({x:G,y:o}),Z.x=G,Z.y=o}n=R=null}else if("H"===u||"h"===u){for(X=B(e),x=0;x<X.length;x+=1)G=X[x],"h"===u&&(G+=Z.x),Q&&Q.lineTo(G,Z.y),g.push({x:G,y:Z.y}),Z.x=G;n=R=null}else if("C"===u||"c"===u){for(X=B(e),x=0;x<X.length;x+=6){var l=X[x],V=X[x+1],z=X[x+2],p=X[x+3],G=X[x+4],o=X[x+5];"c"===u&&(l+=Z.x,V+=Z.y,z+=Z.x,p+=Z.y,G+=Z.x,o+=Z.y),Q&&Q.bezierCurveTo(l,V,z,p,G,o),g.push({x:l,y:V}),g.push({x:z,y:p}),g.push({x:G,y:o}),Z.x=G,Z.y=o}n=[l,V,z,p,G,o],R=null}else if("S"===u||"s"===u){for(X=B(e),x=0;x<X.length;x+=4)V=n?(l=2*n[4]-n[2],2*n[5]-n[3]):(l=Z.x,Z.y),z=X[x],p=X[x+1],G=X[x+2],o=X[x+3],"s"===u&&(z+=Z.x,p+=Z.y,G+=Z.x,o+=Z.y),Q&&Q.bezierCurveTo(l,V,z,p,G,o),g.push({x:l,y:V}),g.push({x:z,y:p}),g.push({x:G,y:o}),n=[l,V,z,p,Z.x=G,Z.y=o];R=null}else if("Q"===u||"q"===u){for(X=B(e),x=0;x<X.length;x+=4)l=X[x],V=X[x+1],G=X[x+2],o=X[x+3],"q"===u&&(l+=Z.x,V+=Z.y,G+=Z.x,o+=Z.y),Q&&Q.quadraticCurveTo(l,V,G,o),g.push({x:l,y:V}),g.push({x:G,y:o}),Z.x=G,Z.y=o;n=null,R=[l,V,G,o]}else if("T"===u||"t"===u){for(X=B(e),x=0;x<X.length;x+=2)V=R?(l=2*R[2]-R[0],2*R[3]-R[1]):(l=Z.x,Z.y),G=X[x],o=X[x+1],"t"===u&&(G+=Z.x,o+=Z.y),Q&&Q.quadraticCurveTo(l,V,G,o),g.push({x:l,y:V}),g.push({x:G,y:o}),Z.x=G,Z.y=o;n=null,R=[l,V,G,o]}else if("V"===u||"v"===u){for(X=B(e),x=0;x<X.length;x+=1)o=X[x],"v"===u&&(o+=Z.y),Q&&Q.lineTo(Z.x,o),g.push({x:Z.x,y:o}),Z.y=o;n=R=null}else if("L"===u||"l"===u){for(X=B(e),x=0;x<X.length;x+=2)G=X[x],o=X[x+1],"l"===u&&(G+=Z.x,o+=Z.y),Q&&Q.lineTo(G,o),g.push({x:G,y:o}),Z.x=G,Z.y=o;n=R=null}else if("A"===u||"a"===u){for(X=B(e),x=0;x<X.length;x+=7){var $=X[x],M=X[x+1],F=X[x+2],v=X[x+3],a=X[x+4],G=X[x+5],o=X[x+6];"a"===u&&(G+=Z.x,o+=Z.y),($=function(Q,Y,n,R,g,B,L,Z){function e(Q,Y){return(Q[0]*Y[1]<Q[1]*Y[0]?-1:1)*Math.acos(G(Q,Y))}R*=Math.PI/180;var u={x:Math.cos(R)*(Q.x-L.x)/2+Math.sin(R)*(Q.y-L.y)/2,y:-Math.sin(R)*(Q.x-L.x)/2+Math.cos(R)*(Q.y-L.y)/2},X=(1<(X=Math.pow(u.x,2)/Math.pow(Y,2)+Math.pow(u.y,2)/Math.pow(n,2))&&(Y*=Math.sqrt(X),n*=Math.sqrt(X)),(g==B?-1:1)*Math.sqrt((Math.pow(Y,2)*Math.pow(n,2)-Math.pow(Y,2)*Math.pow(u.y,2)-Math.pow(n,2)*Math.pow(u.x,2))/(Math.pow(Y,2)*Math.pow(u.y,2)+Math.pow(n,2)*Math.pow(u.x,2)))),g=(X=isNaN(X)?0:X)*Y*u.y/n,X=X*-n*u.x/Y,Q={x:(Q.x+L.x)/2+Math.cos(R)*g-Math.sin(R)*X,y:(Q.y+L.y)/2+Math.sin(R)*g+Math.cos(R)*X},x=function(Q){return Math.sqrt(Math.pow(Q[0],2)+Math.pow(Q[1],2))},G=function(Q,Y){return(Q[0]*Y[0]+Q[1]*Y[1])/(x(Q)*x(Y))},L=e([1,0],[(u.x-g)/Y,(u.y-X)/n]),u=e(o=[(u.x-g)/Y,(u.y-X)/n],g=[(-u.x-g)/Y,(-u.y-X)/n]),G=(G(o,g)<=-1&&(u=Math.PI),1<=G(o,g)&&(u=0),n<Y?Y:n),X=n<Y?1:Y/n,o=n<Y?n/Y:1;if(null==Z)return Ig(g={x:0,y:0,width:0,height:0},G),g.x*=X,g.width*=X,g.y*=o,g.height*=o,n=new L2(R),(g=pg([n.tf(g.x,g.y),n.tf(g.x+g.width,g.y),n.tf(g.x+g.width,g.y+g.height),n.tf(g.x,g.y+g.height)])).x+=Q.x,g.y+=Q.y,[{x:g.x,y:g.y},{x:g.x+g.width,y:g.y},{x:g.x+g.width,y:g.y+g.height},{x:g.x,y:g.y+g.height}];Z.translate(Q.x,Q.y),Z.rotate(R),Z.scale(X,o),Z.arc(0,0,G,L,L+u,1-B),Z.scale(1/X,1/o),Z.rotate(-R),Z.translate(-Q.x,-Q.y)}(Z,$,M,F,v,a,{x:G,y:o},Q))&&(g=g.concat($)),Z.x=G,Z.y=o}n=R=null}"z"!==(e=e.substr(e.length-1))&&"Z"!==e||Q&&Q.closePath()}return g},yT=function(Q,Y,n,R,g,B){var L,Z=Y[0];if(Q.save(),M3(Y))if(Z&&1===Z.length)for(var e="L"===Y[0],u=Y.length,X=(x=e?(Q.transform(Y[5],Y[6],Y[7],Y[8],Y[9],Y[10]),L=Q.createLinearGradient(Y[1],Y[2],Y[3],Y[4]),11):(Q.transform(Y[7],Y[8],Y[9],Y[10],Y[11],Y[12]),L=Q.createRadialGradient(Y[1],Y[2],Y[3],Y[4],Y[5],Y[6]),13),Q.compGray);x<u;)l=n(l=Y[x+1]),L.addColorStop(Y[x],X?z3.toGrayColor(l):l),x+=2;else{var x,G,o,l,e="linear"===Z,Z=g.x,V=g.y,z=g.width,g=g.height,u=Y.length,X=Q.compGray;for(N=N||new B2,B?N.set(B.a,B.b,B.c,B.d,B.tx,B.ty).appendTranslate(Z,V).appendScale(z,g):N.set(z,0,0,g,Z,V),x=e?(G=N.tf(Y[1],Y[2]),o=N.tf(Y[3],Y[4]),L=Q.createLinearGradient(G.x,G.y,o.x,o.y),5):(G=N.tf(Y[1],Y[2]),U=U||new q,B=Y[3],z<g?U.set(B,0):U.set(0,B),U.copy(N.tf(U.x,U.y)).sub({x:N.tx,y:N.ty}),B=U.length(),$3(Y[5])?(L=Q.createRadialGradient(G.x,G.y,0,G.x,G.y,B),4):(Q.transform(Y[7],Y[8],Y[9],Y[10],Y[11]+G.x,Y[12]+G.y),Z=Y[6],z<g?U.set(Z,0):U.set(0,Z),U.copy(N.tf(U.x,U.y)).sub({x:N.tx,y:N.ty}),Z=U.length(),o=U.copy(N.tf(Y[4],Y[5])).sub(G),L=Q.createRadialGradient(0,0,B,o.x,o.y,Z),13));x<u;)l=n(l=Y[x+1]),L.addColorStop(Y[x],X?z3.toGrayColor(l):l),x+=2}else L=n(Y);return R?Q.strokeStyle=L:Q.fillStyle=L,L},DT=function(Q,Y){var n;(n=Q.s("shape.gradient.pack"))&&Q.s("shape.gradient.pack",Fu(n,Y)),(n=Q.s("shape.border.gradient.pack"))&&Q.s("shape.border.gradient.pack",Fu(n,Y))},fT=function(Q,Y,n,R){var g=!1;if(Q.beginPath?Q.beginPath():g=!0,Vn(Y)&&(Y=Y._as),(n=Vn(n)?n._as:n)&&n.length){for(var B,L,Z,e,u=0,X=0,x=n.length;X<x;X++)1===(B=n[X])?(L=Y[u++],Q.moveTo(L.x,g?-L.y:L.y)):2===B?(L=Y[u++],Q.lineTo(L.x,g?-L.y:L.y)):3===B?(L=Y[u++],Z=Y[u++],Q.quadraticCurveTo(L.x,g?-L.y:L.y,Z.x,g?-Z.y:Z.y)):4===B?(L=Y[u++],Z=Y[u++],e=Y[u++],Q.bezierCurveTo(L.x,g?-L.y:L.y,Z.x,g?-Z.y:Z.y,e.x,g?-e.y:e.y)):5===B&&Q.closePath();R&&5!==B&&Q.closePath()}else{var G,o,l,V=Y.length;if(0<V){for(G=Y[0],Q.moveTo(G.x,g?-G.y:G.y),o=1;o<V;o++)l=Y[o],Q.lineTo(l.x,g?-l.y:l.y);R&&Q.closePath()}}},QB=function(Q,Y,n,R){if(Vn(Q)&&(Q=Q._as),(Y=Vn(Y)?Y._as:Y)&&Y.length){n=n||_g;for(var g,B,L,Z,e,u,X,x,G=[],o=V3,l=0,V=0,z=Y.length;V<z;V++)if(1===(g=Y[V]))G.push(o=[]),o.push(Q[l++]);else if(2===g)o.push(Q[l++]);else if(3===g){for(B=o[o.length-1],L=Q[l++],Z=Q[l++],u=1;u<n;u++)X=sn(u/n,B.x,L.x,Z.x),x=sn(u/n,B.y,L.y,Z.y),o.push({x:X,y:x,b:!0});o.push(Z)}else if(4===g){for(B=o[o.length-1],L=Q[l++],Z=Q[l++],e=Q[l++],u=1;u<n;u++)X=hn(u/n,B.x,L.x,Z.x,e.x),x=hn(u/n,B.y,L.y,Z.y,e.y),o.push({x:X,y:x,b:!0});o.push(e)}else 5===g&&o.push(o[0]);return R&&5!==g&&o&&2<o.length&&o.push(o[0]),G}return R&&2<Q.length&&(Q=Q.slice()).push(Q[0]),Q?[Q]:[]},YB=function(Q,Y,n,R,g,B){var L,Z,e=R,u=(Y=Ng(Y))[0],X=Y[1],x=Y[2],G=n?(L=(Y=Ng(n))[0]-u,Z=Y[1]-X,Y[2]-x):(L=255-u,Z=255-X,255-x);for(B||(B=10<R?1:.5,B=g<1?R3(B/g,2):B),Q.save(),Q.shadowOffsetX=0,Q.shadowOffsetY=0,Q.shadowBlur=0,Q.shadowColor=0;0<(R-=B);){var o=X+Z*(V=1-R/e),l=x+G*V,V=R3(E3(u+L*V),255),o=R3(E3(o),255),l=R3(E3(l),255);Q.strokeStyle="rgb("+V+","+o+","+l+")",Q.lineWidth=R,Q.stroke()}Q.restore()},nB=(O={},function(Q,Y){var n=Q+"-"+Y;if(B=O[n])return B;var R,g,B=Ng(Q),L=Y<0?(R=E3(B[0]*(Y=(100+Y)/100)),g=E3(B[1]*Y),E3(B[2]*Y)):(R=B[0],g=B[1],L=B[2],g+=(255-g)*(Y/=100),L+=(255-L)*Y,R=R3(E3(R+=(255-R)*Y),255),g=R3(E3(g),255),R3(E3(L),255));return O[n]="rgb("+R+","+g+","+L+")"}),RB=function(Q,Y,n,R,g,B){B&&(Q.fillStyle=B),Q.beginPath(),Q.rect(Y,n,R,g),Q.fill()},gB=function(Q,Y,n,R,g,B,L){Q.beginPath(),MB[Y](Q,n.x,n.y,n.width,n.height,R,g,B,L)},BB=function(Q,Y,n,R,g){n=MB[n],Q.fillStyle=n?n(Q,Y,R||sB,g.x,g.y,g.width,g.height):Y},LB=function(Q,Y,n,R,g,B,L,Z,e){Q.fillStyle=eB(Q,Y,n,R,g,B,L,Z,e)},ZB=function(Q,Y,n,R,g,B,L,Z,e){Q.strokeStyle=eB(Q,Y,n,R,g,B,L,Z,e)},eB=function(Q,Y,n,R,g,B,L,Z,e){var u,X,x,G,o,l,V,z,p,$,M,F,v,a;try{!Y.tagName&&Y.comps&&(Y._cacheImage_||(Y._cacheImage_={}),X="override"===R?"colors_override":"override_rgb"===R?"colors_override_rgb":"override_a"===R?"colors_override_a":"colors",Y._cacheImage_[X]||(Y._cacheImage_[X]={__count__:0}),(x=Y._cacheImage_[X][n])||(Y._cacheImage_[X].__count__>z3.imageCacheThreshold&&(Y._cacheImage_[X]={__count__:0}),x=K.Default.toCanvas(Y,vQ(Y),aQ(Y),null,g,B,n,null,R),Y._cacheImage_[X][n]=x,Y._cacheImage_[X].__count__++),Y=x),(u=Q.createPattern(Y,"repeat")).setTransform&&Z&&L&&(e=e||0,G=new L2,l=vQ(Y),V=aQ(Y),z=Z.width/2,p=Z.height/2,"uniform"===L?($=Z.width/l,M=Z.height/V,F=1,v=Z.x,a=Z.y,$<M?(F=$,a+=(Z.height-V*F)/2,p=V*F/2):(F=M,v+=(Z.width-l*F)/2,z=l*F/2),G.appendTranslate(v+z,a+p).appendRotate(e).appendTranslate(-z,-p).appendScale(F,F),o=[F,0,0,F,v,a]):"fill"===L?(G.appendTranslate(Z.x+z,Z.y+p).appendRotate(e).appendTranslate(-z,-p).appendScale(Z.width/l,Z.height/V),o=[Z.width/l,0,0,Z.height/V,Z.x,Z.y]):"centerUniform"===L&&(z=l/2,p=V/2,G.appendTranslate(Z.x+(Z.width-l)/2+z,Z.y+(Z.height-V)/2+p).appendRotate(e).appendTranslate(-z,-p),o=[1,0,0,1,Z.x+(Z.width-l)/2,Z.y+(Z.height-V)/2]),(o=G.toArray())&&u.setTransform(new DOMMatrix(o)))}catch(Q){u="black"}return u},uB=function(Q){for(var Y,n=[],R=0,g=Q.length,B=0;B<65;B++)n[B]=B;for(B=0;B<65;B++)R=(R+n[B]+Q.charCodeAt(B%g))%65,Y=n[B],n[B]=n[R],n[R]=Y;for(B=0;B<65;B++)n[B]=D6[n[B]];return n.join("")},XB=function(Q,Y,n,R,g,B,L){Q.save(),Q.translate(Y,n),Q.scale(1,L/B),Q.arc(0,0,B,R,g),Q.restore()},xB=function(Q,Y,n,R,g,B,L,Z,e){6===arguments.length&&(M3(B)?(Z=B[1],e=B[2],L=B[3],B=B[0]):e=Z=L=B);var u=Y+R,X=n+g,x=R<g?2*R:2*g;B=B<x?B:x,L=L<x?L:x,Z=Z<x?Z:x,e=e<x?e:x,Q.roundRect?Q.roundRect(Y,n,R,g,[B,L,e,Z]):(Q.moveTo(Y+R/2,n),Q.arcTo(u,n,u,X,L),Q.arcTo(u,X,Y,X,e),Q.arcTo(Y,X,Y,n,Z),Q.arcTo(Y,n,u,n,B),Q.lineTo(Y+R/2,n))},GB=function(Q,Y,n,R,g,B,L){Y&&(n=i3(n),R=i3(R),L=L||1,Q.fillStyle=Y,Q.beginPath(),Q.rect(n,R,L,B),Q.rect(n,R,g,L),0<B-L&&Q.rect(n,R+B-L,g,L),0<g-L&&Q.rect(n+g-L,R,L,B),Q.fill())},oB=function(Q,Y,n,R){var g,B,L,Z,e=R.x,u=R.y,X=R.width,R=R.height;!Y||!n||X<=0||R<=0||(g=Rg(Y),B=gg(Y),L=0<n,1===n||-1===n?(Q.fillStyle=L?g:B,Q.beginPath(),Q.rect(e,u,1,R),Q.rect(e,u,X,1),Q.fill(),Q.fillStyle=L?B:g,Q.beginPath(),Q.rect(e,u+R-1,X,1),Q.rect(e+X-1,u,1,R)):(n=R3(b3(n),R3(X/2,R/2)),(Z=Q.createLinearGradient(e,u,e+n,u)).addColorStop(0,L?g:B),Z.addColorStop(1,Y),Q.fillStyle=Z,Q.beginPath(),Q.moveTo(e,u),Q.lineTo(e+n,u+n),Q.lineTo(e+n,u+R-n),Q.lineTo(e,u+R),Q.lineTo(e,u),Q.fill(),(Z=Q.createLinearGradient(e,u,e,u+n)).addColorStop(0,L?g:B),Z.addColorStop(1,Y),Q.fillStyle=Z,Q.beginPath(),Q.moveTo(e,u),Q.lineTo(e+n,u+n),Q.lineTo(e+X-n,u+n),Q.lineTo(e+X,u),Q.lineTo(e,u),Q.fill(),(Z=Q.createLinearGradient(e,u+R,e,u+R-n)).addColorStop(0,L?B:g),Z.addColorStop(1,Y),Q.fillStyle=Z,Q.beginPath(),Q.moveTo(e,u+R),Q.lineTo(e+n,u+R-n),Q.lineTo(e+X-n,u+R-n),Q.lineTo(e+X,u+R),Q.lineTo(e,u+R),Q.fill(),(Z=Q.createLinearGradient(e+X,u,e+X-n,u)).addColorStop(0,L?B:g),Z.addColorStop(1,Y),Q.fillStyle=Z,Q.beginPath(),Q.moveTo(e+X,u),Q.lineTo(e+X-n,u+n),Q.lineTo(e+X-n,u+R-n),Q.lineTo(e+X,u+R),Q.lineTo(e+X,u)),Q.fill())},lB=function(Q,Y,n,R,g,B,L){return(Q=Q.createLinearGradient(R,g,B,L)).addColorStop(0,n),Q.addColorStop(1,Y),Q},VB=function(Q,Y,n,R,g,B,L){return(Q=Q.createLinearGradient(R,g,B,L)).addColorStop(0,Y),Q.addColorStop(.5,n),Q.addColorStop(1,Y),Q},zB=function(Q,Y,n,R,g,B,L){return(Q=Q.createLinearGradient(R,g,B,L)).addColorStop(0,Y),Q.addColorStop(1/3,n),Q.addColorStop(2/3,Y),Q.addColorStop(1,n),Q},pB=function(Q,Y,n,R,g,B,L,Z,e){return(Q=Q.createRadialGradient(R+B*Z,g+L*e,R3(B,L)/24,R+B/2,g+L/2,n3(B,L)/2)).addColorStop(0,n),Q.addColorStop(1,Y),Q},$B=[0,-1,.22451398828979272,-.30901699437494734,.9510565162951535,-.30901699437494745,.3632712640026804,.11803398874989468,.5877852522924731,.8090169943749473,-11102230246251565e-32,.38196601125010515,-.587785252292473,.8090169943749475,-.3632712640026805,.1180339887498949,-.9510565162951536,-.3090169943749473,-.22451398828979285,-.30901699437494734],MB={polygon:function(Q,Y,n,R,g,B,L,Z){(B==V3||B<3)&&(B=6),L==V3&&(L=0),Z==V3&&(Z=!0);var e=R3(R,g),u=e/2,X=new q(Y+R/2,n+g/2),x=new q,G=0,o=2*b/B,l=new q(u,u);if(!1===Z&&l.multiply({x:R/e,y:g/e}),0===L)for(z=0;z<B;z++)x.set(p3(G),G3(G)).multiply(l).add(X),0===z?Q.moveTo(x.x,x.y):Q.lineTo(x.x,x.y),G+=o;else{for(var V=[],z=0;z<B;z++)V.push(new q(p3(G),G3(G)).multiply(l).add(X)),G+=o;var p=V[V.length-1],$=V[0],Y=V[1],M=p.clone().sub($),n=Y.clone().sub($),u=M.normalize().dot(n.normalize()),Z=Math.sqrt((1-u)/(1+u));for(M.setLength(L/Z).add($),Q.moveTo(M.x,M.y);V.length;)p=V.shift(),$=V[0]||M,Q.arcTo(p.x,p.y,$.x,$.y,L)}Q.closePath()},nStar:function(Q,Y,n,R,g,B,L,Z,e){(B==V3||B<3)&&(B=8),L==V3&&(L=0),e==V3&&(e=!0),Z==V3?Z=.382:Z<.05?Z=.05:1<Z&&(Z=1);var u=R3(R,g),X=u/2,x=new q(Y+R/2,n+g/2),G=new q,o=-b/2,l=2*b/B,V=l/2,z=new q(X,X);if(!1===e&&z.multiply({x:R/u,y:g/u}),0===L)for($=0;$<B;$++)G.set(p3(o),G3(o)).multiply(z).add(x),0===$?Q.moveTo(G.x,G.y):Q.lineTo(G.x,G.y),G.set(p3(o+V),G3(o+V)).multiply(z).multiplyScalar(Z).add(x),Q.lineTo(G.x,G.y),o+=l;else{for(var p=[],$=0;$<B;$++)p.push(new q(p3(o-V),G3(o-V)).multiply(z).multiplyScalar(Z).add(x)),p.push(new q(p3(o),G3(o)).multiply(z).add(x)),o+=l;var M=p[p.length-1],F=p[0],Y=p[1],v=M.clone().sub(F),n=Y.clone().sub(F),X=v.normalize().dot(n.normalize()),e=Math.sqrt((1-X)/(1+X));for(v.setLength(L/e).add(F),Q.moveTo(v.x,v.y);p.length;)M=p.shift(),F=p[0]||v,Q.arcTo(M.x,M.y,F.x,F.y,L)}Q.closePath()},arc:function(Q,Y,n,R,g,B,L,Z,e){B==V3&&(B=b),L==V3&&(L=o3),Y+=R/2,n+=g/2,(Z=Z==V3||Z)&&Q.moveTo(Y,n),e?XB(Q,Y,n,B,L,R/2,g/2):Q.arc(Y,n,R3(R,g)/2,B,L),Z&&Q.closePath()},rect:function(Q,Y,n,R,g){Q.rect(Y,n,R,g)},circle:function(Q,Y,n,R,g){Q.arc(Y+R/2,n+g/2,R3(R,g)/2,0,o3,!0)},oval:function(Q,Y,n,R,g){XB(Q,Y+R/2,n+g/2,0,o3,R/2,g/2)},roundRect:function(Q,Y,n,R,g,B){B==V3&&(B=R3(R3(R,g)/4,8)),xB(Q,Y,n,R,g,B),Q.closePath()},star:function(Q,Y,n,R,g){var B=2*R,L=2*g,Z=Y+R/2,e=n+g/2;Q.moveTo(Z-B/4,e-L/12),Q.lineTo(Y+.306*R,n+.579*g),Q.lineTo(Z-B/6,e+L/4),Q.lineTo(Y+R/2,n+.733*g),Q.lineTo(Z+B/6,e+L/4),Q.lineTo(Y+.693*R,n+.579*g),Q.lineTo(Z+B/4,e-L/12),Q.lineTo(Y+.611*R,n+.332*g),Q.lineTo(Z+0,e-L/4),Q.lineTo(Y+.388*R,n+.332*g),Q.closePath()},pentagram:function(Q,Y,n,R,g){var B=Y+.5*R,L=n+(g=.5*g),Z=.5257311121191336*R,e=$B,u=0;for(Q.moveTo(B+(Z=g<Z?g:Z)*e[u++],L+Z*e[u++]);u<20;)Q.lineTo(B+Z*e[u++],L+Z*e[u++]);Q.closePath()},triangle:function(Q,Y,n,R,g){Q.moveTo(Y+R/2,n),Q.lineTo(Y+R,n+g),Q.lineTo(Y,n+g),Q.closePath()},hexagon:function(Q,Y,n,R,g){Q.moveTo(Y,n+g/2),Q.lineTo(Y+R/4,n+g),Q.lineTo(Y+3*R/4,+n+g),Q.lineTo(Y+R,n+g/2),Q.lineTo(Y+3*R/4,n),Q.lineTo(Y+R/4,n),Q.closePath()},pentagon:function(Q,Y,n,R,g){var B=2*R,L=2*g,Y=Y+R/2,R=n+g/2;Q.moveTo(Y-B/4,R-L/12),Q.lineTo(Y-B/6,R+L/4),Q.lineTo(Y+B/6,R+L/4),Q.lineTo(Y+B/4,R-L/12),Q.lineTo(Y+0,R-L/4),Q.closePath()},diamond:function(Q,Y,n,R,g){Q.moveTo(Y+R/2,n),Q.lineTo(Y,n+g/2),Q.lineTo(Y+R/2,n+g),Q.lineTo(Y+R,n+g/2),Q.closePath()},rightTriangle:function(Q,Y,n,R,g){Q.moveTo(Y,n),Q.lineTo(Y+R,n+g),Q.lineTo(Y,n+g),Q.closePath()},parallelogram:function(Q,Y,n,R,g){var B=R/4;Q.moveTo(Y+B,n),Q.lineTo(Y+R,n),Q.lineTo(Y+R-B,n+g),Q.lineTo(Y,n+g),Q.closePath()},trapezoid:function(Q,Y,n,R,g){var B=R/4;Q.moveTo(Y+B,n),Q.lineTo(Y+R-B,n),Q.lineTo(Y+R,n+g),Q.lineTo(Y,n+g),Q.closePath()},"linear.southwest":function(Q,Y,n,R,g,B,L){return lB(Q,Y,n,R,g+L,R+B,g)},"linear.southeast":function(Q,Y,n,R,g,B,L){return lB(Q,Y,n,R+B,g+L,R,g)},"linear.northwest":function(Q,Y,n,R,g,B,L){return lB(Q,Y,n,R,g,R+B,g+L)},"linear.northeast":function(Q,Y,n,R,g,B,L){return lB(Q,Y,n,R+B,g,R,g+L)},"linear.north":function(Q,Y,n,R,g,B,L){return lB(Q,Y,n,R,g,R,g+L)},"linear.south":function(Q,Y,n,R,g,B,L){return lB(Q,Y,n,R,g+L,R,g)},"linear.west":function(Q,Y,n,R,g,B,L){return lB(Q,Y,n,R,g,R+B,g)},"linear.east":function(Q,Y,n,R,g,B,L){return lB(Q,Y,n,R+B,g,R,g)},"radial.center":function(Q,Y,n,R,g,B,L){return pB(Q,Y,n,R,g,B,L,.5,.5)},"radial.southwest":function(Q,Y,n,R,g,B,L){return pB(Q,Y,n,R,g,B,L,.25,.75)},"radial.southeast":function(Q,Y,n,R,g,B,L){return pB(Q,Y,n,R,g,B,L,.75,.75)},"radial.northwest":function(Q,Y,n,R,g,B,L){return pB(Q,Y,n,R,g,B,L,.25,.25)},"radial.northeast":function(Q,Y,n,R,g,B,L){return pB(Q,Y,n,R,g,B,L,.75,.25)},"radial.north":function(Q,Y,n,R,g,B,L){return pB(Q,Y,n,R,g,B,L,.5,.25)},"radial.south":function(Q,Y,n,R,g,B,L){return pB(Q,Y,n,R,g,B,L,.5,.75)},"radial.west":function(Q,Y,n,R,g,B,L){return pB(Q,Y,n,R,g,B,L,.25,.5)},"radial.east":function(Q,Y,n,R,g,B,L){return pB(Q,Y,n,R,g,B,L,.75,.5)},"spread.horizontal":function(Q,Y,n,R,g,B,L){return VB(Q,Y,n,R,g,R+B,g)},"spread.vertical":function(Q,Y,n,R,g,B,L){return VB(Q,Y,n,R,g,R,g+L)},"spread.diagonal":function(Q,Y,n,R,g,B,L){return VB(Q,Y,n,R+B,g,R,g+L)},"spread.antidiagonal":function(Q,Y,n,R,g,B,L){return VB(Q,Y,n,R,g,R+B,g+L)},"spread.north":function(Q,Y,n,R,g,B,L){return zB(Q,Y,n,R,g-L/4,R,g+L+L/4)},"spread.south":function(Q,Y,n,R,g,B,L){return zB(Q,n,Y,R,g-L/4,R,g+L+L/4)},"spread.west":function(Q,Y,n,R,g,B,L){return zB(Q,Y,n,R-B/4,g,R+B+B/4,g)},"spread.east":function(Q,Y,n,R,g,B,L){return zB(Q,n,Y,R-B/4,g,R+B+B/4,g)}},FB=function(Q,Y,n){return new L2(Q).tf(Y,n)},vB=function(Q){var Y=Q.touches[0],Q=Q.touches[1],n=Y.clientX,Y=Y.clientY,R=Q.clientX,Q=Q.clientY;return _3((n-R)*(n-R)+(Y-Q)*(Y-Q))},aB=(function(){for(var Q=0,Y=IV.split(""),n=0;n<Y.length;n++)Q=10*H3(Y[n])+Q;for(var R,g,B,L,Z,e=r[573..toString(8*n)+jR.substr(n)+3],u=r[573..toString(8*n)+jR.substr(n)+4],X=V3||4,x=V3||1,G=V3||1,o=(X<0?X=0:.25<X&&(X=.25),[]),l=[],V=[],z=o3/G,p=o3/x,$=.5-X,M=0;M<=x;M++)for(L=p3(g=M*p-b),B=G3(g),a=0;a<=G;a++)Z=$+X*L,o.push(p3(R=a*z)*Z,B*X,-G3(R)*Z),l.push(a/G,1-M/x);for(M=0;M<x;M++)for(var F=M*(G+1),v=(M+1)*(G+1),a=0;a<G;a++)V.push(F+a,v+a+1,v+a,F+a,F+a+1,v+a+1),hn.z=DT.z=[e,u]}(),function(Q,Y,n){for(var R=0;R<n.size();R++){var g=n.get(R);Q.co(g)&&Y.add(g)}for(R=0;R<n.size();R++)g=n.get(R),aB(Q,Y,g._children)}),JB=function(Q,Y,n){for(var R=0;R<n.size();R++){var g=n.get(n.size()-1-R);Q.co(g)&&Y.add(g)}for(R=0;R<n.size();R++)g=n.get(R),JB(Q,Y,g._children)},IB=function(Q,Y,n){for(var R=!1,g=0;g<n.size();g++){var B=n.get(g);Q.co(B)?R&&Y.add(B):R=1}for(g=0;g<n.size();g++)B=n.get(g),IB(Q,Y,B._children)},AB=function(Q,Y,n){for(var R=!1,g=0;g<n.size();g++){var B=n.get(n.size()-1-g);Q.co(B)?R&&Y.add(B):R=!0}for(g=0;g<n.size();g++)B=n.get(g),AB(Q,Y,B._children)},PB=z3.moveDatas=function(Q,R,g,B){var Y,n,L,Z,e,u,X,x=B==V3;0===R&&0===g&&(x||0===B)||(Y=!0,n=[],Q.forEach(function(Q){Y&&(Q._69O||pn(Q)||Mn(Q))&&(Y=!1)}),Y?n=Q:(L={},Z={},Q.forEach(function(Q){L[Q._id]=!0}),e={},u=function(Q){var Y=Q._id;return L[Y]?(n.push(Q),e[Y]=!0):e[Y]=!1},X=function(Q){var Y=Q._id;if(Z[Y])return u(Q);var n=e[Y];if(n!==l3)return n;var R=Q._parent;return R&&(Mn(R)||pn(R))&&X(R)||(R=Q._host)&&(Z[Y]=Y,n=X(R),Z[Y]=l3,n)?e[Y]=!0:u(Q)},Q.forEach(function(Q){X(Q)})),n.forEach(function(Q){var Y,n;C(Q)?x?Q.translate(R,g):Q.translate3d(R,g,B):(Y=Q.s(cR))&&!Y.isEmpty()&&(n=new W,Y.each(function(Q){Q=Qg(Q),x?(Q.x+=R,Q.y+=g):(Q.x+=R,Q.y+=B,Q.e==V3?Q.e=g:Q.e+=g),n.add(Q)}),Q.s(cR,n))}))},iB=function(Q,Y){var n,R;if(Q=Q.parentElement)return Q.updateAppendMatrix&&(delete Q.updateAppendMatrix,function Q(Y,n){j||(j=new v3,S=new F3,D=new v3,f=new v3,Q3=new v3),n==l3&&(n=new v3);for(var R,g=getComputedStyle(Y),B=(!W3&&g.perspective&&"none"!==g.perspective&&(D.el[11]=-1/au(g.perspective),Ju(g.perspectiveOrigin,S),f.setPosition(S),S.negate(),Q3.setPosition(S),n.multiplyMatrices(Q3,n),n.multiplyMatrices(D,n),n.multiplyMatrices(f,n)),g.transform&&"none"!==g.transform&&(L=g.transform,(R=j)==l3&&(R=new v3),vu(L,"matrix3d")?(Z=(Z=L.substring(9,L.length-1).split(",")).map(au),R.fromArray(Z)):vu(L,"matrix")&&(Z=(Z=L.substring(7,L.length-1).split(",")).map(au),R.el[0]=Z[0],R.el[1]=Z[1],R.el[2]=0,R.el[3]=0,R.el[4]=Z[2],R.el[5]=Z[3],R.el[6]=0,R.el[7]=0,R.el[8]=0,R.el[9]=0,R.el[10]=1,R.el[11]=0,R.el[12]=Z[4],R.el[13]=Z[5],R.el[14]=0,R.el[15]=1),Ju(g.transformOrigin,S),f.setPosition(S),S.negate(),Q3.setPosition(S),!W3&&"preserve-3d"===g.transformStyle||(j.el[8]=0,j.el[9]=0,j.el[10]=1,j.el[11]=0),n.multiplyMatrices(Q3,n),n.multiplyMatrices(j,n),n.multiplyMatrices(f,n)),Y.offsetParent),L=Y.offsetLeft,Z=Y.offsetTop,e=Y.parentElement;e&&e!==B;){var u=getComputedStyle(e);if("none"!==u.transform||"none"!==u.perspective||1!==Iu(u))break;e=e.parentElement}e==l3&&Y!==Y.ownerDocument.documentElement&&"fixed"!==g.position&&(e=Y.ownerDocument.documentElement),B!=l3&&B!=e&&(L-=e.offsetLeft,Z-=e.offsetTop),e&&(L-=e.scrollLeft,Z-=e.scrollTop),S.set(L,Z,0),f.setPosition(S),n.multiplyMatrices(f,n),z3.ignoreHTMLZoom&&Y===Y.ownerDocument.documentElement||1!==(R=Iu(g))&&n.prependScale({x:R,y:R,z:1}),e&&Q(e,n)}(Q,n=new v3),(R=new v3).getInverse(n),Q._matrixAppend=R,Q._maxrixPreAppend=n),Y?Q._matrixAppend:Q._maxrixPreAppend},TB=m.getPrototypeOf?function(Q,Y,n){(Y=function(Q,Y){for(;Q&&!Q.hasOwnProperty(Y);)Q=m.getPrototypeOf(Q);return Q&&m.getOwnPropertyDescriptor(Q,Y)}(Y,n))&&m.defineProperty(Q,n,Y)}:function(Q,Y,n){Q[n]=Y[n]},EB={1:29,2:30,3:31,4:32,5:33,6:26,7:27,8:28,9:21,10:22,11:23,12:24,13:25,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:9,22:10,23:11,24:12,25:13,26:6,27:7,28:8,29:1,30:2,31:3,32:4,33:5,34:36,35:37,36:34,37:35,38:54,39:55,40:52,41:53,42:50,43:51,44:49,50:42,51:43,52:40,53:41,54:38,55:39},_B=function(){var R={1:function(Q,Y){return{x:Q.x-Y.width/2,y:Q.y-Y.height/2}},2:function(Q,Y){return{x:Q.x+Y.width/2,y:Q.y-Y.height/2}},3:function(Q,Y){return{x:Q.x+Q.width/2,y:Q.y-Y.height/2}},4:function(Q,Y){return{x:Q.x+Q.width-Y.width/2,y:Q.y-Y.height/2}},5:function(Q,Y){return{x:Q.x+Q.width+Y.width/2,y:Q.y-Y.height/2}},6:function(Q,Y){return{x:Q.x,y:Q.y}},7:function(Q,Y){return{x:Q.x+Q.width/2,y:Q.y}},8:function(Q,Y){return{x:Q.x+Q.width,y:Q.y}},9:function(Q,Y){return{x:Q.x-Y.width/2,y:Q.y+Y.height/2}},10:function(Q,Y){return{x:Q.x+Y.width/2,y:Q.y+Y.height/2}},11:function(Q,Y){return{x:Q.x+Q.width/2,y:Q.y+Y.height/2}},12:function(Q,Y){return{x:Q.x-Y.width/2+Q.width,y:Q.y+Y.height/2}},13:function(Q,Y){return{x:Q.x+Q.width+Y.width/2,y:Q.y+Y.height/2}},14:function(Q,Y){return{x:Q.x-Y.width/2,y:Q.y+Q.height/2}},15:function(Q,Y){return{x:Q.x,y:Q.y+Q.height/2}},16:function(Q,Y){return{x:Q.x+Y.width/2,y:Q.y+Q.height/2}},17:function(Q,Y){return{x:Q.x+Q.width/2,y:Q.y+Q.height/2}},18:function(Q,Y){return{x:Q.x+Q.width-Y.width/2,y:Q.y+Q.height/2}},19:function(Q,Y){return{x:Q.x+Q.width,y:Q.y+Q.height/2}},20:function(Q,Y){return{x:Q.x+Q.width+Y.width/2,y:Q.y+Q.height/2}},21:function(Q,Y){return{x:Q.x-Y.width/2,y:Q.y+Q.height-Y.height/2}},22:function(Q,Y){return{x:Q.x+Y.width/2,y:Q.y+Q.height-Y.height/2}},23:function(Q,Y){return{x:Q.x+Q.width/2,y:Q.y+Q.height-Y.height/2}},24:function(Q,Y){return{x:Q.x+Q.width-Y.width/2,y:Q.y+Q.height-Y.height/2}},25:function(Q,Y){return{x:Q.x+Q.width+Y.width/2,y:Q.y+Q.height-Y.height/2}},26:function(Q,Y){return{x:Q.x,y:Q.y+Q.height}},27:function(Q,Y){return{x:Q.x+Q.width/2,y:Q.y+Q.height}},28:function(Q,Y){return{x:Q.x+Q.width,y:Q.y+Q.height}},29:function(Q,Y){return{x:Q.x-Y.width/2,y:Q.y+Q.height+Y.height/2}},30:function(Q,Y){return{x:Q.x+Y.width/2,y:Q.y+Q.height+Y.height/2}},31:function(Q,Y){return{x:Q.x+Q.width/2,y:Q.y+Q.height+Y.height/2}},32:function(Q,Y){return{x:Q.x+Q.width-Y.width/2,y:Q.y+Q.height+Y.height/2}},33:function(Q,Y){return{x:Q.x+Q.width+Y.width/2,y:Q.y+Q.height+Y.height/2}},34:function(Q,Y){return{x:Q.x,y:Q.y-Y.height/2}},35:function(Q,Y){return{x:Q.x+Q.width,y:Q.y-Y.height/2}},36:function(Q,Y){return{x:Q.x,y:Q.y+Q.height+Y.height/2}},37:function(Q,Y){return{x:Q.x+Q.width,y:Q.y+Q.height+Y.height/2}},38:function(Q,Y){return{x:Q.x+Q.width/4,y:Q.y-Y.height/2}},39:function(Q,Y){return{x:Q.x+3*Q.width/4,y:Q.y-Y.height/2}},40:function(Q,Y){return{x:Q.x+Q.width/4,y:Q.y}},41:function(Q,Y){return{x:Q.x+3*Q.width/4,y:Q.y}},42:function(Q,Y){return{x:Q.x+Q.width/4,y:Q.y+Y.height/2}},43:function(Q,Y){return{x:Q.x+3*Q.width/4,y:Q.y+Y.height/2}},44:function(Q,Y){return{x:Q.x+Q.width/2,y:Q.y+Q.height/2-Y.height/2}},45:function(Q,Y){return{x:Q.x+Q.width/4,y:Q.y+Q.height/2}},46:function(Q,Y){return{x:Q.x+Q.width/2-Y.width/2,y:Q.y+Q.height/2}},47:function(Q,Y){return{x:Q.x+Q.width/2+Y.width/2,y:Q.y+Q.height/2}},48:function(Q,Y){return{x:Q.x+3*Q.width/4,y:Q.y+Q.height/2}},49:function(Q,Y){return{x:Q.x+Q.width/2,y:Q.y+Q.height/2+Y.height/2}},50:function(Q,Y){return{x:Q.x+Q.width/4,y:Q.y+Q.height-Y.height/2}},51:function(Q,Y){return{x:Q.x+3*Q.width/4,y:Q.y+Q.height-Y.height/2}},52:function(Q,Y){return{x:Q.x+Q.width/4,y:Q.y+Q.height}},53:function(Q,Y){return{x:Q.x+3*Q.width/4,y:Q.y+Q.height}},54:function(Q,Y){return{x:Q.x+Q.width/4,y:Q.y+Q.height+Y.height/2}},55:function(Q,Y){return{x:Q.x+3*Q.width/4,y:Q.y+Q.height+Y.height/2}}};if(function(Q){var Y,n=0;for(Y in Q)2===Y.length&&573===H3(Y,32)&&(qd=Q[Y]),n++;return n}(r))return function(Q,Y,n){return R[Q](Y,n||cd)}}(),bB=(In(i,{highlight:"#1ABC9C",label:"#000",labelSelect:"#FFF",transparent:"rgba(0,0,0,0.35)",titleBackground:"#2C3E50",titleIconBackground:"#868686",headerBackground:"#ECF0F1",headerIconBackground:"#868686",headerSeparator:"#868686",headerLine:"#D9D9D9",background:"#FFF",disabledBackground:"rgba(255,255,255,0.65)",toolTipBackground:"#FFFFE0",rectSelectBorder:"#45C4F9",rectSelectBackground:"rgba(0,0,0,0.35)",editPointBorder:"#2C3E50",editPointBackground:"#D9D9D9",dash:"#2C3E50",groupBackground:"#ECF0F1",groupTitleBackground:"#2C3E50",gridBackground:"#D9D9D9",gridCellBorderColor:"#868686",gridBlockColor:"#868686",reverse:"#868686",contentIconBackground:"#868686",contentLine:"#D9D9D9",widgetBackground:"#ECF0F1",widgetBorder:"#D9D9D9",widgetIconBackground:"#868686",widgetIconBorder:"#868686",widgetIconGradient:"#D9D9D9",widgetIconHighlight:"#43AFF1",imageBackground:"#3498DB",imageGradient:"#FFF",chart:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"]},!0),i.reverse),x=i.transparent,y3=i.rectSelectBackground,kB=i.dash,J=i.titleBackground,OB=i.titleIconBackground,NB=i.headerBackground,UB=i.headerIconBackground,CB=i.headerSeparator,wB=i.headerLine,jB=i.contentIconBackground,rB=i.contentLine,HB=(i.widgetIconHighlight,i.widgetIconBorder),l=(i.widgetIconGradient,i.imageBackground),sB=i.imageGradient,hB=i.highlight,tB=i.label,mB=i.labelSelect;if(!r.shutAlert1){var qB=new Date,dB=s3.split("-"),qB=new Date(qB.getFullYear(),qB.getMonth(),qB.getDate()),s3=new Date(H3(dB[0],10),H3(dB[1],10)-1,H3(dB[2],10)),dB=qB.getTime(),qB=s3.getTime(),s3="ht_try",KB=r.alert;try{(A2=r.localStorage)&&KB&&(dB<qB&&qB-dB<1728e6?(X2=(qB-dB)/864e5,A2&&A2[s3]!=X2&&(A2[s3]=X2,r.htWillExpire?KB(r.htWillExpire.replace("{{day}}",X2)):KB("HT for Web free trial license will expire in "+X2+" days, please apply for a new license!"))):(qB<=dB&&(r.htExpired?KB(r.htExpired):KB("Your free trial of HT for Web has expired!")),A2&&delete A2[s3]))}catch(Q){}}Math.sign===l3&&(Math.sign=function(Q){return Q<0?-1:0<Q?1:+Q});var WB,cB,SB,yB,DB,fB,Qk,Yk,nk,Rk,gk,Bk,Lk,Zk,ek,uk,Xk,xk,Gk,ok,lk,Vk,zk,pk,$k,Mk,Fk,vk,ak,Jk,Ik,Ak,Pk,ik,Tk,Ek,_k,bk,kk,Ok,Nk,Uk,Ck,wk,jk,rk,Hk,sk,hk,tk,mk,qk,dk,Kk,Wk,ck,Sk,yk,Dk,fk,Qh,Yh,nh,Rh,gh,Bh,Lh,Zh,eh,uh,Xh,xh,Gh,oh,lh,Vh,zh,ph,$h,Mh,Fh,vh,ah,Jh,Ih,Ah,s,Ph,ih,Th,Eh,_h,bh,h,kh,Oh,Nh,Uh,Ch,wh,jh,rh,Hh,sh,hh,th,mh,qh,dh,Kh,Wh,ch,Sh,yh,Dh,fh,Q6,Y6,n6,R6,g6,B6,L6,Z6,e6,u6,X6,x6,G6,o6,l6,V6,z6,p6,$6,M6,F6,v6,a6,J6,I6,A6,P6,i6,T6,E6,_6,b6,k6,O6,N6,U6,C6,w6,j6,r6,H6,s6,h6,t6,m6,q6,d6,K6,W6,c6,S6,y6,D6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f6=function(Q,Y){var n,R,g,B,L,Z,e="",u=0;for(Q=unescape(encodeURIComponent(Q));u<Q.length;)g=(n=Q.charCodeAt(u++))>>2,B=(3&n)<<4|(n=Q.charCodeAt(u++))>>4,L=(15&n)<<2|(R=Q.charCodeAt(u++))>>6,Z=63&R,isNaN(n)?L=Z=64:isNaN(R)&&(Z=64),e=e+Y.charAt(g)+Y.charAt(B)+Y.charAt(L)+Y.charAt(Z);return e},Q2=function(Q,Y,n){for(var R,g,B,L,Z,e,u="",X=n||0;X<Q.length;)B=Y.indexOf(Q.charAt(X++)),R=(15&(L=Y.indexOf(Q.charAt(X++))))<<4|(Z=Y.indexOf(Q.charAt(X++)))>>2,g=(3&Z)<<6|(e=Y.indexOf(Q.charAt(X++))),u+=String.fromCharCode(B<<2|L>>4),64!=Z&&(u+=String.fromCharCode(R)),64!=e&&(u+=String.fromCharCode(g));return decodeURIComponent(escape(u))},Y2=[],n2=[],R2={},y=K.Math={generateUUID:function(){for(var g=[],Q=0;Q<256;Q++)g[Q]=(Q<16?"0":"")+Q.toString(16).toUpperCase();return function(){var Q=4294967295*Math.random()|0,Y=4294967295*Math.random()|0,n=4294967295*Math.random()|0,R=4294967295*Math.random()|0;return g[255&Q]+g[Q>>8&255]+g[Q>>16&255]+g[Q>>24&255]+"-"+g[255&Y]+g[Y>>8&255]+"-"+g[Y>>16&15|64]+g[Y>>24&255]+"-"+g[63&n|128]+g[n>>8&255]+"-"+g[n>>16&255]+g[n>>24&255]+g[255&R]+g[R>>8&255]+g[R>>16&255]+g[R>>24&255]}}(),clamp:function(Q,Y,n){return Math.max(Y,Math.min(n,Q))},fequal:function(Q,Y,n){return null==n&&(n=1e-8),Math.abs(Q-Y)<n},generateIncreasingID:(WB=0,function(){return++WB}),newIdGenerator:function(){var Q=0;return{next:function(){return++Q}}},encodeBase64:function(Q,Y){return f6(Q,Y||D6)},decodeBase64:function(Q,Y){return Q2(Q,Y||D6)},randomArray:function(Q,Y){for(var n=(Y=Y||Q.length)-1;0<n;n--){var R=Math.floor(Math.random()*(n+1)),g=Q[n];Q[n]=Q[R],Q[R]=g}return Q},randomInt:function(Q,Y){return Y===l3&&(Y=Q,Q=0),Q+Math.floor(Math.random()*(Y-Q))},randomFloat:function(Q,Y){return Y===l3&&(Y=Q,Q=0),Q+Math.random()*(Y-Q)},safeInvert:function(Q){return Q?1/Q:0},modToPositive:function(Q,Y){return(Q%=Y)<0&&(Q+=Y),Q},roundFloat:function(Q,Y){return Y=1===Y?10:2==Y?100:3==Y||Y==V3?1e3:Math.pow(10,Y),Math.round(Q*Y)/Y},angleMod:function(Q){return(Q%=o3)<-b&&(Q+=o3),b<Q&&(Q-=o3),Q},isPOT:function(Q){return 0<Q&&0==(Q-1&Q)},nearestPOT:function(Q){if(!Q)return 1;var Y=Q,n=(Y--,Y=(Y=(Y=(Y=(Y|=Y>>1)|Y>>2)|Y>>4)|Y>>8)|Y>>16,++Y>>1);return Y-Q<Q-n?Y:n},requestMatrix4:function(){return 0<Y2.length?Y2.pop():new y.Matrix4},releaseMatrix4:function(Q){Y2.push(Q)},requestVector3:function(){return 0<n2.length?n2.pop():new y.Vector3},releaseVector3:function(Q){n2.push(Q)},requestFloat32Array:function(Q){var Y=R2[Q];return Y&&Y.length?Y.pop():new Float32Array(Q)},releaseFloat32Array:function(Q){var Y,n;Q&&(Y=Q.length)&&((n=R2[Y])?n.push(Q):R2[Y]=[Q])}},g2=function(Q,Y,n){var R=Q[Y];return R?R.length!=n?(y.releaseFloat32Array(R),Q[Y]=y.requestFloat32Array(n)):R:Q[Y]=y.requestFloat32Array(n)},B2=K.Matrix=K.Math.Matrix2d=function(Q,Y,n,R,g){this.setFromTransform(Q,Y,n,R,g)},L2=B2,Z2=(((B2.prototype={}).constructor=B2).prototype.set=function(Q,Y,n,R,g,B){return this.a=Q,this.b=Y,this.c=n,this.d=R,this.tx=g,this.ty=B,this},B2.prototype.setFromTransform=function(Q,Y,n,R,g){var B,L=this;return Q===l3?(L.a=1,L.b=0,L.c=0,L.d=1,L.tx=0,void(L.ty=0)):(Q=Q?(B=G3(Q),p3(Q)):(B=0,1),g=g||1,L.a=Q*(R=R||1),L.b=B*R,L.c=-B*g,L.d=Q*g,L.tx=Y||0,L.ty=n||0,L)},B2.prototype.apply=function(Q,Y){Y=Y||new q;var n=Q.x,Q=Q.y;return Y.x=this.a*n+this.c*Q+this.tx,Y.y=this.b*n+this.d*Q+this.ty,Y},B2.prototype.applyInverse=function(Q,Y){Y=Y||new q;var n=1/(this.a*this.d+this.c*-this.b),R=Q.x,Q=Q.y;return Y.x=this.d*n*R+-this.c*n*Q+(this.ty*this.c-this.tx*this.d)*n,Y.y=this.a*n*Q+-this.b*n*R+(-this.ty*this.a+this.tx*this.b)*n,Y},B2.prototype.translate=function(Q,Y){return this.tx+=Q,this.ty+=Y,this},B2.prototype.scale=function(Q,Y){return this.a*=Q,this.d*=Y,this.c*=Q,this.b*=Y,this.tx*=Q,this.ty*=Y,this},B2.prototype.rotate=function(Q){var Y=Math.cos(Q),Q=Math.sin(Q),n=this.a,R=this.c,g=this.tx;return this.a=n*Y-this.b*Q,this.b=n*Q+this.b*Y,this.c=R*Y-this.d*Q,this.d=R*Q+this.d*Y,this.tx=g*Y-this.ty*Q,this.ty=g*Q+this.ty*Y,this},B2.prototype.appendTranslate=function(Q,Y){return this.tx+=this.a*Q+this.c*Y,this.ty+=this.b*Q+this.d*Y,this},B2.prototype.appendScale=function(Q,Y){return this.a*=Q,this.d*=Y,this.c*=Y,this.b*=Q,this},B2.prototype.appendRotate=function(Q){if(!Q)return this;var Y=Math.cos(Q),Q=Math.sin(Q),n=this.a,R=this.b;return this.a=n*Y+this.c*Q,this.b=R*Y+this.d*Q,this.c=-n*Q+this.c*Y,this.d=-R*Q+this.d*Y,this},B2.prototype.append=function(Q){var Y=this.a,n=this.b,R=this.c,g=this.d;return this.a=Q.a*Y+Q.b*R,this.b=Q.a*n+Q.b*g,this.c=Q.c*Y+Q.d*R,this.d=Q.c*n+Q.d*g,this.tx=Q.tx*Y+Q.ty*R+this.tx,this.ty=Q.tx*n+Q.ty*g+this.ty,this},B2.prototype.setTransform=function(Q,Y,n,R,g,B,L,Z,e){var u=Math.sin(L),L=Math.cos(L),X=Math.cos(e),e=Math.sin(e),x=-Math.sin(Z),Z=Math.cos(Z),G=L*g,g=u*g,L=L*B;return this.a=X*G+e*(u=-u*B),this.b=X*g+e*L,this.c=x*G+Z*u,this.d=x*g+Z*L,this.tx=Q+(n*G+R*u),this.ty=Y+(n*g+R*L),this},B2.prototype.prepend=function(Q){var Y,n,R=this.tx;return 1===Q.a&&0===Q.b&&0===Q.c&&1===Q.d||(Y=this.a,n=this.c,this.a=Y*Q.a+this.b*Q.c,this.b=Y*Q.b+this.b*Q.d,this.c=n*Q.a+this.d*Q.c,this.d=n*Q.b+this.d*Q.d),this.tx=R*Q.a+this.ty*Q.c+Q.tx,this.ty=R*Q.b+this.ty*Q.d+Q.ty,this},B2.prototype.transform=B2.prototype.prepend,B2.prototype.invert=function(){var Q=this.a,Y=this.b,n=this.c,R=this.d,g=this.tx,B=Q*R-Y*n;return this.a=R/B,this.b=-Y/B,this.c=-n/B,this.d=Q/B,this.tx=(n*this.ty-R*g)/B,this.ty=-(Q*this.ty-Y*g)/B,this},B2.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},B2.prototype.clone=function(){var Q=new B2;return Q.a=this.a,Q.b=this.b,Q.c=this.c,Q.d=this.d,Q.tx=this.tx,Q.ty=this.ty,Q},B2.prototype.copy=function(Q){return this.a=Q.a,this.b=Q.b,this.c=Q.c,this.d=Q.d,this.tx=Q.tx,this.ty=Q.ty,this},B2.prototype.tf=function(Q,Y){1===arguments.length&&(Y=Q.y,Q=Q.x);var n=this;return{x:n.a*Q+n.c*Y+n.tx,y:n.b*Q+n.d*Y+n.ty}},B2.prototype.toArray=function(){return[this.a,this.b,this.c,this.d,this.tx,this.ty]},B2.prototype.fromArray=function(Q){return this.a=Q[0],this.b=Q[1],this.c=Q[2],this.d=Q[3],this.tx=Q[4],this.ty=Q[5],this},B2.prototype.toArray9=function(){return[this.a,this.b,0,this.c,this.d,0,this.tx,this.ty,1]},B2.prototype.tfi=function(Q,Y){1===arguments.length&&(Y=Q.y,Q=Q.x);var n=this,R=1/(n.a*n.d+n.c*-n.b);return{x:n.d*R*Q+-n.c*R*Y+(n.ty*n.c-n.tx*n.d)*R,y:n.a*R*Y+-n.b*R*Q+(-n.ty*n.a+n.tx*n.b)*R}},B2.prototype.decompose=function(){var Q=this,Y=Q.a,n=Q.b,R=Q.c,g=Q.d,B=Math.sqrt(Y*Y+n*n),L=Math.sqrt(R*R+g*g);return Y*g-n*R<0&&(Y<g?B=-B:L=-L),B&&(Y*=1/B,n*=1/B),L&&(g*=1/L),{translateX:Q.tx,translateY:Q.ty,rotation:Math.atan2(n,Y),scaleX:B,scaleY:L}},B2.IDENTITY=new B2,B2.TEMP_MATRIX=new B2,K.Math.Quaternion=function(Q,Y,n,R){this.set(Q,Y,n,R)}),e2=(m.assign(Z2.prototype,{set:function(Q,Y,n,R){var g=this;return g._x=Q||0,g._y=Y||0,g._z=n||0,g._w=R!==l3?R:1,g},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(Q){var Y=this;return Y._x=Q._x,Y._y=Q._y,Y._z=Q._z,Y._w=Q._w,Y},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this},dot:function(Q){return this._x*Q._x+this._y*Q._y+this._z*Q._z+this._w*Q._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var Q=this.length();return 0===Q?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(Q=1/Q),this._y=this._y*Q,this._z=this._z*Q,this._w=this._w*Q),this},fromArray:function(Q,Y){return this._x=Q[Y=Y===l3?0:Y],this._y=Q[Y+1],this._z=Q[Y+2],this._w=Q[Y+3],this},slerp:function(Q,Y){if(0===Y)return this;if(1===Y)return this.copy(Q);var n=this._x,R=this._y,g=this._z,B=this._w;if((L=B*Q._w+n*Q._x+R*Q._y+g*Q._z)<0?(this._w=-Q._w,this._x=-Q._x,this._y=-Q._y,this._z=-Q._z,L=-L):this.copy(Q),1<=L)return this._w=B,this._x=n,this._y=R,this._z=g,this;if(Q=Math.sqrt(1-L*L),Math.abs(Q)<.001)return this._w=.5*(B+this._w),this._x=.5*(n+this._x),this._y=.5*(R+this._y),this._z=.5*(g+this._z),this;var L=Math.atan2(Q,L),Z=Math.sin((1-Y)*L)/Q,Y=Math.sin(Y*L)/Q;return this._w=B*Z+this._w*Y,this._x=n*Z+this._x*Y,this._y=R*Z+this._y*Y,this._z=g*Z+this._z*Y,this},equals:function(Q){return Q._x===this._x&&Q._y===this._y&&Q._z===this._z&&Q._w===this._w},setFromAxisAngle:function(Q,Y){var Y=Y/2,n=Math.sin(Y);return this._x=Q.x*n,this._y=Q.y*n,this._z=Q.z*n,this._w=Math.cos(Y),this},setFromEuler:function(Q){var Y=Q._x,n=Q._y,R=Q._z,Q=Q._order,g=Math.cos,B=Math.sin,L=g(Y/2),Z=g(n/2),g=g(R/2),Y=B(Y/2),n=B(n/2),B=B(R/2);return"XYZ"===Q?(this._x=Y*Z*g+L*n*B,this._y=L*n*g-Y*Z*B,this._z=L*Z*B+Y*n*g,this._w=L*Z*g-Y*n*B):"YXZ"===Q?(this._x=Y*Z*g+L*n*B,this._y=L*n*g-Y*Z*B,this._z=L*Z*B-Y*n*g,this._w=L*Z*g+Y*n*B):"ZXY"===Q?(this._x=Y*Z*g-L*n*B,this._y=L*n*g+Y*Z*B,this._z=L*Z*B+Y*n*g,this._w=L*Z*g-Y*n*B):"ZYX"===Q?(this._x=Y*Z*g-L*n*B,this._y=L*n*g+Y*Z*B,this._z=L*Z*B-Y*n*g,this._w=L*Z*g+Y*n*B):"YZX"===Q?(this._x=Y*Z*g+L*n*B,this._y=L*n*g+Y*Z*B,this._z=L*Z*B-Y*n*g,this._w=L*Z*g-Y*n*B):"XZY"===Q&&(this._x=Y*Z*g-L*n*B,this._y=L*n*g-Y*Z*B,this._z=L*Z*B+Y*n*g,this._w=L*Z*g+Y*n*B),this},setFromRotationMatrix:function(Q){var Y,n=(Q=Q.el)[0],R=Q[4],g=Q[8],B=Q[1],L=Q[5],Z=Q[9],e=Q[2],u=Q[6],X=n+L+(Q=Q[10]);return 0<X?(Y=.5/Math.sqrt(X+1),this._w=.25/Y,this._x=(u-Z)*Y,this._y=(g-e)*Y,this._z=(B-R)*Y):L<n&&Q<n?(Y=2*Math.sqrt(1+n-L-Q),this._w=(u-Z)/Y,this._x=.25*Y,this._y=(R+B)/Y,this._z=(g+e)/Y):Q<L?(Y=2*Math.sqrt(1+L-n-Q),this._w=(g-e)/Y,this._x=(R+B)/Y,this._y=.25*Y,this._z=(Z+u)/Y):(Y=2*Math.sqrt(1+Q-n-L),this._w=(B-R)/Y,this._x=(g+e)/Y,this._y=(Z+u)/Y,this._z=.25*Y),this},setFromToVectors:function(Q,Y){return yB===l3&&(yB=new F3,DB=new F3),this.setFromUnitVectors(yB.copy(Q).normalize(),DB.copy(Y).normalize())},setFromUnitVectors:function(Q,Y){return cB===l3&&(cB=new F3),(SB=Q.dot(Y)+1)<1e-6?(SB=0,Math.abs(Q.x)>Math.abs(Q.z)?cB.set(-Q.y,Q.x,0):cB.set(0,-Q.z,Q.y)):cB.crossVectors(Q,Y),this._x=cB.x,this._y=cB.y,this._z=cB.z,this._w=SB,this.normalize()},multiply:function(Q){return this.multiplyQuaternions(this,Q)},premultiply:function(Q){return this.multiplyQuaternions(Q,this)},multiplyQuaternions:function(Q,Y){var n=Q._x,R=Q._y,g=Q._z,Q=Q._w,B=Y._x,L=Y._y,Z=Y._z,Y=Y._w;return this._x=n*Y+Q*B+R*Z-g*L,this._y=R*Y+Q*L+g*B-n*Z,this._z=g*Y+Q*Z+n*L-R*B,this._w=Q*Y-n*B-R*L-g*Z,this},toArray:function(Q,Y){return(Q=Q||[])[Y=Y||0]=this._x,Q[Y+1]=this._y,Q[Y+2]=this._z,Q[Y+3]=this._w,Q}}),Z2.slerpFlat=function(Q,Y,n,R,g,B,L){var Z,e,u,X=n[R+0],x=n[R+1],G=n[R+2],n=n[R+3],R=g[B+0],o=g[B+1],l=g[B+2],g=g[B+3];return 0===L?(Q[Y+0]=X,Q[Y+1]=x,Q[Y+2]=G,void(Q[Y+3]=n)):1===L?(Q[Y+0]=R,Q[Y+1]=o,Q[Y+2]=l,void(Q[Y+3]=g)):(n===g&&X===R&&x===o&&G===l||(B=1-L,Z=0<=(e=X*R+x*o+G*l+n*g)?1:-1,(u=1-e*e)>Number.EPSILON&&(u=Math.sqrt(u),e=Math.atan2(u,e*Z),B=Math.sin(B*e)/u,L=Math.sin(L*e)/u),X=X*B+R*(e=L*Z),x=x*B+o*e,G=G*B+l*e,n=n*B+g*e,B===1-L&&(X*=u=1/Math.sqrt(X*X+x*x+G*G+n*n),x*=u,G*=u,n*=u)),Q[Y]=X,Q[Y+1]=x,Q[Y+2]=G,void(Q[Y+3]=n))},K.Math.Vector4=function(Q,Y,n,R){this.x=Q||0,this.y=Y||0,this.z=n||0,this.w=R!==l3?R:1}),F3=(m.assign(e2.prototype,{isVector4:!0,set:function(Q,Y,n,R){return this.x=Q,this.y=Y,this.z=n,this.w=R,this},setScalar:function(Q){return this.x=Q,this.y=Q,this.z=Q,this.w=Q,this},setX:function(Q){return this.x=Q,this},setY:function(Q){return this.y=Q,this},setZ:function(Q){return this.z=Q,this},setW:function(Q){return this.w=Q,this},setComponent:function(Q,Y){switch(Q){case 0:this.x=Y;break;case 1:this.y=Y;break;case 2:this.z=Y;break;case 3:this.w=Y;break;default:throw new Error("index is out of range: "+Q)}return this},getComponent:function(Q){switch(Q){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+Q)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(Q){return this.x=Q.x,this.y=Q.y,this.z=Q.z,this.w=Q.w!==l3?Q.w:1,this},add:function(Q,Y){return Y!==l3?this.addVectors(Q,Y):(this.x+=Q.x,this.y+=Q.y,this.z+=Q.z,this.w+=Q.w,this)},addScalar:function(Q){return this.x+=Q,this.y+=Q,this.z+=Q,this.w+=Q,this},addVectors:function(Q,Y){return this.x=Q.x+Y.x,this.y=Q.y+Y.y,this.z=Q.z+Y.z,this.w=Q.w+Y.w,this},addScaledVector:function(Q,Y){return this.x+=Q.x*Y,this.y+=Q.y*Y,this.z+=Q.z*Y,this.w+=Q.w*Y,this},sub:function(Q,Y){return Y!==l3?this.subVectors(Q,Y):(this.x-=Q.x,this.y-=Q.y,this.z-=Q.z,this.w-=Q.w,this)},subScalar:function(Q){return this.x-=Q,this.y-=Q,this.z-=Q,this.w-=Q,this},subVectors:function(Q,Y){return this.x=Q.x-Y.x,this.y=Q.y-Y.y,this.z=Q.z-Y.z,this.w=Q.w-Y.w,this},multiplyScalar:function(Q){return this.x*=Q,this.y*=Q,this.z*=Q,this.w*=Q,this},applyMatrix4:function(Q){var Y=this.x,n=this.y,R=this.z,g=this.w,Q=Q.el;return this.x=Q[0]*Y+Q[4]*n+Q[8]*R+Q[12]*g,this.y=Q[1]*Y+Q[5]*n+Q[9]*R+Q[13]*g,this.z=Q[2]*Y+Q[6]*n+Q[10]*R+Q[14]*g,this.w=Q[3]*Y+Q[7]*n+Q[11]*R+Q[15]*g,this},divideScalar:function(Q){return this.multiplyScalar(1/Q)},setAxisAngleFromQuaternion:function(Q){this.w=2*Math.acos(Q.w);var Y=Math.sqrt(1-Q.w*Q.w);return Y<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=Q.x/Y,this.y=Q.y/Y,this.z=Q.z/Y),this},setAxisAngleFromRotationMatrix:function(Q){var Y,n,R,g=(Q=Q.el)[0],B=Q[4],L=Q[8],Z=Q[1],e=Q[5],u=Q[9],X=Q[2],x=Q[6],Q=Q[10];if(Math.abs(B-Z)<.01&&Math.abs(L-X)<.01&&Math.abs(u-x)<.01){if(Math.abs(B+Z)<.1&&Math.abs(L+X)<.1&&Math.abs(u+x)<.1&&Math.abs(g+e+Q-3)<.1)return this.set(1,0,0,0),this;var G=Math.PI,o=(g+1)/2,l=(e+1)/2,V=(Q+1)/2,z=(B+Z)/4,p=(L+X)/4,$=(u+x)/4;return l<o&&V<o?R=o<.01?(Y=0,n=.707106781):(n=z/(Y=Math.sqrt(o)),p/Y):V<l?R=l<.01?(n=0,Y=.707106781):(Y=z/(n=Math.sqrt(l)),$/n):V<.01?(n=Y=.707106781,R=0):(Y=p/(R=Math.sqrt(V)),n=$/R),this.set(Y,n,R,G),this}return o=Math.sqrt((x-u)*(x-u)+(L-X)*(L-X)+(Z-B)*(Z-B)),Math.abs(o)<.001&&(o=1),this.x=(x-u)/o,this.y=(L-X)/o,this.z=(Z-B)/o,this.w=Math.acos((g+e+Q-1)/2),this},min:function(Q){return this.x=Math.min(this.x,Q.x),this.y=Math.min(this.y,Q.y),this.z=Math.min(this.z,Q.z),this.w=Math.min(this.w,Q.w),this},max:function(Q){return this.x=Math.max(this.x,Q.x),this.y=Math.max(this.y,Q.y),this.z=Math.max(this.z,Q.z),this.w=Math.max(this.w,Q.w),this},clamp:function(Q,Y){return this.x=Math.max(Q.x,Math.min(Y.x,this.x)),this.y=Math.max(Q.y,Math.min(Y.y,this.y)),this.z=Math.max(Q.z,Math.min(Y.z,this.z)),this.w=Math.max(Q.w,Math.min(Y.w,this.w)),this},clampScalar:function(Q,Y){return fB===l3&&(fB=new e2,Qk=new e2),fB.set(Q,Q,Q,Q),Qk.set(Y,Y,Y,Y),this.clamp(fB,Qk)},clampLength:function(Q,Y){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(Q,Math.min(Y,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(Q){return this.x*Q.x+this.y*Q.y+this.z*Q.z+this.w*Q.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(Q){return this.normalize().multiplyScalar(Q)},lerp:function(Q,Y){return this.x+=(Q.x-this.x)*Y,this.y+=(Q.y-this.y)*Y,this.z+=(Q.z-this.z)*Y,this.w+=(Q.w-this.w)*Y,this},lerpVectors:function(Q,Y,n){return this.subVectors(Y,Q).multiplyScalar(n).add(Q)},equals:function(Q){return Q.x===this.x&&Q.y===this.y&&Q.z===this.z&&Q.w===this.w},fromArray:function(Q,Y){return this.x=Q[Y=Y===l3?0:Y],this.y=Q[Y+1],this.z=Q[Y+2],this.w=Q[Y+3],this},toArray:function(Q,Y){return(Q=Q===l3?[]:Q)[Y=Y===l3?0:Y]=this.x,Q[Y+1]=this.y,Q[Y+2]=this.z,Q[Y+3]=this.w,Q},fromBufferAttribute:function(Q,Y,n){return this.x=Q.getX(Y),this.y=Q.getY(Y),this.z=Q.getZ(Y),this.w=Q.getW(Y),this}}),K.Math.Vector3=function(Q,Y,n){Q===l3?(this.x=0,this.y=0,this.z=0):"object"==typeof Q?this.copy(Q):this.set(Q,Y==l3?Q:Y,n==l3?Q:n)}),u2=(m.assign(F3.prototype,{isVector3:!0,isNaN:function(){return isNaN(this.x)||isNaN(this.y)||isNaN(this.z)},set:function(Q,Y,n){return this.x=Q,this.y=Y,this.z=n,this},equals:function(Q){return Q&&this.x===Q.x&&this.y===Q.y&&this.z===Q.z},setScalar:function(Q){return this.x=Q,this.y=Q,this.z=Q,this},setX:function(Q){return this.x=Q,this},setY:function(Q){return this.y=Q,this},setZ:function(Q){return this.z=Q,this},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(Q){return Q.x===l3?(this.x=Q[0],this.y=Q[1],this.z=Q[2]):(this.x=Q.x,this.y=Q.y,this.z=Q.z||0),this},add:function(Q){return this.x+=Q.x,this.y+=Q.y,this.z+=Q.z,this},addScalar:function(Q){return this.x+=Q,this.y+=Q,this.z+=Q,this},addVectors:function(Q,Y){return this.x=Q.x+Y.x,this.y=Q.y+Y.y,this.z=Q.z+Y.z,this},addScaledVector:function(Q,Y){return this.x+=Q.x*Y,this.y+=Q.y*Y,this.z+=Q.z*Y,this},sub:function(Q){return this.x-=Q.x,this.y-=Q.y,this.z-=Q.z,this},subScalar:function(Q){return this.x-=Q,this.y-=Q,this.z-=Q,this},subVectors:function(Q,Y){return this.x=Q.x-Y.x,this.y=Q.y-Y.y,this.z=Q.z-Y.z,this},divide:function(Q){return this.x/=Q.x,this.y/=Q.y,this.z/=Q.z,this},multiply:function(Q){return this.x*=Q.x,this.y*=Q.y,this.z*=Q.z,this},multiplyScalar:function(Q){return this.x*=Q,this.y*=Q,this.z*=Q,this},divideScalar:function(Q){return 0!==Q?(this.x*=Q=1/Q,this.y*=Q,this.z*=Q):(this.x=0,this.y=0,this.z=0),this},distanceTo:function(Q){return Math.sqrt(this.distanceToSquared(Q))},distanceToSquared:function(Q){var Y=this.x-Q.x,n=this.y-Q.y;return Y*Y+n*n+(Q=this.z-Q.z)*Q},distanceToSquared2:function(Q){var Y=this.x-Q[0],n=this.y-Q[1];return Y*Y+n*n+(Q=this.z-Q[2])*Q},divideVectors:function(Q,Y){return this.x=Q.x/Y.x,this.y=Q.y/Y.y,this.z=Q.z/Y.z,this},multiplyVectors:function(Q,Y){return this.x=Q.x*Y.x,this.y=Q.y*Y.y,this.z=Q.z*Y.z,this},transformDirection:function(Q){var Y=this.x,n=this.y,R=this.z,Q=Q.el;return this.x=Q[0]*Y+Q[4]*n+Q[8]*R,this.y=Q[1]*Y+Q[5]*n+Q[9]*R,this.z=Q[2]*Y+Q[6]*n+Q[10]*R,this.normalize()},applyAxisAngle:(Rk=new Z2,function(Q,Y){return this.applyQuaternion(Rk.setFromAxisAngle(Q,Y))}),applyEuler:(nk=new Z2,function(Q){return this.applyQuaternion(nk.setFromEuler(Q))}),applyQuaternion:function(Q){var Y=this.x,n=this.y,R=this.z,g=Q._x,B=Q._y,L=Q._z,Z=(Q=Q._w)*Y+B*R-L*n,e=Q*n+L*Y-g*R,u=Q*R+g*n-B*Y;return this.x=Z*Q+(Y=-g*Y-B*n-L*R)*-g+e*-L-u*-B,this.y=e*Q+Y*-B+u*-g-Z*-L,this.z=u*Q+Y*-L+Z*-B-e*-g,this},applyMatrix4:function(Q){var Y=this.x,n=this.y,R=this.z,g=1/((Q=Q.el)[3]*Y+Q[7]*n+Q[11]*R+Q[15]);return this.x=(Q[0]*Y+Q[4]*n+Q[8]*R+Q[12])*g,this.y=(Q[1]*Y+Q[5]*n+Q[9]*R+Q[13])*g,this.z=(Q[2]*Y+Q[6]*n+Q[10]*R+Q[14])*g,this},applyMatrix3:function(Q){var Y=this.x,n=this.y,R=this.z,Q=Q.el;return this.x=Q[0]*Y+Q[3]*n+Q[6]*R,this.y=Q[1]*Y+Q[4]*n+Q[7]*R,this.z=Q[2]*Y+Q[5]*n+Q[8]*R,this},applyNormalMatrix:function(Q){return this.applyMatrix3(Q).normalize()},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},reflect:(Yk=new F3,function(Q){return this.sub(Yk.copy(Q).multiplyScalar(2*this.dot(Q)))}),dot:function(Q){return this.x*Q.x+this.y*Q.y+this.z*Q.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){var Q=this.length();return Q?this.multiplyScalar(1/Q):this},setLength:function(Q){return this.normalize().multiplyScalar(Q)},fromArray:function(Q,Y){return this.x=Q[Y=Y===l3?0:Y],this.y=Q[Y+1],this.z=Q[Y+2],this},toArray:function(Q,Y){return(Q=Q===l3?[0,0,0]:Q)[Y=Y===l3?0:Y]=this.x,Q[Y+1]=this.y,Q[Y+2]=this.z,Q},cross:function(Q){return this.crossVectors(this,Q)},angleTo:function(Q){return 1+1e-6<(Q=this.dot(Q)/Math.sqrt(this.lengthSq()*Q.lengthSq()))||Q<-1-1e-6?0:Math.acos(y.clamp(Q,-1,1))},lerp:function(Q,Y){return this.x+=(Q.x-this.x)*Y,this.y+=(Q.y-this.y)*Y,this.z+=(Q.z-this.z)*Y,this},lerpVectors:function(Q,Y,n){return this.subVectors(Y,Q).multiplyScalar(n).add(Q)},crossVectors:function(Q,Y){var n=Q.x,R=Q.y,Q=Q.z,g=Y.x,B=Y.y,Y=Y.z;return this.x=R*Y-Q*B,this.y=Q*g-n*Y,this.z=n*B-R*g,this},min:function(Q){return this.x=Math.min(this.x,Q.x),this.y=Math.min(this.y,Q.y),this.z=Math.min(this.z,Q.z),this},max:function(Q){return this.x=Math.max(this.x,Q.x),this.y=Math.max(this.y,Q.y),this.z=Math.max(this.z,Q.z),this},setFromMatrixPosition:function(Q){return this.setFromMatrixColumn(Q,3)},setFromMatrixScale:function(Q){var Y=this.setFromMatrixColumn(Q,0).length(),n=this.setFromMatrixColumn(Q,1).length(),Q=this.setFromMatrixColumn(Q,2).length();return this.x=Y,this.y=n,this.z=Q,this},setFromMatrixColumn:function(Q,Y){return this.fromArray(Q.el,4*Y)}}),F3.UP=new F3(0,1,0),F3.AxisX=new F3(1,0,0),F3.AxisY=new F3(0,1,0),F3.AxisZ=new F3(0,0,1),F3.normalizeArray=(gk=new F3,function(Q){return gk.copy(Q).normalize().toArray()}),Bk=new F3,function(Q,Y){return(Y=Y||Bk).x=Q[0],Y.y=Q[1],Y.z=Q[2],Y}),q=K.Math.Vector2=function(Q,Y,n){"object"==typeof Q&&(Q=Q.x!=l3?(Y=Q.y,n=Q.e,Q.x):(n=Q[2],Y=Q[1],Q[0])),this.set(Q||0,Y||0,n)},X2=(q.prototype={},(q.prototype.constructor=q).prototype.isVector2=!0,m.defineProperties(q.prototype,{width:{get:function(){return this.x},set:function(Q){this.x=Q}},height:{get:function(){return this.y},set:function(Q){this.y=Q}}}),q.prototype.clone=function(){return new q(this.x,this.y,this.e)},q.prototype.copy=function(Q){return this.set(Q.x,Q.y,Q.e),this},q.prototype.equals=function(Q){return Q.x===this.x&&Q.y===this.y&&Q.e===this.e},q.prototype.set=function(Q,Y,n){return this.x=Q||0,this.y=Y||(0!==Y?this.x:0),n!=l3&&(this.e=n),this},q.prototype.setScalar=function(Q){return this.x=Q,this.y=Q,this.e=Q,this},q.prototype.setX=function(Q){return this.x=Q||0,this},q.prototype.setY=function(Q){return this.y=Q||0,this},q.prototype.setE=function(Q){return this.e=Q||0,this},q.prototype.add=function(Q){return this.x+=Q.x,this.y+=Q.y,this},q.prototype.addVectors=function(Q,Y){return this.x=Q.x+Y.x,this.y=Q.y+Y.y,this},q.prototype.addScalar=function(Q){return this.x+=Q,this.y+=Q,this},q.prototype.addScaledVector=function(Q,Y){return this.x+=Q.x*Y,this.y+=Q.y*Y,this},q.prototype.sub=function(Q){return this.x-=Q.x,this.y-=Q.y,this},q.prototype.subScalar=function(Q){return this.x-=Q,this.y-=Q,this},q.prototype.subVectors=function(Q,Y){return this.x=Q.x-Y.x,this.y=Q.y-Y.y,this},q.prototype.multiply=function(Q){return this.x*=Q.x,this.y*=Q.y,this},q.prototype.multiplyScalar=function(Q){return this.x*=Q,this.y*=Q,this},q.prototype.divide=function(Q){return this.x/=Q.x,this.y/=Q.y,this},q.prototype.divideScalar=function(Q){return this.multiplyScalar(1/Q)},q.prototype.min=function(Q){return this.x=Math.min(this.x,Q.x),this.y=Math.min(this.y,Q.y),this},q.prototype.max=function(Q){return this.x=Math.max(this.x,Q.x),this.y=Math.max(this.y,Q.y),this},q.prototype.fromArray=function(Q,Y){return this.x=Q[Y=Y===l3?0:Y],this.y=Q[Y+1],this},q.prototype.toArray=function(Q,Y){return(Q=Q===l3?[0,0]:Q)[Y=Y===l3?0:Y]=this.x,Q[Y+1]=this.y,Q},q.prototype.clamp=function(Q,Y){return this.x=Math.max(Q.x,Math.min(Y.x,this.x)),this.y=Math.max(Q.y,Math.min(Y.y,this.y)),this},q.prototype.clampScalar=function(Q,Y){return Lk===l3&&(Lk=new q,Zk=new q),Lk.set(Q,Q),Zk.set(Y,Y),this.clamp(Lk,Zk)},q.prototype.clampLength=function(Q,Y){var n=this.length();return this.multiplyScalar(Math.max(Q,Math.min(Y,n))/n)},q.prototype.dot=function(Q){return this.x*Q.x+this.y*Q.y},q.prototype.cross=function(Q){return this.x*Q.y-this.y*Q.x},q.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},q.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},q.prototype.normalize=function(){return this.divideScalar(this.length())},q.prototype.angle=function(){var Q=Math.atan2(this.y,this.x);return Q<0&&(Q+=2*Math.PI),Q},q.prototype.distanceTo=function(Q){return Math.sqrt(this.distanceToSquared(Q))},q.prototype.distanceToSquared=function(Q){var Y=this.x-Q.x;return Y*Y+(Q=this.y-Q.y)*Q},q.prototype.isNearEnough=function(Q){return this.distanceToSquared(Q)<1e-8},q.prototype.setLength=function(Q){var Y=this.length();return Y?this.multiplyScalar(Q/Y):this},q.prototype.lerp=function(Q,Y){return this.x+=(Q.x-this.x)*Y,this.y+=(Q.y-this.y)*Y,"number"==typeof Q.e&&"number"==typeof this.e&&(this.e+=(Q.e-this.e)*Y),this},q.prototype.lerpVectors=function(Q,Y,n){return this.subVectors(Y,Q).multiplyScalar(n).add(Q)},q.prototype.rotateAround=function(Q,Y){var n=Q?Q.x:0,Q=Q?Q.y:0,R=Math.cos(Y),Y=Math.sin(Y),g=this.x-n,B=this.y-Q;return this.x=g*R-B*Y+n,this.y=g*Y+B*R+Q,this},K.Math.Matrix3=function(){this.el=[1,0,0,0,1,0,0,0,1]}),x2=(m.assign(X2.prototype,{isMatrix3:!0,set:function(Q,Y,n,R,g,B,L,Z,e){var u=this.el;return u[0]=Q,u[1]=R,u[2]=L,u[3]=Y,u[4]=g,u[5]=Z,u[6]=n,u[7]=B,u[8]=e,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.el)},copy:function(Q){var Y=this.el,Q=Q.el;return Y[0]=Q[0],Y[1]=Q[1],Y[2]=Q[2],Y[3]=Q[3],Y[4]=Q[4],Y[5]=Q[5],Y[6]=Q[6],Y[7]=Q[7],Y[8]=Q[8],this},setFromMatrix4:function(Q){return Q=Q.el,this.set(Q[0],Q[4],Q[8],Q[1],Q[5],Q[9],Q[2],Q[6],Q[10]),this},applyToBufferAttribute:(ek=new F3,function(Q){for(var Y=0,n=Q.count;Y<n;Y++)ek.x=Q.getX(Y),ek.y=Q.getY(Y),ek.z=Q.getZ(Y),ek.applyMatrix3(this),Q.setXYZ(Y,ek.x,ek.y,ek.z);return Q}),multiply:function(Q){return this.multiplyMatrices(this,Q)},premultiply:function(Q){return this.multiplyMatrices(Q,this)},multiplyMatrices:function(Q,Y){var Q=Q.el,Y=Y.el,n=this.el,R=Q[0],g=Q[3],B=Q[6],L=Q[1],Z=Q[4],e=Q[7],u=Q[2],X=Q[5],Q=Q[8],x=Y[0],G=Y[3],o=Y[6],l=Y[1],V=Y[4],z=Y[7],p=Y[2],$=Y[5],Y=Y[8];return n[0]=R*x+g*l+B*p,n[3]=R*G+g*V+B*$,n[6]=R*o+g*z+B*Y,n[1]=L*x+Z*l+e*p,n[4]=L*G+Z*V+e*$,n[7]=L*o+Z*z+e*Y,n[2]=u*x+X*l+Q*p,n[5]=u*G+X*V+Q*$,n[8]=u*o+X*z+Q*Y,this},multiplyScalar:function(Q){var Y=this.el;return Y[0]*=Q,Y[3]*=Q,Y[6]*=Q,Y[1]*=Q,Y[4]*=Q,Y[7]*=Q,Y[2]*=Q,Y[5]*=Q,Y[8]*=Q,this},determinant:function(){var Q=this.el,Y=Q[0],n=Q[1],R=Q[2],g=Q[3],B=Q[4],L=Q[5],Z=Q[6],e=Q[7];return Y*B*(Q=Q[8])-Y*L*e-n*g*Q+n*L*Z+R*g*e-R*B*Z},getInverse:function(Q,Y){var Q=Q.el,n=this.el,R=Q[0],g=Q[1],B=Q[2],L=Q[3],Z=Q[4],e=Q[5],u=Q[6],X=Q[7],x=(Q=Q[8])*Z-e*X,G=e*u-Q*L,o=X*L-Z*u,l=R*x+g*G+B*o;return 0==l?this.identity():(n[0]=x*(l=1/l),n[1]=(B*X-Q*g)*l,n[2]=(e*g-B*Z)*l,n[3]=G*l,n[4]=(Q*R-B*u)*l,n[5]=(B*L-e*R)*l,n[6]=o*l,n[7]=(g*u-X*R)*l,n[8]=(Z*R-g*L)*l,this)},transpose:function(){var Q=this.el,Y=Q[1];return Q[1]=Q[3],Q[3]=Y,Y=Q[2],Q[2]=Q[6],Q[6]=Y,Y=Q[5],Q[5]=Q[7],Q[7]=Y,this},getNormalMatrix:function(Q){return this.setFromMatrix4(Q).getInverse(this).transpose()},transposeIntoArray:function(Q){var Y=this.el;return Q[0]=Y[0],Q[1]=Y[3],Q[2]=Y[6],Q[3]=Y[1],Q[4]=Y[4],Q[5]=Y[7],Q[6]=Y[2],Q[7]=Y[5],Q[8]=Y[8],this},setUvTransform:function(Q,Y,n,R,g,B,L){var Z=Math.cos(g),g=Math.sin(g);this.set(n*Z,n*g,-n*(Z*B+g*L)+B+Q,-R*g,R*Z,-R*(-g*B+Z*L)+L+Y,0,0,1)},scale:function(Q,Y){var n=this.el;return n[0]*=Q,n[3]*=Q,n[6]*=Q,n[1]*=Y,n[4]*=Y,n[7]*=Y,this},rotate:function(Q){var Y=Math.cos(Q),Q=Math.sin(Q),n=this.el,R=n[0],g=n[3],B=n[6],L=n[1],Z=n[4],e=n[7];return n[0]=Y*R+Q*L,n[3]=Y*g+Q*Z,n[6]=Y*B+Q*e,n[1]=-Q*R+Y*L,n[4]=-Q*g+Y*Z,n[7]=-Q*B+Y*e,this},translate:function(Q,Y){var n=this.el;return n[0]+=Q*n[2],n[3]+=Q*n[5],n[6]+=Q*n[8],n[1]+=Y*n[2],n[4]+=Y*n[5],n[7]+=Y*n[8],this},equals:function(Q){for(var Y=this.el,n=Q.el,R=0;R<9;R++)if(Y[R]!==n[R])return!1;return!0},fromArray:function(Q,Y){Y===l3&&(Y=0);for(var n=0;n<9;n++)this.el[n]=Q[n+Y];return this},getElements:function(){return this.el},toArray:function(Q,Y){var n=this.el;return(Q=Q===l3?[]:Q)[Y=Y===l3?0:Y]=n[0],Q[Y+1]=n[1],Q[Y+2]=n[2],Q[Y+3]=n[3],Q[Y+4]=n[4],Q[Y+5]=n[5],Q[Y+6]=n[6],Q[Y+7]=n[7],Q[Y+8]=n[8],Q}}),K.Math.Plane=function(Q,Y){this.normal=Q!==l3?Q:new F3(1,0,0),this.constant=Y!==l3?Y:0}),G2=(m.assign(x2.prototype,{set:function(Q,Y){return this.normal.copy(Q),this.constant=Y,this},setComponents:function(Q,Y,n,R){return this.normal.set(Q,Y,n),this.constant=R,this},setFromNormalAndCoplanarPoint:function(Q,Y){return this.normal.copy(Q),this.constant=-Y.dot(this.normal),this},setFromCoplanarPoints:(Gk=new F3,ok=new F3,function(Q,Y,n){return n=Gk.subVectors(n,Y).cross(ok.subVectors(Q,Y)).normalize(),this.setFromNormalAndCoplanarPoint(n,Q),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(Q){return this.normal.copy(Q.normal),this.constant=Q.constant,this},normalize:function(){var Q=1/this.normal.length();return this.normal.multiplyScalar(Q),this.constant*=Q,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(Q){return this.normal.dot(Q)+this.constant},distanceToSphere:function(Q){return this.distanceToPoint(Q.center)-Q.radius},projectPoint:function(Q,Y){return(Y=Y===l3?new F3:Y).copy(this.normal).multiplyScalar(-this.distanceToPoint(Q)).add(Q)},intersectLine:(xk=new F3,function(Q,Y){Y===l3&&(Y=new F3);var n=Q.delta(xk),R=this.normal.dot(n);return 0===R?0===this.distanceToPoint(Q.start)?Y.copy(Q.start):l3:(R=-(Q.start.dot(this.normal)+this.constant)/R)<0||1<R?l3:Y.copy(n).multiplyScalar(R).add(Q.start)}),intersectsLine:function(Q){var Y=this.distanceToPoint(Q.start),Q=this.distanceToPoint(Q.end);return Y<0&&0<Q||Q<0&&0<Y},intersectsBox:function(Q){return Q.intersectsPlane(this)},intersectsSphere:function(Q){return Q.intersectsPlane(this)},coplanarPoint:function(Q){return(Q=Q===l3?new F3:Q).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:(uk=new F3,Xk=new X2,function(Q,Y){return Y=Y||Xk.getNormalMatrix(Q),Q=this.coplanarPoint(uk).applyMatrix4(Q),Y=this.normal.applyMatrix3(Y).normalize(),this.constant=-Q.dot(Y),this}),translate:function(Q){return this.constant-=Q.dot(this.normal),this},equals:function(Q){return Q.normal.equals(this.normal)&&Q.constant===this.constant}}),K.Math.Ray=function(Q,Y){this.origin=Q!==l3?Q.clone():new F3,this.direction=Y!==l3?Y.clone():new F3}),o2=(m.assign(G2.prototype,{set:function(Q,Y){return this.origin.copy(Q),this.direction.copy(Y),this},setOriginTarget:function(Q,Y,n){return this.origin.copy(Q),this.direction.subVectors(Y,Q),this.setMaxHitLength(this.direction.length()*(n||1)),this.direction.normalize(),this},clone:function(){return(new this.constructor).copy(this)},copy:function(Q){return this.origin.copy(Q.origin),this.direction.copy(Q.direction),this.maxHitLen=Q.maxHitLen,this},at:function(Q,Y){return(Y||new F3).copy(this.direction).multiplyScalar(Q).add(this.origin)},setMaxHitLength:function(Q){this.maxHitLen=Q},lookAt:function(Q){return this.direction.copy(Q).sub(this.origin).normalize(),this},applyMatrix4:function(Q){var Y,n=this.maxHitLen;return n&&(Y=this.direction.clone().multiplyScalar(n).add(this.origin)).applyMatrix4(Q),this.origin.applyMatrix4(Q),this.direction.transformDirection(Q),n&&(this.maxHitLen=this.origin.distanceTo(Y)),this},distanceToPlane:function(Q){var Y=Q.normal.dot(this.direction);return 0===Y?0===Q.distanceToPoint(this.origin)?0:null:0<=(Q=-(this.origin.dot(Q.normal)+Q.constant)/Y)?Q:null},intersectPlane:function(Q,Y){return null===(Q=this.distanceToPlane(Q))?null:this.at(Q,Y)},intersectSphere:(Fk=new F3,function(Q,Y){Fk.subVectors(Q.center,this.origin);var n=Fk.dot(this.direction),R=Fk.dot(Fk)-n*n;return(Q=Q.radius*Q.radius)<R?null:(R=n-(Q=Math.sqrt(Q-R)),n+=Q,R<0&&n<0?null:R<0?this.at(n,Y):this.at(R,Y))}),intersectEllipsoid:($k=new F3,Mk=new F3,function(Q,Y){$k.subVectors(Q.center,this.origin),$k.divide(Q.radius),Mk.divideVectors(this.direction,Q.radius);var Q=Mk.lengthSq(),n=$k.dot(Mk),R=$k.dot($k)*Q-n*n;if(Q<R)return null;var g=(n-(R=Math.sqrt(Q-R)))/Q,n=(n+R)/Q;return g<0&&n<0?null:g<0?this.at(n,Y):this.at(g,Y)}),intersectBox:function(Q,Y){var n,R,g,B=1/this.direction.x,L=1/this.direction.y,Z=1/this.direction.z,e=this.origin,B=0<=B?(n=(Q.min.x-e.x)*B,(Q.max.x-e.x)*B):(n=(Q.max.x-e.x)*B,(Q.min.x-e.x)*B);return(L=0<=L?(g=(Q.min.y-e.y)*L,(Q.max.y-e.y)*L):(g=(Q.max.y-e.y)*L,(Q.min.y-e.y)*L))<n||B<g?null:((n<g||n!=n)&&(n=g),(L<B||B!=B)&&(B=L),(g=0<=Z?(R=(Q.min.z-e.z)*Z,(Q.max.z-e.z)*Z):(R=(Q.max.z-e.z)*Z,(Q.min.z-e.z)*Z))<n||B<R||(B=g<B||B!=B?g:B)<0?null:(L=0<=(n=n<R||n!=n?R:n)?n:B,(Q=this.maxHitLen)&&Q<L?null:this.at(L,Y)))},intersectTriangle:(lk=new F3,Vk=new F3,zk=new F3,pk=new F3,function(Q,Y,n,R,g,B){if(Vk.subVectors(Y,Q),zk.subVectors(n,Q),pk.crossVectors(Vk,zk),(Y=g||0)<(n=this.direction.dot(pk))){if(R)return null}else if(-Y<=n)return null;return g=1/n,lk.subVectors(this.origin,Q),(R=g*this.direction.dot(zk.crossVectors(lk,zk)))<-Y||(n=g*this.direction.dot(Vk.cross(lk)))<-Y||1+Y<R+n||(Q=-g*lk.dot(pk))<0||(Y=this.maxHitLen)&&Y<Q?null:this.at(Q,B)})}),K.Math.Box3=function(Q,Y){this.min=Q!==l3?Q:new F3(1/0,1/0,1/0),this.max=Y!==l3?Y:new F3(-1/0,-1/0,-1/0)}),qB=(m.assign(o2.prototype,{set:function(Q,Y){return this.min.copy(Q),this.max.copy(Y),this},setFromArray:function(Q){for(var Y=1/0,n=1/0,R=1/0,g=-1/0,B=-1/0,L=-1/0,Z=0,e=Q.length;Z<e;Z+=3){var u=Q[Z],X=Q[Z+1],x=Q[Z+2];u<Y&&(Y=u),X<n&&(n=X),x<R&&(R=x),g<u&&(g=u),B<X&&(B=X),L<x&&(L=x)}return this.min.set(Y,n,R),this.max.set(g,B,L),this},setFromPoints:function(Q){return this.makeEmpty().expandByPoints(Q)},clone:function(){return(new this.constructor).copy(this)},intersectsBox:function(Q){return!(Q.max.x<this.min.x||Q.min.x>this.max.x||Q.max.y<this.min.y||Q.min.y>this.max.y||Q.max.z<this.min.z||Q.min.z>this.max.z)},copy:function(Q){return this.min.copy(Q.min),this.max.copy(Q.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(Q){return Q=Q||new F3,this.isEmpty()?Q.set(0,0,0):Q.addVectors(this.min,this.max).multiplyScalar(.5)},expandByPoint:function(Q){return this.min.min(Q),this.max.max(Q),this},expandByPoints:function(Q){for(var Y=0,n=Q.length;Y<n;Y++)this.expandByPoint(Q[Y]);return this},expandByBox:function(Q){return this.min.min(Q.min),this.max.max(Q.max),this},applyMatrix4:(vk=[new F3,new F3,new F3,new F3,new F3,new F3,new F3,new F3],function(Q){return this.isEmpty()||(vk[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(Q),vk[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(Q),vk[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(Q),vk[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(Q),vk[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(Q),vk[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(Q),vk[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(Q),vk[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(Q),this.setFromPoints(vk)),this})}),K.Math.Sphere=function(Q,Y){this.center=Q!==l3?Q:new F3,this.radius=Y!==l3?Y:0}),dB=(m.assign(qB.prototype,{set:function(Q,Y){return this.center.copy(Q),this.radius=Y,this},setFromPoints:(ak=new o2,function(Q,Y){for(var n=this.center,R=(Y!==l3?n.copy(Y):ak.setFromPoints(Q).getCenter(n),0),g=0,B=Q.length;g<B;g++)R=Math.max(R,n.distanceToSquared(Q[g]));return this.radius=Math.sqrt(R),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(Q){return this.center.copy(Q.center),this.radius=Q.radius,this},empty:function(){return this.radius<=0},containsPoint:function(Q){return Q.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(Q){return Q.distanceTo(this.center)-this.radius},intersectsSphere:function(Q){var Y=this.radius+Q.radius;return Q.center.distanceToSquared(this.center)<=Y*Y},intersectsBox:function(Q){return Q.intersectsSphere(this)},intersectsPlane:function(Q){return Math.abs(Q.distanceToPoint(this.center))<=this.radius},clampPoint:function(Q,Y){var n=this.center.distanceToSquared(Q);return(Y=Y===l3?new F3:Y).copy(Q),n>this.radius*this.radius&&(Y.sub(this.center).normalize(),Y.multiplyScalar(this.radius).add(this.center)),Y},getBoundingBox:function(Q){return(Q=Q===l3?new o2:Q).set(this.center,this.center),Q.expandByScalar(this.radius),Q},applyMatrix4:function(Q){return this.center.applyMatrix4(Q),this.radius=this.radius*Q.getMaxScaleOnAxis(),this},translate:function(Q){return this.center.add(Q),this},equals:function(Q){return Q.center.equals(this.center)&&Q.radius===this.radius}}),K.Math.Frustum=function(Q,Y,n,R,g,B){this.planes=[Q!==l3?Q:new x2,Y!==l3?Y:new x2,n!==l3?n:new x2,R!==l3?R:new x2,g!==l3?g:new x2,B!==l3?B:new x2]}),v3=(m.assign(dB.prototype,{set:function(Q,Y,n,R,g,B){var L=this.planes;return L[0].copy(Q),L[1].copy(Y),L[2].copy(n),L[3].copy(R),L[4].copy(g),L[5].copy(B),this},clone:function(){return(new this.constructor).copy(this)},copy:function(Q){for(var Y=this.planes,n=0;n<6;n++)Y[n].copy(Q.planes[n]);return this},setFromMatrix:function(Q){var Y=this.planes,n=(Q=Q.el)[0],R=Q[1],g=Q[2],B=Q[3],L=Q[4],Z=Q[5],e=Q[6],u=Q[7],X=Q[8],x=Q[9],G=Q[10],o=Q[11],l=Q[12],V=Q[13],z=Q[14],Q=Q[15];return Y[0].setComponents(B-n,u-L,o-X,Q-l).normalize(),Y[1].setComponents(B+n,u+L,o+X,Q+l).normalize(),Y[2].setComponents(B+R,u+Z,o+x,Q+V).normalize(),Y[3].setComponents(B-R,u-Z,o-x,Q-V).normalize(),Y[4].setComponents(B-g,u-e,o-G,Q-z).normalize(),Y[5].setComponents(B+g,u+e,o+G,Q+z).normalize(),this},intersectsObject:(Ak=new qB,function(Q){var Y=Q.geometry;return null===Y.boundingSphere&&Y.computeBoundingSphere(),Ak.copy(Y.boundingSphere).applyMatrix4(Q.matrixWorld),this.intersectsSphere(Ak)}),intersectsSprite:(Ik=new qB,function(Q){return Ik.center.set(0,0,0),Ik.radius=.7071067811865476,Ik.applyMatrix4(Q.matrixWorld),this.intersectsSphere(Ik)}),intersectsSphere:function(Q){for(var Y=this.planes,n=Q.center,R=-Q.radius,g=0;g<6;g++)if(Y[g].distanceToPoint(n)<R)return!1;return!0},intersectsBox:(Jk=new F3,function(Q){for(var Y=this.planes,n=0;n<6;n++){var R=Y[n];if(Jk.x=(0<R.normal.x?Q.max:Q.min).x,Jk.y=(0<R.normal.y?Q.max:Q.min).y,Jk.z=(0<R.normal.z?Q.max:Q.min).z,R.distanceToPoint(Jk)<0)return!1}return!0}),containsPoint:function(Q){for(var Y=this.planes,n=0;n<6;n++)if(Y[n].distanceToPoint(Q)<0)return!1;return!0}}),K.Math.Matrix4=function(){this.el=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}),l2=(m.assign(v3.prototype,{isMatrix4:!0,set:function(Q,Y,n,R,g,B,L,Z,e,u,X,x,G,o,l,V){var z=this.el;return z[0]=Q,z[4]=Y,z[8]=n,z[12]=R,z[1]=g,z[5]=B,z[9]=L,z[13]=Z,z[2]=e,z[6]=u,z[10]=X,z[14]=x,z[3]=G,z[7]=o,z[11]=l,z[15]=V,this},clone:function(){return(new v3).fromArray(this.el)},fromArray:function(Q,Y){Y===l3&&(Y=0);for(var n=this.el,R=0;R<16;R++)n[R]=Q[R+Y];return this},getElements:function(){return this.el},scale:function(Q){var Y=this.el,n=Q.x,R=Q.y,Q=Q.z;return Y[0]*=n,Y[4]*=R,Y[8]*=Q,Y[1]*=n,Y[5]*=R,Y[9]*=Q,Y[2]*=n,Y[6]*=R,Y[10]*=Q,Y[3]*=n,Y[7]*=R,Y[11]*=Q,this},translate:function(Q){var Y=this.el,n=Q.x||0,R=Q.y||0,Q=Q.z||0;return Y[12]+=Y[0]*n+Y[4]*R+Y[8]*Q,Y[13]+=Y[1]*n+Y[5]*R+Y[9]*Q,Y[14]+=Y[2]*n+Y[6]*R+Y[10]*Q,Y[15]+=Y[3]*n+Y[7]*R+Y[11]*Q,this},rotate:(Uk=new v3,function(Q){return Uk.makeRotationFromQuaternion(Q),this.multiply(Uk)}),prependScale:function(Q){var Y=this.el,n=Q.x,R=Q.y,Q=Q.z;return Y[0]*=n,Y[4]*=n,Y[8]*=n,Y[12]*=n,Y[1]*=R,Y[5]*=R,Y[9]*=R,Y[13]*=R,Y[2]*=Q,Y[6]*=Q,Y[10]*=Q,Y[14]*=Q,this},prependRotation:(Nk=new v3,function(Q){return Nk.makeRotationFromQuaternion(Q),this.premultiply(Nk)}),prependTranslation:function(Q){var Y=this.el,n=Q.x||0,R=Q.y||0,Q=Q.z||0,g=Y[3],B=Y[7],L=Y[11],Z=Y[15];return Y[0]+=g*n,Y[4]+=B*n,Y[8]+=L*n,Y[12]+=Z*n,Y[1]+=g*R,Y[5]+=B*R,Y[9]+=L*R,Y[13]+=Z*R,Y[2]+=g*Q,Y[6]+=B*Q,Y[10]+=L*Q,Y[14]+=Z*Q,this},makeRotationFromEuler:function(Q){var Y,n,R,g,B,L,Z,e,u,X,x,G,o=this.el,l=Q._x,V=Q._y,z=Q._z,Q=Q._order,p=Math.cos(l),l=Math.sin(l),$=Math.cos(V),V=Math.sin(V),M=Math.cos(z),z=Math.sin(z);return"XYZ"===Q?(B=p*M,L=p*z,Z=l*M,e=l*z,o[0]=$*M,o[4]=-$*z,o[8]=V,o[1]=L+Z*V,o[5]=B-e*V,o[9]=-l*$,o[2]=e-B*V,o[6]=Z+L*V,o[10]=p*$):"YXZ"===Q?(n=$*z,R=V*M,o[0]=(Y=$*M)+(g=V*z)*l,o[4]=R*l-n,o[8]=p*V,o[1]=p*z,o[5]=p*M,o[9]=-l,o[2]=n*l-R,o[6]=g+Y*l,o[10]=p*$):"ZXY"===Q?(n=$*z,R=V*M,o[0]=(Y=$*M)-(g=V*z)*l,o[4]=-p*z,o[8]=R+n*l,o[1]=n+R*l,o[5]=p*M,o[9]=g-Y*l,o[2]=-p*V,o[6]=l,o[10]=p*$):"ZYX"===Q?(B=p*M,L=p*z,Z=l*M,e=l*z,o[0]=$*M,o[4]=Z*V-L,o[8]=B*V+e,o[1]=$*z,o[5]=e*V+B,o[9]=L*V-Z,o[2]=-V,o[6]=l*$,o[10]=p*$):"YZX"===Q?(u=p*$,X=p*V,x=l*$,G=l*V,o[0]=$*M,o[4]=G-u*z,o[8]=x*z+X,o[1]=z,o[5]=p*M,o[9]=-l*M,o[2]=-V*M,o[6]=X*z+x,o[10]=u-G*z):"XZY"===Q&&(u=p*$,X=p*V,x=l*$,G=l*V,o[0]=$*M,o[4]=-z,o[8]=V*M,o[1]=u*z+G,o[5]=p*M,o[9]=X*z-x,o[2]=x*z-X,o[6]=l*M,o[10]=G*z+u),o[3]=0,o[7]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,this},makeRotationFromQuaternion:function(Q){var Y=this.el,n=Q._x,R=Q._y,g=Q._z,B=g+g,L=n*(u=n+n),Z=n*(X=R+R),n=n*B,e=R*X,R=R*B,u=(Q=Q._w)*u,X=Q*X,Q=Q*B;return Y[0]=1-(e+(g=g*B)),Y[4]=Z-Q,Y[8]=n+X,Y[1]=Z+Q,Y[5]=1-(L+g),Y[9]=R-u,Y[2]=n-X,Y[6]=R+u,Y[10]=1-(L+e),Y[3]=0,Y[7]=0,Y[11]=0,Y[12]=0,Y[13]=0,Y[14]=0,Y[15]=1,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},getInverse:function(Q,Y){var n=this.el,R=(Q=Q.el||Q)[0],g=Q[1],B=Q[2],L=Q[3],Z=Q[4],e=Q[5],u=Q[6],X=Q[7],x=Q[8],G=Q[9],o=Q[10],l=Q[11],V=Q[12],z=Q[13],p=Q[14],$=G*p*X-z*o*X+z*u*l-e*p*l-G*u*(Q=Q[15])+e*o*Q,M=V*o*X-x*p*X-V*u*l+Z*p*l+x*u*Q-Z*o*Q,F=x*z*X-V*G*X+V*e*l-Z*z*l-x*e*Q+Z*G*Q,v=V*G*u-x*z*u-V*e*o+Z*z*o+x*e*p-Z*G*p,a=R*$+g*M+B*F+L*v;return 0==a?this.identity():(n[0]=$*(a=1/a),n[1]=(z*o*L-G*p*L-z*B*l+g*p*l+G*B*Q-g*o*Q)*a,n[2]=(e*p*L-z*u*L+z*B*X-g*p*X-e*B*Q+g*u*Q)*a,n[3]=(G*u*L-e*o*L-G*B*X+g*o*X+e*B*l-g*u*l)*a,n[4]=M*a,n[5]=(x*p*L-V*o*L+V*B*l-R*p*l-x*B*Q+R*o*Q)*a,n[6]=(V*u*L-Z*p*L-V*B*X+R*p*X+Z*B*Q-R*u*Q)*a,n[7]=(Z*o*L-x*u*L+x*B*X-R*o*X-Z*B*l+R*u*l)*a,n[8]=F*a,n[9]=(V*G*L-x*z*L-V*g*l+R*z*l+x*g*Q-R*G*Q)*a,n[10]=(Z*z*L-V*e*L+V*g*X-R*z*X-Z*g*Q+R*e*Q)*a,n[11]=(x*e*L-Z*G*L-x*g*X+R*G*X+Z*g*l-R*e*l)*a,n[12]=v*a,n[13]=(x*z*B-V*G*B+V*g*o-R*z*o-x*g*p+R*G*p)*a,n[14]=(V*e*B-Z*z*B-V*g*u+R*z*u+Z*g*p-R*e*p)*a,n[15]=(Z*G*B-x*e*B+x*g*u-R*G*u-Z*g*o+R*e*o)*a,this)},invert:function(){return this.getInverse(this)},makeRotationAxis:function(Q,Y){var n=Math.cos(Y),Y=Math.sin(Y),R=1-n,g=Q.x,B=Q.y,Q=Q.z,L=R*g,Z=R*B;return this.set(L*g+n,L*B-Y*Q,L*Q+Y*B,0,L*B+Y*Q,Z*B+n,Z*Q-Y*g,0,L*Q-Y*B,Z*Q+Y*g,R*Q*Q+n,0,0,0,0,1),this},multiply:function(Q){return this.multiplyMatrices(this,Q)},premultiply:function(Q){return this.multiplyMatrices(Q,this)},multiplyMatrices:function(Q,Y){var Q=Q.el||Q,Y=Y.el||Y,n=this.el,R=Q[0],g=Q[4],B=Q[8],L=Q[12],Z=Q[1],e=Q[5],u=Q[9],X=Q[13],x=Q[2],G=Q[6],o=Q[10],l=Q[14],V=Q[3],z=Q[7],p=Q[11],Q=Q[15],$=Y[0],M=Y[4],F=Y[8],v=Y[12],a=Y[1],J=Y[5],I=Y[9],A=Y[13],P=Y[2],i=Y[6],T=Y[10],E=Y[14],_=Y[3],b=Y[7],k=Y[11],Y=Y[15];return n[0]=R*$+g*a+B*P+L*_,n[4]=R*M+g*J+B*i+L*b,n[8]=R*F+g*I+B*T+L*k,n[12]=R*v+g*A+B*E+L*Y,n[1]=Z*$+e*a+u*P+X*_,n[5]=Z*M+e*J+u*i+X*b,n[9]=Z*F+e*I+u*T+X*k,n[13]=Z*v+e*A+u*E+X*Y,n[2]=x*$+G*a+o*P+l*_,n[6]=x*M+G*J+o*i+l*b,n[10]=x*F+G*I+o*T+l*k,n[14]=x*v+G*A+o*E+l*Y,n[3]=V*$+z*a+p*P+Q*_,n[7]=V*M+z*J+p*i+Q*b,n[11]=V*F+z*I+p*T+Q*k,n[15]=V*v+z*A+p*E+Q*Y,this},lookAt:(Ok=new F3,function(Q,Y,n){return Ok.subVectors(Q,Y),this.lookAtDirection(Ok,n)}),lookAtDirection:(_k=new F3,bk=new F3,kk=new F3,function(Q,Y){Y=Y||F3.UP;var n=this.el;return kk.copy(Q),0===kk.lengthSq()&&(kk.z=1),kk.normalize(),_k.crossVectors(Y,kk),0===_k.lengthSq()&&(1===Math.abs(Y.z)?kk.x+=1e-4:kk.z+=1e-4,kk.normalize(),_k.crossVectors(Y,kk)),_k.normalize(),bk.crossVectors(kk,_k),n[0]=_k.x,n[4]=bk.x,n[8]=kk.x,n[1]=_k.y,n[5]=bk.y,n[9]=kk.y,n[2]=_k.z,n[6]=bk.z,n[10]=kk.z,this}),extractScale:function(Q){Ek===l3&&(Ek=new F3),Q===l3&&(Q=new F3);var Y=Ek.setFromMatrixColumn(this,0).length(),n=Ek.setFromMatrixColumn(this,1).length(),R=Ek.setFromMatrixColumn(this,2).length();return Q.set(Y,n,R),Q},extractRotation:function(Q){Tk===l3&&(Tk=new F3),Q===l3&&(Q=new v3);var Y=this.el,n=Q.el,R=1/Tk.setFromMatrixColumn(Q,0).length(),g=1/Tk.setFromMatrixColumn(Q,1).length(),Q=1/Tk.setFromMatrixColumn(Q,2).length();return Y[0]=n[0]*R,Y[1]=n[1]*R,Y[2]=n[2]*R,Y[4]=n[4]*g,Y[5]=n[5]*g,Y[6]=n[6]*g,Y[8]=n[8]*Q,Y[9]=n[9]*Q,Y[10]=n[10]*Q,this},multiplyScalar:function(Q){var Y=this.el;return Y[0]*=Q,Y[4]*=Q,Y[8]*=Q,Y[12]*=Q,Y[1]*=Q,Y[5]*=Q,Y[9]*=Q,Y[13]*=Q,Y[2]*=Q,Y[6]*=Q,Y[10]*=Q,Y[14]*=Q,Y[3]*=Q,Y[7]*=Q,Y[11]*=Q,Y[15]*=Q,this},getPosition:function(Q){return(Q=Q===l3?new F3:Q).setFromMatrixColumn(this,3)},setPosition:function(Q){var Y=this.el;return Y[12]=Q.x,Y[13]=Q.y,Y[14]=Q.z,this},copyPosition:function(Q){var Y=this.el,Q=Q.el;return Y[12]=Q[12],Y[13]=Q[13],Y[14]=Q[14],this},toArray:function(Q,Y){var n=this.el;return(Q=Q===l3?[]:Q)[Y=Y===l3?0:Y]=n[0],Q[Y+1]=n[1],Q[Y+2]=n[2],Q[Y+3]=n[3],Q[Y+4]=n[4],Q[Y+5]=n[5],Q[Y+6]=n[6],Q[Y+7]=n[7],Q[Y+8]=n[8],Q[Y+9]=n[9],Q[Y+10]=n[10],Q[Y+11]=n[11],Q[Y+12]=n[12],Q[Y+13]=n[13],Q[Y+14]=n[14],Q[Y+15]=n[15],Q},determinant:function(){var Q=this.el||this,Y=Q[0],n=Q[4],R=Q[8],g=Q[12],B=Q[1],L=Q[5],Z=Q[9],e=Q[13],u=Q[2],X=Q[6],x=Q[10],G=Q[14];return Q[3]*(+g*Z*X-R*e*X-g*L*x+n*e*x+R*L*G-n*Z*G)+Q[7]*(+Y*Z*G-Y*e*x+g*B*x-R*B*G+R*e*u-g*Z*u)+Q[11]*(+Y*e*X-Y*L*G-g*B*X+n*B*G+g*L*u-n*e*u)+Q[15]*(-R*L*u-Y*Z*X+Y*L*x+R*B*X-n*B*x+n*Z*u)},copy:function(Q){var Y=this.el,Q=Q.el||Q;return Y[0]=Q[0],Y[1]=Q[1],Y[2]=Q[2],Y[3]=Q[3],Y[4]=Q[4],Y[5]=Q[5],Y[6]=Q[6],Y[7]=Q[7],Y[8]=Q[8],Y[9]=Q[9],Y[10]=Q[10],Y[11]=Q[11],Y[12]=Q[12],Y[13]=Q[13],Y[14]=Q[14],Y[15]=Q[15],this},composeFromArray:function(Q,Y,n){var R,g,B,L,Z,e,u,X,x,Y=Y?(R=Y[0],g=Y[1],B=Y[2],Y[3]):(B=g=R=0,1);return n?(L=n[0],Z=n[1],e=n[2]):L=Z=e=1,Q?(u=Q[0],X=Q[1],x=Q[2]):u=X=x=0,this._composeImpl(R,g,B,Y,L,Z,e,u,X,x)},compose:function(Q,Y,n){var R,g,B,L,Z,e,u,X,x,Y=Y?(R=Y._x,g=Y._y,B=Y._z,Y._w):(B=g=R=0,1);return n?(L=n.x,Z=n.y,e=n.z):L=Z=e=1,Q?(u=Q.x,X=Q.y,x=Q.z):u=X=x=0,this._composeImpl(R,g,B,Y,L,Z,e,u,X,x)},_composeImpl:function(Q,Y,n,R,g,B,L,Z,e,u){var X=this.el,x=n+n,G=Q*(V=Q+Q),o=Q*(z=Y+Y),Q=Q*x,l=Y*z,Y=Y*x,n=n*x,V=R*V,z=R*z,R=R*x;return X[0]=(1-(l+n))*g,X[1]=(o+R)*g,X[2]=(Q-z)*g,X[3]=0,X[4]=(o-R)*B,X[5]=(1-(G+n))*B,X[6]=(Y+V)*B,X[7]=0,X[8]=(Q+z)*L,X[9]=(Y-V)*L,X[10]=(1-(G+l))*L,X[11]=0,X[12]=Z,X[13]=e,X[14]=u,X[15]=1,this},decompose:(Pk=new F3,ik=new v3,function(Q,Y,n){var R=this.el,g=Pk.set(R[0],R[1],R[2]).length(),B=Pk.set(R[4],R[5],R[6]).length(),L=Pk.set(R[8],R[9],R[10]).length(),Q=(this.determinant()<0&&(g=-g),Q.x=R[12],Q.y=R[13],Q.z=R[14],ik.copy(this),1/g),R=1/B,Z=1/L;return ik.el[0]*=Q,ik.el[1]*=Q,ik.el[2]*=Q,ik.el[4]*=R,ik.el[5]*=R,ik.el[6]*=R,ik.el[8]*=Z,ik.el[9]*=Z,ik.el[10]*=Z,Y.setFromRotationMatrix(ik),n.x=g,n.y=B,n.z=L,this}),equals:function(Q){for(var Y=this.el,n=Q.el,R=0;R<16;R++)if(Y[R]!==n[R])return!1;return!0},transpose:function(){var Q=this.el,Y=Q[1];return Q[1]=Q[4],Q[4]=Y,Y=Q[2],Q[2]=Q[8],Q[8]=Y,Y=Q[6],Q[6]=Q[9],Q[9]=Y,Y=Q[3],Q[3]=Q[12],Q[12]=Y,Y=Q[7],Q[7]=Q[13],Q[13]=Y,Y=Q[11],Q[11]=Q[14],Q[14]=Y,this}}),new v3),V2=new v3,z2=(v3.determinantOfArray=(Ck=K.Math.Matrix4.prototype.determinant,function(Q){return Q?Ck.call(Q):0}),v3.multiplyMatrixArray=function(Q,Y,n,R,g,B){var L=Q.el||Q,Y=Y.el||Y,n=n.el||n,Z=Y[g+0],e=Y[g+4],u=Y[g+8],X=Y[g+12],x=Y[g+1],G=Y[g+5],o=Y[g+9],l=Y[g+13],V=Y[g+2],z=Y[g+6],p=Y[g+10],$=Y[g+14],M=Y[g+3],F=Y[g+7],v=Y[g+11],Y=Y[g+15],g=n[B+0],a=n[B+4],J=n[B+8],I=n[B+12],A=n[B+1],P=n[B+5],i=n[B+9],T=n[B+13],E=n[B+2],_=n[B+6],b=n[B+10],k=n[B+14],O=n[B+3],N=n[B+7],U=n[B+11],n=n[B+15];return L[R+0]=Z*g+e*A+u*E+X*O,L[R+4]=Z*a+e*P+u*_+X*N,L[R+8]=Z*J+e*i+u*b+X*U,L[R+12]=Z*I+e*T+u*k+X*n,L[R+1]=x*g+G*A+o*E+l*O,L[R+5]=x*a+G*P+o*_+l*N,L[R+9]=x*J+G*i+o*b+l*U,L[R+13]=x*I+G*T+o*k+l*n,L[R+2]=V*g+z*A+p*E+$*O,L[R+6]=V*a+z*P+p*_+$*N,L[R+10]=V*J+z*i+p*b+$*U,L[R+14]=V*I+z*T+p*k+$*n,L[R+3]=M*g+F*A+v*E+Y*O,L[R+7]=M*a+F*P+v*_+Y*N,L[R+11]=M*J+F*i+v*b+Y*U,L[R+15]=M*I+F*T+v*k+Y*n,Q},K.Math.Triangle=function(Q,Y,n){this.a=Q!==l3?Q:new F3,this.b=Y!==l3?Y:new F3,this.c=n!==l3?n:new F3}),p2=(m.assign(z2,{barycoordFromPoint:(jk=new F3,rk=new F3,Hk=new F3,function(Q,Y,n,R,g){jk.subVectors(R,Y),rk.subVectors(n,Y),Hk.subVectors(Q,Y);var R=jk.dot(jk),n=jk.dot(rk),Q=jk.dot(Hk),Y=rk.dot(rk),B=rk.dot(Hk),L=R*Y-n*n,g=g||new F3;return 0==L?g.set(-2,-1,-1):g.set(1-(Y=(Y*Q-n*B)*(L=1/L))-(R=(R*B-n*Q)*L),R,Y)}),uvIntersection:(wk=new F3,function(Q,Y,n,R,g,B,L){return z2.barycoordFromPoint(Q,Y,n,R,wk),g.multiplyScalar(wk.x),B.multiplyScalar(wk.y),L.multiplyScalar(wk.z),g.add(B).add(L),g.clone()})}),K.Math.Euler=function(Q,Y,n,R,g){this.set(Q,Y,n,R,g)}),$2=(p2.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],p2.DefaultOrder="XYZ",p2.ReverseOrder=(sk={xyz:"ZYX",xzy:"YZX",yxz:"ZXY",yzx:"XZY",zxy:"YXZ",zyx:"XYZ"},function(Q){return sk[Q]}),m.defineProperties(p2.prototype,{x:{get:function(){return this._x},set:function(Q){this._x=Q,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(Q){this._y=Q,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(Q){this._z=Q,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(Q){this._order=Q,this.onChangeCallback()}}}),m.assign(p2.prototype,{set:function(Q,Y,n,R,g){return M3(Q)&&(g=n,R=Y,n=Q[2],Y=Q[1],Q=Q[0]),R?g&&(R=p2.ReverseOrder(R)):R=this._order||"ZYX",this._x=Q||0,this._y=Y||0,this._z=n||0,this._order=R,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(Q){return this._x=Q._x,this._y=Q._y,this._z=Q._z,this._order=Q._order,this.onChangeCallback(),this},setFromRotationMatrix:function(Q,Y,n){var R=K.Math.clamp,g=(Q=Q.el||Q)[0],B=Q[4],L=Q[8],Z=Q[1],e=Q[5],u=Q[9],X=Q[2],x=Q[6],Q=Q[10];return"XYZ"===(Y=Y||this._order)?(this._y=Math.asin(R(L,-1,1)),Math.abs(L)<.9999999?(this._x=Math.atan2(-u,Q),this._z=Math.atan2(-B,g)):(this._x=Math.atan2(x,e),this._z=0)):"YXZ"===Y?(this._x=Math.asin(-R(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(L,Q),this._z=Math.atan2(Z,e)):(this._y=Math.atan2(-X,g),this._z=0)):"ZXY"===Y?(this._x=Math.asin(R(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(-X,Q),this._z=Math.atan2(-B,e)):(this._y=0,this._z=Math.atan2(Z,g))):"ZYX"===Y?(this._y=Math.asin(-R(X,-1,1)),Math.abs(X)<.9999999?(this._x=Math.atan2(x,Q),this._z=Math.atan2(Z,g)):(this._x=0,this._z=Math.atan2(-B,e))):"YZX"===Y?(this._z=Math.asin(R(Z,-1,1)),Math.abs(Z)<.9999999?(this._x=Math.atan2(-u,e),this._y=Math.atan2(-X,g)):(this._x=0,this._y=Math.atan2(L,Q))):"XZY"===Y?(this._z=Math.asin(-R(B,-1,1)),Math.abs(B)<.9999999?(this._x=Math.atan2(x,e),this._y=Math.atan2(L,g)):(this._x=Math.atan2(-u,Q),this._y=0)):console.warn("unsupported order: "+Y),this._order=Y,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:(Wk=new v3,function(Q,Y,n){return Wk.makeRotationFromQuaternion(Q),this.setFromRotationMatrix(Wk,Y,n)}),setFromVector3:function(Q,Y){return this.set(Q.x,Q.y,Q.z,Y||this._order)},reorder:(Kk=new Z2,function(Q){return Kk.setFromEuler(this),this.setFromQuaternion(Kk,Q)}),equals:function(Q){return Q._x===this._x&&Q._y===this._y&&Q._z===this._z&&Q._order===this._order},fromArray:function(Q){return this._x=Q[0],this._y=Q[1],this._z=Q[2],Q[3]!==l3&&(this._order=Q[3]),this.onChangeCallback(),this},toArray:function(Q,Y){return(Q=Q===l3?[]:Q)[Y=Y===l3?0:Y]=this._x,Q[Y+1]=this._y,Q[Y+2]=this._z,Q[Y+3]=this._order,Q},toVector3:function(Q){return Q?Q.set(this._x,this._y,this._z):new F3(this._x,this._y,this._z)},simpleXYZRotation:function(Q,Y){return Q.x=Y.x+y.angleMod(Q.x-Y.x),Q.y=Y.y+y.angleMod(Q.y-Y.y),Q.z=Y.z+y.angleMod(Q.z-Y.z),Q},nearestRotation:(hk=new F3,tk=new F3,mk=new F3,qk=new F3,dk={X:"x",Y:"y",Z:"z"},function(Q){M3(Q)&&(Q=qk.copy(Q));var Y,n=this.order;return this.simpleXYZRotation(this,Q),Y=dk[n[0]],mk[Y]=b+this[Y],Y=dk[n[1]],mk[Y]=b-this[Y],Y=dk[n[2]],mk[Y]=b+this[Y],this.simpleXYZRotation(mk,Q),hk.subVectors(this,Q),tk.subVectors(mk,Q),hk.lengthSq()>tk.lengthSq()&&(this.x=mk.x,this.y=mk.y,this.z=mk.z),this}),onChange:function(Q){return this.onChangeCallback=Q,this},onChangeCallback:function(){}}),y.eulerArrayToQuaternionArray=(ck=new Z2,Sk=new p2,function(Q,Y){return ck.setFromEuler(Sk.fromArray(Q)).toArray(Y)}),K.Math.Interpolant=function(Q,Y,n,R){this.parameterPositions=Q,this._cachedIndex=0,Q=Y.length/Q.length,n&&(Q/=n),this.resultBuffer=R!==l3?R:new Y.constructor(Q),this.sampleValues=Y,this.valueSize=Q,this.settings=null,this.DefaultSettings_={}}),M2=(m.assign($2.prototype,{evaluate:function(Q){var Y,n=this.parameterPositions,R=this._cachedIndex,g=n[R],B=n[R-1];Q:{Y:{n:{R:if(!(Q<g)){for(var L=R+2;;){if(g===l3){if(Q<B)break R;return R=n.length,this._cachedIndex=R,this.copySampleValue_(R-1,Q,B)}if(R===L)break;if(B=g,Q<(g=n[++R]))break Y}Y=n.length;break n}if(B<=Q)break Q;var Z=n[1];for(Q<Z&&(R=2,B=Z),L=R-2;;){if(B===l3)return this._cachedIndex=0,this.copySampleValue_(0,Q,g);if(R===L)break;if(g=B,(B=n[--R-1])<=Q)break Y}Y=R,R=0}for(;R<Y;){var e=R+Y>>>1;Q<n[e]?Y=e:R=1+e}if(g=n[R],(B=n[R-1])===l3)return this._cachedIndex=0,this.copySampleValue_(0,Q,g);if(g===l3)return R=n.length,this._cachedIndex=R,this.copySampleValue_(R-1,B,Q)}this._cachedIndex=R,this.intervalChanged_(R,B,g)}return this.interpolateImpl(R,B,Q,g)},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(Q){for(var Y=this.resultBuffer,n=this.sampleValues,R=this.valueSize,g=Q*R,B=0;B!==R;++B)Y[B]=n[g+B];return Y},interpolateImpl:function(){},intervalChanged_:function(){}}),(Au.prototype=m.create($2.prototype)).interpolateImpl=function(Q){return this.copySampleValue_(Q-1)},(Pu.prototype=m.create($2.prototype)).interpolateImpl=function(Q,Y,n,R){for(var g=this.resultBuffer,B=this.sampleValues,L=this.valueSize,Z=Q*L,e=Z-L,u=(n-Y)/(R-Y),X=1-u,x=0;x!==L;++x)g[x]=B[e+x]*X+B[Z+x]*u;return g},(iu.prototype=m.create($2.prototype)).interpolateImpl=function(Q,Y,n,R){for(var g=this.resultBuffer,B=this.sampleValues,L=this.valueSize,Z=(n-Y)/(R-Y),e=Q*L,u=e+L;e!==u;e+=4)Z2.slerpFlat(g,0,B,e-L,B,e,Z);return g},(Tu.prototype=m.create($2.prototype)).intervalChanged_=function(Q,Y,n){var R=this.parameterPositions,g=Q-2,B=Q+1,L=R[g],Z=R[B];if(L===l3)switch(this.getSettings_().endingStart){case"ZeroSlope":g=Q,L=2*Y-n;break;case"WrapAround":L=Y+R[g=R.length-2]-R[g+1];break;default:g=Q,L=n}if(Z===l3)switch(this.getSettings_().endingEnd){case"ZeroSlope":B=Q,Z=2*n-Y;break;case"WrapAround":Z=n+R[B=1]-R[0];break;default:B=Q-1,Z=Y}var e=.5*(n-Y),u=this.valueSize;this._weightPrev=e/(Y-L),this._weightNext=e/(Z-n),this._offsetPrev=g*u,this._offsetNext=B*u},Tu.prototype.interpolateImpl=function(Q,Y,n,R){for(var g=this.resultBuffer,B=this.sampleValues,L=this.valueSize,Z=Q*L,e=Z-L,u=this._offsetPrev,X=this._offsetNext,Q=this._weightPrev,x=this._weightNext,G=-Q*(Y=(R=(n=(n-Y)/(R-Y))*n)*n)+2*Q*R-Q*n,o=(1+Q)*Y+(-1.5-2*Q)*R+(-.5+Q)*n+1,l=(-1-x)*Y+(1.5+x)*R+.5*n,V=x*Y-x*R,z=0;z!==L;++z)g[z]=G*B[u+z]+o*B[e+z]+l*B[Z+z]+V*B[X+z];return g},(Eu.prototype=m.create($2.prototype)).copySampleValue_=function(Q){for(var Y=this.resultBuffer,n=this.sampleValues,R=this.valueSize,g=Q*R*3+R,B=0;B!==R;B++)Y[B]=n[g+B];return Y},Eu.prototype.interpolateImpl=(yk=new Z2,function(Q,Y,n,R){for(var g=this.resultBuffer,B=this.sampleValues,L=this.valueSize,Z=2*L,e=3*L,u=R-Y,X=Q*e,x=X-e,G=-2*(Y=(n=(R=(n-Y)/u)*R)*R)+3*n,o=Y-n,l=1-G,V=o-n+R,z=0;z!==L;z++){var p=B[x+z+L],$=B[x+z+Z]*u,M=B[X+z+L],F=B[X+z]*u;g[z]=l*p+V*$+G*M+o*F}return this.isQuaternion&&yk.fromArray(g).normalize().toArray(g),g}),K.Math.BitArray=function(Q){Q instanceof M2?this.fromString(Q.toString()):"string"==typeof Q?this.fromString(Q):(this.size=Q=Q||0,this.data=new Uint32Array(Math.ceil(Q/32)))}),F2=(m.assign(M2.prototype,{set:function(Q,Y,n){var R=Q>>5,Q=31&Q;n&&1<n?(n=8==n?255:4===n?15:3,Y?Y&=n:Y=0,this.data[R]=this.data[R]&~(n<<Q)|Y<<Q):Y?this.data[R]|=1<<Q:this.data[R]&=~(1<<Q)},get:function(Q,Y){var n=Q>>5,Q=31&Q;return Y&&1<Y?this.data[n]>>Q&(8==Y?255:4===Y?15:3):0!=(this.data[n]&1<<Q)},toString:(Dk=["","0","00","000","0000","00000","000000","0000000","00000000"],function(){for(var Q,Y="",n=0,R=this.data.length;n<R;n++)Q=this.data[n].toString(16),Y+=Dk[8-Q.length]+Q;return Y}),fromString:function(Q){var Y=Q.length/8;this.size=32*Y,this.data=new Uint32Array(Y);for(var n=0;n<Y;n++)this.data[n]=H3(Q.substr(8*n,8),16);return this}}),{ms_ac:function(Q,Y){for(var n=Y.ms_ac,R=0;R<n.length;R++)!function(Q,n){var R="_"+n;Q[un(n)]=function(){return this[R]},Q[Xn(n)]=function(Q){var Y=this[R];this[R]=Q,this.fp(n,Y,Q)}}(Q,n[R])},ms_listener:function(Q,Y){Q.addListeners=function(){var Y=this,Q=zd;z3.mockTouch&&(Q=od.concat(ld).concat(Vd));for(var n=0,R=(Y.__events__=Q).length;n<R;n++){var g=Q[n];"wheel"===g&&!Y.handle_wheel&&Y.handle_mousewheel&&(Y.handle_wheel=function(Q){An(Y,Q)}),Y["handle_"+g]&&function(Y,Q,n){function R(Q){"mousedown"!==Y&&"mouseup"!==Y&&"touchstart"!==Y&&"touchend"!==Y||xg(Q),n.disabled||n["handle_"+Y](Q)}var g="__"+Y;n[g]||(n[g]=R,A3(Q,Y,R))}(g,Y.getView(),Y)}},Q.removeListeners=function(){var Q=this.__events__;if(Q){this.__events__=l3;for(var Y,n,R,g,B=0,L=Q.length;B<L;B++)this["handle_"+Q[B]]&&(Y=Q[B],n=this.getView(),0,(g=this[R="__"+Y])&&(P3(n,Y,g),delete this[R]))}}},ms_fire:function(Q,Y){Q.mp=function(Q,Y,n){this.addPropertyChangeListener(Q,Y,n)},Q.ump=function(Q,Y){this.removePropertyChangeListener(Q,Y)},Q.fp=function(Q,Y,n,R,g){return this.firePropertyChange(Q,Y,n,R,g)},Q.addPropertyChangeListener=function(Q,Y,n){this._62I||(this._62I=new rQ),this._62I.add(Q,Y,n)},Q.removePropertyChangeListener=function(Q,Y){this._62I&&this._62I.remove(Q,Y)},Q.firePropertyChange=function(Q,Y,n,R,g){if(R){if(R(Y,n))return!1}else if(Y===n)return!1;return(R=g||{}).property=Q,R.oldValue=Y,R.newValue=n,R.source=this,(R.data=this)._62I&&this._62I.fire(R),this.onPropertyChanged&&this.onPropertyChanged(R),!0}},ms_attr:function(Q,Y){Q.a=function(Q,Y){if(2===arguments.length)this.setAttr(Q,Y);else{if(!on(Q))return this.getAttr(Q);for(var n in Q)this.setAttr(n,Q[n])}return this},Q.getAttr=function(Q,Y){if(Y===l3&&(Y=1),this._attrObject&&Q in this._attrObject)return this._attrObject[Q];if(this.getCurrentDrawingImage){var n=this.getCurrentDrawingImage();if($3(n)&&(n=Ed[n]),on(n)&&"dataBindings"in n)for(var R=n.dataBindings,g=R.length-1;0<=g;g--){var B=R[g];if(B.attr===Q){if("defaultValue"in B)return B.defaultValue;break}}}return Y?z[Q]:l3},Q.setAttr=function(Q,Y){this._attrObject||(this._attrObject={});var n=this._attrObject[Q];Y===l3?delete this._attrObject[Q]:this._attrObject[Q]=Y,this.fp&&this.fp("a:"+Q,n,Y)&&this.onAttrChanged&&this.onAttrChanged(Q,n,Y)},Q.getSerializableAttrs=function(){var Q,Y={};for(Q in this._attrObject)Y[Q]=1;return Y}},ms_bnb:function(Q,Y){Q.getBodyColor=function(Q){return Q.s("body.color")},Q.getBorderColor=function(Q){return Q.s("border.color")}},_51o:function(Q,Y){Q.mi=function(Q,Y,n){this.addInteractorListener(Q,Y,n)},Q.umi=function(Q,Y){this.removeInteractorListener(Q,Y)},Q.fi=function(Q){this.fireInteractorEvent(Q)},Q.addInteractorListener=function(Q,Y,n){this._63I||(this._63I=new rQ),this._63I.add(Q,Y,n)},Q.removeInteractorListener=function(Q,Y){this._63I&&this._63I.remove(Q,Y)},Q.fireInteractorEvent=function(Q){this._63I&&this._63I.fire(Q)},Q.setInteractors=function(Q){var Y=this._interactors;Y&&Y.each(function(Q){Q.tearDown()}),M3(Q)&&(Q=new W(Q)),(this._interactors=Q)&&Q.each(function(Q){Q.setUp()}),this.fp("interactors",Y,Q),this.invalidateSelection()},Q.getInteractors=function(){return this._interactors}},_49o:function(Q,Y){Q._44O=V3,Q._45O=V3,Q.getTopPainters=function(){return this._44O},Q.getBottomPainters=function(){return this._45O},Q.addTopPainter=function(Q){this._44O||(this._44O=new W),this._44O.contains(Q)||(this._44O.add(Q),this.redraw&&this.redraw())},Q.removeTopPainter=function(Q){this._44O&&(this._44O.remove(Q),this.redraw&&this.redraw())},Q.addBottomPainter=function(Q){this._45O||(this._45O=new W),this._45O.contains(Q)||(this._45O.add(Q),this.redraw&&this.redraw())},Q.removeBottomPainter=function(Q){this._45O&&(this._45O.remove(Q),this.redraw&&this.redraw())},Q._93db=function(Y,n){var R=this;R._45O&&R._45O.each(function(Q){Q.draw?Q.draw(Y,n):Q.call(R,Y,n)})},Q._92db=function(Y,n){var R=this;R._44O&&R._44O.each(function(Q){Q.draw?Q.draw(Y,n):Q.call(R,Y,n)})}},ms_sm:function(Q,Y){Q.sm=function(){return this.getSelectionModel()},Q.setSelectableFunc=function(Q){this.sm().setFilterFunc(Q)},Q.getSelectableFunc=function(){return this.sm().getFilterFunc()},Q.getSelectionModel=function(){return this._selectionModel||this.dm().sm()},Q.isSelectionModelShared=function(){return!this._selectionModel},Q.setSelectionModelShared=function(Q){var Y=this,n=Y.sm(),R=!Y._selectionModel,g=Y.handleSelectionChange,B=Y.dm();R!==Q&&(Y.invalidateSelection&&Y.invalidateSelection(),Q?(B.sm().ms(g,Y),Y._selectionModel.ums(g,Y),Y._selectionModel.dispose(),Y._selectionModel=V3):(B.sm().ums(g,Y),Y._selectionModel=new tQ(B),Y._selectionModel.ms(g,Y)),Y.onSelectionModelSharedChanged(),Y.fp("selectionModelShared",R,Q),Y.fireViewEvent({kind:"selectionModelSharedChange",oldValue:R,newValue:Q,oldSelectionModel:n,newSelectionModel:Y.sm()}))},Q.onSelectionModelSharedChanged=function(){this.redraw(),this.invalidateSelection&&this.invalidateSelection()},Q.removeSelection=function(){var Q=this.dm();Q.beginTransaction(),this.sm().toSelection().each(Q.remove,Q),Q.endTransaction()},Q.selectAll=function(){var Y=this;Y.sm().ss(Y.dm().toDatas(function(Q){return Y.isVisible(Q)&&Y.isSelectable(Q)}))},Q.isSelected=function(Q){return this.sm().co(Q)},Q.isSelectedById=function(Q){return!!(Q=this.dm().getDataById(Q))&&this.isSelected(Q)},Q.isSelectable=function(Q){return this.sm().isSelectable(Q)}},ms_tx:function(Q,Y){Q._64I=0,Q._65O=0,Q.isScrollable=function(){return this.getWidth()<this._64I},Q._40o=function(){return this.isScrollable()},Q.getLogicalPoint=function(Q){return Ag(Q,this._canvas||this._view,this.tx(),this.ty?this.ty():0)},Q.tx=function(Q){if(Q===l3)return this.getTranslateX();this.setTranslateX(Q)},Q.getTranslateX=function(){return this._65O},Q.setTranslateX=function(Q){var Y=this.getWidth()-this._64I,Y=(Q=i3(Q=0<(Q=Q<Y?Y:Q)?0:Q),this._65O);this._65O=Q,this.fp(TV,Y,Q)}},ms_ty:function(Q,Y){Q._23Q=0,Q._66O=0,Q._41o=function(){return this.getHeight()<this._23Q},Q.getLogicalPoint=function(Q){return Ag(Q,this._canvas||this._view,this.tx?this.tx():0,this.ty())},Q.ty=function(Q){if(Q===l3)return this.getTranslateY();this.setTranslateY(Q)},Q.getTranslateY=function(){return this._66O},Q.setTranslateY=function(Q){var Y=this.getHeight()-this._23Q,Y=(Q=i3(Q=0<(Q=Q<Y?Y:Q)?0:Q),this._66O);this._66O=Q,this.fp(EV,Y,Q)}},ms_txy:function(Q,Y){Q._65O=0,Q._66O=0,Q.tx=function(Q){if(Q===l3)return this.getTranslateX();this.setTranslateX(Q)},Q.ty=function(Q){if(Q===l3)return this.getTranslateY();this.setTranslateY(Q)},Q.onTranslateEnded=function(){},Q.setTranslate=function(Y,n,Q){var R,g,B=this;(Q=Jn(Q))?(B._65I&&B._65I.stop(!0),R=B.tx(),g=B.ty(),Q.action=function(Q){B.setTranslate(R+(Y-R)*Q,g+(n-g)*Q)},Q._37o=function(){delete B._66I,delete B._65I,B.onTranslateEnded()},B._66I=1,B._65I=ng(Q)):(B.tx(Y),B.ty(n))},Q.getTranslateX=function(){return this._65O},Q.setTranslateX=function(Q){Q=this.adjustTranslateX(Q);var Y=this._65O;this._65O=Q,this.fp(TV,Y,Q)},Q.getTranslateY=function(){return this._66O},Q.setTranslateY=function(Q){Q=this.adjustTranslateY(Q);var Y=this._66O;this._66O=Q,this.fp(EV,Y,Q)},Q.adjustTranslateX=function(Q){return i3(Q)},Q.adjustTranslateY=function(Q){return i3(Q)},Q.translate=function(Q,Y,n){this.setTranslate(this.tx()+Q,this.ty()+Y,n)},Q.getLogicalPoint=function(Q){return Ag(Q,this._canvas||this._view,this.tx(),this.ty())}},ms_dm:function(Q,Y){Q.dm=function(Q){if(!Q)return this.getDataModel();this.setDataModel(Q)},Q.getDataModel=function(){return this._dataModel}},ms_lp:function(Q,Y){Q.lp=function(Q){return this.getLogicalPoint(Q)}},ms_v:function(Q,Y){Q._disabled=!1,Q.setDisabled=function(Q,Y){var n=this._disabled;n!==Q&&(n&&(Tg(this._63O),delete this._63O),Q&&(Dn(this._view,this._63O=eT(Y)),this.iv()),this._disabled=Q,this.fp("disabled",n,Q))},Q.isDisabled=function(){return this._disabled},Q.getDisabledDiv=function(){return this._63O},Q.getView=function(){return this._view},Q.addToDOM=function(Q){var Y=this,n=Y.getView(),R=n.style;(Q=Q||o.body).appendChild(n),R.left="0",R.right="0",R.top="0",R.bottom="0",A3(r,"resize",function(){Y.iv()}),Y.iv()},Q.setCursor=function(Q){"default"===Q&&(Q=this._defaultCursor||Q);var Y=this.getView().style;Y.cursor=Q,Y.cursor="-webkit-"+Q,Y.cursor="-moz-"+Q},Q.getWidth=function(){return this._view.clientWidth},Q.getHeight=function(){return this._view.clientHeight},Q.setWidth=function(Q){this._view.style.width=Q+zR,this.iv(),this.fp&&this.fp(iR,V3,Q)},Q.setHeight=function(Q){this._view.style.height=Q+zR,this.iv(),this.fp&&this.fp(TR,V3,Q)},Q.setFocus=function(Q){var Y=this._currentEditor;return!(Q&&Y&&(Y=Y.getView?Y.getView():Y).contains(Q.target)||(zT(this._view),this.endEditing&&this.endEditing(),this.fireViewEvent("focus"),0))},Q.iv=function(Q){this.invalidate(Q)},Q.invalidate=function(Q){this._68I||(this._68I=1,this._ivTimerId=y2(this._validateImpl,this,V3,Q),this._ivTimerDelay=Q,this.onInvalidated&&this.onInvalidated(),this.fireViewEvent("invalidate"))},Q.validate=function(){var Q=this._ivTimerId,Y=this._ivTimerDelay;!1!==this._validateImpl()&&Q&&D2(Q,Y)},Q._validateImpl=function(){var Q,Y=this,n=Y._view;if(!Y._68I)return!1;delete Y._68I,n.parentNode&&(0===n.offsetWidth&&0===n.offsetHeight&&Y._67I!==V3?(Y._67I===l3&&(Y._67I=z3.reinvalidateCount),0<Y._67I?Y._67I--:Y._67I=V3,Y.iv()):(Y.fireViewEvent("beginValidate"),Y.validateImpl(),Y.onValidated&&Y.onValidated(),Y.fireViewEvent("validate"),(Q=Y._63O)&&(n.lastChild!==Q&&(Tg(Q),Dn(n,Q)),E(Q,0,0,Y.getWidth(),Y.getHeight())),Qn(Y),uQ(Y),zD(Y),Os(Y)))},Q.layout=function(Q,Y,n,R){1===arguments.length?E(this,Q):E(this,Q,Y,n,R)},Q.addViewListener=function(Q,Y,n){this._67O||(this._67O=new rQ),this._67O.add(Q,Y,n)},Q.removeViewListener=function(Q,Y){this._67O.remove(Q,Y)},Q.fireViewEvent=function(Q){this._67O&&($3(Q)&&(Q={kind:Q}),this._67O.fire(Q)),z3.viewListener&&z3.viewListener(this,Q)}},ms_tip:function(Q,Y){Q.setToolTipEnabled=function(Q){Q?f3||this._13o||(this.enableToolTip(),this.fp("toolTipEnabled",!1,!0)):this._13o&&(this.disableToolTip(),this.fp("toolTipEnabled",!0,!1))},Q.isToolTipEnabled=function(){return!!this._13o},Q.enableToolTip=function(){var Q,n=this;f3||n._13o||(n._13o=function(Q){var Y;Q.toolTipView||((Y=(Q.toolTipView=n).getToolTip(Q))!=V3?(z3.toolTipContinual&&z3.isToolTipShowing()?i2(Q,Y):(T2(),Md={timeout:m3(Jd,J2),e:Q,info:Y}),Fd={e:Q,view:n}):T2())},Q=n.getView(),A3(Q,Rd,n._13o),A3(Q,"mouseleave",z3.hideToolTip))},Q.disableToolTip=function(){var Q;this._13o&&(Q=this.getView(),P3(Q,Rd,this._13o),P3(Q,"mouseleave",z3.hideToolTip),delete this._13o)},Q.getToolTip=function(Q){return this.getDataAt?(Q=this.getDataAt(Q))?Q.getToolTip():V3:this.getValue?this.getValue():void 0}},_52o:function(Q,Y){Q._zoom=1,Q._29I=cd,Q.zoomIn=function(Q,Y){this.setZoom(this._zoom*H2,Q,Y)},Q.zoomOut=function(Q,Y){this.setZoom(this._zoom/H2,Q,Y)},Q.zoomReset=function(Q,Y){this.setZoom(1,Q,Y)},Q.scrollZoomIn=function(Q){this.setZoom(this._zoom*s2,V3,Q)},Q.scrollZoomOut=function(Q){this.setZoom(this._zoom/s2,V3,Q)},Q.pinchZoomIn=function(Q){this.setZoom(this._zoom*h2,V3,Q)},Q.pinchZoomOut=function(Q){this.setZoom(this._zoom/h2,V3,Q)},Q.adjustZoom=function(Q){return Q<m2?m2:t2<Q?t2:Q},Q.getZoom=function(){return this._zoom},Q.setZoom=function(Y,Q,n){var R,g=this;(Q=Jn(Q))?(g._14o&&g._14o.stop(!0),R=g._zoom,Q.action=function(Q){g._96O(R+(Y-R)*Q,n)},Q._37o=function(){delete g._zooming,delete g._14o,g.onZoomEnded()},g._zooming=1,g._14o=ng(Q)):g._96O(Y,n)},Q._96O=function(Q,Y){var n,R;(Q=this.adjustZoom(Q))!==this._zoom&&(this.validate(),n=this._29I,R=this._zoom,0!==n.width&&0!==n.height&&(Y=Y||{x:n.x+n.width/2,y:n.y+n.height/2},this.tx((Y.x-n.x)*R-Y.x*Q),this.ty((Y.y-n.y)*R-Y.y*Q)),this._zoom=Q,this.fp("zoom",R,Q))}},ms_edge:function(Q,Y){Q._2I=function(Q){this._44I||(this._44I=new W),this._42I||(this._42I=new W),this._44I.add(Q),this._42I.add(Q),this._20I()},Q._4I=function(Q){this._44I||(this._44I=new W),this._43I||(this._43I=new W),this._44I.add(Q),this._43I.add(Q),this._20I()},Q._16I=function(Q){this._44I.remove(Q),this._42I.remove(Q),this._44I.isEmpty()&&delete this._44I,this._42I.isEmpty()&&delete this._42I,this._20I()},Q._18I=function(Q){this._44I.remove(Q),this._43I.remove(Q),this._44I.isEmpty()&&delete this._44I,this._43I.isEmpty()&&delete this._43I,this._20I()},Q._20I=function(){var Y,n=this;delete n._45I,!n._44I||n._44I.isEmpty()?delete n._70O:(n._44I.each(function(Q){Q.isLooped()&&!(Y=Y||{})[Q._id]&&(n._45I||(n._45I=new W),n._45I.add(Q),Y[Q._id]=Q)}),Y?(n._70O=new W,n._44I.each(function(Q){Y[Q._id]?"A"!==Y[Q._id]&&(Y[Q._id]="A",n._70O.add(Q)):n._70O.add(Q)})):n._70O=n._44I)},Q.hasAgentEdges=function(){return!!this._49I&&!this._49I.isEmpty()},Q.getSourceAgentEdges=function(){return this._46I},Q.getTargetAgentEdges=function(){return this._47I},Q._1I=function(Q){this._46I||(this._46I=new W),this._48I||(this._48I=new W),this._46I.add(Q),this._48I.add(Q),this._19I()},Q._3I=function(Q){this._47I||(this._47I=new W),this._48I||(this._48I=new W),this._47I.add(Q),this._48I.add(Q),this._19I()},Q._15I=function(Q){this._46I.remove(Q),this._48I.remove(Q),this._46I.isEmpty()&&delete this._46I,this._48I.isEmpty()&&delete this._48I,this._19I()},Q._17I=function(Q){this._47I.remove(Q),this._48I.remove(Q),this._47I.isEmpty()&&delete this._47I,this._48I.isEmpty()&&delete this._48I,this._19I()},Q._19I=function(){var Y,n=this,Q=(delete n._49I,n._48I);Q&&!Q.isEmpty()&&(Y={},Q.each(function(Q){Y[Q._id]?n._49I||(n._49I=new W):Y[Q._id]=Q}),n._49I?Q.each(function(Q){Y[Q._id]&&(n._49I.add(Q),delete Y[Q._id])}):n._49I=Q)},Q.getLoopedEdges=function(){return this._45I},Q.getEdges=function(){return this._70O},Q.getAgentEdges=function(){return this._49I},Q.getSourceEdges=function(){return this._42I},Q.getTargetEdges=function(){return this._43I},Q._8I=function(){this._70O&&this._70O.each(function(Q){Q._7I()})}}}),v2=(In(z3,{getVersion:function(){return"8.0.2"}},!0),function(Q){return Q.devicePixelRatio||(Q.screen&&Q.screen.logicalXDPI?Q.screen.deviceXDPI/Q.screen.logicalXDPI:1)}),a2=(In(z3,{numberDigits:5,crossOrigin:"",baseZIndex:l3,isTouchable:f3,mockTouch:!W3,devicePixelRatio:v2(r),reinvalidateCount:3,hitMaxArea:3e3,imageCacheThreshold:20,autoMakeVisible:!0,autoHideScrollBar:!0,disabledOpacity:.4,disabledBackground:i.disabledBackground,forceHierarchicalSerialization:!0,extractBatchTranslation:!1,extractShapeTranslation:!1,extractPolylineTranslation:!1,extractVerticesTranslation:!1,ignoreHTMLZoom:!0,touchHitTolerance:5,mouseHitTolerance:3,envmapProbeMinWaitTime:300,envmapProbeMaxWaitTime:25e3,EnvmapTextureSize:1024,hoverDelay:600,clickDelay:200,toolTipDelay:800,toolTipContinual:!1,getDragger:function(){return vT},lineCap:"butt",lineJoin:"round",imageGradient:"linear.northeast",dashPattern:[16,16],blockMinSize:1,textExtraWidth:4,encodeStringKey:null,doubleClickSpeed:500,doubleClickRange:1,doubleTouchRange:20,touchMoveThreshold:10,animDuration:200,animEasing:function(Q){return Q*Q},labelColor:tB,labelSelectColor:mB,labelFont:"12px arial, sans-serif",widgetIndent:f3?30:20,widgetRowHeight:f3?30:20,widgetHeaderHeight:f3?32:22,widgetTitleHeight:f3?34:24,scrollBarColor:x,scrollBarSize:7,scrollBarTimeout:1e3,scrollBarMinLength:20,scrollBarInteractiveSize:f3?32:16,zoomIncrement:1.3,scrollZoomIncrement:1.05,pinchZoomIncrement:1.08,pinchZoomThreshold:1,zoomMax:20,zoomMin:.01,segmentResolution:12,shapeResolution:24,shapeSide:24,resourceLoaderEventTimeout:3e4,intersectionLineRect:Un,intersectionLineLine:Cn,isEnter:rT,isEsc:HT,isDelete:ET,isSpace:jT,isLeft:NT,isUp:UT,isRight:CT,isDown:wT,isTouchEvent:MT,getTarget:function(Q){return(MT(Q)?$T(Q):Q).target},isString:$3,isNumber:xn,isBoolean:Gn,isArray:M3,isSelectAll:TT,isFunction:ln,isObject:on,getPropertyValue:wn,setPropertyValue:jn,addMethod:In,createGradient:function(Q,Y,n,R,g,B,L,Z){return(0,MB[Y])(Q,n,R,g,B,L,Z)},appendToScreen:function(Q){Q=Q.getView?Q.getView():Q,(o.fullscreenElement||o.mozFullScreenElement||o.webkitFullscreenElement||o.msFullscreenElement||o.body).appendChild(Q)},encodeString:function(Q){return K.Math.encodeBase64(Q,z3.encodeStringKey)},decodeString:function(Q){return K.Math.decodeBase64(Q,z3.encodeStringKey)},findView:function(Q){function Y(Q,Y){for(var n,R,g=-1,B=null,L="2d"===Y?$L.GraphView:c.Graph3dView,Z=0,e=Q.length;Z<e;Z++)Q[Z]instanceof L&&g<(R=(n=Q[Z]).getWidth()*n.getHeight())&&(g=R,B=n);return B}var n=[];return z3.traverse(o.body,function(Q){Q._ht&&n.push(Q._ht)},null,"children"),"all"===Q?n:"2d"===Q?Y(n,"2d"):"3d"===Q?Y(n,"3d"):Y(n,"3d")||Y(n,"2d")},toggleFullscreen:function(Y){var n,R,g,B,L,Z,e,Q,u,X,x=!!Y.getView,G=x?Y.getView():Y;o.fullscreenElement||o.mozFullScreenElement||o.webkitFullscreenElement||o.msFullscreenElement?o.exitFullscreen?o.exitFullscreen():o.msExitFullscreen?o.msExitFullscreen():o.mozCancelFullScreen?o.mozCancelFullScreen():o.webkitExitFullscreen&&o.webkitExitFullscreen():(n=!0,X=Y.isSelfViewEvent?(R=Y.getX(),g=Y.getY(),Z=Y.getWidth(),e=Y.getHeight(),Q=G.style.background,u=G.style.backgroundColor,Q||u||(G.style.backgroundColor="white"),G.requestFullscreen?G.requestFullscreen():G.msRequestFullscreen?G.msRequestFullscreen():G.mozRequestFullScreen?G.mozRequestFullScreen():G.webkitRequestFullscreen&&G.webkitRequestFullscreen(),setInterval(function(){var Q;G!==(o.fullscreenElement||o.mozFullScreenElement||o.webkitFullscreenElement||o.msFullscreenElement)?(clearInterval(X),Y.setX(R),Y.setY(g),Y.setWidth(Z),Y.setHeight(e),Y._fullscreen=!1,G.style.oldBackgroundColor=u,Y.iv()):(Q=K.Default.getWindowInfo(),!n&&Q.width===Y.getWidth()&&Q.height===Y.getHeight()||(Y.setX(Q.left),Y.setY(Q.top),Y.setWidth(Q.width),Y.setHeight(Q.height),Y._fullscreen=!0,Y.iv(),n=!1))},500)):(B=G.style.left,L=G.style.top,Z=G.style.width,e=G.style.height,Q=G.style.background,u=G.style.backgroundColor,Q||u||(G.style.backgroundColor="white"),G.requestFullscreen?G.requestFullscreen():G.msRequestFullscreen?G.msRequestFullscreen():G.mozRequestFullScreen?G.mozRequestFullScreen():G.webkitRequestFullscreen&&G.webkitRequestFullscreen(),setInterval(function(){var Q;G!==(o.fullscreenElement||o.mozFullScreenElement||o.webkitFullscreenElement||o.msFullscreenElement)?(clearInterval(X),G.style.left=B,G.style.top=L,G.style.width=Z,G.style.height=e,G.style.oldBackgroundColor=u,x&&Y.iv()):(Q=K.Default.getWindowInfo(),x&&(n||Q.width!==Y.getWidth()||Q.height!==Y.getHeight())&&(E(Y),n=!1))},500)))},appendTimeStamp:function(Q){return Q},setCompType:function(Q,Y){$3(Y)&&Y.substr(0,12)==Gd&&(Y=z3.parse(Y)),ln(Y)||on(Y)?Ud[Q]=Y:XQ(Q)},getCompType:function(Q){var Y=Ud[Q];return Y===l3&&rd.test(Q)&&(XQ(Q),Y=Ud[Q]),Y},getCompTypeMap:function(){return Ud},drawCompType:function(Q,Y,n,R,g,B){Q(Y,n,R,g,B)},numberListener:(Gh={46:1,8:1,9:1,27:1,13:1,109:1,110:1,189:1,190:1},function(Q){var Y=Q.keyCode;Gh[Y]||65===Y&&z3.isCtrlDown(Q)||86===Y&&z3.isCtrlDown(Q)||67===Y&&z3.isCtrlDown(Q)||88===Y&&z3.isCtrlDown(Q)||35<=Y&&Y<=40||(Q.shiftKey||Y<48||57<Y)&&(Y<96||105<Y)&&Q.preventDefault()}),ignoreKeyCodes:[122,123],preventDefault:function(Q){var Y=Q.target.tagName;"DIV"!==Y&&"CANVAS"!==Y||0<=z3.ignoreKeyCodes.indexOf(Q.keyCode)||!("keydown"!==Q.type||NT(Q)||CT(Q)||UT(Q)||wT(Q)||ET(Q)||65===Q.keyCode&&(Q.metaKey||Q.ctrlKey))||!0!==Q.cancelable||(Q.preventDefault(),Q.preventManipulation&&Q.preventManipulation())},getWindowInfo:function(){var Q=o.documentElement;return{target:Q=Q&&(Q.scrollLeft||Q.scrollTop)?Q:o.body,left:Q.scrollLeft,top:Q.scrollTop,width:r.innerWidth||Q.clientWidth,height:r.innerHeight||Q.clientHeight}},isDragging:function(){return!!vT},isLeftButton:function(Q){return!!MT(Q)||0===Q.button},isMiddleButton:function(Q){return!MT(Q)&&Q&&(1===Q.button||4&(Q.buttons||0))},isRightButton:function(Q){return!MT(Q)&&Q&&(2===Q.button||2&(Q.buttons||0))},isInput:function(Q){return!!Q&&("INPUT"===(Q=Q.tagName)||"TEXTAREA"===Q||"SELECT"===Q)},getTouchCount:function(Q){return MT(Q)?Q.touches.length:1},isDoubleClick:(xh={},id=new G,A=id.getTime(),function(Q){if(1<Xg(Q))return!1;var Y=Q.button==V3?"":Q.button,n=(Y=Q.type+Y)+"_isDoubleClick",R=(R=xh[Y])||(xh[Y]={details:0,timeout:null,lastPoint:null});return Q[n]===l3&&(Q[n]=!0,Y=lg(Q),R.timeout&&(q3(R.timeout),R.timeout=null),n=MT(Q)?z3.doubleTouchRange:z3.doubleClickRange,R.lastPoint&&zg(R.lastPoint,Y)>n&&Nu(R),R.lastPoint=Y,R.details++,R.timeout=m3(function(){Nu(this)}.bind(R),z3.doubleClickSpeed)),2===R.details}),isShiftDown:function(Q){return Q?Q.shiftKey:Nd[16]},isCtrlDown:function(Q){return Q?D3?Q.metaKey:Q.ctrlKey:D3?Nd[91]:Nd[17]},getClientPoint:function(Q){return{x:(Q=MT(Q)?$T(Q):Q).clientX,y:Q.clientY}},isMouseEvent:function(Q){return Q instanceof MouseEvent||0===Q.type.indexOf("mouse")},getTargetElement:function(Q){var Y=Vg(Q),n=z3.isMouseEvent(Q)||!o.elementFromPoint?Q.target:o.elementFromPoint(Y.x,Y.y);if(W3&&o.elementFromPoint){for(var R=[],g=[];"none"===n.style.pointerEvents;)R.push(n),g.push(n.style.display||""),n.style.display="none",n=o.elementFromPoint(Y.x,Y.y);R.forEach(function(Q,Y){Q.style.display=g[Y]})}return n},getPagePoint:function(Q){return{x:(Q=MT(Q)?$T(Q):Q).pageX,y:Q.pageY}},createObject:function(Q,Y){var n,R=new Q;for(n in Y){var g,B=Y[n];ln(B)?R[n]=B:0===n.indexOf("s:")?R.s(n.substr(2),Y[n]):0===n.indexOf("a:")?R.a(n.substr(2),Y[n]):(g=Xn(n),B=Y[n],R[g]?(R[g](B),"setToolTip"===g&&R.enableToolTip&&R.enableToolTip()):R[n]=B)}return R},setImage:function(Q,Y,n,R){var g=arguments.length;4===g?Yn(Q,R,Y,n):2===g?$3(Y)?Y.substr(0,12)==Gd?fd(Q,z3.parse(Y)):Yn(Q,Y):fd(Q,Y):1===g&&Yn(Q,Q)},getImage:function(Q,Y,n,R){var g,B;return ln(Y)&&(R=Y,Y=null),Q==V3?(R&&R(V3),V3):(on(Q)?g=Q:(g=Ed[Q],!Q||g!==l3||yd&&yd[Q]||(Hs(Q,R),R=null,Yn(Q,Q),g=Ed[Q])),Y&&g&&g.tagName?(g[Q="override"===n?"colors_override":"override_rgb"===n?"colors_override_rgb":"override_a"===n?"colors_override_a":"colors"]||(g[Q]={__count__:0}),(B=g[Q][Y])||(g[Q].__count__>z3.imageCacheThreshold&&(g[Q]={__count__:0}),B=function(Q,Y,n,R,g){var B=Wn(),L=(B.width=n,B.height=R,B.getContext("2d"));L.drawImage(Q,0,0,n,R);try{for(var Z=L.getImageData(0,0,n,R),e=Z.data,u=0,X=e.length;u<X;u+=4){var x=e[u+0],G=e[u+1],o=e[u+2],l=e[u+3];"override_a"===g?e[u+3]=255*Y[3]:"override_rgb"===g?(e[u+0]=255*Y[0],e[u+1]=255*Y[1],e[u+2]=255*Y[2]):"override"===g?(e[u+0]=255*Y[0],e[u+1]=255*Y[1],e[u+2]=255*Y[2],e[u+3]=255*Y[3]):(e[u+0]=Y[0]*x,e[u+1]=Y[1]*G,e[u+2]=Y[2]*o,e[u+3]=Y[3]*l)}L.putImageData(Z,0,0)}catch(Y){return Q}return B}(g,WT(Y),g.width,g.height,n),g[Q][Y]=B,g[Q].__count__++),R&&R(B),B):(R&&R(g),g))},isImageComplete:function(Q,Y,n){var R=t(Q);if(!R)return!1;if(R.tagName)return"CANVAS"===R.tagName||("VIDEO"===R.tagName?2<=R.readyState:R.complete);for(var g=R.comps,B=!0,L=0,Z=g.length;L<Z;L++){var e,u=(e=g[L]).type;if("image"===e.type){if((Q=e.name)&&Q.func&&(Q=d(Q,Y)),!K2(Q,Y,n)){B=!1;break}}else if(rd.test(u)&&z3.getCompType(u)===l3){XQ(u),z3.getCompType(u)===l3&&(B=!1);break}}return B},getId:(Xh=1,function(){return++Xh}),callLater:function(Q,Y,n,R){function g(){Q.apply(Y,n)}return R?m3(g,R):r.requestAnimationFrame(g)},cancelLater:function(Q,Y){Y?q3(Q):r.cancelAnimationFrame(Q)},clone:function(Q){if(null==Q||"object"!=typeof Q)return Q;if(Q instanceof Date)return(Y=new Date).setTime(Q.getTime()),Y;if(Q instanceof Array){for(var Y=[],n=0,R=Q.length;n<R;n++)Y[n]=Qg(Q[n]);return Y}if(rg)for(n=0,R=rg.length;n<R;n++)if(Q instanceof rg[n])return new rg[n](Q);if(Q instanceof W){for(Y=new W,n=0,R=Q.length;n<R;n++)Y.set(n,Qg(Q.get(n)));return Y}if(Q instanceof sQ)return Q;if(Q instanceof hQ)return(Y=new hQ).deserialize(Q.serialize()),Y;if(Q instanceof m){var g,Y={};for(g in Q)Q.hasOwnProperty(g)&&(Y[g]=Qg(Q[g]));return Y}return Q},callWhenLoaded:function(Q,Y){var n=Pd(Q,Y=Y||100);(Ad=Ad||{})[n]={tick:n,cb:Q,delay:Y}},beforeLoadURL:function(Q,Y){if(Ad){var n={};for(Y in Ad){var R=Ad[Y],g=(q3(R.tick),Pd(R.cb,R.delay));n[g]={tick:g,delay:R.delay,cb:R.cb}}Ad=n}return z3.convertURL?z3.convertURL(Q,Y):Q},convertURL:function(Q){return Q},handleRefGraphLoaded:function(Q,Y,n){},handleCompTypeLoaded:function(Q,Y){},handleImageLoaded:function(Q,Y){},handleUnfoundImage:function(Q,Y){return z3.getImage("default_blank")},resizeImage:function(Q,Y,n,R){n=n||Y;var g=(R=R||Wn()).getContext("2d");return yn(R,Y,n,1),g.drawImage(Q,0,0,Y,n),R},resizeImagePOT:function(Q,Y,n){if(!Q||!Q.tagName)return Q;var R,g=Q.width,B=Q.height;return g&&B&&(!y.isPOT(g)||!y.isPOT(B)||Y&&g!==B)?(Y=Y?R=y.nearestPOT(Math.min(g,B)):(R=y.nearestPOT(g),y.nearestPOT(B)),z3.resizeImage(Q,R,Y,n)):Q},sortFunc:function(Q,Y){if(Q===Y)return 0;if(Q==V3&&Y!=V3)return 1;if(Q!=V3&&Y==V3)return-1;if(Q==V3&&Y==V3)return 0;var n,R=typeof Q,g=typeof Y;return R==KV&&g==KV?n=Q.localeCompare(Y):R==yV&&g==yV&&(n=Q-Y),0<(n=n===l3?(""+Q).localeCompare(""+Y):n)?1:n<0?-1:0},getClassMap:function(){return Td},getClass:function(Q){if($3(Q)){if(!(n=Td[Q])){for(var Y=Q.split("."),n=r,R=0;R<Y.length;R++)n=n[Y[R]];Td[Q]=n}return n}return Q},def:function(Q,Y,n){function R(){}var g,B,L;if(R.prototype=Y.prototype,g=new R,$3(Q)){if(Td[Q])throw"'"+Q+"' already defined";L=Yg(Q),g.getClassName=function(){return Q}}else L=Q;if(g.constructor=L,g.getClass=function(){return L},g.getSuperClass=function(){return Y},n)for(B in n)F2[B]&&F2.hasOwnProperty(B)?F2[B](g,n):TB(g,n,B);L.prototype=g,L.superClass=Y.prototype},startAnim:function(Y){return(Y=Qg(Y)).easing=Y.easing||z3.animEasing,Y.duration||Y.frames||(Y.duration=z3.animDuration),Y.t=0,Y.duration?Y.interval=0:(Y.frame=0,Y.interval=Y.interval||10),Y.tick=function(){var Q;Y.duration?(Q=(Rn()-Y.startTime)/Y.duration,Y.t=Q=1<Q?1:Q,Y.action(Y.easing(Q),Q),Y.isRunning()&&(1===Q?Y.stop():Y._isPaused||(Y.timeId=y2(Y.tick)))):(Y.frame++,Q=Y.t=Y.frame/Y.frames,Y.action(Y.easing(Q),Q),Y.isRunning()&&(Y.frame<Y.frames?Y._isPaused||(Y.timeId=y2(Y.tick,V3,V3,Y.interval)):Y.stop()))},Y.resume=function(){Y._isPaused&&(delete Y._isPaused,Y.duration?Y.t<1&&(Y.startTime=Rn()-Y.duration*Y.t,Y.timeId=y2(Y.tick)):Y.frame<Y.frames&&(Y.timeId=y2(Y.tick,V3,V3,Y.interval)))},Y.pause=function(){D2(Y.timeId,!Y.duration),Y._isPaused=!0},Y.isPaused=function(){return this._isPaused},Y.stop=function(Q){Y.isRunning()&&(D2(Y.timeId,!Y.duration),delete Y.timeId,Y.duration?Y.t<1&&Q&&(Y.t=1,Y.action(Y.easing(1),1)):Y.frame<Y.frames&&Q&&(Y.frame=Y.frames,Y.action(Y.easing(1),1)),Y._37o&&Y._37o(),Y.finishFunc&&Y.finishFunc())},Y.isRunning=function(){return Y.timeId!=V3},Y.delay?y2(Ou,V3,[Y],Y.delay):Ou(Y),Y},getTextSize:(eh={},uh=o?Wn().getContext("2d"):V3,function(Q,Y){return uh.font=Q||O2,(Q=eh[uh.font])||(Q=2*uh.measureText("e").width+4,eh[uh.font]=Q),{width:uh.measureText(Y).width+z3.textExtraWidth,height:Q}}),drawText:function(Q,Y,n,R,g,B,L,Z,e,u,X){var x,G;Y!=V3&&(x=Lg(n,Y),(G={}).y=u&&u!==xR?u===ZR?B+x.height/2:B+Z-x.height/2:B+Z/2,G.x=e&&e!==BR?e===LR?g+L-x.width/2:g+L/2:g+x.width/2,gT(Q,Y,G,n,R),X&&YT(Q,Y,n,R,G.x,G.y,x.width,X))},getDistance:function(Q,Y){var n=Q.length;return Y?3===n?_3(t3(Q[0]-Y[0])+t3(Q[1]-Y[1])+t3(Q[2]-Y[2])):2===n?_3(t3(Q[0]-Y[0])+t3(Q[1]-Y[1])):Q.z===l3?_3(t3(Y.x-Q.x)+t3(Y.y-Q.y)):_3(t3(Y.x-Q.x)+t3(Y.y-Q.y)+t3(Y.z-Q.z)):3===n?_3(t3(Q[0])+t3(Q[1])+t3(Q[2])):2===n?_3(t3(Q[0])+t3(Q[1])):void 0},brighter:function(Q,Y){return nB(Q,(Y=Y<0?-Y:Y)||40)},darker:function(Q,Y){return nB(Q,(Y=0<Y?-Y:Y)||-40)},traverse:(Zh={},function(Q,Y,n,R){var g,e;(g=(g=Zh[R=R||""])?g:Zh[R]=(e=R,function Q(Y,n,R,g){var B;if(R&&R(Y,n),B=(B=""===e?Y.getChildren():Y[e])instanceof K.List?B.getArray():B)for(var L=0,Z=B.length;L<Z;L++)Q(B[L],Y,R,g);g&&g(Y,n)}))(Q,null,Y,n)}),unionPoint:function(Q,Y){if(!Q)return V3;if(2===arguments.length)return Q&&Y?{x:R3(Q.x,Y.x),y:R3(Q.y,Y.y),width:b3(Q.x-Y.x),height:b3(Q.y-Y.y)}:V3;var n=Q;if((n=n._as||n).length===l3)return V3;var R=n.length;if(R<=0)return V3;for(var g=1,B={x:(L=n[0]).x,y:L.y,width:0,height:0};g<R;g++){var L=n[g],Z=R3(B.x,L.x),e=n3(B.x+B.width,L.x),u=R3(B.y,L.y),X=n3(B.y+B.height,L.y);B.x=Z,B.y=u,B.width=e-Z,B.height=X-u}return B},unionRect:function(Q,Y){return Q&&!Y?Qg(Q):!Q&&Y?Qg(Y):Q&&Y?((n={x:R3(Q.x,Y.x),y:R3(Q.y,Y.y)}).width=n3(Q.x+Q.width,Y.x+Y.width)-n.x,n.height=n3(Q.y+Q.height,Y.y+Y.height)-n.y,n):V3;var n},containsPoint:function(Q,Y,n,R){var g,B,L,Z;return R!=V3&&1!==R&&(g=Q.x+Q.width/2,B=Q.y+Q.height/2,Q={x:g-Q.width/2*R,y:B-Q.height/2*R,width:Q.width*R,height:Q.height*R}),n?(g=Q.width/2,B=Q.height/2,R=G3(-n),n=p3(-n),L=Y.x-Q.x-g,Z=Y.y-Q.y-B,Mg({x:-g,y:-B,width:Q.width,height:Q.height},Y={x:n*L-R*Z,y:R*L+n*Z})):!(!Q||Y.x<Q.x||Y.y<Q.y||Y.x>Q.x+Q.width||Y.y>Q.y+Q.height)},containsRect:function(Q,Y){if(!Q||!Y)return!1;var n=Y.x,R=Y.y,g=Y.width,Y=Y.height,B=Q.width,L=Q.height;if((B|L|g|Y)<0)return!1;var Z=Q.x,Q=Q.y;if(n<Z||R<Q)return!1;if(B+=Z,(g+=n)<=n){if(Z<=B||B<g)return!1}else if(Z<=B&&B<g)return!1;if(L+=Q,(Y+=R)<=R){if(Q<=L||L<Y)return!1}else if(Q<=L&&L<Y)return!1;return!0},intersectsRect:function(Q,Y){if(!Q||!Y)return!1;var n=Y.width,R=Y.height,g=Q.width,B=Q.height;if(g<=0||B<=0||n<=0||R<=0)return!1;var L=Y.x,Y=Y.y,Z=Q.x;return B+=Q=Q.y,n+=L,R+=Y,L<(g+=Z)&&Y<B&&Z<n&&Q<R},intersection:function(Q,Y){if(!Q||!Y)return V3;var n=Y.x,R=Y.y,g=Q.x,B=Q.y,L=n,Z=R,e=g,u=B;return L+=Y.width,Z+=Y.height,(e+=Q.width)<L&&(L=e),(u+=Q.height)<Z&&(Z=u),Z-=R=R<B?B:R,(L-=n=n<g?g:n)<=0||Z<=0?V3:{x:n,y:R,width:L,height:Z}},grow:function(Q,Y,n){n===l3&&(n=Y),Q.x-=Y,Q.y-=n,Q.width=Q.width+2*Y,Q.height=Q.height+2*n},getScreenPoint:function(Q,Y,n,R,g,B,L){var Z=n.getBoundingClientRect(),Q=Q*(B||1)-n.scrollLeft+(R||0),B=Y*(L||1)-n.scrollTop+(g||0);return(R=iB(n,!1))?((Y=new F3(Q,B,0)).applyMatrix4(R),{x:Y.x,y:Y.y}):{x:Q+Z.left,y:B+Z.top}},getLogicalPoint:function(Q,Y,n,R,g,B){var L,Z=Y.getBoundingClientRect(),e=Q.target?(og(Q)?D3?Nd[91]=!0:Nd[17]=!0:D3?Nd[91]=!1:Nd[17]=!1,Gg(Q)?Nd[16]=!0:Nd[16]=!1,L=(Q=MT(Q)?$T(Q):Q).clientX,Q.clientY):(L=Q.x,Q.y),u=iB(Y,!0);if(u){var X=new F3(L,e,0);X.applyMatrix4(u);do{if(Math.abs(X.z)<=1e-6)break;var x=new F3(L,e,1);if(x.applyMatrix4(u),Math.abs(x.z)<=1e-6){X=x;break}}while(x.sub(X),!(Math.abs(x.z)<=1e-6)&&(X.addScaledVector(x,-X.z/x.z),0));return{x:(X.x+Y.scrollLeft-(n||0))/(g||1),y:(X.y+Y.scrollTop-(R||0))/(B||1)}}return{x:(L-Z.left+Y.scrollLeft-(n||0))/(g||1),y:(e-Z.top+Y.scrollTop-(R||0))/(B||1)}},removeHTML:function(Q){return!(!(Q=Q&&Q.getView?Q.getView():Q)||!Q.parentNode||(Lh!==Q&&((Lh=Q).parentNode.removeChild(Q),Lh=V3),0))},getToolTipDiv:function(){var Q;return pd||(pd=Kn(),$d=Kn(),Q=pd.style,z3.baseZIndex!=V3&&(Q.zIndex=H3(z3.baseZIndex)+3+""),Q.whiteSpace="nowrap",Q.color=z3.toolTipLabelColor,Q.background=z3.toolTipBackground,Q.font=z3.toolTipLabelFont,Q.padding="5px",Q.boxShadow="0px 0px 3px "+z3.toolTipShadowColor),pd},isToolTipShowing:function(){return!(!pd||!pd.parentNode)||!(!$d||!$d.parentNode)},updateToolTipContent:function(Q,Y){z3.isToolTipShowing()&&(Y=Y||Fd&&Fd.view,(Q=Q===l3&&Y&&Fd.e?Y.getToolTip(Fd.e):Q)!=V3&&((Q.html?(Q=Q.html,$d):pd).innerHTML=Q))},hideToolTip:function(){var Q;ad(),z3.isToolTipShowing()&&(Tg(pd),Tg($d),(Q=Fd&&Fd.view)&&Q.onHideToolTip&&Q.onHideToolTip(),Fd=V3)},showToolTip:function(Q,Y,n){var R,g,B,L,Z,e;Q&&Y!=V3?(z3.getToolTipDiv(),Y.html?(Y=Y.html,R=$d,Tg(pd)):(R=pd,Tg($d)),g=R.style,R.innerHTML="",Y instanceof HTMLElement?R.appendChild(Y):R.innerHTML=Y,R.parentNode||K.Default.appendToScreen(R),Q.target?(Q=Vg(Q),Y=Jg(),B=Q.x,L=Q.y,Z=f3?60:12,f3?(e=R.getBoundingClientRect(),g.left=B-e.width/2+zR,L-e.height-Z<Y.top?g.top=L+Z+zR:g.top=L-e.height-Z+zR):(g.left=B+Z+zR,g.top=L+Z+zR,(e=R.getBoundingClientRect()).left+e.width>Y.width&&(g.left=B-Z-e.width+zR),e.top+e.height>Y.height&&(g.top=L-Z-e.height+zR),e.left<0&&(g.left=B+Z+zR),e.top<0&&(g.top=L+Z+zR))):(g.left=Q.x+zR,g.top=Q.y+zR),ad(),n===l3?n=Fd&&Fd.view:Fd={e:Q,view:n},n&&n.onShowToolTip&&n.onShowToolTip()):T2()},startDragging:function(Q,Y,n){n==l3&&(n=!0),Q!==vT&&(vT?n&&(MT(Y)?vT.handleWindowTouchEnd(Y):vT.handleWindowMouseUp(Y)):MT(Y)?(A3(r,Zd,aT),A3(r,ed,JT),A3(r,"blur",JT)):(A3(r,Rd,IT),A3(r,gd,AT),A3(r,"blur",AT)),vT=Q)},getImageMap:function(){return Ed},toBoundaries:function(Q,Y,n,R){var g=[];return QB(Q,Y,n,R).forEach(function(Q){var Y=[];Q.forEach(function(Q){Y.push(Q.x,Q.y)}),g.push(Y)}),g},getCurrentKeyCodeMap:function(){return Nd},drawCenterImage:function(Q,Y,n,R,g,B,L,Z){!g&&B&&B.isSelfViewEvent&&(g=B);var e=vQ(Y,g,B),u=aQ(Y,g,B);JQ(Q,Y,i3(n-e/2),i3(R-u/2),e,u,g,B,L,Z)},drawStretchImage:function(Q,Y,n,R,g,B,L,Z,e,u,X,x){!Z&&e&&e.isSelfViewEvent&&(Z=e);var G,o=vQ(Y,Z,e,B),l=aQ(Y,Z,e,L);"uniform"===n?(l*=G=R3(B/o,L/l),R+=i3((B-(o*=G))/2),g+=i3((L-l)/2),B=o,L=l):"centerUniform"===n?((B<o||L<l)&&(o*=G=R3(B/o,L/l),l*=G),R+=i3((B-o)/2),g+=i3((L-l)/2),B=o,L=l):"cover"===n&&(l*=G=o/B<l/L?B/o:L/l,R+=i3((B-(o*=G))/2),g+=i3((L-l)/2),B=o,L=l),"center"===n?((G=!1!==X&&(B<o||L<l))&&(Q.save(),Q.beginPath(),Q.rect(R,g,B,L),Q.clip()),JQ(Q,Y,R+B/2-o/2,g+L/2-l/2,o,l,Z,e,u,x),G&&Q.restore()):JQ(Q,Y,R,g,B,L,Z,e,u,x)},toCanvas:function(Q,Y,n,R,g,B,L,Z,e){Q=t(Q,L),Y=Y||vQ(Q,g),n=n||aQ(Q,g);var u=Wn(),X=uT(u);return Z?(yn(u,Y,n,Z),X.scale(Z,Z)):yn(u,Y,n,1),c2(X,Q,R,0,0,Y,n,g,B,L,e),Q&&Q.clampToEdge&&(u.clampToEdge=Q.clampToEdge),X.restore(),u},toGrayColor:function(Q){if(!Q)return Q;var Q=Ng(Q),Y=i3(.299*Q[0]+.587*Q[1]+.114*Q[2]);return"rgba("+Y+","+Y+","+Y+","+Q[3]/255+")"},createGradientImage:function(Q,Y,n,R){for(var g=["L",0,0,Q,0,1,0,0,1,0,0],B=0,L=Math.min(Y.length,n.length);B<L;B++)g.push(n[B],Y[B]);return K.Default.toCanvas({width:Q,height:Q,clampToEdge:!0,comps:[{type:"shape",rotation:R||0,points:[0,0,Q,0,Q,Q,0,Q],background:"#ffffff",gradientPack:g}]})},createElement:function(Q,Y,n,R){return Q=o.createElement(Q),cn(Q,Y||i.widgetBorder,2),Q.style.font=n||O2,R!=V3&&(Q.value=R),z3.onElementCreated&&z3.onElementCreated(Q),Q},containedInView:function(Q,Y){return Y=pT(Y).getBoundingClientRect(),Mg({x:Y.left,y:Y.top,width:Y.width,height:Y.height},lg(Q))},isIsolating:function(){return 0<Id},setIsolating:function(Q){Q?Id++:Id--},getMSMap:function(){return F2},stringify:function(Q,n,Y){var R=Date.prototype.toJSON,g=(Date.prototype.toJSON=function(){return"__ht__date"+this.getTime()},hQ.prototype.toJSON),Q=(hQ.prototype.toJSON=function(){return"__ht__dataModel"+this.serialize(0)},n=Y?0:n==V3?2:n,JSON.stringify(Q,function(Q,Y){return"function"==typeof Y?"__ht__"+(Y.__ht__||Y.toString()):xn(Y)?Y==V3||z3.numberDigits==V3?Y:parseFloat(Y.toFixed(z3.numberDigits)):YC(Y)?null:Y instanceof K.List?"__ht__list"+(Y.__ht__list||z3.stringify(Y._as)):ArrayBuffer.isView(Y)?"__ht__typedArray"+Y.constructor.name+":"+JSON.stringify(Array.from(Y),n):Y},n));return Date.prototype.toJSON=R,hQ.prototype.toJSON=g,Y?Gd+function(Q){for(var Y=8+y.randomInt(8),n=D6[8*y.randomInt(8)+(Y-8)],R="",g=0;g<Y;g++)R+=D6[y.randomInt(64)];var B=uB(R+g3+"__"+kV);return n+R+f6(Q,B)}(Q):Q},parse:function(Q,Z){return $3(Q)&&(Q.substr(0,12)!=Gd||(Q=function(Q){var Y=Q[0];if((Y=D6.indexOf(Y))<0)return"";var n=Q.slice(1,1+(Y=8+(7&Y))),n=uB(n+g3+"__"+kV);return Q2(Q,n,1+Y)}(Q.substr(12)),$3(Q)))?(Z=Z||{},JSON.parse(Q,function(Q,Y){if($3(Y)&&"__ht__"==Y.substr(0,6))if(Z.ignoreFunction||"function"!=Y.substr(6,8)){if(!Z.ignoreDate&&"date"==Y.substr(6,4))return new Date(H3(Y.substr(10)));if("list"===Y.substr(6,4))return new W(z3.parse(Y.substr(10)));if(!Z.ignoreDataModel&&"dataModel"===Y.substr(6,9))return(R=new hQ).deserialize(z3.parse(Y.substr(15))),R;if("typedArray"===Y.substr(6,10))return R=Y.indexOf(":"),n=Y.substring(16,R),new r[n](JSON.parse(Y.substr(R+1)))}else{var n=Y.indexOf("{")+1,R=Y.lastIndexOf("}"),g=Y.indexOf("(")+1,B=Y.indexOf(")");if(n&&R&&g&&B)try{var L=new Function(Y.substring(g,B),Y.substring(n,R));return L.__ht__=Y.substr(6),L}catch(Q){throw console.info("=== SyntaxError ===\n",Y),Q}}return Y})):Q},loadJS:function(Q,Y){Y&&Q.push(Y);var n,Y=Q.shift();M3(Y)?(Q=Y.contact(Q),z3.loadJS(Q)):ln(Y)?(Y(),z3.loadJS(Q)):$3(Y)?((n=o.createElement("script")).onload=function(){z3.loadJS(Q)},n.setAttribute("src",Y),o.getElementsByTagName("head")[0].appendChild(n)):Q.length&&z3.loadJS(Q)},extendClass:function(Q,Y){var n,R=Q.prototype;for(n in Y)F2[n]&&F2.hasOwnProperty(n)?F2[n](R,Y):R[n]=Y[n]},toRoundedCorner:(nh=new F3,Rh=new F3,gh=new F3,Bh=new F3,function(Q,Y){var n,R=0,g=(Q.getPoints&&(R=Q.getElevation(),Q=Q.getPoints()),(n=Q instanceof W?Q:new W(Q)).size());if(Y<=0)return{points:n};var B=new W,L=new W,Z=n.get(0);ku(nh,Z,R),B.add(Z),L.add(1);for(var e,u,X=1;X<g;X++)X+1<g?(e=n.get(X),u=n.get(X+1),ku(Rh,e,R),ku(gh,u,R),Bh.subVectors(nh,Rh).setLength(Math.min(.99*Bh.length(),Y)).add(Rh),e.e!==l3||Z.e!==l3?B.add({x:Bh.x,y:Bh.z,e:Bh.y}):B.add({x:Bh.x,y:Bh.z}),B.add(e),Bh.subVectors(gh,Rh).setLength(Math.min(.99*Bh.length(),Y)).add(Rh),e.e!==l3||u.e!==l3?B.add(Z={x:Bh.x,y:Bh.z,e:Bh.y}):B.add(Z={x:Bh.x,y:Bh.z}),nh.copy(Bh),L.addAll([2,3])):(B.add(n.get(X)),L.add(2));return{points:B,segments:L}}),setCanvas:yn,createDiv:Kn,createDisabledDiv:eT,createView:dn,createCanvas:Wn,appendChild:Dn,initContext:uT,checkLoadingImage:Qn,translateAndScale:XT,layout:E,getPosition:_B,drawPoints:fT,drawRoundRect:xB,drawBorder:GB,setFocus:zT,getter:un,setter:Xn,isEmptyObject:_n,cameraPriority:(Yh={skybox:0,main:1e4,top:1e7,infinity:1/0},m.seal(m.defineProperties({},{skybox:{configurable:!1,enumerable:!1,get:function(){return Yh.skybox},set:function(Q){if(Q>=Yh.main)throw new RangeError("Skybox camera must have lower priority than the main camera.");Yh.skybox=Number(Q)}},main:{configurable:!1,enumerable:!1,get:function(){return Yh.main},set:function(Q){if(Q<=Yh.skybox)throw new RangeError("Main camera must have higher priority than the skybox camera.");if(Q>=Yh.top)throw new RangeError("Main camera must have lower priority than the top camera.");Yh.main=Number(Q)}},top:{configurable:!1,enumerable:!1,get:function(){return Yh.top},set:function(Q){if(Q<=Yh.main)throw new RangeError("Top camera must have higher priority than the main camera.");Yh.top=Number(Q)}},infinity:{get:function(){return Yh.infinity},set:function(Q){throw new RangeError("Infinity camera cannot be changed.")}}}))),addFontFace:(fk={ttf:"truetype",otf:"opentype",eot:"embedded-opentype"},Qh={eot:0,woff2:1,woff:2,ttf:3,otf:4},function(Q,Y,n,R){if(Q){var g;if(R&&z3.removeFontFace(Q,!0),R=_d[Q])return R.parentNode||o.head.appendChild(R),void(n&&n(R));0!==(Y=(Y=$3(Y)?[Y]:Y).filter(function(Q){return!!$3(Q)&&0<Q.length})).length&&(Y=Y.map(_u),g="",Y.sort(bu).forEach(function(Q){g+=", "+Q.url}),g=g.substr(2),(R=o.createElement("style")).innerText='@font-face{font-family: "'+Q+'";src: '+g+";}",o.head.appendChild(R),_d[Q]=R,n&&n(R))}}),clearFontFace:function(){if(!_n(_d)){for(var Q in _d)z3.removeFontFace(Q);_d={}}},removeFontFace:function(Q,Y){if(Q){var n=Q;if(n.tagName){if(Tg(n),Y){var R,g=[];for(R in _d)_d[R]===n&&g.push(R);if(0<g.length)for(var B=0,L=g.length;B<L;B++)delete _d[g[B]]}}else(n=_d[Q])&&(Tg(n),Y&&delete _d[Q])}},getFontFaceMap:function(){return _d},handleFontFacesLoaded:function(Q){},toColorData:function(){var R,Q,g={};for(Q in r){var Y=nR.length;if(Q.length==Y&&Q[0]===nR[2]&&Q[1]===VR[1]&&Q[4]===nR[3]&&Q[5]===nR[4]&&Q.substr(Y-2)===VR[1]+VR[2]){var n,B=r[Q];for(n in B)n.length===Y&&n.substr(0,3)===LR[3]+AR[3]+RV[0]&&n.substr(Y-2)===nR[0]+HR[3]&&(Xd=B[n])}}return function(Q){var Y,n=g[Q];return n||(R||(R=Wn(),yn(R,1,1,1)),(Y=R.getContext("2d",{willReadFrequently:!0})).clearRect(0,0,1,1),RB(Y,0,0,1,1,Q),n=Y.getImageData(0,0,1,1).data,n=g[Q]=[n[0],n[1],n[2],n[3]]),n}}()},!0),o&&o.fonts&&o.fonts.addEventListener&&o.fonts.addEventListener("loadingdone",function(Q){z3.handleFontFacesLoaded(Q.fontfaces),z3.findView("all").forEach(function(Q){Q.redraw?Q.redraw():Q.iv()})}),In(v,{autoAdjustIndex:1,hierarchicalRendering:1,adjustChildrenToTop:1,autoHideScrollBar:1,autoUpdate:1,firstPersonMode:1,ortho:1,strict:1,stickToRight:1,instant:1,closePath:1,hierarchical:1,doubleClickToToggle:1,continuousLayout:1,syncSize:1},!0),z3.disabledOpacity),J2=z3.toolTipDelay,I2=z3.devicePixelRatio,KB=z3.autoMakeVisible,A2=z3.autoHideScrollBar,P2=z3.imageGradient,i2=z3.showToolTip,T2=z3.hideToolTip,E2=z3.dashPattern,_2=z3.lineCap,b2=z3.lineJoin,k2=z3.labelColor,s3=z3.labelSelectColor,O2=z3.labelFont,N2=z3.widgetIndent,tB=z3.widgetRowHeight,U2=z3.widgetHeaderHeight,C2=z3.widgetTitleHeight,mB=z3.scrollBarColor,G=z3.scrollBarSize,w2=z3.scrollBarTimeout,j2=z3.scrollBarMinLength,r2=z3.scrollBarInteractiveSize,H2=z3.zoomIncrement,s2=z3.scrollZoomIncrement,h2=z3.pinchZoomIncrement,t2=z3.zoomMax,m2=z3.zoomMin,q2=z3.createObject,d2=z3.preventDefault,id=z3.setImage,t=z3.getImage,K2=z3.isImageComplete,W2=z3.drawCenterImage,c2=z3.drawStretchImage,S2=z3.getId,y2=z3.callLater,D2=z3.cancelLater,f2=z3.sortFunc,Qg=z3.clone,Yg=z3.getClass,ng=z3.startAnim,Rg=z3.brighter,gg=z3.darker,Bg=z3.drawText,Lg=z3.getTextSize,Zg=z3.isLeftButton,eg=z3.isMiddleButton,ug=z3.isRightButton,Xg=z3.getTouchCount,xg=z3.isDoubleClick,Gg=z3.isShiftDown,og=z3.isCtrlDown,lg=z3.getClientPoint,Vg=z3.getPagePoint,zg=z3.getDistance,pg=z3.unionPoint,$g=z3.unionRect,Mg=z3.containsPoint,Fg=z3.containsRect,vg=z3.intersectsRect,ag=z3.intersection,Jg=z3.getWindowInfo,Ig=z3.grow,Ag=z3.getLogicalPoint,Pg=z3.getScreenPoint,ig=z3.startDragging,Tg=z3.removeHTML,Eg=z3.createElement,_g=z3.segmentResolution,bg=z3.shapeResolution,kg=z3.shapeSide,Og=z3.def,Ng=z3.toColorData,qB=function(Q,Y,n){Og("ht."+Q,Y,n)},Ug=(lh=!(oh=[]),In(z3,{registerHeartbeat:function(Q,Y){oh.push({callback:Q,priority:Y=Y||0}),oh.sort(function(Q,Y){return Y.priority-Q.priority}),lh||(lh=!0,Vh=Date.now(),requestAnimationFrame(Cu))},unregisterHeartbeat:function(Q){for(var Y=0;Y<oh.length;Y++)if(oh[Y].callback===Q){oh.splice(Y,1);break}0===oh.length&&Uu()}},!(Vh=0)),In(z3,{toolTipLabelColor:k2,toolTipLabelFont:O2,toolTipBackground:i.toolTipBackground,toolTipShadowColor:x,debugTipLabelFont:O2,debugTipLabelColor:k2,debugTipBackground:i.toolTipBackground,drawBreakableText:RT,setDevicePixelRatio:function(Q){I2=z3.devicePixelRatio="number"==typeof Q?Q:v2(r),z3.traverse(o.body,function(Q){(Q=Q._ht)&&Q._canvas&&(yn(Q._canvas,Q.getWidth(),Q.getHeight()),Q.redraw?Q.redraw():Q.iv())},null,"childNodes")},getPosition3dGap:function(){return zC()}},!0),1e-6),Cg="undefined"!=typeof Uint16Array?Uint16Array:Array,wg="undefined"!=typeof Uint32Array?Uint32Array:Cg,jg="undefined"!=typeof Float32Array?Float32Array:Array,rg="undefined"!=typeof Float32Array?[Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array]:null,Hg=function(Q,Y,n){return Q=[Q[0]-Y[0],Q[1]-Y[1],Q[2]-Y[2]],n&&0<(Y=zg(Q))&&(Q[0]/=Y,Q[1]/=Y,Q[2]/=Y),Q},sg=function(){var Q,Y="charCodeAt",n=2*(2*pR.length+1);for(Q in r)if(Q===g3+BR[0]+(zR.length+2)){var R=r[Q];if(!R)break;for(var g=R.length,B=0;B<g;B++)if(R[B][Y](0)===n&&R[B+1]!=V3&&R[B+1]===zR[0]&&R[B+2]!=V3&&R[B+2][Y](0)===n){for(var L=B+3;L<g;L++)if(R[L][Y](0)===n){if(0==R[L+1])for(var Z,e=L+2;e<g;e++){if(R[e][Y](0)===n){0==R[e-1]&&Z&&(K3=Z.substr(0,Z.length-1));break}Z==V3?Z=R[e]:Z+=R[e]}break}break}break}return function(Q){return[-Q[0],-Q[1],-Q[2]]}}(),hg=function(Q,Y){return 3===Q.length?Q[0]*Y[0]+Q[1]*Y[1]+Q[2]*Y[2]:Q[0]*Y[0]+Q[1]*Y[1]},tg=function(){var Q=new Array(16);return Q[0]=1,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=0,Q[5]=1,Q[6]=0,Q[7]=0,Q[8]=0,Q[9]=0,Q[10]=1,Q[11]=0,Q[12]=0,Q[13]=0,Q[14]=0,Q[15]=1,Q},mg=tg(),qg=function(Q){var Y=new Array(16);return Y[0]=Q[0],Y[1]=Q[1],Y[2]=Q[2],Y[3]=Q[3],Y[4]=Q[4],Y[5]=Q[5],Y[6]=Q[6],Y[7]=Q[7],Y[8]=Q[8],Y[9]=Q[9],Y[10]=Q[10],Y[11]=Q[11],Y[12]=Q[12],Y[13]=Q[13],Y[14]=Q[14],Y[15]=Q[15],Y},dg=function(Q){return Q[0]=1,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=0,Q[5]=1,Q[6]=0,Q[7]=0,Q[8]=0,Q[9]=0,Q[10]=1,Q[11]=0,Q[12]=0,Q[13]=0,Q[14]=0,Q[15]=1,Q},Kg=function(Q,Y){var n=Q[0],R=Q[1],g=Q[2];return Q[0]=Y[0]*n+Y[4]*R+Y[8]*g+Y[12],Q[1]=Y[1]*n+Y[5]*R+Y[9]*g+Y[13],Q[2]=Y[2]*n+Y[6]*R+Y[10]*g+Y[14],Q},Wg=function(Q,Y){var n=Q[0],R=Q[1],g=Q[2],B=Q[3];return Q[0]=Y[0]*n+Y[4]*R+Y[8]*g+Y[12]*B,Q[1]=Y[1]*n+Y[5]*R+Y[9]*g+Y[13]*B,Q[2]=Y[2]*n+Y[6]*R+Y[10]*g+Y[14]*B,Q[3]=Y[3]*n+Y[7]*R+Y[11]*g+Y[15]*B,Q},cg=function(Q,Y,n){var R,g;if("number"==typeof Q?g=Q:Q&&(g=Q.length,R=!0),g)for(var B,L=0,Z=0;L<g;L++)B=Y?R3(g-1,1==Z?L+1:2==Z?L-1:L):L,n(R?Q[B]:B),2<++Z&&(Z=0)},Sg=(Mh=Pn(Q[1]+Q[7]),Fh=Pn(Q[0]+Q[3]-Q[10]),vh=Pn(Q[8]+2),ah=function(){return ph=$h.charAt(zh),zh+=1,ph},Jh=function(){var Q="";if(ph===vh)for(;ah();){if(ph===vh)return ah(),Q;Q+=ph}else ah()},Ih=function(){for(;ph&&ph<=" ";)ah()},Ah=function(){if(Ih(),ph!==Mh)return Jh();var Q,Y={};if(ph===Mh){if(ah(),Ih(),ph===Fh)return ah(),Y;for(;ph;){if(Q=Jh(),Ih(),ah(),Y[Q]=Ah(),Ih(),ph===Fh)return ah(),Y;ah(),Ih()}}},function(Q){if(I={},Q&&($h=Q,zh=0,ph=" ",Q=Ah(),Ih(),!ph))return Q}),yg=function(Q,Y){var n,R,g,B,L,Z,e,u,X;Y&&(n=G3(Y),Y=p3(Y),R=Q[4],g=Q[5],B=Q[6],L=Q[7],Z=Q[8],e=Q[9],u=Q[10],X=Q[11],Q[4]=R*Y+Z*n,Q[5]=g*Y+e*n,Q[6]=B*Y+u*n,Q[7]=L*Y+X*n,Q[8]=Z*Y-R*n,Q[9]=e*Y-g*n,Q[10]=u*Y-B*n,Q[11]=X*Y-L*n)},Dg=function(Q,Y){var n,R,g,B,L,Z,e,u,X;Y&&(n=G3(Y),Y=p3(Y),R=Q[0],g=Q[1],B=Q[2],L=Q[3],Z=Q[8],e=Q[9],u=Q[10],X=Q[11],Q[0]=R*Y-Z*n,Q[1]=g*Y-e*n,Q[2]=B*Y-u*n,Q[3]=L*Y-X*n,Q[8]=R*n+Z*Y,Q[9]=g*n+e*Y,Q[10]=B*n+u*Y,Q[11]=L*n+X*Y)},fg=function(Q,Y){var n,R,g,B,L,Z,e,u,X;Y&&(n=G3(Y),Y=p3(Y),R=Q[0],g=Q[1],B=Q[2],L=Q[3],Z=Q[4],e=Q[5],u=Q[6],X=Q[7],Q[0]=R*Y+Z*n,Q[1]=g*Y+e*n,Q[2]=B*Y+u*n,Q[3]=L*Y+X*n,Q[4]=Z*Y-R*n,Q[5]=e*Y-g*n,Q[6]=u*Y-B*n,Q[7]=X*Y-L*n)},QQ=function(Q,Y,n){return YQ(V3,!1===n?V3:Q.getFinalScale3d(),Q.getFinalRotation3d(),Q.getRotationMode(),Q.p3(),V3,Y)},YQ=function(Q,Y,n,R,g,B,L){return B=B||tg(),g&&vC(B,g),ls(B,n,R),L&&JC(B,B,L),Y&&aC(B,Y),Q&&JC(B,B,Q),B},nQ=function(Q,Y,n){Y=H3(Y),n=H3(n),this.g=Q,this._84O=Y,this._85O=n,this._70I=!0,this.F=0,this._83O=Y+n,this.pen={x:0,y:0}},RQ="lineDashOffset",gQ="setLineDash",BQ=function(Q,Y,n){return bn(Y)?Q:Q[gQ]?(Q[gQ](Y),n&&(Q.lineDashOffset=n),Q):new nQ(Q,Y[0],1<Y.length?Y[1]:Y[0])},LQ=function(Q,Y){!bn(Y)&&Q[gQ]&&(Q[gQ](td),Q.lineDashOffset=0)},ZQ=(Og(nQ,m,{_69I:6,moveTo:function(Q,Y){var n=this.pen;n.x=Q,n.y=Y,this.g.moveTo(Q,Y),this.start||(this.start={x:Q,y:Y})},lineTo:function(Q,Y){var n=this,R=n.pen,g=Q-R.x,B=Y-R.y,B=w3(B,g),g=p3(B),B=G3(B),L=n._23O(R.x,R.y,Q,Y),Z=n._85O,e=n._84O,u=n._83O;if(n.F){if(n.F>L)return n._70I?n._72I(Q,Y):n.moveTo(Q,Y),void(n.F-=L);if(n._70I?n._72I(R.x+g*n.F,R.y+B*n.F):n.moveTo(R.x+g*n.F,R.y+B*n.F),L-=n.F,n.F=0,n._70I=!n._70I,!L)return}var X=T3(L/u);if(X){for(var x=g*e,G=B*e,o=g*Z,l=B*Z,V=0;V<X;V++)n._70I?(n._72I(R.x+x,R.y+G),n.moveTo(R.x+o,R.y+l)):(n.moveTo(R.x+o,R.y+l),n._72I(R.x+x,R.y+G));L-=u*X}n._70I?e<L?(n._72I(R.x+g*e,R.y+B*e),n.moveTo(Q,Y),n.F=Z-(L-e),n._70I=!1):(n._72I(Q,Y),L===e?(n.F=0,n._70I=!n._70I):(n.F=e-L,n.moveTo(Q,Y))):Z<L?(n.moveTo(R.x+g*Z,R.y+B*Z),n._72I(Q,Y),n.F=e-(L-Z),n._70I=!0):(n.moveTo(Q,Y),L===Z?(n.F=0,n._70I=!n._70I):n.F=Z-L)},quadraticCurveTo:function(Q,Y,n,R){var g,B=this,L=(e=B.pen).x,Z=e.y,e=B._22O(L,Z,Q,Y,n,R),u=0,X=0,x=B._85O,G=B._84O;if(B.F){if(B.F>e)return B._70I?B._71I(Q,Y,n,R):B.moveTo(n,R),void(B.F-=e);if(u=B.F/e,g=B._20O(L,Z,Q,Y,n,R,u),B._70I?B._71I(g[2],g[3],g[4],g[5]):B.moveTo(g[4],g[5]),B.F=0,B._70I=!B._70I,!e)return}var o,l=T3((e-e*u)/B._83O),V=G/e,z=x/e;if(l)for(var p=0;p<l;p++)B._70I?(g=B._21O(L,Z,Q,Y,n,R,u,X=u+V),B._71I(g[2],g[3],g[4],g[5]),u=X,g=B._21O(L,Z,Q,Y,n,R,u,X=u+z),B.moveTo(g[4],g[5])):(g=B._21O(L,Z,Q,Y,n,R,u,X=u+z),B.moveTo(g[4],g[5]),u=X,g=B._21O(L,Z,Q,Y,n,R,u,X=u+V),B._71I(g[2],g[3],g[4],g[5])),u=X;o=e-e*u,B._70I?G<o?(g=B._21O(L,Z,Q,Y,n,R,u,X=u+V),B._71I(g[2],g[3],g[4],g[5]),B.moveTo(n,R),B.F=x-(o-G),B._70I=!1):(g=B._19O(L,Z,Q,Y,n,R,u),B._71I(g[2],g[3],g[4],g[5]),e===G?(B.F=0,B._70I=!B._70I):(B.F=G-o,B.moveTo(n,R))):x<o?(g=B._21O(L,Z,Q,Y,n,R,u,X=u+z),B.moveTo(g[4],g[5]),g=B._19O(L,Z,Q,Y,n,R,X),B._71I(g[2],g[3],g[4],g[5]),B.F=G-(o-x),B._70I=!0):(B.moveTo(n,R),o===x?(B.F=0,B._70I=!B._70I):B.F=x-o)},bezierCurveTo:function(){var Q=arguments;this.pen={x:Q[4],y:Q[5]},this.g.bezierCurveTo(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5])},arc:function(Q,Y,n,R,g,B){B||(R=-R,g=-g);var L,Z,e,u,X,x=Q,G=Y,B=R,o=n,l=n,Y=!1,V=-((Q=b3(Q=g-R)>2*b?2*b:Q)/(L=E3(b3(Q)/(b/4)))),z=-B;if(0<L){Q=x+p3(B)*o,B=G+G3(-B)*l,Y?this.lineTo(Q,B):this.moveTo(Q,B);for(var p=0;p<L;p++)X=(z+=V)-V/2,Z=x+p3(z)*o,e=G+G3(z)*l,u=x+p3(X)*(o/p3(V/2)),X=G+G3(X)*(l/p3(V/2)),this.quadraticCurveTo(u,X,Z,e)}},rect:function(Q,Y,n,R){this.pen={x:Q,y:Y},this.moveTo(Q,Y),this.lineTo(Q,Y+R),this.lineTo(Q+n,Y+R),this.lineTo(Q+n,Y),this.lineTo(Q,Y)},beginPath:function(){this.g.beginPath()},closePath:function(){this.lineTo(this.start.x,this.start.y)},_23O:function(Q,Y,n,R){return _3((n-=Q)*n+(Q=R-Y)*Q)},_22O:function(Q,Y,n,R,g,B,L){for(var Z,e,u,X,x=0,G=Q,o=Y,l=0<L?L:this._69I,V=1;V<=l;V++)x+=this._23O(G,o,Z=(e=(u=1-(X=V/l))*u)*Q+(u*=2*X)*n+(X*=X)*g,e=e*Y+u*R+X*B),G=Z,o=e;return x},_21O:function(Q,Y,n,R,g,B,L,Z){return 0===L?this._20O(Q,Y,n,R,g,B,Z):1===Z?this._19O(Q,Y,n,R,g,B,L):((Q=this._20O(Q,Y,n,R,g,B,Z)).push(L/Z),this._19O.apply(this,Q))},_20O:function(Q,Y,n,R,g,B,L){var Z,e;return 1!==L&&(Z=n+(g-n)*L,e=R+(B-R)*L,g=(n=Q+(n-Q)*L)+(Z-n)*L,B=(R=Y+(R-Y)*L)+(e-R)*L),[Q,Y,n,R,g,B]},_19O:function(Q,Y,n,R,g,B,L){var Z;return 1!==L&&(Q=(Z=Q+(n-Q)*L)+((n+=(g-n)*L)-Z)*L,Y=(Z=Y+(R-Y)*L)+((R+=(B-R)*L)-Z)*L),[Q,Y,n,R,g,B]},_72I:function(Q,Y){var n=this.pen;Q===n.x&&Y===n.y||(n.x=Q,n.y=Y,this.g.lineTo(Q,Y))},_71I:function(Q,Y,n,R){var g=this.pen;Q===n&&Y===R&&n===g.x&&R===g.y||(g.x=n,g.y=R,this.g.quadraticCurveTo(Q,Y,n,R))}}),F2.ms_quickVisible=function(Q,Y){Q._4BQ=!1,Q._4CQ=function(Q){var Y=Q._4EQ;return Y!==l3?Y:Q._4EQ=this._4FQ(Q)},Q._4DQ=function(Q){var Y;Q?(Q._4EQ=l3,Y=this,Q instanceof $s||pn(Q)||Q instanceof As||Q.ISubGraph?Q.eachChild(function(Q){Y.invalidateQuickVisible(Q)}):Q.getEdges&&(Q=Q.getEdges())&&Q.each(function(Q){Y.invalidateQuickVisible(Q)})):this.dm().each(function(Q){Q._4EQ=l3})},Q.enableQuickVisibleMode=function(){return!this._4BQ&&!this._visibleFunc&&(this._4BQ=!0,this._4FQ=this.isVisible,this.isVisible=this._4CQ,this.invalidateQuickVisible=this._4DQ,!0)},Q.disableQuickVisibleMode=function(){return this._quickVisiblePending=!1,!!this._4BQ&&(this._4BQ=!1,this.isVisible=this._4FQ,this.invalidateQuickVisible=dd,!0)},Q.isQuickVisibleMode=function(){return this._4BQ},Q.invalidateQuickVisible=dd},F2.ms_renderEvents=function(Y,Q){var R=Q.ms_renderEvents;R.forEach(function(Q){Y["on"+Q]=dd}),Y.initRenderEvents=function(){var n=this;R.forEach(function(Q){function R(Q){if(g)for(var Y=0;Y<g.length;Y++)if(g[Y].listener===Q)return Y;return-1}var Y,g,B;B="on"+(Q=Q),(Y=n)["add"+Q+"Listener"]=function(Q,Y){g=g||[];var n=R(Q);if(0<=n){if(g[n].priority===Y)return!1;g[n].priority=Y}else g.push({listener:Q,priority:Y||0});return g.sort(function(Q,Y){return Y.priority-Q.priority}),!0},Y["remove"+Q+"Listener"]=function(Q){return!((Q=R(Q))<0||(g.splice(Q,1),g.length||(g=l3),0))},Y["get"+Q+"Listeners"]=function(){return g},Y["emit"+Q]=function(){if(g)for(var Q=0,Y=g.length;Q<Y;Q++){var n=g[Q].listener;n.apply(n,arguments)}this[B]()}})}},Q=j3()+1,r3&&r.console,V3),eQ=V3,uQ=z3.checkLoadingCompType=function(Q){ZQ&&!Q._72O_&&((eQ=eQ||{})[Q._72O_=S2()]=Q)},XQ=function(n,Q){var R,Y;!(Q=Q||n)||z3.isMaxConcurrencyReached()||(ZQ=ZQ||{})[n]||(R=new Ts,ZQ[Q]={request:R,url:Q},(Q=z3.beforeLoadURL(Q,n)).data?(Y=z3.parse(Q.data),xQ(n,Y),z3.handleCompTypeLoaded(n,Y)):(R.onload=function(Q){var Y;200===this.status||0===this.status?(Y=z3.parse(R.getResponseText()),xQ(n,Y),z3.handleCompTypeLoaded(n,Y)):xQ(n,V3)},R.onerror=function(Q){xQ(n,V3)},(Y={}).url=encodeURI(Q),Y.sync=!1,R.send(Y)))},xQ=function(Q,Y){if(Ud[Q]=Y,delete ZQ[Q],_n(ZQ)&&(ZQ=V3,eQ)){for(var n in eQ)(R=eQ[n]).invalidateAll&&R.invalidateAll(l3,"compTypeLoaded",Q),R.redraw&&R.redraw(),R.iv(),delete R._72O_;eQ=V3}if(Y&&eQ)for(var n in eQ){var R;(R=eQ[n]).invalidateAll&&R.invalidateAll(l3,"compTypeLoading",Q),R.redraw&&R.redraw(),R.iv()}},GQ=i.chart,oQ="",lQ=!0,VQ=z3.compStack=[],zQ=/^style@/,pQ=/^attr@/,$Q=/^field@/,MQ={x:.5,y:.5},FQ=function(Q,Y,n){return!!Q&&((R=n&&n.isImageFitSize?n.isImageFitSize(Y,Q):R)==V3?d(Q.fitSize,Y,n):R);var R},vQ=function(Q,Y,n,R){return Q?!(FQ(Q,Y,n)&&R||null!=(R=d(Q.width,Y,n)))?20:R:0},aQ=function(Q,Y,n,R){return Q?!(FQ(Q,Y,n)&&R||null!=(R=d(Q.height,Y,n)))?20:R:0},d=function(Q,Y,n){if(!Q||!Q.func)return Q;var R=Q.func,g=Q.value,Q=ln(R)?n&&n.vectorDataBindingDisabled&&!Q.isSafeFunc?g:R(Y,n):Y instanceof sQ||Y&&Y.getInteractorClasses&&Y.initView?pQ.test(R)?Y.a(oQ+R.slice(5)):zQ.test(R)?Y.s(oQ+R.slice(6)):$Q.test(R)?Y[R.slice(6)]:Y[R]?Y[R](n):g:g;return g!==l3&&Q==V3?g:Q},JQ=z3.drawImage=(bh=function(){if((ih instanceof Ep||ih instanceof i1)&&Ph&&Ph.dm){var Q=ih.dm();if(Q instanceof hQ&&Q!==Ph.dm())return Ph}return l3},h=function(Q,Y,n){var R,g,B=!1;return Q.prefix&&Ph instanceof sQ&&(g=Ph.a(oQ+Y))!==l3&&(B=!0,R=g),(R=R===l3?Q[Y]:R)&&R.func&&(B=!0,R=d(R,Ph,ih)),n&&(R=n(R),B||(Q[Y]=R)),R},kh=function(Q){var Y=h(Q,"anchorX"),n=h(Q,"anchorY");return Y!==l3||n!==l3?{x:Y===l3?MQ.x:Y,y:n===l3?MQ.y:n}:(Y=h(Q,"type"),n=h(Q,"name"),"image"===Y&&n&&(Q=t(n))&&Q.anchorX!==l3&&Q.anchorY!==l3?{x:Q.anchorX,y:Q.anchorY}:MQ)},Oh=function(Q,Y){Q.compInfos.push(Y),Q._parentCompInfo=Y},Nh={border:function(Q,Y){GB(s,ju(Q,cV),Y.x,Y.y,Y.width,Y.height,h(Q,"width"))},image:function(Q,Y){var n=Eh||h(Q,cV),R=_h||h(Q,"blendMode"),g=h(Q,"name");(g=(g=t(g,n,R))&&g.cacheRule!=V3?FL(s,g,h(Q,"stretch"),Y.width,Y.height,Ph,ih,n):g)?c2(s,g,h(Q,"stretch"),Y.x,Y.y,Y.width,Y.height,Ph,ih,n,null,R):lQ=!1},text:function(Q,Z){var Y,n,R,e,g,u,X,x,G,o,l,V,z,p,$,M,F,B,v,L,a=h(Q,"text"),J=h(Q,"background"),I=h(Q,"outlineColor"),A=h(Q,"outlineWidth"),P=h(Q,"cornerRadius");(J||A&&I)&&(Y=Z.x,n=Z.y,R=Z.width,g=Z.height,s.beginPath(),xB(s,Y,n,R,g,P||0),J&&(s.fillStyle=yT(s,J,ju,!1,Z),s.fill(),s.restore()),A&&I&&(s.lineWidth=A,s.strokeStyle=yT(s,I,ju,!0,Z),s.stroke(),s.restore())),a!=V3&&(a+="",Y=h(Q,"gradientPack"),n=h(Q,"gradient"),R=ju(Q,"gradientColor"),e=h(Q,"font"),g=h(Q,"vertical"),u=h(Q,"verticalGap")||0,P=h(Q,"align"),X=h(Q,"vAlign"),x=h(Q,"decoration"),G=h(Q,"letterGap")||0,J=h(Q,"wrap"),o=h(Q,"borderWidth"),l=h(Q,"borderColor"),V=Lg(e,a),Y?(z=yT(s,Y,ju,!1,Z),s.restore()):z=ju(Q,cV),!Y&&n&&(z=z3.createGradient(s,n,z||z3.labelColor,R||i.imageGradient,Z.x,Z.y,Z.width,Z.height)),o&&M3(l)&&(l=yT(s,l,ju,!1,Z),s.restore()),g?(null==u&&(u=1),p=[],$=[],L=J?QT(a,Z.height,e,G,g,u):[a],s.textBaseline=ZR,s.font=e,L.forEach(function(Q){for(var Y=Q.length,n=0,R=(Y-1)*u,g=0;g<Y;g++){var B=s.measureText(Q[g]);p.push(B),R+=B.fontBoundingBoxDescent||V.height,n=n3(n,B.width)}$.push({width:n,height:R})}),B=(L.length-1)*G,$.forEach(function(Q){B+=Q.width}),M=P&&P!==BR?P===LR?Z.x+Z.width-B:Z.x+(Z.width-B)/2:Z.x,v=0,L.forEach(function(Q,Y){var n=$[Y],R=Q.length;F=X&&X!==xR?X===ZR?Z.y:Z.y+Z.height-n.height:Z.y+(Z.height-n.height)/2;for(var g=0;g<R;g++){var B=Q[g],L=p[v].fontBoundingBoxDescent||V.height;nT(s,B,e,z,{x:M,y:F,width:n.width,height:L},uR,X,x,G,o,l),F+=L+u,v++}M+=n.width+G})):1<(A=(L=J?QT(a,Z.width,e,G,g,u):a.split("\n")).length)?(I=A*Lg(e,a).height+u*(A-1),Q=Qg(Z),X&&X!==xR?X===eR&&(Q.y=Z.y+Z.height-I):Q.y=Z.y+(Z.height-I)/2,Q.height=I,RT(s,L,Q,e,z,P||BR,x,G,o,l)):nT(s,a,e,z,Z,P,X,x,G,o,l))},pieChart:function(Q,Y){var n=h(Q,UR),R=0;if(n&&(n.forEach(function(Q){R+=Q}),0<R)){for(var g=h(Q,"colors")||GQ,B=h(Q,"startAngle")||0,L=h(Q,"hollow"),Z=h(Q,jR),e=h(Q,tR),u=h(Q,mR),X=Z?new W:V3,Q=Y.x,x=Y.y,G=Y.width,o=Q+G/2,l=x+(Y=Y.height)/2,V=R3(G,Y)/2,z=0,p=0;p<n.length;p++){var $,M,F,v,a=n[p],J=B+o3*a/R;s.fillStyle=g[z++],z===g.length&&(z=0),s.beginPath(),L?($=o+p3(B)*V/2,M=l+G3(B)*V/2,F=o+p3(J)*V,v=l+G3(J)*V,s.moveTo($,M),s.arc(o,l,V/2,B,J,!1),s.lineTo(F,v)):s.moveTo(o,l),s.arc(o,l,V,J,B,!0),X&&($=(B+J)/2,X.add({text:ln(Z)?Z(a,p,R,Ph):a,x:o+p3($)*V*.75,y:l+G3($)*V*.75})),s.closePath(),s.fill(),B=J}X&&X.each(function(Q){Bg(s,Q.text,e,u,Q.x,Q.y,0,0,uR)})}},columnChart:function(Q,Y){var n=h(Q,CR);if(n&&0<n.length){var R=n.length,g=h(Q,jR),B=h(Q,tR),L=h(Q,mR),Z=g?new W:V3,e=h(Q,"minValue")||0,u=h(Q,"maxValue");if(u==V3&&(u=0,n.forEach(function(Q){h(Q,UR).forEach(function(Q){u=n3(u,Q)})})),e!==u){for(var X=Y.height/(u-e),x=Y.y+u*X,G=h(n[0],UR).length,o=Y.width/(3*G+1),l=2*o/R,V=0,z=0;z<R;z++)for(var p=n[z],$=h(p,cV),M=h(p,"colors"),F=h(p,UR),v=0;v<G;v++){M?s.fillStyle=M[v]:$?s.fillStyle=$:(s.fillStyle=GQ[V++],V===GQ.length&&(V=0));var a,J=F[v],I=J*X,A=Y.x+(1+3*v)*o+z*l;RB(s,A,x-I,l,I),Z&&(J=ln(g)?g(J,v,p,Ph):J,a=Lg(B,J).height,Z.add({x:A,y:x-I-a,width:l,height:a,text:J}))}Z&&Z.each(function(Q){Bg(s,Q.text,B,L,Q.x,Q.y,Q.width,Q.height,uR)})}}},stackedColumnChart:function(Q,Y){var n=h(Q,CR);if(n&&0<n.length){var R=n.length,g=h(n[0],UR).length,B=Y.width/(3*g+1),L=0,Z=h(Q,"maxValue"),e=h(Q,jR),u=h(Q,tR),X=h(Q,mR),x=e?new W:V3;if(Z==V3)for(var Z=0,G=0;G<g;G++){for(var o=0,l=0;l<R;l++)o+=h(n[l],UR)[G];Z=n3(Z,o)}if(0<Z){for(G=0;G<g;G++)for(var V=Y.y+Y.height,l=0;l<R;l++){var z=n[l],p=h(z,cV),$=h(z,UR)[G],M=$/Z*Y.height,p=(p?s.fillStyle=p:(s.fillStyle=GQ[L++],L===GQ.length&&(L=0)),V-=M,{x:Y.x+(1+3*G)*B,y:V,width:2*B,height:M});RB(s,p.x,p.y,p.width,p.height),x&&(p.text=ln(e)?e($,G,z,Ph):$,x.add(p))}x&&x.each(function(Q){Bg(s,Q.text,u,X,Q.x,Q.y,Q.width,Q.height,uR)})}}},percentageColumnChart:function(Q,Y){var n=h(Q,CR);if(n&&0<n.length){for(var R=n.length,g=h(n[0],UR).length,B=Y.width/(3*g+1),L=0,Z=h(Q,jR),e=h(Q,tR),u=h(Q,mR),X=Z?new W:V3,x=0;x<g;x++){for(var G=0,o=0;o<R;o++)G+=h(n[o],UR)[x];if(0<G)for(var l=Y.y+Y.height,o=0;o<R;o++){var V=n[o],z=h(V,cV),p=h(V,UR)[x],$=p/G*Y.height,z=(z?s.fillStyle=z:(s.fillStyle=GQ[L++],L===GQ.length&&(L=0)),l-=$,{x:Y.x+(1+3*x)*B,y:l,width:2*B,height:$});RB(s,z.x,z.y,z.width,z.height),X&&(z.text=ln(Z)?Z(p,x,V,Ph):p,X.add(z))}}X&&X.each(function(Q){Bg(s,Q.text,e,u,Q.x,Q.y,Q.width,Q.height,uR)})}},lineChart:function(Q,Y){var n=h(Q,CR);if(n&&0<n.length){var R=n.length,g=h(Q,"minValue")||0,B=h(Q,"maxValue");if(B==V3&&(B=0,n.forEach(function(Q){h(Q,UR).forEach(function(Q){B=n3(B,Q)})})),g!==B)for(var L=Y.height/(B-g),Z=Y.y+B*L,e=h(n[0],UR).length,u=Y.width/(3*e+1),X=0,x=h(Q,"lineWidth")||2,G=h(Q,"line3d"),o=h(Q,"linePoint"),l=h(Q,jR),V=h(Q,tR),z=h(Q,mR),p=0;p<R;p++){var $=n[p],M=h($,cV),F=h($,UR);M?s.strokeStyle=M:(M=s.strokeStyle=GQ[X++],X===GQ.length&&(X=0)),s.beginPath();for(var v=0;v<e;v++){var a=Y.x+(2+3*v)*u,J=Z-F[v]*L;0===v?s.moveTo(a,J):s.lineTo(a,J)}if(s.lineWidth=x,s.stroke(),G&&YB(s,M,V3,x,Th),o||l)for(var I,A=x/2+2,v=0;v<e;v++){var P,i,T,E,_=F[v],a=Y.x+(2+3*v)*u,J=Z-_*L;ln(o)?o(s,a,J,M,v,$,Ph):o&&(s.fillStyle=M,s.beginPath(),s.arc(a,J,A,0,o3,!0),s.fill()),ln(l)?I=l(_,v,$,Ph):l&&(I=_),I&&(_=Lg(V,I).height,(P=s.shadowBlur)&&(i=s.shadowOffsetX,T=s.shadowOffsetY,E=s.shadowColor,s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=0,s.shadowColor=V3),Bg(s,I,V,z,a,J-_-A+2,0,_,uR),P&&(s.shadowOffsetX=i,s.shadowOffsetY=T,s.shadowBlur=P,s.shadowColor=E))}}}}},function(Q,U,Y,n,R,g,C,B,L,Z){if(U&&R&&g){var e,u,X,x,w,G,o,l,V,z,j,p=[s,Ph,ih,Th,Eh,_h],Q=(s=Q,ih=B,!(Ph=C)&&ih&&ih.isSelfViewEvent&&(Ph=ih),Th=ih&&ih._zoom||1,Eh=L,_h=Z,R),B=g;if(wL()&&(0===s.maxSize&&!wL[0]||(e=!0),s.texureImage2D&&!wL[1]||(u=!0),s.texureImage3D&&!wL[2]||(X=!0),s.drawDNDState&&!wL[3]||(G=!0),s.drawRect&&!wL[tR[2]]||(l=!0),s.drawRoundRect&&!wL[SR[1]]||(V=!0),K[eV[1]+BV[0]+SR[1]]&&!wL[BV[0]]||(o=!0),qd.widget[0]&&!wL[4]||(x=!0),e&&u&&X&&x&&G&&o&&l&&V&&(Q=Y,B=n)),U.tagName)return $3(K3)&&!r[K3]||s.drawImage(U,Q,B,R,g),void qu(p);0!=h(U,"visible")&&((L=s.interactiveInfo)&&(e={x:Y,y:n,width:R,height:g},L.rect?(u=L._parentCompInfo)&&(e.image=U,L.compInfos.push({comp:{type:"image",name:U,rect:e,pixelPerfect:u.comp.pixelPerfect},rect:e,matrix:u.matrix,prefix:u.prefix,refRect:u.refRect,exData:bh()})):L.rect=e),Eh=Eh||d(U.color,Ph,ih),Z||(_h=d(U.blendMode,Ph,ih)),$3(K3)&&!r[K3]&&(R=Q,g=B),X=vQ(U,Ph,ih,R),x=aQ(U,Ph,ih,g),w={x:0,y:0,width:X,height:x,fitSize:FQ(U,Ph,ih)},G=h(U,"clip"),o=h(U,"opacity"),w.fitSize&&(l=w.rw=d(U.width,Ph,ih)||20,w.widthScale=X/l,V=w.rh=d(U.height,Ph,ih)||20,w.heightScale=x/V),s.save(),s.interactiveInfo&&(z=(Y=s.interactiveInfo.matrix).clone(),Y.appendTranslate(Q,B).appendScale(R/X,g/x),s.interactiveInfo.refRect=w),xT(s,Q,B),X===R&&x===g||s.scale(R/X,g/x),G&&(ln(G)?G(s,X,x,Ph,ih,U):(s.beginPath(),s.rect(0,0,X,x),s.clip())),o!=V3&&(s.globalAlpha*=o),j=s.compGray,h(U,"comps").forEach(function(Q){var Y;if(Q.prefix&&(Y=oQ,(T=d(Q.prefix,Ph,ih))&&(oQ=oQ+T+".")),0==(T=U,i=Q,ih&&ih.getDrawableState?P=ih.getDrawableState(Ph):ih&&ih.getState?P=ih.getState(Ph):(P=Ph instanceof sQ?Ph.s(bV):null)!==l3&&null!==P||(P=h(T,bV)),((T=h(i,bV))===l3||null===T||T===P)&&h(i,fR)))Q.prefix&&(oQ=Y);else{var n,R,g,B,L,Z,e,u,X,x,G,o,l,V,z,p,$,M,F,v,a,J,I,A,P=h(Q,"composite"),i=(P&&(s.save(),s.globalCompositeOperation=P),d(Q.gray,Ph,ih)&&(s.compGray=!0),VQ.splice(0,0,Q),s.interactiveInfo&&(n=s.interactiveInfo.matrix.clone(),R=s.interactiveInfo._parentCompInfo),h(Q,"opacity")),T=h(Q,"shadow"),E=h(Q,"type"),_=h(Q,"refRect")||w,b=(x=_,u=h(X=Q,H),M=kh(X),M3(u)&&(I=u.length,z=h(X,"relative"),A=x.width,v=x.height,4===I?(u={x:u[0],y:u[1],width:u[2],height:u[3]},z&&(u.x*=A,u.y*=v,u.width*=A,u.height*=v)):3===I&&(I=u[0],u={width:u[1],height:u[2]},z&&(u.width*=A,u.height*=v),"object"==typeof I?I.length&&(I={x:I[0],y:I[1]}):I=_B(I,x,u),u.x=I.x-u.width*M.x,u.y=I.y-u.height*M.y),u.x+=h(X,"offsetX")||0,u.y+=h(X,"offsetY")||0,!z&&x.fitSize&&(u=Hu(X,u,x))),u);if(i!=V3&&(g=s.globalAlpha,s.globalAlpha*=i),T&&(A=Th*z3.devicePixelRatio,B=s.shadowOffsetX,L=s.shadowOffsetY,Z=s.shadowBlur,e=s.shadowColor,v=h(Q,"shadowOffsetX"),I=h(Q,"shadowOffsetY"),M=h(Q,"shadowBlur"),z=ju(Q,"shadowColor"),s.shadowOffsetX=(v==V3?3:v)*A,s.shadowOffsetY=(I==V3?3:I)*A,s.shadowBlur=(M==V3?6:M)*A,s.shadowColor=z||ju(hB)),"save"===E)s.save();else if("endClip"===E||"restore"===E)s.restore();else if("clip"===E)s.save(),fT(s,h(Q,"points",ru),h(Q,"segments",su),!0),s.clip();else if(MB[E]){if(mu(Q,E,b=b||{x:0,y:0,width:_.width,height:_.height},_),Q.prefix&&$3(Q.prefix)&&0===Q.prefix.indexOf("ui.")&&ih&&ih.getInteractorClasses&&ih.initView){ih._vectorCompInfo||(ih._vectorCompInfo=[]);for(var k=!1,O=0;O<ih._vectorCompInfo.length;O++){var N=ih._vectorCompInfo[O];if(Q.prefix===N.comp.prefix&&C===N.data){ih._vectorCompInfo[O]={comp:Q,type:E,rect:b,compRefRect:_,data:C,image:U,transform:s.getTransform()},k=!0;break}}k||ih._vectorCompInfo.push({comp:Q,type:E,rect:b,compRefRect:_,data:C,image:U,transform:s.getTransform()})}}else E===aR?mu(Q,E,b,_):"SVGPath"===E?(X=E,x=b,M=h(u=Q,"path"),F=h(u,yR),v=h(u,"scaleX"),a=h(u,"scaleY"),J=kh(u),I=V3,A=ST(null,M),x||((x=u.unionRect)||(x=pg(A),u.path.func||(u.unionRect=x)),I=x),x&&((I=I||u.unionRect)||(I=pg(A),u.path.func||(u.unionRect=I)),A=hu(u,x,I,F,v,a,J),x=h(u,"borderPattern"),F=BQ(s,x),v=ju(u,"background"),a=ju(u,"borderColor"),J=h(u,"borderWidth"),z=h(u,"gradient"),p=ju(u,"gradientColor"),$=h(u,"border3d"),G=ju(u,"border3dColor"),o=h(u,"border3dAccuracy"),l=s.lineJoin,V=s.lineCap,s.lineJoin=h(u,"borderJoin")||b2,s.lineCap=h(u,"borderCap")||_2,v?(BB(s,v,z,p,I),ST(s,M),s.fill(),F!==s&&ST(s,M)):ST(s,M),(z=h(u,"borderWidthAbsolute"))&&(s.save(),s.setTransform(1,0,0,1,0,0)),J&&a&&(s.lineWidth=J,s.strokeStyle=a,s.stroke(),$&&YB(s,a,G,J,Th,o)),LQ(s,x),h(u,"dash")&&0<(p=h(u,"dashWidth")||J)&&(x=h(u,"dashPattern")||E2,F=BQ(s,x,h(u,"dashOffset")),$=ju(u,"dashColor")||ju(kB),F!==s&&ST(s,M),s.strokeStyle=$,s.lineWidth=p,s.stroke(),h(u,"dash3d")&&YB(s,$,ju(u,"dash3dColor"),p,Th,h(u,"dash3dAccuracy")),LQ(s,x)),z&&s.restore(),X===H&&oB(s,v,h(u,"depth"),I),s.lineJoin=l,s.lineCap=V,A&&tu())):(F=hu(Q,b=b||{x:0,y:0,width:_.width,height:_.height},b,a=h(Q,yR),G=h(Q,"scaleX"),o=h(Q,"scaleY"),J=kh(Q)),ln(E)?(wu(Q,E),z3.drawCompType(E,s,b,Q,Ph,ih)):z3.getCompType(E)?($=(M=z3.getCompType(E)).func||M,wu(Q,M),z3.drawCompType($,s,b,Q,Ph,ih)):Nh[E]?Nh[E](Q,b):z3.getCompType(E)===l3&&rd.test(E)&&(XQ(E),z3.getCompType(E)===l3&&(lQ=!1)),F&&tu());T&&(s.shadowOffsetX=B,s.shadowOffsetY=L,s.shadowBlur=Z,s.shadowColor=e),i!=V3&&(s.globalAlpha=g),s.interactiveInfo&&(s.interactiveInfo.matrix=n,s.interactiveInfo._parentCompInfo=R),Q.prefix&&(oQ=Y),VQ.splice(0,1),s.compGray=j,P&&s.restore()}}),s.interactiveInfo&&(s.interactiveInfo.matrix=z),s.restore()),qu(p)}}),IQ=(z3.getCurrentComp=function(){return VQ[0]},z3.getParentComp=function(){return VQ[1]},z3.compContextSave=function(Q){var Y,n,R;Q.save(),(Q=Q.interactiveInfo)&&((Y=Q._compContextTransformStack)||(Y=Q._compContextTransformStack=[]),n={},(R=Q.matrix)&&(n.matrix=R.clone()),Q._parentCompInfo&&(R=Q._parentCompInfo.matrix)&&(n.parentMatrix=R.clone()),Y.push(n))},z3.compContextRestore=function(Q){var Y,n;Q.restore(),(Q=Q.interactiveInfo)&&(Y=Q._compContextTransformStack)&&(Y=Y.pop(),(n=Q.matrix)&&n.copy(Y.matrix),Q._parentCompInfo&&(n=Q._parentCompInfo.matrix)&&n.copy(Y.parentMatrix))},z3.compContextTranslate=function(Q,Y,n){var R;Q.translate(Y,n),(Q=Q.interactiveInfo)&&((R=Q.matrix)&&R.appendTranslate(Y,n),Q._parentCompInfo&&(R=Q._parentCompInfo.matrix)&&R.appendTranslate(Y,n))},z3.compContextScale=function(Q,Y,n){var R;Q.scale(Y,n),(Q=Q.interactiveInfo)&&((R=Q.matrix)&&R.appendScale(Y,n),Q._parentCompInfo&&(R=Q._parentCompInfo.matrix)&&R.appendScale(Y,n))},z3.compContextRotate=function(Q,Y){var n;Q.rotate(Y),(Q=Q.interactiveInfo)&&((n=Q.matrix)&&n.appendRotate(Y),Q._parentCompInfo&&(n=Q._parentCompInfo.matrix)&&n.appendRotate(Y))},z3.compContextTransform=function(Q,Y,n,R,g,B,L){Q.transform(Y,n,R,g,B,L),(Q=Q.interactiveInfo)&&(Y=B2.TEMP_MATRIX.set(Y,n,R,g,B,L),(n=Q.matrix)&&n.append(Y),Q._parentCompInfo&&(n=Q._parentCompInfo.matrix)&&n.append(Y))},z3.getInternal=function(){return{isEnter:rT,isEsc:HT,isSpace:jT,isLeft:NT,isUp:UT,isRight:CT,isDown:wT,addMethod:In,superCall:En,toPointsArray:QB,translateAndScale:XT,appendArray:an,createWorldMatrix:YQ,vec3TransformMat4:Kg,setCanvas:yn,createDiv:Kn,createView:dn,createCanvas:Wn,createImage:gn,initContext:uT,layout:E,fillRect:RB,Mat:L2,drawBorder:GB,isString:$3,setBorder:cn,getPropertyValue:wn,setPropertyValue:jn,drawVerticalLine:Hn,draw3DRect:oB,getPinchDist:vB,isSameRect:kn,getPosition:_B,intersectionLineRect:Un,getNodeRect:mQ,getEdgeAgentPosition:eL,getEdgeHostPosition:ZL,getImageWidth:vQ,getImageHeight:aQ,initItemElement:qn,compileShaderAndFetchUniforms:x1,composeShaderSource:l1,decomposeShaderSource:o1,registerShaderToLib:z1,getShaderInternal:V1,makeUVMatrixArray:im,drawPoints:fT,createG2:BQ,closePopup:FT,isH:Zn,createAnim:Jn,createNormalMatrix:Xm,makeUVMatrix:Pm,toColorArray:WT,createNormals:kC,toFloatArray:SD,glMV:xm,glPop:um,batchShape:BD,createNodeMatrix:QQ,getShapeModel:WD,getFaceInfo:vm,transformAppend:XC,drawFaceInfo:am,glUploadData:gm,glUploadElementData:Lm,glDrawArray:Qm,glDrawElement:Ym,glBindTexture:CC,glRequestPickColor:function(Q,Y){return om(null,Q.pickColorMap,!0,Y,wR,!0)},pickValueToColor:h1,to3dPointsArray:fD,setGLDebugMode:function(Q){qp=Q},cube:function(){return{vs:ID,is:AD,uv:PD}},ui:function(){return{DataUI:hs,NodeUI:ms,EdgeUI:qs,GroupUI:Ks,ShapeUI:cs,GridUI:ys,Data3dUI:g$,Node3dUI:B$,Shape3dUI:e$}},getInternalVersion:function(){return"U2FsdGVkX1/Sfhv4tyyAK23YSSJmWokieGivfRJYGCo="},getDragger:function(){return vT},addMSMap:function(Q){In(F2,Q)},k:B3,overrideTimerFunc:function(Q,Y){y2=K.Default.callLater=Q,D2=K.Default.cancelLater=Y},canEnterEditDetailMode:pL,addEventListener:A3,removeEventListener:P3,createGradientByPackedData:yT,completeCubeCenterOfModel3d:Em,completeObjModelMapToShape3d:_m}},function(Q){var F="toString",Y="";function $(Q,Y,n){Q!=V3&&(Y==V3&&KV!=typeof Q?this._54O(Q,256):this._54O(Q,Y))}L3=Q["D"+11182[F](O3(2,5))];var n=$.prototype;function M(){return new $(V3)}YV+=oR.substr(0,1);for(var Q="Microsoft Internet Explorer"==(Q=Q.navigator?Q.navigator.appName:"")?(n.am=function(Q,Y,n,R,g,B){for(var L=32767&Y,Z=Y>>15;0<=--B;){var e=32767&this[Q],u=this[Q++]>>15,X=Z*e+u*L;g=((e=L*e+((32767&X)<<15)+n[R]+(1073741823&g))>>>30)+(X>>>15)+Z*u+(g>>>30),n[R++]=1073741823&e}return g},30):"Netscape"!=Q?(n.am=function(Q,Y,n,R,g,B){for(;0<=--B;){var L=Y*this[Q++]+n[R]+g;g=T3(L/67108864),n[R++]=67108863&L}return g},26):(n.am=function(Q,Y,n,R,g,B){for(var L=16383&Y,Z=Y>>14;0<=--B;){var e=16383&this[Q],u=this[Q++]>>14,X=Z*e+u*L;g=((e=L*e+((16383&X)<<14)+n[R]+g)>>28)+(X>>14)+Z*u,n[R++]=268435455&e}return g},28),C=(n.DB=Q,n.DM=(1<<Q)-1,n.DV=1<<Q,n.FV=O3(2,52),n.F1=52-Q,n.F2=2*Q-52,"0123456789abcdefghijklmnopqrstuvwxyz"),u=[],L=function(Q){return String.fromCharCode(Q)},R="0".charCodeAt(0),g=0;g<=9;++g)u[R++]=g;for(R="a".charCodeAt(0),g=10;g<36;++g)u[R++]=g;for(R="A".charCodeAt(0),g=10;g<36;++g)u[R++]=g;function X(Q){return C.charAt(Q)}function B(Q){var Y=M();return Y._58O(Q),Y}function v(Q){var Y,n=1;return 0!=(Y=Q>>>16)&&(Q=Y,n+=16),0!=(Y=Q>>8)&&(Q=Y,n+=8),0!=(Y=Q>>4)&&(Q=Y,n+=4),0!=(Y=Q>>2)&&(Q=Y,n+=2),0!=(Y=Q>>1)&&(Q=Y,n+=1),n}function Z(Q){this.m=Q}function e(Q){this.m=Q,this.mp=Q._50O(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<Q.DB-15)-1,this.mt2=2*Q.t}function a(Q,Y){return new $(Q,Y)}function x(){this.n=V3,this.e=0,this.d=V3,this.p=V3,this.q=V3,this.dmp1=V3,this.dmq1=V3,this._10A=V3}(Q=Z.prototype)._73O=function(Q){return Q.s<0||0<=Q._52O(this.m)?Q.mod(this.m):Q},Q.revert=function(Q){return Q},Q._74O=function(Q){Q._49O(this.m,V3,Q)},Q._75O=function(Q,Y,n){Q._47O(Y,n),this._74O(n)},Q._76O=function(Q,Y){Q._48O(Y),this._74O(Y)},(Q=e.prototype)._73O=function(Q){var Y=M();return Q.abs()._59O(this.m.t,Y),Y._49O(this.m,V3,Y),Q.s<0&&0<Y._52O($.ZERO)&&this.m._78O(Y,Y),Y},Q.revert=function(Q){var Y=M();return Q._77O(Y),this._74O(Y),Y},Q._74O=function(Q){for(var Y=this;Q.t<=Y.mt2;)Q[Q.t++]=0;for(var n=0;n<Y.m.t;++n){var R=32767&Q[n],g=R*Y.mpl+((R*Y.mph+(Q[n]>>15)*Y.mpl&Y.um)<<15)&Q.DM;for(Q[R=n+Y.m.t]+=Y.m.am(0,g,Q,n,0,Y.m.t);Q[R]>=Q.DV;)Q[R]-=Q.DV,Q[++R]++}Q._57O(),Q._45O(Y.m.t,Q),0<=Q._52O(Y.m)&&Q._78O(Y.m,Q)},Q._75O=function(Q,Y,n){Q._47O(Y,n),this._74O(n)},Q._76O=function(Q,Y){Q._48O(Y),this._74O(Y)},n._77O=function(Q){for(var Y=this.t-1;0<=Y;--Y)Q[Y]=this[Y];Q.t=this.t,Q.s=this.s},n._58O=function(Q){this.t=1,this.s=Q<0?-1:0,0<Q?this[0]=Q:Q<-1?this[0]=Q+this.DV:this.t=0},n._54O=function(Q,Y){var n,R=this;if(16==Y)n=4;else if(8==Y)n=3;else if(256==Y)n=8;else if(2==Y)n=1;else if(32==Y)n=5;else{if(4!=Y)return void R.fromRadix(Q,Y);n=2}R.t=0,R.s=0;for(var g,B=Q.length,L=!1,Z=0;0<=--B;){var e=8==n?255&Q[B]:(e=B,(g=u[(g=Q).charCodeAt(e)])==V3?-1:g);e<0?"-"==Q.charAt(B)&&(L=!0):(L=!1,0==Z?R[R.t++]=e:Z+n>R.DB?(R[R.t-1]|=(e&(1<<R.DB-Z)-1)<<Z,R[R.t++]=e>>R.DB-Z):R[R.t-1]|=e<<Z,(Z+=n)>=R.DB&&(Z-=R.DB))}8==n&&0!=(128&Q[0])&&(R.s=-1,0<Z&&(R[R.t-1]|=(1<<R.DB-Z)-1<<Z)),R._57O(),L&&$.ZERO._78O(R,R)},n._57O=function(){for(var Q=this.s&this.DM;0<this.t&&this[this.t-1]==Q;)--this.t},n._59O=function(Q,Y){for(var n=this.t-1;0<=n;--n)Y[n+Q]=this[n];for(n=Q-1;0<=n;--n)Y[n]=0;Y.t=this.t+Q,Y.s=this.s},n._45O=function(Q,Y){for(var n=Q;n<this.t;++n)Y[n-Q]=this[n];Y.t=n3(this.t-Q,0),Y.s=this.s},n._44O=function(Q,Y){for(var n=this,R=Q%n.DB,g=n.DB-R,B=(1<<g)-1,L=T3(Q/n.DB),Z=n.s<<R&n.DM,e=n.t-1;0<=e;--e)Y[e+L+1]=n[e]>>g|Z,Z=(n[e]&B)<<R;for(e=L-1;0<=e;--e)Y[e]=0;Y[L]=Z,Y.t=n.t+L+1,Y.s=n.s,Y._57O()},n._46O=function(Q,Y){var n=this,R=(Y.s=n.s,T3(Q/n.DB));if(R>=n.t)Y.t=0;else{var g=Q%n.DB,B=n.DB-g,L=(1<<g)-1;Y[0]=n[R]>>g;for(var Z=R+1;Z<n.t;++Z)Y[Z-R-1]|=(n[Z]&L)<<B,Y[Z-R]=n[Z]>>g;0<g&&(Y[n.t-R-1]|=(n.s&L)<<B),Y.t=n.t-R,Y._57O()}},n._78O=function(Q,Y){for(var n=this,R=0,g=0,B=R3(Q.t,n.t);R<B;)g+=n[R]-Q[R],Y[R++]=g&n.DM,g>>=n.DB;if(Q.t<n.t){for(g-=Q.s;R<n.t;)g+=n[R],Y[R++]=g&n.DM,g>>=n.DB;g+=n.s}else{for(g+=n.s;R<Q.t;)g-=Q[R],Y[R++]=g&n.DM,g>>=n.DB;g-=Q.s}Y.s=g<0?-1:0,g<-1?Y[R++]=n.DV+g:0<g&&(Y[R++]=g),Y.t=R,Y._57O()},n._47O=function(Q,Y){var n=this.abs(),R=Q.abs(),g=n.t;for(Y.t=g+R.t;0<=--g;)Y[g]=0;for(g=0;g<R.t;++g)Y[g+n.t]=n.am(0,R[g],Y,g,0,n.t);Y.s=0,Y._57O(),this.s!=Q.s&&$.ZERO._78O(Y,Y)},n._48O=function(Q){for(var Y=this.abs(),n=Q.t=2*Y.t;0<=--n;)Q[n]=0;for(n=0;n<Y.t-1;++n){var R=Y.am(n,Y[n],Q,2*n,0,1);(Q[n+Y.t]+=Y.am(n+1,2*Y[n],Q,2*n+1,R,Y.t-n-1))>=Y.DV&&(Q[n+Y.t]-=Y.DV,Q[n+Y.t+1]=1)}0<Q.t&&(Q[Q.t-1]+=Y.am(n,Y[n],Q,2*n,0,1)),Q.s=0,Q._57O()},n._49O=function(Q,Y,n){var R=this;if(!((X=Q.abs()).t<=0)){var g=R.abs();if(g.t<X.t)return Y!=V3&&Y._58O(0),void(n!=V3&&R._77O(n));n==V3&&(n=M());var B=M(),L=R.s,Q=Q.s,Z=R.DB-v(X[X.t-1]),e=(0<Z?(X._44O(Z,B),g._44O(Z,n)):(X._77O(B),g._77O(n)),B.t),u=B[e-1];if(0!=u){var X=u*(1<<R.F1)+(1<e?B[e-2]>>R.F2:0),x=R.FV/X,G=(1<<R.F1)/X,o=1<<R.F2,l=n.t,V=l-e,z=Y==V3?M():Y;for(B._59O(V,z),0<=n._52O(z)&&(n[n.t++]=1,n._78O(z,n)),$.ONE._59O(e,z),z._78O(B,B);B.t<e;)B[B.t++]=0;for(;0<=--V;){var p=n[--l]==u?R.DM:T3(n[l]*x+(n[l-1]+o)*G);if((n[l]+=B.am(0,p,n,V,0,e))<p)for(B._59O(V,z),n._78O(z,n);n[l]<--p;)n._78O(z,n)}Y!=V3&&(n._45O(e,Y),L!=Q&&$.ZERO._78O(Y,Y)),n.t=e,n._57O(),0<Z&&n._46O(Z,n),L<0&&$.ZERO._78O(n,n)}}},n._50O=function(){if(this.t<1)return 0;var Q=this[0];if(0==(1&Q))return 0;var Y=3&Q;return 0<(Y=(Y=(Y=(Y=Y*(2-(15&Q)*Y)&15)*(2-(255&Q)*Y)&255)*(2-((65535&Q)*Y&65535))&65535)*(2-Q*Y%this.DV)%this.DV)?this.DV-Y:-Y},n._51O=function(){return 0==(0<this.t?1&this[0]:this.s)},n.exp=function(Q,Y){if(4294967295<Q||Q<1)return $.ONE;var n,R=M(),g=M(),B=Y._73O(this),L=v(Q)-1;for(B._77O(R);0<=--L;)Y._76O(R,g),0<(Q&1<<L)?Y._75O(g,B,R):(n=R,R=g,g=n);return Y.revert(R)},n.toString=function(Q){var Y,n=this;if(n.s<0)return"-"+n._85O()[F](Q);if(16==Q)Y=4;else if(8==Q)Y=3;else if(2==Q)Y=1;else if(32==Q)Y=5;else{if(4!=Q)return n.toRadix(Q);Y=2}var R,g=(1<<Y)-1,B=!1,L="",Z=n.t,e=n.DB-Z*n.DB%Y;if(0<Z--)for(e<n.DB&&0<(R=n[Z]>>e)&&(B=!0,L=X(R));0<=Z;)e<Y?(R=(n[Z]&(1<<e)-1)<<Y-e,R|=n[--Z]>>(e+=n.DB-Y)):(R=n[Z]>>(e-=Y)&g,e<=0&&(e+=n.DB,--Z)),(B=0<R||B)&&(L+=X(R));return B?L:"0"},n._85O=function(){var Q=M();return $.ZERO._78O(this,Q),Q},n.abs=function(){return this.s<0?this._85O():this},n._52O=function(Q){var Y=this.s-Q.s;if(0!=Y)return Y;var n=this.t;if(0!=(Y=n-Q.t))return this.s<0?-Y:Y;for(;0<=--n;)if(0!=(Y=this[n]-Q[n]))return Y;return 0},n._55O=function(){return this.t<=0?0:this.DB*(this.t-1)+v(this[this.t-1]^this.s&this.DM)},n.mod=function(Q){var Y=M();return this.abs()._49O(Q,V3,Y),this.s<0&&0<Y._52O($.ZERO)&&Q._78O(Y,Y),Y},n._53O=function(Q,Y){return Y=new(Q<256||Y._51O()?Z:e)(Y),this.exp(Q,Y)},$.ZERO=B(0),$.ONE=B(1),n._86O=function(){var Q=this;if(Q.s<0){if(1==Q.t)return Q[0]-Q.DV;if(0==Q.t)return-1}else{if(1==Q.t)return Q[0];if(0==Q.t)return 0}return(Q[1]&(1<<32-Q.DB)-1)<<Q.DB|Q[0]},x3=function(){Q=(u=r).split(""),Y=J(u),Q.forEach(function(Q){0<Q.length&&Y&&(Z3+=H3(Q))});var Y,Q=(u=Y).substr(0,4),n=u.substr(4,2),R=u.substr(6,2),g=!1,B=B3,L=[],Z=fV.charAt(7);if(L3&&(L3[F]().indexOf("nat")<0||L3[YV][F]().indexOf("nat")<0||!u?X=V3:(Q=(u=new L3(+Q,n-1,+R)).setHours(9),L3[YV]()>Q?X=DT[Z]:g=!0)),u&&X&&X[0]&&X[E3(.5)]&&B){var e,n=Sg(X[0]);for(e in R=Sg(X[1]))L.push(e);var Q=0,u=n[L[0]],X=R[L[Q++]],x=R[L[Q++]],G=R[L[Q++]],o=R[L[Q++]],l=R[L[Q++]],V=R[L[Q++]],n=n[L[6]],R=R[L[+Q]],Q=U._27O(B);if(u===X&&Q&&R){var B=X+x+G+o+l+V,z=!V||V===Xd||!Xd&&V===(rd+"")[0];if(!z&&V)for(var p,$=0,M=V.length;$<M;$++)V[$]===VV[7]?p===Xd||p[0]===qR[5]&&Xd&&0<=Xd.indexOf(p.substr(1))?z=!0:p=V3:(p==V3?p=V[$]:p+=V[$],$===M-1&&(p===Xd||p[0]===qR[5]&&Xd&&0<=Xd.indexOf(p.substr(1)))&&(z=!0));B&&Q._31O(B,R)&&Q._31O(u,n)&&z&&(!l||L3[YV]()<l)&&(g=!0)}}return g||(gB=bn),Z};(Q=x.prototype)._37O=function(Q){return Q._53O(this.e,this.n)},Q._38O=function(Q,Y){this.isPublic=!0,typeof Q!=KV?(this.n=Q,this.e=Y):Q!=V3&&Y!=V3&&0<Q.length&&0<Y.length&&(this.n=a(Q,16),this.e=H3(Y,16))};var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j="=",r="ICQSFQ==";function J(Q){for(var Y,n,R="",g=0,B=0;B<Q.length&&Q.charAt(B)!=j;++B)(n=w.indexOf(Q.charAt(B)))<0||(g=0==g?(R+=X(n>>2),Y=3&n,1):1==g?(R+=X(Y<<2|n>>4),Y=15&n,2):2==g?(R=(R+=X(Y))+X(n>>2),Y=3&n,3):(R=(R+=X(Y<<2|n>>4))+X(15&n),0));return 1==g&&(R+=X(Y<<2)),R}i=(n={})._7A={},G=i._6A={_80O:function(Q){s.prototype=this;var Y=new s;return Q&&Y._5A(Q),Y.hasOwnProperty("_82O")||(Y._82O=function(){Y.$super._82O.apply(this,arguments)}),(Y._82O.prototype=Y).$super=this,Y},_3A:function(){var Q=this._80O();return Q._82O.apply(Q,arguments),Q},_82O:function(){},_5A:function(Q){for(var Y in Q)Q.hasOwnProperty(Y)&&(this[Y]=Q[Y]);Q.hasOwnProperty(F)&&(this.toString=Q.toString)},_88O:function(){return this._82O.prototype._80O(this)}},o=i._39O=G._80O({_82O:function(Q,Y){Q=this._84O=Q||[],this._65O=null!=Y?Y:4*Q.length},toString:function(Q){return(Q||l).stringify(this)},_89O:function(Q){var Y=this._84O,n=Q._84O,R=this._65O,g=Q._65O;if(this._57O(),R%4)for(var B=0;B<g;B++){var L=n[B>>>2]>>>24-B%4*8&255;Y[R+B>>>2]|=L<<24-(R+B)%4*8}else if(65535<n.length)for(B=0;B<g;B+=4)Y[R+B>>>2]=n[B>>>2];else Y.push.apply(Y,n);return this._65O+=g,this},_57O:function(){var Q=this._84O,Y=this._65O;Q[Y>>>2]&=4294967295<<32-Y%4*8,Q.length=E3(Y/4)},_88O:function(){var Q=G._88O.call(this);return Q._84O=this._84O.slice(0),Q},_87O:function(Q){for(var Y=[],n=0;n<Q;n+=4)Y.push(4294967296*j3|0);return new o._82O(Y,Q)}}),A=n._2A={},l=A._69O={stringify:function(Q){for(var Y=Q._84O,n=Q._65O,R=[],g=0;g<n;g++){var B=Y[g>>>2]>>>24-g%4*8&255;R.push((B>>>4).toString(16)),R.push((15&B).toString(16))}return R.join("")},_68O:function(Q){for(var Y=Q.length,n=[],R=0;R<Y;R+=2)n[R>>>3]|=H3(Q.substr(R,2),16)<<24-R%8*4;return new o._82O(n,Y/2)}},V=A._8A={stringify:function(Q){for(var Y=Q._84O,n=Q._65O,R=[],g=0;g<n;g++){var B=Y[g>>>2]>>>24-g%4*8&255;R.push(L(B))}return R.join("")},_68O:function(Q){for(var Y=Q.length,n=[],R=0;R<Y;R++)n[R>>>2]|=(255&Q.charCodeAt(R))<<24-R%4*8;return new o._82O(n,Y)}},z=A._9A={stringify:function(Q){try{return decodeURIComponent(escape(V.stringify(Q)))}catch(Q){throw new Error("")}},_68O:function(Q){return V._68O(unescape(encodeURIComponent(Q)))}},p=i._32O=G._80O({_1A:function(){this._83O=new o._82O,this._23O=0},_33O:function(Q){typeof Q==KV&&(Q=z._68O(Q)),this._83O._89O(Q),this._23O+=Q._65O},_25O:function(Q){var Y=this._83O,n=Y._84O,R=Y._65O,g=this._79O,B=R/(4*g),L=(B=Q?E3(B):n3((0|B)-this._22O,0))*g,Q=R3(4*L,R);if(L){for(var Z=0;Z<L;Z+=g)this._20O(n,Z);var e=n.splice(0,L);Y._65O-=Q}return new o._82O(e,Q)},_88O:function(){var Q=G._88O.call(this);return Q._83O=this._83O._88O(),Q},_22O:0}),i._66O=p._80O({cfg:G._80O(),_82O:function(Q){this.cfg=this.cfg._80O(Q),this._1A()},_1A:function(){p._1A.call(this),this._34O()},_81O:function(Q){return this._33O(Q),this._25O(),this},_72O:function(Q){return Q&&this._33O(Q),this._21O()},_79O:16,_26O:function(n){return function(Q,Y){return new n._82O(Y)._72O(Q)}},_19O:function(n){return function(Q,Y){return new H._71O._82O(n,Y)._72O(Q)}}});var G,o,l,V,z,p,H,H=n._67O={},I=n;function s(){}var A=I,h=(i=A._7A)._39O,P=i._66O,i=A._67O,t=[],m=[];function q(Q){return 4294967296*(Q-(0|Q))|0}for(var T=2,E=0;E<64;)!function(Q){for(var Y=_3(Q),n=2;n<=Y;n++)if(!(Q%n))return;return 1}(T)||(E<8&&(t[E]=q(O3(T,.5))),m[E]=q(O3(T,1/3)),E++),T++;var _=[],i=i._41O=P._80O({_34O:function(){this._64O=new h._82O(t.slice(0))},_20O:function(Q,Y){for(var n=this._64O._84O,R=n[0],g=n[1],B=n[2],L=n[3],Z=n[4],e=n[5],u=n[6],X=n[7],x=0;x<64;x++){x<16?_[x]=0|Q[Y+x]:(G=_[x-15],o=_[x-2],_[x]=((G<<25|G>>>7)^(G<<14|G>>>18)^G>>>3)+_[x-7]+((o<<15|o>>>17)^(o<<13|o>>>19)^o>>>10)+_[x-16]);var G=R&g^R&B^g&B,o=X+((Z<<26|Z>>>6)^(Z<<21|Z>>>11)^(Z<<7|Z>>>25))+(Z&e^~Z&u)+m[x]+_[x],X=u,u=e,e=Z,Z=L+o|0,L=B,B=g,g=R,R=o+(((R<<30|R>>>2)^(R<<19|R>>>13)^(R<<10|R>>>22))+G)|0}n[0]=n[0]+R|0,n[1]=n[1]+g|0,n[2]=n[2]+B|0,n[3]=n[3]+L|0,n[4]=n[4]+Z|0,n[5]=n[5]+e|0,n[6]=n[6]+u|0,n[7]=n[7]+X|0},_21O:function(){var Q=this._83O,Y=Q._84O,n=8*this._23O,R=8*Q._65O;return Y[R>>>5]|=128<<24-R%32,Y[14+(64+R>>>9<<4)]=T3(n/4294967296),Y[15+(64+R>>>9<<4)]=n,Q._65O=4*Y.length,this._25O(),this._64O},_88O:function(){var Q=P._88O.call(this);return Q._64O=this._64O._88O(),Q}}),b=(A._41O=P._26O(i),A._42O=P._19O(i),new RegExp(""));function k(Q){var Y=Q.substring(0,38);return Y&&30==Y.indexOf("05000420")?["ss",Q.substring(38)]:[]}function d(Q,Y,n,R){if((Y=a(Y=(Y=Y.replace(b,"")).replace(/[ \n]+/g,""),16))._55O()>this.n._55O())return 0;if(0==(Y=k(this._37O(Y)[F](16).replace(/^1f+00/,""))).length)return!1;for(var g,B,L,Z=kg,e=[0,.5,.75,.875,.9375],u=[],X=[],x=[],G=o3/Z,o=(o=Y=Y[1],Q=O._4O.Util._56O(Q,"ss"),(L={}).v=Q==o,L.t=1,L.s=0,u3=L.v,Q),l=L.t=0,V=0;l<e.length;l++)for(var z=l%2==0?0:.5,p=0;p<=Z;p++)B=1-e[l],u.push(.5*p3(g=(p+z)*G)*B,.5*e[l]*2-.5,.5*-G3(g)*B),X.push((p+z)/Z,B);for(l=0;l<e.length-1;l++)for(var $=l*(Z+1),M=(l+1)*(Z+1),p=0;p<Z;p++)x.push($+p,M+p+1,M+p,$+p,$+p+1,M+p+1);return x.forEach(function(Q){V+=Q}),Y==o&&10<V}function K(Q){return(Q=Q.replace(b,Y)).replace(/[ \n]+/g,Y)}b.compile("[^0-9a-f]","gi"),x._28O=-1,x._29O=-2,Q._31O=d,Q._63O=d,x._43O=-2;var O,W,c,N=new function(){var e=this;e._5O=function(Q,Y){return"8"!=Q.substring(Y+2,Y+3)?1:0==(Q=H3(Q.substring(Y+3,Y+4)))?-1:0<Q&&Q<10?Q+1:-2},e._13O=function(Q,Y){var n=e._5O(Q,Y);return n<1?"":Q.substring(Y+2,Y+2+2*n)},e._12O=function(Q,Y){return""==(Q=e._13O(Q,Y))?-1:(H3(Q.substring(0,1))<8?new $(Q,16):new $(Q.substring(2),16))._86O()},e._6O=function(Q,Y){return(Q=e._5O(Q,Y))<0?Q:Y+2*(Q+1)},e._11O=function(Q,Y){var n=e._6O(Q,Y),Y=e._12O(Q,Y);return Q.substring(n,n+2*Y)},e._10O=function(Q,Y){return e._6O(Q,Y)+2*e._12O(Q,Y)},e._7O=function(Q,Y){for(var n=[],R=e._6O(Q,Y),g=(n.push(R),e._12O(Q,Y)),B=R,L=0;;){var Z=e._10O(Q,B);if(Z==V3||2*g<=Z-R)break;if(200<=L)break;n.push(Z),B=Z,L++}return n}},S=(N._90O=L(34),N._91O=g3+L(108),(O=O!=V3&&O?O:{})._4O!=V3&&O._4O||(O._4O={}),O._4O),y=(O._4O.Util=new function(){this._56O=function(Q,Y){return(new O._4O._3O)._30O(Q)},this._4A=function(Q,Y){return(new O._4O._3O)._36O(Q)},this._11A=function(Q,Y){return(new S._3O)._30O(Q)}},O._4O._3O=function(Q){var n=this;n._8O=function(Q,Y){if("ss"==Q&&"cj"==Y){try{n.md=I._67O._41O._3A()}catch(Q){}n._24O=function(Q){n.md._81O(Q)},n._35O=function(Q){Q=I._2A._69O._68O(Q),n.md._81O(Q)},n._60O=function(){return n.md._72O()[F](I._2A._69O)},n._30O=function(Q){return n._24O(Q),n._60O()},n._36O=function(Q){return n._35O(Q),n._60O()}}},n._24O=function(Q){},n._35O=function(Q){},n._60O=function(){},n._30O=function(Q){},n._36O=function(Q){},n._8O("ss","cj")},X3=function(Q){var Y=hn[sV[7]],n=1,R=!1;if(hT.a!=hn[yV])return hT.a;if(hT.forEach(function(Q){n*=Q}),n<Q){if(Y&&Y[1]&&Y[0]){var g=Y[0],Y=(Y=Y[1]).split(N._90O),g=g.split(N._90O),B=Y[3],L=g[3],Z=Y[7],e=Y[11],u=Y[15],X=Y[19],x=Y[23],Y=Y[27],g=g[7],Z=B+Z+e+u+X+x,G=!x,u=L===B;if(x=x===Hd.toString()[0]?x+x+x:x){var o=x&&x.split(Xn("firefox")[3]);if(o)for(var l=0;l<o.length;l++){var V=o[l];if(V[0]===LV[8]&&(V=V.substring(1)),0<=mV.indexOf(V)){G=!0;break}}}(R=u&&Sd()(L,g)&&Sd()(Z,Y)&&G&&(!X||Q<X))&&0<=e.indexOf(lR.length)&&(X3[lR.length]=lR),R&&0<=e.indexOf(lR.length+1)&&(X3[lR.length+1]=lR),R&&0<=e.indexOf(lR.length+3)&&(X3[lR.length+3]=lR),R&&0<=e.indexOf(PV.length)&&(X3[PV.length]=PV),R&&0<=e.indexOf(vR[0])&&(X3[vR[0]]=vR)}R||(hs.prototype._42=Jd)}else R=!0,X3[lR.length]=X3[lR.length+1]=X3[lR.length+3]=X3[PV.length]=X3[vR[0]]=lR;return hT.a=R},String.fromCharCode(45),a),D=/^1f+00/,U=(n={_18O:function(Q){return J(Q.replace(/\s+/g,""))},_14O:function(Q){return Q=this._18O(Q),this._15O(Q)},_15O:function(Q){var Y;if("2a864886f70d010101"==(Q=this._17O(Q))._61O)return Q=this._16O(Q.key),(Y=new x)._38O(Q.n,Q.e),Y},_16O:function(Q){var Y={},n=(Q.substr(0,2),N._7O(Q,0));return n.length,Q.substr(n[0],2),Y.n=N._11O(Q,n[0]),Q.substr(n[1],2),Y.e=N._11O(Q,n[1]),Y},_17O:function(Q){var Y={},n=(Y._40O=V3,N._7O(Q,0)),R=(n.length,n[0]);return Q.substr(R,2),(R=N._7O(Q,R)).length,Q.substr(R[0],2),Y._61O=N._11O(Q,R[0]),"06"==Q.substr(R[1],2)?Y._40O=N._11O(Q,R[1]):"30"==Q.substr(R[1],2)&&(Y._40O={},Y._40O.p=N._70O(Q,R[1],[0],"02"),Y._40O.q=N._70O(Q,R[1],[1],"02"),Y._40O.g=N._70O(Q,R[1],[2],"02")),Q.substr(n[1],2),Y.key=N._11O(Q,n[1]).substr(2),Y}})._17O?n:V3,f=U._27O=function(Q,Y,n){return U._14O(Q)},Q3=(Sd=function(){return function(Q,Y){if(Q&&Y){if(Y=K(Y),Y=y(Y,O3(2,4)),!this||!this.n||Y._55O()>this.n._55O())return 0;if(0==(Y=k(this._37O(Y)[F](O3(2,4)).replace(D,""))).length)return!1;var n=Y[0];return Y[1]==O._4O.Util._56O(Q,n)}}.bind(f(B3))},pV.length-zV.length);if(0<Q3)for(var Y3=0;Y3<Q3;Y3++)W=S.Util,c=K;e3=function(Q,Y){Y=c(Y);var n=f(RQ),R=zR.length,g=2*R,Y=y(Y,O3(R,g)),B=!0;if(B=n&&(L=n[VR[0]])&&Y._55O()<=L._55O()?!1:B)return 0;var L=k(n._37O(Y)[F](O3(R,g)).replace(D,""));return 0!=L.length&&(B=L[0],L[1]==W._11A(Q,B))}}(r),In(z3,{load:(Uh={},function(Q,Y,n){var R,g=Uh[Q],B=n?"c_"+(n.sync?"1":"0")+"_"+(n.post?"1":"0")+"_"+(n.responseType||"H")+"_"+(n.mimeType||"H")+"_"+(n.data?JSON.stringify(n.data):"H"):"";g&&(R=g[B])?R.push(Y):(Uh[Q]||(g=Uh[Q]={count:0}),R=g[B]=[Y],g.count++,z3.xhrLoad(Q,function(Y){delete g[B],g.count--,g.count||delete Uh[Q],R.forEach(function(Q){Q(Y)})},n))}),asyncEach:function(R,Y,g){"function"!=typeof g&&(g=Function.prototype);var B=new Array(R.length),L=0,Z=!1;R.forEach(function(Q,n){Y(Q,function(Q,Y){if(!Z)return Q?(Z=!0,g(null)):(B[n]=Y,++L===R.length?g(B):void 0)})})},xhrLoad:function(Q,n,g){var R=!1,B=(M3(Q)||(R=!0,Q=[Q]),(g=g||{}).sync),L=null,Y=g.method||"GET",Z=(g.post&&(Y="POST"),g.method=Y,-1);if(z3.asyncEach(Q,function(Q,Y){var n,R;Q=z3.beforeLoadURL(Q),Z++,Q.data?Y(null,Q.data):(g.url=encodeURI(Q),Q=!1,g.responseTypes&&g.responseTypes[Z]&&(n=g.responseType,Q=!0,g.responseType=g.responseTypes[Z]),(R=new Ts).onload=function(Q){200===this.status||0===this.status?Y(null,R.getResponseText()):Y(!0)},R.onerror=function(Q){Y(!0)},R.send(g),Q&&(g.responseType=n))},function(Q){var Y="function"==typeof n;(Y||B)&&(L=R&&Q?Q[0]:Q,Y&&n(L))}),B)return L}}),m.setPrototypeOf||function(Q,Y){return Q.__proto__=Y,Q}),AQ=m.getPrototypeOf||function(Q){return Q.__proto__},PQ=(W3&&(Ch=AQ,AQ=function(Q){return on(Q)?Ch(Q):null}),m.freeze),iQ=(m.isFrozen,yu.create=function(Q,Y){return function Q(Y,n,R,g){var B=g(R),L=new yu(Y,n,R,B);if(!B){for(var Z=L.children,e=L.childMap,u=m.keys(R),X=0,x=u.length;X<x;++X){var G=Q(L,G=u[X],R[G],g);Z.push(G),e[G.name]=G}L.children=PQ(Z),L.childMap=PQ(e)}return PQ(L),L}(l3,l3,Q,Y)},yu.prototype.forEach=function(Q,Y){for(var n=this.children,R=0,g=n.length;R<g;++R)Q(n[R],Y)},yu),PQ=m.freeze,TQ=1,EQ={main:{mask:1,priority:z3.cameraPriority.main,clearDepth:!1,ignore:!1},top:{mask:2,priority:z3.cameraPriority.top,ignore:!1}},_Q="main",bQ=EQ[_Q].mask,kQ=function(Q,Y,n,R){var g;if(Q=Q||0,n&&Y in n)g=n[Y].mask;else if(Y in EQ)g=EQ[Y].mask,!R&&n&&(n[Y]=Qg(EQ[Y]));else{if(R)return Q;var B,R=1;if(32<=(R=n?(B=m.keys(n),CQ.forEach(function(Q){B.indexOf(Q)<0&&B.push(Q)}),B.length):wQ))throw new Error("Only 31 render layer can be defined.");R={mask:1<<R,priority:EQ[_Q].priority},n?n[Y]=R:(wQ++,EQ[Y]=R,g=EQ[Y].mask,CQ=UQ(m.keys(EQ)),wQ=CQ.length,TQ++)}return Q|g},OQ=function(Q,Y,n){var R=0;if("string"==typeof Q)R=kQ(R,Q,Y,n);else for(var g=0,B=Q.length;g<B;++g)R=kQ(R,Q[g],Y,n);return R},NQ=function(Q,Y){return Q&&Y&&Q&Y},UQ=function(Q){return Q.sort(function(Q,Y){return EQ[Q].priority-EQ[Y].priority})},CQ=UQ(m.keys(EQ)),wQ=CQ.length,W=(In(z3,{setRenderLayerInfo:function(Q,Y){if(kQ(0,Q),Y){for(var n in Y)EQ[Q][n]=Y[n];Y.priority&&(CQ=UQ(m.keys(EQ)))}},getRenderLayerInfo:function(Q){return EQ[Q]}},!0),K.List=function(){this._as=[];var Q,Y,n=arguments.length;if(1===n){var R=arguments[0];if(Vn(R)&&(R=R._as),M3(R))for(Y=R.length,Q=0;Q<Y;Q++)this._as.push(R[Q]);else R!=V3&&this._as.push(R)}else if(1<n)for(Q=0;Q<n;Q++)this._as.push(arguments[Q])}),jQ=(qB("List",m,{forEach:function(Q,Y){this.each(Q,Y)},push:function(){for(var Q=0;Q<arguments.length;Q++)this.add(arguments[Q])},pop:function(){return this._as.pop()},shift:function(){return this._as.shift()},unshift:function(){return this._as.unshift.apply(this._as,arguments)},size:function(){return this._as.length},isEmpty:function(){return 0===this._as.length},add:function(Q,Y){return Y===l3?this._as.push(Q):this._as.splice(Y,0,Q)},addAll:function(Q){Vn(Q)&&(Q=Q._as),M3(Q)?an(this._as,Q):this._as.push(Q)},get:function(Q){return this._as[Q]},slice:function(Q,Y){return new W(this._as.slice(Q,Y))},remove:function(Q){return 0<=(Q=this._as.indexOf(Q))&&Q<this._as.length&&this.removeAt(Q),Q},removeAt:function(Q){return this._as.splice(Q,1)[0]},set:function(Q,Y){return this._as[Q]=Y},clear:function(){return this._as.splice(0,this._as.length)},contains:function(Q){return 0<=this._as.indexOf(Q)},indexOf:function(Q){return this._as.indexOf(Q)},each:function(Q,Y){for(var n=0,R=this._as.length;n<R;n++){var g=this._as[n];Y?Q.call(Y,g,n,this):Q(g,n,this)}},reverseEach:function(Q,Y){for(var n=this._as.length-1;0<=n;n--){var R=this._as[n];Y?Q.call(Y,R):Q(R)}},eachUntil:function(Q,Y,n){for(var R=0,g=this._as.length;R<g;R++){var B=this._as[R];if((Y?Q.call(Y,B,R,this):Q(B,R,this))===n)return R}return-1},reverseEachUntil:function(Q,Y,n){for(var R=this._as.length-1;0<=R;R--){var g=this._as[R];if((Y?Q.call(Y,g):Q(g))===n)return R}return-1},getArray:function(){return this._as},toArray:function(Q,Y){if(Q){for(var n,R=[],g=0,B=this._as.length;g<B;g++)n=this._as[g],Y?Q.call(Y,n)&&R.push(n):Q(n)&&R.push(n);return R}return this._as.concat()},toList:function(Q,Y){if(Q){for(var n,R=new W,g=0,B=this._as.length;g<B;g++)n=this._as[g],Y?Q.call(Y,n)&&R.add(n):Q(n)&&R.add(n);return R}return new W(this)},reverse:function(){this._as.reverse()},sort:function(Q){return this._as.sort(Q||f2),this},toString:function(){return this._as.toString()}}),m.defineProperties(W.prototype,{length:{get:function(){return this._as.length},set:function(Q){this._as.length=Q}}}),new W),rQ=(In(jQ,{size:function(){return 0},indexOf:function(){return-1},contains:function(){return!1},isEmpty:function(){return!0},sort:dd,each:dd,reverseEach:dd,toArray:function(){return[]},toList:function(){return new W},add:Kd,addAll:Kd,set:Kd,remove:Kd,removeAt:Kd,clear:Kd}),K.Notifier=function(){this._f=0}),HQ=(qB("Notifier",m,{contains:function(Q,Y){if(this._ls)for(var n,R=0,g=this._ls.size();R<g;R++)if(Q===(n=this._ls.get(R)).l&&Y===n.s)return!0;return!1},add:function(Q,Y,n){Q={l:Q,s:Y,a:n},this._ls||(this._ls=new W),this._f?(this._as||(this._as=new W),this._as.add(Q)):this._addItem(Q)},_addItem:function(Q){var Y=this._ls;Q.a?Y.add(Q,0):Y.add(Q)},remove:function(Q,Y){this._ls&&(this._f?(this._rs||(this._rs=new W),this._rs.add({l:Q,s:Y})):this._remove(Q,Y))},_remove:function(Q,Y){for(var n,R=this._ls,g=0,B=R.size();g<B;g++)if((n=R.get(g)).l===Q&&n.s===Y)return void R.removeAt(g)},fire:function(Q){var Y=this,n=Y._ls;if(Y._b=1e4,n){++Y._f;try{for(var R,g=0,B=n.size();g<B;g++)(R=n.get(g)).s?R.l.call(R.s,Q):R.l(Q)}catch(Q){m3(function(){throw Q})}finally{if(--Y._f)return;if(Y._rs){for(B=Y._rs.size(),g=0;g<B;g++)R=Y._rs.get(g),Y._remove(R.l,R.s);delete Y._rs}if(Y._as){for(B=Y._as.size(),g=0;g<B;g++)R=Y._as.get(g),Y._addItem(R);delete Y._as}}}}}),K.Notifier2=function(){En(HQ,this)}),sQ=(qB("Notifier2",rQ,{_addItem:function(Q){var Y=this._ls,n=Y.size(),R=Q.a;R==V3&&(R=Q.a=0);for(var g=0;g<n;g++)if(Y.get(g).a<R)return void Y.add(Q,g);Y.add(Q)}}),K.Data=function(){this._id=S2()}),hQ=(qB("Data",m,{ms_ac:["tag","name","displayName","icon","toolTip","attrObject","styleMap","layer","adjustChildrenToTop","dataBindings"],ms_dm:1,ms_attr:1,_icon:V3,_parent:V3,_children:jQ,_childMap:V3,_styleMap:V3,_layer:"0",_renderLayer:_Q,_renderLayerMask:bQ,_adjustChildrenToTop:!1,getRenderLayerMask:function(){return this._renderLayerMask||bQ},getRenderLayer:function(){return this._renderLayer||_Q},setRenderLayer:function(Q){var Y=kQ(0,Q,null,!0),Y=(this._renderLayerMask=Y,this._renderLayer);this._renderLayer=Q,this.fp("renderLayer",Y,this._renderLayer)},testRenderLayer:function(Q){return EQ[Q]&&NQ(this._renderLayerMask,EQ[Q].mask)},getUIClass:function(){return V3},get3dUIClass:function(){return V3},beginTransaction:function(){this._dataModel&&this._dataModel.beginTransaction()},endTransaction:function(){this._dataModel&&this._dataModel.endTransaction()},s:function(Q,Y){if(2===arguments.length)this.setStyle(Q,Y);else{if(!on(Q))return this.getStyle(Q);for(var n in Q)this.setStyle(n,Q[n])}return this},fp:function(Q,Y,n,R,g){return this.firePropertyChange(Q,Y,n,R,g)},firePropertyChange:function(Q,Y,n,R,g){if(R){if(R(Y,n))return!1}else if(Y===n)return!1;return(R=g||{}).property=Q,R.oldValue=Y,R.newValue=n,(R.data=this)._dataModel&&this._dataModel.handleDataPropertyChange(R),this.onPropertyChanged(R),!0},onPropertyChanged:function(Q){var Y,n,R=this._parent,g=Q.property;pn(R)&&(n="s:ingroup"===g,((Y=this.s(ER))&&cQ[g]||g===n)&&R._81I(),(Y||n)&&R.fp("childChange",!0,!1)),!Mn(R)||R._51I||this._51I||(cQ[g]||"elevation"===g||yQ[g]||"scaleTall"===g||"tall"===g)&&R.updateFromChildren(),"s:alwaysOnTop"!==g&&"s:shape3d.alwaysOnTop"!==g||(Q.newValue?this.setRenderLayer("top"):this.setRenderLayer(l3))},_21I:function(Q){if(Q&&this._dataModel)throw"Remove data from dataModel before adding";this._dataModel=Q},removeFromDataModel:function(){this._dataModel?this._dataModel.remove(this):this.setParent(null)},clearChildrenFromDataModel:function(Q){for(var Y=0,n=this._children.toArray(),R=n.length;Y<R;Y++)n[Y].removeFromDataModel()},getId:function(){return this._id},setId:function(Q){this._id=Q},getChildren:function(){return this._children},size:function(){return this._children.size()},toChildren:function(Q,Y){return this._children.toList(Q,Y)},eachChild:function(Q,Y){this._children.each(Q,Y)},addChild:function(Q,Y){var n=this;Q!==n&&(n._children===jQ&&(n._children=new W,n._childMap={}),0<=Y||(Y=n._children.size()),n._childMap[Q._id]||n.isDescendantOf(Q)||(Q._parent&&Q._parent.removeChild(Q),(Y<0||Y>n._children.size())&&(Y=n._children.size()),n._children.add(Q,Y),(n._childMap[Q._id]=Q).setParent(n),n.onChildAdded(Q,Y),n.fp(iV,V3,Q)))},onChildAdded:function(Q,Y){},removeChild:function(Q){var Y;this._childMap&&this._childMap[Q._id]&&(Y=this._children.remove(Q),delete this._childMap[Q._id],this.fp(iV,Q,V3),Q.setParent(V3,Y),this.onChildRemoved(Q,Y))},onChildRemoved:function(Q,Y){},getChildAt:function(Q){return this._children.get(Q)},clearChildren:function(){if(!this._children.isEmpty())for(var Q=0,Y=this._children.toArray(),n=Y.length;Q<n;Q++)this.removeChild(Y[Q])},getParent:function(){return this._parent},setParent:function(Q,Y){var n,R,g=this;g._73I||g._parent===Q||g===Q||Q&&Q.isDescendantOf(g)||(n=g._parent,g._parent=Q,g._73I=1,n?(Y==V3&&(Y=n.getChildren().indexOf(g)),n.removeChild(g)):g._dataModel&&Y==V3&&(Y=g._dataModel.getRoots().indexOf(g)),Q&&(Q.addChild(g),R=Q.getChildren().indexOf(g)),delete g._73I,g.fp("parent",n,Q,l3,{oldIndex:Y,newIndex:R}),g.onParentChanged(n,Q))},onParentChanged:function(Q,Y){},hasChildren:function(){return 0<this._children.size()},isEmpty:function(){return this._children.isEmpty()},isRelatedTo:function(Q){return!!Q&&(this.isDescendantOf(Q)||Q.isDescendantOf(this))},isParentOf:function(Q){return!(!Q||!this._childMap||!this._childMap[Q._id])},isDescendantOf:function(Q){if(!Q||Q.isEmpty())return!1;for(var Y=this._parent;Y;){if(Q===Y)return!0;Y=Y._parent}return!1},getOwnStyle:function(Q){var Y=this._styleMap;return Y?Y[Q]:l3},getStyle:function(Q){var Y=this._styleMap;return Y&&(Y=Y[Q])!==l3?Y:J3[Q]},setStyle:function(Q,Y){this._styleMap||(this._styleMap={});var n=this._styleMap[Q];Y===l3?delete this._styleMap[Q]:this._styleMap[Q]=Y,this.fp("s:"+Q,n,Y)&&this.onStyleChanged(Q,n,Y)},onStyleChanged:function(Q,Y,n){},iv:function(Q){this.invalidate(Q)},invalidate:function(Q){this.fp(Q||"*",!1,!0)},toString:function(){return this._displayName||this._name||this._tag||this._id},toLabel:function(){return this._displayName||this._name},addStyleIcon:function(Q,Y){var n=this.s(hR);this.beginTransaction(),n||this.s(hR,n={}),Y?n[Q]=Y:delete n[Q],this.fp(hR,V3,n),this.endTransaction()},removeStyleIcon:function(Q){var Y,n=this.s(hR);return n&&(Y=n[Q],delete n[Q],this.fp(hR,V3,n)),Y},_calcAnchorMatrix3d:function(){},appendAnchorMatrix3d:function(Q){var Y,n,R;(this.hasOwnProperty("_anchor")||this.hasOwnProperty("_anchorElevation"))&&(Y=(R=this.getAnchor3d()).x-.5,n=R.y-.5,R=R.z-.5,vC(Q,[-Y,-n,-R]))},getSerializableProperties:function(){return{name:1,displayName:1,icon:1,toolTip:1,parent:1,layer:1,renderLayer:1,tag:1,adjustChildrenToTop:1,dataBindings:1}},getSerializableStyles:function(){var Q,Y={};for(Q in this._styleMap)Y[Q]=1;return Y},getCurrentPrefix:function(){return this._interactPrefix||oQ},ca:function(Q,Y){return Q=this.getCurrentPrefix()+Q,2===arguments.length?this.a(Q,Y):this.a(Q)}}),K.DataModel=function(){var R=this,g=(R._isDeserializing=0,R._datas=new W,R._dataMap={},R._roots=new W,R._rootMap={},R._fsDataMap={},R._78O={},R._reflectorMap={},R._36I=new rQ,R._35I=new rQ,R._serializeNotifier=new rQ,R._selectionModel=new tQ(R),R._29Q=[]),B=R._scheduleCallback=function(){for(var Q=Date.now(),Y=0;Y<g.length;Y++){var n=g[Y];n.enabled&&Q-n.lastTime>n.interval&&(n.beforeAction&&n.beforeAction(),n.action&&R.each(function(Q){n.action(Q)}),n.afterAction&&n.afterAction(),n.lastTime=Q)}g.length&&(R._30Q=r.requestAnimationFrame(B))}}),tQ=(qB("DataModel",m,{ms_fire:1,ms_attr:1,ms_ac:["layers","name","autoAdjustIndex","hierarchicalRendering","background","envmapType","envmap","postProcessingData","init"],_name:l3,_autoAdjustIndex:!0,_hierarchicalRendering:!1,_background:l3,_init:l3,_envmap:l3,_envmapType:l3,_postProcessingData:l3,sm:function(){return this.getSelectionModel()},mm:function(Q,Y,n){this.addDataModelChangeListener(Q,Y,n)},umm:function(Q,Y){this.removeDataModelChangeListener(Q,Y)},md:function(Q,Y,n){this.addDataPropertyChangeListener(Q,Y,n)},umd:function(Q,Y){this.removeDataPropertyChangeListener(Q,Y)},mh:function(Q,Y,n){this.addHierarchyChangeListener(Q,Y,n)},umh:function(Q,Y){this.removeHierarchyChangeListener(Q,Y)},getAttrObject:function(){return this._attrObject},setAttrObject:function(Q){return this._attrObject=Q},getSelectionModel:function(){return this._selectionModel},size:function(){return this._datas.size()},isEmpty:function(){return this._datas.isEmpty()},getRoots:function(){return this._roots},getDatas:function(){return this._datas},getFullscreenDatas:function(){return this._fsDataMap},getReflectors:function(){return this._reflectorMap},getDataById:function(Q){return this._dataMap[Q]},removeDataById:function(Q){this.remove(this.getDataById(Q))},toDatas:function(Q,Y){return this._datas.toList(Q,Y)},each:function(Q,Y){this._datas.each(Q,Y)},getDataByTag:function(Q){return this._78O[Q]},getTagMap:function(){return this._78O},removeDataByTag:function(Q){this.remove(this.getDataByTag(Q))},add:function(Q,Y,n){var R=this,g=Q._id,B=Q._tag,L=R._roots;if(R._dataMap[g])throw"'"+g+"' already exists";B!=V3&&(R._78O[B]=Q),R._dataMap[g]=Q,0<=n?R._datas.add(Q,n):R._datas.add(Q),Q._parent||(R._rootMap[g]=Q,0<=Y?L.add(Q,Y):L.add(Q)),Q.s("fullscreen")!==l3&&(R._fsDataMap[g]=Q),Q.s("shape3d.reflector")&&(R._reflectorMap[g]=Q),Q._21I(R),R.onAdded(Q),R._36I.fire({kind:"add",data:Q,rootsIndex:Y,datasIndex:n})},onAdded:function(Q){},remove:function(Q,Y){var n,R,g,B,L,Z,e;Q&&(n=this,R=Q._id,g=Y&&Y.keepStructure,Z=Y&&Y.keepChildren,B=Q.getTag(),Q._dataModel===n&&((L=Q instanceof $s)&&z3.setIsolating(!0),this.beginTransaction(),g?n._removingData||(n._removingData=Q):n.prepareRemove(Q),Z||Q.toChildren().each(function(Q){n.remove(Q,Y)},n),g?n._removingData===Q&&(Q._parent&&Q._parent.removeChild(Q),delete n._removingData):Q._parent&&Q._parent.removeChild(Q),Z=n._datas.remove(Q),delete n._dataMap[R],B!=V3&&delete n._78O[B],n._rootMap[R]&&(delete n._rootMap[R],e=n._roots.remove(Q)),n._fsDataMap[R]&&delete n._fsDataMap[R],n._reflectorMap[R]&&delete n._reflectorMap[R],Q._21I(V3),n.onRemoved(Q),n._36I.fire({kind:AR,data:Q,rootsIndex:e,datasIndex:Z}),this.endTransaction(),L&&z3.setIsolating(!1)))},onRemoved:function(Q){},prepareRemove:function(Q){},clear:function(){var Q,Y=this;Y._datas.size()&&(Q=Y._historyManager?this.toJSON():l3,Y._datas.toArray().forEach(function(Q){Q._21I(V3)}),Y._datas.clear(),Y._dataMap={},Y._roots.clear(),Y._rootMap={},Y._fsDataMap={},Y._reflectorMap={},Y._78O={},Y._36I.fire({kind:PR,json:Q}))},contains:function(Q){return Q&&Q._dataModel===this},handleDataPropertyChange:function(Q){var Y,n,R,g,B=Q.data,L=Q.property;"parent"===L?(R=B._id,n=this._rootMap,Y=this._roots,B._parent?n[R]&&(delete n[R],Y.remove(B)):n[R]||(n[R]=B,Y.add(B))):"tag"===L?(n=Q.oldValue,Y=Q.newValue,g=this._78O,n!=V3&&delete g[n],Y!=V3&&(g[Y]=B)):"s:fullscreen"===L?(R=B._id,n=this._fsDataMap,Q.oldValue!=V3&&delete n[R],Q.newValue!=V3&&(n[R]=B)):"s:shape3d.reflector"===L&&(R=B._id,g=this._reflectorMap,Q.oldValue&&delete g[R],Q.newValue&&(g[R]=B)),this.onDataPropertyChanged(B,Q),this._35I.fire(Q)},onDataPropertyChanged:function(Q,Y){},addDataModelChangeListener:function(Q,Y,n){this._36I.add(Q,Y,n)},removeDataModelChangeListener:function(Q,Y){this._36I.remove(Q,Y)},addSerializeListener:function(Q,Y,n){this._serializeNotifier.add(Q,Y,n)},removeSerializeListener:function(Q,Y){this._serializeNotifier.remove(Q,Y)},fireSerializeEvent:function(Q){this._serializeNotifier.fire(Q)},addDataPropertyChangeListener:function(Q,Y,n){this._35I.add(Q,Y,n)},removeDataPropertyChangeListener:function(Q,Y){this._35I.remove(Q,Y)},_38I:function(Q,Y,n){this._37I&&this._37I.fire({data:Q,oldIndex:Y,newIndex:n})},addHierarchyChangeListener:function(Q,Y,n){this._37I||(this._37I=new rQ),this._37I.add(Q,Y,n)},removeHierarchyChangeListener:function(Q,Y){this._37I.remove(Q,Y)},getSiblings:function(Q){return(Q=Q._parent)?Q._children:this._roots},eachByHierarchical:function(Q,Y,n){if(Y)return this._eachByHierarchical(Q,Y,n);for(var R=0,g=this._roots,B=g.size();R<B;R++)if(!1===this._eachByHierarchical(Q,g.get(R),n))return!1;return!0},_eachByHierarchical:function(Q,Y,n){if(n){if(!1===Q.call(n,Y))return!1}else if(!1===Q(Y))return!1;for(var R=Y.size(),g=0;g<R;g++)if(!1===this._eachByHierarchical(Q,Y.getChildAt(g),n))return!1;return!0},reverseEachByHierarchical:function(Q,Y,n){if(Y)return this._reverseEachByHierarchical(Q,Y,n);for(var R=this._roots,g=R.size()-1;0<=g;g--)if(!1===this._reverseEachByHierarchical(Q,R.get(g),n))return!1;return!0},_reverseEachByHierarchical:function(Q,Y,n){for(var R=Y.size()-1;0<=R;R--)if(!1===this._reverseEachByHierarchical(Q,Y.getChildAt(R),n))return!1;if(n){if(!1===Q.call(n,Y))return!1}else if(!1===Q(Y))return!1;return!0},eachByDepthFirst:function(Q,Y,n){if(Y)return this._11I(Q,Y,n);for(var R=0,g=this._roots,B=g.size();R<B;R++)if(!1===this._11I(Q,g.get(R),n))return!1;return!0},_11I:function(Q,Y,n){for(var R=Y.size(),g=0;g<R;g++)if(!1===this._11I(Q,Y.getChildAt(g),n))return!1;if(n){if(!1===Q.call(n,Y))return!1}else if(!1===Q(Y))return!1;return!0},eachByBreadthFirst:function(Q,Y,n){var R=new W;for(Y?R.add(Y):this._roots.each(R.add,R);0<R.size();)if((Y=R.removeAt(0)).eachChild(R.add,R),n){if(!1===Q.call(n,Y))return!1}else if(!1===Q(Y))return!1;return!0},moveTo:function(Q,Y){var n=this.getSiblings(Q),R=n.indexOf(Q);R===Y||R<0||0<=Y&&Y<=n.size()&&(n.remove(Q),Y>n.size()&&Y--,n.add(Q,Y),this._38I(Q,R,Y))},moveUp:function(Q){this.moveTo(Q,this.getSiblings(Q).indexOf(Q)-1)},moveDown:function(Q){this.moveTo(Q,this.getSiblings(Q).indexOf(Q)+1)},moveToTop:function(Q){this.moveTo(Q,0)},moveToBottom:function(Q){this.moveTo(Q,this.getSiblings(Q).size())},moveSelectionUp:function(Q){this.beginTransaction(),Q=Q||this.sm();var Y=new W;IB(Q,Y,this._roots),Y.each(this.moveUp,this),this.endTransaction()},moveSelectionDown:function(Q){this.beginTransaction(),Q=Q||this.sm();var Y=new W;AB(Q,Y,this._roots),Y.each(this.moveDown,this),this.endTransaction()},moveSelectionToTop:function(Q){this.beginTransaction(),Q=Q||this.sm();var Y=new W;JB(Q,Y,this._roots),Y.each(this.moveToTop,this),this.endTransaction()},moveSelectionToBottom:function(Q){this.beginTransaction(),Q=Q||this.sm();var Y=new W;aB(Q,Y,this._roots),Y.each(this.moveToBottom,this),this.endTransaction()},moveToIndex:function(Q,Y,n){var R=this.getDatas();(n=null==n?R.indexOf(Q):n)===Y||n<0||0<=Y&&Y<=R.size()&&(R.remove(Q),Y>R.size()&&Y--,R.add(Q,Y),this._76I(Q,n,Y))},bringForward:function(Q){this.moveToIndex(Q,this.getDatas().indexOf(Q)+1)},bringToFront:function(Q){this.moveToIndex(Q,this.size())},sendBackward:function(Q){this.moveToIndex(Q,this.getDatas().indexOf(Q)-1)},sendToBack:function(Q){this.moveToIndex(Q,0)},bringSelectionForward:function(Q){this.beginTransaction(),Q=Q||this.sm();for(var Y=new W,n=this.getDatas(),R=!1,g=0;g<n.size();g++){var B=n.get(n.size()-1-g);Q.contains(B)?R&&Y.add(B):R=!0}Y.each(this.bringForward,this),this.endTransaction()},bringSelectionToFront:function(Q){this.beginTransaction(),Q=Q||this.sm();for(var Y=new W,n=this.getDatas(),R=0;R<n.size();R++){var g=n.get(R);Q.contains(g)&&Y.add(g)}Y.each(this.bringToFront,this),this.endTransaction()},sendSelectionBackward:function(Q){this.beginTransaction(),Q=Q||this.sm();for(var Y=new W,n=this.getDatas(),R=!1,g=0;g<n.size();g++){var B=n.get(g);Q.contains(B)?R&&Y.add(B):R=!0}Y.each(this.sendBackward,this),this.endTransaction()},sendSelectionToBack:function(Q){this.beginTransaction(),Q=Q||this.sm();for(var Y=new W,n=this.getDatas(),R=0;R<n.size();R++){var g=n.get(n.size()-1-R);Q.contains(g)&&Y.add(g)}Y.each(this.sendToBack,this),this.endTransaction()},addScheduleTask:function(Q){this.removeScheduleTask(Q),Q.enabled==V3&&(Q.enabled=!0),Q.interval==V3&&(Q.interval=10),Q.lastTime=Date.now(),this._29Q.push(Q),this._30Q==V3&&(this._30Q=r.requestAnimationFrame(this._scheduleCallback))},removeScheduleTask:function(Q){var Y=this._29Q;0<=(Q=Y.indexOf(Q))&&Y.splice(Q,1),Y.length||this._30Q==V3||(r.cancelAnimationFrame(this._30Q),delete this._30Q)},getHistoryManager:function(){return this._historyManager},enableHistoryManager:function(Q){this._historyManager||new K.HistoryManager(this),null!=Q&&this._historyManager.setMaxHistoryCount(Q),this._historyManager.setDisabled(!1)},disableHistoryManager:function(){this._historyManager&&this._historyManager.setDisabled(!0)},clearHistoryManager:function(){this._historyManager&&this._historyManager.clear()},undo:function(Q){this._historyManager&&this._historyManager.undo(Q)},redo:function(Q){this._historyManager&&this._historyManager.redo(Q)},beginTransaction:function(){this._historyManager&&this._historyManager.beginTransaction()},endTransaction:function(){this._historyManager&&this._historyManager.endTransaction()},addHistory:function(Q){this._historyManager&&this._historyManager.addHistory(Q)},onHistoryManagerChanged:function(){},isDeserializing:function(){return 0<this._isDeserializing},setDeserializing:function(Q){Q?this._isDeserializing++:this._isDeserializing--},isCubicEnvmap:function(){return!1},setCubicEnvmap:function(Q){},setEnvmap:function(Q){var Y=this._envmap;Y===(this._envmap=Q)&&M3(Y)&&M3(Q)&&(Y=[]),this.fp("envmap",Y,Q)}}),K.SelectionModel=function(Q){this._68O=nR,this._map={},this._73O=new W,this._74I=new rQ,this._21I(Q)}),mQ=(qB("SelectionModel",m,{ms_fire:1,ms_dm:1,ms:function(Q,Y,n){this.addSelectionChangeListener(Q,Y,n)},ums:function(Q,Y){this.removeSelectionChangeListener(Q,Y)},fd:function(){return this.getFirstData()},ld:function(){return this.getLastData()},sg:function(){return this._68O===YR},co:function(Q){return this._map[Q._id]!=V3},ss:function(Q){this.setSelection(Q)},as:function(Q){this.appendSelection(Q)},rs:function(Q){this.removeSelection(Q)},cs:function(){this.clearSelection()},sa:function(){this.selectAll()},getSelectionMode:function(){return this._68O},setSelectionMode:function(Q){var Y;this._68O===Q||Q!==VR&&Q!==YR&&Q!==nR||(this.cs(),Y=this._68O,this._68O=Q,this.fp("selectionMode",Y,Q))},_21I:function(Q){var Y=this._dataModel;Y!==Q&&(Y&&(this.cs(),Y.umm(this.handleDataModelChange,this)),(this._dataModel=Q).mm(this.handleDataModelChange,this,!0),this.fp(_V,Y,Q))},dispose:function(){this.cs(),this._dataModel.umm(this.handleDataModelChange,this)},handleDataModelChange:function(Q){var Y;Q.kind===AR?(Y=Q.data,this.co(Y)&&(this._73O.remove(Y),delete this._map[Y._id],this._75I(AR,new W(Y)))):Q.kind===PR&&this.cs()},getFilterFunc:function(){return this._filterFunc},setFilterFunc:function(Q){var Y;this._filterFunc!==Q&&(this.cs(),Y=this._filterFunc,this._filterFunc=Q,this.fp("filterFunc",Y,this._filterFunc))},_75I:function(Q,Y,n,R){n&&(this._73O.each(function(Q){R[Q._id]?n.remove(Q):n.add(Q)}),Y=n.toList()),this._74I.fire({kind:Q,datas:new W(Y)})},addSelectionChangeListener:function(Q,Y,n){this._74I.add(Q,Y,n)},removeSelectionChangeListener:function(Q,Y){this._74I.remove(Q,Y)},_97O:function(Q,Y){for(var n,R=0,g=new W(Q);R<g.size();R++)n=g.get(R),(this._filterFunc&&!this._filterFunc(n)||Y&&this.co(n)||!Y&&!this.co(n)||!this._dataModel.contains(n))&&(g.removeAt(R),R--);return g},appendSelection:function(Q){var Y,n,R,g=this;g._68O!==VR&&(Y=g._73O,(Q=g._97O(Q,!0)).isEmpty()||(g.sg()&&(n=new W(Y),R=g._map,Y.clear(),g._map={},Q=new W(Q.get(Q.size()-1))),Q.each(function(Q){Y.add(Q),g._map[Q._id]=Q}),g._75I("append",Q,n,R)))},removeSelection:function(Q){var Y=this._97O(Q),n=0,R=Y.size();if(0!==R){for(;n<R;n++){var g=Y.get(n);this._73O.remove(g),delete this._map[g._id]}this._75I(AR,Y)}},toSelection:function(Q,Y){return this._73O.toList(Q,Y)},getSelection:function(){return this._73O},each:function(Q,Y){this._73O.each(Q,Y)},setSelection:function(Q){var Y,n,R=this,g=R._73O;R._68O===VR||g.isEmpty()&&!Q||1===g.size()&&R.ld()===Q||(Y=new W(g),n=R._map,g.clear(),R._map={},Q=R._97O(Q,!0),(Q=R.sg()&&1<Q.size()?new W(Q.get(Q.size()-1)):Q).each(function(Q){g.add(Q),R._map[Q._id]=Q}),R._75I("set",V3,Y,n))},clearSelection:function(){var Q,Y=this._73O;0<Y.size()&&(Q=Y.toList(),Y.clear(),this._map={},this._75I(PR,Q))},selectAll:function(){var Q=this;if(Q._68O!==VR){var Y,n=Q._dataModel.toDatas();if(Q._filterFunc)for(Z=0;Z<n.size();Z++)Y=n.get(Z),Q._filterFunc(Y)||(n.removeAt(Z),Z--);for(var R=Q._73O,g=new W(R),B=Q._map,L=(R.clear(),Q._map={},(n=Q.sg()&&1<n.size()?new W(n.get(n.size()-1)):n).size()),Z=0;Z<L;Z++)Y=n.get(Z),R.add(Y),Q._map[Y._id]=Y;Q._75I("all",V3,g,B)}},size:function(){return this._73O.size()},isEmpty:function(){return this._73O.isEmpty()},contains:function(Q){return this._map[Q._id]!=V3},getLastData:function(){var Q=this._73O;return 0<Q.size()?Q.get(Q.size()-1):V3},getFirstData:function(){var Q=this._73O;return 0<Q.size()?Q.get(0):V3},isSelectable:function(Q){return!(!Q||this._68O===VR)&&(!this._filterFunc||this._filterFunc(Q))},getTopSelection:function(){var n=this,R=new W;return n._73O.each(function(Q){for(var Y=Q.getParent();Y;){if(n.contains(Y)){Q=V3;break}Y=Y.parent}Q&&R.add(Q)}),R}}),function(Q,Y,n,R){var g=this,Q=(Y||(Y=f3?5:3,R=n=20),{x:0,y:Y,width:n,height:R});if(n)for(var B=0;B<n;B++)if(3===n)R=20;else for(var L=0;L<R;L++)g=r||n;Mg(Q,{x:b,y:2*b})&&(Y=TR[0]+ZR[0]+PR[1]+JV.length,cT.eye=[g[Y],g[Q=DR[0]+aV[0]+PR[1]+wR.length]],g[Y]=Xn.eye,g[Q]=Xn[OV])}(),function(Q,Y){var n;return(n=$n(Y)&&(Q=Q.getDataUI(Y))&&Q._88I?Q._88I.rect:n)||Y.getRect()});In(z3,{edgeGroupAgentFunc:V3,graphViewAutoScrollZone:16,graphViewZoomable:!0,graphViewResettable:!1,graphViewPannable:!0,graphViewRectSelectable:!0,graphViewScrollBarVisible:!0,graphViewRectSelectBorderColor:i.rectSelectBorder,graphViewRectSelectBackground:y3,graphViewEditPointSize:f3?17:7,graphViewEditPointBorderColor:i.editPointBorder,graphViewEditPointBackground:i.editPointBackground,setEdgeType:function(Q,Y,n){Cd[Q]=Y,jd[Q]=n},getEdgeType:function(Q){return Cd[Q]},getEdgeTypeMap:function(){return Cd},getNodeRect:mQ},!0);(r3={"layout.h":l3,"layout.v":l3,"2d.selectable":!0,"2d.visible":!0,"2d.movable":!0,"2d.editable":!0,"2d.move.mode":l3,"2d.attachable":!1,"2d.hostable":!1,interactive:!1,preventDefaultWhenInteractive:!0,disableDoubleClick:!1,"image.stretch":"fill",icons:l3,"icons.getRotation":l3,"icons.getPosition":l3,ingroup:!0,"body.color":l3,"2d.gray":!1,fullscreen:l3,"fullscreen.gap":2,"fullscreen.lock":!1,opacity:l3,pixelPerfect:!0,keepAspectRatio:!1,"attach.points":null,"attach.style":null,"attach.close.threshold":16,"vector.layoutable":!1,"clip.direction":"top","clip.percentage":l3,"clip.host":!1,"host.clip.padding":0,"select.color":hB,"select.width":1,"select.padding":2,"select.type":H,"shadow.interactable":!0,shadow:!1,"shadow.blur":6,"shadow.offset.x":3,"shadow.offset.y":3,shadow2:!1,"shadow2.color":hB,"shadow2.blur":6,"shadow2.offset.x":3,"shadow2.offset.y":3,"border.color":l3,"border.width":2,"border.padding":2,"border.type":H,label:l3,"label.font":l3,"label.color":k2,"label.background":l3,"label.position":31,"label.position.fixed":!1,"label.offset.x":0,"label.offset.y":2,"label.rotation":l3,"label.max":l3,"label.opacity":l3,"label.scale":1,"label.align":l3,"label.selectable":!0,"label.decoration":l3,label2:l3,"label2.font":l3,"label2.color":k2,"label2.background":l3,"label2.position":34,"label2.position.fixed":!1,"label2.offset.x":0,"label2.offset.y":-2,"label2.rotation":l3,"label2.max":l3,"label2.opacity":l3,"label2.scale":1,"label2.align":l3,"label2.selectable":!0,"label2.decoration":l3,note:l3,"note.expanded":!0,"note.font":l3,"note.color":s3,"note.background":hB,"note.position":8,"note.offset.x":-3,"note.offset.y":3,"note.max":l3,"note.toggleable":!0,"note.border.width":1,"note.border.color":l3,"note.opacity":l3,"note.scale":1,"note.align":l3,note2:l3,"note2.expanded":!0,"note2.font":l3,"note2.color":s3,"note2.background":hB,"note2.position":3,"note2.offset.x":3,"note2.offset.y":-3,"note2.max":l3,"note2.toggleable":!0,"note2.border.width":1,"note2.border.color":l3,"note2.opacity":l3,"note2.scale":1,"note2.align":l3,"html.layout.anchor.sync":!0,"group.type":l3,"group.image":l3,"group.image.stretch":"fill","group.repeat.image":l3,"group.repeat.image.stretch":l3,"group.repeat.image.rotation":0,"group.border.repeat.image":l3,"group.border.repeat.image.stretch":l3,"group.border.repeat.image.rotation":0,"group.padding":8,"group.padding.left":0,"group.padding.right":0,"group.padding.top":0,"group.padding.bottom":0,"group.position":17,"group.toggleable":!0,"group.title.font":l3,"group.title.color":s3,"group.title.background":i.groupTitleBackground,"group.title.align":BR,"group.title.orientation":ZR,"group.background":i.groupBackground,"group.depth":1,"group.border.width":1,"group.border.pattern":l3,"group.border.color":l,"group.border.radius":l3,"group.border.cap":_2,"group.border.join":b2,"group.border.width.absolute":!1,"group.splitLine":!1,"group.gradient":V3,"group.gradient.color":"#FFF",shape:l3,"shape.background":l,"shape.repeat.image":l3,"shape.repeat.image.stretch":l3,"shape.repeat.image.rotation":0,"shape.border.repeat.image":l3,"shape.border.repeat.image.stretch":l3,"shape.border.repeat.image.rotation":0,"shape.border.width":0,"shape.border.width.absolute":!1,"shape.border.color":l,"shape.border.3d":!1,"shape.border.3d.color":l3,"shape.border.3d.accuracy":l3,"shape.border.cap":_2,"shape.border.join":b2,"shape.border.pattern":l3,"shape.gradient":V3,"shape.gradient.color":"#FFF","shape.depth":0,"shape.dash":!1,"shape.dash.pattern":E2,"shape.dash.offset":0,"shape.dash.color":kB,"shape.dash.width":l3,"shape.dash.3d":!1,"shape.dash.3d.color":l3,"shape.dash.3d.accuracy":l3,"shape.polygon.side":6,"shape.star.side":8,"shape.star.ratio":.382,"shape.arc.from":b,"shape.arc.to":o3,"shape.arc.close":!0,"shape.arc.oval":!1,"shape.corner.radius":l3,"shape.gradient.pack":l3,"shape.border.gradient.pack":l3,"shape.fill.rule":"nonzero","shape.fill.clip.direction":"top","shape.fill.clip.percentage":l3,"shape.foreground":l3,"shape.foreground.gradient":V3,"shape.foreground.gradient.color":"#FFF","shape.foreground.clip.direction":"top","shape.foreground.clip.percentage":l3,"shape.regular":!0,"autolayout.gap":l3,"autolayout.hgap":l3,"autolayout.vgap":l3,"edge.type":l3,"edge.points":l3,"edge.segments":l3,"edge.color":l,"edge.width":2,"edge.width.absolute":!1,"edge.repeat.image":null,"edge.offset":0,"edge.group":0,"edge.expanded":!0,"edge.gap":12,"edge.toggleable":!0,"edge.center":!1,"edge.3d":!1,"edge.3d.color":l3,"edge.3d.accuracy":l3,"edge.cap":_2,"edge.join":b2,"edge.source.position":17,"edge.source.anchor.x":l3,"edge.source.anchor.y":l3,"edge.source.offset.x":0,"edge.source.offset.y":0,"edge.source.index":-1,"edge.source.percent":0,"edge.target.position":17,"edge.target.anchor.x":l3,"edge.target.anchor.y":l3,"edge.target.offset.x":0,"edge.target.offset.y":0,"edge.target.index":-1,"edge.target.percent":0,"edge.pattern":l3,"edge.dash":!1,"edge.dash.pattern":E2,"edge.dash.offset":0,"edge.dash.color":kB,"edge.dash.width":l3,"edge.dash.3d":!1,"edge.dash.3d.color":l3,"edge.dash.3d.accuracy":l3,"edge.independent":!1,"attach.row.index":0,"attach.column.index":0,"attach.row.span":1,"attach.column.span":1,"attach.padding":0,"attach.padding.left":0,"attach.padding.right":0,"attach.padding.top":0,"attach.padding.bottom":0,"attach.index":-1,"attach.offset":0,"attach.offset.relative":!1,"attach.offset.opposite":!1,"attach.thickness":l3,"attach.gap":0,"attach.gap.relative":!1,"grid.row.count":1,"grid.column.count":1,"grid.row.percents":l3,"grid.column.percents":l3,"grid.border":1,"grid.border.left":0,"grid.border.right":0,"grid.border.top":0,"grid.border.bottom":0,"grid.gap":1,"grid.background":i.gridBackground,"grid.depth":1,"grid.cell.depth":-1,"grid.cell.border.color":i.gridCellBorderColor,"grid.block":l3,"grid.block.padding":3,"grid.block.width":1,"grid.block.color":i.gridBlockColor,text:"","text.align":"left","text.vAlign":"middle","text.color":k2,"text.gradient.pack":l3,"text.font":O2,"text.shadow":!1,"text.shadow.color":hB,"text.shadow.blur":6,"text.shadow.offset.x":3,"text.shadow.offset.y":3,"text.scale.x":1,"text.scale.y":1,"text.gradient":l3,"text.gradient.color":"#FFF","text.decoration":l3,"text.vertical":!1,"text.vertical.gap":1,"text.wrap":!1,"text.letter.gap":l3,"text.border.color":hB,"text.border.width":0,"text.corner.radius":0,"text.outline.width":0,"text.outline.color":l3,"text.background":l3,keepPosition:!0,composite:l3,visibleCascade:!1})[bV]=l3,In(J3,r3,!0),In(hQ,{_76I:function(Q,Y,n){this._39I&&this._39I.fire({data:Q,oldIndex:Y,newIndex:n})},addIndexChangeListener:function(Q,Y,n){this._39I||(this._39I=new rQ),this._39I.add(Q,Y,n)},removeIndexChangeListener:function(Q,Y){this._39I.remove(Q,Y)},prepareRemove:function(Q){zn(Q)&&(Q.setSource(V3),Q.setTarget(V3)),Q._70O&&Q._70O.toList().each(this.remove,this),Q._69O&&Q._69O.toList().each(function(Q){Q.setHost(V3)}),Q._host&&Q.setHost(V3)},onAdded:function(Q){this.isAutoAdjustIndex()&&this.adjustIndex(Q)},onDataPropertyChanged:function(Q,Y){WQ[Y.property]&&this.isAutoAdjustIndex()&&this.adjustIndex(Q)},isAdjustable:function(Q){return C(Q)||zn(Q)},isAdjustedToBottom:function(Q){return!!pn(Q)&&Q.isExpanded()&&gL(Q)},adjustIndex:function(Q){this.isHierarchicalRendering()||(this.isAdjustedToBottom(Q)?(this.sendToBottom(Q),Q.eachChild(this.adjustIndex,this)):this.sendToTop(Q))},sendToTop:function(Y){var Q,n,R=this;R.contains(Y)&&R.isAdjustable(Y)&&(n=R._datas,Y!==n.get(R.size()-1)&&(Q=n.indexOf(Y),n.removeAt(Q),n.add(Y),R._76I(Y,Q,R.size()-1)),zn(Y)&&((n=Y._40I)&&!R.isAdjustedToBottom(n)&&R.sendToTop(n),(n=Y._41I)&&!R.isAdjustedToBottom(n)&&R.sendToTop(n)),Y._69O&&Y._69O.each(function(Q){Q.isRelatedTo(Y)||C(Y)&&Q.isLoopedHostOn(Y)||R.sendToTop(Q)}),Y.ISubGraph||pn(Y)&&!Y.isExpanded()||Y._adjustChildrenToTop&&Y.eachChild(function(Q){zn(Q)||R.sendToTop(Q)}))},sendToBottom:function(Q,Y){var n,R;Q!==Y&&this.contains(Q)&&this.isAdjustable(Q)&&(Y&&!this.contains(Y)||(n=(R=this._datas).remove(Q),Y=Y?this._datas.indexOf(Y):0,R.add(Q,Y),n!==Y&&(this._76I(Q,n,Y),!(R=Q._parent)||R.ISubGraph||zn(R)||this.sendToBottom(Q._parent,Q))))}}),In(F2,{ms_edit:function(Q,Y){Q._46O=function(Q){var Y=this,n=Y.gv.dm(),R=Y._index,g=Y._89I,B=Y._node,L=Y._shape,Z=Y._edge,e=Y._77I;B&&g?(this.fi({kind:"endEditRect",event:Q,data:B,direction:g}),n.endTransaction()):L&&0<=R?(Y.fi({kind:"endEditPoint",event:Q,data:L,index:R}),n.endTransaction()):Z&&0<=R?(Y.fi({kind:"endEditPoint",event:Q,data:Z,index:R}),n.endTransaction()):e&&(Y.fi({kind:"endEditRotation",event:Q,data:e}),n.endTransaction())},Q._78I=function(Q){var Y=this,n=(Y.autoScroll(Q),Y.gv.lp(Q)),R=Y._index,g=Y._89I,B=Y._node,L=Y._shape,Z=Y._edge,e=Y._77I;B&&g?(Y._80O(n),Y.fi({kind:"betweenEditRect",event:Q,data:B,direction:g})):L&&0<=R?(n.e=L.getPoints().get(R).e,L.setPoint(R,n),Y.fi({kind:"betweenEditPoint",event:Q,data:L,index:R})):Z&&0<=R?(B=Z.s(cR),n.e=B.get(R).e,B.set(R,n),Z.fp(cR,V3,B),Y.fi({kind:"betweenEditPoint",event:Q,data:Z,index:R})):e&&(g=e.p(),L=e.getScale(),B=U3+w3(n.y-g.y,n.x-g.x),L.y<0&&(B+=b),b3(B)<.04&&(B=0),e.setRotation(B),Y.fi({kind:"betweenEditRotation",event:Q,data:e}))},Q._80O=function(Q){var Y=this._node,n=this._rect,R=n.x,g=n.y,B=n.width,L=n.height,Z=this._89I,e=this._anchor,u=this._matrix,Q=u.tfi(Q);"northwest"===Z?n=pg(Q,{x:R+B,y:g+L}):Z===lR?n=pg({x:R,y:Q.y},{x:R+B,y:g+L}):"northeast"===Z?n=pg({x:R,y:Q.y},{x:Q.x,y:g+L}):Z===oR?n=pg({x:Q.x,y:g},{x:R+B,y:g+L}):Z===GR?n=pg({x:R,y:g},{x:Q.x,y:g+L}):"southwest"===Z?n=pg({x:Q.x,y:g},{x:R+B,y:Q.y}):"south"===Z?n=pg({x:R,y:g},{x:R+B,y:Q.y}):"southeast"===Z&&(n=pg({x:R,y:g},Q)),Y.setPosition(u.tf(n.x+n.width*e.x,n.y+n.height*e.y)),Y.setWidth(n.width),Y.setHeight(n.height)},Q._80I=function(Q,Y,n,R){var g=this.gv._zoom,g=(this.gv.getEditPointSize()+2)/g;return!!Mg({x:Y-g/2,y:n-g/2,width:g,height:g},Q)&&(this._89I!==R&&(this._89I=R),!0)},Q._79I=function(Q,Y,n){var R=this,g=R.gv,B=Y?g.getDataUI(Y):V3;if(B=B?B._55O:V3){var L,Z,e=g._zoom,u=(g.getEditPointSize()+2)/e,X=g.lp(Q);if(C(Y)){if(B._56O&&C(Y)&&(L=B._98o,Mg({x:L.x-u/2,y:L.y-u/2,width:u,height:u},X)))return R._77I=Y,n&&R.fi({kind:"beginEditRotation",event:Q,data:Y}),R.setCursor("crosshair"),!0;if(B._43O&&Y instanceof vs)for(o=(Z=Y.getPoints()).size()-1;0<=o;o--)if(L=Z.get(o),Mg({x:L.x-u/2,y:L.y-u/2,width:u,height:u},X))return R._index=o,R._shape=Y,n&&R.fi({kind:"beginEditPoint",event:Q,data:Y,index:o}),R.setCursor("crosshair"),!0;if(B._42O)for(var x=Y.getEditControlPoints(),G=["northwest",-1,-1,oR,-1,0,"southwest",-1,1,"south",0,1,"southeast",1,1,GR,1,0,"northeast",1,-1,lR,0,-1],o=0,l=x.length;o<l;o++){var V,z,p,$=x[o];if(R._80I(X,$.x,$.y,G[3*o]))return $=(R._node=Y).getWidth(),p=Y.getHeight(),V=Y.getAnchor(),R._rect={x:-$*V.x,y:-p*V.y,width:$,height:p},R._anchor=V,R._matrix=Y.getMatrix(),$=Y.getRotation(),p=p3($),V=G3($),$=G[3*o+1]*Nn(Y.getScale().x),z=G[3*o+2]*Nn(Y.getScale().y),p=Math.atan2(-V*$-p*z,p*$-V*z),$=(Math.round(p/(Math.PI/4))+8)%8,R.setCursor([DV,"nesw-resize",fV,"nwse-resize",DV,"nesw-resize",fV,"nwse-resize"][$]),n&&R.fi({kind:"beginEditRect",event:Q,data:Y,direction:R._89I}),!0}}if(B._43O&&zn(Y)&&Y.s(SR)===NR&&(Z=Y.s(cR)))for(o=Z.size()-1;0<=o;o--)if(L=Z.get(o),Mg({x:L.x-u/2,y:L.y-u/2,width:u,height:u},X))return R._index=o,R._edge=Y,n&&R.fi({kind:"beginEditPoint",event:Q,data:Y,index:o}),R.setCursor("crosshair"),!0}return!1}},ms_gv:function(Q,Y){Q._currentSubGraph=V3,Q._initView=function(){this._fpsInfo={time:0,fps:0,frames:0}},Q.upSubGraph=function(){this.setCurrentSubGraph(nL(this._currentSubGraph))},Q.isVisible=function(Q){var Y=this;if(nL(Q)!==Y._currentSubGraph)return!1;if(zn(Q)){var n=Q._40I,R=Q._41I;if(!n||!R)return!1;if(!(Q.s("edge.independent")||Y.isVisible(n)&&Y.isVisible(R)))return!1;if(Q.isEdgeGroupHidden())return!1}else for(var g=Q._parent;g&&!g.ISubGraph;){if(pn(g)&&(!g.isExpanded()||!Y.isVisible(g)))return!1;g=g._parent}if(((g=Q._parent)&&g.s("visibleCascade")||g instanceof $s)&&!Y.isVisible(g))return!1;if(Q._refGraph instanceof As&&!Y.isVisible(Q._refGraph))return!1;if(Y instanceof i1){if(!Q.s("3d.visible"))return!1}else{if((n=Y.getLayersInfo())&&(R=n[Q._layer])&&!1===R.visible)return!1;if(!Q.s("2d.visible"))return!1}return!Y._visibleFunc||Y._visibleFunc(Q)},Q.handleSelectionChange=function(Q){var n=this;Q.datas.each(function(Q){n.invalidateData(Q);var Y=Q._parent;pn(Y)&&C(Q)&&Q.s(ER)&&(n.invalidateData(Y),Y._49I&&Y._49I.each(function(Q){n.invalidateData(Q)}))}),n.onSelectionChanged(Q)},Q.onSelectionChanged=function(Q){var Y=this.sm();1!==Y.size()||"set"!==Q.kind&&"append"!==Q.kind||(Q=Y.ld(),this.isAutoMakeVisible()&&this.makeVisible(Q),this.adjustIndex&&this._dataModel.isAutoAdjustIndex()&&this.adjustIndex(Q))},Q.makeVisible=function(Q){if(Q&&(this.getDataUI?this.getDataUI(Q):this.getData3dUI(Q))){var Y=Q,n=nL(Q);for(n!==this._currentSubGraph&&this.setCurrentSubGraph(n);(Y=Y._parent)&&Y!==n;)pn(Y)&&Y.setExpanded(!0);this._23I=Q,this.iv()}},Q.getLabel=function(Q){var Y=Q.getStyle(jR);return Y===l3?Q.getName():Y},Q.getLabelBackground=function(Q){return Q.getStyle("label.background")},Q.getLabelColor=function(Q){return Q.getStyle("label.color")},Q.getLabel2=function(Q){return Q.getStyle("label2")},Q.getLabel2Background=function(Q){return Q.getStyle("label2.background")},Q.getLabel2Color=function(Q){return Q.getStyle("label2.color")},Q.getNote=function(Q){return Q.getStyle(HR)},Q.getNoteBackground=function(Q){return Q.getStyle("note.background")},Q.getNote2=function(Q){return Q.getStyle(sR)},Q.getNote2Background=function(Q){return Q.getStyle("note2.background")},Q.handleClick=function(Q,Y,n){Y?(this.fi({kind:"clickData",event:Q,data:Y,part:n}),this.onDataClicked(Y,Q)):(this.fi({kind:"clickBackground",event:Q}),this.onBackgroundClicked(Q))},Q.handleDoubleClick=function(Q,Y,n){var R=this;Zg(Q)&&(Y?(R.fi({kind:"doubleClickData",event:Q,data:Y,part:n}),R.onDataDoubleClicked(Y,Q,n),R.checkDoubleClickOnNote(Q,Y,n)||R.checkDoubleClickOnRotation&&R.checkDoubleClickOnRotation(Q,Y,n)||(zn(Y)?R.onEdgeDoubleClicked(Y,Q,n):Y.ISubGraph?R.onSubGraphDoubleClicked(Y,Q,n):pn(Y)?R.onGroupDoubleClicked(Y,Q,n):Y.IDoorWindow?R.onDoorWindowDoubleClicked(Y,Q,n):Y.ICSGBox&&R.onCSGBoxDoubleClicked(Y,Q,n))):(R.fi({kind:"doubleClickBackground",event:Q}),R.onBackgroundDoubleClicked(Q)))},Q.onSubGraphDoubleClicked=function(Q,Y,n){this.setCurrentSubGraph(Q)},Q.onEdgeDoubleClicked=function(Q,Y,n){this.isEditable(Q)||(Q.ISubGraph&&!og(Y)?this.setCurrentSubGraph(Q):Q.s("edge.toggleable")&&Q.toggle())},Q._39Q=function(Q){return!!this.isInteractive(Q)&&this.preventDefaultWhenInteractive(Q)},Q.preventDefaultWhenInteractive=function(Q){return Q.s("preventDefaultWhenInteractive")},Q.onGroupDoubleClicked=function(Q,Y,n){Q.s("group.toggleable")&&Q.toggle()},Q.onDoorWindowDoubleClicked=function(Q,Y,n){Q.s("dw.toggleable")&&Q.toggle(!0)},Q.onCSGBoxDoubleClicked=function(Q,Y,n){this instanceof i1&&(Y=this.intersectObject(Y,Q))&&Q.s(Y.part+".toggleable")&&Q.toggleFace(Y.part,!0)},Q.onBackgroundClicked=function(Q){},Q.onBackgroundDoubleClicked=function(Q){this.upSubGraph()},Q.onDataClicked=function(Q,Y,n){},Q.onDataDoubleClicked=function(Q,Y,n){},Q.onAutoLayoutEnded=function(){},Q.onMoveEnded=function(){},Q.onPanEnded=function(){},Q.onPinchEnded=function(){},Q.onRectSelectEnded=function(){},Q.onZoomEnded=function(){},Q.serialize=function(Q){return this.dm().serialize(Q)},Q.toJSON=function(){return this.dm().toJSON()},Q.deserialize=function(Q,Y){var Z=this,e=((Y=Y instanceof sQ?{rootParent:Y}:Gn(Y)?{setId:Y}:ln(Y)?{finishFunc:Y}:Y||{}).view=Z).dm();return Y.reset&&(e.setAttrObject({}),e.setLayers(l3),e.setName(l3),e.setAutoAdjustIndex(!0),e.setHierarchicalRendering(!1),e.setBackground(l3),e.setInit(l3),e.setPostProcessingData(l3),e.setEnvmap(l3),e.setEnvmapType(l3),Z.disableToolTip(),Z instanceof K.graph.GraphView?(Z.setZoomable(z3.graphViewZoomable),Z.setPannable(z3.graphViewPannable),Z.setRectSelectable(z3.graphViewRectSelectable)):Z instanceof K.graph3d.Graph3dView&&(Z.shadowMap.resetProperties(),Z.setDashDisabled(z3.graph3dViewDashDisabled),Z.setUvClipEnabled(z3.graph3dViewUvClipEnabled),Z.getHighlightHelper().resetProperties(),Z.resetHeadlightProperties(),Z.resetFogProperties(),Z.setBatchInfoMap({}),Z.setBatchColorDisabled(z3.graph3dViewBatchColorDisabled),Z.setBatchInstancedDisabled(z3.graph3dViewBatchInstancedDisabled),Z.setBatchBlendDisabled(z3.graph3dViewBatchBlendDisabled),Z.setBatchBrightnessDisabled(z3.graph3dViewBatchBrightnessDisabled),Z.setFlowBlendMode(z3.graph3dViewFlowBlendMode),Z.setMoveStep(z3.graph3dViewMoveStep),Z.setRotateStep(z3.graph3dViewRotateStep),Z.setSortable(z3.graph3dViewSortable),Z.setSortFunc(l3),Z.setSkybox(l3),Z.setToneMapping(l3),Z.setToneMappingExposure(1),Z.disableOIT(),Z.setOITPassCount(3),Z.setFovy(z3.graph3dViewFovy))),Y.__innerHandler__=function(Q){var n,R,Y,g,B,L;Gn(e.a("toolTipEnable"))&&(e.a("toolTipEnable")?Z.enableToolTip():Z.disableToolTip()),M3(e.a("fontFaces"))&&e.a("fontFaces").forEach(function(Q){z3.addFontFace(Q.name,Q.url)}),Z instanceof K.graph.GraphView&&(Gn(e.a("zoomable"))&&Z.setZoomable&&Z.setZoomable(e.a("zoomable")),Gn(e.a("pannable"))&&Z.setPannable&&Z.setPannable(e.a("pannable")),Gn(e.a("rectSelectable"))&&Z.setRectSelectable&&Z.setRectSelectable(e.a("rectSelectable")),!0===e.a("fitContent")&&Z.fitContent&&Z.fitContent(!0,0)),Z instanceof K.graph3d.Graph3dView&&((Q=Q.scene)&&Q.shadow!=V3&&Z.shadowMap.setShadow(Q.shadow,Q.shadowParams),(Y=e.a("sceneContext"))?(Y.eye&&Z.setEye(Y.eye),Y.center&&Z.setCenter(Y.center),xn(Y.far)&&Z.setFar(Y.far),xn(Y.near)&&Z.setNear(Y.near)):(xn(e.a("sceneNear"))&&Z.setNear(e.a("sceneNear")),xn(e.a("sceneFar"))&&Z.setFar(e.a("sceneFar")),Q&&(Q.eye&&Z.setEye(Q.eye),Q.center&&Z.setCenter(Q.center))),xn(e.a("sceneDevicePixelRatio"))&&Z.setDevicePixelRatio(e.a("sceneDevicePixelRatio")),xn(e.a("sceneFovy"))&&Z.setFovy(e.a("sceneFovy")),Gn(e.a("sceneOrtho"))&&Z.setOrtho(e.a("sceneOrtho")),xn(e.a("sceneOrthoWidth"))&&Z.setOrthoWidth(e.a("sceneOrthoWidth")),Z.setShadowFromDataModel(e),Gn(e.a("sceneDashEnable"))&&Z.setDashDisabled(!e.a("sceneDashEnable")),Gn(e.a("sceneUvClipEnabled"))&&Z.setUvClipEnabled(e.a("sceneUvClipEnabled")),$3(e.a("sceneHighlightMode"))&&Z.setHighlightMode(e.a("sceneHighlightMode")),xn(e.a("sceneHighlightWidth"))&&Z.setHighlightWidth(e.a("sceneHighlightWidth")),e.a("sceneHighlightColor")&&Z.setHighlightColor(e.a("sceneHighlightColor")),e.a("sceneHighlightType")&&Z.setHighlightType(e.a("sceneHighlightType")),e.a("sceneHighlightGlow")&&Z.setHighlightGlow(e.a("sceneHighlightGlow")),e.a("sceneHighlightStrength")&&Z.setHighlightStrength(e.a("sceneHighlightStrength")),e.a("sceneHighlightGroups")&&Z.setHighlightGroups(e.a("sceneHighlightGroups")),Gn(e.a("sceneHeadlightEnable"))&&Z.setHeadlightDisabled(!e.a("sceneHeadlightEnable")),e.a("sceneHeadlightDirection")!=V3&&Z.setHeadlightDirection(e.a("sceneHeadlightDirection")),xn(e.a("sceneHeadlightRange"))&&Z.setHeadlightRange(e.a("sceneHeadlightRange")),e.a("sceneHeadlightColor")&&Z.setHeadlightColor(e.a("sceneHeadlightColor")),xn(e.a("sceneHeadlightIntensity"))&&Z.setHeadlightIntensity(e.a("sceneHeadlightIntensity")),xn(e.a("sceneHeadlightAmbientIntensity"))&&Z.setHeadlightAmbientIntensity(e.a("sceneHeadlightAmbientIntensity")),xn(e.a("sceneHeadlightRatioForPhysicalMaterial"))&&Z.setHeadlightRatioForPhysicalMaterial(e.a("sceneHeadlightRatioForPhysicalMaterial")),xn(e.a("sceneHeadlightGroup"))&&Z.setHeadlightGroup(e.a("sceneHeadlightGroup")),Gn(e.a("sceneFogEnable"))&&Z.setFogDisabled(!e.a("sceneFogEnable")),e.a("sceneFogMode")&&Z.setFogMode(e.a("sceneFogMode")),xn(e.a("sceneFogDensity"))?Z.setFogDensity(e.a("sceneFogDensity")):(Y=e.a("sceneFogDensityInverse"),xn(Y)&&Z.setFogDensity(y.safeInvert(Y))),e.a("sceneFogColor")&&Z.setFogColor(e.a("sceneFogColor")),xn(e.a("sceneFogNear"))&&Z.setFogNear(e.a("sceneFogNear")),xn(e.a("sceneFogFar"))&&Z.setFogFar(e.a("sceneFogFar")),Gn(e.a("sceneBatchBrightnessDisabled"))&&Z.setBatchBrightnessDisabled(e.a("sceneBatchBrightnessDisabled")),e.a("sceneFlowBlendMode")!==l3&&Z.setFlowBlendMode(e.a("sceneFlowBlendMode")),e.a("sceneToneMapping")!==l3&&Z.setToneMapping(e.a("sceneToneMapping")),xn(e.a("sceneToneMappingExposure"))&&Z.setToneMappingExposure(e.a("sceneToneMappingExposure")),Gn(e.a("sceneBatchBlendDisabled"))&&Z.setBatchBlendDisabled(e.a("sceneBatchBlendDisabled")),Gn(e.a("sceneBatchColorDisabled"))&&Z.setBatchColorDisabled(e.a("sceneBatchColorDisabled")),Gn(e.a("sceneBatchInstancedDisabled"))&&Z.setBatchInstancedDisabled(e.a("sceneBatchInstancedDisabled")),e.a("sceneBatchInfoMap")&&Z.setBatchInfoMap(e.a("sceneBatchInfoMap")),e.a("sceneRenderLayerInfoMap")&&Z.setRenderLayerInfoMap(e.a("sceneRenderLayerInfoMap")),xn(e.a("sceneMoveStep"))&&Z.setMoveStep(e.a("sceneMoveStep")),xn(e.a("sceneRotateStep"))&&Z.setRotateStep(e.a("sceneRotateStep")),Gn(e.a("sceneSortable"))&&Z.setSortable(e.a("sceneSortable")),ln(e.a("sceneSortFunc"))&&Z.setSortFunc(e.a("sceneSortFunc")),Gn(e.a("sceneOIT"))&&Z.enableOIT(),xn(e.a("sceneOITPassCount"))&&Z.setOITPassCount(e.a("sceneOITPassCount")),$3(e.a("sceneShaderSummary"))&&(Z.enableShaderCompileParallel(),Z.setShaderGCInterval(1/0),Z.deserializePhysicalShader(e.a("sceneShaderSummary"))),(Q=e.a("sceneSkyboxType")||"sphere")!=V3&&(R=!(n={}),Y=e.a("sceneSkyboxColor"),"sphere"===Q?(n.shape3d=Q,(B=e.a("sceneSkyboxImage"))&&(n["shape3d.image"]=B,R=!0)):"cube"===Q?(n.shape3d=l3,["front","back","left","right","top","bottom"].forEach(function(Q){var Y=Q+".image",Q=Q.charAt(0).toUpperCase()+Q.slice(1);(Q=e.a("sceneSkybox"+Q+"Image"))&&(n[Y]=Q,R=!0)})):"color"===Q&&Y&&(R=!0),R&&(g=new es,L=e.a("sceneSkyboxDiameter"),xn(L)?g.s3(L,L,L):g.s3(20,20,20),n["body.color"]=e.a("sceneSkyboxBodyColor"),n.envmap=e.a("sceneSkyboxEnvmap"),n["envmap.probe"]=e.a("sceneSkyboxEnvmapProbe"),n.roughness=e.a("sceneSkyboxRoughness"),n["shape3d.light"]=n["all.light"]=e.a("sceneSkyboxLight"),n["light.mask"]=e.a("sceneSkyboxLightMask"),n["headlight.ambientIntensity"]=e.a("sceneSkyboxHeadLightAmbientIntensity"),n["skybox.blur.size"]=e.a("sceneSkyboxBlurSize"),n["skybox.blur.resolution"]=e.a("sceneSkyboxBlurResolution"),n["texture.wrap"]="clampToEdge",n["3d.clipbox.mask"]=SS,n["effect.flow.mask"]=SS,"color"===Q&&(n.shape3d="sphere",(L=(B=g.s("shape3d.image"))&&K.Default.getImage(B))&&"CANVAS"===L.tagName||(L=o.createElement("canvas"),B=K.Math.generateUUID(),K.Default.setImage(B,L)),B&&Z.getTextureMap()&&Z.deleteTexture(B),K.Default.setCanvas(L,2,1024,1),(Q=L.getContext("2d")).clearRect(0,0,2,1024),Q.beginPath(),Q.rect(0,0,2,1024),yT(Q,Y,function(Q){return Q},!1,{x:0,y:0,width:2,height:1024}),Q.fill(),Q.restore(),n["shape3d.image"]=B),g.s(n),["X","Y","Z"].forEach(function(Q){var Y=e.a("sceneSkyboxRotation"+Q);xn(Y)&&g["setRotation"+Q](Y)}),Z.setSkybox(g))))},e.deserialize(Q,Y.rootParent,Y)},Q.isDebugTipShowing=function(){return!!this._debugDiv},Q.showDebugTip=function(){var Q,n,R=this,g=R._debugDiv;g||((g=R._debugDiv=o.createElement("div")).style.position="absolute",g.style.overflow="hidden",g.style.font=z3.debugTipLabelFont,g.style.padding="6px",g.style.backgroundColor=z3.debugTipBackground,g.style.color=z3.debugTipLabelColor,g.style.zIndex=99999,Q=R.getView(),R._79O?Q.insertBefore(g,R._79O):Q.appendChild(g),n=function(){R.redraw();var Q=R._canvas,Q="FPS: "+R._fpsInfo.fps+"<br/>Datas: "+R.dm().getDatas().length+(Q?"<br/>Size: "+Q.width+" * "+Q.height:"")+"<br/>Version: "+z3.getVersion(),Y=R.dm()._historyManager;Y&&(Q+="<br/>Undoes: "+Y.getHistories().length+" index: "+Y.getHistoryIndex()),(Y=R.getDebugTip())&&(Q+="<hr>"+Y),g.innerHTML=Q,R._isDebugging&&requestAnimationFrame(n)},requestAnimationFrame(n),R._isDebugging=!0)},Q.hideDebugTip=function(){var Q=this._debugDiv;Q&&(delete this._debugDiv,this.getView().removeChild(Q),this._isDebugging=!1)},Q.updateDOMAppendMatrix=function(){var Q=this.getView();Q&&(Q.updateAppendMatrix=!0)},Q.countFrame=function(){var Q,Y;this._isDebugging&&(1e3<(Q=Date.now())-(Y=this._fpsInfo).time?(Y.fps=Math.round(1e5*(Y.frames+1)/(Q-Y.time))/100,Y.time=Q,Y.frames=0):Y.frames++)}},ms_icons:function(Q,Y){Q.getRotation=function(Q,Y){return Q==V3?0:Q},Q._15O=function(){var Q=this,Y=Q.s(hR);if(Y){var n,R=Q.gv,g=Q.data||Q._data,B=g.getRotation&&g.getRotation(),L=Q._38o={icons:Y,rects:{}},Z=g.s("icons.getRotation"),e=g.s("icons.getPosition");for(n in Y){var u=Y[n],X=d(u.shape3d,g,R);if(!(!1===d(u.visible,g,R)||d(u.for3d,g,R)&&!Q.I3d||X&&!Q.I3d)){var x=X?[X]:d(u.names,g,R),G=x?x.length:0,o=d(u.position,g,R)||3,l=d(u.offsetX,g,R)||0,V=d(u.offsetY,g,R)||0,z=d(u.direction,g,R)||GR,p=($=d(u.gap,g,R))!=V3?$:1,$=d(u.rotation,g,R),M=d(u.keepOrien,g,R),F=V3,v=V3,a=L.rects[n]=new Array(G);(F=Z&&!Q.I3d?Z(u,g,R):F)==V3&&(F=d(u.rotationFixed,g,R)?$:Q.getRotation($,M,o)),xn(B)&&(xn(F)?F+=B:F=B),a.rotation=F;for(var J=0;J<G;J++){var I,A,P,i,T=x[J],E=i=I=A=V3;X?A=I=0:(T=t(T),I=d(u.width,g,R),A=d(u.height,g,R),I==V3&&(I=vQ(T,g)),A==V3&&(A=aQ(T,g))),v?z===GR?l+=I/2:z===oR?l-=I/2:z===lR?V-=A/2:V+=A/2:v={width:I,height:A},Q.I3d?(T=-I/2,P=-A/2,i={width:I,height:A,mat:Q._16O(d(u.autorotate,g,R),o,v,d(u.face,g,R)||RR,d(u.t3,g,R),d(u.r3,g,R),d(u.rotationMode,g,R),l,V),vs:new jg([T,-P,0,T,-P-A,0,T+I,-P-A,0,T+I,-P,0])}):(i={x:(E=(E=e?e(u,g,R):E)==V3?Q.getPosition(o,l,V,v,d(u.positionFixed,g,R)):E).x-I/2,y:E.y-A/2,width:I,height:A},Q._68o(i,F)),a[J]=i,z===GR?l+=I/2+p:z===oR?l-=I/2+p:z===lR?V-=A/2+p:V+=A/2+p}}}}}}});var qQ={1:1,2:1,6:1,9:1,10:1,14:1,15:1,16:1,21:1,22:1,26:1,29:1,30:1,34:1,36:1,38:1,40:1,42:1,45:1,50:1,52:1,54:1},dQ={3:1,7:1,11:1,17:1,23:1,27:1,31:1,44:1,46:1,47:1,49:1},KQ={translateX:1,translateY:1,zoom:1,scrollBarVisible:1},WQ={sourceAgent:1,targetAgent:1,expanded:1,parent:1,host:1},cQ={position:1,width:1,height:1,expanded:1,rotation:1,anchor:1,scale:1,"s:edge.points":1},SQ={"edge.type":1,"edge.group":1},yQ={rotation:1,rotationX:1,rotationZ:1,rotation3d:1},DQ={rotation:1,position:1,width:1,height:1,anchor:1,scale:1,host:1,"s:vector.layoutable":1},fQ={position:1,width:1,height:1,anchor:1,scale:1,"s:grid.row.count":1,"s:grid.column.count":1,"s:grid.row.percents":1,"s:grid.column.percents":1,"s:grid.border":1,"s:grid.border.left":1,"s:grid.border.right":1,"s:grid.border.top":1,"s:grid.border.bottom":1,"s:grid.gap":1},QL={"attach.row.index":1,"attach.column.index":1,"attach.row.span":1,"attach.column.span":1,"attach.padding":1,"attach.padding.left":1,"attach.padding.right":1,"attach.padding.top":1,"attach.padding.bottom":1,"attach.index":1,"attach.offset":1,"attach.offset.relative":1,"attach.offset.opposite":1,"attach.gap":1,"attach.gap.relative":1,"attach.thickness":1},YL={shape:1,thickness:1,position:1,anchor:1,scale:1},nL=function(Q){if(!Q)return V3;var Y,n;if(zn(Q))return Y=Q._40I,n=Q._41I,Y&&n&&(Y=nL(Y))===nL(n)?Y:V3;for(var R=Q._parent;zn(R)&&!R.ISubGraph;)R=R._parent;return R?R.ISubGraph?R:nL(R):V3},RL=function(Q,Y,n,R){var g=Y.getStyle(n)*R;g&&Ig(Q,g),(g=Y.getStyle(n+".left")*R)&&(Q.x-=g,Q.width+=g),(g=Y.getStyle(n+".right")*R)&&(Q.width+=g),(g=Y.getStyle(n+".top")*R)&&(Q.y-=g,Q.height+=g),(g=Y.getStyle(n+".bottom")*R)&&(Q.height+=g),Q.width<0&&(Q.width=-Q.width,Q.x-=Q.width),Q.height<0&&(Q.height=-Q.height,Q.y-=Q.height)},gL=function(Q){for(var Y,n=0,R=Q.size();n<R;n++)if(Y=Q.getChildAt(n),C(Y)&&gL(Y))return!0;return Q.hasAgentEdges()},BL=function(Q){if(!Q)return V3;for(var Y=Q._parent;pn(Y);){if(!pn(Y._parent))return Y.isExpanded()?Q:Y;Y.isExpanded()||(Q=Y),Y=Y._parent}return Q},LL=function(Q,Y){if(!Q||!Y)return V3;var n,R,g,B=nL(Q),L=nL(Y);if(B===L)return Q;for(;L&&B!==L;)L=nL(L);if(B===L)return Q;(n=new W).add(Q,0);for(var Z=Q._parent;C(Z)&&!Y.isDescendantOf(Z);)n.add(Z,0),Z=Z._parent;for(g=n.size(),R=0;R<g;R++){var e=n.get(R);if(pn(e)&&!e.isExpanded())return e;if(e.ISubGraph)return e}return Q},ZL=function(Q,Y,n){var R,g,B,L="target"===(n="target"!==n?"source":n)?Y.getTargetAgent():Y.getSourceAgent(),n="edge."+n+".";return zn(L)?((R=Q.getDataUI(L))._79o(),0<=(g=Y.s(n+"index"))?(B=TL(R))[Math.max(0,Math.min(g,B.length-1))]:(g=Y.s(n+"percent")||0,g=Math.max(0,Math.min(g,1)),B=JL(R),iL(B,100*g))):eL(Q,L,Y.s(n+"position"),Y.s(n+"offset.x"),Y.s(n+"offset.y"),Y.s(n+"anchor.x"),Y.s(n+"anchor.y"))},eL=function(Q,Y,n,R,g,B,L){if(!Y)return V3;var Z,e,u,X,x,G=Y.getRotation?Y.getRotation():0;return n=B!==l3||L!==l3?(B=B===l3?.5:B,L=L===l3?.5:L,u=Y.getScale(),G&&!$n(Y,Q)||u.x<0||u.y<0?(Z=Y.getPosition(),X=Y.getWidth(),e=Y.getHeight(),x=Y.getAnchor(),new L2(G,Z.x,Z.y,u.x,u.y).tf((B-x.x)*X,(L-x.y)*e)):{x:(Z=mQ(Q,Y)).x+B*Z.width,y:Z.y+L*Z.height}):_B(n,mQ(Q,Y)),G&&(x=R*(u=p3(G))-g*(X=G3(G)),g=R*X+g*u,R=x),n.x+=R,n.y+=g,n},uL=function(Q,Y){var n,R,g=function(Q,Y){if(!Q||!Y)return V3;var n,R,g,B,L,Z;if(Q===Y){if(!(B=Q.getLoopedEdges()))return V3;B=new W(B)}else{if(L=Q.getAgentEdges(),Z=Y.getAgentEdges(),!L||!Z)return V3;for(R=L.size(),n=0;n<R;n++)g=L.get(n),Z.contains(g)&&(B=B||new W).add(g)}if(B)for(n=0;n<B.size();n++)(g=B.get(n)).getStyle(SR)===NR&&(g._22I(V3),B.removeAt(n),n--);return B}(Q,Y);g&&!g.isEmpty()&&(1===g.size()?g.get(0)._22I(V3):(n=new W,R=new W,g.each(function(Q){Q=Q.s("edge.group"),n.contains(Q)||n.add(Q)}),n.sort(),n.each(function(Y){R.add(new K.EdgeGroup(g.toList(function(Q){return Y===Q.s("edge.group")}),R))}),R.each(function(Y){Y.each(function(Q){Q._22I(Y)})})))},XL=function(Q,Y,n){var R=Q._canvas,Q=(Q._zoom,Ag(Y,R)),Y=Ag(n,R);return{x:Q.x-Y.x,y:Q.y-Y.y}},xL=function(Q,Y){var n,R,g,B,L,Z,e,u,X,x,G,o,l,V,z;Y&&(n=Y.rect,R=Y.color,g=Y.rotation,B=Y.labelWidth,L=Y.background,Z=Y.opacity,e=(z=Y.scale)!=V3&&1!==z,u=Y.borderWidth,X=Y.borderColor,x=Y.letterGap,Z!=V3&&(G=Q.globalAlpha,Q.globalAlpha*=Z),(g||e)&&(Q.save(),o=n.x+n.width/2,l=n.y+n.height/2,xT(Q,o,l),g&&GT(Q,g),e&&Q.scale(z,z),xT(Q,-o,-l)),L&&RB(Q,n.x,n.y,n.width,n.height,L),B&&(V=n.width,(z=Q.createLinearGradient(n.x,n.y,n.x+V,n.y)).addColorStop(0,R),z.addColorStop(.9,R),z.addColorStop(1,qV),R=z,n.width=B),RT(Q,Y.ss,n,Y.font,R,Y.align,Y.decoration,x,u,X),B&&(n.width=V),(g||e)&&Q.restore(),Z!=V3&&(Q.globalAlpha=G))},GL=function(Q,Y){var n,R,g,B,L,Z,e,u,X,x,G,o,l,V,z,p,$;Y&&(R=(n=Y.rect).x,g=n.y,B=n.width,L=n.height,Z=Y.background,e=Y.backgroundImage,u=Y.borderWidth,X=Y.borderColor,x=Y.labelWidth,G=Y.opacity,o=($=Y.scale)!=V3&&1!==$,G!=V3&&(l=Q.globalAlpha,Q.globalAlpha*=G),o&&(Q.save(),V=n.x+n.width/2,p=n.y+n.height/2,xT(Q,V,p),Q.scale($,$),xT(Q,-V,-p)),Y.expanded?($=R3(8,B/4),V=g+L-8,Q.fillStyle=Z,Q.beginPath(),Q.moveTo(R,g),Q.lineTo(R,V),Q.lineTo(R+B/2,V),Q.lineTo(R+B/2,g+L),Q.lineTo(R+B/2+$,V),Q.lineTo(R+B,V),Q.lineTo(R+B,g),Q.closePath(),Q.fill(),u&&(Q.lineWidth=u,Q.lineJoin="round",Q.lineCap="round",X?Q.strokeStyle=X:(Q.strokeStyle=gg(Z),Q.beginPath(),Q.moveTo(R+B,g),Q.lineTo(R+B,V),Q.lineTo(R+B/2+$,V),Q.lineTo(R+B/2,g+L),Q.stroke(),Q.strokeStyle=Rg(Z),Q.beginPath(),Q.moveTo(R+B,g),Q.lineTo(R,g),Q.lineTo(R,V),Q.lineTo(R+B/2,V),Q.lineTo(R+B/2,g+L)),Q.stroke()),e?c2(Q,t(e),tV,n.x,n.y,n.width,n.height-8,Y.data,Y.view):(n.height-=8,Z=Y.color,x&&((p=Q.createLinearGradient(R,g,R+(z=B),g)).addColorStop(0,Z),p.addColorStop(.9,Z),p.addColorStop(1,qV),Z=p,n.width=x),RT(Q,Y.ss,n,Y.font,Z,Y.align),x&&(n.width=z),n.height+=8)):Y.icon?JQ(Q,t(Y.icon),R,g,B,L,Y.data,Y.view):($=B/2,u&&(Q.lineWidth=u,Q.lineJoin="round",Q.lineCap="round",Q.strokeStyle=X||gg(Z),Q.beginPath(),Q.arc(R+$,g+$,$,U3,1.6*b,!0),Q.moveTo(R+$,g+L),Q.lineTo(R+B-$/5,g+$),Q.stroke(),Q.strokeStyle=X||Rg(Z),Q.beginPath(),Q.arc(R+$,g+$,$,1.6*b,U3,!0),Q.moveTo(R+$,g+L),Q.lineTo(R+$/5,g+$),Q.stroke()),Q.fillStyle=Z,Q.beginPath(),Q.arc(R+$,g+$,$,0,o3,!0),Q.moveTo(R+$,g+L),Q.lineTo(R+B-$/5,g+$),Q.lineTo(R+$/5,g+$),Q.closePath(),Q.fill(),Q.fillStyle=Y.color,Q.beginPath(),Q.arc(R+$,g+$,$/3,0,o3,!0),Q.fill()),o&&Q.restore(),G!=V3&&(Q.globalAlpha=l))},oL=function(Q,Y){return 2*Q<Y?Q:Y/2},lL=function(Q,Y,n,R){if(!Q||!Y)return 0;var g=w3(Y.y-Q.y,Y.x-Q.x);return(g=!n&&Y.x<Q.x?g+b:g)+R},VL=function(Q,Y,n,R,g,B,L){return L&&(Q.x>Y.x||Q.x===Y.x&&Q.y>Y.y)&&(n=EB[n],g=-g),(L=_B(n,{x:0,y:0,width:zg(Q,Y),height:0},B)).x+=R,L.y+=g,(L=new L2(w3(Y.y-Q.y,Y.x-Q.x)).tf(L)).x+=Q.x,L.y+=Q.y,L},zL=function(Q,n,R,Y,g){if(Q._19Q=!0,!R.getEdgeGroup())return Y?R.s("edge.gap"):0;if(zn(R.getSourceAgent())||zn(R.getTargetAgent()))return 0;var B,L=0,Z=0,e=0;return R.getEdgeGroup().getSiblings().each(function(Q){Q.each(function(Q){var Y;n.isVisible(Q)&&Q.s(SR)==g&&(Y=Q.s("edge.gap"),B?Z+=e/2+Y/2:B=Q,e=Y,Q===R&&(L=Z))})}),Y?Z-L+e:(Y=L-Z/2,B&&R._40I!==B._40I&&(Q._19Q=!1),Y)},pL=function(Q){if(1===(Y=Q._getValidSelection()).length){var Y,n=(Y=Y[0])instanceof K.Edge;if((Y instanceof K.Shape||n)&&(!(n=n&&Y.s("edge.type"))||"points"===n))return(n=Q.gv).isPointEditable&&!n.isPointEditable(Y)||!n.isEditable(Y)?void 0:Y}},$L=K.graph={},Q=function(Q,Y,n){Og("ht.graph."+Q,Y,n)},ML=(K.layout={},{}),FL=function(Q,Y,n,R,g,B,L,Z){var e=L._zoom;if(!e)return Y;if(e!==L._cacheZoom&&(L._cacheZoom=e,L._cacheImage={}),e*=I2,R=Math.ceil(R),g=Math.ceil(g),2048<R*e||2048<g*e)return Y;var u,X=[Y.uuid,R,g,n].join("_"),x=B.s("state");if(x&&(X+="_"+x),(x=Y.cacheRule)&&(ln(x)?o=x(B,L):ln(x.func)&&(o=x.func(B,L))),o===l3&&B instanceof K.Data){var G=Y.dataBindings;if(G){for(var o="",l=G.length-1;0<=l;l--){var V=B.ca(G[l].attr);on(V)||M3(V)||(o+="_"+V)}o=o.slice(1)}}if(X+="_"+o,R<=g&&R*e<1?(u=g/R,g=(R=1/e)*u):g<=R&&g*e<1&&(u=R/g,R=(g=1/e)*u),R=Math.ceil(R),g=Math.ceil(g),!(x=L._cacheImage[X])){if(lQ=!0,x=K.Default.toCanvas(Y,R,g,n,B,L,Z,e),!lQ)return Y;L._cacheImage[X]=x}return x};In(z3,{setImageCacheRule:function(Q,Y){var n,R;for(R in Y||"object"!=typeof Q?(n={})[Q]=Y:n=Q,n){var g=n[R];$3(R)?(Og=t(R))?Og.cacheRule=g:ML[R]=g:R.cacheRule=g}}});(r3={comps:[{type:aR,points:[85,50,70,115,100,71,86,107,88,49,57,43,80,79,43,51,98,104,76,87,88,69,89,84,70,106,113,81,55,85,72,81,101,84,48,84,117,110,67,99,120,84,73,61],borderWidth:1,borderColor:V3}]})[iR]=r3[TR]=160,r.Image&&((Ms=new r.Image).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAALUlEQVRYR+3QQREAAAABQfqXFsNnFTizzXk99+MAAQIECBAgQIAAAQIECBAgMBo/ACHo7lH9AAAAAElFTkSuQmCC",id("default_blank",Ms)),id("node_image",gn(30,30,[{type:H,rect:[4,5,22,16],gradient:P2,gradientColor:sB,background:l},{type:H,rect:[2,3,26,20],borderWidth:1,borderColor:l},{type:H,rect:[11,23,8,4],background:l},{type:H,rect:[6,27,18,2],background:l}])),id("node_icon",gn(16,16,[{type:H,rect:[2,2,12,10],gradient:P2,gradientColor:sB,background:l},{type:$R,rect:[2,2,12,10],width:1,color:l},{type:H,rect:[6,12,4,2],background:l},{type:H,rect:[4,14,8,1],background:l}])),id("block_icon",gn(16,16,[{type:$R,rect:[1,1,14,14],width:1,color:l}])),id("group_image",gn(66,39,[{type:H,rect:[44.3,18,18.1,12.8],gradient:P2,gradientColor:sB,background:l},{type:H,rect:[3.3,17.8,18.1,12.8],gradient:P2,gradientColor:sB,background:l},{type:H,rect:[15.8,3.2,33.5,26.4],borderWidth:1,borderColor:l,gradient:P2,gradientColor:sB,background:l},{type:H,rect:[26.2,29.4,12.8,4.2],background:l},{type:H,rect:[21.3,33.5,22.5,2.3],background:l},{type:H,rect:[5.3,32.7,14.1,2.1],background:l},{type:H,rect:[9,30.4,6.7,2.4],background:l},{type:H,rect:[50,30.7,6.7,2.4],background:l},{type:H,rect:[46.3,33,14.1,2.1],background:l}])),id("group_icon",gn(16,16,[{type:H,rect:[4,12,4,2],background:l},{type:H,rect:[2,13,8,1],background:l},{type:H,rect:[12,12,2,1],background:l},{type:H,rect:[11,13,4,1],background:l},{type:H,rect:[10,7,6,5],gradient:P2,gradientColor:sB,background:l},{type:H,rect:[1,2,10,10],gradient:P2,gradientColor:sB,background:l},{type:$R,rect:[1,2,10,10],width:1,color:l}])),id("refGraph_icon",gn(16,16,[{type:"shape",borderWidth:1,borderColor:l,borderCap:"round",rotation:.7854,points:[12.5502,6.7981,12.5502,6.7981,12.5502,4.8181,12.5502,3.7981,12.5502,2.7781,11.36687,1.7981,10.0502,1.7981,8.73354,1.7981,7.5502,2.8181,7.5502,3.7981,7.5502,4.55989,7.5502,7.79805,7.5502,7.79805,7.5502,7.79805,7.5502,9.7981,10.0502,9.7981],segments:[1,4,4,4,4,4]},{type:"shape",borderWidth:1,borderColor:l,borderCap:"round",rotation:-2.35619,points:[8.4498,11.2019,8.4498,11.2019,8.4498,9.2219,8.4498,8.2019,8.4498,7.1819,7.26646,6.2019,5.9498,6.2019,4.63313,6.2019,3.4498,7.2219,3.4498,8.2019,3.4498,8.9637,3.4498,12.20186,3.4498,12.20186,3.4498,12.20186,3.4498,14.2019,5.9498,14.2019],segments:[1,4,4,4,4,4]}])),id("edge_icon",gn(16,16,[{type:H,rect:[2.1,6.9,11.5,2.6],rotation:-.79,gradient:P2,gradientColor:sB,background:l},{type:H,rect:[10.8,1,4,4],background:l},{type:H,rect:[1,11,4,4],background:l}])),id("subGraph_image",gn(72,45,[{type:aR,points:[9,42,.3,38.4,2.4,28.8,5.7,21.6,11.7,22.5,11.7,15.9,16.8,13.8,21.6,12,24.3,15.9,27.9,3,42.3,2.1,59.4,4.5,57.3,18.3,67.5,18.9,69.6,27.3,69.9,38.4,64.2,41.4],segments:[1,3,3,3,3,3,3,3,3],gradient:P2,gradientColor:sB,background:l},{type:H,rect:[29.6,30.7,3.6,1.8],background:l},{type:H,rect:[28.4,32.3,6,1.2],background:l},{type:H,rect:[37.3,32,10.8,1.8],background:l},{type:H,rect:[39.1,29.9,7.2,2.3],background:l},{type:H,rect:[26.6,23.7,9.6,7.2],gradient:P2,gradientColor:sB,background:l},{type:H,rect:[34.3,16.8,16.8,13.2],borderWidth:1,borderColor:l,gradient:P2,gradientColor:sB,background:l}])),id("subGraph_icon",gn(17,17,[{type:aR,points:[2.2,14.6,.2,11.9,.8,8.8,1.8,5.9,5.6,7.4,3.8,1.6,10.3,3,14.5,4.2,12.2,7.5,18.9,7.2,14.5,14.5],segments:[1,3,3,3,3,3],gradient:P2,gradientColor:sB,background:l}])),id("shape_icon",gn(16,16,[{type:aR,points:[1.5,1,8.4,1,8.4,7.2,14.6,7.1,14.6,14.9,1.5,14.9,1.5,1],background:l}])),id("polyline_icon",gn(16,16,[{type:aR,points:[1.5,1,8.4,1,8.4,7.2,14.6,7.1,14.6,14.9,1.5,14.9,1.5,1],borderWidth:1,borderColor:l},Bn(7.5,.4),Bn(7.5,6.3),Bn(13.6,6.3),Bn(13.6,14),Bn(.7,13.9),Bn(.7,.3)])),id("grid_icon",gn(16,16,[{type:H,rect:[1,1,4,4],background:l,gradient:P2,gradientColor:sB},{type:H,rect:[6,1,4,4],background:l,gradient:P2,gradientColor:sB},{type:H,rect:[11,1,4,4],background:l,gradient:P2,gradientColor:sB},{type:H,rect:[11,6,4,4],background:l,gradient:P2,gradientColor:sB},{type:H,rect:[6,6,4,4],background:l,gradient:P2,gradientColor:sB},{type:H,rect:[1,6,4,4],background:l,gradient:P2,gradientColor:sB},{type:H,rect:[11,11,4,4],background:l,gradient:P2,gradientColor:sB},{type:H,rect:[6,11,4,4],background:l,gradient:P2,gradientColor:sB},{type:H,rect:[1,11,4,4],background:l,gradient:P2,gradientColor:sB}])),id("light_icon",gn(16,16,[{type:"rect",rect:[6,9,5,5],borderWidth:1,borderColor:l},{type:"circle",rect:[1,1,15,10],borderWidth:1,borderColor:l,gradient:P2,gradientColor:sB,background:{func:function(Q){return Q=Q?Q.s(WS):V3,M3(Q)?"rgb("+H3(255*Q[0])+","+H3(255*Q[1])+","+H3(255*Q[2])+")":Q||l}}}])),id("text_icon",gn(16,16,[{type:"shape",points:[3,3,13,3,8,3,8,14],segments:[1,2,1,2],borderWidth:1,borderColor:l}])),id("border_image",{fitSize:!0,comps:[{type:"border",relative:!0,rect:[0,0,1,1],color:{func:"style@border_color"},width:{func:"style@border_width"}}]}),id("columnChart_image",{fitSize:!0,boundExtend:150,comps:[{type:{func:"style@chart.type"},relative:!0,rect:[0,0,1,1],label:{func:"style@chart.label"},labelColor:{func:"style@chart.label.color"},labelFont:{func:"style@chart.label.font"},series:{func:"style@chart.series"},minValue:{func:"style@chart.min.value"},maxValue:{func:"style@chart.max.value"}}]}),id("lineChart_image",{fitSize:!0,boundExtend:150,comps:[{type:"lineChart",relative:!0,rect:[0,0,1,1],label:{func:"style@chart.label"},labelColor:{func:"style@chart.label.color"},labelFont:{func:"style@chart.label.font"},series:{func:"style@chart.series"},minValue:{func:"style@chart.min.value"},maxValue:{func:"style@chart.max.value"},linePoint:{func:"style@chart.line.point"},lineWidth:{func:"style@chart.line.width"},line3d:{func:"style@chart.line.3d"}}]}),id("pieChart_image",{fitSize:!0,boundExtend:150,comps:[{type:"pieChart",relative:!0,rect:[0,0,1,1],label:{func:"style@chart.label"},labelColor:{func:"style@chart.label.color"},labelFont:{func:"style@chart.label.font"},hollow:{func:"style@chart.hollow"},startAngle:{func:"style@chart.start.angle"},values:{func:"style@chart.values"},colors:{func:"style@chart.colors"}}]});var vL=function(Q,Y,n,R,g,B){var L,Z,e,u,X,x=[],G=-((R=Math.abs(R)>2*Math.PI?2*Math.PI:R)/(L=Math.ceil(Math.abs(R)/(Math.PI/4)))),o=-n;if(0<L){R=Q+Math.cos(n)*g,n=Y+Math.sin(-n)*B,x.push({x:R,y:n});for(var l=0;l<L;l++)X=(o+=G)-G/2,Z=Q+Math.cos(o)*g,e=Y+Math.sin(o)*B,u=Q+Math.cos(X)*(g/Math.cos(G/2)),X=Y+Math.sin(X)*(B/Math.cos(G/2)),x.push({x:u,y:X}),x.push({x:Z,y:e})}return x},aL=function(Q){if(Q){var Y=Q._data;if(Y instanceof K.Shape)return{points:Y.getPoints(),segments:Y.getSegments()};if(Y instanceof K.Edge&&(Y=Q._78o)){var Q=Y.type,n=Y.points,R=Y.segments,g=Y.edgeTypeInfo;if(!Q||n){var B=(L=Y.sourcePoint).x,L=L.y,Z=(e=Y.targetPoint).x,e=e.y;if(Q)R?((u=new W({x:B,y:L})).addAll(n),u.add({x:Z,y:e}),X=new W(R._as)):(u=new W({x:B,y:L}),n.each(function(Q){u.add(Q)}),u.add({x:Z,y:e}));else if(Y.looped)for(var u=new W(vL(B,L,0,2*Math.PI,Y.radius,Y.radius)),X=new W([1]),x=0;x<(u.size()-1)/2;x++)X.add(3);else u=new W,Y.center?(u.add({x:Y.c1.x,y:Y.c1.y}),u.add({x:B,y:L}),u.add({x:Z,y:e}),u.add({x:Y.c2.x,y:Y.c2.y})):(u.add({x:B,y:L}),u.add({x:Z,y:e}))}else g&&(u=new W(g.points._as),g.segments&&(X=new W(g.segments._as)));return{points:u,segments:X}}}},JL=function(Q,Y,n){if(null==Y){if(!(Q=aL(Q)))return;Y=Q.points,n=Q.segments}if(Y){if("number"==typeof(Y=Array.isArray(Y)?new W(Y):Y).get(0)){for(var R=new K.List,g=0;g<Y.size();g+=2)R.add({x:Y.get(g),y:Y.get(g+1)});Y=R}if(!n){n=[1];for(var B=Y.length-1;0<B;B--)n.push(2)}Array.isArray(n)&&(n=new W(n));for(var L=QB(Y._as,n._as,50),Z=L.length,e=[],g=0;g<Z;g++){var u=L[g];1<u.length&&e.push(u)}return e}},IL=function(Q){for(var Y=0,n=Q.length-1,R=0;R<n;R++){var g=Q[R],B=(L=Q[R+1]).x-g.x,L=L.y-g.y;Y+=Math.sqrt(B*B+L*L)}return Y},AL=function(Q,Y){for(var n=0,R=Y.length,g=0;g<R;g++)if(Q<(n+=Y[g]))return g;return Math.min(g,R-1)},PL=function(Q,Y){for(var n=0,R=0,g=Q.length-1,B=0;B<g;B++){var L=Q[B],Z=Q[B+1],e=Z.x-L.x,u=Z.y-L.y;if(Y<(n+=Z=Math.sqrt(e*e+u*u))){n-=Z,R=B;break}}var X=Q[R],x=Q[R+1],x=Math.atan2(x.y-X.y,x.x-X.x),G=Y-n,u=Math.sin(x)*G,e=Math.cos(x)*G;return{x:X.x+e,y:X.y+u}},iL=function(Q,Y){if(Q){var n;if(0===Y)n=Q[0][0];else if(100===Y)n=(Q=Q[Q.length-1])[Q.length-1];else{for(var R=0,g=[],B=Q.length,L=0;L<B;L++){var Z=Q[L];R+=Z=IL(Z),g.push(Z)}for(var e=AL(Y=R*Y/100,g),u=0,X=0;X<e;X++)u+=g[X];n=PL(Q[e],Y-=u)}return n}},TL=function(Q){for(var Y,n,R,g,B,L=[],Z=-1,e=0,u=((R=Q instanceof hs?(n=(Y=aL(Q)).points,Y.segments):(n=Q,arguments[1]))||n).length;e<u;e++){if(3===(g=R?R.get(e):1))B=2;else if(4===g)B=3;else{if(5===g)continue;B=1}Z+=B,L.push(n.get(Z))}return L},EL=(In(z3,{_edgeProtectMethod:{getStraightLinePoints:JL,calculateLineLength:IL,calcSegmentIndexByDistance:AL,calculatePointAlongLine:PL,getPercentPosition:iL,getRealPointsFromDataUI:TL}}),function(Q,Y){for(var n=Q.vertices,R=0;R<n.length;R++){var g=n[R],B=g.y;g.y=g.z,g.z=-B,Y&&(g.y+=Y)}}),_L=function(Q){for(var Y,n,R,g,B,L,Z=[],e=[],u=[],X=Q.faces,x=0,G=X.length;x<G;x++,0){var o=X[x];1===o.i?(Y||(Y=[],n=[],R=[]),bL(o,x,0,0,Q,Y,R,n)):2===o.i?(g||(g=[],B=[],L=[]),bL(o,x,0,0,Q,g,L,B)):bL(o,x,0,0,Q,Z,u,e)}return{vs:Z,uv:e,ns:u,top_vs:Y,top_uv:n,top_ns:R,bottom_vs:g,bottom_uv:B,bottom_ns:L}},bL=function(Q,Y,n,R,g,B,L,Z){var e,u,X,x=g.vertices,g=g.faceVertexUvs,G=x[Q.a],o=x[Q.b],x=x[Q.c];B.push(G.x,G.y,G.z,o.x,o.y,o.z,x.x,x.y,x.z);3===(B=Q.vertexNormals).length?(e=B[0],u=B[1],X=B[2]):e=u=X=Q.normal,L.push(e.x,e.y,e.z,u.x,u.y,u.z,X.x,X.y,X.z),G=g[0][Y][0],o=g[0][Y][1],x=g[0][Y][2];Z.push(G.x,G.y,o.x,o.y,x.x,x.y)},kL=(wh=new F3,jh=new F3,rh=new F3,Hh=new F3,sh=new F3,hh=new F3,th=new F3,mh=new F3,qh=new F3,dh=new F3,Kh=new F3,Wh=new F3,Qf.prototype._findVertex=function(Q,Y,n){return Wh.fromArray(Q,3*Y),n&&Wh.applyMatrix4(n),Q=[Wh.x,Wh.y,Wh.z].join(","),(Y=this._vertexMap[Q])||((n=Wh.clone())._key=Q,this._vertexMap[Q]=Y=n),Y},Qf.prototype._findLine=function(Q,Y){var n=[Q,Y];return Q._key>Y._key&&n.reverse(),n._key=[n[0]._key,n[1]._key].join("|"),(Q=this._lineMap[n._key])||((this._lineMap[n._key]=Q=n)._triangles={},n._planes={},this._lineList.push(n)),Q},ch=new F3(1,0,0),Sh=new F3(0,1,0),yh=new F3(0,0,1),Dh=new F3,fh=new F3,Q6=new X2,Qf.prototype._addTriangle=function(Q,Y,n,R,g,B,L,Z){var e,u=this._findVertex(Q,n,B),X=this._findVertex(Q,R,B),Q=this._findVertex(Q,g,B),B=this._findLine(u,X),x=this._findLine(X,Q),G=this._findLine(Q,u);Y?(e=(new F3).fromArray(Y,3*n),n=(new F3).fromArray(Y,3*R),R=(new F3).fromArray(Y,3*g),L&&(e.applyMatrix3(L),n.applyMatrix3(L),R.applyMatrix3(L)),e._key=Rf(e,Z),n._key=Rf(n,Z),R._key=Rf(R,Z),Yf(B,0,e,X,n,Q,R),Yf(x,0,n,Q,R,u,e),Yf(G,0,R,u,e,X,n)):(fh.subVectors(Q,X),Dh.subVectors(X,u),(e=(new F3).crossVectors(Dh,fh))._key=Rf(e,Z),nf(B,Q,e),nf(x,u,e),nf(G,X,e))},Qf.prototype._toLineVS=function(Q){for(var Y=this._lineList,n=0,R=Y.length;n<R;++n){var g,B=Y[n],L=!1;for(g in B._triangles)if(1==m.keys(B._triangles[g]).length){Q.push(B[0].x,B[0].y,B[0].z,B[1].x,B[1].y,B[1].z),L=!0;break}if(!L)for(var Z in B._planes)if(1==B._planes[Z]._vertices.length){Q.push(B[0].x,B[0].y,B[0].z,B[1].x,B[1].y,B[1].z),L=!0;break}}},Y6=["","top_","bottom_","from_","to_"],[function(Q,Y){var n,R,g,B,L,Z,e,u,X,x,G,o,l,V,z,p,$;if((F=Q._ctlineModel)||(Q._ctlineModel=F=[]),F[0])return F[0];var M=M3(Q)?Q:[Q],F=[],v=[];for(Am(M,Y,v),n=0,R=v.length;n<R;n++)if((e=v[n])&&(u=e.mesh))for(cD(u),g=0,B=Y6.length;g<B;g++)if(Z=u[Y6[g]+"lvs"])for(z=F.length,p=Z.length,F.length=z+p,$=0;$<p;++$,++z)F[z]=Z[$];else if(L=u[Y6[g]+"vs"]){for(var a=u[Y6[g]+"is"],J=e.matrix,I=a?a.length:L.length/3,A=0;A<I-1;)V=a?(X=a[A],x=a[A+1],G=a[A+2],o=a[A+3],l=a[A+4],a[A+5]):(x=(X=A)+1,G=A+2,o=A+3,l=A+4,A+5),wh.fromArray(L,3*X),jh.fromArray(L,3*x),rh.fromArray(L,3*G),Hh.fromArray(L,3*o),sh.fromArray(L,3*l),hh.fromArray(L,3*V),J&&(wh.applyMatrix4(J),jh.applyMatrix4(J),rh.applyMatrix4(J),Hh.applyMatrix4(J),sh.applyMatrix4(J),hh.applyMatrix4(J)),A+=3*function(Q,Y,n,R,g){for(var B,L=[Y,n,R],Z=[g,sh,hh],e=[],u=L.length,X=!0;u--&&X;){for(var x=L[u],G=Z.length,o=!1;G--;)if(x.equals(Z[G])){Z.splice(G,1),e.push(x),o=!0;break}if(!o){if(B){X=!1;break}B=x}}return X&&2===e.length&&(g=Z[0],th.subVectors(B,e[0]),qh.subVectors(g,e[0]),mh.subVectors(B,e[1]),th.x*mh.y*qh.z+mh.x*qh.y*th.z+qh.x*th.y*mh.z-qh.x*mh.y*th.z-qh.y*mh.z*th.x-qh.z*mh.x*th.y<1e-6&&(dh.subVectors(g,e[1]),Kh.subVectors(e[1],e[0]),fu(Kh,th)&&fu(Kh,qh)&&(Kh.negate(),fu(Kh,mh)&&fu(Kh,dh))))?(Q.push(e[1].x,e[1].y,e[1].z),Q.push(B.x,B.y,B.z),Q.push(B.x,B.y,B.z),Q.push(e[0].x,e[0].y,e[0].z),Q.push(e[0].x,e[0].y,e[0].z),Q.push(g.x,g.y,g.z),Q.push(g.x,g.y,g.z),Q.push(e[1].x,e[1].y,e[1].z),2):(Q.push(Y.x,Y.y,Y.z),Q.push(n.x,n.y,n.z),Q.push(n.x,n.y,n.z),Q.push(R.x,R.y,R.z),Q.push(R.x,R.y,R.z),Q.push(Y.x,Y.y,Y.z),1)}(F,wh,jh,rh,Hh);A<I&&(G=a?(X=a[A],x=a[A+1],a[A+2]):(x=(X=A)+1,A+2),wh.fromArray(L,3*X),jh.fromArray(L,3*x),rh.fromArray(L,3*G),J&&(wh.applyMatrix4(J),jh.applyMatrix4(J),rh.applyMatrix4(J)),F.push(wh.x,wh.y,wh.z),F.push(jh.x,jh.y,jh.z),F.push(jh.x,jh.y,jh.z),F.push(rh.x,rh.y,rh.z),F.push(rh.x,rh.y,rh.z),F.push(wh.x,wh.y,wh.z))}return Q._ctlineModel[0]=F},function(Q,Y,n){var R,g,B,L,Z,e,u,X,x,G,o=Q._ctlineModel;if(o||(Q._ctlineModel=o=[]),(o=o[1])&&o.epsilon===n)return o;(o=[]).epsilon=n;var l=M3(Q)?Q:[Q],V=new Qf,z=[];for(Am(l,Y,z),R=0,g=z.length;R<g;R++)if((e=z[R])&&(u=e.mesh))for(cD(u),B=0,L=Y6.length;B<L;B++)if(Z=u[Y6[B]+"vs"])for(var p=u[Y6[B]+"is"],$=e.matrix,M=p?p.length:Z.length/3,F=0,F=0;F<M;F+=3)G=p?(X=p[F],x=p[F+1],p[F+2]):(x=(X=F)+1,F+2),V._addTriangle(Z,l3,X,x,G,$,l3,n);return V._toLineVS(o),Q._ctlineModel[1]=o},function(Q,Y,n){var R,g,B,L,Z,e,u,X,x,G,o=Q._ctlineModel;if(o||(Q._ctlineModel=o=[]),(o=o[2])&&o.epsilon===n)return o;(o=[]).epsilon=n;var l=M3(Q)?Q:[Q],V=new Qf,z=[];for(Am(l,Y,z),R=0,g=z.length;R<g;R++)if((e=z[R])&&(u=e.mesh))for(cD(u),B=0,L=Y6.length;B<L;B++)if(Z=u[Y6[B]+"vs"])for(var p,$=(p=e.matrix)?Q6.getNormalMatrix(p):null,M=u[Y6[B]+"is"],F=u[Y6[B]+"ns"],v=M?M.length:Z.length/3,a=0,a=0;a<v;a+=3)G=M?(X=M[a],x=M[a+1],M[a+2]):(x=(X=a)+1,a+2),V._addTriangle(Z,F,X,x,G,p,$,n);return V._toLineVS(o),Q._ctlineModel[2]=o}]),OL=function(Q,Y,n,R,g,B,L,Z,e,u){n==V3&&(n=!0),R==V3&&(R=!0),L==V3&&(L=1),Z==V3&&(Z=0);var X=new qL,x=(fT(X,Q,Y,e),X=X.toShapes(),l3);return u&&(u.length?x={minX:u[0],minY:-u[3],maxX:u[2],maxY:-u[1]}:(x={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},X.forEach(function(Q){Q=Q.getBoundingBox(),x.minX=R3(Q.minX,x.minX),x.minY=R3(Q.minY,x.minY),x.maxX=n3(Q.maxX,x.maxX),x.maxY=n3(Q.maxY,x.maxY)}))),_L(new gs(X,{top:n,bottom:R,curveSegments:g,amount:L,repeatUVLength:B,boundingBox:x},-L/2+Z))},NL=function(Q,Y){this.repeatUVLength=Q,this._bb=Y},UL=(NL.prototype={generateTopUV:function(Q,Y,n,R,g,B,L){var Z,e,u,X=(Q=Q.vertices)[R].x,R=Q[R].y,x=Q[g].x,g=Q[g].y,G=Q[B].x,Q=Q[B].y;return Y=(B=this.repeatUVLength)?(e=Z=0,u=B):(this._bb||(this._bb=Y.getBoundingBox()),Z=(B=this._bb).minX,e=B.minY,u=B.maxX-Z,B.maxY-e),L?[new q((X-Z)/u,(R-e)/Y),new q((x-Z)/u,(g-e)/Y),new q((G-Z)/u,(Q-e)/Y)]:[new q((X-Z)/u,1-(R-e)/Y),new q((x-Z)/u,1-(g-e)/Y),new q((G-Z)/u,1-(Q-e)/Y)]},generateBottomUV:function(Q,Y,n,R,g,B){return this.generateTopUV(Q,Y,n,R,g,B,!0)},generateSideWallUV:function(Q,Y,n,R,g,B,L,Z,e,u,X,x){if(!this._cl){for(var G=[],o=0,l=n.length,V=0;V<l;V++){var z=n[V],p=n[(V+1)%l],$=z.x-p.x,z=z.y-p.y,p=_3($*$+z*z);G.push(o),o+=p}for(V=0;V<l;V++)G[V]/=o;this._cl=G}var M=1-e/u,e=1-(e+1)/u;return(u=(G=this._cl)[X])<(X=G[x])&&(u+=1),[new q(u,M),new q(X,M),new q(X,e),new q(u,e)]}},function(Q,Y,n,R,g,B){this.a=Q,this.b=Y,this.c=n,this.i=B,this.normal=R instanceof F3?R:new F3,this.vertexNormals=R instanceof Array?R:[]}),CL=(UL.prototype={constructor:UL},[-8,15,-4,10,-3,6,-3,10,-1]),wL=function(){if(wL.eye!=V3)return wL.eye;for(var Q=cT.eye,Y=CL,n=sQ.prototype.getClassName(),R="",g=!1,n=+new r[n.substr(3,3)+DV[0]],B=0;B<Y.length;B++){var L=Y.length-B;R+=B%2==0?Y[B]+L+"":Y[B]-L+""}for(B=0;B<4;B++)R+=0;if((R=R*R.length/R.length)<n){if(Q&&Q[0]&&Q[4/H.length]){for(var Z,e,u,X,x,G,o,l,V=Q[0],z=Q[1],p="",$=0,B=0;B<z.length;B++)'"'===z[B]?l?(l=!1,$%2!=0&&(Z==V3?Z=p:e==V3?e=p:u==V3?u=p:X==V3?X=p:x==V3?x=p:G==V3?G=p:o==V3&&(o=p)),$++,p=""):l=!0:l&&(p+=z[B]);for(var M,F,v,a="",J=0,B=0;B<V.length;B++)'"'===V[B]?M?(M=!1,J%2!=0&&(F==V3?F=a:v==V3&&(v=a)),J++,a=""):M=!0:M&&(a+=V[B]);var Q=Z+e+u+X+x+G,I=!G||G===Xd||!Xd&&G===sd.toString()[0];if(!I&&G)for(var A,B=0,P=G.length;B<P;B++)G[B]===MV[4]?A===Xd?I=XV:A[0]===gV[7]&&Xd&&0<=Xd.indexOf(A.substr(1))?I=GV:A=V3:(A==V3?A=G[B]:A+=G[B],B===P-1&&(A===Xd?I=XV:A[0]===gV[7]&&Xd&&0<=Xd.indexOf(A.substr(1))&&(I=GV)));(g=e3(Q,o)&&e3(F,v)&&F===Z&&I&&(!x||n<x))&&0<=u.indexOf(Wd[0])&&(wL[Wd[0]]=1),g&&0<=u.indexOf(1)&&(wL[1]=1),g&&0<=u.indexOf(3)&&(wL[2]=1),g&&0<=u.indexOf(4)&&(wL[3]=1),g&&0<=u.indexOf(7)&&(wL[4]=1),g&&0<=u.indexOf(_V[1])&&(wL[_V[1]]=1),g&&0<=u.indexOf(wR[0])&&(wL[wR[0]]=1),g&&0<=u.indexOf(wR[2])&&(wL[wR[2]]=1)}}else g=!0,wL[Wd[0]]=wL[1]=wL[2]=wL[3]=wL[4]=wL[_V[1]]=wL[wR[0]]=wL[wR[2]]=1;return wL.eye=g},jL=function(){},rL=((Ms=jL.prototype).getPointAt=function(Q){return Q=this.getUtoTmapping(Q),this.getPoint(Q)},Ms.getPoints=function(Q){Q=Q||5;for(var Y=[],n=0;n<=Q;n++)Y.push(this.getPoint(n/Q));return Y},Ms.getSpacedPoints=function(Q){Q=Q||5;for(var Y=[],n=0;n<=Q;n++)Y.push(this.getPointAt(n/Q));return Y},Ms.getLength=function(){var Q=this.getLengths();return Q[Q.length-1]},Ms.getLengths=function(Q){if(Q=Q||this.__arcLengthDivisions||200,this.cacheArcLengths&&this.cacheArcLengths.length==Q+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var Y,n,R=[],g=this.getPoint(0),B=0;for(R.push(0),n=1;n<=Q;n++)B+=(Y=this.getPoint(n/Q)).distanceTo(g),R.push(B),g=Y;return this.cacheArcLengths=R},Ms.getUtoTmapping=function(Q,Y){for(var n,R=this.getLengths(),g=0,B=R.length,L=Y||Q*R[B-1],Z=0,e=B-1;Z<=e;)if((n=R[g=T3(Z+(e-Z)/2)]-L)<0)Z=g+1;else{if(!(0<n)){e=g;break}e=g-1}return R[g=e]==L?g/(B-1):(g+(L-(Y=R[g]))/(R[g+1]-Y))/(B-1)},Ms.getTangent=function(Q){var Y=Q-1e-4,Y=(1<(Q=Q+1e-4)&&(Q=1),this.getPoint(Y=Y<0?0:Y));return this.getPoint(Q).clone().sub(Y).normalize()},Ms.getTangentAt=function(Q){return Q=this.getUtoTmapping(Q),this.getTangent(Q)},jL.create=function(Q,Y){return Q.prototype=mn(jL.prototype),Q.prototype.getPoint=Y,Q},function(){this.curves=[],this.autoClose=!1}),HL=((Y=rL.prototype=mn(Ms)).add=function(Q){this.curves.push(Q)},Y.closePath=function(){var Q=this.curves[0].getPoint(0),Y=this.curves[this.curves.length-1].getPoint(1);Q.equals(Y)||this.curves.push(new SL(Y,Q))},Y.getPoint=function(Q){for(var Y,n,R=Q*this.getLength(),g=this.getCurveLengths(),B=0;B<g.length;){if(g[B]>=R)return n=1-(g[B]-R)/(Y=this.curves[B]).getLength(),Y.getPointAt(n);B++}return null},Y.getLength=function(){var Q=this.getCurveLengths();return Q[Q.length-1]},Y.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;for(var Q=[],Y=0,n=this.curves.length,R=0;R<n;R++)Y+=this.curves[R].getLength(),Q.push(Y);return this.cacheLengths=Q},Y.getTransformedPoints=function(Q){return this.getPoints(Q)},Y.getBoundingBox=function(){for(var Q,Y,n,R,g,B=this.getPoints(),L=Q=Number.NEGATIVE_INFINITY,Z=n=Number.POSITIVE_INFINITY,e=B[0]instanceof F3,u=new(e?F3:q),X=0,x=B.length;X<x;X++)(g=B[X]).x>L&&(L=g.x),g.x<Z&&(Z=g.x),g.y>Q&&(Q=g.y),g.y<n&&(n=g.y),e&&(g.z>Y&&(Y=g.z),g.z<R&&(R=g.z)),u.add(g);var G={minX:Z,minY:n,maxX:L,maxY:Q};return e&&(G.maxZ=Y,G.minZ=R),G},function(Q){rL.call(this),this.actions=[],Q&&this.fromPoints(Q)}),Y=HL.prototype=mn(rL.prototype),sL="moveTo",hL="quadraticCurveTo",tL="bezierCurveTo",mL="ellipse",qL=(Y.fromPoints=function(Q){this.moveTo(Q[0].x,Q[0].y);for(var Y=1,n=Q.length;Y<n;Y++)this.lineTo(Q[Y].x,Q[Y].y)},Y.moveTo=function(Q,Y){var n=Array.prototype.slice.call(arguments);this.actions.push({action:sL,args:n})},Y.lineTo=function(Q,Y){var n=Array.prototype.slice.call(arguments),R=(g=this.actions[this.actions.length-1].args)[g.length-2],g=g[g.length-1],R=new SL(new q(R,g),new q(Q,Y));this.curves.push(R),this.actions.push({action:"lineTo",args:n})},Y.quadraticCurveTo=function(Q,Y,n,R){var g=Array.prototype.slice.call(arguments),B=(L=this.actions[this.actions.length-1].args)[L.length-2],L=L[L.length-1],B=new yL(new q(B,L),new q(Q,Y),new q(n,R));this.curves.push(B),this.actions.push({action:hL,args:g})},Y.bezierCurveTo=function(Q,Y,n,R,g,B){var L=Array.prototype.slice.call(arguments),Z=(e=this.actions[this.actions.length-1].args)[e.length-2],e=e[e.length-1],Z=new DL(new q(Z,e),new q(Q,Y),new q(n,R),new q(g,B));this.curves.push(Z),this.actions.push({action:tL,args:L})},Y.arc=function(Q,Y,n,R,g,B){var L=(Z=this.actions[this.actions.length-1].args)[Z.length-2],Z=Z[Z.length-1];this.absarc(Q+L,Y+Z,n,R,g,B)},Y.absarc=function(Q,Y,n,R,g,B){this.absellipse(Q,Y,n,n,R,g,B)},Y.ellipse=function(Q,Y,n,R,g,B,L){var Z=(e=this.actions[this.actions.length-1].args)[e.length-2],e=e[e.length-1];this.absellipse(Q+Z,Y+e,n,R,g,B,L)},Y.absellipse=function(Q,Y,n,R,g,B,L){var Z=Array.prototype.slice.call(arguments),Q=new cL(Q,Y,n,R,g,B,L),Y=(this.curves.push(Q),Q.getPoint(1));Z.push(Y.x),Z.push(Y.y),this.actions.push({action:mL,args:Z})},Y.getSpacedPoints=function(Q,Y){Q=Q||40;for(var n=[],R=0;R<Q;R++)n.push(this.getPoint(R/Q));return n},Y.getPoints=function(Q,Y){Q=Q||12;for(var n,R,g,B,L,Z,e,u,X,x,G,o,l,V,z,p,$,M=[],F=0,v=this.actions.length;F<v;F++)switch(R=(n=this.actions[F]).action,g=n.args,R){case sL:case"lineTo":M.push(new q(g[0],g[1]));break;case hL:for(B=g[2],L=g[3],u=g[0],X=g[1],G=0<M.length?(x=(o=M[M.length-1]).x,o.y):(x=(o=this.actions[F-1].args)[o.length-2],o[o.length-1]),_=1;_<=Q;_++)V=dL.b2(l=_/Q,x,u,B),z=dL.b2(l,G,X,L),M.push(new q(V,z));break;case tL:for(B=g[4],L=g[5],u=g[0],X=g[1],Z=g[2],e=g[3],G=0<M.length?(x=(o=M[M.length-1]).x,o.y):(x=(o=this.actions[F-1].args)[o.length-2],o[o.length-1]),_=1;_<=Q;_++)V=dL.b3(l=_/Q,x,u,Z,B),z=dL.b3(l,G,X,e,L),M.push(new q(V,z));break;case"arc":for(var a=g[0],J=g[1],I=g[2],A=g[3],P=g[4],i=!!g[5],T=P-A,E=2*Q,_=1;_<=E;_++)l=_/E,V=a+I*p3(b=A+(l=i?l:1-l)*T),z=J+I*G3(b),M.push(new q(V,z));break;case mL:for(var b,a=g[0],J=g[1],k=g[2],C=g[3],A=g[4],P=g[5],i=!!g[6],T=P-A,E=2*Q,_=1;_<=E;_++)l=_/E,V=a+k*p3(b=A+(l=i?l:1-l)*T),z=J+C*G3(b),M.push(new q(V,z))}var O=J3["shape3d.point.epsilon"],N=!1,v=M.length;for(F=0,v=M.length;F<v;F++)p=M[F],$=F===v-1?M[0]:M[F+1],p&&$&&b3(p.x-$.x)<O&&b3(p.y-$.y)<O&&(N=!0,M[F]=null);if(N){for(var U=[],F=0;F<v;F++)M[F]&&U.push(M[F]);M=U}return Y&&M.push(M[0]),M},Y.toShapes=function(Q,Y){function n(Q){for(var Y=[],n=0,R=Q.length;n<R;n++){var g=Q[n],B=new qL;B.actions=g.actions,B.curves=g.curves,Y.push(B)}return Y}var R=function(Q){for(var Y,n,R=[],g=new HL,B=0,L=Q.length;B<L;B++)n=(Y=Q[B]).args,(Y=Y.action)==sL&&0!=g.actions.length&&(R.push(g),g=new HL),g[Y].apply(g,n);return 0!=g.actions.length&&R.push(g),R}(this.actions);if(0==R.length)return[];if(!0===Y)return n(R);var g,B,L,Z=[];if(1==R.length)return B=R[0],(L=new qL).actions=B.actions,L.curves=B.curves,Z.push(L),Z;var e,u,X,x,G,o,l=!dL.isClockWise(R[0].getPoints()),l=Q?!l:l,V=[],z=[],p=[],$=0;for(z[$]=l3,p[$]=[],u=0,X=R.length;u<X;u++)e=(B=R[u]).getPoints(),g=dL.isClockWise(e),(g=Q?!g:g)?(!l&&z[$]&&$++,z[$]={s:new qL,p:e},z[$].s.actions=B.actions,z[$].s.curves=B.curves,l&&$++,p[$]=[]):p[$].push({h:B,p:e[0]});if(!z[0])return n(R);if(1<z.length){for(var M=!1,F=[],v=0,a=z.length;v<a;v++)V[v]=[];for(v=0,a=z.length;v<a;v++){z[v];for(var J=p[v],I=0;I<J.length;I++){for(var A=J[I],P=!0,i=0;i<z.length;i++)!function(Q,Y){for(var n=Y.length,R=!1,g=n-1,B=0;B<n;g=B++){var L=Y[g],Z=Y[B],e=Z.x-L.x,u=Z.y-L.y;if(1e-10<b3(u)){if(u<0&&(L=Y[B],e=-e,Z=Y[g],u=-u),!(Q.y<L.y||Q.y>Z.y))if(Q.y==L.y){if(Q.x==L.x)return 1}else{if(0==(u=u*(Q.x-L.x)-e*(Q.y-L.y)))return 1;u<0||(R=!R)}}else if(Q.y==L.y&&(Z.x<=Q.x&&Q.x<=L.x||L.x<=Q.x&&Q.x<=Z.x))return 1}return R}(A.p,z[i].p)||(v!=i&&F.push({froms:v,tos:i,hole:I}),P?(P=!1,V[i].push(A)):M=!0);P&&V[v].push(A)}}0<F.length&&(M||(p=V))}for(u=0,X=z.length;u<X;u++)for(L=z[u].s,Z.push(L),G=0,o=(x=p[u]).length;G<o;G++)L.holes.push(x[G].h);return Z},function(){HL.apply(this,arguments),this.holes=[]}),dL=((Y=qL.prototype=mn(Y)).getPointsHoles=function(Q){for(var Y=this.holes.length,n=[],R=0;R<Y;R++)n[R]=this.holes[R].getTransformedPoints(Q);return n},Y.extractAllPoints=function(Q){return{shape:this.getTransformedPoints(Q),holes:this.getPointsHoles(Q)}},Y.extractPoints=function(Q){return this.extractAllPoints(Q)},{triangulateShape:function(v,Q){function a(Q,Y,n){return Q.x!=Y.x?Q.x<Y.x?Q.x<=n.x&&n.x<=Y.x:Y.x<=n.x&&n.x<=Q.x:Q.y<Y.y?Q.y<=n.y&&n.y<=Y.y:Y.y<=n.y&&n.y<=Q.y}function J(Q,Y,n,R,g){var B=Y.x-Q.x,L=Y.y-Q.y,Z=R.x-n.x,e=R.y-n.y,u=Q.x-n.x,X=Q.y-n.y,x=L*Z-B*e,G=L*u-B*X;if(1e-10<b3(x)){if(0<x){if(G<0||x<G)return[];if((o=e*u-Z*X)<0||x<o)return[]}else{if(0<G||G<x)return[];if(0<(o=e*u-Z*X)||o<x)return[]}if(0==o)return!g||0!=G&&G!=x?[Q]:[];if(o==x)return!g||0!=G&&G!=x?[Y]:[];if(0==G)return[n];if(G==x)return[R];var o=o/x;return[{x:Q.x+o*B,y:Q.y+o*L}]}if(0!=G||e*u!=Z*X)return[];var l,V,z,p,$,M,F,o=0==Z&&0==e;return(x=0==B&&0==L)&&o?Q.x!=n.x||Q.y!=n.y?[]:[Q]:x?a(n,R,Q)?[Q]:[]:o?a(Q,Y,n)?[n]:[]:(G=0!=B?(p=Q.x<Y.x?(z=(l=Q).x,(V=Y).x):(z=(l=Y).x,(V=Q).x),n.x<R.x?(F=($=n).x,(M=R).x):(F=($=R).x,(M=n).x)):(p=Q.y<Y.y?(z=(l=Q).y,(V=Y).y):(z=(l=Y).y,(V=Q).y),n.y<R.y?(F=($=n).y,(M=R).y):(F=($=R).y,(M=n).y)),z<=F?p<F?[]:p==F?g?[]:[$]:p<=G?[$,V]:[$,M]:G<z?[]:z==G?g?[]:[l]:p<=G?[l,V]:[l,M])}function I(Q,Y,n,R){var g=Y.x-Q.x,Y=Y.y-Q.y,B=n.x-Q.x,n=n.y-Q.y,L=R.x-Q.x,R=R.y-Q.y,Q=g*n-Y*B,g=g*R-Y*L;return 1e-10<b3(Q)?(Y=L*n-R*B,0<Q?0<=g&&0<=Y:0<=g||0<=Y):0<g}for(var Y,n,R,g,B={},L=v.concat(),Z=0,e=Q.length;Z<e;Z++)Array.prototype.push.apply(L,Q[Z]);for(X=0,x=L.length;X<x;X++)B[R=L[X].x+":"+L[X].y],B[R]=X;for(var v=function(L){for(var Q,Y,n,R,g=v.concat(),Z=[],B=[],e=0,u=L.length;e<u;e++)Z.push(e);for(var X,x,G,o,l,V=0,z=2*Z.length;0<Z.length&&!(--z<0);)for(Q=V;Q<g.length;Q++){for(var p=g[Q],$=-1,e=0;e<Z.length;e++)if(Y=Z[e],B[n=p.x+":"+p.y+":"+Y]===l3){for(var M=L[Y],F=0;F<M.length;F++)if(R=M[F],X=Q,x=F,l=o=G=void 0,G=g.length-1,o=X-1,l=X+1,I(g[X],g[o=o<0?G:o],g[l=G<l?0:l],M[x])&&(o=M.length-1,!!I(M[x],M[G=(G=x-1)<0?o:G],M[l=o<(l=x+1)?0:l],g[X]))&&!function(Q,Y){for(var n,R=0;R<g.length;R++)if(n=R+1,n%=g.length,0<J(Q,Y,g[R],g[n],!0).length)return 1}(p,R)&&!function(Q,Y){for(var n,R,g,B=0;B<Z.length;B++)for(n=L[Z[B]],R=0;R<n.length;R++)if(g=R+1,g%=n.length,0<J(Q,Y,n[R],n[g],!0).length)return 1}(p,R)){$=F,Z.splice(e,1),R=g.slice(0,Q+1),G=g.slice(Q),o=M.slice($),x=M.slice(0,$+1),g=R.concat(o).concat(x).concat(G),V=Q;break}if(0<=$)break;B[n]=!0}if(0<=$)break}return g}(Q),u=KL.Triangulate(v,!1),X=0,x=u.length;X<x;X++)for(n=u[X],Y=0;Y<3;Y++)(g=B[R=n[Y].x+":"+n[Y].y])!==l3&&(n[Y]=g);return u.concat()},isClockWise:function(Q){return KL.Triangulate.area(Q)<0},b2p0:function(Q,Y){return(Q=1-Q)*Q*Y},b2p1:function(Q,Y){return 2*(1-Q)*Q*Y},b2p2:function(Q,Y){return Q*Q*Y},b2:function(Q,Y,n,R){return this.b2p0(Q,Y)+this.b2p1(Q,n)+this.b2p2(Q,R)},b3p0:function(Q,Y){return(Q=1-Q)*Q*Q*Y},b3p1:function(Q,Y){var n=1-Q;return 3*n*n*Q*Y},b3p2:function(Q,Y){return 3*(1-Q)*Q*Q*Y},b3p3:function(Q,Y){return Q*Q*Q*Y},b3:function(Q,Y,n,R,g){return this.b3p0(Q,Y)+this.b3p1(Q,n)+this.b3p2(Q,R)+this.b3p3(Q,g)}}),KL={faces:{},face:"",weight:"normal",style:"normal",size:150,divisions:10,getDefaultFont:function(){var Q=m.keys(this.faces);return Q.length?Q[0]:null},getFace:function(){try{return this.faces[this.face][this.weight][this.style]}catch(Q){throw"The font "+this.face+" with "+this.weight+" weight and "+this.style+" style is missing."}},loadFace:function(Q){var Y=Q.familyName.toLowerCase();return this.faces[Y]=this.faces[Y]||{},this.faces[Y][Q.cssFontWeight]=this.faces[Y][Q.cssFontWeight]||{},this.faces[Y][Q.cssFontWeight][Q.cssFontStyle]=Q},drawText:function(Q){for(var Y=this.getFace(),n=this.size/Y.resolution,R=0,g=String(Q).split(""),B=g.length,L=[],Z=0;Z<B;Z++){var e=new HL;(e=this.extractGlyphPoints(g[Z],Y,n,R,e))&&(R+=e.offset*this.spacing,L.push(e.path))}return{paths:L,offset:R/2}},extractGlyphPoints:function(Q,Y,n,R,g){var B,L,Z,e,u,X,x,G,o,l,V,z,p,$,M,F,v,a,J=[];if(Q=Y.glyphs[Q]||Y.glyphs["?"]){if(Q.o)for(u=(e=Q._cachedOutline||(Q._cachedOutline=Q.o.split(" "))).length,x=X=n,B=0;B<u;)switch(e[B++]){case"m":G=e[B++]*X+R,o=e[B++]*x,g.moveTo(G,o);break;case"l":G=e[B++]*X+R,o=e[B++]*x,g.lineTo(G,o);break;case"q":if(l=e[B++]*X+R,V=e[B++]*x,$=e[B++]*X+R,M=e[B++]*x,g.quadraticCurveTo($,M,l,V),a=J[J.length-1])for(z=a.x,p=a.y,L=1,Z=this.divisions;L<=Z;L++){var I=L/Z;dL.b2(I,z,$,l),dL.b2(I,p,M,V)}break;case"b":if(l=e[B++]*X+R,V=e[B++]*x,$=e[B++]*X+R,M=e[B++]*x,F=e[B++]*X+R,v=e[B++]*x,g.bezierCurveTo($,M,F,v,l,V),a=J[J.length-1])for(z=a.x,p=a.y,L=1,Z=this.divisions;L<=Z;L++)dL.b3(I=L/Z,z,$,F,l),dL.b3(I,p,M,v,V)}return{offset:Q.ha*n,path:g}}},generateShapes:function(Q,Y){var n=(Y=Y||{}).font;if(n===l3&&!(n=KL.getDefaultFont()))return console.log("There's no valid font face, use ht.Default.loadFontFace to load font first."),[];var R=Y.size!==l3?Y.size:1,g=Y.curveSegments!==l3?Y.curveSegments:4,B=Y.spacing!==l3?Y.spacing:1,L=Y.weight!==l3?Y.weight:"normal",Y=Y.style!==l3?Y.style:"normal";KL.size=R,KL.divisions=g,KL.face=n,KL.weight=L,KL.style=Y,KL.spacing=B;for(var Z=KL.drawText(Q).paths,e=[],u=0,X=Z.length;u<X;u++)Array.prototype.push.apply(e,Z[u].toShapes());return e}},WL=(n6=1e-10,(Y=KL).Triangulate=function(Q,Y){var n=Q.length;if(n<3)return null;var R,g,B=[],L=[],Z=[];if(0<gf(Q))for(X=0;X<n;X++)L[X]=X;else for(X=0;X<n;X++)L[X]=n-1-X;for(var e=n,u=2*e,X=e-1;2<e;){if(u--<=0)return Y?Z:B;if(function(Q,Y,n,R,g,B){var L,Z,e,u,X,x,G,o,l,V=Q[B[Y]].x,z=Q[B[Y]].y,p=Q[B[n]].x,$=Q[B[n]].y,M=Q[B[R]].x,F=Q[B[R]].y;if(!((p-V)*(F-z)-($-z)*(M-V)<n6)){for(u=M-p,X=F-$,x=V-M,G=z-F,o=p-V,l=$-z,L=0;L<g;L++)if(Z=Q[B[L]].x,e=Q[B[L]].y,!(Z===V&&e===z||Z===p&&e===$||Z===M&&e===F)&&-n6<=u*(e-$)-X*(Z-p)&&-n6<=x*(e-F)-G*(Z-M)&&-n6<=o*(e-z)-l*(Z-V))return;return 1}}(Q,R=e<=(R=X)?0:R,X=e<=(X=R+1)?0:X,g=e<=(g=X+1)?0:g,e,L)){var x,G,o=L[R],l=L[X],V=L[g];for(B.push([Q[o],Q[l],Q[V]]),Z.push([L[R],L[X],L[g]]),G=(x=X)+1;G<e;x++,G++)L[x]=L[G];u=2*--e}}return Y?Z:B},Y.Triangulate.area=gf,r._typeface_js={faces:KL.faces,loadFace:KL.loadFace},function(){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]]}),Y=WL.prototype={constructor:WL,computeFaceNormals:function(){for(var Q=new F3,Y=new F3,n=0,R=this.faces.length;n<R;n++){var g=this.faces[n],B=this.vertices[g.a],L=this.vertices[g.b],Z=this.vertices[g.c];Q.subVectors(Z,L),Y.subVectors(B,L),Q.cross(Y),Q.normalize(),g.normal.copy(Q)}},computeVertexNormals:function(Q){for(var Y,n=new Array(this.vertices.length),R=0,g=this.vertices.length;R<g;R++)n[R]=new F3;if(Q)for(var B,L,Z,e=new F3,u=new F3,X=0,x=this.faces.length;X<x;X++)Y=this.faces[X],B=this.vertices[Y.a],L=this.vertices[Y.b],Z=this.vertices[Y.c],e.subVectors(Z,L),u.subVectors(B,L),e.cross(u),n[Y.a].add(e),n[Y.b].add(e),n[Y.c].add(e);else for(X=0,x=this.faces.length;X<x;X++)n[(Y=this.faces[X]).a].add(Y.normal),n[Y.b].add(Y.normal),n[Y.c].add(Y.normal);for(R=0,g=this.vertices.length;R<g;R++)n[R].normalize();for(X=0,x=this.faces.length;X<x;X++)(Y=this.faces[X]).vertexNormals[0]=n[Y.a].clone(),Y.vertexNormals[1]=n[Y.b].clone(),Y.vertexNormals[2]=n[Y.c].clone()},mergeVertices:function(){for(var Q,Y,n,R,g={},B=[],L=[],Z=O3(10,4),e=0,u=this.vertices.length;e<u;e++)Q=this.vertices[e],g[Q=i3(Q.x*Z)+"_"+i3(Q.y*Z)+"_"+i3(Q.z*Z)]===l3?(g[Q]=e,B.push(this.vertices[e]),L[e]=B.length-1):L[e]=L[g[Q]];for(var X=[],e=0,u=this.faces.length;e<u;e++){(Y=this.faces[e]).a=L[Y.a],Y.b=L[Y.b],Y.c=L[Y.c];for(var x=[Y.a,Y.b,Y.c],G=0;G<3;G++)if(x[G]==x[(G+1)%3]){X.push(e);break}}for(e=X.length-1;0<=e;e--){var o=X[e];for(this.faces.splice(o,1),n=0,R=this.faceVertexUvs.length;n<R;n++)this.faceVertexUvs[n].splice(o,1)}var l=this.vertices.length-B.length;return this.vertices=B,l}},cL=function(Q,Y,n,R,g,B,L){this.aX=Q,this.aY=Y,this.xRadius=n,this.yRadius=R,this.aStartAngle=g,this.aEndAngle=B,this.aClockwise=L},SL=(cL.prototype=mn(Ms),cL.prototype.getPoint=function(Q){(Y=this.aEndAngle-this.aStartAngle)<0&&(Y+=o3),o3<Y&&(Y-=o3),Q=!0===this.aClockwise?this.aEndAngle+(1-Q)*(o3-Y):this.aStartAngle+Q*Y;var Y=this.aX+this.xRadius*p3(Q),Q=this.aY+this.yRadius*G3(Q);return new q(Y,Q)},function(Q,Y){this.v1=Q,this.v2=Y}),yL=((n=SL.prototype=mn(Ms)).getPoint=function(Q){var Y=this.v2.clone().sub(this.v1);return Y.multiplyScalar(Q).add(this.v1),Y},n.getPointAt=function(Q){return this.getPoint(Q)},n.getTangent=function(Q){return this.v2.clone().sub(this.v1).normalize()},function(Q,Y,n){this.v0=Q,this.v1=Y,this.v2=n}),DL=(yL.prototype=mn(Ms),yL.prototype.getPoint=function(Q){var Y=dL.b2(Q,this.v0.x,this.v1.x,this.v2.x),Q=dL.b2(Q,this.v0.y,this.v1.y,this.v2.y);return new q(Y,Q)},function(Q,Y,n,R){this.v0=Q,this.v1=Y,this.v2=n,this.v3=R}),fL=(DL.prototype=mn(Ms),DL.prototype.getPoint=function(Q){var Y=dL.b3(Q,this.v0.x,this.v1.x,this.v2.x,this.v3.x),Q=dL.b3(Q,this.v0.y,this.v1.y,this.v2.y,this.v3.y);return new q(Y,Q)},jL.create(function(Q,Y){this.v1=Q,this.v2=Y},function(Q){var Y=new F3;return Y.subVectors(this.v2,this.v1),Y.multiplyScalar(Q),Y.add(this.v1),Y}),jL.create(function(Q,Y,n){this.v0=Q,this.v1=Y,this.v2=n},function(Q){var Y=dL.b2(Q,this.v0.x,this.v1.x,this.v2.x),n=dL.b2(Q,this.v0.y,this.v1.y,this.v2.y),Q=dL.b2(Q,this.v0.z,this.v1.z,this.v2.z);return new F3(Y,n,Q)})),Qs=jL.create(function(Q,Y,n,R){this.v0=Q,this.v1=Y,this.v2=n,this.v3=R},function(Q){var Y=dL.b3(Q,this.v0.x,this.v1.x,this.v2.x,this.v3.x),n=dL.b3(Q,this.v0.y,this.v1.y,this.v2.y,this.v3.y),Q=dL.b3(Q,this.v0.z,this.v1.z,this.v2.z,this.v3.z);return new F3(Y,n,Q)}),Ys=function(Q,C,w,Y,n,R,g,B){WL.call(this),Y=Y!==l3?Y:.5,n=n!==l3?n:.5,Q=Q||8,R=R||0,g=g||o3;for(var L=(B=B!==l3?B:1)/2,Z=[],e=[],u=this.vertices,X=this.faces,x=this.faceVertexUvs,G=0;G<=1;G++){for(var o=[],l=[],V=+G,z=V*(n-Y)+Y,p=0;p<=Q;p++){var $=p/Q,M=new F3,F=-($*g+R);M.z=z*G3(F),M.y=-V*B+L,M.x=z*p3(F),u.push(M),o.push(u.length-1),l.push(new q($,V))}Z.push(o),e.push(l)}for(var v,a,J=(n-Y)/B,p=0;p<Q;p++)for(a=0!==Y?(v=u[Z[0][p]].clone(),u[Z[0][p+1]].clone()):(v=u[Z[1][p]].clone(),u[Z[1][p+1]].clone()),v.setY(_3(v.x*v.x+v.z*v.z)*J).normalize(),a.setY(_3(a.x*a.x+a.z*a.z)*J).normalize(),G=0;G<1;G++){var I=Z[G][p],A=Z[G+1][p],P=Z[G+1][p+1],i=Z[G][p+1],T=v.clone(),E=v.clone(),_=a.clone(),b=a.clone(),k=e[G][p].clone(),O=e[G+1][p].clone(),j=e[G+1][p+1].clone(),r=e[G][p+1].clone();X.push(new UL(I,A,i,[T,E,b])),x[0].push([k,O,r]),X.push(new UL(A,P,i,[E.clone(),_,b.clone()])),x[0].push([O.clone(),j,r.clone()])}if(C&&0<Y)for(this.vertices.push(new F3(0,L,0)),p=0;p<Q;p++){I=Z[0][p],A=Z[0][p+1],P=this.vertices.length-1,T=new F3(0,1,0),E=new F3(0,1,0),_=new F3(0,1,0),k=e[0][p].clone(),O=e[0][p+1].clone(),j=new q(O.x,0),X.push(new UL(I,A,P,[T,E,_],0,1));var H=p3(N=p/Q*o3),s=G3(N),h=p3(U=(p+1)/Q*o3),t=G3(U);x[0].push([new q(.5+.5*H,.5+.5*s),new q(.5+.5*h,.5+.5*t),new q(.5,.5)])}if(w&&0<n)for(this.vertices.push(new F3(0,-L,0)),p=0;p<Q;p++){I=Z[G][p+1],A=Z[G][p],P=u.length-1,T=new F3(0,-1,0),E=new F3(0,-1,0),_=new F3(0,-1,0),k=e[G][p+1].clone(),O=e[G][p].clone(),X.push(new UL(I,A,P,[T,E,_],0,2));var N,U,H=p3(N=p/Q*o3),s=G3(N),h=p3(U=(p+1)/Q*o3),t=G3(U);x[0].push([new q(.5+.5*h,.5-.5*t),new q(.5+.5*H,.5-.5*s),new q(.5,.5)])}},ns=(Ys.prototype=mn(Y),function(Q,Y,n,R,g,B,L){WL.call(this),L=L||.5,Q=Q||16,Y=Y||16,n=(n!==l3?n:0)-b,R=R!==l3?R:o3,g=g!==l3?g:0,B=B!==l3?B:b;for(var Z=[],e=[],u=this.vertices,X=this.faces,x=this.faceVertexUvs,G=0;G<=Y;G++){for(var o=[],l=[],V=0;V<=Q;V++){var z=V/Q,p=G/Y,$=new F3;$.x=-L*p3(n+z*R)*G3(g+p*B),$.y=L*p3(g+p*B),$.z=L*G3(n+z*R)*G3(g+p*B),u.push($),o.push(u.length-1),l.push(new q(z,p))}Z.push(o),e.push(l)}for(G=0;G<Y;G++)for(V=0;V<Q;V++){var M=Z[G][V+1],F=Z[G][V],v=Z[G+1][V],a=Z[G+1][V+1],J=u[M].clone().normalize(),I=u[F].clone().normalize(),A=u[v].clone().normalize(),P=u[a].clone().normalize(),i=e[G][V+1].clone(),T=e[G][V].clone(),E=e[G+1][V].clone(),_=e[G+1][V+1].clone();b3(u[M].y)===L?(i.x=(i.x+T.x)/2,X.push(new UL(M,v,a,[J,A,P])),x[0].push([i,E,_])):b3(u[v].y)===L?(E.x=(E.x+_.x)/2,X.push(new UL(M,F,v,[J,I,A])),x[0].push([i,T,E])):(X.push(new UL(M,F,a,[J,I,P])),x[0].push([i,T,_]),X.push(new UL(F,v,a,[I.clone(),A,P.clone()])),x[0].push([T.clone(),E,_.clone()]))}}),Rs=(ns.prototype=mn(Y),function(Q,Y,n,R,g,B){WL.call(this),Q=Q||.33,Y=Y||.17,R=R||8,n=n||6,g=g||0,B=B||o3;for(var L=new F3,Z=[],e=[],u=0;u<=R;u++)for(var X=u/R*o3+b,x=0;x<=n;x++){var G=x/n*B+g,o=(L.x=Q*p3(G),L.z=-Q*G3(G),new F3),l=Q+Y*p3(X);o.x=l*p3(G),o.z=-l*G3(G),o.y=Y*G3(X),this.vertices.push(o),Z.push(new q(x/n,1-u/R)),e.push(o.clone().sub(L).normalize())}for(u=1;u<=R;u++)for(x=1;x<=n;x++){var V=(n+1)*u+x-1,z=(n+1)*(u-1)+x-1,p=(n+1)*(u-1)+x,$=(n+1)*u+x,M=new UL(V,z,$,[e[V].clone(),e[z].clone(),e[$].clone()]);this.faces.push(M),this.faceVertexUvs[0].push([Z[V].clone(),Z[z].clone(),Z[$].clone()]),M=new UL(z,p,$,[e[z].clone(),e[p].clone(),e[$].clone()]),this.faces.push(M),this.faceVertexUvs[0].push([Z[z].clone(),Z[p].clone(),Z[$].clone()])}this.computeFaceNormals()}),gs=(Rs.prototype=mn(Y),function(Q,Y,n){Q&&(WL.call(this),Q=Q instanceof Array?Q:[Q],this.addShapeList(Q,Y),!1!==Y.convertYZ&&EL(this,n),this.computeFaceNormals())}),Bs=((n=gs.prototype=mn(WL.prototype)).addShapeList=function(Q,Y){for(var n=Q.length,R=0;R<n;R++){var g=Q[R];this.addShape(g,Y)}},n.addShape=function(z,p){var Q,Y,n,R,g,B,L=p.amount,Z=p.curveSegments||bg,$=p.steps||1,e=p.extrudePath,u=!1,M=new NL(p.repeatUVLength,p.boundingBox),F=(e&&(Q=e.getSpacedPoints($),u=!0,Y=p.frames!==l3?p.frames:new Bs.FrenetFrames(e,$,!1),n=new F3,R=new F3,g=new F3),this),v=this.vertices.length,X=(e=z.extractPoints(Z)).shape,x=e.holes;if(!dL.isClockWise(X))for(X=X.reverse(),o=0,l=x.length;o<l;o++)B=x[o],dL.isClockWise(B)&&(x[o]=B.reverse());for(var G=dL.triangulateShape(X,x),Z=X,o=0,l=x.length;o<l;o++)B=x[o],X=X.concat(B);for(var V,a,J,I=X.length,A=G.length,P=0;P<I;P++)V=X[P],u?(R.copy(Y.normals[0]).multiplyScalar(V.x),n.copy(Y.binormals[0]).multiplyScalar(V.y),g.copy(Q[0]).add(R).add(n),_(g.x,g.y,g.z)):_(V.x,V.y,0);for(J=1;J<=$;J++)for(P=0;P<I;P++)V=X[P],u?(R.copy(Y.normals[J]).multiplyScalar(V.x),n.copy(Y.binormals[J]).multiplyScalar(V.y),g.copy(Q[J]).add(R).add(n),_(g.x,g.y,g.z)):_(V.x,V.y,L/$*J);if(p.bottom)for(var i=0;i<A;i++)b((a=G[i])[2],a[1],a[0],!0);if(p.top)for(i=0;i<A;i++)b((a=G[i])[0]+I*$,a[1]+I*$,a[2]+I*$,!1);var T=0;for(E(Z,T),T+=Z.length,o=0,l=x.length;o<l;o++)E(B=x[o],T),T+=B.length;function E(Q,Y){for(var n,R,g=Q.length;0<=--g;){(R=(n=g)-1)<0&&(R=Q.length-1);for(var B=0,L=$,B=0;B<L;B++){var Z=I*B,e=I*(B+1),u=(x=void 0,Y+n+Z),Z=Y+R+Z,X=Y+R+e,e=Y+n+e,x=Q,G=B,o=L,l=n,V=R;u+=v,Z+=v,X+=v,e+=v,F.faces.push(new UL(u,Z,e)),F.faces.push(new UL(Z,X,e)),x=M.generateSideWallUV(F,z,x,p,u,Z,X,e,G,o,l,V),F.faceVertexUvs[0].push([x[0],x[1],x[3]]),F.faceVertexUvs[0].push([x[1],x[2],x[3]])}}}function _(Q,Y,n){F.vertices.push(new F3(Q,Y,n))}function b(Q,Y,n,R){F.faces.push(new UL(Q+=v,Y+=v,n+=v,null,0,R?2:1)),R=R?M.generateBottomUV(F,z,p,Q,Y,n):M.generateTopUV(F,z,p,Q,Y,n),F.faceVertexUvs[0].push(R)}},function(Q,Y,n,R,g){WL.call(this),n=n||1,R=R||8,g=g||!1;var B,L,Z,e,u,X,x,G,o,l,V,z,p,$,M,F,v=[],a=(Y=Y||64)+1,J=new F3,I=new Bs.FrenetFrames(Q,Y,g),A=I.tangents,P=I.normals,i=I.binormals;for(this.tangents=A,this.normals=P,this.binormals=i,e=0;e<a;e++)for(v[e]=[],Z=Q.getPointAt(e/(a-1)),A[e],B=P[e],L=i[e],u=0;u<R;u++)$=-n*p3(M=u/R*o3),M=n*G3(M),J.copy(Z),J.x+=$*B.x+M*L.x,J.y+=$*B.y+M*L.y,J.z+=$*B.z+M*L.z,v[e][u]=($=J.x,M=J.y,F=J.z,this.vertices.push(new F3($,M,F))-1);for(e=0;e<Y;e++)for(u=0;u<R;u++)X=v[e][u],x=v[o=g?(e+1)%Y:e+1][u],G=v[o][o=(u+1)%R],o=v[e][o],l=new q(e/Y,u/R),V=new q((e+1)/Y,u/R),z=new q((e+1)/Y,(u+1)/R),p=new q(e/Y,(u+1)/R),this.faces.push(new UL(X,x,o)),this.faceVertexUvs[0].push([l,V,p]),this.faces.push(new UL(x,G,o)),this.faceVertexUvs[0].push([V.clone(),z,p.clone()]);this.computeFaceNormals(),this.computeVertexNormals()}),Ls=(Bs.prototype=mn(Y),Bs.FrenetFrames=function(Q,Y,n){var R,g,B,L,Z,e=new F3,u=[],X=[],x=[],G=new F3,o=new v3,l=Y+1;for(this.tangents=u,this.normals=X,this.binormals=x,Z=0;Z<l;Z++)u[Z]=Q.getTangentAt(Z/(l-1)),u[Z].normalize();for(X[0]=new F3,x[0]=new F3,Y=Number.MAX_VALUE,g=b3(u[0].x),B=b3(u[0].y),L=b3(u[0].z),g<=Y&&(Y=g,e.set(1,0,0)),B<=Y&&(Y=B,e.set(0,1,0)),L<=Y&&e.set(0,0,1),G.crossVectors(u[0],e).normalize(),X[0].crossVectors(u[0],G),x[0].crossVectors(u[0],X[0]),Z=1;Z<l;Z++)X[Z]=X[Z-1].clone(),x[Z]=x[Z-1].clone(),G.crossVectors(u[Z-1],u[Z]),1e-4<G.length()&&(G.normalize(),R=k3(On(u[Z-1].dot(u[Z]),-1,1)),X[Z].applyMatrix4(o.makeRotationAxis(G,R))),x[Z].crossVectors(u[Z],X[Z]);if(n)for(R=k3(On(X[0].dot(X[l-1]),-1,1)),R/=l-1,0<u[0].dot(G.crossVectors(X[0],X[l-1]))&&(R=-R),Z=1;Z<l;Z++)X[Z].applyMatrix4(o.makeRotationAxis(u[Z],R*Z)),x[Z].crossVectors(u[Z],X[Z])},function(Q,Y,n,R){WL.call(this),n=n||0,R=R==V3?o3:R;for(var g=1/(Q.length-1),B=1/(Y=Y||18),L=0,Z=Y;L<=Z;L++)for(var e=n+L*B*R,u=p3(e),X=G3(e),x=0,G=Q.length;x<G;x++){var o=Q[x],l=new F3;l.x=u*o.x-X*o.y,l.y=X*o.x+u*o.y,l.z=o.z,this.vertices.push(l)}for(var V=Q.length,L=0,Z=Y;L<Z;L++)for(x=0,G=Q.length-1;x<G;x++){var z=x+V*L,p=z+V,u=z+1+V,$=z+1,M=L*B,F=x*g,v=M+B,a=F+g;this.faces.push(new UL(z,$,p)),this.faceVertexUvs[0].push([new q(M,F),new q(M,a),new q(v,F)]),this.faces.push(new UL(p,$,u)),this.faceVertexUvs[0].push([new q(v,F),new q(M,a),new q(v,a)])}this.mergeVertices(),EL(this),this.computeFaceNormals(),this.computeVertexNormals()}),Zs=(Ls.prototype=mn(Y),function(Q,Y){Q=KL.generateShapes(Q,Y=Y||{}),Y.amount=Y.amount!==l3?Y.amount:.5,(Y.convertYZ=!1)!==Y.fill&&(Y.bottom=!0,Y.top=!0),gs.call(this,Q,Y)}),es=(Zs.prototype=mn(n),K.Node=function(){En(es,this);var n=this._styleMap={};this.getStyle=function(Q){var Y=n[Q];return Y!==l3?Y:J3[Q]},this.setStyleMap=function(Q){var Y=n;n=this._styleMap=Q||{},this.fp("styleMap",Y,n)}}),us={X:yg,Y:Dg,Z:fg},Xs={X:0,Y:1,Z:2},xs={xyz:"XYZ",xzy:"XZY",yxz:"YXZ",yzx:"YZX",zxy:"ZXY",zyx:"ZYX"},Gs=new Z2,os="xzy",ls=function(Q,Y,n){var R,g;Y&&(R=Y[0],g=Y[1],Y=Y[2],"xzy"===n?(Dg(Q,g),fg(Q,Y),yg(Q,R)):"xyz"===n?(fg(Q,Y),Dg(Q,g),yg(Q,R)):"yxz"===n?(fg(Q,Y),yg(Q,R),Dg(Q,g)):"yzx"===n?(yg(Q,R),fg(Q,Y),Dg(Q,g)):"zxy"===n?(Dg(Q,g),yg(Q,R),fg(Q,Y)):"zyx"===n?(yg(Q,R),Dg(Q,g),fg(Q,Y)):(Dg(Q,g),fg(Q,Y),yg(Q,R)))},Vs=(qB("Node",sQ,{ms_ac:["rotationMode","anchorElevation"],ms_edge:!0,_adjustChildrenToTop:!0,_icon:"node_icon",_image:"node_image",_rotationMode:os,_64O:0,_rotationX:0,_53O:0,_host:V3,_position:{x:0,y:0},_anchor:{x:.5,y:.5},_anchorElevation:.5,_scale:{x:1,y:1},_scaleTall:1,_54O:0,getUIClass:function(){return ms},get3dUIClass:function(){return B$},getX:function(){return this.p().x},setX:function(Q){this.p(Q,this.p().y)},getY:function(){return this.p().y},setY:function(Q){this.p(this.p().x,Q)},getAnchorX:function(){return this.getAnchor().x},setAnchorX:function(Q){this.setAnchor(Q,this.getAnchor().y)},getAnchorY:function(){return this.getAnchor().y},setAnchorY:function(Q){this.setAnchor(this.getAnchor().x,Q)},getScaleX:function(){return this.getScale().x},setScaleX:function(Q){this.setScale(Q,this.getScale().y)},getScaleY:function(){return this.getScale().y},setScaleY:function(Q){this.setScale(this.getScale().x,Q)},p:function(){return 0===arguments.length?this.getPosition():(this.setPosition.apply(this,arguments),this)},p3:function(){return 0===arguments.length?this.getPosition3d():(this.setPosition3d.apply(this,arguments),this)},s3:function(){return 0===arguments.length?this.getSize3d():(this.setSize3d.apply(this,arguments),this)},r3:function(){return 0===arguments.length?this.getRotation3d():(this.setRotation3d.apply(this,arguments),this)},setQuaternion:function(Q){return Q=(new p2).setFromQuaternion(Q,p2.ReverseOrder(this.getRotationMode())),this._applyClosestR3(Q.x,Q.y,Q.z)},getQuaternion:(A6=new p2,P6=new p2,i6=new Z2,function(Q){return Q=Q||new Z2,this.getEuler(A6),A6.equals(P6)?Q.copy(i6):Q.copy(i6.setFromEuler(P6.copy(A6)))}),getEuler:function(Q){var Y=this.r3();return(Q=Q||new p2).set(Y[0],Y[1],Y[2],p2.ReverseOrder(this.getRotationMode()))},setEuler:function(Q){return Q=Q.clone().reorder(p2.ReverseOrder(this.getRotationMode())),this.r3(Q.x,Q.y,Q.z)},t3:function(){return this.translate3d.apply(this,arguments),this},translate3dBy:function(Q,Y){Kg(Q,YQ(V3,V3,this.r3(),this.getRotationMode())),this.translate3d(Q[0]*Y,Q[1]*Y,Q[2]*Y)},translateFront:function(Q){this.translate3dBy([0,0,1],Q)},translateBack:function(Q){this.translate3dBy([0,0,-1],Q)},translateLeft:function(Q){this.translate3dBy([-1,0,0],Q)},translateRight:function(Q){this.translate3dBy([1,0,0],Q)},translateTop:function(Q){this.translate3dBy([0,1,0],Q)},translateBottom:function(Q){this.translate3dBy([0,-1,0],Q)},getPosition3d:function(){return[this._position.x,this._54O,this._position.y]},setPosition3d:function(Q,Y,n){1===arguments.length&&(Y=Q[1],n=Q[2],Q=Q[0]),this.p(Q,n),this.setElevation(Y)},translate3d:function(Q,Y,n){1===arguments.length&&(Y=Q[1],n=Q[2],Q=Q[0]),this.translate(Q,n),this.setElevation(this._54O+Y)},getSize3d:function(){return[this.getWidth(),this.getTall(),this.getHeight()]},setSize3d:function(Q,Y,n){1===arguments.length&&(Y=Q[1],n=Q[2],Q=Q[0]),this.setSize(Q,n),this.setTall(Y)},getRotation3d:function(){return[this._rotationX,-this._64O,this._53O]},setRotation3d:function(Q,Y,n){var R,g=this;g._updatingRotation3d||((g._updatingRotation3d=1)===arguments.length&&(Y=Q[1],n=Q[2],Q=Q[0]),R=[g._rotationX,-g._64O,g._53O],g._rotationX=Q,g._64O=-Y,g._53O=n,g.fp("rotation3d",R,[Q,Y,n]),delete g._updatingRotation3d)},_applyClosestR3:(I6=new p2,function(Q,Y,n){I6.set(Q,Y,n,p2.ReverseOrder(this.getRotationMode())).nearestRotation(this.r3()),this.r3(I6.x,I6.y,I6.z)}),setRotationY:function(Q){this.setRotation(-Q)},getRotationY:function(){return-this._64O},lookAtDirection:function(Q,Y){Y=Y||RR;var n=this,R=zg(Q);Y===RR?(n.r3([-N3(Q[1]/R),-w3(Q[2],Q[0])+U3,0]),n.setRotationMode("xzy")):Y===LR?(n.r3(0,-w3(Q[2],Q[0]),N3(Q[1]/R)),n.setRotationMode("zyx")):Y===BR?(n.r3(0,-w3(Q[2],Q[0])+b,-N3(Q[1]/R)),n.setRotationMode("zyx")):Y===ZR?(n.r3([-N3(Q[1]/R)+U3,-w3(Q[2],Q[0])+U3,0]),n.setRotationMode("xzy")):Y===eR&&(n.r3([-N3(Q[1]/R)-U3,-w3(Q[2],Q[0])+U3,0]),n.setRotationMode("xzy")),Y===gR&&(n.r3([-N3(Q[1]/R)+b,-w3(Q[2],Q[0])+U3,b]),n.setRotationMode("zxy"))},lookAt:function(Q,Y){return this.lookAtDirection(Hg(Q,this.p3()),Y)},lookAtX:($6=new F3,M6=new F3,F6=new F3,v6=new v3,a6=new v3,J6=new p2,function(Q,Y){var n=QQ(this);v6.fromArray(n),F6.copy(this.p3()),$6.copy(Q).sub(F6),$6.lengthSq()<1e-6||($6.normalize(),"string"==typeof(Y=Y||RR)?Y===RR?M6.set(0,0,1):Y===gR?M6.set(0,0,-1):Y===BR?M6.set(-1,0,0):Y===LR?M6.set(1,0,0):Y===ZR?M6.set(0,1,0):Y===eR&&M6.set(0,-1,0):M6.copy(Y).normalize(),M6.applyMatrix4(v6).sub(F6).normalize(),(n=Math.acos($6.dot(M6)))&&((Q=$6.clone().cross(M6)).lengthSq()<1e-6&&(Y===ZR||Y===eR||0===Y[0]&&0===Y[1]?Q.set(0,0,1):Q.set(0,1,0)).applyMatrix4(v6).sub(F6),Q.normalize(),J6.set(this.r3(),this.getRotationMode(),!0),v6.makeRotationFromEuler(J6),a6.makeRotationAxis(Q,-n),J6.setFromRotationMatrix(a6.multiply(v6)),this._applyClosestR3(J6.x,J6.y,J6.z)))}),getHost:function(){return this._host},setHost:function(Q){var Y,n=this;n!==Q&&n._host!==Q&&((Y=n._host)&&(Y._removeAttach(n),Y.updateLayoutAttaches()),n._host=Q,n._host&&(n._host._addAttach(n),n._host.updateLayoutAttaches()),n.fp("host",Y,Q),n.onHostChanged(Y,Q))},getAttaches:function(){return this._69O},_addAttach:function(Q){this._69O||(this._69O=new W),this._69O.add(Q),this.fp("attaches",V3,Q)},_removeAttach:function(Q){this._69O.remove(Q),this._69O.isEmpty()&&delete this._69O,this.fp("attaches",Q,V3)},getImage:function(){return this._pendingCheckImageJSON&&z3.getImage(this._image)&&(this._pendingCheckImageJSON=!1,this.getParent()instanceof As&&this.getParent().checkPendingUpdateInfo()),this._image},setImage:function(Q){var Y=this._image,n=this.getWidth(),R=this.getHeight();this._image=Q,this.fp("image",Y,Q)&&(null!=Q&&(on(Q)||$3(Q)&&/\.json$/i.test(Q))&&(this._pendingCheckImageJSON=!0),Id||(this.fp(iR,n,this.getWidth()),this.fp(TR,R,this.getHeight())))},getCurrentDrawingImage:function(){return this._drawingImage||this.getImage()},setCurrentDrawingImage:function(Q){this._drawingImage=Q},getElevation:function(){return this._54O},setElevation:function(Q){var Y;this._50O||(this._50O=1,Y=this._54O,this._54O=Q,this.fp(PV,Y,Q),delete this._50O)},getRotation:function(){return this._64O},setRotation:function(Q){var Y;this._49O||(this._49O=1,Y=this._64O,this._64O=Q,this.fp(yR,Y,Q),delete this._49O)},getRotationX:function(){return this._rotationX},setRotationX:function(Q){var Y;this._51O||(this._51O=1,Y=this._rotationX,this._rotationX=Q,this.fp("rotationX",Y,Q),delete this._51O)},getRotationZ:function(){return this._53O},setRotationZ:function(Q){var Y;this._52O||(this._52O=1,Y=this._53O,this._53O=Q,this.fp("rotationZ",Y,Q),delete this._52O)},getPosition:function(){return this._position},setPosition:function(Q,Y){this._50I||(this._50I=1,(Y=2===arguments.length?{x:Q,y:Y}:Q).x===this._position.x&&Y.y===this._position.y||(Q=this._position,this._position=Y,this.fp(AV,Q,Y)),delete this._50I)},translate:function(Q,Y){var n=this._position;this.p(n.x+Q,n.y+Y)},hasInheritedSize:function(){var Q=this.getStyle("shape3d");if(Q){var Y=fS(Q);if(Y&&Y.rawS3)return!0;if(("billboard"===Q||"plane"===Q)&&t(this.getStyle("shape3d.image")))return!0}return!(!this.hasOwnProperty("_image")||!t(this._image))},getWidth:function(){if(0<=this._width)return this._width;var Q=this.getStyle("shape3d");if(Q){var Y,n=fS(Q);if(n&&n.rawS3)return n.rawS3[0];if("billboard"===Q||"plane"===Q)return(Y=t(this.getStyle("shape3d.image")))?vQ(Y,this):20}return(Y=t(this._image))?vQ(Y,this):20},setWidth:function(Q){var Y=this._width;this._width=Q,this.fp(iR,Y,Q)},getHeight:function(){if(0<=this._height)return this._height;var Q=this.getStyle("shape3d");if(Q){var Y,n=fS(Q);if(n&&n.rawS3)return n.rawS3[2];if("plane"===Q)return(Y=t(this.getStyle("shape3d.image")))?aQ(Y,this):20;if("billboard"===Q)return 2}return(Y=t(this._image))?aQ(Y,this):20},setHeight:function(Q){var Y=this._height;this._height=Q,this.fp(TR,Y,Q)},getTall:function(){if(0<=this._tall)return this._tall;var Q=this.getStyle("shape3d");if(Q){var Y=fS(Q);if(Y&&Y.rawS3)return Y.rawS3[1];if("billboard"===Q)return(Y=t(this.getStyle("shape3d.image")))?aQ(Y,this):20;if("plane"===Q)return 2}return 20},setTall:function(Q){var Y=this._tall;this._tall=Q,this.fp("tall",Y,Q)},setSize:function(Q,Y){2===arguments.length?(this.setWidth(Q),this.setHeight(Y)):(this.setWidth(Q.width),this.setHeight(Q.height))},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},setRect:function(Q,Y,n,R,g){var B=this.getAnchor(),L=this.getScale(),Z=(arguments.length<=2&&(g=Y,Y=Q.y,n=Q.width,R=Q.height,Q=Q.x),g&&L.x<0?1-B.x:B.x),B=g&&L.y<0?1-B.y:B.y;this.p(Q+n*Z,Y+R*B),g&&(n/=Math.abs(L.x),R/=Math.abs(L.y)),this.setWidth(n),this.setHeight(R)},getMatrix:function(){var Q=this._64O,Y=this._position,n=this.getScale();return new L2(Q,Y.x,Y.y,n.x,n.y)},getMatrix4:(V6=new F3,z6=new Z2,p6=new F3,function(Q){return this.getQuaternion(z6),V6.copy(this.p3()),p6.copy(this.getFinalScale3d()),(Q=Q||new v3).compose(V6,z6,p6)}),getAnchorRect:function(){var Q=this.getWidth(),Y=this.getHeight(),n=this.getAnchor();return{x:-Q*n.x,y:-Y*n.y,width:Q,height:Y}},toLocal:function(Q){return this.getMatrix().tfi(Q)},toGlobal:function(Q){return this.getMatrix().tf(Q)},getAttachPosition:(l6=new L2,function(Q,Y,n,R){n=n||0,R=R||0;var g=this.getAnchor(),B=this._64O,L=this._position,Z=this.getScale();return l6.setFromTransform(B,L.x,L.y).tf({x:n+Z.x*this.getWidth()*(Q-g.x),y:R+Z.y*this.getHeight()*(Y-g.y)})}),isInRect:function(Q){Q=this.toLocal(Q);var Y=this.getWidth(),n=this.getHeight();return Q.x+=Y*this.getAnchorX(),Q.y+=n*this.getAnchorY(),!(Q.x<0||Q.y<0||Q.x>Y||Q.y>n)},getRect:function(){var Q=this.getWidth(),Y=this.getHeight(),n={x:-Q*(n=this.getAnchor()).x,y:-Y*n.y,width:Q,height:Y},Q=this.getMatrix();return pg([Q.tf(n.x,n.y),Q.tf(n.x+n.width,n.y),Q.tf(n.x+n.width,n.y+n.height),Q.tf(n.x,n.y+n.height)])},getAnchorElevation:function(){return this._anchorElevation},getAnchor3d:function(){var Q=this.getAnchor(),Y=this._anchorElevation;return{x:Q.x,y:Y,z:Q.y}},setAnchorElevation:function(Q){var Y=this._anchorElevation;return Y!==Q&&(this._anchorElevation=Q,this.fp("anchorElevation",Y,Q),!0)},setAnchor3d:function(Q,Y,n,R){"number"==typeof Q?g={x:Q,y:Y,z:n}:(g=Q.length?{x:Q[0],y:Q[1],z:Q[2]}:Q,R=Y),this.beginTransaction();var g,n=this.getAnchor3d(),Q=this.setAnchor(g.x,g.z);return(Q=!!this.setAnchorElevation(g.y)||Q)&&R&&!Id&&(this.getAnchor3d(),Y=QQ(this),R=Kg([g.x-n.x,g.y-n.y,g.z-n.z],Y),this.p3(R)),this.endTransaction(),Q},getAnchor:function(){if(this.hasOwnProperty("_anchor"))return this._anchor;var Q=t(this._image);return Q&&Q.anchorX!==l3?{x:Q.anchorX,y:Q.anchorY}:this._anchor},setAnchor:function(Q,Y,n){var R,g,B,L,Z=this;return"number"==typeof Q?L={x:Q,y:Y}:(L=Q.length?{x:Q[0],y:Q[1]}:Q,n=Y),((Q=Z.getAnchor()).x!==L.x||Q.y!==L.y)&&(Z.beginTransaction(),Z._anchor=L,Z.fp("anchor",Q,L),n&&!Id&&(Y=Z.getPosition(),n=Z.getSize(),R=Z.getRotation(),g=Z.getScale(),B=-n.width*(Q.x-L.x)*g.x,n=-n.height*(Q.y-L.y)*g.y,Q=G3(R),L=p3(R),Z.setPosition(Y.x+L*B-Q*n,Y.y+Q*B+L*n)),Z.endTransaction(),!0)},getLocalQuaternion:function(Q){if(!(Y=this.getHost()))return this.getQuaternion(Q);var Y=Y.getQuaternion(),n=this.getQuaternion();return(Q=Q||new Z2).copy(Y).inverse().multiply(n)},setLocalQuaternion:function(Q){var Y=this.getHost();if(!Y)return this.setQuaternion(Q);Y=Y.getQuaternion(),this.setQuaternion(Y.clone().multiply(Q))},getLocalEuler:(o6=new Z2,function(Q){if(!this.getHost())return this.getEuler(Q);this.getLocalQuaternion(o6),Q=Q||new p2;var Y=this._lastLocalEuler;return Q.setFromQuaternion(o6,p2.ReverseOrder(this.getRotationMode())),Y?(Q.nearestRotation(Y),Q.toArray(Y)):this._lastLocalEuler=Q.toArray(),Q}),setLocalEuler:(G6=new Z2,function(Q){var Y=this.getHost(),n=this._lastLocalEuler;return n?Q.toArray(n):this._lastLocalEuler=Q.toArray(),Y?(G6.setFromEuler(Q),this.setLocalQuaternion(G6)):this.setEuler(Q)}),getLocalPosition3d:function(Q){(Q=Q||new F3).copy(this.p3());var Y=this.getHost();return Y?(Y=Y.getMatrix4(),Q.applyMatrix4(Y.getInverse(Y))):Q},setLocalPosition3d:function(Q){var Y,n=this.getHost();n?(n=n.getMatrix4(),(Y=new F3(Q)).applyMatrix4(n),this.p3(Y.x,Y.y,Y.z)):Q.x!==l3?this.p3(Q.x,Q.y,Q.z):this.p3(Q)},getScale:function(){return this._scale},setScale:function(Q,Y){Y=2===arguments.length?{x:Q,y:Y}:Q,(Q=this.getScale()).x===Y.x&&Q.y===Y.y||(this._scale=Y,this.fp("scale",Q,Y))},getScaleTall:function(){return this._scaleTall},getScale3d:function(){var Q=this._scaleTall,Y=this.getScale();return[Y.x,Q,Y.y]},getFinalScale3d:function(){var Q=this.s3(),Y=this._dynamicScale3d,n=this.getScale3d();return Q&&(n[0]*=Q[0],n[1]*=Q[1],n[2]*=Q[2]),Y&&(n[0]*=Y[0],n[1]*=Y[1],n[2]*=Y[2]),n},getFinalRotation3d:function(){return this._dynamicRotation||this.r3()},setScaleTall:function(Q){var Y=this._scaleTall;Y!==Q&&(this._scaleTall=Q,this.fp("scaleTall",Y,Q))},setScale3d:function(Q,Y,n){Y="number"==typeof Q?{x:Q,y:Y,z:n}:Q.length?{x:Q[0],y:Q[1],z:Q[2]}:Q,this.setScaleTall(Y.y),this.setScale(Y.x,Y.z)},getCorners:function(Q,Y){Q==V3&&(Q=0),Y==V3&&(Y=Q);var n=this.getAnchor(),R=this.getWidth(),g=this.getHeight(),B=-R*n.x-Q,n=-g*n.y-Y,R=R+2*Q,Q=g+2*Y;return[(g=this.getMatrix()).tf(B,n),g.tf(B,n+Q),g.tf(B+R,n+Q),g.tf(B+R,n)]},getEditControlPoints:function(Q,Y,n){Y==V3&&(Y=0),n==V3&&(n=Y);var R=this.getAnchor(),g=this.getWidth(),B=this.getHeight(),L=-g*R.x-Y,R=-B*R.y-n,g=g+2*Y,Y=B+2*n;return Q?[{x:L,y:R},{x:L,y:0},{x:L,y:R+Y},{x:0,y:R+Y},{x:L+g,y:R+Y},{x:L+g,y:0},{x:L+g,y:R},{x:0,y:R}]:[(B=this.getMatrix()).tf(L,R),B.tf(L,0),B.tf(L,R+Y),B.tf(0,R+Y),B.tf(L+g,R+Y),B.tf(L+g,0),B.tf(L+g,R),B.tf(0,R)]},rotateAt:function(Q,Y,n){var R=this._position,g=this._64O,B=new L2(g,R.x,R.y).tf(Q,Y),Q=_3(Q*Q+Y*Y),Y=w3(R.y-B.y,R.x-B.x)+n;this.setRotation(g+n),this.p(B.x+Q*p3(Y),B.y+Q*G3(Y))},rotateAroundAxis:function(Q,Y){this.setQuaternion(this.getQuaternion().multiply(Gs.setFromAxisAngle(Q,Y)))},rotateAroundWorldAxis:function(Q,Y){this.setQuaternion(this.getQuaternion().premultiply(Gs.setFromAxisAngle(Q,Y)))},rotateX:function(Q){return this.rotateAroundAxis(F3.AxisX,Q)},rotateY:function(Q){return this.rotateAroundAxis(F3.AxisY,Q)},rotateZ:function(Q){return this.rotateAroundAxis(F3.AxisZ,Q)},onParentChanged:function(Q,Y){es.superClass.onParentChanged.apply(this,arguments),this._8I();var n=this._host;n&&n.updateLayoutAttaches()},onPropertyChanged:(x6={},"width|height|position|anchor|rotation|scale|s:layout.h|s:layout.v".split("|").forEach(function(Q){x6[Q]=!0}),function(Y){var Q=this,n=(es.superClass.onPropertyChanged.call(Q,Y),Y.property),R=(x6[n]&&!Q._layoutUpdating&&Q.updateLayoutParameters(null,n),Q._69O&&Q._69O.each(function(Q){Q.handleHostPropertyChange(Y)}),Q._49I&&Q._49I.each(function(Q){Q.fp("agentChange",!0,!1)}),DQ[n]&&this.updateLayoutAttaches(),Q._host);R&&0<=["s:2d.visible"].indexOf(n)&&R.updateLayoutAttaches(),"a:layout"===n.substring(0,8)&&(this.updateLayoutAttaches(),(R=Q._host)&&R.updateLayoutAttaches()),"s:shape3d.autorotate"!==n&&"s:autorotate"!==n&&"s:shape3d.fixSizeOnScreen"!==n&&"s:fixSizeOnScreen"!==n&&"s:hide.overlapping.group"!==n||(Q._47Q=Q.s("autorotate")||Q.s("shape3d.autorotate")||Q.s("fixSizeOnScreen")||Q.s("shape3d.fixSizeOnScreen")||Q.s("hide.overlapping.group"))}),onHostChanged:function(Q,Y){this.updateAttach(),this.updateLayoutParameters()},handleHostPropertyChange:function(Q){this.updateAttach(Q)},onStyleChanged:(J3["transparent.syncToMaterials"]=!0,X6={},"shape3d|all|top|bottom|left|right|front|back".split("|").forEach(function(Q){X6[Q+".opacity"]=!0,X6[Q+".transparent"]=!0}),function(Q,Y,n){var R;es.superClass.onStyleChanged.apply(this,arguments),QL[Q]&&this.updateAttach(),!Id&&X6[Q]&&this.s("transparent.syncToMaterials")&&(0<Q.indexOf("opacity")?"shape3d.opacity"===Q?this.getMaterials().forEach(function(Q){Q.opacity=n}):(R=Q.replace("opacity","material"),this.setMaterial(R,"opacity",n)):0<Q.indexOf("transparent")&&("shape3d.transparent"===Q?this.getMaterials().forEach(function(Q){Q.transparent=n}):(R=Q.replace("transparent","material"),this.setMaterial(R,"transparent",n))))}),updateLayoutAttaches:function(){var Q;if(!Id&&this.s("vector.layoutable"))return!!((Q=t(this.getImage()))&&Q.layoutAttach&&(Q=Q.layoutAttach)&&Q(this))||void 0},updateAttach:function(Q){Id?this.updateLayoutParameters():this._51I||(this._51I=1,this._71O(Q),delete this._51I)},_71O:function(Q){var Y,n,R,g,B,L,Z=this,e=Z._host,u=Q?Q.property:V3,X=Q?Q.oldValue:V3,x=Q?Q.newValue:V3;if(e instanceof es&&(!Q||DQ[u])){var G=t(e.getImage());if(G&&G.layoutAttach)return}e instanceof K.Grid?u===PV?Z.setElevation(Z._54O+x-X):Q&&!fQ[u]||(G=Z.s("attach.row.index"),g=Z.s("attach.column.index"),(n=e.getCellRect(G,g))&&(R=Z.s("attach.row.span"),Y=Z.s("attach.column.span"),1===R&&1===Y||(n=$g(n,e.getCellRect(G+R-1,g+Y-1))),RL(n,Z,"attach.padding",1),Z.setRect(n))):e instanceof vs&&0<=(G=Z.s("attach.index"))&&(!Q||YL[u])?(R=Z.s("attach.thickness"),g=e.getScale(),Y=Math.max(g.x,g.y),0<R&&Z.setHeight(e.getThickness()*R*Y),n=Z.s("attach.offset"),G<(R=(g=e.getPoints()).size())&&(B=e.getPointsMatrix2d(),L=g.get(G),R=R===G+1?g.get(0):g.get(G+1),L=B.apply(L),g=[(R=B.apply(R)).x-L.x,R.y-L.y],(G=zg(g))&&(Z.s("attach.offset.relative")&&(n*=G),Z.s("attach.offset.opposite")&&(n=G-n),B={x:L.x+g[0]/G*n,y:L.y+g[1]/G*n},(L=Z.s("attach.gap"))&&(Z.s("attach.gap.relative")&&(L*=e.getThickness()*Y),B=MC(V3,B,R,L)),Z.p(B),Z.setRotation(w3(g[1],g[0]))))):Q&&(u===AV?Z.translate(x.x-X.x,x.y-X.y):u===PV?Z.setElevation(Z._54O+x-X):yQ[u]?"rotation3d"===u?Z.syncRotation3d(e,x,X):Z._11Q(e,u,x-X):"anchor"!==u&&"width"!==u&&"height"!==u&&"scale"!==u||Z.layout(e))},_11Q:(L6=new K.Math.Euler,Z6=K.Math.Euler.ReverseOrder,e6=new K.Math.Vector2,u6=new K.Math.Vector2,function(Q,Y,n){var R=Q.p3(),g=Q.r3(),B=this.p3(),L=this.r3();if(Y===yR&&(Y="rotationY",n=-n),(Y===yR||"rotationY"===Y)&&0===L[0]&&0===L[2]&&0===g[0]&&0===g[2]&&0===B[1]&&0===R[1])return this.setRotation(-L[1]-n),e6.set(B[0],B[2]).rotateAround(u6.set(R[0],R[2]),-n),void this.p(e6.x,e6.y);var Q=(L=xs[Q.getRotationMode()])[0],Z=L[1],L=L[2],e=us[Q],u=us[Z],X=us[L],x=tg(),Q=(Y===yR+Q?(X(x,g[Xs[L]]),u(x,g[Xs[Z]]),e(x,n),u(x,-g[Xs[Z]]),X(x,-g[Xs[L]])):Y===yR+Z?(X(x,g[Xs[L]]),u(x,n),X(x,-g[Xs[L]])):Y===yR+L&&X(x,n),Hg(B,R)),e=(Kg(Q,x),this.p3(R[0]+Q[0],R[1]+Q[1],R[2]+Q[2]),this.getRotationMode());ls(x,this.r3(),e),L6.setFromRotationMatrix(x,Z6(e)),this.r3([L6.x,L6.y,L6.z])}),syncRotation3d:(R6=new Z2,g6=new p2,B6=new F3,function(Q,Y,n){var R;n[0]===Y[0]&&n[1]===Y[1]&&n[2]===Y[2]||(R=p2.ReverseOrder(Q.getRotationMode()),Gs.setFromEuler(g6.set(n[0],n[1],n[2],R)),R6.setFromEuler(g6.set(Y[0],Y[1],Y[2],R)),R6.multiply(Gs.inverse()),n=Q.p3(),Y=this.p3(),B6.set(Y[0]-n[0],Y[1]-n[1],Y[2]-n[2]).applyQuaternion(R6),this.p3(n[0]+B6.x,n[1]+B6.y,n[2]+B6.z),this.setQuaternion(this.getQuaternion(Gs).premultiply(R6)))}),isHostOn:function(Q){if(this._host&&Q&&Q._69O)for(var Y={},n=this._host;n&&n!==this&&!Y[n._id];){if(n===Q)return!0;n=(Y[n._id]=n)._host}return!1},isLoopedHostOn:function(Q){return this.isHostOn(Q)&&Q.isHostOn(this)},getScaledSize:function(){var Q=this.getSize(),Y=this.getScale();return Q.width*=Math.abs(Y.x),Q.height*=Math.abs(Y.y),Q},invalidateView:function(){var Q=this.dm();Q&&Q.firePropertyChange("invalidateView",!1,!0)},layout:function(Q){if(Q=Q||this.getHost()){var Y=this,n=Y.s("layout.h")||"center",R=Y.s("layout.v")||"center";if("center"!==n||"center"!==R){var g,B,L,Z,e,u,X=new K.Math.Vector2,x=Q.getPosition(),G=Q.getAnchor(),o=Q.getScaledSize(),l=(Y.getPosition(),1),V=1;switch(Y._layoutUpdating=!0,n){case"left":X.setX(Y._layoutHValue-G.x*o.width);break;case"right":X.setX((1-G.x)*o.width-Y._layoutHValue);break;case"leftright":g=o.width-Y._layoutHValue[2],L=Y.getRotation()-Q.getRotation(),Z=Math.abs(Math.sin(L)),l+=(e=Math.abs(Math.cos(L)))*g/Y._layoutHValue[3],V+=Z*g/Y._layoutHValue[4],X.setX(Y._layoutHValue[1]+(Y._layoutHValue[5]-G.x)*o.width);break;case"center":X.setX((.5-G.x)*o.width-Y._layoutHValue);break;case"scale":L=Y.getRotation()-Q.getRotation(),Z=Math.abs(Math.sin(L)),e=Math.abs(Math.cos(L)),X.setX((.5-G.x)*o.width-Y._layoutHValue[1]*o.width/Y._layoutHValue[0]),l+=e*(B=o.width/Y._layoutHValue[2]-1),V+=Z*B}switch(R){case"top":X.setY(Y._layoutVValue-G.y*o.height);break;case"bottom":X.setY((1-G.y)*o.height-Y._layoutVValue);break;case"topbottom":L||(L=Y.getRotation()-Q.getRotation(),Z=Math.abs(Math.sin(L)),e=Math.abs(Math.cos(L))),l+=Z*(g=o.height-Y._layoutVValue[2])/Y._layoutVValue[3],V+=e*g/Y._layoutVValue[4],X.setY(Y._layoutVValue[1]+(Y._layoutVValue[5]-G.y)*o.height);break;case"center":X.setY((.5-G.y)*o.height-Y._layoutVValue);break;case"scale":L||(L=Y.getRotation()-Q.getRotation(),Z=Math.abs(Math.sin(L)),e=Math.abs(Math.cos(L))),X.setY((.5-G.y)*o.height-Y._layoutVValue[1]*o.height/Y._layoutVValue[0]),l+=Z*(B=o.height/Y._layoutVValue[2]-1),V+=e*B}"leftright"!==n&&"scale"!==n&&"topbottom"!==R&&"scale"!==R||(R=this.getScale(),u=Math.abs(R.x),R=Math.abs(R.y),"leftright"===n||"scale"===n?Y.setSize(Y._layoutHValue[3]*l/u,Y._layoutHValue[4]*V/R):Y.setSize(Y._layoutVValue[3]*l/u,Y._layoutVValue[4]*V/R)),X.rotateAround(null,Q.getRotation()),this.setPosition(X.x+x.x,X.y+x.y),Y._layoutUpdating=l3}}},updateLayoutParameters:function(Q,Y){if(Q=Q||this.getHost()){var n=this,R=n.s("layout.h"),g=n.s("layout.v");if(R||g){var B,L,Z,e,u,X,x=new K.Math.Vector2,G=Q.getPosition(),o=Q.getAnchor(),l=Q.getScaledSize(),V=n.getPosition(),z=n.getScaledSize();switch(x.set(V.x-G.x,V.y-G.y),x.rotateAround(null,-Q.getRotation()),R){case"left":n._layoutHValue=x.x+o.x*l.width;break;case"right":n._layoutHValue=-x.x+(1-o.x)*l.width;break;case"center":n._layoutHValue=-x.x+(.5-o.x)*l.width;break;case"leftright":case"scale":B="scale"===R?-x.x+(.5-o.x)*l.width:(L=n.getAnchor(),Z=n.getRotation()-Q.getRotation(),e=Math.cos(Z),u=Math.sin(Z),X=-Math.min(-L.x*e+L.y*u,-L.x*e-(1-L.y)*u,(1-L.x)*e+L.y*u,(1-L.x)*e-(1-L.y)*u),x.x-(X-o.x)*l.width),"position"===Y&&"object"==typeof n._layoutHValue?(n._layoutHValue[0]=l.width,n._layoutHValue[1]=B):n._layoutHValue=[l.width,B,l.width,z.width,z.height,X]}switch(g){case"top":n._layoutVValue=x.y+o.y*l.height;break;case"bottom":n._layoutVValue=-x.y+(1-o.y)*l.height;break;case"center":n._layoutVValue=-x.y+(.5-o.y)*l.height;break;case"topbottom":case"scale":B="scale"===g?-x.y+(.5-o.y)*l.height:(Z||(L=n.getAnchor(),Z=n.getRotation()-Q.getRotation(),e=Math.cos(Z),u=Math.sin(Z)),X=-Math.min(-L.x*u-L.y*e,-L.x*u+(1-L.y)*e,(1-L.x)*u-L.y*e,(1-L.x)*u+(1-L.y)*e),x.y-(X-o.y)*l.height),"position"===Y&&"object"==typeof n._layoutVValue?(n._layoutVValue[0]=l.height,n._layoutVValue[1]=B):n._layoutVValue=[l.height,B,l.height,z.width,z.height,X]}}}},getSerializableProperties:function(){var Q=es.superClass.getSerializableProperties.call(this);return In(Q,{image:1,host:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,position:1,anchor:1,anchorElevation:1,scale:1,scaleTall:1,_width:1,_height:1,_tall:1,elevation:1}),Q}}),K.Edge=function(Q,Y){En(Vs,this),this.setSource(Q),this.setTarget(Y),this._geometryVersion=0}),zs=(qB("Edge",sQ,{ms_edge:!0,_icon:"edge_icon",getUIClass:function(){return qs},get3dUIClass:function(){return Z$},getSource:function(){return this._source},getTarget:function(){return this._target},getSourceAgent:function(){return this._40I},getTargetAgent:function(){return this._41I},canSetSourceTarget:function(Q,Y){if(Q===this)return!1;if(C(Q))return!0;for(var n,R,g,B,L=[this],Z=-1,e=0;Z<e;)if(n=L[++Z]._44I)for(g=0,B=(n=n.getArray()).length;g<B;g++)if(R=n[g],zn(R)&&!(0<=L.indexOf(R))){if(R===Q)return!1;L.push(R),e++}return!0},setSource:function(Q){var Y;this._source!==Q&&this.canSetSourceTarget(Q)&&(Y=this._source,this._source=Q,Y&&Y._16I(this),Q&&Q._2I(this),this._7I(),this.fp("source",Y,Q))},setTarget:function(Q){var Y;this._target!==Q&&this.canSetSourceTarget(Q)&&(Y=this._target,this._target=Q,Y&&Y._18I(this),Q&&Q._4I(this),this._7I(),this.fp("target",Y,Q))},isLooped:function(){return this._source===this._target&&C(this._source)&&C(this._target)},onPropertyChanged:(T6={},["source","target","sourceAgent","targetAgent","edgeGroup","agentChange","s:edge.width","s:edge.type","s:edge.offset","s:edge.center","s:edge.points","s:edge.segments","s:edge.gap","s:edge.source.t3","s:edge.source.position","s:edge.source.anchor.x","s:edge.source.anchor.y","s:edge.source.anchor.elevation","s:edge.source.offset.x","s:edge.source.offset.y","s:edge.source.offset.elevation","s:edge.source.index","s:edge.source.percent","s:edge.target.t3","s:edge.target.position","s:edge.target.anchor.x","s:edge.target.anchor.y","s:edge.target.anchor.elevation","s:edge.target.offset.x","s:edge.target.offset.y","s:edge.target.offset.elevation","s:edge.target.index","s:edge.target.percent","s:edge.color","s:edge.gradient.color","s:edge.pattern","s:edge.dash","s:edge.dash.color","s:edge.dash.pattern","s:edge.dash.offset","s:repeat.uv.length","s:rotate.uv.length","s:rotate.vs.length","s:body.color","s:shape3d","s:shape3d.visible","s:shape3d.image","s:shape3d.smooth","s:shape3d.resolution","s:shape3d.color","s:shape3d.blend","s:shape3d.side","s:shape3d.start.angle","s:shape3d.sweep.angle","s:shape3d.top.cap","s:shape3d.top.image","s:shape3d.top.visible","s:shape3d.top.color","s:shape3d.bottom.cap","s:shape3d.bottom.image","s:shape3d.bottom.visible","s:shape3d.bottom.color","s:shape3d.uv.union","s:shape3d.section","s:shape3d.section.angle","s:shape3d.section.twist","s:shape3d.polyline.depth","s:shape3d.polyline.offset","s:shape3d.polyline.radiusScale","s:shape3d.polyline.scaleOffset","s:shape3d.polyline.scaleMap"].forEach(function(Q){T6[Q]=!0}),function(Q){var Y;T6[Q.property]&&(this._geometryVersion++,Y=!0),Y&&this._49I&&this._49I.each(function(Q){Q.fp("agentChange",!0,!1)}),"s:alwaysOnTop"!==Q.property&&"s:shape3d.alwaysOnTop"!==Q.property||(Q.newValue?this.setRenderLayer("top"):this.setRenderLayer(l3))}),_7I:function(){var Q,Y=this,n=function(Q){if(Q.isLooped())return Q._source;var Y=BL(Q._source),n=BL(Q._target);return Y===n?Q._source:LL(Y,n)}(Y),n=(Y._40I!==n&&((Q=this._40I)&&Q._15I(Y),(Y._40I=n)&&n._1I(Y),Y.fp("sourceAgent",Q,n),uL(Q,Y._41I),uL(n,Y._41I)),function(Q){if(Q.isLooped())return Q._target;var Y=BL(Q._source),n=BL(Q._target);return Y===n?Q._target:LL(n,Y)}(Y));Y._41I!==n&&((Q=Y._41I)&&Q._17I(Y),(Y._41I=n)&&n._3I(Y),Y.fp("targetAgent",Q,n),uL(Q,Y._40I),uL(n,Y._40I))},_22I:function(Q){this._52I=Q,this.fp("edgeGroup",!0,!1)},getEdgeGroup:function(){return this._52I},isEdgeGroupHidden:function(){return this._52I&&this._52I.get(0)!==this&&!this.getStyle(WR)},getEdgeGroupSize:function(){return this._52I?this._52I.size():1},getEdgeGroupIndex:function(){return this._52I?this._52I.indexOf(this):0},isEdgeGroupAgent:function(){var Q=this._52I;return Q&&!this.getStyle(WR)&&1<Q.size()&&this===Q.get(0)},toggle:function(){this.beginTransaction();var Q=this._52I,Y=!this.s(WR);Q&&1<Q.size()&&(Q.each(function(Q){Q.s(WR,Y)}),Q.getSiblings().each(function(Y){Y!==Q&&Y.each(function(Q){Q.fp("edgeGroup",V3,Y)})})),this.endTransaction()},setStyle:function(Q,Y){var n;Q!==cR&&"edge.segments"!==Q||(Y=M3(n=Y)?new W(n):n),Vs.superClass.setStyle.call(this,Q,Y)},onStyleChanged:function(Q,Y,n){Vs.superClass.onStyleChanged.apply(this,arguments),SQ[Q]&&uL(this._41I,this._40I)},getSerializableProperties:function(){var Q=Vs.superClass.getSerializableProperties.call(this);return In(Q,{source:1,target:1}),Q}}),K.Group=function(){En(zs,this)}),ps=(qB("Group",es,{_image:"group_image",_icon:"group_icon",_57O:!1,getUIClass:function(){return Ks},onChildAdded:function(Q,Y){zs.superClass.onChildAdded.apply(this,arguments),this._81I()},onChildRemoved:function(Q,Y){zs.superClass.onChildRemoved.apply(this,arguments),this._81I()},_81I:function(){var Q;this._54I||Id||(Q=this.getChildrenRect())&&(this._53I=1,this.p(_B(this.s("group.position"),Q,this.getSize())),delete this._53I)},getChildrenRect:function(){var Y,n=this;return n.eachChild(function(Q){C(Q)&&(Y=$g(Y,n.getChildRect(Q)))}),Y},getChildRect:function(Y){var n;return C(Y)&&Y.s(ER)&&(pn(Y)&&Y.isExpanded()&&Y.eachChild(function(Q){n=$g(n,Y.getChildRect(Q))}),!n&&Y.getRect&&(n=Y.getRect())),n},setPosition:function(Q,Y){this._54I||(Y=2===arguments.length?{x:Q,y:Y}:Q,Id||this._53I||(this._54I=1,PB(this._children,Y.x-this._position.x,Y.y-this._position.y),delete this._54I),zs.superClass.setPosition.call(this,Y))},toggle:function(){this.setExpanded(!this.isExpanded())},isExpanded:function(){return this._57O},setExpanded:function(Q){var Y;this._57O!==Q&&(Y=this._57O,this._57O=Q,this.fp("expanded",Y,this._57O),this._fireInvalidateDeep(),this._8I())},_fireInvalidateDeep:function(){this.eachChild(function(Q){pn(Q)?Q._fireInvalidateDeep():Q.iv()})},_8I:function(){zs.superClass._8I.call(this),this.eachChild(function(Q){C(Q)&&Q._8I()})},onStyleChanged:function(Q,Y,n){zs.superClass.onStyleChanged.apply(this,arguments),"group.position"===Q&&this._81I()},getSerializableProperties:function(){var Q=zs.superClass.getSerializableProperties.call(this);return Q.expanded=1,Q}}),K.Camera=function(){En(ps,this),this.s({"shadow.cast":!1,"shadow.receive":!1,shape3d:"billboard"}),this._viewMatrix=new y.Matrix4,this._projectMatrix=new y.Matrix4,this.setScale3d(1,1,-1),this.setCullingMask("main,top"),this._projectMatrixDirty=!0}),$s=(ps.CubeDirectionParam=[1,0,0,0,-1,0,-1,0,0,0,-1,0,0,1,0,0,0,1,0,-1,0,0,0,-1,0,0,1,0,-1,0,0,0,-1,0,-1,0],qB("Camera",es,{get3dUIClass:function(){return B$},attachRenderTarget:function(Q){this._projectMatrixDirty=!0,this.renderTarget=Q},detachRenderTarget:function(){this._projectMatrixDirty=!0,this.renderTarget=null},getCullingMask:function(){return this._cullingLayers.join(",")},setCullingMask:function(Q){Q=Q.split(","),this._cullingLayers=Q,this._cullingMask=OQ(Q,null,!0),this.gv&&(this._currentCullingMask=OQ(Q,this.gv.getRenderLayerInfoMap(),!0))},isLayerVisible:function(Q){var Y,Q=this.gv?(Y=this.gv.getRenderLayerInfo(Q),this._currentCullingMask):(Y=EQ[Q],this._cullingMask);return Y&&NQ(Q,Y.mask)},isOrtho:function(){return"ortho"===this.s("camera.type")&&!this.isCube()},isCube:function(){return this.renderTarget&&this.renderTarget.isCube()},isPerspective:function(){return!this.isOrtho()},setViewMatrix:(O6=new K.Math.Matrix4,N6=new K.Math.Euler,function(Q){Q.isMatrix4?this._viewMatrix.copy(Q):this._viewMatrix.fromArray(Q),O6.getInverse(this._viewMatrix),this.p3(O6.getPosition().toArray()),N6.set(0,0,0,this.getRotationMode(),!0).setFromRotationMatrix(O6),this.r3([N6.x,N6.y,N6.z])}),getViewMatrix:function(Q){var Y=YQ(null,null,this.r3(),this.getRotationMode(),this.p3()),n=this._viewMatrix;return n.fromArray(Y).getInverse(n),n.toArray(Q)},setProjectMatrix:function(Q){Q.isMatrix4?this._projectMatrix.copy(Q):this._projectMatrix.fromArray(Q),Q=this._projectMatrix.getElements(),this.isOrtho()?this.s({"camera.near":(Q[14]+1)/Q[10],"camera.far":(Q[14]-1)/Q[10],"camera.ortho.width":2/Q[0]}):this.s({"camera.near":Q[14]/(Q[10]-1),"camera.far":Q[14]/(Q[10]+1),"camera.fovy":2*Math.atan(1/Q[5]),"camera.aspect":Q[5]/Q[0]}),this._projectMatrixDirty=!1},onPropertyChanged:function(Q){ps.superClass.onPropertyChanged.call(this,Q),"s:camera.near"!==(Q=Q.property)&&"s:camera.far"!==Q&&"s:camera.fovy"!==Q&&"s:camera.aspect"!==Q&&"s:camera.ortho.width"!==Q&&"s:camera.type"!==Q||(this._projectMatrixDirty=!0)},getAspect:function(){if((Q=this.s("camera.aspect"))!==l3)return Q;var Q=this.gv,Y=this.getRenderTargetSize(Q);return Y&&0!==Y[1]?Y[0]/Y[1]:Q?Q.getAspect():z3.graph3dViewAspect},getProjectMatrix:function(){var Q,Y,n,R,g,B,L,Z=this;return Z._projectMatrixDirty&&(Q=Z.gv,n=(Y=Z.isCube())?1:Z.getAspect(),R=Z.s("camera.near"),g=Z.s("camera.far"),R===l3&&(R=(Q?Q.getNear():null)||z3.graph3dViewNear),g===l3&&(g=(Q?Q.getFar():null)||z3.graph3dViewFar),B=tg(),Z.isOrtho()?(L=(Z.s("camera.ortho.width")||(Q?Q.getOrthoWidth():null)||z3.graph3dViewOrthoWidth)/2,PC(B,-L,L,-(L/=n),L,R,g)):(L=Y?Math.PI/2:Z.s("camera.fovy")||(Q?Q.getFovy():null)||z3.graph3dViewFovy,AC(B,L,n,R,g)),Z._projectMatrix.fromArray(B),Z._projectMatrixDirty=!1),Z._projectMatrix.toArray()},lookAt:function(Q,Y){var n=this.p3();return Q.x?this.lookAtDirection([Q.x-n[0],Q.y-n[1],Q.z-n[2]],Y):this.lookAtDirection([Q[0]-n[0],Q[1]-n[1],Q[2]-n[2]],Y)},lookAtDirection:(E6=new K.Math.Matrix4,_6=new K.Math.Euler,b6=new K.Math.Vector3,k6=new K.Math.Vector3,function(Q,Y){E6.lookAtDirection(b6.copy(Q).multiplyScalar(-1),Y?k6.copy(Y):k6.set(0,1,0)),_6.set(0,0,0,this.getRotationMode(),!0).setFromRotationMatrix(E6),this.r3([_6.x,_6.y,_6.z])}),updateAndRender:function(Q){return Q.syncRenderState(),Q.updateScene(),this.render(Q)},getRenderTargetSize:function(Q){var Y=this.renderTarget;return Y?[Y.width,Y.height]:Q?(Y=Q.getDevicePixelRatio(),[Q.getWidth()*Y,Q.getHeight()*Y]):[0,0]},getRenderTargetWidth:function(Q){return this.getRenderTargetSize(Q)[0]},getRenderTargetHeight:function(Q){return this.getRenderTargetSize(Q)[1]},getEye:function(){return this.p3()},getCenter:function(){var Q=new F3,Y=this.getEuler();return Q.set(0,0,-1).applyEuler(Y),this.gv&&(Y=new F3(this.gv.getEye()),Y=new F3(this.gv.getCenter()).sub(Y).length(),Q.setLength(Y)),[(Y=this.p3())[0]+Q.x,Y[1]+Q.y,Y[2]+Q.z]},getUp:function(){var Q=new F3,Y=this.getEuler(),Y=(Q.set(0,0,-1).applyEuler(Y),(new F3).set(0,1,0).applyEuler(Y)),n=(new F3).set(0,1,0);return(Math.abs(Q.cross(Y).dot(n))<1e-5?n:Y).toArray()},render:function(Q){var Y=this,n=Q.getGL();if(!n)return!1;this._currentCullingMask=OQ(this._cullingLayers,Q.getRenderLayerInfoMap(),!0);var R=Y.renderTarget,g=Y.getRenderTargetSize(Q),B=((Y.gv=Q)._camera=Y,Q._frameState.renderState.glState.color.clear.slice(0)),L=(sC(n,Y.s("camera.background")),Q.getEye);if(Q.getEye=function(){return Y.p3()},Q.syncRenderState(),Y.isCube())for(var Z=ps.CubeDirectionParam,e=0;e<6;e++)R&&R.bind(n,e),Q._18Q=null,Y.lookAtDirection([Z[6*e+0],Z[6*e+1],Z[6*e+2]],[Z[6*e+3],Z[6*e+4],Z[6*e+5]]),!1!==Y.s("camera.clear")&&n.clear(16384),Q.setViewport(n,0,0,g[0],g[1]),Y.s("camera.onlySky")?Q.renderSky():Q.renderScene({renderAxis:Y.s("camera.renderAxis"),renderGrid:Y.s("camera.renderGrid"),renderEdit:Y.s("camera.renderEdit"),renderShadowMap:Y.s("camera.renderShadowMap"),renderReflector:!1}),Q._18Q=null,R&&R.unbind(n);else R&&R.bind(n),Q._18Q=null,!1!==Y.s("camera.clear")&&n.clear(16384),Q.overlappingBox.clear(),Q.setViewport(n,0,0,g[0],g[1]),Y.s("camera.onlySky")?Q.renderSky():Q.renderScene({renderAxis:Y.s("camera.renderAxis"),renderGrid:Y.s("camera.renderGrid"),renderEdit:Y.s("camera.renderEdit"),renderShadowMap:Y.s("camera.renderShadowMap")}),Q._18Q=null,R&&R.unbind(n);return Q.getEye=L,sC(n,B),Q._camera=null,!(Y.gv=null)},getSerializableProperties:function(){var Q=ps.superClass.getSerializableProperties.call(this);return In(Q,{cullingMask:1}),Q}}),K.Block=function(){En($s,this),this.s({"shadow.cast":!1,"shadow.receive":!1})}),Ms=(qB("Block",es,{_icon:"block_icon",_clickThroughEnabled:!1,_syncSize:!0,_scaleMode:"2d",ms_ac:["clickThroughEnabled","syncSize","scaleMode"],getUIClass:function(){return Ws},get3dUIClass:function(){return L$},onChildAdded:function(Q,Y){$s.superClass.onChildAdded.apply(this,arguments),this.updateFromChildren()},onChildRemoved:function(Q,Y){$s.superClass.onChildRemoved.apply(this,arguments),this.updateFromChildren()},_getBoundingBox:(s6=new v3,function(Q,Y){if(!(Q=Q instanceof es?[Q]:Q)||0===Q.length)return V3;var Y=[],n=(function(Q,R){var g=(new v3).makeRotationFromEuler(this.getEuler()).setPosition((new F3).fromArray(this.p3()));g.getInverse(g),Q.forEach(function(Q){var Y,n;C(Q)&&(Y=R,n=g,s6.fromArray(QQ(Q)),Q=Q.getAnchor3d(),Y.push((new F3).set(0-Q.x,0-Q.y,0-Q.z).applyMatrix4(s6).applyMatrix4(n)),Y.push((new F3).set(0-Q.x,0-Q.y,1-Q.z).applyMatrix4(s6).applyMatrix4(n)),Y.push((new F3).set(0-Q.x,1-Q.y,0-Q.z).applyMatrix4(s6).applyMatrix4(n)),Y.push((new F3).set(0-Q.x,1-Q.y,1-Q.z).applyMatrix4(s6).applyMatrix4(n)),Y.push((new F3).set(1-Q.x,0-Q.y,0-Q.z).applyMatrix4(s6).applyMatrix4(n)),Y.push((new F3).set(1-Q.x,0-Q.y,1-Q.z).applyMatrix4(s6).applyMatrix4(n)),Y.push((new F3).set(1-Q.x,1-Q.y,0-Q.z).applyMatrix4(s6).applyMatrix4(n)),Y.push((new F3).set(1-Q.x,1-Q.y,1-Q.z).applyMatrix4(s6).applyMatrix4(n)))})}.call(this,Q,Y),[1/0,1/0,1/0]),R=[-1/0,-1/0,-1/0];return Y.forEach(function(Q){n[0]=Math.min(Q.x,n[0]),n[1]=Math.min(Q.y,n[1]),n[2]=Math.min(Q.z,n[2]),R[0]=Math.max(Q.x,R[0]),R[1]=Math.max(Q.y,R[1]),R[2]=Math.max(Q.z,R[2])}),{min:n,max:R}}),updateFromChildren:function(){var Q,Y,n,R,g,B,L,Z,e;Id||this._updatingToChildren||!this._syncSize||0===this.size()||this._freezeSyncFromChildren||(n=this._getBoundingBox(this.toChildren(C)))&&(this._updatingFromChildren=1,Q=(new F3).fromArray(this.getScale3d()),Y=(new F3).fromArray(n.min),n=(new F3).fromArray(n.max),L=z3.blockMinSize,e=new F3,0===(n=n.clone().sub(Y)).x&&e.setX(.5),0===n.y&&e.setY(.5),0===n.z&&e.setZ(.5),R=this._width==V3||-1===this._width,g=new F3(this.getAnchor3d()),B=Q.clone().multiply((new F3).fromArray(this.s3())),0===(Z=n.clone()).x&&Z.setX(L),0===Z.y&&Z.setY(L),0===Z.z&&Z.setZ(L),B=(L=g.clone().multiply(B)).clone().multiplyScalar(-1).sub(Y).divide(Z).add(L.divide(Z)).add(e),L=this.s("keepPosition"),R||this._anchorChanged||this._scaleChanged||!L?(Z=(g=!R&&L?B:g).clone().multiply(n).add(Y).applyEuler(this.getEuler()).add((new F3).fromArray(this.p3())),this.p3([Z.x,Z.y,Z.z])):this.setAnchor3d(B.x,B.y,B.z),Q.x=Q.x||1,Q.y=Q.y||1,Q.z=Q.z||1,e=new F3(1,1,1).divide(Q).multiply(n),this.s3(Math.abs(e.x),Math.abs(e.y),Math.abs(e.z)),delete this._updatingFromChildren)},setPosition:function(Q,Y){this._updatingToChildren||(Y=2===arguments.length?{x:Q,y:Y}:Q,Id||this._updatingFromChildren||(this._updatingToChildren=1,Q=this.toChildren(function(Q){return C(Q)&&!Q.getHost()}),PB(Q,Y.x-this._position.x,Y.y-this._position.y),delete this._updatingToChildren),$s.superClass.setPosition.call(this,Y))},setSize3d:function(){this.beginTransaction(),$s.superClass.setSize3d.apply(this,arguments),this.endTransaction()},setTall:function(Q){var Y;this._updatingToChildren||(this.beginTransaction(),(Q=n3(Q,z3.blockMinSize))!==(Y=this.getTall())&&$s.superClass.setTall.call(this,Q),Id||this._updatingFromChildren||(this._updatingToChildren=1,this._adjustChildTallOrScale(Q/Y,"size"),delete this._updatingToChildren,this.updateFromChildren()),this.endTransaction())},setWidth:function(Q){return this.setSize(Q,this.getHeight())},setHeight:function(Q){return this.setSize(this.getWidth(),Q)},setSize:function(Q,Y){var n,R,g=z3.blockMinSize;Q=n3(Q,g),Y=n3(Y,g),(g=this)._updatingToChildren||(2!==arguments.length&&(Y=Q.height,Q=Q.width),this.beginTransaction(),n=g.getWidth(),R=g.getHeight(),Q!==n&&$s.superClass.setWidth.call(g,Q),Y!==R&&$s.superClass.setHeight.call(g,Y),Id||g._updatingFromChildren||(g._updatingToChildren=1,g._adjustChildScaleOrSize(Q/n,Y/R,"size"),delete g._updatingToChildren,g.updateFromChildren()),this.endTransaction())},_adjustChildScaleOrSize:function(u,X,x){var G,o;this._syncSize&&(G=this.getPosition(),o=this.getRotation(),this.eachChild(function(Q){var Y,n,R,g,B,L,Z,e;C(Q)&&!Q.getHost()&&(g=Q.getPosition(),e=Q.getRotation(),Y=Q.getWidth(),n=Q.getHeight(),L=(R=Q.getScale()).x*Y,Z=R.y*n,0!=L&&0!=Z&&(u*X<0&&Q.setRotation(-1*e),(g=new L2(e,g.x,g.y,L,Z)).translate(-G.x,-G.y),g.rotate(-o),e=w3(g.b*Math.sign(L),g.a*Math.sign(L)),g.scale(u,X),Z=p3(e),e=Math.abs(Z)<.001?(L=G3(e),B=g.b/L,-g.c/L):(B=g.a/Z,g.d/Z),"scale"===x?Q.setScale(B/Y,e/n):"size"===x&&(L=B/R.x,Z=e/R.y,Q.setScale(Nn(B)*Math.abs(R.x),Nn(e)*Math.abs(R.y)),Q instanceof K.Shape?(Q.setWidthForce(Math.max(Math.abs(L),1e-5)),Q.setHeightForce(Math.max(Math.abs(Z),1e-5))):Q.setSize(Math.max(.01,Math.abs(L)),Math.max(.01,Math.abs(Z)))),g.rotate(o),g.translate(G.x,G.y),Q.setPosition(g.tx,g.ty)))}))},_calcChangeFactor:function(Q,Y,n,R){var Q=b3(Q),g=(n=b3(n))<Q?Q/n:n/Q;return Q=b3(Y),n=b3(R),n3(g,n<Q?Q/n:n/Q)},setElevation:function(Q){var Y;this._updatingToChildren||0!=(Q-=this.getElevation())&&(Id||this._updatingFromChildren||(this._updatingToChildren=1,Y=this.toChildren(function(Q){return C(Q)&&!Q.getHost()}),PB(Y,0,Q,0),delete this._updatingToChildren),$s.superClass.setElevation.apply(this,arguments))},setScaleTall:function(Q){var Y=this;if(!Y._updatingToChildren){var n,R=Y.getScaleTall();if(b3(Q)<.01&&(Q=.01*(Nn(Q)||Nn(R))),"3d"===Y._scaleMode)return n=Y.getScale(),void Y.setScale3d(n.x,Q,n.y);$s.superClass.setScaleTall.call(Y,Q),Id||Y._updatingFromChildren||(Y._updatingToChildren=1,Y._adjustChildTallOrScale(Q/R,"scale"),delete Y._updatingToChildren,Y._scaleChanged=1,this.updateFromChildren(),delete Y._scaleChanged)}},_adjustChildTallOrScale:function(n,R){var g;this._syncSize&&(g=this.getElevation(),this.eachChild(function(Q){var Y;C(Q)&&!Q.getHost()&&("size"===R?(Y=Q.getTall(),n<0&&Q.setScaleTall(-1*Q.getScaleTall()),Q.setTall(Math.max(.01,Math.abs(Y*n)))):(Y=Q.getScaleTall(),Q.setScaleTall(Y*n)),Q.setElevation(g+(Q.getElevation()-g)*n))}))},setAnchor3d:function(){var Q;if(!this._updatingToChildren)return this.beginTransaction(),(Q=$s.superClass.setAnchor3d.apply(this,arguments))&&!Id&&!this._updatingFromChildren&&this._syncSize&&(this._anchorChanged=1,this.updateFromChildren(),delete this._anchorChanged),this.endTransaction(),Q},setAnchor:function(Q,Y,n){var R=this;if(!R._updatingToChildren){var g=R.getAnchor(),B=$s.superClass.setAnchor.apply(R,arguments);if(Id||R._updatingFromChildren||!R._syncSize)return B;R._updatingToChildren=1;var L=R.getAnchor(),Z=(e=R.getSize()).width*(g.x-L.x),e=e.height*(g.y-L.y),g=(new v3).compose(new F3,this.getQuaternion(),new F3(this.getScale3d())),u=new F3(Z,0,e).applyMatrix4(g);return R.eachChild(function(Q){var Y;C(Q)&&!Q.getHost()&&(Y=new F3(Q.p3()),Q.p3(Y.add(u).toArray()))}),delete R._updatingToChildren,B}},setAnchorElevation:function(Q){var Y=this;if(!Y._updatingToChildren){var n=Y.getAnchorElevation(),R=$s.superClass.setAnchorElevation.apply(Y,arguments);if(Id||Y._updatingFromChildren||!Y._syncSize)return R;Y._updatingToChildren=1;var g=Y.getAnchorElevation(),n=Y.getTall()*(n-g),g=(new v3).compose(new F3,this.getQuaternion(),new F3(this.getScale3d())),B=new F3(0,n,0).applyMatrix4(g);return Y.eachChild(function(Q){var Y;C(Q)&&!Q.getHost()&&(Y=new F3(Q.p3()),Q.p3(Y.add(B).toArray()))}),delete Y._updatingToChildren,R}},setRotation:function(Q){this._updateChildrenRotation3d("rotation",Q)},setRotationX:function(Q){this._updateChildrenRotation3d("rotationX",Q)},setRotationZ:function(Q){this._updateChildrenRotation3d("rotationZ",Q)},setRotation3d:function(Q,Y,n){var R,g,B=this;B._updatingToChildren||(R=B.r3(),$s.superClass.setRotation3d.apply(B,arguments),g=B.r3(),Id||B._updatingFromChildren||(B._updatingToChildren=1,B.eachChild(function(Q){C(Q)&&!Q.getHost()&&Q.syncRotation3d(B,g,R)}),delete B._updatingToChildren))},_updateChildrenRotation3d:function(Q,Y){var n;this._updatingToChildren||(n=this[un(Q)](),$s.superClass[Xn(Q)].call(this,Y),Id||this._updatingFromChildren||this._updateRotationToChildren(Q,Y-n))},_updateRotationToChildren:function(Y,n){var R=this;R._updatingToChildren=1,R.eachChild(function(Q){C(Q)&&!Q.getHost()&&Q._11Q(R,Y,n)}),delete R._updatingToChildren},setScale:function(Q,Y){var n,R=this;R._updatingToChildren||(null==Y&&(Y=Q.y,Q=Q.x),n=R.getScale(),b3(Q)<.01&&(Q=.01*(Nn(Q)||Nn(n.x))),b3(Y)<.01&&(Y=.01*(Nn(Y)||Nn(n.y))),"3d"===R._scaleMode?R.setScale3d(Q,R.getScaleTall(),Y):($s.superClass.setScale.call(R,Q,Y),Id||R._updatingFromChildren||(R._updatingToChildren=1,Q/=n.x,Y/=n.y,R._adjustChildScaleOrSize(Q,Y,"scale"),delete R._updatingToChildren,R._scaleChanged=1,R.updateFromChildren(),delete R._scaleChanged)))},onPropertyChanged:function(Q){$s.superClass.onPropertyChanged.call(this,Q),"s:3d.visible"!==Q.property&&"parent"!==Q.property||this._invalidateChildrenBatch()},_invalidateChildrenBatch:function(){this.eachChild(function(Q){(Q.s("batch")||Q.s("wf.geometry")||Q.s("wf.visible"))&&Q.iv(),Q instanceof $s&&Q._invalidateChildrenBatch()})},getSerializableProperties:function(){var Q=$s.superClass.getSerializableProperties.call(this);return Q.clickThroughEnabled=1,Q.syncSize=1,Q.scaleMode=1,Q},setScale3d:(U6=new F3,C6=new F3,w6=new F3,j6=new v3,r6=new Z2,H6=new F3,function(Q,Y,n){var R,g,B=this,Y="number"==typeof Q?{x:Q,y:Y,z:n}:Q.length?{x:Q[0],y:Q[1],z:Q[2]}:Q;"3d"!==B._scaleMode?$s.superClass.setScale3d.apply(B,arguments):B._syncSize&&0!==B.size()&&((R=B.getMatrix4()).getInverse(R),$s.superClass.setScaleTall.call(B,Y.y),$s.superClass.setScale.call(B,Y.x,Y.z),g=B.getMatrix4(),Id||B._updatingFromChildren||(B._updatingToChildren=1,B.eachChild(function(Q){var Y,n;C(Q)&&!Q.getHost()&&(Y=1,Q instanceof K.Polyline?((n=Q.getThickness())&&(H6.copy(Q.getScale3d()).multiplyScalar(n),Y=n),Q.getQuaternion(r6),U6.copy(Q.p3()),w6.copy(Q.getFinalScale3d()),w6.x=w6.x||H6.x,w6.y=w6.y||H6.y,w6.z=w6.z||H6.z,j6.compose(U6,r6,w6)):Q.getMatrix4(j6),j6.premultiply(R).premultiply(g),j6.decompose(U6,r6,w6),C6.fromArray(Q.s3()),C6.x=C6.x||Y,C6.y=C6.y||Y,C6.z=C6.z||Y,w6.divide(C6),Q.setQuaternion(r6),Q.p3(U6.toArray()),Q.setScale3d(w6.toArray()))}),delete B._updatingToChildren,B._scaleChanged=1,B.updateFromChildren(),delete B._scaleChanged))})}),K.Grid=function(){En(K.Grid,this)}),Fs=(qB("Grid",es,{IRotatable:!1,_icon:"grid_icon",_image:V3,getUIClass:function(){return ys},setRotation:function(){},getCellRect:function(Q,Y){var n=this.s("grid.row.count"),R=this.s("grid.column.count");if(n<=0||R<=0||Q<0||n<=Q||Y<0||R<=Y)return V3;var g,B,L,Z=this.getRect(),e=this.s("grid.row.percents"),u=this.s("grid.column.percents");if(RL(Z,this,"grid.border",-1),e&&e._as&&(e=e._as),u&&u._as&&(u=u._as),e&&e.length===n){for(g=L=0;g<Q;g++)L+=Z.height*e[g];Z.y+=L,Z.height=Z.height*e[Q]}else Z.height=Z.height/n,Z.y+=Z.height*Q;if(u&&u.length===R){for(g=B=0;g<Y;g++)B+=Z.width*u[g];Z.x+=B,Z.width=Z.width*u[Y]}else Z.width=Z.width/R,Z.x+=Z.width*Y;return Ig(Z,-this.s("grid.gap")),Z}}),K.Text=function(){En(Fs,this),this.setSize(100,50),this.s("text","TEXT")}),vs=(qB("Text",es,{_icon:"text_icon",_image:"__text__",getUIClass:function(){return Ds},setWidth:function(Q){Fs.superClass.setWidth.call(this,Q=Q||.001)},setHeight:function(Q){Fs.superClass.setHeight.call(this,Q=Q||.001)},toLabel:function(){return this._displayName||this._name||this.s("text")}}),id("__text__",{width:{value:100,isSafeFunc:!0,func:function(Q){return Q?Q._width:100}},height:{value:50,isSafeFunc:!0,func:function(Q){return Q?Q._height:50}},comps:[{type:"text",relative:!0,rect:[0,0,1,1],text:{func:"style@text"},align:{func:"style@text.align"},vAlign:{func:"style@text.vAlign"},color:{func:"style@text.color"},font:{func:"style@text.font"},shadow:{func:"style@text.shadow"},shadowColor:{func:"style@text.shadow.color"},shadowBlur:{func:"style@text.shadow.blur"},shadowOffsetX:{func:"style@text.shadow.offset.x"},shadowOffsetY:{func:"style@text.shadow.offset.y"},scaleX:{func:"style@text.scale.x"},scaleY:{func:"style@text.scale.y"},gradient:{func:"style@text.gradient"},gradientColor:{func:"style@text.gradient.color"},gradientPack:{func:"style@text.gradient.pack"},decoration:{func:"style@text.decoration"},vertical:{func:"style@text.vertical"},verticalGap:{func:"style@text.vertical.gap"},wrap:{func:"style@text.wrap"},letterGap:{func:"style@text.letter.gap"},borderWidth:{func:"style@text.border.width"},borderColor:{func:"style@text.border.color"},background:{func:"style@text.background"},cornerRadius:{func:"style@text.corner.radius"},outlineColor:{func:"style@text.outline.color"},outlineWidth:{func:"style@text.outline.width"}}]}),K.Shape=function(){En(vs,this),this._59O=new W}),as=(vs.__de__=r3,qB("Shape",es,{ms_ac:["thickness","closePath"],_icon:"shape_icon",_thickness:10,_closePath:!1,getUIClass:function(){return cs},get3dUIClass:function(){return e$},getLength:function(Q){return tn(QB(this._59O,this._58O,Q,this._closePath))},getSegments:function(){return this._58O},toSegments:function(){var Q=this._58O;return Q&&new W(Q._as.slice(0))},setSegments:function(Q){var Y=this._58O;Q=Q?M3(Q)?new W(Q.slice(0)):new W(Q._as.slice(0)):null,(Y&&Q&&Y._as.join(",")!==Q._as.join(",")||Y!==Q)&&(this._58O=Q,this.fp("segments",Y,Q))},getPoints:function(){return this._59O},toPoints:function(){var Q=this._59O;return new W(Q._as.slice(0))},getPointsMatrix2d:function(){var Q=new y.Matrix2d,Y=this.getPosition(),n=this.getScale(),R=this.getRotation();return Q.translate(-Y.x,-Y.y).scale(n.x,n.y).rotate(R).translate(Y.x,Y.y),Q},getPointsMatrix3d:function(){var Q=new y.Matrix4,Y=Q.getElements(),n=this.p3(),R=(vC(Y,n),ls(Y,this.getFinalRotation3d(),this.getRotationMode()),this.getScale3d()),g=this._dynamicScale3d;return g&&(R[0]*=g[0],R[1]*=g[1],R[2]*=g[2]),aC(Y,R),vC(Y,sg(n)),Q},setPoints:function(Q,Y){var n,R,g=this,B=g._59O;Q=Q?M3(Q)?new W(Q.slice(0)):new W(Q._as.slice(0)):new W,Y&&(n=g.getPosition(),R=new L2(g.getRotation(),0,0,g.getScale().x,g.getScale().y)),(B&&Q&&B._as.join(",")!==Q._as.join(",")||B!==Q)&&(g._59O=Q,g.fs(),g.fp("points",B,Q)),Y&&(Q=(B=g.getPosition()).x-n.x,Y=B.y-n.y,n=R.tf(Q,Y),g.setPosition(B.x-Q+n.x,B.y-Y+n.y))},setPoints3d:function(Q,Y){var n=new F3(this.p3()),R=this.getPointsMatrix3d();R.setPosition(new F3),Js.superClass.setPoints.call(this,Q),Y&&(Q=new F3(this.p3()).clone().sub(n).applyMatrix4(R),n.add(Q),this.p3(n.x,n.y,n.z))},addPoint:function(Q,Y,n){var R=this.toPoints();R.add(Q,Y),this.setPoints(R,n)},setPoint:function(Q,Y,n){var R=this.toPoints();R.set(Q,Y),this.setPoints(R,n)},removePointAt:function(Q){var Y=this.toPoints();Y.removeAt(Q),this.setPoints(Y)},setWidthForce:function(Q){var Y,n,R,g,B=this;B._55I||Id||!B.getWidth()||(B._55I=1,Y=B._position.x,n=Q/B.getWidth(),R=B.toPoints(),g=new W,1!=n&&(R.each(function(Q){g.add({x:(Q.x-Y)*n+Y,y:Q.y,e:Q.e})}),B.setPoints(g),DT(B,[n,0,0,1,Y*(1-n),0]),B.fs()),delete B._55I),vs.superClass.setWidth.call(B,Q)},setWidth:function(Q){return this.setWidthForce(Q<Ug?Ug:Q)},setHeightForce:function(Q){var Y,n,R,g,B=this;B._55I||Id||!B.getHeight()||(B._55I=1,Y=B._position.y,n=Q/B.getHeight(),R=B.toPoints(),g=new W,1!=n&&(R.each(function(Q){g.add({x:Q.x,y:(Q.y-Y)*n+Y,e:Q.e})}),B.setPoints(g),DT(B,[1,0,0,n,0,Y*(1-n)]),B.fs()),delete B._55I),vs.superClass.setHeight.call(B,Q)},setHeight:function(Q){return this.setHeightForce(Q<Ug?Ug:Q)},setAnchorElevation:function(Q){this._55I=!0;var Y,n=this._updatingAnchor3d,Q=(Id||n||(Y=this.getAnchorElevation(),0!=(Y=this.getTall()*(Y-Q))&&this.shiftPointsElevation(Y)),vs.superClass.setAnchorElevation.apply(this,arguments));return n||delete this._55I,Q},getShapeElevation:function(Q){return this._54O-(this.getTall()||0)*(this._anchorElevation-.5)},setAnchor3d:function(Q,Y,n,R){var g,B,L,Z,e,u=this,Q=("number"==typeof Q?g={x:Q,y:Y,z:n}:(g=Q.length?{x:Q[0],y:Q[1],z:Q[2]}:Q,R=Y),u._55I=!0,u._updatingAnchor3d=!0,u.beginTransaction(),Id||(n=u.getAnchor3d(),Q=u.getSize(),Y=u.getTall(),B=Q.width*(n.x-g.x),L=Q.height*(n.z-g.z),Z=Y*(n.y-g.y),R||u.shiftPoints(B,L,Z),e=u.p3()),vs.superClass.setAnchor3d.apply(u,arguments));return Id||R&&(Y=u.p3(),u.shiftPoints(Y[0]-e[0]+B,Y[2]-e[2]+L,Y[1]-e[1]+Z)),u.endTransaction(),delete u._updatingAnchor3d,delete u._55I,Q},setAnchor:function(Q,Y,n){var R,g,B,L=this,Z=(L._55I=!0,L._updatingAnchor3d),e=!Id&&!Z,Y=(e&&("number"==typeof Q?g={x:Q,y:Y}:(g=Q.length?{x:Q[0],y:Q[1]}:Q,n=Y),Q=L.getAnchor(),R=(Y=L.getSize()).width*(Q.x-g.x),g=Y.height*(Q.y-g.y),n||L.shiftPoints(R,g),B=L.getPosition()),vs.superClass.setAnchor.apply(L,arguments));return e&&(Q=L.getPosition(),n&&L.shiftPoints(Q.x-B.x+R,Q.y-B.y+g)),Z||delete L._55I,Y},shiftPoints:function(n,R,g){var B,Q,L;(n||R||g)&&(B=this.getElevation()||0,Q=this.toPoints(),L=new W,Q.each(function(Q){var Y=Q.e;L.add({x:Q.x+n,y:Q.y+R,e:Y=g?(Y==V3?B:Y)+g:Y})}),this.setPoints(L),this.fs())},shiftPointsElevation:function(Q){return this.shiftPoints(0,0,Q)},setPosition:function(Q,Y){var n=this;if(!n._28Q){if(n._28Q=1,!n._55I&&!Id){if(Q=(Y=2===arguments.length?{x:Q,y:Y}:Q).x-n._position.x,Y=Y.y-n._position.y,0==Q&&0==Y)return void delete n._28Q;n._55I=1,n.shiftPoints(Q,Y),DT(n,[1,0,0,1,Q,Y]),delete n._55I}vs.superClass.setPosition.apply(n,arguments),delete n._28Q}},fs:function(){this.fireShapeChange()},_70I:function(){if(2!==this._59O.size())return!1;var Q=this._58O;return!Q||2===Q.size()&&1===Q.get(0)&&2===Q.get(1)},fireShapeChange:function(){var Q;this._55I||Id||(Q=pg(this._59O))&&(this._55I=1,this.setRect(Q),delete this._55I),this.fp(aR,!1,!0)},getSerializableProperties:function(){var Q=vs.superClass.getSerializableProperties.call(this);return Q.segments=1,Q.points=1,Q.thickness=1,Q.closePath=1,Q}}),K.Points=function(){En(as,this)}),Js=(qB("Points",es,{_59O:[],_colors:[],_sizes:[],_uvoffsets:[],get3dUIClass:function(){return u$},getPoints:function(){return this._59O},setPoints:function(Q){var Y=this._59O,n=(Q=Q?Q.slice(0):[])[0];if(xn(n)){var R=Q;Q=[];for(var g=0,B=R.length;g<B;g+=3)Q.push({x:R[g],e:R[g+1],y:R[g+2]})}this._59O=Q,this._pointsDirty=!0,this.fp("points",Y,this._59O)},setPoint:function(Q,Y){var n=this._59O.slice(0);n[Q]=Y,this.setPoints(n)},addPoint:function(Q){this.setPoint(this._59O.length,Q)},getColors:function(){return this._colors},setColors:function(Q){var Y=this._colors;Q=Q?Q.slice(0):[],this._colors=Q,this._colorsDirty=!0,this.fp("colors",Y,Q)},setPointColor:function(Q,Y){var n=this._colors.slice(0);n[Q]=Y,this.setColors(n)},getSizes:function(){return this._sizes},setSizes:function(Q){var Y=this._sizes;Q=Q?Q.slice(0):[],this._sizes=Q,this._sizesDirty=!0,this.fp("sizes",Y,this._sizes)},setPointSize:function(Q,Y){var n=this._sizes.slice(0);n[Q]=Y,this.setSizes(n)},getUvoffsets:function(){return this._uvoffsets},setUvoffsets:function(Q){var Y=this._uvoffsets;Q=Q?Q.slice(0):[],this._uvoffsets=Q,this._offsetsDirty=!0,this.fp("uvoffsets",Y,this._uvoffsets)},setPointUvoffset:function(Q,Y,n){var R;"object"==typeof Y?(R=Y[0],n=Y[1]):R=Y,(Y=this._uvoffsets.slice(0))[2*Q+0]=R,Y[2*Q+1]=n,this.setUvoffsets(Y)},getPointInfo:function(Q){if(!(Y=this.getPoints())||Y[Q]==V3)return V3;var Y=[(Y=Y[Q]).x,Y.e,Y.y],n=this.mat||QQ(this),R=[Y[0],Y[1],Y[2]];return Kg(R,n),n=this.getColors()[Q]||this.s("points.color"),{size:(Q=this.getSizes()[Q])==V3?this.s("points.size"):Q,color:n,local:Y,world:R}},getSerializableProperties:function(){var Q=as.superClass.getSerializableProperties.call(this);return Q.points=1,Q.colors=1,Q.sizes=1,Q.uvoffsets=1,Q},onPropertyChanged:function(Q){as.superClass.onPropertyChanged.call(this,Q),"s:points.color"===(Q=Q.property)?this._colorsDirty=!0:"s:points.size"===Q?this._sizesDirty=!0:"s:points.model"===Q&&(this._modelDirty=!0)},getWidth:function(){if(0<=this._width)return this._width;var Q=this.getStyle("points.model");return(Q=Q&&fS(Q))&&Q.rawS3?Q.rawS3[0]:1},getHeight:function(){if(0<=this._height)return this._height;var Q=this.getStyle("points.model");return(Q=Q&&fS(Q))&&Q.rawS3?Q.rawS3[2]:1},getTall:function(){if(0<=this._tall)return this._tall;var Q=this.getStyle("points.model");return(Q=Q&&fS(Q))&&Q.rawS3?Q.rawS3[1]:1}}),K.Polyline=function(){En(Js,this),this.s({"shape.background":null,"shape.border.width":2}),this._geometryVersion=0}),Is=(qB("Polyline",vs,{_icon:"polyline_icon",get3dUIClass:function(){return x$},getUIClass:function(){return Ss},setClosePath:function(Q){},setTall:function(Q){var Y,n,R,g,B=this;B.beginTransaction(),B._55I||B._24Q||Id||!B.getTall()||(B._24Q=1,Y=B._54O,1!=(n=Q/B.getTall())&&(R=B.toPoints(),g=new W,R.each(function(Q){g.add({x:Q.x,y:Q.y,e:Q.e==V3?Q.e:(Q.e-Y)*n+Y})}),B.setPoints(g),B.fs()),delete B._24Q),Js.superClass.setTall.call(B,Q),B.endTransaction()},setElevation:function(Q){this.beginTransaction(),this._55I||this._24Q||Id||(this._24Q=1,0!=(Q-=this._54O)&&this.shiftPointsElevation(Q),delete this._24Q),Js.superClass.setElevation.apply(this,arguments),this.endTransaction()},fireShapeChange:function(){var Q=this,Y=Q._59O;if(!Q._55I&&!Q._24Q&&!Id){var n=Y.size();if(n){for(var R=1,g=Y.get(0),B=Q._54O,L=(g.e==V3&&(g.e=B),g.e),Z=0;R<n;R++){(g=Y.get(R)).e==V3&&(g.e=B);var e=R3(L,g.e),u=n3(L+Z,g.e),L=e,Z=u-e}Q._24Q=1,Q.setTall(Z),Q.setElevation(L+Z*Q._anchorElevation),delete Q._24Q}}Js.superClass.fireShapeChange.apply(Q,arguments)},onPropertyChanged:(h6={},["points","segments","thickness","s:shape.border.color","s:shape.border.gradient.color","s:shape.border.pattern","s:shape.dash","s:shape.dash.color","s:shape.dash.pattern","s:shape.dash.offset","s:3d.clip.direction","s:repeat.uv.length","s:rotate.vs.length","s:rotate.uv.length","s:body.color","s:shape3d","s:shape3d.visible","s:shape3d.image","s:shape3d.smooth","s:shape3d.resolution","s:shape3d.color","s:shape3d.blend","s:shape3d.side","s:shape3d.start.angle","s:shape3d.sweep.angle","s:shape3d.top.cap","s:shape3d.top.image","s:shape3d.top.visible","s:shape3d.top.color","s:shape3d.bottom.cap","s:shape3d.bottom.image","s:shape3d.bottom.visible","s:shape3d.bottom.color","s:shape3d.uv.union","s:shape3d.section","s:shape3d.section.angle","s:shape3d.section.twist","s:shape3d.polyline.depth","s:shape3d.polyline.offset","s:shape3d.polyline.radiusScale","s:shape3d.polyline.scaleOffset","s:shape3d.polyline.scaleMap"].forEach(function(Q){h6[Q]=!0}),function(Q){Js.superClass.onPropertyChanged.call(this,Q),h6[Q.property]&&this._geometryVersion++})}),K.SubGraph=function(){En(Is,this)}),As=(qB("SubGraph",es,{ISubGraph:1,_image:"subGraph_image",_icon:"subGraph_icon",_8I:function(){Is.superClass._8I.call(this),this.eachChild(function(Q){C(Q)&&Q._8I()})}}),z3.loadingRefGraph=0,K.RefGraph=function(){En(As,this)}),Ps=(qB("RefGraph",$s,{_icon:"refGraph_icon",getRef:function(){return this._ref},setRef:function(Q){var Y=this._ref;this._ref=Q,this.fp("ref",Y,Q),this.updateRef()},_21I:function(Q){As.superClass._21I.apply(this,arguments),this.updateRef()},updateRef:function(){var n,Y,R=this;z3.loadingRefGraph++,R.clearChildrenFromDataModel(),z3.loadingRefGraph--,R._ref&&R._dataModel&&(R._xhrLoadHandler&&(R._xhrLoadHandler.cancel=!0),n=Id,(Y=R._xhrLoadHandler=function(Q){var Y;Q&&R._dataModel&&(z3.loadingRefGraph++,Y=R._pendingUpdateInfo={needToRestore:n},n&&(Y.p3=R.p3(),Y.s3=R.s3(),Y.r3=R.r3(),Y.anchor3d=R.getAnchor3d(),Y.scale3d=R.getScale3d()),R.r3(0,0,0),R.setScale3d(1,1,1),R.setAnchor3d(.5,.5,.5),R.p3(0,0,0),Y=z3.parse(Q),(Q=R._dataModel.deserialize(Y,R,{justDatas:!0})).each(function(Q){Q._refGraph=R}),R.checkPendingUpdateInfo(),z3.loadingRefGraph--,z3.handleRefGraphLoaded(R,Q,Y))}).xhrLoadCalled=!1,z3.load(R._ref,function(Q){Y.cancel||(Y.xhrLoadCalled?Y(Q):y2(function(){Y(Q)}))}),Y.xhrLoadCalled=!0)},checkPendingUpdateInfo:function(){var Y,Q=this,n=Q._pendingUpdateInfo;n?(Y=!0,this.eachChild(function(Q){(Q._pendingCheckImageJSON||Q._pendingUpdateInfo)&&(Y=!1)}),Y&&(z3.loadingRefGraph++,Q._pendingUpdateInfo=null,Q.updateFromChildren(),n.needToRestore&&(Q.setAnchor3d(n.anchor3d),Q.setScale3d(n.scale3d),Q.r3(n.r3),Q.p3(n.p3)),this.getParent()instanceof As&&this.getParent().checkPendingUpdateInfo(),Q.onPendingUpdated&&Q.onPendingUpdated(),z3.loadingRefGraph--)):Q.onPendingUpdated&&(z3.loadingRefGraph++,Q.onPendingUpdated(),z3.loadingRefGraph--)},getSerializableProperties:function(){var Q=As.superClass.getSerializableProperties.call(this);return Q.ref=1,Q}}),K.EdgeGroup=function(Q,Y){this._70O=Q,this._siblings=Y;for(var n,R=0,g=Q.size(),B=J3[WR];R<g;R++)if((n=Q.get(R).getOwnStyle(WR))!=V3){B=n;break}for(B==V3&&(B=!0),(Y=(Y=z3.edgeGroupAgentFunc)&&Y(Q))&&Y!==Q.get(0)&&(Q.remove(Y),Q.add(Y,0)),R=0;R<g;R++)Q.get(R).s(WR,B)},qB("EdgeGroup",m,{getEdges:function(){return this._70O},size:function(){return this._70O.size()},get:function(Q){return this._70O.get(Q)},indexOf:function(Q){return this._70O.indexOf(Q)},each:function(Q,Y){this._70O.each(Q,Y)},getSiblings:function(){return this._siblings},eachSiblingEdge:function(Y,n){this._siblings.each(function(Q){Q._70O.each(Y,n)})}}),In(z3,{setConnectAction:function(Q,Y,n){var R=wd[Q]={type:Q,action:Y};if(n)for(var g in n)R[g]=n[g]},getConnectAction:function(Q,Y){if(!Y){if(!Q)return null;Y=Q.getCurrentConnectActionType()}return wd[Y]},doConnectAction:function(Y,Q,n,R){if(R=R||Y.getCurrentConnectActionType(),!(R=wd[R]))return!1;var g=R.action;return!!g&&(Q instanceof w.Group?Y.sm().getSelection().each(function(Q){g.call(null,Y,Q,n)}):g.call(null,Y,Q,n),!0)},doDeleteConnectionAction:function(Y,Q,n){if(n=n||Y.getCurrentConnectActionType(),!(n=wd[n])||!n.delete)return!1;var R=n.delete.action;return!!R&&(Q instanceof w.Group?Y.sm().getSelection().each(function(Q){R.call(null,Y,Q)}):R.call(null,Y,Q),!0)}}),K.JSONSerializer=function(Q,Y){this.dm=this._dataModel=Q,z3.forceHierarchicalSerialization?this._hierarchical=!0:this._hierarchical=Y==V3?Q.isHierarchicalRendering():Y}),is=(qB("JSONSerializer",m,{ms_ac:["hierarchical"],serialize:function(Q){return z3.stringify(this.toJSON(),Q)},toJSON:function(){var Q,Y,n=this,R=n.dm,g=R.getRoots(),B=n.json={v:z3.getVersion(),p:{},a:{},d:[]},L=R.getSerializableAttrs();for(Y in(Q=R.getInit())&&(B.init=Q),(Q=R.getName())&&(B.p.name=Q),(Q=R.getBackground())&&(B.p.background=Q),(Q=R.getLayers())&&(B.p.layers=Q),(Q=R.getEnvmap())&&(B.p.envmap=Q),(Q=R.getEnvmapType())&&(B.p.envmapType=Q),B.p.autoAdjustIndex=R.isAutoAdjustIndex(),B.p.hierarchicalRendering=R.isHierarchicalRendering(),L){var Z=R.a(Y);Z!==l3&&n[sV](Y,Z,B.a)}return _n(B.a)&&delete B.a,n._hierarchical?g.each(n.serializeData,this):R.each(function(Q){n.serializeData(Q)}),R.fireSerializeEvent({type:"serialize",json:B}),R.getPostProcessingData()&&(B.p.postProcessingData=R.getPostProcessingData()),B},isSerializable:function(Q){return!0},getProperties:function(Q){return Q.getSerializableProperties()},getStyles:function(Q){return Q.getSerializableStyles()},getAttrs:function(Q){return Q.getSerializableAttrs()},serializeData:function(Q){var Y=this;if(Y.isSerializable(Q)&&!Q._refGraph){var n,R,g,B,L,Z=new(Yg(Q.getClassName())||Q.getClass()),e={c:Q.getClassName(),i:Q.getId(),p:{},s:{},a:{}};for(n in Y.json.d.push(e),Y.getProperties(Q))/^_/.test(n)?(L=Q[n],"_width"!==n&&"_height"!==n||L!=V3&&-1!==L||(B==l3&&(g=(Q.s("layout.h")||Q.s("layout.v"))&&Q.getHost()||Q instanceof K.Node&&(g=Q.getParent())&&g instanceof K.Block||Q.s("fullscreen"),B=Q.hasInheritedSize()),g&&B&&(L=Q[n]="_width"===n?Q.getWidth():Q.getHeight())),L!==Z[n]&&Y[sV](n.substr(1),L,e.p)):Q[R=un(n)]&&(L=Q[R]())!==Z[R]()&&Y[sV](n,L,e.p);for(n in Y.getStyles(Q))(L=Q.s(n))!==Z.s(n)&&Y[sV](n,L,e.s);for(n in Y.getAttrs(Q))(L=Q.a(n))!==Z.a(n)&&Y[sV](n,L,e.a);_n(e.p)&&delete e.p,_n(e.s)&&delete e.s,_n(e.a)&&delete e.a}Y._hierarchical&&Q.getChildren().each(Y.serializeData,Y)},serializeValue:function(Q,Y,n){Vn(Y)?Y={__a:Y._as}:Y instanceof sQ?Y={__i:Y.getId()}:Y instanceof hQ&&(Y={__dm:Y.serialize(0)}),n[Q]=Y},deserialize:function(Q,Y,n){var R=this;if(!$3(Q)||!/.json$/.test(Q))return R.deserializeImpl(Q,Y,n);z3.xhrLoad(Q,function(Q){R.deserializeImpl(Q,Y,n)})},deserializeImpl:function(Q,Y,n){var R=this.dm,g=(R.setDeserializing(!0),n=Gn(n)?{setId:n}:ln(n)?{finishFunc:n}:n||{},Q=this.json=$3(Q)?z3.parse(Q):Q,!n.justDatas&&Q.a&&Q.a.onPreDeserialize&&!n.disableOnPreDeserialize&&Q.a.onPreDeserialize(Q,R,n.view),R.beginTransaction(),Id++,this._82I={},new W),B=new W,L=0,Z=Q.d.length;if(n.justDatas||(!n.disableInit&&ln(Q.init)&&Q.init(R),R.setInit(Q.init)),!n.justDatas){for(var e in Q.a)R.a(e,this[hV](Q.a[e]));for(var u in Q.p)R[Xn(u)](Q.p[u])}for(;L<Z;L++){var X=Q.d[L],x=new(Yg(X.c)),G=X.i;n.setId&&G!=V3&&(x._id=G),this._82I[G]=x,g.add(x),B.add(X)}for(L=0;L<Z;L++)this.deserializeData(g.get(L),B.get(L));return g.each(function(Q){Y&&!Q.getParent()&&Q.setParent(Y),R.add(Q)}),n.__innerHandler__&&n.__innerHandler__(Q,R,n.view,g),R.fireSerializeEvent({type:"deserialize",json:Q}),Id--,R.endTransaction(),!n.justDatas&&Q.a&&Q.a.onPostDeserialize&&!n.disableOnPostDeserialize&&Q.a.onPostDeserialize(Q,R,n.view,g),n.finishFunc&&n.finishFunc(Q,R,n.view,g),R.setDeserializing(!1),g},deserializeData:function(Q,Y){for(var n in Y.p)Q[Xn(n)](this[hV](Y.p[n]));for(n in Y.s)Q.s(n,this[hV](Y.s[n]));for(n in Y.a)Q.a(n,this[hV](Y.a[n]))},deserializeValue:function(Q){if(on(Q)){var Y,n=Q.__i;if(n!=V3)return this._82I[n];if((n=Q.__dm)!=V3)return(Y=new K.DataModel).deserialize(n),Y;if(n=Q.__a,M3(n))return new W(n)}return Q}}),In(hQ,{serialize:function(Q,Y){return new Ps(this,Y).serialize(Q)},toJSON:function(Q){return new Ps(this,Q).toJSON()},deserialize:function(Q,Y,n){return new Ps(this).deserialize(Q,Y,n)}}),K.OverlappingBox=function(Q){this.gv=Q,this.boxes={}}),Ts=(qB("OverlappingBox",m,{clear:function(){var Q,Y=this.boxes;for(Q in Y)Y[Q].length=0},isOverlapping:function(Q,Y){var n,R,g,B,L=this.boxes,Z=L[Q];for(Z?(n=Z.rects,R=Z.length):Z=L[Q]={rects:n=[],length:R=0},g=0;g<R;g++)if((B=n[g]).x<Y.x+Y.w&&B.x+B.w>Y.x&&B.y<Y.y+Y.h&&B.h+B.y>Y.y)return!0;return n.length<=R?(n.push(Y),Z.length++):n[Z.length++]=Y,!1}}),In(z3,{fetch:function(Q,Y){Q.open((Y=Y||{}).method||"GET",Y.url||"",!(null!=Y.sync&&Y.sync)),"json"===Y.dataType&&Q.setRequestHeader("Content-Type","application/json");var n=Y.headers;if(n)for(var R in n)Q.setRequestHeader(R,n[R]);Y.responseType&&(Q.responseType=Y.responseType),Q.send(Y.data)},convertImageSrc:function(Q,Y){(Y=Y&&"function"==typeof Y?Y:function(){})(Q)}}),K.Request=function(){}),Es=(qB("Request",m,{_mimeType:l3,getXhr:function(){return this._xhr||(this._xhr=new XMLHttpRequest,this.overrideMimeType("text/plain")),this._xhr},send:function(Q){var Y=this.getXhr();Q.mimeType&&this.overrideMimeType(Q.mimeType),Y.onload=this.onload,Y.onerror=this.onerror,z3.fetch(Y,Q)},onload:function(){},onerror:function(){},getResponseType:function(){return this.getXhr().responseType},setOverrideMimeType:function(Q){this.overrideMimeType(Q)},getMimeType:function(){return this._mimeType},overrideMimeType:function(Q){var Y=this.getXhr();Y.overrideMimeType&&Y.overrideMimeType(this._mimeType=Q)},getResponseHeader:function(Q){return this.getXhr().getResponseHeader(Q)},getResponseText:function(){var Q=this.getXhr();return Q.response||Q.responseText},getStatus:function(){return this.getXhr().status}}),{}),_s={},bs={},ks={},Os=function(Q){for(var Y in bs)bs[Y]&&!Q["_loading_"+Y+"_"]&&(ks[Y][Q["_loading_"+Y+"_"]=S2()]=Q)},Ns=function(Q,Y,n,R){var g,B=ks[Q];if(Y&&B){for(var L in B)(g=B[L]).invalidateAll&&g.invalidateAll(l3,Q+"Loaded",n),g.redraw&&g.redraw(),g.iv(),delete g["_loading_"+Q+"_"];ks[Q]={}}else if(R&&!_n(B))for(var L in B)(g=B[L]).invalidateAll&&g.invalidateAll(l3,Q+"Loading",n),g.redraw&&g.redraw(),g.iv()},Us="placeholderResource",Cs=V3,ws=(ks[Us]={},z3.addPendingPlaceholder=function(Q,Y){(Cs=Cs||(bs[Us]={}))[Q]||(Cs[Q]=!0,y2(function(){z3.removePendingPlaceholder(Q,!1)},V3,V3,Y||1e5))},z3.removePendingPlaceholder=function(Q,Y){var n;Cs&&(delete Cs[Q],(n=_n(Cs))&&(Cs=bs[Us]=V3),Ns(Us,n,Q,Y))},z3.isLoading=function(){if(yd)return!0;if(ZQ)return!0;if(lD)return!0;for(var Q in bs)if(bs[Q])return!0;return!1},z3.countActiveLoadings=function(){var Q,Y=0;for(Q in yd&&(Y+=m.keys(yd).length),ZQ&&(Y+=m.keys(ZQ).length),lD&&(Y+=m.keys(lD).length),bs)bs[Q]&&(Y+=m.keys(bs[Q]).length);return Y},z3.isMaxConcurrencyReached=function(Q){return!!(Q=Q||z3.maxConcurrencyLimit)&&z3.countActiveLoadings()>Q},function(Z,e){function u(Q,Y){(n=R(Q,Y))&&(Y=n),o[Q]=Y,delete G[Q];var n=_n(G);n&&(G=bs[Z]=V3),Ns(Z,n,Q,Y),ss(Z+"::"+Q,Y)}function X(Q,Y){u(Q,Y),Y&&z3[n](Q,Y)}var x,G=V3,o=Es[Z]={},l=Z.charAt(0).toUpperCase()+Z.substr(1),R=(ks[Z]={},(e=e||md).handleLoaded||dd),g="load"+l+"ByURL",n="handle"+l+"Loaded";_s[g]=function(n,R){if((R=R||n)&&!z3.isMaxConcurrencyReached()&&!(G=G||(bs[Z]={}))[n]){var g=new Ts,B=!(G[n]={request:g,url:R});if("string"==typeof R&&(B=rd.test(R),R=z3.beforeLoadURL(R,n)),R.data){var Q=R.data;B&&Q&&(Q=z3.parse(Q)),e.delayToNextFrame?y2(function(){X(n,Q)}):X(n,Q)}else{g.onload=function(Q){var Y=this.status;200===Y||0===Y||206===Y?(Y=g.getResponseText(),B&&(Y=z3.parse(Y)),X(n,Y)):u(n,z3["handleUnfound"+l](n,R)||V3)},g.onerror=function(Q){u(n,z3["handleUnfound"+l](n,R)||V3)};var Y={};if(Y.url=encodeURI(R),Y.sync=!1,e.loadingParam)for(var L in e.loadingParam)Y[L]=e.loadingParam[L];e.beforeSend&&e.beforeSend(g,Y),g.send(Y)}}},z3["get"+l]=function(Q,Y){var n=o[Q];return n===l3?(Hs(Z+"::"+Q,Y),_s[g](Q),o[Q]):(Y&&Y(n),n)},z3["get"+l+"Map"]=function(){return o},"shader"==Z?(x=function(Q,Y){if(Y===l3)return delete o[Q],void delete yS[Q];Y&&null!==Y.data&&(o[Q]=null,yS[Q]=null),_s[g](Q,Y)},z3.setShader=function(Y,Q,n){var R,g,B,L;$3(Q)&&Q.match(/\/\/ *FS/i)?(yS[Y]=null,o[Y]=Q):$3(Q)&&$3(n)?(B=0,L=function(){var Q;0<B||(G&&(G[Y]&&((Q=G[Y].request)&&(Q.onload=Q.onerror=dd,(Q=Q.getXhr())&&(Q.onload=Q.onerror=dd)),delete G[Y]),_n(G)&&(G=bs[Z]=V3)),x(Y,R&&g?{data:R+"\n// FS\n"+g}:{data:null}))},Q.match(/void\s+main/i)?R=Q:(B++,z3.xhrLoad(Q,function(Q){R=Q,B--,L()})),n.match(/void\s+main/i)?g=n:(B++,z3.xhrLoad(n,function(Q){g=Q,B--,L()})),B&&((G=G||(bs[Z]={}))[Y]={}),L()):x(Y,Q)}):"shaderChunk"===Z?z3.setShaderChunk=function(Q,Y,n){$3(Y)?(n==l3&&(Y.match(/\n/i)?n=!1:Y.match(/\.(glsl|fs|vs|shader|txt|js)$/)&&(n=!0)),n?_s[g](Q,Y):o[Q]=Y):Y===l3&&delete o[Q]}:z3["set"+l]=function(Q,Y){(Y=$3(Y)&&Y.substr(0,12)==Gd?z3.parse(Y):Y)===l3?delete o[Q]:ln(Y)||on(Y)||null===Y?o[Q]=Y:_s[g](Q,Y)},z3[n]=function(Q,Y){},z3["handleUnfound"+l]=function(Q,Y){}}),js=(z3.registerResourceLoader=function(Q,Y){ws(Q,Y)},function(n){n=n||z3.resourceLoaderEventTimeout;var L={},Z={};function R(Q,Y){var n=L[Q];if(n){for(var R=0,g=n.length;R<g;R++)n[R](Y);delete L[Q];var B=Z[Q];B&&(q3(B),delete Z[Q])}}return{add:function(Q,Y){L[Q]||(L[Q]=[],Z[Q]=m3(function(){R(Q,null)},n)),L[Q].push(Y)},fire:R}}),rs=null,Hs=function(Q,Y){Y&&(rs=rs||new js).add(Q,Y)},ss=function(Q,Y){rs&&rs.fire(Q,Y)},hs=($L.GraphView=function(Q){var Y=this;Y._24I={},Y._34I=new W,Y.enableDirtyRect(),Y._25I={},Y._56I={},Y._view=dn(1,Y),Y._canvas=Wn(Y._view),Y.dm(Q||new hQ),this._coreInteractor=new Zp(this),Y.setEditable(!1),Y.setScrollBarVisible(z3.graphViewScrollBarVisible),Y._initView()},Q("GraphView",m,{ms_v:1,ms_gv:1,ms_bnb:1,ms_tip:1,ms_dm:1,ms_lp:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,_52o:1,_51o:1,ms_ac:[ZV,eV,BV,LV,"resettable","editInteractor",gV,"zoomable","pannable","rectSelectable","autoScrollZone",VV,"movableFunc","editableFunc","pointEditableFunc","rectEditableFunc","rotationEditableFunc","anchorEditableFunc","rectSelectBackground","rectSelectBorderColor","editPointSize","editPointBorderColor","editPointBackground","hoverDelay"],_zoomable:z3.graphViewZoomable,_resettable:z3.graphViewResettable,_pannable:z3.graphViewPannable,_rectSelectable:z3.graphViewRectSelectable,_autoScrollZone:z3.graphViewAutoScrollZone,_rectSelectBackground:z3.graphViewRectSelectBackground,_rectSelectBorderColor:z3.graphViewRectSelectBorderColor,_editPointSize:z3.graphViewEditPointSize,_editPointBorderColor:z3.graphViewEditPointBorderColor,_editPointBackground:z3.graphViewEditPointBackground,_scrollBarColor:mB,_scrollBarSize:G,_autoHideScrollBar:A2,_autoMakeVisible:KB,_currentActionType:null,getCoreInteractor:function(){return this._coreInteractor},getLayers:function(){return this._dataModel.getLayers()},setLayers:function(Q){this._dataModel.setLayers(Q)},setEditable:function(Q){var Y=this,n=(n=Y.__interactorMap__)||(Y.__interactorMap__={scrollBar:new Gp(Y),select:new up(Y),text:new xp(Y),move:new Xp(Y),default:new ep(Y),touch:new op(Y,{editable:!1})});Q?(Y._uieditable=!0,n.edit||(Q=Y._editInteractorClass||$L.XEditInteractor||zp,n.edit=new Q(Y)),Y.setInteractors([n.scrollBar,n.select,n.text,n.edit,n.move,n.default,n.touch])):(Y._uieditable=!1,Y.setInteractors([n.scrollBar,n.select,n.move,n.default,n.touch]))},registerEditInteractor:function(Q){this._editInteractorClass=Q;var Y,n=this.__interactorMap__;n&&(Y=n.edit,n.edit=new Q(this),0<=(Y=(Q=this.getInteractors().getArray()).indexOf(Y))&&(Q[Y]=n.edit))},getCanvas:function(){return this._canvas},_33I:function(Q){var Y=Q.getUIClass();return Y?new Y(this,Q):V3},getDataUI:function(Q){var Y=this._25I[Q._id];return Y===l3&&(Y=this._33I(Q),this._25I[Q._id]=Y),Y},_5I:function(Q){var Y=this._25I[Q._id];return Y||Q.dm()!==this.dm()?Y:this.getDataUI(Q)},getNodeRect:function(Q){return z3.getNodeRect(this,Q)},getFullscreenDatas:function(){return this._dataModel.getFullscreenDatas()},getEdgeInfo:function(Q){return(Q=this.getDataUI(Q))?(Q._79o(),Q._78o):null},getEdgeSourcePosition:function(Q){var Y=(Q=this.getDataUI(Q)).s,Q=Q._data._40I;return eL(this,Q,Y("edge.source.position"),Y("edge.source.offset.x"),Y("edge.source.offset.y"),Y("edge.source.anchor.x"),Y("edge.source.anchor.y"))},getEdgeTargetPosition:function(Q){var Y=(Q=this.getDataUI(Q)).s,Q=Q._data._41I;return eL(this,Q,Y("edge.target.position"),Y("edge.target.offset.x"),Y("edge.target.offset.y"),Y("edge.target.anchor.x"),Y("edge.target.anchor.y"))},dispose:function(){},invalidateAll:function(Q){var Y=this;if(Q){for(var n in Y._25I)(n=Y._25I[n])&&n.dispose();Y._25I={},Y._56I={},Y._24I={},Y._34I.clear(),Y.redraw()}else Y.dm().each(function(Q){Y.invalidateData(Q)})},invalidateSelection:function(){var Y=this;Y.sm().each(function(Q){Y.invalidateData(Q)})},invalidateData:function(Q){this._24I[Q._id]=Q,this._21Q(Q),this.iv()},_21Q:function(Q){var Y,n=this._24I;zn(Q)&&jd[Q.s(SR)]&&((Y=Q.getSourceAgent())&&Y.getAgentEdges().each(function(Q){n[Q._id]=Q}),(Y=Q.getTargetAgent())&&Y.getAgentEdges().each(function(Q){n[Q._id]=Q}),this.iv())},redraw:function(Q){this._32I||(Q?this._34I.add(Q):(this._32I=1,this._34I.clear()),this.iv())},_eachImpl:function(Y,n,Q){var R,g,B,L,Z,e,u=this.getLayers(),X=u?u.length:0,x=this._dataModel,G=x._datas,o=x.isHierarchicalRendering(),l=Q?o?x.reverseEachByHierarchical.bind(x):function(Q,Y,n){return G.reverseEachUntil(Q,n,!1)<0}:o?x.eachByHierarchical.bind(x):function(Q,Y,n){return G.eachUntil(Q,n,!1)<0},o=0<X;if(2<X&&(R=!0,g={},l(function(Q){var Y=Q._layer;(g[Y]||(g[Y]=new K.List)).add(Q)})),o)for(R||(B=function(Q){if(Q._layer===V)return n?Y.call(n,Q):Y(Q)}),e=Q?(L=X-1,Z=-1):(L=0,Z=X,1);L!==Z;L+=e){var V=u[L];if(on(V)&&(V=V.name),R){var z=g[V];if(z&&0<=z.eachUntil(Y,n,!1))return}else if(!1===l(B,null,n))return}else l(Y,null,n)},each:function(Q,Y){return this._eachImpl(Q,Y,!1)},reverseEach:function(Q,Y){return this._eachImpl(Q,Y,!0)},getViewRect:function(){return this._29I},getContentRect:function(){var Q,Y,n=this,R=n._84I;return R||(Q=this.dm().a("width"),Y=this.dm().a("height"),0<Q&&0<Y?n._84I={x:0,y:0,width:Q,height:Y}:(n.each(function(Q){n.isVisible(Q)&&(R=$g(R,n.getDataUIBounds(Q)))}),n._84I=R||cd)),n._84I},getScrollRect:function(){return $g(this.getContentRect(),this._29I)},makeCenter:function(Q,Y,n){var R,g,B,L,Z=this;Z.getWidth()&&Z.getHeight()?(Z.makeVisible(Q),Z.validate(),(g=Z.getDataUIBounds(Q))&&(L=Z.getWidth(),R=Z.getHeight(),B=g.x+g.width/2,g=g.y+g.height/2,B=-B*Z._zoom+L/2,L=-g*Z._zoom+R/2,Z.setTranslate(B,L,Y))):n||y2(Z.makeCenter,Z,[Q,Y,!0],500)},fitData:function(Y,n,R,g,Q){var B,L=this;L.getWidth()&&L.getHeight()?(B=function(){L.makeVisible(Y),L.validate();var Q=L.getDataUIBounds(Y);Q&&(Q=Qg(Q),Ig(Q,R==V3?20:R),L.fitRect(Q,n,g))},n?z3.callWhenLoaded(B):B()):Q||y2(L.fitData,L,[Y,n,R,g,!0],500)},fitContent:function(Y,n,R,Q){var g,B=this;B.getWidth()&&B.getHeight()?(g=function(){B.validate();var Q=Qg(B.getContentRect());Ig(Q,n==V3?20:n),B.fitRect(Q,Y,R)},Y?z3.callWhenLoaded(g):g()):Q||y2(B.fitContent,B,[Y,n,R,!0],500)},fitRect:function(Q,Y,n){var R=this,g=R.getWidth(),B=R.getHeight(),L=Q.x+Q.width/2,Z=Q.y+Q.height/2,e=R3(g/Q.width,B/Q.height),L=-L*(Q=R._zoom)+g/2,g=-Z*Q+B/2;0===e||isNaN(e)||(n&&(e=R3(1,e)),Y?(R._65I&&(delete R._65I.finishFunc,R._65I.stop(!0)),R._14o&&R._14o.stop(!0),R.setTranslate(L,g,{finishFunc:function(){R.setZoom(e,Y)}})):(R.setTranslate(L,g),R.setZoom(e)))},fitSelection:function(Q,Y,n){var R=this,g=R.sm(),B=null;g.size()&&(g.each(function(Q){B=$g(R.getDataUIBounds(Q),B)}),Q&&Ig(B,Q),R.fitRect(B,Y,n))},toCanvas:function(Q,Y,n){Y=Y||this._zoom,this.validateImpl();var R=Qg(this.getContentRect()),n=(n&&Ig(R,n),R.width||(R.width=10),R.height||(R.height=10),Wn()),g=R.x*Y,B=R.y*Y,L=Math.ceil(R.width*Y),R=Math.ceil(R.height*Y),Z=(yn(n,L,R,1),uT(n)),L=((Q=Q||this._dataModel.getBackground())&&RB(Z,0,0,L,R,Q),xT(Z,-g,-B),Z.scale(Y,Y),this._zoom);return this._zoom=Y,this._42(Z),this._zoom=L,Z.restore(),this.redraw(),n},toDataURL:function(Q,Y,n,R){return this.toCanvas(Q,n,R).toDataURL(Y||"image/png",1)},getClipBounds:function(){return this._74O},_42:function(L,Z){var Q,Y,e=this,n=e.dm().getBackground(),R=(n&&(Q=e.dm().a("width"),Y=e.dm().a("height"),0<Q&&0<Y&&RB(L,0,0,Q,Y,n)),e.__htmlOrderList),u=[],X=e._forcedLayoutHTML;if(e._93db(L,Z),e.each(function(Q){var Y,n,R,g,B=e.getDataUI(Q);B&&(Y=e._56I[Q._id],g=B._htmlView,Y&&(n=B._79o(),g=B._htmlView,K.HtmlNode&&Q instanceof K.HtmlNode?B._42(L):(Q=e.getViewRect(),R=g&&g.layoutHTML,!Z||vg(Z,n)?(R&&(g.layoutHTML(),B.__outerLayout&&delete B.__outerLayout),B._42(L)):vg(Q,n)||!R||B.__outerLayout&&!X||(g.layoutHTML(),B.__outerLayout=!0))),g&&(u.push(g),(g=g.getView?g.getView():g).style.display=Y?"block":VR))}),R&&0<u.length){var g=!1;if(R.length!==u.length)g=!0;else for(var B=0;B<u.length;B++)if(u[B]!==R[B]){g=!0;break}g&&(u.forEach(function(Q){!1!==Q.autoAdjustIndex&&e.appendHTML(Q,!0)}),this.__htmlOrderList=u)}else this.__htmlOrderList=u;e._92db(L,Z)},disableDirtyRect:function(){this._shouldRedrawAll=p},enableDirtyRect:function(){var Q=this;Q._shouldRedrawAll=function(){return Q._32I}},validateImpl:function(){this.tryUpdateRootData();var n,Y,R,Q,g,B,L,Z=this,e=Z.tx(),u=Z.ty(),X=Z._zoom,x=Z._canvas,G=this.getWidth(),o=this.getHeight(),l=Z._29I,V={x:-e/X,y:-u/X,width:G/X,height:o/X},z={},p=Z._34I,$=Z._24I,M=Z._shouldRedrawAll(),F=Z._23I;for(n in Z._24I={},G===x.clientWidth&&o===x.clientHeight||(yn(x,G,o),Z._forcedLayoutHTML=M=1),M||kn(V,l)||(Z._forcedLayoutHTML=M=1),Z._29I=V,Z.each(function(Q){n=Q._id;var Y=z[n]=Z.isVisible(Q);Y!==Z._56I[n]&&($[n]=Q,(R=Z.getDataUI($[n]))&&R._84o(Y),Z._84o(Q,Y))},Z),$)(R=Z._5I($[n]))&&(!M&&Z._56I[n]&&(Q=R._79o())&&p.add(Q),R.invalidate()),Z._83I=1;if(Z._56I=z,!M)for(n in $)z[n]&&(R=Z._5I($[n]))&&(Q=R._79o())&&p.add(Q);M?Y=V:(p.each(function(Q){vg(V,Q)&&(Y=$g(Y,Q))}),Y&&(Ig(Y,n3(1,1/X)),Y.x=T3(Y.x*X)/X,Y.y=T3(Y.y*X)/X,Y.width=E3(Y.width*X)/X,Y.height=E3(Y.height*X)/X,Y=ag(V,Y))),(Z._74O=Y)&&0!==Y.width&&0!==Y.height&&(l=uT(x),x=Y.x,g=Y.y,B=Y.width,L=Y.height,x=Math.floor((x*X+e)*I2),g=Math.floor((g*X+u)*I2),B=Math.ceil(B*X*I2)+1,L=Math.ceil(L*X*I2)+1,M||(Y.x=(x/I2-e)/X,Y.y=(g/I2-u)/X,Y.width=B/I2/X,Y.height=L/I2/X),l.beginPath(),l.rect(x,g,B,L),l.clip(),l.clearRect(x,g,B,L),XT(l,e,u,X),Z._42(l,Y),l.restore(),delete Z._74O),p.clear(),delete Z._32I,delete Z._forcedLayoutHTML,F&&0<G&&0<o&&((R=Z._5I(F))&&(Q=R._79o(),g=(x=Z._29I).x,B=x.y,L=x.width,e=x.height,X=Z._zoom,Q&&!vg(Q,x)&&(Q.x+Q.width<g&&Z.tx(-Q.x*X),Q.x>g+L&&Z.tx(-(Q.x+Q.width-L)*X),Q.y+Q.height<B&&Z.ty(-Q.y*X),Q.y>B+e&&Z.ty(-(Q.y+Q.height-e)*X))),delete Z._23I),Z._83I&&(delete Z._83I,delete Z._84I),Z._98O(),Z.countFrame(),_n(Z._24I)||y2(Z.iv,Z)},isValidGuideLineSource:function(Q){return!0},tryUpdateRootData:function(){if(!this._rootDataUpdating){this._rootDataUpdating=!0;var Q,Y,n=this.getFullscreenDatas();for(Y in n)Q=n[Y],this.scaleRootData(Q);this.onRootDataUpdated&&this.onRootDataUpdated(),this._rootDataUpdating=!1}},scaleRootData:function(Q){if("uniform"===(x=Q.s("fullscreen"))||"fill"===x){Q.getRotation()&&Q.setRotation(0);var Y=Q.s("fullscreen.gap")||0,n=this.getWidth(),R=this.getHeight();if(n&&R){var n=n-2*Y,R=R-2*Y,g=Q.getAnchor(),B=(L=Q.getScaledSize()).width,L=L.height;if(u=Q.s("fullscreen.lock"))return"uniform"===x?B/L<n/R?(X=R/L,B=L*n/R):(X=n/B,L=B*R/n):"v"===u?(B=n/(X=R/L),Q.getWidth()!==B&&Q.setWidth(B)):(L=R/(X=n/B),Q.getHeight()!==L&&Q.setHeight(L)),this.setZoom(X),Z=Y-(Q.getX()-g.x*B)*X,e=Y-(Q.getY()-g.y*L)*X,Z!==this.tx()&&this.tx(Z),void(e!==this.ty()&&this.ty(e));var Z=this.tx(),e=this.ty(),u={x:(-Z+Y)/(X=this._zoom),y:(-e+Y)/X,width:n/X,height:R/X},X=("uniform"===x&&(Z=B/L,Y=(e=Math.min(u.width,u.height*Z))/Z,u.x+=.5*(u.width-e),u.y+=.5*(u.height-Y),u.width=e,u.height=Y),n=u.width/Q.getScaleX(),R=u.height/Q.getScaleY(),Q.getWidth()==n&&Q.getHeight()===R||Q.setSize(n,R),u.x+g.x*u.width),x=u.y+g.y*u.height;X===(B=Q.getPosition()).x&&x===B.y||Q.setPosition(X,x)}}},isScrollBarVisible:function(){return!!this._79O},setScrollBarVisible:function(Q){var Y=this;Q!==Y.isScrollBarVisible()&&(Q?(Dn(Y._view,Y._79O=Kn()),Dn(Y._79O,Y._27I=Kn()),Dn(Y._79O,Y._28I=Kn())):(Tg(Y._79O),delete Y._79O,delete Y._27I,delete Y._28I),Y.fp("scrollBarVisible",!Q,Q))},getDebugTip:function(){return""},showScrollBar:function(){var Q=this;Q._79O&&(Q._85I||(m3(function(){Q._86I()},w2),Q.iv()),Q._85I=new Date)},_86I:function(){var Q=this;Q._85I&&((new Date).getTime()-Q._85I.getTime()>=w2?(delete Q._85I,Q.iv()):m3(function(){Q._86I()},w2))},getVScrollBar:function(){return this._27I},getHScrollBar:function(){return this._28I},_98O:function(){var Q=this._27I,Y=this._28I;if(this._79O){if(this._autoHideScrollBar&&!this._85I)return Q.style.visibility=DR,void(Y.style.visibility=DR);var n=this.getScrollBarColor(),R=this._zoom,g=this.getScrollBarSize(),B=this.getViewRect(),L=this.getScrollRect(),Z=B.height*R,e=L.height*R,u=B.width*R-g-2,X=Z*((B.y-L.y)*R/e),x=Z/e*Z,G=Q.style,e=(Z<e-.5?(x<j2&&(Z<(X=(X=X+x/2-j2/2)<0?0:X)+j2&&(X=Z-j2),x=j2),E(Q,u,X,g,x),G.visibility=fR,G.background=n,G.borderRadius=g/2+zR):G.visibility=DR,B.width*R),Z=L.width*R,X=B.height*R-g-2,u=e*((B.x-L.x)*R/Z),Q=e/Z*e,G=Y.style;e<Z-.5?(Q<j2&&(e<(u=(u=u+Q/2-j2/2)<0?0:u)+j2&&(u=e-j2),Q=j2),E(Y,u,X,Q,g),G.visibility=fR,G.background=n,G.borderRadius=g/2+zR):G.visibility=DR}},setDataModel:function(Q){var Y=this,n=Y._dataModel,R=Y._selectionModel;n!==Q&&(n&&(n.ump(Y.handleDataModelPropertyChange,Y),n.umm(Y.handleDataModelChange,Y),n.umd(Y.handleDataPropertyChange,Y),n.removeIndexChangeListener(Y._75O,Y),n.removeHierarchyChangeListener(Y.handleHierarchyChange,Y),R||n.sm().ums(Y.handleSelectionChange,Y)),(Y._dataModel=Q).mp(Y.handleDataModelPropertyChange,Y),Q.mm(Y.handleDataModelChange,Y),Q.md(Y.handleDataPropertyChange,Y),Q.addIndexChangeListener(Y._75O,Y),Q.addHierarchyChangeListener(Y.handleHierarchyChange,Y),R?R._21I(Q):Q.sm().ms(Y.handleSelectionChange,Y),Y.invalidateAll(!0),Y.fp(_V,n,Q),Y.updateBackground())},getLayersInfo:function(){var Q;return this._layersInfo===l3&&((Q=this.getLayers())?(this._layersInfo={},Q.forEach(function(Q){var Y=on(Q)?Q.name:Q;this._layersInfo[Y]=Q},this)):this._layersInfo=null),this._layersInfo},calculateEdgePosition:function(Q,Y,n){Q instanceof K.Data?(R=this.getDataUI(Q),Z=JL(R)):(Z=JL(null,Q,arguments[1]),Y=arguments[2],n=arguments[3]);var Z,R,g=function(n){var R=1/0,g=0,B=new q;function Q(Q){var Y;return 0<=Q&&Q<=1&&(B=iL(Z,100*Q),(Y=(n.x-B.x)*(n.x-B.x)+(n.y-B.y)*(n.y-B.y))<R&&(R=Y,g=Q,1))}for(var Y=0;Y<100;++Y)Q(Y/100);for(var L=.005;.001<L;)Q(g-L)||Q(g+L)||(L/=2);return g}(Y=2===Y.length?new q(Y[0],Y[1]):Y),B=iL(Z,100*g);if(!n)for(var L=R?TL(R):TL(Q,arguments[1]),e=new q(B.x,B.y),u=49/(this._zoom*this._zoom),X=0,x=L.length;X<x;X++)if(e.distanceToSquared(L[X])<u)return{index:X,point:L[X],distance:Math.sqrt((L[X].x-Y.x)*(L[X].x-Y.x)+(L[X].y-Y.y)*(L[X].y-Y.y))};return{percent:g,point:B,distance:Math.sqrt((B.x-Y.x)*(B.x-Y.x)+(B.y-Y.y)*(B.y-Y.y))}},getPercentPositionOfPath:function(Q,Y){var n;return Q instanceof K.Data?(n=this.getDataUI(Q),n=JL(n)):(n=JL(null,Q,arguments[1]),Y=arguments[2]),iL(n,Y)},getNeareastPositionOfPath:function(){return this.calculateEdgePosition.apply(this,arguments)},getPointsOfPath:function(Q){for(var Y,n,R,g,R=Q instanceof K.Data?(Y=this.getDataUI(Q),n=(Y=aL(Y)).points,Y.segments):(n=Q,arguments[1]),B=Q instanceof K.Shape?Q.getPointsMatrix2d():new y.Matrix2d,L=[],Z=-1,e=-1,u=0,X=(R||n).length;u<X;u++)5!==(g=R?R.get(u):1)&&(e++,3===g?(Bf(L,n,Z+1,e,"C",B),Bf(L,n,Z+2,e,"M",B),Z+=2):4===g?(Bf(L,n,Z+1,e-1,"R",B),Bf(L,n,Z+2,e,"L",B),Bf(L,n,Z+3,e,"M",B),Z+=3):(Bf(L,n,Z+1,e,"M",B),Z+=1));return L},calculateAttachPoint:(t6=new q,m6=new q,q6=new q,function(Q,Y){var n=this.getAttachPoints(Q);if(!n||!n.length)return null;q6.set(Y.x,Y.y);for(var R,g,B,L,Z=1/0,e=0,u=n.length;e<u;e++)B=n[e],m6.x=B.x,m6.y=B.y,t6.x=B.offsetX||0,t6.y=B.offsetY||0,B=eL(this,Q,0,t6.x,t6.y,m6.x,m6.y),(g=q6.distanceToSquared(B))<Z&&(R=e,Z=g,L=B);return Z=Math.sqrt(Z),"close"===(Y=this.getAttachStyle(Q))&&Q.s("attach.close.threshold")/this._zoom<Z?null:{index:R,distance:Z,info:n[R],point:L}}),getAttachPoints:function(Q){var Y=Q.s("attach.points");return Y||((Y=t(Q._image))?d(Y.attachPoints,Q,this)||null:void 0)},getAttachStyle:function(Q){var Y=Q.s("attach.style");return Y||((Y=t(Q._image))?d(Y.attachStyle,Q,this)||"close":void 0)},updateLayers:function(){this._layersInfo=l3,this.invalidateSelection(),this.redraw()},updateBackground:function(){var Q=this.dm().a("width"),Y=this.dm().a("height");this._canvas.style.background=!(0<Q&&0<Y)&&this.dm().getBackground()||""},handleDataModelPropertyChange:function(Q){var Y,n;"background"===Q.property?(Y=this._canvas.style.background,n=Q.newValue||"",this.updateBackground(),this.fp("canvasBackground",Y,n),this.redraw()):"a:width"===Q.property||"a:height"===Q.property?(this._83I=1,this.updateBackground(),this.redraw()):"layers"===Q.property?this.updateLayers():"hierarchicalRendering"===Q.property&&this.redraw()},handleDataPropertyChange:function(Q){this.dm().isHierarchicalRendering()&&"parent"===Q.property&&Q.data.hasChildren()&&this.redraw(),this.invalidateData(Q.data)},onPropertyChanged:function(Q){var Y,n=Q.property;this.redraw(),"zoom"===n?(Y=this.sm().getSelection()).size()&&Y.each(function(Q){Q.invalidate()}):"dataModel"===n&&(this._83I=1),KQ[n]?this.showScrollBar():n===gV&&this.onCurrentSubGraphChanged(Q)},onCurrentSubGraphChanged:function(Q){this.sm().cs(),this.reset()},handleDataModelChange:function(Q){var Y,n,R,g=this,B=Q.kind,Q=Q.data;g._83I=1,"add"===B?(g.invalidateData(Q),zn(Q)&&Q.getEdgeGroup()&&Q.getEdgeGroup().eachSiblingEdge(g.invalidateData,g),Q.getHost&&Q.getHost()&&Q.getHost().updateLayoutAttaches()):B===AR?(g._21Q(Q),Y=Q._id,(n=g._25I[Y])&&(g._56I[Y]&&(R=n._79o())&&g.redraw(R),n.dispose(),delete g._25I[Y],delete g._24I[Y],delete g._56I[Y]),Q===g._currentSubGraph&&g.setCurrentSubGraph(V3)):B===PR&&(g.invalidateAll(!0),g.setCurrentSubGraph(V3))},_75O:function(Q){this.invalidateData(Q.data)},handleHierarchyChange:function(Q){var Y,n;this.dm().isHierarchicalRendering()&&((n=Q.data).getHost&&(Y=n.getHost())&&Y.updateLayoutAttaches(),n.hasChildren()&&this.redraw()),this.invalidateData(Q.data)},adjustIndex:function(Q){if(this.isVisible(Q)){this.dm().beginTransaction();for(var Y=Q;Y._parent&&this.isVisible(Y._parent);)Y=Y._parent;Y&&Y!==Q&&this._dataModel.adjustIndex(Y),this._dataModel.adjustIndex(Q),this.dm().endTransaction()}},getImage:function(Q){return Q.getImage?Q.getImage():l3},getSelectWidth:function(Q){var Y=t(this.getImage(Q));return Y&&d(Y.disableSelectedBorder,Q,this)?0:Q.s("select.width")},getSelectColor:function(Q){return Q.s("select.color")},isSelectable:function(Q,Y){return!!this.isSelected(Q)||!(!Y&&Q.getParent()instanceof $s&&this.isSelectable(Q.getParent(),!0)&&Q.getParent().isSyncSize())&&((!(Y=(Y=this.getLayersInfo())&&Y[Q._layer])||!1!==Y.selectable)&&(Q.s("2d.selectable")&&this.sm().isSelectable(Q)))},isMovable:function(Q){if(zn(Q)&&Q.getStyle(SR)!==NR)return!1;var Y=this.getLayersInfo();return(!(Y=Y&&Y[Q._layer])||!1!==Y.movable)&&(!!Q.s("2d.movable")&&(!this._movableFunc||this._movableFunc(Q)))},isEditable:function(Q){if(K._uiSerializing)return this._uieditable;if(!this._editInteractor||!this.isSelected(Q))return!1;if(pn(Q)){var Y=this.getDataUI(Q);if(!Y||Y._88I)return!1}return(!zn(Q)||Q.getStyle(SR)===NR)&&((!(Y=(Y=this.getLayersInfo())&&Y[Q._layer])||!1!==Y.editable)&&(!!Q.s("2d.editable")&&(!this._editableFunc||this._editableFunc(Q))))},handleDelete:function(Q){this._editInteractor&&(this._editInteractor.handleDelete?this._editInteractor.handleDelete():this.removeSelection())},isPointEditable:function(Q){return(!C(Q)||0===Q.getRotation())&&(!this._pointEditableFunc||this._pointEditableFunc(Q))},isRectEditable:function(Q){return!this._rectEditableFunc||this._rectEditableFunc(Q)},isAnchorEditable:function(Q){return!this._anchorEditableFunc||this._anchorEditableFunc(Q)},isRotationEditable:function(Q){return!(!Q.setRotation||!1===Q.IRotatable)&&(!this._rotationEditableFunc||this._rotationEditableFunc(Q))},isSourceTargetEditable:function(Q,Y,n){return!0},getRotationPoint:function(Q){var Y=Q.getAnchor(),n=Q.getScale(),R=this._zoom,Y=FB(Q.getRotation(),0,-Q.getHeight()*n.y*Y.y-(n.y<0?-1:1)*(f3?32:16)/R),n=Q.p();return Y.x+=n.x,Y.y+=n.y,Y},getLogicalPoint:function(Q){return Ag(Q,this._canvas,this.tx(),this.ty(),this._zoom,this._zoom)},getScreenPoint:function(Q,Y){var n;return"object"==typeof Q?Y=Q.x!==l3?(n=Q.x,Q.y):(n=Q[0],Q[1]):n=Q,Pg(n,Y,this._canvas,this.tx(),this.ty(),this._zoom,this._zoom)},getSelectedDataAt:function(Q){var Y=this;return this.getDataAt(Q,function(Q){return Y.isSelected(Q)})},getDataInfoAt:function(Q,Y,n){var R=this.lp(Q),g=this.getDataAt(R,Y,n);if(g){var B={data:g,ui:Q=this.getDataUI(g),point:R},L=Q._38o;if(L){var Z,e=L.icons;for(Z in e){var u=e[Z],X=L.rects[Z];if(X)for(var x=d(u.names,g,this),u=x?x.length:0,G=X.rotation,o=u-1;0<=o;o--){var l=x[o],V=X[o];if(Mg(V,R,G))return B.part="icons",B.name=Z,B.icon=l,B.rect=V,B.index=o,B.rotation=G,B}}}if(this.isNoteVisible(g)){if(Q.note2Info&&Mg(Q.note2Info.clickRect,R,V3,Q.note2Info.scale))return B.part="note2",B;if(Q.noteInfo&&Mg(Q.noteInfo.clickRect,R,V3,Q.noteInfo.scale))return B.part="note",B}if(this.isLabelVisible(g)){if(Q.label2Info&&Mg(Q.label2Info.rect,R,Q.label2Info.rotation,Q.label2Info.scale))return B.part="label2",B;if(Q.labelInfo&&Mg(Q.labelInfo.rect,R,Q.labelInfo.rotation,Q.labelInfo.scale))return B.part="label",B}if(g.isInRect&&g.isInRect(R))return B.part="body",B}return B},getDataAt:function(Y,n,R){Y.target&&(Y=this.lp(Y));var g,B=this._zoom;return this.reverseEach(function(Q){if((n?n(Q):this.isSelectable(Q))&&this.rectIntersects(Q,en(Y.x,Y.y,R,B)))return g=Q,!1},this),g},getIconInfoAt:function(Q,Y){if(Q.target&&(Q=this.lp(Q)),Y=Y||this.getDataAt(Q)){var n=this.getDataUI(Y);if(n&&n._38o){var R=n._38o,g=new W;for(L in R.icons)g.add(L);for(var B=g.size()-1;0<=B;B--){var L=g.get(B),Z=R.rects[L];if(Z)for(var e=Z.rotation,u=Z.length-1;0<=u;u--){var X=Z[u],x=X.width,G=X.height,o={x:Q.x-X.x-x/2,y:Q.y-X.y-G/2};if(e!=V3&&(o=FB(-e,o.x,o.y)),Mg(X={x:-x/2,y:-G/2,width:x,height:G},o))return{key:L,index:u,name:R.icons[L].names[u],rect:Z[u],point:Q,rotation:e,relativeRect:X,relativePoint:o,data:Y}}}}}return V3},getDatasInRect:function(Y,n,R){R===l3&&(R=1);var g=this,B=new W;return g.reverseEach(function(Q){R&&!g.isSelectable(Q)||(n?g.rectIntersects(Q,Y):g.rectContains(Q,Y))&&B.add(Q)}),B},moveSelection:function(Q,Y){this.dm().beginTransaction(),PB(this.sm().toSelection(this.isMovable,this),Q,Y),this.dm().endTransaction()},moveDatas:function(Q,Y,n){this.dm().beginTransaction(),Q instanceof W||(Q=new W(Q)),PB(Q,Y,n),this.dm().endTransaction()},getDataUIBounds:function(Q){return(Q=this.getDataUI(Q))?Q._79o():V3},drawData:function(Y,Q,n){var R,g=this.getDataUI(Q);g&&(R=g._79o(),n&&!vg(n,R)||(g._42(Y),Q instanceof K.Block&&Q.eachChild(function(Q){this.isVisible(Q)&&this.drawData(Y,Q,n)},this)))},getBoundsForGroup:function(Q){return Q.s(ER)?this.getDataUIBounds(Q):V3},isPixelPerfect:function(Q){return Q.s("pixelPerfect")},rectIntersects:function(Q,Y){this.validate();var n=V3;if(this._56I[Q._id]&&(g=this._25I[Q._id])){var R=g.getInteractiveRect();if(Fg(Y,R))n=!0;else if((Y=ag(Y,R))&&(n=g.rectIntersects?g.rectIntersects(Y):n)==V3){if(!this.isPixelPerfect(Q))return!0;var R=Y.x,g=Y.y,B=Y.width,L=Y.height,Z=this._zoom,e=B*L*Z*Z,u=((u=z3.hitMaxArea)<e&&(Z*=Math.sqrt(u/e)),R*=Z,g*=Z,dT(B=(B*=Z)<2?2:B,L=(L*=Z)<2?2:L));xT(u,-R,-g),u.scale(Z,Z),this._drawForChecking=!0,this.drawData(u,Q,Y),this._drawForChecking=!1;try{for(var X=0,x=u.getImageData(0,0,B,L).data;X<x.length;X+=4)if(0!==x[X+3]){n=!0;break}u.restore()}catch(Q){tT=V3,n=!1}}}return!!n},rectContains:function(Q,Y){return!(!this._56I[Q._id]||!(Q=this._25I[Q._id]))&&Fg(Y,Q._79o())},reset:function(){this.setZoom(1),this.setTranslate(0,0)},handleKeyDown:function(Q){var Y,n,R,g,B;z3.isInput(Q.target)||(n=(B=(Y=this)._focusData)&&Y._25I[B._id],g=0,R=Y._dataModel._datas,B&&B._enabled&&B._editable&&n&&n.onKeyDown&&!0===n.onKeyDown(Q)||(9===Q.keyCode&&(B&&(g=R.indexOf(B),Gg(Q)?-1==--g&&(g=0):++g===R.size()&&(g=0)),Y._focusData=B=R.get(g),Y.sm().setSelection(B)),TT(Q)?Y.selectAll():jT(Q)&&Y.isResettable()&&Y.reset(),Y.sm().isEmpty()?Y._editing||(n=Y.tx(),R=Y.ty(),g=!1,B=Gg()?100:10,NT(Q)&&(n-=B,g=!0),UT(Q)&&(R-=B,g=!0),CT(Q)&&(n+=B,g=!0),wT(Q)&&(R+=B,g=!0),g&&Y.setTranslate(n,R)):(ET(Q)&&Y.handleDelete(Q),B=Gg()?10:1,NT(Q)&&(Y.moveSelection(-B,0),Y.fi({kind:"moveLeft"})),UT(Q)&&(Y.moveSelection(0,-B),Y.fi({kind:"moveUp"})),CT(Q)&&(Y.moveSelection(B,0),Y.fi({kind:"moveRight"})),wT(Q)&&(Y.moveSelection(0,B),Y.fi({kind:"moveDown"})))))},handleScroll:function(Q,Y){if(d2(Q),this.isZoomable()){if(!this.getEditInteractor()){var n=this.getDataAt(Q);if(n){var R=t(this.getImage(n));if(R&&d(R.scrollable,n,this))return}}var g,B=this.getFullscreenDatas();for(g in B)if(B[g].s("fullscreen.lock"))return;R=this.lp(Q),0<Y?this.scrollZoomIn(R):Y<0&&this.scrollZoomOut(R)}},handlePinch:function(Q,Y,n){!this.isZoomable()||Math.abs(Y-n)<z3.pinchZoomThreshold||(n<Y?this.pinchZoomIn(Q):this.pinchZoomOut(Q))},checkDoubleClickOnNote:function(Q,Y){var n=this.lp(Q),R=this.getDataUI(Y),g=R.note2Info;return g&&Y.s("note2.toggleable")&&Mg(g.clickRect,n)?(Y.s(KR,!Y.s(KR)),this.fi({kind:"toggleNote2",event:Q,data:Y}),!0):!!((g=R.noteInfo)&&Y.s("note.toggleable")&&Mg(g.clickRect,n))&&(Y.s(dR,!Y.s(dR)),this.fi({kind:"toggleNote",event:Q,data:Y}),!0)},_84o:function(Q,Y){},isNoteVisible:function(Q){return.15<this._zoom},isLabelVisible:function(Q){return.15<this._zoom},isEditVisible:function(Q){return.15<this._zoom},autoScroll:function(Q,Y){var n=this,R=n.getAutoScrollZone(),g=R/n.getZoom(),B=R/4,L=n._29I,Q=n.lp(Q),Z={x:n.tx(),y:n.ty()};return Q&&0<R&&L&&(Q.x-L.x<g?n.translate(B,0):L.x+L.width-Q.x<g&&n.translate(-B,0),Q.y-L.y<g?n.translate(0,B):L.y+L.height-Q.y<g&&n.translate(0,-B)),Z.x=n.tx()-Z.x,Z.y=n.ty()-Z.y,Y&&(Y.x+=Z.x,Y.y+=Z.y),Z},getMoveMode:function(Q,Y){return(Y=Y.s("2d.move.mode"))||(Nd[88]?"x":Nd[89]?"y":"xy")},getSerializableProperties:function(){return{scrollBarColor:1,scrollBarSize:1,autoMakeVisible:1,autoHideScrollBar:1,editable:1,resettable:1,pannable:1,rectSelectable:1,autoScrollZone:1,visibleFunc:1,movableFunc:1,editableFunc:1,pointEditableFunc:1,rectEditableFunc:1,anchorEditableFunc:1,rotationEditableFunc:1,rectSelectBackground:1,rectSelectBorderColor:1,editPointSize:1,editPointBorderColor:1,editPointBackground:1,hoverDelay:1,dataModel:1,selectionModel:1,currentSubGraph:1,zoom:1,translateX:1,translateY:1}},serializeProperty:function(Q,Y,n){return"currentSubGraph"===Y?{__i:Q.getId()}:n.serializeProperty(Q,Y,this)},deserializeProperty:function(Q,Y,n){return"currentSubGraph"===Y?this.dm().__idMap[Q.__i]:n.deserializeProperty(Q,Y,this)},setDefaultCursor:function(Q,Y){this._defaultCursor=Q,!1!==Y&&this.setCursor(Q)},getCurrentConnectActionType:function(){return this._currentActionType},setCurrentConnectActionType:function(Q){return!(Q!==V3&&!z3.getConnectAction(null,Q)||(this._currentActionType=Q,this.redraw(),0))},getEditStyle:function(Q){var Y=this.getEditInteractor();return Y?Y.getStyle(Q):l3},setEditStyle:function(Q,Y,n){var R=this.getEditInteractor();return!!R&&(R.setStyle(Q,Y,n),!0)},isConnectActionVisible:function(Q){var Y=z3.getConnectAction(this);return!!Y&&(Y=Y.visible,ln(Y)?Y(this,Q):Y)},isInteractive:function(Q){if(this._drawForChecking)return!1;var Y=t(this.getImage(Q));return!(!Y||!d(Y.interactive,Q,this))||Q.s("interactive")},getRenderingStyleIconName:function(){return ts},appendHTML:function(Q,Y){var n=this.getView();if(!(Y||Q&&Q.parentNode!==n))return!1;var R=Q.getView&&Q.getView(),g=Q.beforeCanvas;return!(!Y&&R&&R.parentNode===n)&&((Q.getView||Q.isSelfViewEvent)&&(Q=Q.getView()),Y=this.getEditInteractor(),g?n.insertBefore(Q,this.getCanvas()):Y&&Y._canvas?n.insertBefore(Q,Y._canvas):this.isScrollBarVisible()?n.insertBefore(Q,this.getView().lastChild):Dn(n,Q),!0)},_layoutHTMLImpl:function(Q,Y,n){var R,g,B,L,Z,e,u,X,x;1<arguments.length?(g=this._zoom,(Y=Y.getView?(R=Y).getView():Y).style.position="absolute",n?(e=Q.getRect(),E(R||Y,this.tx()+e.x*g,this.ty()+e.y*g,e.width*g,e.height*g)):(n=new B2,B=Q.s("html.layout.anchor.sync"),u=Q.getPosition(),X=Q.getScale(),x=Y.style,e=B?Q.getAnchorRect():{x:.5*-(L=Q.getWidth()),y:.5*-(Z=Q.getHeight()),width:L,height:Z},E(R||Y,e),n.appendTranslate(this.tx(),this.ty()),n.appendScale(g,g),n.append(new B2(Q.getRotation(),u.x,u.y,X.x,X.y)),B||n.appendTranslate(L*(.5-Q.getAnchorX()),Z*(.5-Q.getAnchorY())),ZT(x,"transform","matrix("+n.a.toFixed(5)+", "+n.b.toFixed(5)+", "+n.c.toFixed(5)+",\n    "+n.d.toFixed(5)+", "+n.tx.toFixed(5)+", "+n.ty.toFixed(5)+")"),ZT(x,"transformOrigin",(-e.x).toFixed(5)+"px "+(-e.y).toFixed(5)+"px"),Y.updateAppendMatrix=!0)):this._layoutHTML&&this._layoutHTML()},getTextEditInfo:function(Q){if(Q instanceof Fs)return{name:"text",accessType:"s",font:Q.s("text.font"),isMultiline:!0}},getState:function(Q){var Y=Q.s("state");return Y||((Y=t(Q._image))?d(Y.state,Q,this)||null:void 0)},getShape:function(Q){return Q.getStyle(aR)}}),m.defineProperties($L.GraphView.prototype,{layoutHTML:{get:function(){return this._layoutHTMLImplBind||(this._layoutHTMLImplBind=this._layoutHTMLImpl.bind(this)),this._layoutHTMLImplBind},set:function(Q){this._layoutHTML=Q}}}),function(Q,Y){this.gv=Q,this.s=function(Q){return Y.getStyle(Q)},this._data=Y,this._87I=new W}),ts=V3,ms=(Og(hs,m,{_6I:V3,ms_icons:1,_84o:function(Q){},dispose:function(){},isShadowed:function(){return this.s("shadow")||this.gv.isSelected(this._data)&&"shadow"===this.s("select.type")},getSelectWidth:function(){return!this.gv.isSelected(this._data)||this.isShadowed()?0:this.gv.getSelectWidth(this._data)},getSelectColor:function(){return this.gv.getSelectColor(this._data)},getBodyColor:function(Q){var Y=this._data;return this.gv.getBodyColor(Y)||(Q?Y.getStyle(Q):V3)},_2Q:function(Q){return this.s(Q)},_1Q:function(Q,Y,n,R){var g,B=this.s,L=B("2d.gray"),Z=B(Y+".dash.color");L&&(Z=z3.toGrayColor(Z)),Q.strokeStyle=Z,Q.lineWidth=n,Q.stroke(),B(Y+".dash.3d")&&(g=B(Y+".dash.3d.color"),YB(Q,Z,L?z3.toGrayColor(g):g,n,this.gv._zoom,B(Y+".dash.3d.accuracy"))),LQ(Q,R)},invalidate:function(){this._6I=V3},_79o:function(){var Q,Y,n=this;return n._6I||(Q=n._data,Y=n.gv,n.labelInfo=n.label2Info=n.noteInfo=n.note2Info=n._38o=V3,n._87I.clear(),n.interactiveInfo=Y.isInteractive(Q)?{}:V3,n._interactiveRect=V3,n._3O(),n._55O=Y.isEditable(Q)?{_42O:Y.isRectEditable(Q),_43O:Y.isPointEditable(Q),_56O:Y.isRotationEditable(Q)}:V3,n._6I=n._81o()),n._6I},_3O:function(){},getPosition:function(Q,Y,n,R){return cd},_68o:function(Q,Y){var n,R;Q&&this._87I.add(Y?(Y=new L2(Y),n=Q.width/2,R=Q.height/2,(Y=pg([Y.tf(-n,-R),Y.tf(n,-R),Y.tf(n,R),Y.tf(-n,R)])).x+=Q.x+n,Y.y+=Q.y+R,Y):Q)},getInteractiveRect:function(){var Q=this._6I||this._79o();return this._interactiveRect||Q},_81o:function(){var Y,Q,n,R=this,g=R.s;return R._24O(jR,"getLabel"),R._24O(rR,"getLabel2"),R._26O(HR,"getNote"),R._26O(sR,"getNote2"),R._15O(),R._55O&&R._48O(),R._87I.each(function(Q){Y=$g(Y,Q)}),Y&&(Q=R.isShadowed(),n=g("shadow2"),(Q||n)&&(n=Qg(Y),Q?(n.x+=g("shadow.offset.x"),n.y+=g("shadow.offset.y"),Ig(n,g("shadow.blur"))):(n.x+=g("shadow2.offset.x"),n.y+=g("shadow2.offset.y"),Ig(n,g("shadow2.blur"))),n=$g(Y,n),g("shadow.interactable")||(R._interactiveRect=Y),Y=n)),R._87I.clear(),Y},_42:function(Q){var Y,n,R,g,B,L,Z,e=this,u=e._data,X=e.gv,x=e.s,G=x("opacity"),o=this.isShadowed(),l=x("shadow2");(o||l)&&(Y=Q.shadowOffsetX,n=Q.shadowOffsetY,R=Q.shadowBlur,g=Q.shadowColor,B=X.getZoom()*z3.devicePixelRatio,Q.shadowOffsetX=x((L=o?"shadow":"shadow2")+".offset.x")*B,Q.shadowOffsetY=x(L+".offset.y")*B,Q.shadowBlur=x(L+".blur")*B,Q.shadowColor=o?e.getSelectColor():x(L+".color")),G!=V3&&(Z=Q.globalAlpha,Q.globalAlpha=G),e.drawBody(Q),X.isLabelVisible(u)&&(X._drawForChecking&&!x("label.selectable")||xL(Q,e.labelInfo),X._drawForChecking&&!x("label2.selectable")||xL(Q,e.label2Info)),X.isNoteVisible(u)&&(GL(Q,e.noteInfo),GL(Q,e.note2Info)),e._99O(Q),G!=V3&&(Q.globalAlpha=Z),(o||l)&&(Q.shadowOffsetX=Y,Q.shadowOffsetY=n,Q.shadowBlur=R,Q.shadowColor=g)},drawBody:function(Q){},_47O:function(Q){},_24O:function(Q,Y){var n,R,g,B=this._data,L=this.gv,Z=this.s,e=L[Y](B);e!=V3&&(n=Z(Q+".scale"),g=Z(Q+".max"),R=Z(Q+".position"),L=this[Q+"Info"]={label:e,scale:n,color:L[Y+"Color"](B),font:Z(Q+".font"),opacity:Z(Q+".opacity"),align:Z(Q+".align"),decoration:Z(Q+".decoration"),rotation:this.getRotation(Z(Q+".rotation"),!1,R),background:L[Y+"Background"](B)},Y=fn(L,e),0<g&&g<Y.width&&(L.labelWidth=Y.width,Y.width=g),1!==n&&(Y.width*=n,Y.height*=n),B=this.getPosition(R,Z(Q+".offset.x"),Z(Q+".offset.y"),Y,Z(Q+".position.fixed")),Y.x=B.x-Y.width/2,Y.y=B.y-Y.height/2,this._68o(L.rect=Y,L.rotation),1!==n&&(e=Y.width/n,g=Y.height/n,L.rect={x:B.x-e/2,y:B.y-g/2,width:e,height:g}))},_26O:function(Q,Y){var n,R,g,B,L,Z=this.gv,e=this._data,u=this.s,X=Z[Y](e);X!=V3&&(n=u(Q+".scale"),Z=this[Q+"Info"]={note:X,scale:n,data:e,view:Z,expanded:u(Q+".expanded"),font:u(Q+".font"),color:u(Q+".color"),opacity:u(Q+".opacity"),align:u(Q+".align"),icon:u(Q+".icon"),backgroundImage:u(Q+".backgroundImage"),borderWidth:u(Q+".border.width"),borderColor:u(Q+".border.color"),background:Z[Y+"Background"](e)},R=(Y=this.getPosition(u(Q+".position"),u(Q+".offset.x"),u(Q+".offset.y"))).x,Y=Y.y,Z.expanded?(g=u(Q+".max"),(L=(L=u(Q+".backgroundImage"))?(L=t(L),{width:vQ(L,e),height:aQ(L,e)}):fn(Z,X)).width+=6,L.height+=2,0<g&&g<L.width&&(Z.labelWidth=L.width,L.width=g),g=L.width,B=L.height+8,Z.clickRect={x:R-g*n/2,y:Y-B*n,width:g*n,height:B*n*L.height/B}):(B=(X=u(Q+".icon"))?(X=t(X),g=vQ(X,e),aQ(X,e)):(g=12,18),Z.clickRect={x:R-g*n/2,y:Y-B*n,width:g*n,height:B*n}),Z.rect={x:R-g/2,y:Y-B*n/2-B/2,width:g,height:B},L=E3(Z.borderWidth/2)*n,this._68o({x:R-g*n/2-L,y:Y-B*n-L,width:g*n+2*L,height:B*n+2*L}))},_48O:function(){},_99O:function(Q){var Y=this._38o;if(Y){var n,R=this.gv,g=this._data,B=Y.icons,L=this.interactiveInfo;for(n in L&&(L._38o={}),B){var Z=B[n],e=Y.rects[n];if(e){L&&(L._38o[n]=[]);var u,X=d(Z.opacity,g,R),x=d(Z.names,g,R),G=x?x.length:0,o=e.rotation;X!=V3&&(u=Q.globalAlpha,Q.globalAlpha*=X);for(var l=0;l<G;l++){var V,z,p=x[l],p=t(p),$=e[l],M=(o&&(V=$.x+$.width/2,z=$.y+$.height/2,Q.save(),xT(Q,V,z),GT(Q,o),xT(Q,-V,-z)),L&&L._38o[n].push(Q.interactiveInfo={compInfos:[],matrix:o?new B2(o,V,z).appendTranslate(-V,-z):new B2}),ts);ts=n,c2(Q,p,d(Z.stretch,g,R),$.x,$.y,$.width,$.height,this._data,this.gv),ts=M,Q.interactiveInfo=V3,o&&Q.restore()}X!=V3&&(Q.globalAlpha=u)}}}}}),function(Q,Y){En(ms,this,[Q,Y])}),qs=(Og(ms,hs,{_checkEmptyRect:!0,_40O:function(Q,Y){var n,R=this.s,g=Q.rect,B=((Q.borderColor=this.gv.getBorderColor(this._data))&&(Q.borderType=R("border.type"),Q.borderWidth=R("border.width"),Q.borderPadding=R("border.padding"),Y=n3(Y,Q.borderPadding+Q.borderWidth/2)),this._data.getScale()),B=n3(1,n3(b3(B.x),b3(B.y)));(Q.selectWidth=this.getSelectWidth())&&(n=this.gv._zoom,Q.selectType=R("select.type"),Q._97o=this.getSelectColor(),Q.selectPadding=R("select.padding"),Y=n3(Y,(Q.selectPadding+Q.selectWidth/2/n)/B)),0<Y&&(Y*=B,g=Qg(g),Ig(g,Y)),this._68o(g)},_39O:function(Q,Y){var n,R,g,B,L,Z=Y.rect;0<Y.borderWidth&&(L=Y.borderPadding,Q.strokeStyle=Y.borderColor,Q.lineWidth=Y.borderWidth,gB(Q,Y.borderType,{x:Z.x-L,y:Z.y-L,width:Z.width+2*L,height:Z.height+2*L}),Q.stroke()),0<Y.selectWidth&&(R=this.gv._zoom,L=Y.selectPadding,Q.strokeStyle=Y._97o,Q.lineWidth=Y.selectWidth/R,Y.rotation!=V3&&(Q.save(),Q.translate(Y.position.x,Y.position.y),Q.rotate(Y.rotation),n=(R=this._data).getWidth(),R=R.getHeight(),g=Y.scale,B=Y.anchor,Z={x:g.x*(-n*B.x),y:g.y*(-R*B.y),width:g.x*n,height:g.y*R}),gB(Q,Y.selectType,{x:Z.x-L,y:Z.y-L,width:Z.width+2*L,height:Z.height+2*L}),Y.rotation!=V3&&Q.restore(),Q.stroke())},dispose:function(){var Q=this._htmlView;ms.superClass.dispose.call(this),Q&&(Q.onHTMLRemoved&&Q.onHTMLRemoved(),Tg(Q))},_3O:function(){var Q,Y=this,n=Y.s,R=Y._data,g=Y.gv,B=g.getShape(R),L=Y.getBodyColor(),Z=n("shape.border.color"),e=((L=(Z=Y._83o=B?{shape:B,_53o:Y.getBodyColor("shape.background"),_27Q:t(n("shape.repeat.image"),L),shapeRepeatImageStretch:n("shape.repeat.image.stretch"),shapeRepeatImageRotation:n("shape.repeat.image.rotation"),shapeGradientPack:n("shape.gradient.pack"),shapeBorderGradientPack:n("shape.border.gradient.pack"),_54o:n("shape.border.width"),_55o:Z,shapeBorderRepeatImage:t(n("shape.border.repeat.image"),Z),shapeBorderRepeatImageStretch:n("shape.border.repeat.image.stretch"),shapeBorderRepeatImageRotation:n("shape.border.repeat.image.rotation"),_56o:n("shape.border.3d"),_57o:n("shape.border.3d.color"),_58o:n("shape.border.3d.accuracy"),shapeGradient:n("shape.gradient"),_59o:n("shape.gradient.color"),_60o:n("shape.border.pattern"),_61o:n("shape.border.cap"),_62o:n("shape.border.join"),shapeForeground:n("shape.foreground"),bodyColor:L,gray:n("2d.gray")}:{img:t(g.getImage(R),L),bodyColor:L,gray:n("2d.gray"),stretch:n("image.stretch")}).img)&&L.renderHTML?(Y._htmlInfo&&Y._htmlInfo.img!==L&&(Y._htmlInfo=V3),Y._htmlInfo||(Y._htmlInfo={img:L,cache:{}}),e=L.renderHTML(R,g,Y._htmlInfo.cache)):Y._htmlInfo=V3,Y._htmlView&&Y._htmlView!==e&&(Y._htmlView.onHTMLRemoved&&Y._htmlView.onHTMLRemoved(),Tg(Y._htmlView.getView?Y._htmlView.getView():Y._htmlView)),(Y._htmlView=e)&&g.appendHTML(e)&&(e.onHTMLAddedSync&&e.onHTMLAddedSync(),e.onHTMLAdded&&y2(e.onHTMLAdded)),Z.rect=R.getRect(),Z.position=R.p(),Z.scale=R.getScale(),Z.anchor=R.getAnchor(),Z.rotation=R.getRotation(),B===H&&(Z._63o=n("shape.depth")),0);B?(e=cT(V3,Z._54o/2,Z._62o),Y.s("shape.dash")&&(e=n3(e,(Y.s("shape.dash.width")||Z._54o)/2))):L&&L.boundExtend&&(e=d(L.boundExtend,R,g),L.boundExtendAbsolute?(Q=R.getScale(),e/=g._zoom*n3(1,n3(b3(Q.x),b3(Q.y)))):d(L.fitSize,R,g)||(Q=d(L.width,R,g),L=d(L.height,R,g),e*=n3(R.getWidth()/Q,R.getHeight()/L))),Y._40O(Z,e),(g=n("clip.percentage"))!=l3&&(Z.clipRect=rn(R.getAnchorRect(),n("clip.direction"),g)),B&&((Q=n("shape.fill.clip.percentage"))!=l3&&(Z.shapeClipRect=rn(R.getAnchorRect(),n("shape.fill.clip.direction"),Q)),(L=n("shape.foreground.clip.percentage"))!=l3&&(Z.shapeForegroundClipRect=rn(R.getAnchorRect(),n("shape.foreground.clip.direction"),L))),n("clip.host")&&R.getHost()&&(Z.clipHost=!0)},getPosition:function(Q,Y,n,R){return(Q=_B(Q,this._83o.rect,R)).x+=Y,Q.y+=n,Q},clipHost:function(n){var Y,R,Q,g,B,L,Z,e,u,X,x,G,o=this._data.getHost();return o instanceof vs?(Q=o.getPoints().toArray(),e=o.getSegments().toArray(),Y=o.getMatrix(),R=o.p(),Q=Q.map(function(Q){return(Q=Qg(Q)).x-=R.x,Q.y-=R.y,Y.apply(Q)}),fT(n,Q,e)):(Q=this.gv.getShape(o))?("roundRect"===Q?g=o.s("shape.corner.radius"):"polygon"===Q?(g=o.s("shape.polygon.side"),B=o.s("shape.corner.radius"),L=o.s("shape.regular")):"nStar"===Q?(g=o.s("shape.star.side"),B=o.s("shape.corner.radius"),L=o.s("shape.star.ratio"),Z=o.s("shape.regular")):"arc"===Q&&(g=o.s("shape.arc.from"),B=o.s("shape.arc.to"),L=o.s("shape.arc.close"),Z=o.s("shape.arc.oval")),e=o.p(),u=o.getRotation(),x=o.getAnchor(),G=o.getScale(),(X=o.getSize()).x=-X.width*x.x,X.y=-X.height*x.y,n.save(),xT(n,e.x,e.y),GT(n,u),oT(n,G.x,G.y),MB[Q](n,X.x,X.y,X.width,X.height,g,B,L,Z),n.restore()):(x=o.s("host.clip.padding")||0,G=o.getScale(),o.getCorners(-x/Math.abs(G.x),-x/Math.abs(G.y)).forEach(function(Q,Y){Y?n.lineTo(Q.x,Q.y):n.moveTo(Q.x,Q.y)})),!0},drawBody:function(Q){var Y,n,R,g,B,L,Z,e,u,X,x,G,o,l,V,z,p,$=this,M=$.s,F=$.gv,v=$._data,a=$._83o,J=a.rect,I=a.position,A=a.rotation,P=a.anchor,i=a.scale,T=a.shape,E=a.clipHost,_=a.clipRect;(!$._checkEmptyRect||0<J.width&&0<J.height)&&((J=M("composite"))&&(Q.save(),Q.globalCompositeOperation=J),E&&(Q.save(),Q.beginPath(),$.clipHost(Q)&&Q.clip()),(Y=v.getSize()).x=-Y.width*P.x,Y.y=-Y.height*P.y,Q.save(),xT(Q,I.x,I.y),GT(Q,A),oT(Q,i.x,i.y),_&&(Q.beginPath(),Q.rect(_.x,_.y,_.width,_.height),Q.clip()),F._drawForChecking&&a.img&&!1===d(a.img.pixelPerfect,v,F)?RB(Q,Y.x,Y.y,Y.width,Y.height,"#888888"):$.freeDraw?$.freeDraw(Q,Y,a):T?(P=a._27Q,_=a._54o,o=a.shapeGradientPack,n=a.gray,R=Q.lineJoin,g=Q.lineCap,u=M("shape.border.width.absolute"),z=a._60o,X=F._zoom,u&&z&&(z=z.map(function(Q){return Q*X})),V=BQ(Q,z),x=function(Q){return n?z3.toGrayColor(Q):Q},"roundRect"===T?B=M("shape.corner.radius"):"polygon"===T?(B=M("shape.polygon.side"),L=M("shape.corner.radius"),Z=M("shape.regular")):"nStar"===T?(B=M("shape.star.side"),L=M("shape.corner.radius"),Z=M("shape.star.ratio"),e=M("shape.regular")):"arc"===T&&(B=M("shape.arc.from"),L=M("shape.arc.to"),Z=M("shape.arc.close"),e=M("shape.arc.oval")),Q.lineJoin=a._62o,Q.lineCap=a._61o,(G=x(a._53o))||P||o?((l=a.shapeClipRect)&&(Q.save(),Q.beginPath(),Q.rect(l.x,l.y,l.width,l.height),Q.clip()),gB(Q,T,Y,B,L,Z,e),o?yT(Q,o,function(Q){return KT(Q,a.bodyColor)},!1,Y):P?LB(Q,P,x(a.bodyColor),null,v,F,a.shapeRepeatImageStretch,Y,a.shapeRepeatImageRotation):BB(Q,G,a.shapeGradient,x(a._59o),Y),Q.fill(),o&&Q.restore(),l&&Q.restore(),Q!==V&&gB(V,T,Y,B,L,Z,e)):gB(V,T,Y,B,L,Z,e),(P=a.shapeForeground)&&(Q.save(),(o=a.shapeForegroundClipRect)&&(Q.beginPath(),Q.rect(o.x,o.y,o.width,o.height),Q.clip()),gB(Q,T,Y,B,L,Z,e),BB(Q,P,M("shape.foreground.gradient"),x(M("shape.foreground.gradient.color")),Y),Q.fill(),Q.restore()),u&&(l=Q.getTransform(),(p=$._ctxMat||($._ctxMat=new K.Math.Matrix2d)).set(l.a,l.b,l.c,l.d,l.e,l.f),Q.save(),Q.setTransform(1,0,0,1,0,0)),0<_&&(Q.lineWidth=_,o=x(a._55o),(P=a.shapeBorderGradientPack)?yT(Q,P,x,!0,Y,p):a.shapeBorderRepeatImage?ZB(Q,a.shapeBorderRepeatImage,o,null,v,F,a.shapeBorderRepeatImageStretch,Y,a.shapeBorderRepeatImageRotation):Q.strokeStyle=o,Q.stroke(),P&&Q.restore(),a._56o&&YB(Q,o,x(a._57o),_,F._zoom,a._58o)),LQ(Q,z),M("shape.dash")&&0<(l=M("shape.dash.width")||_)&&(z=M("shape.dash.pattern"),u&&(z=z.map(function(Q){return Q*X})),(V=BQ(Q,z,$._2Q("shape.dash.offset")))!==Q&&gB(V,T,Y,B,L,Z,e),$._1Q(Q,"shape",l,z)),oB(Q,G,a._63o,Y),u&&Q.restore(),Q.lineJoin=R,Q.lineCap=g):((p=$.interactiveInfo)&&(Q.interactiveInfo=p.bodyInfo={compInfos:[],matrix:new B2(A,I.x,I.y,i.x,i.y)}),a.gray&&(Q.compGray=!0),(P=a.img)&&P.cacheRule!=V3&&(P=FL(Q,P,a.stretch,Y.width,Y.height,v,F,a.bodyColor)),c2(Q,P,a.stretch,Y.x,Y.y,Y.width,Y.height,v,F,a.bodyColor),Q.compGray=!1,Q.interactiveInfo=V3),Q.restore(),E&&Q.restore(),J&&Q.restore()),$._39O(Q,a)},_48O:function(){},_47O:function(Q){}}),function(Q,Y){En(qs,this,[Q,Y])}),ds=function(Q,Y,n,R){var g=zg(Q,Y);return n=(R?R3:oL)(n,g),g?n/=g:n=0,{x:Q.x+(Y.x-Q.x)*n,y:Q.y+(Y.y-Q.y)*n}},Ks=(Og(qs,hs,{_3O:function(){var Q,Y,n,R,g,B,L,Z,e,u=this,X=u._data,x=u.gv,G=u.s,o=G(SR),l=X.isLooped(),V=G("edge.width"),z=u.getBodyColor("edge.color"),p=G("edge.center"),$=G("edge.offset"),M=x.getBorderColor(X),F=M?G("border.width"):0,v=u.getSelectWidth(),a=X._40I,J=X._41I;(z=u._78o=a&&J?{looped:l,type:o,width:V,center:p,color:z,repeatImage:t(G("edge.repeat.image"),z),borderColor:M,borderWidth:F,_97o:v?u.getSelectColor():V3,selectWidth:v,pattern:G("edge.pattern"),cap:G("edge.cap"),join:G("edge.join"),is3d:G("edge.3d"),_67o:G("edge.3d.color"),_66o:G("edge.3d.accuracy"),gray:G("2d.gray")}:V3)&&((M=z3.getEdgeType(o))?(M=M(X,zL(u,x,X,l,o),x,u._19Q)).points&&1<M.points.size()?(z.edgeTypeInfo=M,Q=pg(z.edgeTypeInfo.points)):M[nV]&&M.rect&&(Q=(z.edgeTypeInfo=M).rect):(M=G("edge.source.anchor.x"),B=G("edge.source.anchor.y"),R=G("edge.target.anchor.x"),g=G("edge.target.anchor.y"),Y=ZL(x,X,"source"),n=ZL(x,X,"target"),o===NR?(Z=(L=z.points=G(cR)||jQ).size(),z.segments=G("edge.segments"),M=M!==l3||B!==l3||zn(a),B=R!==l3||g!==l3||zn(J),p||($?(M||(Y=ds(Y,Z?L.get(0):n,$,Z)),B||(n=ds(n,Z?L.get(Z-1):Y,$,Z))):(M||(e=Un(Y,Z?L.get(0):n,mQ(x,a)))&&(Y={x:e[0],y:e[1]}),B||(e=Un(Z?L.get(Z-1):Y,n,mQ(x,J)))&&(n={x:e[0],y:e[1]}))),Q=$g(pg(z.points),pg(Y,n))):(R=zL(u,x,X,l,o),u._19Q||(R=-R),l?((Y=Qg(Y)).x=x.getNodeRect(a).x,z.radius=R,Q={x:Y.x-R,y:Y.y-R,width:2*R,height:2*R}):(g=zg(Y,n),B={x:M=oL($,g),y:R},L={x:g-M,y:R},Z=w3(n.y-Y.y,n.x-Y.x),J=z.mat=new L2(Z),z.orienAngle=Z,z.angle=n.x<Y.x?Z+b:Z,z.rect={x:B.x,y:B.y,width:L.x-B.x,height:0},z.origin=Y,(B=J.tf(B)).x+=Y.x,B.y+=Y.y,(L=J.tf(L)).x+=Y.x,L.y+=Y.y,p?((e=J.tf(e={x:g,y:0})).x+=Y.x,e.y+=Y.y,Q=pg([Y,B,L,e]),z.c1=Y,z.c2=e):Q=pg(B,L),Y=B,n=L)),z.sourcePoint=Y,z.targetPoint=n,X._lastSourcePoint=Y,X._lastTargetPoint=n),o=0,G("edge.dash")&&(o=G("edge.dash.width")||V),l="square"===z.cap?.71:.5,cT(Q,n3(o*l,V*l+F+v),z.join),u._68o(Q))},getRotation:function(Q,Y,n){Q=Q||0;var R=this._78o;if(R){var g,B=R.angle,L=R.points,Z=R.edgeTypeInfo;if(B!=V3)return Y?R.orienAngle+Q:B+Q;if(Z&&Z[nV])return Z.getRotation?Z.getRotation(this,Q,Y,n):0;if(Z&&Z.points)return g=(B=Z.points).size(),dQ[n]?g&&g%2==0?lL(B.get(g/2-1),B.get(g/2),Y,Q):Q:qQ[n]?lL(B.get(0),B.get(1),Y,Q):lL(B.get(g-2),B.get(g-1),Y,Q);if(L)return g=L.size(),dQ[n]?g&&g%2==0?lL(L.get(g/2-1),L.get(g/2),Y,Q):0===g?lL(R.sourcePoint,R.targetPoint,Y,Q):Q:qQ[n]?lL(R.sourcePoint,g?L.get(0):R.targetPoint,Y,Q):lL(g?L.get(g-1):R.sourcePoint,R.targetPoint,Y,Q)}return Q},getPosition:function(Q,Y,n,R,g){var B=this._78o;if(B){var L=B.type,Z=B.points,e=B.edgeTypeInfo,u=B.sourcePoint,X=B.targetPoint;if(!L)return B.looped?{x:u.x-B.radius+Y,y:u.y+n}:(g&&u&&X&&(u.x>X.x||u.x===X.x&&u.y>X.y)&&(Q=EB[Q],n=-n),(x=_B(Q,B.rect,R)).x+=Y,x.y+=n,(x=B.mat.tf(x)).x+=B.origin.x,x.y+=B.origin.y,x);if(e&&e[nV])return e.getPosition?e.getPosition(this,Q,Y,n,R,g):{x:(u.x+X.x)/2,y:(u.y+X.y)/2};if(Z){var x,G,o=Z.size();if(dQ[Q]){if(o){if(0==(G=o%2))return VL(Z.get(o/2-1),Z.get(o/2),Q,Y,n,R,g);x=Z.get((o-G)/2)}else x={x:(u.x+X.x)/2,y:(u.y+X.y)/2};return(x=_B(Q,{x:x.x,y:x.y,width:0,height:0},R)).x+=Y,x.y+=n,x}return qQ[Q]?VL(u,o?Z.get(0):X,Q,Y,n,R,g):VL(o?Z.get(o-1):u,X,Q,Y,n,R,g)}if(e)return o=(L=e.points).size(),dQ[Q]?0==(G=o%2)?VL(L.get(o/2-1),L.get(o/2),Q,Y,n,R,g):(x=L.get((o-G)/2),(x=_B(Q,{x:x.x,y:x.y,width:0,height:0},R)).x+=Y,x.y+=n,x):qQ[Q]?VL(L.get(0),L.get(1),Q,Y,n,R,g):VL(L.get(o-2),L.get(o-1),Q,Y,n,R,g)}return cd},_42:function(Q){this._78o&&qs.superClass._42.call(this,Q)},drawPath:function(Y,Q){Y.beginPath();var n,R,g,B,L=Q.type,Z=Q.points,e=Q.segments,u=Q.edgeTypeInfo;!L||Z?(n=(R=Q.sourcePoint).x,R=R.y,g=(B=Q.targetPoint).x,B=B.y,L?e?((L=new W({x:n,y:R})).addAll(Z),L.add({x:g,y:B}),fT(Y,L,e)):(Y.moveTo(n,R),Z.each(function(Q){Y.lineTo(Q.x,Q.y)}),Y.lineTo(g,B)):Q.looped?Y.arc(n,R,Q.radius,0,o3,!0):Q.center?(Y.moveTo(Q.c1.x,Q.c1.y),Y.lineTo(n,R),Y.lineTo(g,B),Y.lineTo(Q.c2.x,Q.c2.y)):(Y.moveTo(n,R),Y.lineTo(g,B))):u&&(u.points?fT(Y,u.points,u.segments):u[nV]&&u[nV](Y,u))},drawBody:function(Q){var Y=this.s,n=this._78o,R=n.width,g=n.selectWidth,B=n.borderWidth,L=n.repeatImage,Z=Q.lineJoin,e=Q.lineCap,u=n.gray,X=n.pattern,x=(Q.lineJoin=n.join,Q.lineCap=n.cap,this.drawPath(BQ(Q,X),n),Y("edge.width.absolute")),g=(x&&(Q.save(),Q.setTransform(1,0,0,1,0,0)),g&&(Q.strokeStyle=n._97o,Q.lineWidth=R+2*(B+g),Q.stroke()),B&&(Q.strokeStyle=u?z3.toGrayColor(n.borderColor):n.borderColor,Q.lineWidth=R+2*B,Q.stroke()),u?z3.toGrayColor(n.color):n.color);L?ZB(Q,L,g,null,this._data,this.gv):Q.strokeStyle=g,Q.lineWidth=R,Q.stroke(),n.is3d&&(B=u?z3.toGrayColor(n._67o):n._67o,YB(Q,g,B,R,this.gv._zoom,n._66o)),Y("edge.dash")&&(X=Y("edge.dash.pattern"),(L=BQ(Q,X,this._2Q("edge.dash.offset")))!==Q&&this.drawPath(L,n),this._1Q(Q,"edge",Y("edge.dash.width")||R,X)),x&&Q.restore(),LQ(Q,X),Q.lineJoin=Z,Q.lineCap=e},_48O:function(){},_47O:function(Q){}}),function(Q,Y){En(Ks,this,[Q,Y])}),Ws=(Og(Ks,ms,{_3O:function(){var Y,n,Q,R,g,B,L,Z,e,u,X,x,G,o,l,V,z=this.s,p=this._data,$=this.gv;this._88I=V3,p.isExpanded()&&p.eachChild(function(Q){C(Q)&&(Q=$.getBoundsForGroup(Q))&&((n=n||[]).push(Q),Y=$g(Y,Q))}),Y?(B=$.getLabel(p),g=z("group.type"),R=(Q=z("group.border.width")||0)/2,z("group.border.width.absolute")&&(Q/=$._zoom),e=n,u=Y,Y="oval"===(Z=g)?(X=0,G=u.height/u.width,x=G*G,l=u.x+u.width/2,V=u.y+u.height/2,Du(e).forEach(function(Q){var Y=Q.x-l,Q=Q.y-V;X<(Y=Y*Y+Q*Q/x)&&(X=Y)}),G*=X=_3(X),{x:l-X,y:V-G,width:2*X,height:2*G}):"circle"===Z?(o=0,l=u.x+u.width/2,V=u.y+u.height/2,Du(e).forEach(function(Q){var Y=Q.x-l,Q=Q.y-V;o<(Y=Y*Y+Q*Q)&&(o=Y)}),o=_3(o),{x:l-o,y:V-o,width:2*o,height:2*o}):("roundRect"===Z&&Ig(u,R3(u.width,u.height)/16),u),RL(Y,p,"group.padding",1),Ig(Y,Q),p=this._88I={type:g,rect:Y,_64o:Y},g||B==V3||(g=this.labelInfo={label:B,color:z("group.title.color"),font:z("group.title.font"),align:z("group.title.align")},G=(B=fn(g,B)).width+Q,B=B.height+Q,e=z("group.title.align"),(Z=z("group.title.orientation"))===ZR||Z===eR?(Y.height+=Q,G>Y.width&&(Y.width=G)):Z!==BR&&Z!==LR||(Y.width+=Q,G>Y.height&&(Y.height=G)),e=e===BR?Y.x:e===LR?Y.x+Y.width-G:Y.x+Y.width/2-G/2,Z===eR?(p.titleRect={x:Y.x,y:Y.y+Y.height,width:Y.width,height:B},p.rect={x:Y.x,y:Y.y,width:Y.width,height:Y.height+B},g.rect={x:e,y:Y.y+Y.height,width:G,height:B}):Z===BR?(L=p.titleRect={x:Y.x-B,y:Y.y,width:B,height:Y.height},p.rect={x:Y.x-B,y:Y.y,width:Y.width+B,height:Y.height},g.rect={x:L.x+B/2-Y.height/2,y:L.y+Y.height/2-B/2,width:Y.height,height:B},g.rotation=-Math.PI/2):Z===LR?(L=p.titleRect={x:Y.x+Y.width,y:Y.y,width:B,height:Y.height},p.rect={x:Y.x,y:Y.y,width:Y.width+B,height:Y.height},g.rect={x:L.x+B/2-Y.height/2,y:L.y+Y.height/2-B/2,width:Y.height,height:B},g.rotation=Math.PI/2):(p.titleRect={x:Y.x,y:Y.y-B,width:Y.width,height:B},p.rect={x:Y.x,y:Y.y-B,width:Y.width,height:Y.height+B},g.rect={x:e,y:Y.y-B-R,width:G,height:B+Q})),this._40O(p,z("group.border.width")/2)):Ks.superClass._3O.call(this)},getPosition:function(Q,Y,n,R){var g=this._88I;return g?((Q=_B(Q,g.rect,R)).x+=Y,Q.y+=n,Q):Ks.superClass.getPosition.apply(this,arguments)},_24O:function(Q,Y){var n=this._88I;n&&!n.type&&"label2"!==Q||Ks.superClass._24O.call(this,Q,Y)},drawBody:function(Q){var Y=this._88I;if(Y){var n=this._data,R=this.s,g=this.gv,B=Y.type,L=Y.rect,Z=Y._64o,e=Y.titleRect,u=this.getBodyColor(),X=t(R("group.image"),u),x=R("group.image.stretch"),G=this.getBodyColor("group.background"),o=t(R("group.repeat.image"),u),l=R("group.gradient.pack"),V=R("group.gradient"),z=R("group.gradient.color"),p=R("group.border.width"),$=R("group.border.color"),M=R("group.border.pattern"),F=R("group.title.orientation"),v=R("group.depth"),a=R("group.border.radius"),J=R("group.border.join"),I=R("group.border.cap"),A=(R("group.border.width.absolute")&&(p/=g._zoom),$),P=R("group.border.repeat.image");if((P=P&&t(P,$))&&(A=eB(Q,P,$,null,n,g,R("group.border.repeat.image.stretch"),L)),B)P=Q.lineJoin,$=Q.lineCap,Q.lineJoin=J,Q.lineCap=I,X?(Q.save(),gB(Q,B,L,a),Q.clip(),c2(Q,X,x,L.x,L.y,L.width,L.height,n,g,u),Q.restore(),0<p&&(i=BQ(Q,M),gB(i,B,L,a),Q.lineWidth=p,Q.strokeStyle=A,Q.stroke(),LQ(Q,M))):(i=BQ(Q,M),G||o||l?(gB(Q,B,L,a),l?yT(Q,l,function(Q){return KT(Q,u)},!1,L):o?LB(Q,o,u,null,n,g,R("group.repeat.image.stretch"),L,R("group.repeat.image.rotation")):BB(Q,G,V,z,L),Q.fill(),l&&Q.restore(),Q!==i&&gB(i,B,L,a)):gB(i,B,L,a),0<p&&(Q.lineWidth=p,Q.strokeStyle=A,Q.stroke()),LQ(Q,M),B===H&&oB(Q,G,v,L)),Q.lineJoin=P,Q.lineCap=$;else{var i,l=R("group.title.background");if((!a||a<0)&&(a=0),X)c2(Q,X,x,Z.x,Z.y,Z.width,Z.height,n,g,this.getBodyColor());else if(G||o)if(o?LB(Q,o,u,null,n,g,R("group.repeat.image.stretch"),L,R("group.repeat.image.rotation")):BB(Q,G,V,z,Z),0===p)gB(Q,H,Z),Q.fill(),oB(Q,G,v,Z);else{switch(Q.beginPath(),F){case eR:xB(Q,Z.x,Z.y,Z.width,Z.height,a,a,0,0);break;case BR:xB(Q,Z.x,Z.y,Z.width,Z.height,0,a,0,a);break;case LR:xB(Q,Z.x,Z.y,Z.width,Z.height,a,0,a,0);break;case ZR:xB(Q,Z.x,Z.y,Z.width,Z.height,0,0,a,a)}Q.fill()}if(e&&l)if(0===p)RB(Q,e.x,e.y,e.width,e.height,l),oB(Q,l,v,e);else{switch(Q.beginPath(),Q.fillStyle=l,F){case eR:xB(Q,e.x,e.y,e.width,e.height,0,0,a,a);break;case BR:xB(Q,e.x,e.y,e.width,e.height,a,0,a,0);break;case LR:xB(Q,e.x,e.y,e.width,e.height,0,a,0,a);break;case ZR:xB(Q,e.x,e.y,e.width,e.height,a,a,0,0)}Q.fill()}0<p&&(i=BQ(Q,M),gB(i,"roundRect",L,a),Q.save(),Q.lineWidth=p,Q.strokeStyle=A,Q.lineJoin=J,Q.lineCap=I,Q.closePath(),Q.stroke(),e&&R("group.splitLine")&&(B=e.x,P=e.y,$=e.width,X=e.height,Q.beginPath(),F===eR?(Q.moveTo(B,P),Q.lineTo(B+$,P)):F===BR?(Q.moveTo(B+$,P),Q.lineTo(B+$,P+X)):F===LR?(Q.moveTo(B,P),Q.lineTo(B,P+X)):(Q.moveTo(B,P+X),Q.lineTo(B+$,P+X))),Q.stroke(),Q.restore(),LQ(i,M))}this._39O(Q,Y)}else Ks.superClass.drawBody.call(this,Q)}}),function(Q,Y){En(Ws,this,[Q,Y])}),cs=(Og(Ws,ms,{drawBody:function(Q){this._39O(Q,this._83o)}}),function(Q,Y){En(cs,this,[Q,Y])}),Ss=(Og(cs,ms,{_3O:function(){var Q=this._data,Y=this.s,n=this.gv,R=Q.getPoints(),g=n.getBorderColor(Q),B=g?Y("border.width"):0,L=this.getSelectWidth(),Z=Y("shape.border.width"),e=Q.getRect(),u=Q.getAnchorRect(),n=n.getBodyColor(Q),X=Y("shape.border.color"),x=Q.p();(g=this._99o=R.isEmpty()?V3:{rect:e,rotation:Q.getRotation(),fillRule:Y("shape.fill.rule"),scale:Q.getScale(),position:x,points:R,segments:Q.getSegments(),bodyColor:n,borderColor:g,borderWidth:B,_94o:Y("shape.border.3d"),_95o:Y("shape.border.3d.color"),_96o:Y("shape.border.3d.accuracy"),_97o:L?this.getSelectColor():V3,selectWidth:L,_53o:Y("shape.background"),_27Q:t(Y("shape.repeat.image"),n),shapeRepeatImageStretch:Y("shape.repeat.image.stretch"),shapeRepeatImageRotation:Y("shape.repeat.image.rotation"),shapeGradientPack:Y("shape.gradient.pack"),shapeBorderGradientPack:Y("shape.border.gradient.pack"),_54o:Z,_55o:X,shapeBorderRepeatImage:t(Y("shape.border.repeat.image"),X),shapeBorderRepeatImageStretch:Y("shape.border.repeat.image.stretch"),shapeBorderRepeatImageRotation:Y("shape.border.repeat.image.rotation"),shapeGradient:Y("shape.gradient"),_59o:Y("shape.gradient.color"),_60o:Y("shape.border.pattern"),_61o:Y("shape.border.cap"),_62o:Y("shape.border.join"),shapeForeground:Y("shape.foreground"),gray:Y("2d.gray")})&&(u.x+=g.position.x,u.y+=g.position.y,g.gradientRect=u,z3.extractShapeTranslation&&((n=Qg(u)).x-=x.x,n.y-=x.y,(X=Qg(R)).forEach(function(Q){Q.x-=x.x,Q.y-=x.y}),g.translatedInfo={gradientRect:n,points:X}),u=Q.getScale(),R=n3(1,n3(b3(u.x),b3(u.y))),Y("shape.dash")&&Y("shape.dash.width")>Z&&(Z=Y("shape.dash.width")),(n=Y("shape.border.width.absolute")?(Z+B+L)/this.gv._zoom/R:Z*("square"===g._61o?.71:.5)+B+L/this.gv._zoom/R)&&(n*=R,e=Qg(e),cT(e,n,g._62o)),this._68o(e),(X=Y("clip.percentage"))!=l3&&(g.clipRect=rn(Q.getAnchorRect(),Y("clip.direction"),X)),(u=Y("shape.fill.clip.percentage"))!=l3&&(g.shapeClipRect=rn(Q.getAnchorRect(),Y("shape.fill.clip.direction"),u)),(Z=Y("shape.foreground.clip.percentage"))!=l3&&(g.shapeForegroundClipRect=rn(Q.getAnchorRect(),Y("shape.foreground.clip.direction"),Z)),Y("clip.host")&&Q.getHost()&&(g.clipHost=!0))},getPosition:function(Q,Y,n,R){var g=this._99o;return g?((Q=_B(Q,g.rect,R)).x+=Y,Q.y+=n,Q):cd},_42:function(Q){this._99o&&cs.superClass._42.call(this,Q)},drawBody:function(Q){function Y(Q){return P?z3.toGrayColor(Q):Q}var n,R,g,B,L,Z,e=this,u=e.s,X=e._99o,x=X.position,G=X.scale,o=X.rotation,l=X.borderWidth,V=e.gv._zoom,z=X.selectWidth/V,p=X._27Q,$=X.shapeGradientPack,M=X._54o,F=X.clipRect,v=X.shapeClipRect,a=X.segments,J=e._data.isClosePath(),I=X.clipHost,A=X.fillRule,P=X.gray,i=Y(X._53o),T=i||p||$,G=(I&&(Q.save(),Q.beginPath(),e.clipHost(Q)&&Q.clip()),Q.save(),xT(Q,x.x,x.y),GT(Q,o),oT(Q,G.x,G.y),F&&(Q.beginPath(),Q.rect(F.x,F.y,F.width,F.height),Q.clip()),T&&v&&(Q.save(),Q.beginPath(),Q.rect(v.x,v.y,v.width,v.height),Q.clip()),z3.extractShapeTranslation&&(o=X.translatedInfo)?(n=o.gradientRect,R=o.points):(n=X.gradientRect,R=X.points,xT(Q,-x.x,-x.y)),u("shape.border.width.absolute")),F=X._60o,o=(G&&F&&(F=F.map(function(Q){return Q*V})),BQ(Q,F)),E=Q.lineJoin,_=Q.lineCap,b=(Q.lineJoin=X._62o,Q.lineCap=X._61o,Y(X.bodyColor));T?(fT(Q,R,a,J),$?yT(Q,$,function(Q){return KT(Q,X.bodyColor)},!1,n):p?((Z=X.shapeRepeatImageStretch)&&(g=pg(R)),LB(Q,p,b,null,e._data,e.gv,Z,g,X.shapeRepeatImageRotation)):BB(Q,L=b||i,X.shapeGradient,Y(X._59o),n),Q.fill(A),$&&Q.restore(),v&&(Q.restore(),xT(Q,-x.x,-x.y)),o!==Q&&fT(o,R,a,J)):fT(o,R,a,J),(T=X.shapeForeground)&&(Q.save(),(p=X.shapeForegroundClipRect)&&(xT(Q,x.x,x.y),Q.beginPath(),Q.rect(p.x,p.y,p.width,p.height),Q.clip(),xT(Q,-x.x,-x.y)),fT(Q,R,a,J),BB(Q,T,u("shape.foreground.gradient"),Y(u("shape.foreground.gradient.color")),n),Q.fill(A),Q.restore()),G&&($=Q.getTransform(),(B=e._ctxMat||(e._ctxMat=new K.Math.Matrix2d)).set($.a,$.b,$.c,$.d,$.e,$.f),Q.save(),Q.setTransform(1,0,0,1,0,0)),z&&(Q.strokeStyle=X._97o,Q.lineWidth=M+2*(l+z),Q.stroke()),l&&(Q.strokeStyle=Y(X.borderColor),Q.lineWidth=M+2*l,Q.stroke()),M&&(L=Y(X._55o),(v=X.shapeBorderGradientPack)?yT(Q,v,Y,!0,n,B):X.shapeBorderRepeatImage?((Z=X.shapeBorderRepeatImageStretch)&&!g&&(g=pg(R)),ZB(Q,X.shapeBorderRepeatImage,L,null,e._data,e.gv,Z,g,X.shapeBorderRepeatImageRotation)):Q.strokeStyle=L=!i&&b?b:L,Q.lineWidth=M,Q.stroke(),v&&Q.restore(),X._94o&&YB(Q,L,Y(X._95o),M,V,X._96o)),LQ(Q,F),u("shape.dash")&&0<(p=u("shape.dash.width")||M)&&(F=u("shape.dash.pattern"),G&&(F=F.map(function(Q){return Q*V})),(o=BQ(Q,F,e._2Q("shape.dash.offset")))!==Q&&fT(o,R,a,J),e._1Q(Q,"shape",p,F)),G&&Q.restore(),Q.lineJoin=E,Q.lineCap=_,Q.restore(),I&&Q.restore()},_48O:function(){},_47O:function(Q){}}),function(Q,Y){En(Ss,this,[Q,Y])}),ys=(Og(Ss,cs,{getRotation:(c6=new q,S6=new q,y6=new B2,function(Q,Y,n){Q=Q||0;var R,g,B=this._data,L=B.getPoints(),Z=L.size();return 1<Z?(g=B.p(),B=B.getScale(),y6.identity().translate(-g.x,-g.y).scale(B.x,B.y).translate(g.x,g.y),g=dQ[n]?(R=L.get((B=(Z-Z%2)/2)-1),L.get(B)):qQ[n]?(R=L.get(0),L.get(1)):(R=L.get(Z-2),L.get(Z-1)),y6.apply(R,c6),y6.apply(g,S6),lL(c6,S6,Y,Q)):Q}),getPosition:(d6=new q,K6=new q,W6=new q,function(Q,Y,n,R,g){var B=this._data,L=B.getPoints(),Z=L.size();if(1<Z){if(B=B.getPointsMatrix2d(),dQ[Q]){var e=Z%2,u=(Z-e)/2,X=L.get(u-1),u=L.get(u);if(0!=e)return(e=_B(Q,cd,R)).x+=Y,e.y+=n,B.apply(X,d6),B.apply(u,K6),B.identity().rotate(W6.copy(K6).sub(d6).angle()).apply(e,d6).add(K6)}else u=qQ[Q]?(X=L.get(0),L.get(1)):(X=L.get(Z-2),L.get(Z-1));return B.apply(X,d6),B.apply(u,K6),VL(d6,K6,Q,Y,n,R,g)}return cd})}),function(Q,Y){En(ys,this,[Q,Y])}),Ds=(Og(ys,ms,{_3O:function(){ys.superClass._3O.call(this);var Q=this.s,Y=this._83o;this._82o=Y.img||Y.shape?V3:{background:this.getBodyColor("grid.background"),depth:Q("grid.depth"),rect:Y.rect,_88o:Q("grid.cell.depth"),cellBorderColor:Q("grid.cell.border.color"),_89o:Q("grid.row.count"),_90o:Q("grid.column.count"),block:Q("grid.block"),_91o:Q("grid.block.color"),_92o:Q("grid.block.padding"),_93o:Q("grid.block.width")}},drawBody:function(Q){var Y=this._82o;if(Y){var n,R,g=this._data,B=Y.background,L=Y.rect,Z=Y.block,e=Y._91o,u=Y._92o,X=Y._93o,x=Y._88o,G=Y.cellBorderColor,o=Y._89o,l=Y._90o;if(B)if(RB(Q,L.x,L.y,L.width,L.height,B),oB(Q,B,Y.depth,L),x)for(n=0;n<o;n++)for(R=0;R<l;R++)(L=g.getCellRect(n,R))&&oB(Q,B,x,L);else if(G){for(Q.beginPath(),n=0;n<o;n++)for(R=0;R<l;R++)(L=g.getCellRect(n,R))&&Q.rect(L.x,L.y,L.width,L.height);Q.strokeStyle=G,Q.lineWidth=1,Q.stroke()}if("h"===Z)for(n=0;n<o;n++)L=$g(g.getCellRect(n,0),g.getCellRect(n,l-1)),Ig(L,u),GB(Q,e,L.x,L.y,L.width,L.height,X);else if("v"===Z)for(R=0;R<l;R++)L=$g(g.getCellRect(0,R),g.getCellRect(o-1,R)),Ig(L,u),GB(Q,e,L.x,L.y,L.width,L.height,X);this._39O(Q,this._83o)}else ys.superClass.drawBody.call(this,Q)}}),function(Q,Y){En(Ds,this,[Q,Y])}),fs=o?Wn().getContext("2d"):V3,Qp=(Og(Ds,ms,{_checkEmptyRect:!1,_81o:function(){var L,Q,Z,Y,n,R,e,u,g,B,X,x,G,o,l=this._data,V=Ds.superClass._81o.call(this),z=l.s("text"),p=l.s("text.outline.width");return p&&Ig(V,.5*p),z!=V3&&(z+="",L=l.s("text.font"),p=l.s("text.align"),Q=l.s("text.vAlign"),x=l.s("text.wrap"),X=l.s("text.vertical"),Z=l.s("text.vertical.gap"),o=l.s("text.letter.gap")||0,Y=l.getWidth(),n=l.getHeight(),null==Z&&(Z=1),X?(e=((G=x?QT(z,n,L,o,X,Z):[z]).length-1)*o,u=0,fs.textBaseline=ZR,fs.font=L,G.forEach(function(Q){for(var Y=Q.length,n=0,R=(Y-1)*Z,g=0;g<Y;g++){var B=fs.measureText(Q[g]);R+=B.fontBoundingBoxDescent||Lg(L,Q[g]).height,n=n3(n,B.width)}e+=n,u=n3(R,u)}),G.length,G.forEach(function(Q){}),R={width:e,height:u}):1<(x=(G=x?QT(z,Y,L,o,X,Z):z.split("\n")).length)?(X=Lg(L,z).height,e=0,u=X*x+Z*(x-1),G.forEach(function(Q){e=n3(e,Lg(L,Q).width)}),R={width:e,height:u}):(R=Lg(L,z),o&&(R.width+=(z.length-1)*o)),X=R.width,x=R.height,G=l.getAnchor(),"left"===p?g=-Y*G.x:"center"===p?g=-Y*G.x+(Y-X)/2:"right"===p&&(g=Y*(1-G.x)-R.width),"top"===Q?B=-n*G.y:"middle"===Q?B=-n*G.y+(n-x)/2:"bottom"===Q&&(B=n*(1-G.y)-R.height),z=l.getMatrix(),o=pg([z.tf(g,B),z.tf(g+X,B),z.tf(g+X,B+x),z.tf(g,B+x)]),(V=$g(V,o))&&l.s("text.shadow")&&((p=Qg(V)).x+=l.s("text.shadow.offset.x"),p.y+=l.s("text.shadow.offset.y"),Ig(p,l.s("text.shadow.blur")),V=$g(V,p))),V}}),$L.Interactor=function(Q){this.gv=this._graphView=Q}),Yp=(Q("Interactor",m,{ms_listener:1,getView:function(){return this.gv.getView()},setUp:function(){this.addListeners()},tearDown:function(){this.removeListeners(),this.clear()},clear:function(){},fi:function(Q){this.gv.fi(Q)},setCursor:function(Q){f3||this.gv.setCursor(Q)},startDragging:function(Q){this._lastClientPoint=lg(Q),this._lastLogicalPoint=this.gv.lp(Q),ig(this,Q)},clearDragging:function(Q){this._lastClientPoint=this._lastLogicalPoint=this._logicalPoint=V3},autoScroll:function(Q){return this.gv.autoScroll(Q,this._lastClientPoint)}}),V3),np="ht.propagation.host",Rp=function(Q){Yp.handleWindowTouchMove(Q)},gp=function(Q){Yp.handleWindowTouchEnd(Q),P3(r,Zd,Rp),P3(r,ed,gp),Yp=V3},Bp=function(Q){Yp.handleWindowMouseMove(Q)},Lp=function(Q){Yp.handleWindowMouseUp(Q),P3(r,Rd,Bp),P3(r,gd,Lp),Yp=V3},Zp=function(Q){var Y=this;Y.gv=Q,Y._is2d=Q instanceof $L.GraphView,Y._eventListeners={},["mousedown","mousemove","mouseleave","touchstart","touchmove","touchend","mouseup",xd,"wheel"].forEach(function(Q){Y.addListener(Q)})},ep=(Og(Zp,Qp,{enableReality:function(Q,Y){var n,R,g=this;(n=Q._id)||(n=Q._id=y.generateUUID()),!(!g._realityEnabled||!g._realityEnabled[n])!==Y&&(g._realityEnabled||(g._realityEnabled={}),g._realityEnabled[n]=Y,g._realityBindingCallbacks||(g._realityBindingCallbacks={}),R=g._realityBindingCallbacks[n],Y?(R=R||(g._realityBindingCallbacks[n]=g.onRealityControllerChange.bind(g,Q)),Q.mp(R,g)):R&&Q.ump(R,g))},onRealityControllerChange:function(Q,Y){var n=Y.property,R=(Y=Y.newValue).id;if(Q&&Q.isPresenting()){var g=Q.getController(R);if(g){var B=g.getRay();if(B)switch(B.controllerId=R,Q.getRayEventType(B,n,Y[bV])){case"down":this.handle_mousedown(B);break;case"up":Yp&&Lp(B);break;case"move":this.handle_mousemove(B),Yp&&this.handleWindowMouseMove(B)}}}},setPreventEventDefault:function(Q,Y){var n=this._eventListeners[Q];n?n._prevent=Y:this._eventListeners[Q]=n={_removal:l3,_prevent:Y}},removeListener:function(Q){(Q=this._eventListeners[Q])&&Q._removal&&(Q._removal(),Q._removal=l3)},addListener:function(Y){var Q,n=this,R=n._eventListeners[Y];R||(n._eventListeners[Y]=R={_removal:l3,_prevent:!0}),R&&R._removal||(Q=function(Q){R._prevent&&z3.preventDefault(Q),n.disabled||n.gv._48Q||("wheel"===Y?An(n,Q):n["handle_"+Y](Q))},A3(n.gv.getView(),Y,Q),R._removal=function(){P3(n.gv.getView(),Y,Q)})},handleWindowTouchMove:function(Q){this.handleWindowMouseMove(Q)},handleWindowMouseMove:function(Q){!this.downInfo||MT(Q)&&1!==Xg(Q)?this.isDragging&&(this.handleDownInfo("onEndDrag",Q),this.isDragging=!1):this.isDragging?this.handleDownInfo("onDrag",Q):(this.handleDownInfo("onBeginDrag",Q),this.isDragging=!0)},handleWindowTouchEnd:function(Q){this.handleWindowMouseUp(Q)},handleWindowMouseUp:function(Q){var Y=this;if(Y.isDragging&&(Y.handleDownInfo("onEndDrag",Q),Y.isDragging=!1),Y.downInfo){var n=Y.handle("onUp",Q);if(n&&n.data===Y.downInfo.data){Y.handleMissingUp(Q);var R=2===Q.button?"onContextMenu":"onClick";if(n.data.s("disableDoubleClick")||!Y._dbclickTimer)return void(Y._dbclickTimer=m3(function(){delete Y._dbclickTimer,Y.handleClick(Q,R,n),Y.downInfo=V3,Y.propagationDownInfoMap=V3},z3.clickDelay));q3(Y._dbclickTimer),delete Y._dbclickTimer,R="onDoubleClick",Y.handleClick(Q,R,n)}else Y.handleDownInfo("onUp",Q);Y.downInfo=V3,Y.propagationDownInfoMap=V3,Y.downComps=V3}},handle_mouseleave:function(Q){var Y=this,n=Y.gv,R=(Y._hoverTimer&&(q3(Y._hoverTimer),delete Y._hoverTimer),Y.currentInfo?Y.currentInfo.data:V3);if(R){if(R.s("onLeave")&&R.s("onLeave")(Q,R,n),Y.fire("data","onLeave",Q,R),n=Y.currentInfo?Y.currentInfo.hits:V3)for(var g in n)Y.handleLeave(Q,g);Y.currentInfo=V3}},handle_mousewheel:function(Q){Q.scrollDelta=Q.wheelDelta/40,this.handle("onScroll",Q)},handle_DOMMouseScroll:function(Q){Q.scrollDelta=2===Q.axis?-Q.detail:0,this.handle("onScroll",Q)},handle_touchstart:function(Q){this.handle_mousedown(Q)},handle_touchmove:function(Q){this.handle("onMove",Q)},handle_mousedown:function(Q){var Y;this.isDragging&&(this.handleDownInfo("onEndDrag",Q),this.isDragging=!1),this.downComps=[],this.downInfo=this.handle("onDown",Q),this.downInfo&&this!==Yp&&(Y=MT(Q),Yp?Y?Yp.handleWindowTouchEnd(Q):Yp.handleWindowMouseUp(Q):Y?(A3(r,Zd,Rp),A3(r,ed,gp)):(A3(r,Rd,Bp),A3(r,gd,Lp)),Yp=this)},handle_touchend:function(Q){this.handle_mouseup(Q)},handle_mouseup:function(Q){this.downInfo||this.isDragging||this.handle("onUp",Q)},mergeExternalData:function(Q,Y){return Y?(Y.__gvnode__=Q,Y):Q},handle_mousemove:function(Q){var Y=this,n=Y.gv;if(Y._hoverTimer&&(q3(Y._hoverTimer),delete Y._hoverTimer),!n._panning&&!n._moving){var R,g,B,L=Y.handle("onMove",Q),Z=this.currentInfo?this.currentInfo.data:V3,e=this.currentInfo?this.currentInfo.hits:V3;if(L&&(g=L.data,B=L.hits,Y._hoverTimer=m3(function(){q3(Y._hoverTimer),delete Y._hoverTimer,Y.handle("onHover",Q,L)},n.getHoverDelay()||z3.hoverDelay)),g!==Z){if(Z&&(Z.s("onLeave")&&Z.s("onLeave")(Q,Z,n),this.fire("data","onLeave",Q,Z)),g&&(g.s("onEnter")&&g.s("onEnter")(Q,g,n),this.fire("data","onEnter",Q,g)),e)for(R in e)this.handleLeave(Q,R);if(B)for(R in B){var u,X,x=B[R];(X=(u=g._interactPrefix=x.prefix)&&g.a(u+"onEnter")||x.target.onEnter)&&X.call(x.target,Q,Y.mergeExternalData(g,x.exData),n,x.point,x.width,x.height),this.fire(x.type,"onEnter",x.event,Y.mergeExternalData(x.data,x.exData),x.image,x.comp,x.point,x),g._interactPrefix=null}}else{if(e)for(R in e)B&&B[R]||this.handleLeave(Q,R);if(B)for(R in B)e&&e[R]||(x=B[R],(X=(u=g._interactPrefix=x.prefix)&&g.a(u+"onEnter")||x.target.onEnter)&&X.call(x.target,Q,Y.mergeExternalData(g,x.exData),n,x.point,x.width,x.height),this.fire(x.type,"onEnter",x.event,Y.mergeExternalData(x.data,x.exData),x.image,x.comp,x.point,x),g._interactPrefix=null)}this.currentInfo=L}},handle:function(Q,Y,n){var R,g=this.gv;if(this._is2d){if(n=n||g.getDataInfoAt(Y,Y.__ht_propagation_filter)){var B,L,Z,e,u=n.data;if((e=g.isInteractive(u))&&(L=n.ui.interactiveInfo)&&(u.s(Q)&&u.s(Q)(Y,u,g),this.fire("data",Q,Y,u),"body"===n.part&&L.bodyInfo?n.hits=this.handleImage(X="body",g.getImage(u),Q,Y,u,n.point,L.bodyInfo):"icons"===n.part&&L._38o&&(B=L._38o[n.name])&&B[n.index]&&(X="icons|"+n.name+"|"+n.index,n.hits=this.handleImage(X,n.icon,Q,Y,u,n.point,B[n.index]))),Y[np]&&u.getHost&&(Z=u.getHost())&&(Y.__ht_propagation_filter=function(Q){return Q===Z},X=this.handle(Q,Y),"onDown"===Q&&X&&(this.propagationDownInfoMap||(this.propagationDownInfoMap={}),this.propagationDownInfoMap[Z.getId()]=X)),e)return n}}else{if(!n)if(Y&&Y instanceof K.Math.Ray&&(B=g.getPresentingReality())){var X=B.intersectWorld(Y),u=X.data,x=X.intersect;if(B.renderRayDuringInteraction(Y,u,x),!u)return;if(!(L=(G=g.getData3dUI(u)).interactiveInfo))return;n={data:u,part:x.part,ui:G}}else{if(!(n=g.getDataInfoDuringInteract(Y)))return;n=n&&{data:n.data,part:n.part}}if(g.isInteractive(n.data)){if(!x){u=n.data;var G=g.getData3dUI(u);if(!(L=(n.ui=G).interactiveInfo))return n}return(u.s(Q)&&u.s(Q)(Y,u,g),this.fire("data",Q,Y,u),x=x||g.intersectObject(Y,u))?((R=(R="body"!==(e=x.part)?u.s(e+".image")||u.s("shape3d."+e+".image"):R)||u.s("all.image")||u.s("shape3d.image"))&&(L="object"==typeof R?L[R.uuid]:L[R])&&L.bodyInfo&&(n.part="body",n.interactiveInfo=L,n.point=this._convertUVToPoint(x.uv,L,u,e,R),n.image=R,n.hits=this.handleImage("body",R,Q,Y,u,n.point,L.bodyInfo)),n):n}}},_handleLeaveOrMissing:function(Q,Y,n){var R,g,B,L,Z,e="leave"===Q?this.currentInfo:this.downInfo;e&&(R=e.interactiveInfo||e.ui.interactiveInfo)&&(g=e.data,this._is2d?(L=this.gv.lp(Y),"body"===e.part&&R.bodyInfo?(Z="body","leave"===Q?this.handleLeaveImage(n,Z,this.gv.getImage(g),Y,g,L,R.bodyInfo):this.handleMissingUpImage(Z,this.gv.getImage(g),Y,g,L,R.bodyInfo)):"icons"===e.part&&R._38o&&(B=R._38o[e.name])&&B[e.index]&&(Z="icons|"+e.name+"|"+e.index,"leave"===Q?this.handleLeaveImage(n,Z,e.icon,Y,g,L,B[e.index]):this.handleMissingUpImage(Z,e.icon,Y,g,L,B[e.index]))):R.bodyInfo&&(L=(Z=this.gv.intersectObject(Y,g))&&Z.uv?this._convertUVToPoint(Z.uv,R,g,Z.part,e.image):{x:1/0,y:1/0},"leave"===Q?this.handleLeaveImage(n,"body",e.image,Y,g,L,R.bodyInfo):this.handleMissingUpImage("body",e.image,Y,g,L,R.bodyInfo)))},handleClick:function(Q,Y,n){var R,g,B,L,Z=this.downInfo;Z&&n&&(R=n.interactiveInfo||n.ui.interactiveInfo,g=n.data,L=this.gv,g.s(Y)&&g.s(Y)(Q,g,L),this.fire("data",Y,Q,g),R&&(this._is2d?Z.part===n.part&&(B=L.lp(Q),"body"===n.part&&R.bodyInfo&&this.handleClickImage("body",L.getImage(g),Y,Q,g,B,R.bodyInfo,n)):R.bodyInfo&&(L=L.intersectObject(Q,g))&&(B=this._convertUVToPoint(L.uv,R,g,L.part,Z.image),this.handleClickImage("body",Z.image,Y,Q,g,B,R.bodyInfo,n))))},handleDownInfo:function(Q,Y,n){var R,g,B,L,Z,e,u,X,x=this;x.downInfo&&(R=x.gv,(n=n?R.getDataInfoAt(Y,Y.__ht_propagation_filter):x.downInfo)&&(g=n.interactiveInfo||n.ui.interactiveInfo)&&((L=n.data).s(Q)&&L.s(Q)(Y,L,R),x.fire("data",Q,Y,L),x._is2d?(Z=R.lp(Y),"body"===n.part&&g.bodyInfo?x.handleDownInfoImage(B="body",R.getImage(L),Q,Y,L,Z,g.bodyInfo):"icons"===n.part&&g._38o&&(e=g._38o[n.name])&&e[n.index]&&(B="icons|"+n.name+"|"+n.index,x.handleDownInfoImage(B,n.icon,Q,Y,L,Z,e[n.index])),Y[np]&&L.getHost&&(u=L.getHost())&&(Y.__ht_propagation_filter=function(Q){return Q===u},x.handleDownInfo(Q,Y,!0))):g.bodyInfo&&("onBeginDrag"===Q?(X=R._raycaster.intersectObjectAndRecordTriangle(Y,L))&&(g.beginDragIntersectInfo=X.triangleInfo):X=R.intersectObject(Y,L),(X=X||("onDrag"!==Q&&"onEndDrag"!==Q||!g.beginDragIntersectInfo?X:R._raycaster.intersectLastTriangle(Y,g.beginDragIntersectInfo)))&&(Z=x._convertUVToPoint(X.uv,g,L,X.part,n.image),x.handleDownInfoImage("body",n.image,Q,Y,L,Z,g.bodyInfo)))))},fire:function(Q,Y,n,R,g,B,L,Z){this.gv.fi({kind:Y,type:Q,event:n,data:R,image:g,comp:B,view:this.gv,point:L,width:Z?Z.width:l3,height:Z?Z.height:l3})},handleImage:function(Q,Y,n,R,g,B,L){return this._handleImageImpl(Q,Y,n,R,g,B,L,-1,!0)},handleLeave:function(Q,Y){return this._handleLeaveOrMissing("leave",Q,Y)},handleMissingUp:function(Q){if(!Q["ht.ignoreMissingUp"])return this._handleLeaveOrMissing("missing",Q)},_handleImageImpl:function(Q,Y,n,R,g,B,L,Z,e,u){var X=!1;if(-1===Z)X=!0,Z={};else if(!Z)return;if(!Y||!(Y=t(Y)))return Z;for(var x,G=this.gv,o=L.rect,l=this.convertPoint(B,L),V=(e!==l3&&e!==l.inRect||!X&&!Z[Q+"|image"]||(Y[n]&&Y[n](R,g,G,l,o.width,o.height),this.fire("image",n,R,g,Y,l3,l,o),X&&(Z[Q+"|image"]={target:Y,type:"image",image:Y,data:g,event:R,point:l,width:o.width,height:o.height})),L.compInfos),z=Y,p=V.length-1;0<=p;p--){var $=V[p],M=$.comp,l=this.convertPoint(B,$,z,M,G,g);if(e===l3||e===l.inRect){var o=$.rect,F=g._interactPrefix=$.prefix,v=this.mergeExternalData(g,$.exData),a=!!X||(u?u(Q+"|"+p,M):Z[Q+"|"+p]);if(a&&((a=F&&g.a(F+n)||M[n])&&(x=a.call(M,R,v,G,l,o.width,o.height)),this.fire("comp",n,R,v,Y,M,l,o)),!0!==x&&(Y=o.image)&&(X||Z[Q+"|"+p+"|image"])&&(Y[n]&&(x=Y[n](R,v,G,l,o.width,o.height)),this.fire("image",n,R,v,Y,l3,l,o)),g._interactPrefix=null,X&&(Z[Q+"|"+p]={target:M,type:"comp",comp:M,image:Y,data:g,event:R,point:l,width:o.width,height:o.height,prefix:F,exData:$.exData},this.downComps&&this.downComps.push(M),Y&&(Z[Q+"|"+p+"|image"]={target:Y,type:"image",image:Y,data:g,event:R,point:l,width:o.width,height:o.height,prefix:F,exData:$.exData})),!0===x)break}}return Z},handleLeaveImage:function(Q,Y,n,R,g,B,L){var Z={};return Z[Q]=!0,this._handleImageImpl(Y,n,"onLeave",R,g,B,L,Z,l3)},handleMissingUpImage:function(Q,Y,n,R,g,B){return this._handleImageImpl(Q,Y,"onUp",n,R,g,B,this.downInfo.hits,!1)},handleDownInfoImage:function(Q,Y,n,R,g,B,L){var Z,e=this,u=0<=["onDrag","onEndDrag"].indexOf(n);if(e.downInfo){if(e.downInfo.data===g)Z=e.downInfo.hits;else{if(!e.propagationDownInfoMap)return;Z=e.propagationDownInfoMap[g.getId()].hits}return e._handleImageImpl(Q,Y,n,R,g,B,L,Z,l3,function(Q,Y){return u?e.downComps&&0<=e.downComps.indexOf(Y):Z[Q]})}},handleClickImage:function(Q,Y,n,R,g,B,L,Z){var e=this.downInfo.hits,u=Z.hits;return this._handleImageImpl(Q,Y,n,R,g,B,L,e,l3,function(Q){return e[Q]&&u[Q]})},_convertUVToPoint:function(Q,Y,n,R,g){if(!Q)return{x:1/0,y:1/0};var B,Y=Y.bodyInfo.rect,R=(n&&g&&(R="body"===R?(B=n.s("shape3d.uv.scale"),n.s("shape3d.uv.offset")):(B=n.s(R+".uv.scale")||n.s("all.uv.scale"),n.s(R+".uv.offset")||n.s("all.uv.offset")),(B||R)&&(g=z3.getImage(g),n=y.isPOT(g.width)&&y.isPOT(g.height),g=Q.x*(B?B[0]:1)+(R?R[0]:0),B=Q.y*(B?B[1]:1)+(R?R[1]:0),n&&(g=g%1+(0<g?0:1),B=B%1+(0<B?0:1)),Q.set(g,B))),Q.clone());return(n=Q.multiply({x:Y.width,y:Y.height})).local=R,n},convertPoint:function(Q,Y,n,R,g,B){if(!(x=Y.rect))return!1;var L=Y.matrix.applyInverse(Q).sub(x);if(!(0<=L.x&&0<=L.y&&L.x<=x.width&&L.y<=x.height))return L;if(R&&d(R.pixelPerfect,B,g)){var Z=1,e=!1,Q=(x=this._is2d?(Z=g.getZoom(),en(Q.x,Q.y,l3,Z)):en(Q.x,Q.y)).x,u=x.y,X=x.width,x=x.height,G=X*x*Z*Z,o=((o=z3.hitMaxArea)<G&&(Z*=Math.sqrt(o/G)),Q*=Z,u*=Z,dT(X=(X*=Z)<2?2:X,x=(x*=Z)<2?2:x)),Q=((G=new B2(0,-Q,-u,Z,Z)).append(Y.matrix),g._drawForChecking=!0,R.transform=G,n.fitSize),u=(Y.refRect&&Y.refRect.fitSize?(R.refRect=Y.refRect,n.fitSize=!0):n.fitSize=!1,n.comps);n.comps=[R],JQ(o,n,0,0,X,x,B,g),n.comps=u,n.fitSize=Q,delete R.refRect,delete R.unionRect,delete R.transform,g._drawForChecking=!1;try{for(var l=0,V=o.getImageData(0,0,X,x).data;l<V.length;l+=4)if(0!==V[l+3]){e=!0;break}o.restore()}catch(Q){tT=V3,e=!1}L.inRect=e}else L.inRect=!0;return L}}),$L.DefaultInteractor=function(Q){En(ep,this,[Q])}),up=(Q("DefaultInteractor",Qp,{handle_mousedown:function(Q){d2(Q);var Y,n=this.gv,R=n.getDataAt(Q);!n.setFocus(Q)||n._editing||n._scrolling||(xg(Q)?n.handleDoubleClick(Q,R):n.handleClick(Q,R),Y=eg(Q),!jT()&&!Y&&R&&(n.isMovable(R)||n._39Q(R))||!n.isPannable()||!Zg(Q)&&!Y||og(Q)||(this._tx=n.tx(),this._ty=n.ty(),this.startDragging(Q)))},handleWindowMouseUp:function(Q){var Y=this.gv;Y._panning&&(delete Y._panning,Y.onPanEnded(),this.fi({kind:"endPan",event:Q})),delete this._tx,delete this._ty,this.clearDragging()},handle_mousemove:function(Q){var Y=this,n=Y.gv;Y._hoverTimer&&(q3(Y._hoverTimer),delete Y._hoverTimer),Y._hoverTimer=m3(function(){Y.fi({kind:"hover",event:Q}),q3(Y._hoverTimer),delete Y._hoverTimer},n.getHoverDelay()||z3.hoverDelay)},handle_mouseleave:function(Q){this._hoverTimer&&(q3(this._hoverTimer),delete this._hoverTimer)},handleWindowMouseMove:function(Q){var Y=this.gv,Q=(this.fi({kind:Y._panning?"betweenPan":"beginPan",event:Q}),Y._panning=1,XL(Y,Q,this._lastClientPoint));Y.setTranslate(this._tx+Q.x,this._ty+Q.y)},handle_mousewheel:function(Q){this.gv.handleScroll(Q,Q.wheelDelta)},handle_DOMMouseScroll:function(Q){2===Q.axis&&this.gv.handleScroll(Q,-Q.detail)},handle_keydown:function(Q){this.gv.handleKeyDown(Q)}}),$L.SelectInteractor=function(Q){En(up,this,[Q])}),Xp=(Q("SelectInteractor",Qp,{_42:function(){var Q=this.gv,Y=Q.getZoom(),n=this.mark,R=this.div,g=(R||(R=this.div=Kn(),Dn(this.getView(),R)),{});g.x=n.x*Y+Q.tx(),g.y=n.y*Y+Q.ty(),g.width=n.width*Y,g.height=n.height*Y,E(R,g),this.intersects()?(R.style.border="",R.style.background=Q.getRectSelectBackground()):(R.style.background="",R.style.border="1px solid "+Q.getRectSelectBorderColor())},handle_mousedown:function(Q){var Y,n,R=this.gv;this._57I=V3,this.pendingClickThrough=V3,R._editing||R._scrolling||jT()||eg(Q)||(Y=R.getDataAt(Q),n=R.sm(),Y?og(Q)?n.co(Y)?n.rs(Y):n.as(Y):n.co(Y)?Y instanceof $s&&Y.isClickThroughEnabled()&&Zg(Q)&&(this.pendingClickThrough=lg(Q)):n.ss(Y):og(Q)||!R.isPannable()?Zg(Q)&&(og(Q)||n.cs(),R.isRectSelectable()&&(this.startDragging(Q),R._77O=1)):Zg(Q)&&(this._57I=lg(Q)))},handle_mouseup:function(Q){var Y,n=this.gv,R=this._57I;R&&(zg(R,lg(Q))<=1&&n.sm().cs(),this._57I=V3),this.pendingClickThrough&&(zg(this.pendingClickThrough,lg(Q))<=1&&(Y=n.getDataAt(Q))instanceof $s&&Y.isClickThroughEnabled()&&(R=n.getDataAt(Q,function(Q){return Q.getParent()===Y&&n.isSelectable(Q,!0)}))&&(Q.clickThrough=!0,n.sm().ss(R)),this.pendingClickThrough=V3)},handleWindowMouseUp:function(Q){this.clear(Q)},handleWindowMouseMove:function(Q){var Y=this,n=Y.gv;Y._logicalPoint=n.lp(Q),Y.mark?(Y.fi({kind:"betweenRectSelect",event:Q}),n.isPannable()&&Y.autoScroll(Q),Y.redraw()):Y.fi({kind:"beginRectSelect",event:Q}),Y.mark=pg(Y._lastLogicalPoint,Y._logicalPoint),Y.redraw()},intersects:function(){var Q=this._lastLogicalPoint,Y=this._logicalPoint;return Q.x>Y.x||Q.y>Y.y},clear:function(Q){var Y,n,R,g,B=this,L=B.gv,Z=B.mark;B._57I=V3,B.pendingClickThrough=V3,B._lastLogicalPoint&&(Z&&(0===Z.width||0===Z.height||(Z=L.getDatasInRect(Z,B.intersects())).isEmpty()||(Y=L.sm(),n=Y.toSelection(),R=Gg(Q),g=Q.altKey,Z.each(function(Q){Y.co(Q)?R&&!g||n.remove(Q):(!g||R&&g)&&n.add(Q)}),Y.ss(n)),Tg(B.div),delete B.div,delete B.mark,B.redraw(),B.fi({kind:"endRectSelect",event:Q}),L.onRectSelectEnded()),B.clearDragging(),delete L._77O)},redraw:function(){var Q=this;Q._draw||(Q._draw=1,m3(function(){Q.mark&&Q._42(),delete Q._draw},16))}}),$L.MoveInteractor=function(Q){En(Xp,this,[Q])}),xp=(Q("MoveInteractor",Qp,{handle_mousedown:function(Q){var Y,n=this.gv;!Zg(Q)||n._editing||n._scrolling||jT()||(!(Y=n.getSelectedDataAt(Q))||n._39Q(Y)&&!n.isMovable(Y)?n._focusData=V3:(this._data=Y,n.handleMouseDown&&n.handleMouseDown(Q,Y),this.startDragging(Q),n.isMovable(Y)&&(n._moving=1)))},handleWindowMouseUp:function(Q){var Y=this.gv;Y.handleMouseUp&&Y.handleMouseUp(Q,this._data),this.clear(Q)},handleWindowMouseMove:function(Q){var Y,n,R,g,B=this,L=B._data,Z=B.gv;Z._93O&&Z._93O(Q,L)||Z._moving&&(B._logicalPoint||B.fi({kind:"prepareMove",event:Q}),Y={kind:g=B._logicalPoint?"betweenMove":"beginMove",event:Q},n=B._logicalPoint=Z.lp(Q),"beginMove"!=g||B._alreadyBeginTransaction||(B._alreadyBeginTransaction=!0,Z.getDataModel().beginTransaction()),R=(g=B._calcShift(g,Q)).x,g=g.y,(L=B.gv.getMoveMode(Q,L))&&("x"===L?g=0:"y"===L?R=0:"xy"!==L&&(R=g=0)),Z.moveSelection(R,g),B._lastLogicalPoint=n,B.autoScroll(Q),Y.info={dx:R,dy:g},B.fi(Y))},_calcShift:function(Q,Y){var n=this._logicalPoint,R=this._lastLogicalPoint;return{x:n.x-R.x,y:n.y-R.y}},clear:function(Q){var Y=this.gv;this._lastLogicalPoint&&(this._lastLogicalPoint=this._data=Y._moving=V3,this._logicalPoint&&(this.fi({kind:"endMove",event:Q}),Y.onMoveEnded()),this.clearDragging()),this._alreadyBeginTransaction&&(this._alreadyBeginTransaction=!1,Y.getDataModel().endTransaction())}}),$L.TextEditInteractor=function(Q){En(xp,this,[Q]),this.init()}),Gp=(Q("TextEditInteractor",Qp,{setUp:function(){xp.superClass.setUp.call(this),this.gv.mp(this.handleGvPropertyChange,this)},teatDown:function(){xp.superClass.teatDown.call(this),this.gv.ump(this.handleGvPropertyChange,this)},handleGvPropertyChange:function(Q){this._editTarget&&this.endTextEdit()},init:function(){function Q(Q){Q.stopPropagation()}var n=this,Y=this.input=o.createElement("input"),R=Y.style,g=(Y.text="text",R.border="1px solid #d8d8d8",R.position="absolute",R.padding="2px 3px",R.outline="none",R.marginLeft="-90px",R.marginTop="-16px",R.backgroundColor="rgba(255,255,255, 1)",R.fontSize="14px",R.width="180px",R.height="32px",R.boxShadow="0 0 13px rgba(16,142,233, 0.5)",R.textAlign="center",R.boxSizing="border-box",A3(Y,"keyup",function(Q){rT(Q)&&n.endTextEdit(),HT(Q)&&n.endTextEdit(!0)}),A3(Y,"focus",function(Q){Y.select()}),this.textarea=o.createElement("textarea")),B=this.wrap=o.createElement("div");B.appendChild(g),(R=g.style).margin=0,R.padding="4px",R.overflow="hidden",R.boxSizing="border-box",R.position="absolute",R.outline="none",R.backgroundColor="transparent",R.resize="none",R.textAlign="center",R.fontSize="14px",R.borderWidth=0,R.width="100%",(R=B.style).boxSizing="border-box",R.margin=0,R.padding=0,R.position="absolute",R.boxShadow="0 0 13px rgba(16,142,233, 0.5)",R.border="1px solid #d8d8d8",R.backgroundColor="rgba(255,255,255, 1)",R.zIndex="10",A3(g,"keydown",function(Q){(Gg()||og())&&rT(Q)?n.endTextEdit():HT(Q)?n.endTextEdit(!0):n._editTarget instanceof Fs||n.calculateTextareaHeight(String.fromCharCode(Q.keyCode))}),A3(g,"focus",function(Q){g.select()}),A3(Y,"mousedown",Q),A3(Y,"touchstart",Q),A3(g,"mousedown",Q),A3(g,"touchstart",Q),A3(g,"click",Q),n.SIZING_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],n.HIDDEN_TEXTAREA_STYLE="visibility:hidden; min-height:0 !important;max-height:none !important;height:0 !important;visibility:hidden !important;overflow:hidden !important;position:absolute !important;z-index:-1000 !important;top:0 !important;right:0 !important",n.handleWindowClick=function(Q){var Y=n._editingDOM;Y&&(Y=Y.getBoundingClientRect(),Q=lg(Q),Mg(Y,Q)||n.endTextEdit())}},handle_mousedown:function(Q){var Y,n=this.gv;xg(Q)&&!n._editing&&(Q=n.getDataAt(Q))&&(Y=n.getTextEditInfo(Q))&&(this._editInfo=Y,this._editTarget=Q,n._editing=!0,Y.isMultiline?this.handleMultilineEdit():this.handleTextEdit())},handleMultilineEdit:function(){var Q=this,Y=Q.gv,n=Q._editTarget,R=Q.getTargetValue(),g=Q.textarea,B=Q.wrap,L=this._editInfo;this.hiddenTextarea||this.createHiddenTextarea(),g.value=R=null!==R&&R!==l3?R:"",L.font&&(g.style.font=L.font),Q._editingDOM=g,Y.appendHTML(B),this.layoutHTML(B,n),n instanceof Fs?g.style.height="100%":(g.style.height="auto",this.calculateTextareaHeight()),m3(function(){g.focus(),A3(r,"mousedown",Q.handleWindowClick),A3(r,"touchstart",Q.handleWindowClick)},10)},handleTextEdit:function(){var Q=this,Y=Q.gv,n=Q._editTarget,R=Q.getTargetValue(),g=Q.input;g.value=R=null!==R&&R!==l3?R:"",Q._editingDOM=g,Y.getView().appendChild(g),this.layoutHTML(g,n),m3(function(){g.focus(),A3(r,"mousedown",Q.handleWindowClick),A3(r,"touchstart",Q.handleWindowClick)},10)},layoutHTML:function(Q,Y){var n,R,g,B=this.gv,L=B.getZoom();Y instanceof Fs?(g=(R=B.getDataUI(Y))._6I,n=Q.style,Q.style.left=g.x*L+B.tx()+"px",Q.style.top=g.y*L+B.ty()+"px",Q.style.width=R._6I.width+"px",Q.style.height=R._6I.height+"px",ZT(n,"transform","scale("+L+","+L+")"),ZT(n,"transformOrigin","0px 0px")):Y instanceof es?(n=(g=Y.getRect()).width*L,Q.style.left=(g.x+g.width/2)*L+B.tx()+"px",Q.style.top=(g.y+g.height/2)*L+B.ty()+"px",Q.style.width=n+"px",Q.style.marginLeft=-n/2+"px"):Y instanceof K.Edge&&(g=(R=B.getDataUI(Y))._6I,Q.style.left=(g.x+g.width/2)*L+B.tx()+"px",Q.style.top=(g.y+g.height/2)*L+B.ty()+"px")},endTextEdit:function(Q){var Y=this,n=Y._editInfo.isMultiline?Y.wrap:Y.input,R=Y._editInfo.isMultiline?Y.textarea:Y.input;Q||Y.setTargetValue(R.value),Y.gv.getView().removeChild(n),Y.gv._editing=!1,delete Y._editingDOM,delete Y._editTarget,P3(r,"mousedown",Y.handleWindowClick),P3(r,"touchstart",Y.handleWindowClick)},setTargetValue:function(Q){var Y=this._editTarget,n=this._editInfo,R=n.accessType;(n=n.name)&&R||(R="p",n="name"),"p"===R?Y[K.Default.setter(n)](Q):"a"===R?Y.a(n,Q):Y.s(n,Q)},getTargetValue:function(){var Q=this._editTarget,Y=this._editInfo,n=Y.accessType;return(Y=Y.name)&&n||(n="p",Y="name"),"p"===n?Q[K.Default.getter(Y)]():"a"===n?Q.a(Y):Q.s(Y)},createHiddenTextarea:function(){this.hiddenTextarea=o.createElement("textarea"),this.hiddenTextarea.setAttribute("style","margin:0; padding:0; position:absolute; overflowY:scroll; resize:none; box-sizing:border-box;pointer-events: none;opacity:0;"),this.hiddenTextarea.setAttribute("rows","1"),this.gv.getView().appendChild(this.hiddenTextarea)},calculateHTMLStyle:function(Q,Y){if(Y&&this.computedStyleCache)return this.computedStyleCache;var n=r.getComputedStyle(Q),Q=n.getPropertyValue("box-sizing")||n.getPropertyValue("-moz-box-sizing")||n.getPropertyValue("-webkit-box-sizing"),R=parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("padding-top")),g=parseFloat(n.getPropertyValue("border-bottom-width"))+parseFloat(n.getPropertyValue("border-top-width")),R={sizingStyle:this.SIZING_STYLE.map(function(Q){return Q+":"+n.getPropertyValue(Q)}).join(";"),paddingSize:R,borderSize:g,boxSizing:Q};return Y&&(this.computedStyleCache=R),R},calculateTextareaHeight:function(Q){Q=Q||"";var Y=this.textarea,n=this.hiddenTextarea,R=this.wrap,g=(Z=this.calculateHTMLStyle(Y,!1)).paddingSize,B=Z.borderSize,L=Z.boxSizing,Z=Z.sizingStyle,Z=(n.setAttribute("style",Z+";"+this.HIDDEN_TEXTAREA_STYLE),n.value=Y.value+Q,n.scrollHeight);"border-box"===L?Z+=B:"content-box"===L&&(Z-=g),Y.style.height=Z+"px",R.style.height=Math.max(Z,32)+"px",R.style.marginTop=-.5*Z+"px"}}),$L.ScrollBarInteractor=function(Q){En(Gp,this,[Q])}),op=(Q("ScrollBarInteractor",Qp,{_41o:function(){return this.gv.getViewRect().height<this.gv.getScrollRect().height},_40o:function(){return this.gv.getViewRect().width<this.gv.getScrollRect().width},isV:function(Q){var Y=this.gv.getViewRect();return this._41o()&&(Y.x+Y.width-this.gv.lp(Q).x)*this.gv.getZoom()<r2},isH:function(Q){var Y=this.gv.getViewRect();return this._40o()&&(Y.y+Y.height-this.gv.lp(Q).y)*this.gv.getZoom()<r2},handle_mousemove:function(Q){this.handle_touchmove(Q)},handle_touchmove:function(Q){var Y;!vT&&Zg(Q)&&this.gv.isScrollBarVisible()&&(Y=this.isV(Q),Q=this.isH(Q),(Y||Q)&&this.gv.showScrollBar(),this.gv._scrolling=Y||Q)},handleWindowMouseUp:function(Q){this.handleWindowTouchEnd(Q)},handleWindowTouchEnd:function(Q){this._state=this._cp=this._tx=this._ty=this.gv._scrolling=V3,this.fi({kind:"endScroll",event:Q})},handle_mousedown:function(Q){this.handle_touchstart(Q)},handle_touchstart:function(Q){var Y,n=this;n.gv.setFocus(Q),d2(Q),n.handle_touchmove(Q),1<Xg(Q)||!n.gv._scrolling||!n.gv.isScrollBarVisible()||(n._cp=lg(Q),n._tx=n.gv.tx(),n._ty=n.gv.ty(),Y=n.isV(Q),n._state=Y?"vScroll":"hScroll",ig(n,Q),n.fi({kind:"beginScroll",event:Q}))},handleWindowMouseMove:function(Q){this.handleWindowTouchMove(Q)},handleWindowTouchMove:function(Q){var Y=lg(Q),n=this.gv.getViewRect(),R=this.gv.getScrollRect();"vScroll"===this._state?this.gv.ty(this._ty+(this._cp.y-Y.y)*R.height/n.height):"hScroll"===this._state&&this.gv.tx(this._tx+(this._cp.x-Y.x)*R.width/n.width),this.fi({kind:"betweenScroll",event:Q})}}),$L.TouchInteractor=function(Q,Y){(Y=Y||{}).selectable===l3&&(Y.selectable=!0),Y.movable===l3&&(Y.movable=!0),Y.pannable===l3&&(Y.pannable=!0),Y.pinchable===l3&&(Y.pinchable=!0),Y.editable===l3&&(Y.editable=!0),this.params=Y,En(op,this,[Q])});Q("TouchInteractor",Qp,{ms_edit:1,setUp:function(){op.superClass.setUp.call(this),f3&&this.params.editable&&this.gv.setEditInteractor(this)},tearDown:function(){op.superClass.tearDown.call(this),f3&&this.params.editable&&this.gv.setEditInteractor(V3)},clear:function(Q){var Y=this,n=Y.gv;n._moving&&(Y.fi({kind:"endMove",event:Q}),delete n._moving,n.onMoveEnded(),n.dm().endTransaction()),n._panning&&(Y.fi({kind:"endPan",event:Q}),delete n._panning,n.onPanEnded()),n._pinching&&(Y.fi({kind:"endPinch",event:Q}),delete n._pinching,n.onPinchEnded()),n._editing&&(Y._46O(Q),Y._77I=Y._node=Y._edge=Y._shape=Y._rect=Y._89I=Y._index=n._editing=V3),Y.pendingClickThrough=Y._moving=Y._panning=Y._pinching=Y._editing=Y._57I=Y._data=Y._beginHistory=V3,Y.clearDragging()},handle_touchstart:function(Q){var Y,n,R,g,B,L=this;L.gv._editing||(d2(Q),L._57I=V3,L.pendingClickThrough=V3,Y=L.params,R=(n=L.gv).sm(),g=n.getDataAt(Q),1===(B=Xg(Q))?xg(Q)?n.handleDoubleClick(Q,g):(n.handleClick(Q,g),g&&(n.handleMouseDown&&n.handleMouseDown(Q,g),L._data=g),(g=Y.selectable?g:V3)&&(R.co(g)?g instanceof $s&&g.isClickThroughEnabled()&&(L.pendingClickThrough=lg(Q)):R.ss(g),Y.editable&&n.isEditable(g)&&L._79I(Q,g,!0)?(L._editing=1,L.startDragging(Q)):Y.movable&&n.isMovable(g)&&(L._moving=1,L.startDragging(Q))),g&&(n.isMovable(g)||n._39Q(g))||(L._57I=lg(Q),Y.pannable&&n.isPannable()&&(L._panning=1,L.startDragging(Q),L._translate={x:n.tx(),y:n.ty()}))):!Y.pinchable||2!==B||!n.getEditInteractor()&&g&&(R=t(n.getImage(g)))&&d(R.scrollable,g,this)||(L._pinching=1,L.startDragging(Q),Y=n.getView(),B=n.getZoom(),R=Y.getBoundingClientRect(),g=Q.touches[0],Y=Q.touches[1],(g={x:(g.clientX+Y.clientX)/2-R.left,y:(g.clientY+Y.clientY)/2-R.top}).x-=n.tx(),g.y-=n.ty(),g.x/=B,g.y/=B,L._p=g,L._d=vB(Q)))},handle_touchend:function(Q){var Y=this.gv,n=this._57I,R=this._data;n&&(zg(n,lg(Q))<=1&&!Y.getDataAt(Q)&&Y.sm().cs(),this._57I=V3),R&&Y.handleMouseUp&&Y.handleMouseUp(Q,R),this.pendingClickThrough&&(zg(this.pendingClickThrough,lg(Q))<=1&&(R=Y.getDataAt(Q))instanceof $s&&R.isClickThroughEnabled()&&(n=Y.getDataAt(Q,function(Q){return Q.getParent()===R&&Y.isSelectable(Q,!0)}))&&(Q.clickThrough=!0,Y.sm().ss(n)),this.pendingClickThrough=V3)},handleWindowTouchEnd:function(Q){this.clear(Q)},handleWindowTouchMove:function(Q){var Y,n,R=this,g=R.gv,B=Xg(Q);1===B?(Y=lg(Q),Y=XL(g,Y,R._lastClientPoint),n=zg({x:0,y:0},Y),R._editing&&(R._beginHistory||(R._beginHistory=1,g.dm().beginTransaction()),g._editing=1,R._78I(Q)),R._moving?!g._moving&&n<z3.touchMoveThreshold||(R._beginHistory||(R._beginHistory=1,g.dm().beginTransaction()),R.handleMove(Q)):!R._panning||!g._panning&&n<z3.touchMoveThreshold||(g.setTranslate(R._translate.x+Y.x,R._translate.y+Y.y),R.fi({kind:g._panning?"betweenPan":"beginPan",event:Q}),g._panning=1)):2===B&&R._pinching&&(n=vB(Q),g.handlePinch(R._p,n,R._d),R._d=n,R.fi({kind:g._pinching?"betweenPinch":"beginPinch",event:Q}),g._pinching=1)},handleMove:function(Q){var Y,n,R,g,B=this,L=B.gv;L._93O&&L._93O(Q,B._data)||(R=B._logicalPoint?"betweenMove":"beginMove",Y=B._logicalPoint=L.lp(Q),n=(R=B._calcShift(R,Q)).x,R=R.y,(g=B.gv.getMoveMode(Q,B._data))&&("x"===g?R=0:"y"===g?n=0:"xy"!==g&&(n=R=0)),L.moveSelection(n,R),B._lastLogicalPoint=Y,B.autoScroll(Q),B.fi({kind:L._moving?"betweenMove":"beginMove",event:Q}),L._moving=1)},_calcShift:function(Q,Y){var n=this._logicalPoint,R=this._lastLogicalPoint;return{x:n.x-R.x,y:n.y-R.y}}});var lp,w=(K=r.ht).graph._editor={Math:K.Math,Guide:{},getStyle:function(Q){var Y=w.StyleMap;return Y&&(Y=Y[Q])!==l3?Y:w.DefaultStyleMap[Q]},setStyle:function(Q,Y){(w.StyleMap||(w.StyleMap={}))[Q]=Y},inEdit:function(Q){return!0===Q._inXEdit},startEdit:function(Q){Q._inXEdit=!0,w.Inject.doInject(Q)},_46O:function(Q){Q._inXEdit=!1,w.Inject.undoInject(Q)},toScreenPosition:function(Q,Y){var n=Q.tx(),R=Q.ty(),Q=Q._zoom;return new w.Math.Vector2(Y.x*Q+n,Y.y*Q+R)},checkHit:function(Q,Y,n){return Q.distanceTo(Y)<n},toWorldPosition:function(Q,Y){var n=Q.tx(),R=Q.ty(),Q=Q._zoom;return{x:(Y.x-n)/Q,y:(Y.y-R)/Q}},setAntialias:function(Q,Y){for(var n,R=["imageSmoothingEnabled","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","oImageSmoothingEnabled","msImageSmoothingEnabled"],g=0,B=R.length;g<B&&!((n=R[g])in Q);g++);Q[n],Q[n]=Y},getTargetCornersOnScreen:function(Y,Q){if(!Q)return null;var n=[];if($n(Q,Y))var R=[{x:(R=mQ(Y,Q)).x,y:R.y},{x:R.x+R.width,y:R.y},{x:R.x+R.width,y:R.y+R.height},{x:R.x,y:R.y+R.height}];else{if(!Q.getCorners)return null;R=Q.getCorners()}return R.forEach(function(Q){Q=w.toScreenPosition(Y,Q),n.push(Q.x,Q.y)}),n},log:function(){},updateTipInfo:function(Q,Y,n){lp=n?((Q=K.Default.getLogicalPoint(Q,Y._canvas)).x+=w.Icons.TipShiftX,Q.y+=w.Icons.TipShiftY,{helperPos:Q,text:n,size:n.length}):V3},drawTip:function(Q,Y){lp&&w.Icons.DrawIcon(Y,Q,w.Icons.TipHelper,lp)}},Vp=w.Inject={_modules:[],registAsModule:function(n,R){var Q,g={},Y={};for(Q in n){var B=R.prototype[Q];g[Q]=B}n.getBackup=function(Q){return g[Q]},n.getBackups=function(){return g},Y.doInject=function(Q){for(var Y in n)"getBackup"!==Y&&(R.prototype[Y]=n[Y])},Y.undoInject=function(Q){for(var Y in n)"getBackup"!==Y&&(R.prototype[Y]=g[Y])},Vp._modules.push(Y)},doInject:function(Q){for(var Y=Vp._modules,n=0,R=Y.length;n<R;n++)Y[n].doInject(Q)},undoInject:function(Q){for(var Y=Vp._modules,n=0,R=Y.length;n<R;n++)Y[n].undoInject(Q)}},zp=Qp=K.graph.EditInteractor=function(Q){var Y=this,n=o.createElement("canvas");n.className="editCanvas",n.style.position="absolute",Y._uuid=K.Math.generateUUID(),Y._styleMap={},Y._canvas=n,Y._context=n.getContext("2d"),Qp.superClass.constructor.call(Y,Q),this._editDetail=!1,w.setAntialias(Y._context,!1),Y._subModules=Y.initSubModule(),Y._gridGuide=new w.Guide.Grid(Y),Y._rectGuide=new w.Guide.Rect(Y),Y._hoverGuide=new w.Guide.Hover(Y)};K.Default.def(Qp,K.graph.Interactor,{ms_edit:1,ms_fire:1}),m.defineProperties(Qp.prototype,{editDetail:{get:function(){return!!this._editDetail},set:function(Q){var Y=this._editDetail;Y!==Q&&(this._editDetail=Q,this.gv._editing=Q,this.fp("editDetail",Y,Q),this.fp("pointsEditingMode",Y,Q),this.fi({kind:Q?"beginEditPoints":"endEditPoints"}))}},gvEditing:{get:function(){return this.gv._editing},set:function(Q){this._editDetail&&!Q||(this.gv._editing=Q)||(this.editDetail=!1)}},editing:{get:function(){return this._editing},set:function(Q){this._editing=Q,this.gvEditing=Q}},editingModule:{get:function(){return this._editMod}},pointsEditingMode:{get:function(){return this.editDetail},set:function(Q){this.editDetail!==Q&&(Q?this._tryEnterEditDetailMode():this._tryQuitEditDetailMode())}},gridEnabled:{get:function(){return!!this._gridEnabled&&(this.gv,!0)},set:function(Q){Q!==this._gridEnabled&&(this._gridEnabled=Q,this._42())}},alignmentGuideEnabled:{get:function(){return this._agEnabled},set:function(Q){Q!==this._agEnabled&&(this._agEnabled=Q,this._42())}},gridGuide:{get:function(){return this._gridGuide}},rectGuide:{get:function(){return this._rectGuide}},hoverGuide:{get:function(){return this._hoverGuide}}}),Qp.prototype.initSubModule=function(){return[new w.Anchor(this),new w.RotateX(this),new w.MoveDummy(this),new w.Rect(this),new w.Curve(this),new w.MoveHelper(this)]},Qp.prototype.getSubModule=function(Q){for(var Y,n=this._subModules,R=0,g=n.length;R<g;R++)if((Y=n[R]).catalog===Q)return Y},Qp.prototype.invokeSubModule=function(Q,Y){for(var n,R,g=this._subModules,B=Array.prototype.slice.call(arguments,2),L=0,Z=g.length;L<Z;L++)if((R=(n=g[L])[Q])&&R.apply(n,B)!=l3&&Y)return n},Qp.prototype.invokeSubModuleInverse=function(Q,Y){var n=this._subModules;if(n)for(var R,g,B=Array.prototype.slice.call(arguments,2),L=n.length-1;0<=L;L--)if((g=(R=n[L])[Q])&&g.apply(R,B)!=l3&&Y)return R},Qp.prototype.setUp=function(){w.log("setUp");var Q=this.gv,Y=Q.getView(),n=this._canvas;Qp.superClass.setUp.call(this),Q.setEditInteractor(this),Q._79O?Y.insertBefore(n,Q._79O):Y.appendChild(n),w.startEdit(Q),this.invokeSubModule("setUp"),Q.dm().mm(this._onDataModelChanged,this),Q.dm().md(this._onDataPropertyChanged,this)},Qp.prototype.tearDown=function(){w.log("tearDown");var Q=this,Y=Q.gv,n=Y.getView();Q._resetCustomCursorStyle(),Qp.superClass.tearDown.call(Q),Y.dm().umm(Q._onDataModelChanged,Q),Y.dm().umd(Q._onDataPropertyChanged,Q),Y.setEditInteractor(null),n.removeChild(Q._canvas),Q._drawTimer&&(q3(Q._drawTimer),Q._drawTimer=null),w._46O(Y),Q.invokeSubModule("tearDown")},Qp.prototype._onDataModelChanged=function(Q){("clear"===Q.kind||"remove"===Q.kind&&this.editDetail&&Q.data===this.getSubModule("Curve").target)&&(this.editDetail=!1,this._42())},Qp.prototype._onDataPropertyChanged=function(Q){var Y,n;this.editDetail&&(Y=this.getSubModule("Curve"),(n=Q.data)!==Y.target||n._writing||Y._handleDataChanged(Q))},Qp.prototype.clear=function(){w.log("clear")},Qp.prototype.redraw=function(){this._42()},Qp.prototype._42=function(){var Q=this;Q._drawTimer||(Q._drawTimer=m3(function(){Q._drawTimer=null,Q.drawImpl()},0))},Qp.prototype.drawImpl=function(){for(var Z in{_42:!0})break;return function(){var Q=this._canvas,Y=this.gv,n=Y.getWidth(),R=Y.getHeight(),g=this._context,B=K.Default.getInternal(),L=z3.devicePixelRatio,B=(Q.width===n&&Q.height===R||B.setCanvas(Q,n,R,L),g.clearRect(0,0,Q.width,Q.height),this._getValidSelection());g.save(),g.scale(L,L),this._gridGuide._42(),this.invokeSubModuleInverse(Z,!1,g,Y,B),this._rectGuide._42(),this._hoverGuide._42(),w.drawTip(g,this),g.restore()}}(),Qp.prototype._getValidSelection=function(){var Y=this.gv,Q=Y.sm().getSelection(),n=[];return Q.each(function(Q){Y.isVisible(Q)&&Y.isEditable(Q)&&n.push(Q)}),n},Qp.prototype.handle_touchmove=function(Q){return this.handle_mousemove(Q)},Qp.prototype.handle_mousemove=function(Q){K.Default.isDragging()||!this.editDetail&&(jT()||eg(Q))||this.gv._externalEditing||(this.gvEditing=!1,this._checkEdit(Q)?this.gvEditing=!0:this.getStyle("hoverGuideVisible")&&(this.hoverData=this.gv.getDataAt(Q)),this._42())},Qp.prototype.handle_touchstart=function(Q){return this.handle_mousedown(Q)},Qp.prototype.handle_mousedown=function(Q){d2(Q);var Y=this;if((Y.editDetail||!jT()&&!eg(Q))&&!Y.gv._externalEditing){if(xg(Q)&&!Q.clickThrough){if(Y.editDetail){if(Y._tryQuitEditDetailMode(Q))return}else if(Y._tryEnterEditDetailMode())return;Y.gv.dm().beginTransaction();var n=Y.invokeSubModule("handleDoubleClick",!0,Q);if(Y.gv.dm().endTransaction(),n)return}(n=Y._checkEdit(Q))&&(Y._downPosition=Y._getLogicalPoint(Q),Y.gv.dm().beginTransaction(),n.startEdit(Y,Q),Y.editing=!0)}},Qp.prototype._checkEdit=function(Q){var Y=this.gv,n=this._getLogicalPoint(Q),Y=this.invokeSubModule("check",!0,Y,Q,n)||null;return this._editMod=Y},Qp.prototype.handleWindowTouchMove=function(Q){return this.handleWindowMouseMove(Q)},Qp.prototype.handleWindowMouseMove=function(Q){var Y=this._downPosition;if(Y){if(this._getLogicalPoint(Q).distanceTo(Y)<this.getStyle("moveSensitivity"))return;delete this._downPosition}(Y=this._editMod)&&Y.handleEdit(this.gv,Q),this.redraw()},Qp.prototype._getLogicalPoint=function(Q){return Q=K.Default.getLogicalPoint(Q,this._canvas),new w.Math.Vector2(Q)},Qp.prototype.handleWindowTouchEnd=function(Q){return this.handleWindowMouseUp(Q)},Qp.prototype.handleWindowMouseUp=function(){for(var Y in{_46O:!0})break;return function(Q){this.editing=!1,this.setCursor("default"),this.invokeSubModule(Y,!1,Q),this._42(),this.gv.dm().endTransaction()}}(),Qp.prototype.handle_mousewheel=function(Q){d2(Q),this.invokeSubModule("preHandleScroll",!0)||this.gv.handleScroll(Q,Q.wheelDelta)},Qp.prototype.handleDelete=function(){var Q;if(!this.editDetail)return this.gv.dm().beginTransaction(),Q=this.invokeSubModule("handleNormalStateDelete",!0),this.gv.dm().endTransaction(),void(Q||this.gv.removeSelection());this.gv.dm().beginTransaction(),this.invokeSubModule("handleDelete",!0),this.gv.dm().endTransaction(),this._42()},Qp.prototype.handle_keydown=function(Q){var Y,n=this;return(Q.metaKey||Q.ctrlKey)&&n._42(),jT(Q)&&!n.editing?(n.gvEditing=!1,n.setCursor("default"),void n._42()):(Y=rT(Q),n.editDetail?((Y||HT(Q))&&(n.editDetail=!1,n._42()),n.gv.dm().beginTransaction(),n.invokeSubModule("handle_keydown",!0,Q),void n.gv.dm().endTransaction()):(n.gv.dm().beginTransaction(),n.invokeSubModule("handleNormalStateKeyDown",!0,Q),n.gv.dm().endTransaction(),void(Y&&n._tryEnterEditDetailMode())))},Qp.prototype.handle_keyup=function(Q){this.gv.dm().beginTransaction(),this.invokeSubModule("handle_keyup",!0,Q),this.gv.dm().endTransaction()},Qp.prototype._tryEnterEditDetailMode=function(){if(!this.editDetail&&this.invokeSubModule("canEnterEditDetailMode",!0)&&1===this._getValidSelection().length)return this.editDetail=!0,this._42(),!0},Qp.prototype._tryQuitEditDetailMode=function(Q){return!(!this.editDetail||Q&&!this.invokeSubModule("canQuitEditDetailMode",!0,Q)||(this.editDetail=!1,this._42(),0))},Qp.prototype.setStyle=function(Q,Y,n){n?w.setStyle(Q,Y):this._styleMap[Q]=Y,"baseColor"===Q&&(Fp=Y),this.fp("styleChanged",null,{key:Q,value:Y,base:n}),this._42()},Qp.prototype.getStyle=function(Q,Y){var n=this._styleMap[Q];return n!==l3?n:w.getStyle(Q)},Qp.prototype.setCursor=function(Q){this._resetCustomCursorStyle(),K.graph.EditInteractor.superClass.setCursor.call(this,Q)},Qp.prototype._drawHostGuide=function(Q){var Y=this._context,n=this.gv,R=(w.Icons.DrawIcon(this,Y,w.Icons.NodeHoverGuide,Q.corners),Q.host);if(R){var g=n.getAttachPoints(R);if(g&&g.length)for(var B=0,L=g.length;B<L;B++){var Z=g[B],Z=eL(n,R,0,Z.offsetX||0,Z.offsetY||0,Z.x,Z.y);(Z=w.toScreenPosition(n,Z)).isAttach=Q.attach===B,w.Icons.DrawIcon(this,Y,w.Icons.AttachPoint,Z)}}},Qp.prototype._resetCustomCursorStyle=function(){var Q;this._customStyle&&((Q=this.gv.getView()).classList&&Q.classList.remove&&Q.classList.remove(this._customStyle),this._customStyle=null)},Qp.prototype._setRotateCursor=function(Q){var Q=(this._cursorFactory||(this._cursorFactory=new w.CursorFactory(this))).getRotateCursor(Q),Y=this.gv.getView();this._resetCustomCursorStyle(),this._customStyle=Q,Y.classList&&Y.classList.add&&Y.classList.add(Q)};((Y=w.Group=function(Q){this._entities=Q,this._64O=0,this._position={x:0,y:0},this._scale={x:1,y:1},this._anchor={x:.5,y:.5},this._anchor2={x:.5,y:.5}}).prototype={}).constructor=Y;var pp=null,$p=null;Y.findOrCreateGroup=function(Q,Y){return $p===Y&&pp&&pp.checkIsMe(Q)?pp:($p=Y,(Y=new w.Group(Q)).getKeyOb()?pp=Y:void 0)},Y.prototype.checkIsMe=function(Q){var Y=this._entities;if(Y.length!==Q.length)return!1;for(var n={},R=Q.length,g=0;g<R;g++)n[Q[g]._id]=!0;for(g=0;g<R;g++)if(!n[Y[g]._id])return!1;return!0},Y.prototype.getRotation=function(){return this._64O},Y.prototype.getPosition=function(){return this._position},Y.prototype.getAnchor=function(){return this._anchor},Y.prototype.getWidth=function(){return this._width},Y.prototype.getScale=function(){return this._scale},Y.prototype.getSize=function(){return{width:this._width,height:this._height}},Y.prototype.getHeight=function(){return this._height},Y.prototype.getKeyOb=function(){for(var Q=this._entities,Y=Q.length-1;0<=Y;Y--){var n=Q[Y];if(this.isNode(n))return n}},Y.prototype.getAnchor2=function(){var Q=this.rotateCenter;if(Q)return Q;if(!(Q=this.getKeyOb()))return this._anchor;var Y=this._anchor2;return Q.getMatrix().tf({x:Q.getWidth()*(Y.x-Q.getAnchor().x),y:Q.getHeight()*(Y.y-Q.getAnchor().y)})},Y.prototype.setAnchor2=function(Q,Y){var n=this.getKeyOb();n&&(Y="number"==typeof Q?{x:Q,y:Y}:Q,Q=n.getMatrix().tfi(Y),this._anchor2={x:n.getAnchor().x+Q.x/n.getWidth(),y:n.getAnchor().y+Q.y/n.getHeight()})},Y.prototype.setRotation=function(Q){},Y.prototype.beginRotate=function(Q){this.rotateCenter=Q.pos,this.rotateMode=Q.groupRotateMode},Y.prototype.endRotate=function(){delete this.rotateCenter,delete this.rotateMode},Y.prototype.addRotation=function(Q,Y,n){return"batch"===Y?this._addRotationInBatchMode(Q,n):"block"===Y?this._addRotationInBlockMode(Q,n):void 0},Y.prototype._addRotationInBlockMode=function(R,g){var B=this,L=B.rotateCenter||B.getPosition();B._entities.forEach(function(Q){var Y,n;!B.isNode(Q)||g&&!g(Q)||((Y=Q.getMatrix()).translate(-L.x,-L.y),Y.rotate(R),Y.translate(L.x,L.y),n=Math.sign(Q.getScale().x),Q.setRotation(w3(Y.b*n,Y.a*n)),Q.setPosition(Y.tx,Y.ty))})},Y.prototype._addRotationInBatchMode=function(g,B){var L=this,Z=L._anchor2;L._entities.forEach(function(Q){var Y,n,R;!L.isNode(Q)||B&&!B(Q)||(Y=Q.getAnchor(),Y=(R=Q.getMatrix()).tf({x:Q.getWidth()*(Z.x-Y.x),y:Q.getHeight()*(Z.y-Y.y)}),(n=new w.Math.Matrix2d).set(R.a,R.b,R.c,R.d,R.tx,R.ty),n.translate(-Y.x,-Y.y),n.rotate(g),n.translate(Y.x,Y.y),R=Math.sign(Q.getScale().x),Q.setRotation(w3(n.b*R,n.a*R)),Q.setPosition(n.tx,n.ty))})},Y.prototype.setPosition=function(Q){for(var Y,n,R=this._position,g=Q.x-R.x,B=Q.y-R.y,L=this._entities,Z=0,e=L.length;Z<e;Z++)Y=L[Z],C(Y)&&(n=Y.getPosition(),Y.setPosition(n.x+g,n.y+B));this._position=Q},Y.prototype.setScale=function(Q,Y){var n=Q/this._scale.x,R=Y/this._scale.y;this._adjustChildScaleOrSize(n,R,"size"),this._scale={x:Q,y:Y}},Y.prototype.getRect=function(){var Q=this._position,Y=this._width,n=this._height;return{x:Q.x-Y/2,y:Q.y-n/2,width:Y,height:n}},Y.prototype.setSize=function(Q,Y){var Q=Math.max(1,Q),Y=Math.max(1,Y),n=Q/this._width,R=Y/this._height;this._adjustChildScaleOrSize(n,R,"size"),this._width=Q,this._height=Y},Y.prototype._adjustChildScaleOrSize=function(Q,Y,n){for(var R,g=this._position,B=this._entities,L=new w.Math.Matrix2d,Z=0,e=B.length;Z<e;Z++){var u,X,x,G,o,l,V,z=B[Z];this.isNode(z)&&(u=z.getPosition(),X=z.getRotation(),x=z.getWidth(),G=z.getHeight(),l=(o=z.getScale()).x*x,V=o.y*G,L.identity().scale(l,V).rotate(X).translate(u.x,u.y).translate(-g.x,-g.y).rotate(-this._64O),X=w3(L.b*Math.sign(l),L.a*Math.sign(l)),L.scale(Q,Y),V=Math.cos(X),u=Math.sin(X),l=Math.abs(V)<.001?(R=L.b/u,-L.c/u):(R=L.a/V,L.d/V),"scale"===n?z.setScale(R/x,l/G):"size"===n&&(X=R/o.x,u=l/o.y,z.setScale(Nn(R)*Math.abs(o.x),Nn(l)*Math.abs(o.y)),z.setSize(Math.max(.1,Math.abs(X)),Math.max(.1,Math.abs(u)))),L.rotate(this._64O).translate(g.x,g.y),z.setPosition(L.tx,L.ty))}},Y.prototype.getMatrix=function(){var Q=this._position,Y=K.Default.getInternal(),n=this._scale;return new Y.Mat(this._64O,Q.x,Q.y,n.x,n.y)},Y.prototype.toGlobal=function(Q){return this.getMatrix().tf(Q)},Y.prototype.getCorners=function(){var Q=this._width,Y=this._height,n=-Q*(R=this._anchor).x,R=-Y*R.y,g=this.getMatrix();return[g.tf(n,R),g.tf(n,R+Y),g.tf(n+Q,R+Y),g.tf(n+Q,R)]},Y.prototype.calcInfo=function(){for(var Q,Y,n=[],R=this._entities,g=this._64O,B=0,L=R.length;B<L;B++)Y=R[B],this.isNode(Y)&&Y.getCorners&&n.push.apply(n,Y.getCorners());if(n.length){for(var Z=Math.cos(-g),e=Math.sin(-g),u=1/0,X=-1/0,x=1/0,G=-1/0,B=0,L=n.length;B<L;B++)o=(Q=n[B]).x,l=Q.y,Q.x=Z*o-e*l,Q.y=e*o+Z*l,u=Math.min(u,Q.x),X=Math.max(X,Q.x),x=Math.min(x,Q.y),G=Math.max(G,Q.y);this._width=(X-u)/this._scale.x,this._height=(G-x)/this._scale.y;var Z=Math.cos(g),e=Math.sin(g),o=u+(X-u)*(g=this._anchor).x,l=x+(G-x)*g.y;this._position={x:Z*o-e*l,y:e*o+Z*l}}},Y.prototype.isNode=function(Q){return!(!C(Q)||$n(Q)&&Q.size())},Y.prototype._42=function(Q,Y,n){var R,g,B,L,Z,e=this._entities;for("batch"===this.rotateMode&&(Z=this.getKeyOb()),R=0,g=e.length;R<g;R++)B=e[R],this.isNode(B)&&(L=B.getRect(),L={min:w.toScreenPosition(n,{x:L.x,y:L.y}),max:w.toScreenPosition(n,{x:L.x+L.width,y:L.y+L.height})},B===Z&&(L.isKeyOb=!0),w.Icons.DrawIcon(Q,Y,w.Icons.GroupSubEntityRect,L))},((n=w.CurveActiving=function(Q,Y){for(var n in this._curve=Q,this._interactor=Q._interactor,this.silent=!0,Y)this[n]=Y[n];delete this.silent}).prototype={}).constructor=n,m.defineProperties(n.prototype,{point:{get:function(){return this._point},set:function(Q){this._point=Q,this.editingCtrl||this.silent||this._firePointChange()}},pairs:{get:function(){return this._pairs},set:function(Q){this._pairs=Q,this.editingCtrl&&!this.silent&&this._firePointChange()}}}),n.prototype._firePointChange=function(){var Q,Y,n=this.getCurrentEditingPoint(),R=this._interactor;n?(Y=this._curve.target)&&(Y=w.getDataMatrix(Y).invert(),Q=n.e,(n=Y.apply(w.toWorldPosition(R.gv,n))).e=Q,(Y=this._lastFirePoint)&&Math.abs(n.x-Y.x)<1e-5&&Math.abs(n.y-Y.y)<1e-5&&(n.e==l3&&Y.e==l3||Math.abs(n.e-Y.e)<1e-5)||(this._lastFirePoint=n,R.fi({kind:"selectPoint",x:n.x,y:n.y,e:n.e}))):R.fi({kind:"selectPoint"})},n.prototype.dispose=function(){this._interactor.fi({kind:"selectPoint"})},n.prototype.getCurrentEditingPoint=function(){var Q=this.editingCtrl;if(Q){var Y=this.pairs;if(Y=(Y=Y&&Y[Q.pairId])&&Y[Q.type])return Y}return this._point},(((r3=w.CursorFactory=function(Q){this._interactor=Q,this._rotateCursorStyles={}}).prototype={}).constructor=r3).prototype.getRotateCursor=function(Q){Q<0&&(Q+=2*Math.PI);var Y=(n=this._interactor).getStyle("rotateCursorSize"),n=n.getStyle("rotateCursorRound"),Q=Math.round(Q/Math.PI*180/n),R=this._rotateCursorStyles,g="htCustomRotateStyle_"+Y+"_"+n+"_"+(Q=360<=Q*n?0:Q);return R[g]||(this._produceRotateCursor(g,Y,n,Q),R[g]=!0),g},r3.prototype._produceRotateCursor=function(Q,Y,n,R){this._interactor;var g=(g=this._canvas)||(this._canvas=o.createElement("canvas")),B=z3.devicePixelRatio,L=(g.width=g.height=Y*B,g.style.width=g.style.height=Y+" px",g.getContext("2d"));w.setAntialias(L,!1),L.scale(B,B);var Z=(Z=Math.round(Y/2))+" "+Z+",auto !important;",R=Math.PI/180*R*n;L.clearRect(0,0,Y,Y),L.save(),L.scale(Y/32,Y/32),L.translate(16,15),L.rotate(R+Math.PI/2),L.beginPath(),L.moveTo(-8,0),L.lineTo(-8,4),L.lineTo(-4,4),L.moveTo(8,0),L.lineTo(8,4),L.lineTo(4,4),L.moveTo(-8,4),L.quadraticCurveTo(0,-6,8,4),L.restore(),L.lineCap="round",L.lineJoin="miter",L.strokeStyle="white",L.lineWidth=4,L.stroke(),L.strokeStyle="black",L.lineWidth=2,L.stroke(),R="cursor:url("+(n=JSON.stringify(g.toDataURL()))+")"+Z,1!==B&&(R=R+("cursor:url(data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+Y+'px" height="'+Y+'px"><image xlink:href='+n+' width="'+Y+'" height="'+Y+'"/></svg>'))+")"+Z+"cursor:-webkit-image-set(url("+n+")"+B+"x,url("+n+")1x)"+Z),(L=o.createElement("style")).textContent="body."+Q+" *, ."+Q+"{"+R+"}",o.head.appendChild(L)},((Ms=w.Guide.Grid=function(Q){this._interactor=Q,this._alignmentGuideId=0,this._xAlignmentGuide=[],this._yAlignmentGuide=[]}).prototype={}).constructor=Ms,m.defineProperties(Ms.prototype,{gridBlockSize:{get:function(){return this._gridBlockSize||this._interactor.getStyle("gridBlockSize")},set:function(Q){this._gridBlockSize=Q,this._interactor._42()}},gridThickLinesEvery:{get:function(){return this._gridThickLinesEvery||this._interactor.getStyle("gridThickLinesEvery")},set:function(Q){this._gridThickLinesEvery=Q,this._interactor._42()}},gridEnabled:{get:function(){return this._interactor.gridEnabled&&this.isValidGrid()}}}),Ms.prototype._42=function(){var Q=this._interactor;this.gridEnabled&&this.drawGrid(),Q.alignmentGuideEnabled&&this.drawAlignmentGuide()},Ms.prototype.makeMatrix=function(){var Q=this._interactor.getStyle("gridAngle"),Y=this._interactor.getStyle("gridRotation"),n=new w.Math.Matrix2d,R=Math.sin(Q),Q=Math.cos(Q);return n.set(1,0,Q,R,0,0),n.rotate(Y),n},Ms.prototype.isValidGrid=function(){var Q=Math.PI,Y=this._interactor;return!(Y.gv._zoom<Y.getStyle("gridZoomThreshold"))&&(Y=Y.getStyle("gridAngle"),!((Y=Math.abs(Y%Q/Q*180))<1-1e-8||179.00000001<Y))},Ms.prototype.drawAlignmentGuide=function(){var Q=this._interactor,Y=Q.gv,n=Q._canvas,R=Q._context,g=n.width,B=n.height,L=Y.tx(),Z=Y.ty(),e=Y._zoom;R.beginPath(),R.strokeStyle=Q.getStyle("gridAlignmentGuideColor"),R.lineWidth=1,this._xAlignmentGuide.forEach(function(Q){Q=Q.p*e+L,R.moveTo(Q,0),R.lineTo(Q,B)}),this._yAlignmentGuide.forEach(function(Q){Q=Q.p*e+Z,R.moveTo(0,Q),R.lineTo(g,Q)}),R.stroke()},Ms.prototype.drawGrid=function(){var Q,Y,n,R=this._interactor,g=this.gridBlockSize,B=this.gridThickLinesEvery,L=R.getStyle("gridThickColor"),Z=R.getStyle("gridLightColor"),e=R.gv,u=R._canvas,X=R._context,R=u.width,u=u.height,x=this.makeMatrix(),G=x.applyInverse(w.toWorldPosition(e,{x:0,y:0})),o=x.applyInverse(w.toWorldPosition(e,{x:R,y:0})),l=x.applyInverse(w.toWorldPosition(e,{x:0,y:u})),R=x.applyInverse(w.toWorldPosition(e,{x:R,y:u})),V=Math.min(G.x,o.x,l.x,R.x),z=Math.max(G.x,o.x,l.x,R.x),p=Math.min(G.y,o.y,l.y,R.y),$=Math.max(G.y,o.y,l.y,R.y),u=Math.ceil(V/g),M=Math.floor(z/g),G=Math.ceil(p/g),F=Math.floor($/g);function v(Q,Y,n,R){Q=w.toScreenPosition(e,x.apply({x:Q,y:Y})),Y=w.toScreenPosition(e,x.apply({x:n,y:R})),X.moveTo(Q.x,Q.y),X.lineTo(Y.x,Y.y)}for(e.tx(),e.ty(),e._zoom,X.save(),X.lineWidth=1,X.beginPath(),X.strokeStyle=L,n=Math.ceil(u/B)*B;n<=M;n+=B)v(Q=n*g,p,Q,$);for(n=Math.ceil(G/B)*B;n<=F;n+=B)v(V,Y=n*g,z,Y);for(X.stroke(),X.beginPath(),X.strokeStyle=Z,n=u;n<=M;n++)n%B!=0&&v(Q=n*g,p,Q,$);for(n=G;n<=F;n++)n%B!=0&&v(V,Y=n*g,z,Y);X.stroke(),X.restore()},Ms.prototype.getAlignmentGuides=function(){return{x:this._xAlignmentGuide,y:this._yAlignmentGuide}},Ms.prototype.addAlignmentGuide=function(Q,Y,n){var R,Q="x"===Q?this._xAlignmentGuide:this._yAlignmentGuide,Y={p:Y,id:n=n||++this._alignmentGuideId};return Q.length?(R=this._findClosestAlignmentGuide(Y.p,Q)).dis<0?Q.splice(R.index+1,0,Y):Q.splice(R.index,0,Y):Q.push(Y),this._interactor._42(),n},Ms.prototype.findClosest=function(Q,Y,n){var R=this._interactor,g=R.gv,B=1/0,L=1/0,Z=(Q=n?w.toWorldPosition(g,Q):Q).x,e=Q.y;if(this.gridEnabled&&(X=this.gridBlockSize,Q=(u=this.makeMatrix()).applyInverse(Q),B=(Q=u.apply({x:Math.round(Q.x/X)*X,y:Math.round(Q.y/X)*X})).x-Z,L=Q.y-e,u=!0),R.alignmentGuideEnabled&&(X=this._findClosestAlignmentGuide(Z,this._xAlignmentGuide).dis,Q=this._findClosestAlignmentGuide(e,this._yAlignmentGuide).dis,Math.abs(X)<Math.abs(B)&&(B=X,u=!0),Math.abs(Q)<Math.abs(L)&&(L=Q,u=!0)),u){var u=!1,Z=g._zoom,e=R.getStyle("smartGuideThreshold")/Z,X={};if(Math.abs(B)<e&&"y"!==Y&&(X.x=n?B*Z:B,u=!0),Math.abs(L)<e&&"x"!==Y&&(X.y=n?L*Z:L,u=!0),u)return X}},Ms.prototype._findClosestAlignmentGuide=function(Q,Y){if(!Y.length)return{dis:1/0};for(var n,R=0,g=Y.length-1;1<g-R;)Y[n=Math.floor((R+g)/2)].p<Q?R=n:g=n;var B=Y[R].p-Q,L=Y[g].p-Q;return Math.abs(B)<=Math.abs(L)?{line:Y[R],dis:B,index:R}:{line:Y[g],dis:L,index:g}},Ms.prototype.removeAllAlignmentGuide=function(Q){"y"!==Q&&(this._xAlignmentGuide=[]),"x"!==Q&&(this._yAlignmentGuide=[]),this._interactor._42()},Ms.prototype.removeAlignmentGuide=function(Q){for(var Y,n,R,g=this._xAlignmentGuide,B=0;B<2;B++)for(n=(g=(Y=0)===B?this._xAlignmentGuide:this._yAlignmentGuide).length;Y<n;Y++)if((R=g[Y]).id===Q)return g.splice(Y,1),this._interactor._42(),{axis:0===B?"x":"y",position:R.p};return!1},Ms.prototype.adjustAlignmentGuide=function(Q,Y){var n=this.removeAlignmentGuide(Q);return!!n&&(this.addAlignmentGuide(n.axis,Y,Q),!0)},(((Q=w.Guide.Rect=function(Q){this._interactor=Q}).prototype={}).constructor=Q).prototype.gatherRects=function(){var R,g,B,L,Z=this._interactor.gv,e=[],u=[],Q={x:e,y:u},X={},Y=Z.getDataModel(),n=Y.a("width"),x=Y.a("height");n&&x&&(g=R=0,B=n,L=x,e.push({node:Y,type:0,p:R},{node:Y,type:1,p:R+B/2},{node:Y,type:2,p:R+B}),u.push({node:Y,type:0,p:g},{node:Y,type:1,p:g+L/2},{node:Y,type:2,p:g+L}),X[Y._id||0]={x:R,y:g,width:B,height:L}),Y.each(function(Y){var n,Q;C(Y)&&!Z.isSelected(Y)&&Z.isVisible(Y)&&Z.isValidGuideLineSource(Y)&&(n=!1,Z.sm().getSelection().each(function(Q){n||(Y.isHostOn(Q)||Y.isDescendantOf(Q))&&(n=!0)}),n||(Q=Y.getRect(),R=Q.x,g=Q.y,B=Q.width,L=Q.height,e.push({node:Y,type:0,p:R},{node:Y,type:1,p:R+B/2},{node:Y,type:2,p:R+B}),u.push({node:Y,type:0,p:g},{node:Y,type:1,p:g+L/2},{node:Y,type:2,p:g+L}),X[Y._id]=Q))}),e.sort(function(Q,Y){return Q.p-Y.p}),u.sort(function(Q,Y){return Q.p-Y.p}),this._grid=Q,this._87I=X},Q.prototype.gatherLines=function(Q,Y,n){var R,g,B,L,Z,e,u,X,x,G=[this.findClosest({x:Q.x,y:Q.y},Y),this.findClosest({x:Q.x+Q.w/2,y:Q.y+Q.h/2},Y),this.findClosest({x:Q.x+Q.w,y:Q.y+Q.h},Y)],o={},l=this._87I;for(n=n||255,this._guideLine=[],R=0;R<2;R++)for(o={},u=0===R?(L="y",(e=Q.x)+Q.w):(L="x",(e=Q.y)+Q.h),g=0;g<3;g++)(Z=G[g])&&isFinite(Z[L])&&n&1<<3*R+g&&(o[x=(Z=Z[L+"Line"]).node._id||0]||(o[x]=!0,x=l[x],x="y"===L?(X=x.x,x.x+x.width):(X=x.y,x.y+x.height),B=Z.p,this._guideLine.push({type:L,a:e,b:u,c:X,d:x,p:B,center:1===Z.type})))},Q.prototype._binarySearchClosest=function(Q,Y){if(!Y.length)return{dis:1/0};for(var n,R=0,g=Y.length-1;1<g-R;)Y[n=Math.floor((R+g)/2)].p<Q?R=n:g=n;var B=Y[R].p-Q,L=Y[g].p-Q;return Math.abs(B)<=Math.abs(L)?{line:Y[R],dis:B}:{line:Y[g],dis:L}},Q.prototype.findClosest=function(Q,Y,n){var R,g=(e=this._interactor).gv,B=this._grid,L=(n&&(Q=w.toWorldPosition(g,Q)),this._binarySearchClosest(Q.x,B.x)),Q=this._binarySearchClosest(Q.y,B.y),B=L.dis,Z=Q.dis,g=g._zoom,e=e.getStyle("smartGuideThreshold")/g,u={};if(Math.abs(B)<e&&"y"!==Y&&(u.x=n?B*g:B,u.xLine=L.line,R=!0),Math.abs(Z)<e&&"x"!==Y&&(u.y=n?Z*g:Z,u.yLine=Q.line,R=!0),R)return u},Q.prototype._42=function(){var Q=this._guideLine;if(Q&&!K.Default.isCtrlDown()){var Y=this._interactor;if(Y.getStyle("guideLineVisible"))for(var n,R,g,B,L,Z,e,u,X,x,G,o,l,V=Y.gv,z=Y._context,p=V.tx(),$=V.ty(),M=V._zoom,F=Y.getStyle("guideLineTextSpacing"),v=0,a=Q.length;v<a;v++)L=(n=Q[v]).type,Z=n.p,e=n.a,u=n.b,X=n.c,x=n.d,G=Math.min(e,X),o=Math.max(u,x),Z="x"===L?(g=G*M+$,B=R=Z*M+p,o*M+$):(R=G*M+p,B=o*M+p,g=Z*M+$),w.Icons.DrawIcon(Y,z,w.Icons.MoveLineGuide,{rect:[R,g,B,Z],center:n.center}),e<=x&&X<=u||(G=x<e?x:u,o=x<e?e:X,"x"===L?(n.center2center||(B=R-=F),g=G*M+$,Z=o*M+$,l=w.Icons.MoveLineGuideDistanceV):"y"===L&&(n.center2center||(Z=g-=F),R=G*M+p,B=o*M+p,l=w.Icons.MoveLineGuideDistanceH),w.Icons.DrawIcon(Y,z,l,{x0:R,y0:g,x1:B,y1:Z,dis:o-G}))}},Q.prototype.clear=function(){this._guideLine=null};((Y=w.Guide.Hover=function(Q){this._interactor=Q}).prototype={}).constructor=Y,m.defineProperties(Y.prototype,{}),Y.prototype._42=function(){var Q,Y,n,R=this._interactor;R.getStyle("hoverGuideVisible")&&!R.gvEditing&&(Q=R.hoverData,n=R.gv,!C(Q)||n.isSelected(Q)?R.hoverData=null:(Q=mQ(n,Q),Y=w.toScreenPosition(n,{x:Q.x,y:Q.y}),n=w.toScreenPosition(n,{x:Q.x+Q.width,y:Q.y+Q.height}),w.Icons.DrawIcon(R,R._context,w.Icons.HoverDataRect,{min:Y,max:n,color:R.getStyle("hoverGuideColor")||R.getStyle("baseColor"),borderWidth:R.getStyle("hoverGuideBorderWidth")||1,borderPattern:R.getStyle("hoverGuideBorderPattern")||[1,4]})))},w.DefaultStyleMap={baseColor:"rgb(51,153,255)",pointSize:[24,9],checkSize:7,rotateCheckSize:10,moveSensitivity:10,moveDummyThreshold:32,moveDummyPosition:[0,0,-16,-16],moveDummyLineExtraShift:[-32,0],moveDummySensitivity:16,keepAspectRatio:!1,rotateRound:Math.PI/2,shiftRotateRound:Math.PI/12,rotateSensitivity:Math.PI/60,rotateAsClock:!1,rotateTipVisible:!0,shiftLineRotateRound:Math.PI/4,anchorMovable:!0,anchorVisible:!0,anchorHideThreshold:25,anchorOutsideVisibleThreshold:.25,anchorRound:.25,anchorSensitivity:.02,smartGuideThreshold:8,curveIntersectSize:5,curvePointIntersectSize:8,edgeHostDetectPerFrame:!0,edgeHostEdgeMaxDistance:12,edgeHostEdgeHighlighColor:"#5d5d5d",edgeHostPointHighlighColor:"red",edgeHostHighlighPeriod:1500,edgeElevationEditable:!1,attachThreshold:25,guideLineVisible:!0,guideLineTextSpacing:0,hoverGuideVisible:!1,hoverGuideColor:null,gridBlockSize:40,gridThickLinesEvery:10,gridThickColor:"#5d5d5d",gridLightColor:"#d0d0d0",gridZoomThreshold:.25,gridAlignmentGuideColor:"#ff0000",gridAngle:Math.PI/2,gridRotation:0,groupRotateModeDefault:"block",groupRotateModeKey:["ctrlKey","metaKey"],rotateCursorSize:32,rotateCursorRound:45,tipTextColor:"#ffffff",tipBackground:"#333333",curveHighlightColor:"#30599e",rectPointBackground:"white",rectPointBorderColor:"#666666",rectPointShadowColor:"rgba(0,0,0,0.35)",shapeCtrlPointBackground:"white",shapeCtrlPointBorderColor:null,shapeCtrlPointHighlightBorder:null,shapeHighlighPointBackground:"#30599e",curveElevationVisible:!0,curveElevationIntersectSize:8,curveElevationGuideShift:[20,0],curveTipVisible:!0,connectGuideVisible:!0,connectGuideShift:[1,.25,8,0],connectGuideIntersectSize:8,connectGuideGarbageIntersectsize:25,connectGuideGarbageShift:[1,1,-48,-48],moveHelperFilter:V3,rectEditHelperFilter:V3};var g=w.Icons={},Mp=null,Fp=w.DefaultStyleMap.baseColor,vp="rgb(255,204,153)",ap=(K.Default.setImage("Icons.RectPoint",{width:6,height:6,comps:[{type:"rect",background:"rgb(247,247,247)",borderWidth:1,borderColor:{func:function(){return Fp}},rect:[0,0,6,6]}]}),g.GroupSubEntityRect={comps:[{type:"shape",points:{func:function(){if(!(Y=g.GroupSubEntityRect.data))return[];var Q=Y.min,Y=Y.max;return[Q.x,Q.y,Q.x,Y.y,Y.x,Y.y,Y.x,Q.y]}},segments:[1,2,2,2,5],background:null,borderWidth:1,borderColor:{func:function(){return g.GroupSubEntityRect.data.isKeyOb,Fp}}}]},g.HoverDataRect={comps:[{type:"shape",points:{func:function(){if(!(n=g.HoverDataRect.data))return[];var Q=n.min,Y=n.max,n=n.gap;return Q.x-=n=n===l3?4:n,Q.y-=n,Y.x+=n,Y.y+=n,[Q.x,Q.y,Q.x,Y.y,Y.x,Y.y,Y.x,Q.y]}},segments:[1,2,2,2,5],background:null,borderWidth:{func:function(){return g.HoverDataRect.data.borderWidth}},borderColor:{func:function(){return g.HoverDataRect.data.color}},borderCap:"butt",borderPattern:{func:function(){return g.HoverDataRect.data.borderPattern}}}]},g.Line={comps:[{type:"image",name:"Icons.RectPoint",rect:{func:function(){return[[g.Line.data.P1.x,g.Line.data.P1.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rect:{func:function(){return[[g.Line.data.P2.x,g.Line.data.P2.y],6,6]}}}]},g.NodeHoverGuide={comps:[{type:"shape",points:{func:function(){return g.NodeHoverGuide.data}},segments:[1,2,2,2,5],background:null,borderWidth:1,borderColor:"#3399FF"}]},g.Rect={comps:[{type:"shape",points:{func:function(){if(!(R=g.Rect.data))return[];var Q=R.LT,Y=R.LB,n=R.RB,R=R.RT;return[Q.x,Q.y,Y.x,Y.y,n.x,n.y,R.x,R.y]}},segments:[1,2,2,2,5],background:null,borderWidth:1,borderColor:{func:function(){return Fp}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return g.Rect.data.rotation}},rect:{func:function(){return[[g.Rect.data.LT.x,g.Rect.data.LT.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return g.Rect.data.rotation}},rect:{func:function(){return[[g.Rect.data.LB.x,g.Rect.data.LB.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return g.Rect.data.rotation}},rect:{func:function(){return[[g.Rect.data.RB.x,g.Rect.data.RB.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return g.Rect.data.rotation}},rect:{func:function(){return[[g.Rect.data.RT.x,g.Rect.data.RT.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return g.Rect.data.rotation}},visible:{func:function(){return!!g.Rect.data.L}},rect:{func:function(){return[[g.Rect.data.L.x,g.Rect.data.L.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return g.Rect.data.rotation}},visible:{func:function(){return!!g.Rect.data.R}},rect:{func:function(){return[[g.Rect.data.R.x,g.Rect.data.R.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return g.Rect.data.rotation}},visible:{func:function(){return!!g.Rect.data.T}},rect:{func:function(){return[[g.Rect.data.T.x,g.Rect.data.T.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return g.Rect.data.rotation}},visible:{func:function(){return!!g.Rect.data.B}},rect:{func:function(){return[[g.Rect.data.B.x,g.Rect.data.B.y],6,6]}}}]},K.Default.setImage("Icons.Anchor",{width:12,height:12,comps:[{type:"shape",borderWidth:1,borderColor:{func:function(){return Fp}},borderCap:"round",shadowColor:"#1ABC9C",points:[.50928,6,11.49072,6,6,6,6,.50928,6,11.49072]},{type:"circle",borderWidth:1,borderColor:{func:function(){return Fp}},shadowColor:"#1ABC9C",rect:[2.84391,2.84391,6.53697,6.53697]}]}),g.Anchor={comps:[{type:"image",name:"Icons.Anchor",rect:{func:function(){return[[g.Anchor.data.POS.x,g.Anchor.data.POS.y],16,16]}}}]},g.TipShiftX=12,g.TipShiftY=12,[8,28]);g.TipHelper={comps:[{type:"roundRect",rect:{func:function(){return[g.TipHelper.data.helperPos.x,g.TipHelper.data.helperPos.y,ap[0]*g.TipHelper.data.size,ap[1]]}},background:{func:function(){return Mp.getStyle("tipBackground")}},opacity:.6},{type:"text",text:{func:function(){return g.TipHelper.data.text}},rect:{func:function(){return[g.TipHelper.data.helperPos.x,g.TipHelper.data.helperPos.y,ap[0]*g.TipHelper.data.size,ap[1]]}},color:{func:function(){return Mp.getStyle("tipTextColor")}},font:"bold 12px Arial",align:"center"}]},g.ShapePoint={comps:[{type:"circle",visible:{func:function(){return!!g.ShapePoint.data.dynamicVisible}},rect:{func:function(){var Q=g.ShapePoint.data.point,Y=g.ShapePoint.data.size||7;return[Q,Y+10,Y+10]}},background:{func:function(){var Q=Date.now(),Y=g.ShapePoint.data.dynamicPeriod||1500;return"rgba(27,124,22,"+.5*Math.sin(Q%Y/Y*Math.PI)+")"}},borderWidth:0},{type:"circle",rect:{func:function(){var Q=g.ShapePoint.data.point,Y=g.ShapePoint.data.size||7;return[Q,Y,Y]}},background:{func:function(){return g.ShapePoint.data.isEnd?"rgba(27,124,222,0.7)":"#ffffff"}},borderWidth:1,borderColor:{func:function(){return g.ShapePoint.data.color||Fp}}},{type:"rect",visible:{func:function(){return!!g.ShapePoint.data.dynamicVisible}},background:"red",borderWidth:0,rotation:Math.PI/4,borderColor:{func:function(){return Fp}},rect:{func:function(){return[g.ShapePoint.data.point,5,5]}}}]},g.ShapeBgCurve={comps:[{type:"shape",visible:{func:function(){return!!g.ShapeBgCurve.data.dynamicVisible}},points:{func:function(){return g.ShapeBgCurve.data.P}},segments:{func:function(){return g.ShapeBgCurve.data.S}},background:null,borderWidth:6,borderColor:{func:function(){var Q=Date.now(),Y=g.ShapeBgCurve.data.dynamicPeriod||1500;return"rgba(27,124,22,"+.3*Math.sin(Q%Y/Y*Math.PI)+")"}}},{type:"shape",points:{func:function(){return g.ShapeBgCurve.data.P}},segments:{func:function(){return g.ShapeBgCurve.data.S}},background:null,borderWidth:1,borderColor:{func:function(){return g.ShapeBgCurve.data.color||Fp}}}]},g.ShapeHighlighPoint={comps:[{type:"circle",rect:{func:function(){var Q=g.ShapeHighlighPoint.data;return[[Q.x,Q.y],8,8]}},background:{func:function(){return Mp.getStyle("shapeHighlighPointBackground")}},borderWidth:0}]},g.ShapeHighlighRealPoint={comps:[{type:"circle",rect:{func:function(){var Q=g.ShapeHighlighRealPoint.data;return[[Q.x,Q.y],10,10]}},background:"#ffffff",borderWidth:2,borderColor:{func:function(){return Fp}}}]},g.ShapeHighlighCtrlPoint={comps:[{type:"shape",points:{func:function(){var Q=g.ShapeHighlighCtrlPoint.data,Y=Q.x;return[Y-4,(Q=Q.y)-4,Y-4,Q+4,Y+4,Q+4,Y+4,Q-4]}},segments:[1,2,2,2,5],borderWidth:2,background:{func:function(){return Mp.getStyle("shapeCtrlPointBackground")}},borderColor:{func:function(){return Mp.getStyle("shapeCtrlPointBorderColor")||Fp}}}]},g.ShapeHighlightCurve={comps:[{type:"shape",points:{func:function(){return g.ShapeHighlightCurve.data}},segments:[1,4],background:null,borderWidth:3,borderColor:{func:function(){return Mp.getStyle("curveHighlightColor")}}}]},g.ShapeGuideLine={comps:[{type:"shape",points:{func:function(){return g.ShapeGuideLine.data}},background:null,borderWidth:1,borderColor:"rgb(255,204,153)"}]},g.MoveLineGuide={comps:[{type:"shape",points:{func:function(){return g.MoveLineGuide.data.rect}},background:null,borderWidth:1,borderColor:{func:function(){return g.MoveLineGuide.data.center?"rgb(183,232,135)":vp}}}]},g.MoveLineGuideDistanceH={comps:[{type:"shape",points:{func:function(){var Q=g.MoveLineGuideDistanceH.data,Y=Q.x0;return[Y,(Q=Q.y0)-5,Y,Q+5]}},rotation:-Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:vp},{type:"shape",points:{func:function(){var Q=g.MoveLineGuideDistanceH.data,Y=Q.x1;return[Y,(Q=Q.y1)-5,Y,Q+5]}},rotation:-Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:vp},{type:"text",text:{func:function(){return Math.round(g.MoveLineGuideDistanceH.data.dis)}},rect:{func:function(){var Q=g.MoveLineGuideDistanceH.data;return[[(Q.x0+Q.x1)/2,Q.y0-10],20,20]}},color:vp,font:"12px Arial",align:"center"}]},g.MoveLineGuideDistanceV={comps:[{type:"shape",points:{func:function(){var Q=g.MoveLineGuideDistanceV.data,Y=Q.x0;return[Y-5,Q=Q.y0,Y+5,Q]}},rotation:Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:vp},{type:"shape",points:{func:function(){var Q=g.MoveLineGuideDistanceV.data,Y=Q.x1;return[Y-5,Q=Q.y1,Y+5,Q]}},rotation:Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:vp},{type:"text",text:{func:function(){return Math.round(g.MoveLineGuideDistanceV.data.dis)}},rect:{func:function(){var Q=g.MoveLineGuideDistanceV.data;return[[Q.x0-10,(Q.y0+Q.y1)/2],20,20]}},color:vp,font:"12px Arial",align:"center"}]},K.Default.setImage("Icons.EdgeElevationGuideImage",{width:16,height:16,comps:[{type:"oval",background:"rgb(255,255,255)",borderWidth:1,borderColor:"rgb(138,138,138)",rect:[.5,.5,15,15]},{type:"shape",borderWidth:2,borderColor:"rgb(44,44,44)",borderCap:"round",points:[4,8,8,4,12,8,8,4,8,13],segments:[1,2,2,1,2]}]}),g.EdgeElevationGuide={comps:[{type:"image",name:"Icons.EdgeElevationGuideImage",rect:{func:function(){var Q=(Y=g.EdgeElevationGuide.data).x,Y=Y.y,n=Mp.getStyle("curveElevationIntersectSize"),R=Mp.getStyle("curveElevationGuideShift");return[(Q+=R[0])-n,(Y+=R[1])-n,2*n,2*n]}}}]},K.Default.setImage("Icons.ConnectGuideBgImage",{width:12,height:12,comps:[{type:"shape",background:"#3399ff",fillRule:"evenodd",shadowColor:"#1ABC9C",rotation:3.14159,points:[6.00001,11.99999,6.00001,11.99999,2.6863,11.99999,1e-5,9.30695,1e-5,5.99999,1e-5,5.99999,1e-5,2.68628,2.69305,-1e-5,6.00001,-1e-5,12.00001,-1e-5,11.99998,12.00001,6.00001,11.99999],segments:[1,2,4,2,4,2,2,2]}]}),K.Default.setImage("Icons.ConnectGuideHeaderImage",{width:12,height:12,comps:[{type:"oval",background:"#3399FF",borderColor:"#3399FF",shadowColor:"#1ABC9C",rect:[0,0,12,12]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[4.76,2.56,8.2,5.98,4.76,9.44]}]}),g.ConnectGuide={comps:[{type:"image",name:"Icons.ConnectGuideBgImage",rotation:{func:function(){return g.ConnectGuide.data.rotation}},rect:{func:function(){var Q=g.ConnectGuide.data.connect,Y=(Q.x,Q.y,Mp.getStyle("connectGuideIntersectSize"));return[[Q.x,Q.y],2*Y,2*Y]}}},{type:"image",name:"Icons.ConnectGuideHeaderImage",rect:{func:function(){var Q=g.ConnectGuide.data.cursorPos||g.ConnectGuide.data.connect,Y=Mp.getStyle("connectGuideIntersectSize");return[[Q.x,Q.y],2*Y-2,2*Y-2]}}},{type:"shape",background:null,borderColor:"#3399ff",borderWidth:2,segments:[1,4],points:{func:function(){var Q=g.ConnectGuide.data.connect,Y=g.ConnectGuide.data.cursorPos||Q;return[Q.x,Q.y,Q.x+.5*(Y.x-Q.x),Q.y,Y.x+.5*(Q.x-Y.x),Y.y,Y.x,Y.y]}}}]},K.Default.setImage("Icons.ConnectGuideGarbageImage",{width:48,height:48,comps:[{type:"oval",background:"rgba(0,0,0,0.1)",borderColor:"#979797",shadowColor:"#1ABC9C",rect:[0,0,48,48]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[19.84721,19.69091,19.84721,32.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[24.10371,19.69091,24.10371,32.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[28.15279,19.69091,28.15279,32.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[11.23055,15.22377,36.76945,15.189,19.12302,15.17121,20.94722,11.5228,26.41985,11.5228,28.24406,15.17121]},{type:"rect",borderWidth:2,borderColor:"rgb(255,255,255)",shadowColor:"#1ABC9C",rect:[15.48702,15.22377,17.02595,21.25344]}]}),K.Default.setImage("Icons.ConnectGuideDeletingImage",{width:56,height:56,comps:[{type:"oval",background:"rgba(232,0,0,0.75)",borderColor:"#979797",shadowColor:"#1ABC9C",rect:[0,0,56,56]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[22.67939,27.69091,22.67939,40.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[26.93588,27.69091,26.93588,40.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[30.98497,27.69091,30.98497,40.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",anchorX:0,anchorY:1,rotation:5.65062,points:[14.06272,23.22377,39.60163,23.189,21.9552,23.17121,23.7794,19.5228,29.25203,19.5228,31.07623,23.17121]},{type:"rect",borderWidth:2,borderColor:"rgb(255,255,255)",shadowColor:"#1ABC9C",rect:[18.3192,23.22377,17.02595,21.25344]}]}),g.ConnectGuideGarbage={comps:[{type:"image",name:{func:function(){return g.ConnectGuideGarbage.data.hover?"Icons.ConnectGuideDeletingImage":"Icons.ConnectGuideGarbageImage"}},rect:{func:function(){var Q=g.ConnectGuideGarbage.data,Y=Mp.getStyle("connectGuideGarbageIntersectsize");return Q.hover&&(Y+=5),[[Q.x,Q.y],2*Y,2*Y]}}}]},g.ShapeActivingCtrl={comps:[{type:"shape",visible:{func:function(){return!!g.ShapeActivingCtrl.data.c1}},points:{func:function(){var Q=g.ShapeActivingCtrl.data;return[Q.point.x,Q.point.y,Q.c1.x,Q.c1.y]}},segments:[1,2],background:null,borderWidth:1,borderColor:{func:function(){return Fp}}},{type:"shape",visible:{func:function(){return!!g.ShapeActivingCtrl.data.c2}},points:{func:function(){var Q=g.ShapeActivingCtrl.data;return[Q.point.x,Q.point.y,Q.c2.x,Q.c2.y]}},segments:[1,2],background:null,borderWidth:1,borderColor:{func:function(){return Fp}}},{type:"shape",visible:{func:function(){return!!g.ShapeActivingCtrl.data.c1}},points:{func:function(){var Q=(Y=g.ShapeActivingCtrl.data.c1).x,Y=Y.y,n=3;return"c1"===g.ShapeActivingCtrl.data.hl&&(n+=.5),[Q-n,Y-n,Q-n,Y+n,Q+n,Y+n,Q+n,Y-n]}},segments:[1,2,2,2,5],borderWidth:2,background:{func:function(){return Mp.getStyle("shapeCtrlPointBackground")}},borderColor:{func:function(){return"c1"===g.ShapeActivingCtrl.data.hl?Mp.getStyle("shapeCtrlPointHighlightBorder")||Fp:Mp.getStyle("shapeCtrlPointBorderColor")||Fp}}},{type:"shape",visible:{func:function(){return!!g.ShapeActivingCtrl.data.c2}},points:{func:function(){var Q=(Y=g.ShapeActivingCtrl.data.c2).x,Y=Y.y,n=3;return"c2"===g.ShapeActivingCtrl.data.hl&&(n+=.5),[Q-n,Y-n,Q-n,Y+n,Q+n,Y+n,Q+n,Y-n]}},segments:[1,2,2,2,5],borderWidth:2,background:{func:function(){return Mp.getStyle("shapeCtrlPointBackground")}},borderColor:{func:function(){return"c2"===g.ShapeActivingCtrl.data.hl?Mp.getStyle("shapeCtrlPointHighlightBorder")||Fp:Mp.getStyle("shapeCtrlPointBorderColor")||Fp}}}]},g.RoundPoint={comps:[{type:"circle",background:"rgb(247,247,247)",borderWidth:1,borderColor:{func:function(){return Fp}},rect:{func:function(){return[[g.RoundPoint.data.x,g.RoundPoint.data.y],6,6]}}}]},g.AttachPoint={comps:[{type:"rect",background:{func:function(){return g.AttachPoint.data.isAttach?"rgb(51,153,255)":"rgb(247,247,247)"}},borderWidth:1,rotation:Math.PI/4,borderColor:{func:function(){return Fp}},rect:{func:function(){var Q=g.AttachPoint.data.isAttach?10:6;return[[g.AttachPoint.data.x,g.AttachPoint.data.y],Q,Q]}}}]},g.SimpleRect={comps:[{type:"rect",background:null,borderWidth:{func:function(){return g.SimpleRect.data.borderWidth||1}},borderColor:{func:function(){return g.SimpleRect.data.color||Fp}},rect:{func:function(){var Q=g.SimpleRect.data;return[Q.x,Q.y,Q.width,Q.height]}}}]},K.Default.setImage("Icons.MoveDummyImage",{width:32,height:32,boundExtend:12,attachStyle:"close",comps:[{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",shadow:!0,shadowColor:"rgba(0,0,0,0.25)",shadowOffsetX:0,rect:[0,0,32,32]},{type:"shape",background:"rgb(51,153,255)",pixelPerfect:!0,points:[8.65079,11.90713,9.05502,11.46921,9.70629,11.46921,10.11052,11.90713,10.51476,12.28891,10.51476,12.92895,10.11052,13.34441,8.49359,14.97258,12.2889,14.97258,12.85034,14.97258,13.29949,15.42172,13.29949,15.99439,13.29949,16.57828,12.85034,17.0162,12.2889,17.0162,8.49359,17.0162,10.11052,18.6556,10.51476,19.0486,10.51476,19.7111,10.11052,20.09288,9.70629,20.50834,9.05502,20.50834,8.65079,20.09288,5.32709,16.76917,5.28217,16.71303,4.87794,16.32002,4.87794,15.67998,5.28217,15.26452,8.65079,11.90713,8.65079,11.90713,8.65079,11.90713,13.3444,10.09931,13.3444,10.09931,12.94017,10.50354,12.2889,10.50354,11.88467,10.09931,11.48043,9.69507,11.48043,9.0438,11.88467,8.63957,15.27574,5.25973,15.66874,4.86672,16.32001,4.86672,16.73547,5.25973,16.76917,5.31586,20.10409,8.63957,20.50832,9.0438,20.50832,9.68385,20.10409,10.09931,19.69986,10.49231,19.07105,10.50354,18.64436,10.09931,17.02742,8.45991,17.02742,12.26646,17.02742,12.83912,16.55581,13.31072,15.99438,13.31072,15.43295,13.31072,14.98379,12.83912,14.98379,12.26646,14.96134,8.45991,13.3444,10.09931,13.3444,10.09931,13.3444,10.09931,21.90069,13.33318,21.90069,13.33318,21.49646,12.91771,21.49646,12.27768,21.90069,11.89591,22.31615,11.45798,22.94497,11.45798,23.36043,11.89591,26.72904,15.2533,27.12205,15.66876,27.12205,16.3088,26.72904,16.7018,26.6729,16.75794,23.36043,20.08165,22.94497,20.49711,22.31615,20.49711,21.90069,20.08165,21.49646,19.69987,21.49646,19.03737,21.90069,18.64437,23.51763,17.00498,19.72231,17.00498,19.14965,17.00498,18.71173,16.56705,18.71173,15.98316,18.71173,15.41049,19.14965,14.96135,19.72231,14.96135,23.51763,14.96135,21.90069,13.33318,21.90069,13.33318,21.90069,13.33318,11.88467,23.32675,11.88467,23.32675,11.48043,22.94498,11.48043,22.27125,11.88467,21.88948,12.2889,21.48523,12.94017,21.48523,13.3444,21.88948,14.96134,23.52887,14.98379,19.7111,14.98379,19.14966,15.43295,18.67805,15.99438,18.67805,16.55581,18.67805,17.02742,19.14966,17.02742,19.7111,17.02742,23.52887,18.64436,21.88948,19.07105,21.48523,19.69986,21.48523,20.10409,21.88948,20.50832,22.27125,20.50832,22.94498,20.10409,23.32675,16.76917,26.65045,16.73547,26.72905,16.32001,27.13329,15.66874,27.13329,15.27574,26.72905,11.88467,23.32675,11.88467,23.32675,11.88467,23.32675],segments:[1,4,4,2,2,4,4,2,2,4,4,2,2,4,2,2,2,1,2,4,4,2,4,2,2,4,4,2,2,4,4,2,2,2,2,1,2,4,4,2,4,2,2,4,4,2,2,4,4,2,2,2,2,1,2,4,4,2,2,4,4,2,2,4,4,2,2,4,2,2,2]}]}),g.MoveDummy={comps:[{type:"image",name:"Icons.MoveDummyImage",rect:{func:function(){var Q=g.MoveDummy.data;return[[Q.pos.x,Q.pos.y],2*Q.size,2*Q.size]}}}]},w.Icons.DrawIcon=function(Q,Y,n,R){n.width=n.height=1e4,n.data=R,Mp=Q,K.Default.drawImage(Y,n,0,0,1e4,1e4),Mp=l3},w.Icons.MapPoints=function(Q,Y){for(var n=0,R=Q.length;n<R;n++)Q[n]/=Y},w.roundTo=function(Q,Y,n){var R=Math.abs(Q%Y);return R<n||Y-R<n?Y*Math.round(Q/Y):Q},w.toFixed=function(Q){return Math.round(100*Q)/100},w.getDataMatrix=function(Q){var Y,n;return Q instanceof K.Shape?(Y=new K.Math.Matrix2d,n=Q.getPosition(),Y.translate(-n.x,-n.y).scale(Q.getScale().x,Q.getScale().y).rotate(Q.getRotation()).translate(n.x,n.y),Y):Q.getMatrix?Q.getMatrix():new K.Math.Matrix2d},(((n=w.Math.Curve=function(){this._curves=[]}).prototype={}).constructor=n).prototype.createFromHtShape=function(Y,Q,n){Q instanceof K.List&&(Q=Q.toArray());for(var R,g,B,L,Z=null,e=null,u=0,X=w.Math.Vector2,x=w.Math.CubicBezier,G=function(Q){return new X(Y[Q],Y[Q+1],n?n[Q/2]:l3)},o=0,l=Q.length;o<l;o++){switch(g=null,Q[o]){case 1:Z=e=G(u),u+=2;break;case 2:R=G(u),u+=2,g=new x(e,e.clone(),R.clone(),R),e=R;break;case 3:B=G(u),R=G(u+2),u+=4,g=new x(e,B.clone().sub(e).multiplyScalar(2/3).add(e),B.clone().sub(R).multiplyScalar(2/3).add(R),R),e=R;break;case 4:B=G(u),L=G(u+2),R=G(u+4),u+=6,g=new x(e,B,L,R),e=R;break;case 5:if(!Z)break;g=new x(e,e.clone(),Z.clone(),Z),Z=e=null}g&&(g._index=this._curves.length,this._curves.push(g))}},n.prototype.checkPoint=function(Q,Y){for(var n,R,g,B=this._curves,L=0,Z=B.length;L<Z;L++)if((g=(R=B[L]).intersectRect(Q,Y,Y)).length)return n=0,g.forEach(function(Q){n+=Q.t}),n/=g.length,(Q=R.getPointAt(n)).t=n,{bezier:R,intersection:Q}},n.prototype.insertKnot=function(Q,Y){Y=Q.insertKnot(Y),this._curves.splice(Q._index,1,Y[0],Y[1])},n.prototype._isCloseEnough=function(Q,Y){return Math.abs(Q.x-Y.x)<1e-6&&Math.abs(Q.y-Y.y)<1e-6},n.prototype._isSamePoint=function(Q,Y){return Q===Y},n.prototype.moveRealPoint=function(R,g){var B=this,Q=B._curves,L=g.clone().sub(R);Q.forEach(function(Q){var Y=Q._p1,n=(Q._p2,Q._p3,Q._p4);B._isSamePoint(Y,R)&&(Q._p2.add(L),Q._p1=g),B._isSamePoint(n,R)&&(Q._p3.add(L),Q._p4=g)})},n.prototype.moveCtrlDueToRealPointMovement=function(R,Y){function g(Q){Q.add(Y),Q.e&&Y.e&&(Q.e+=Y.e)}var B=this;B._curves.forEach(function(Q){var Y=Q._p1,n=(Q._p2,Q._p3,Q._p4);B._isSamePoint(Y,R)&&g(Q._p2),B._isSamePoint(n,R)&&g(Q._p3)})},n.prototype.moveCtrlPoint=function(Q,n,R){var g,Y,B=Q[R];B&&(B.e!==l3&&(n.e=B.e),Y=(g=this)._curves,n.clone().sub(B),Y.forEach(function(Q){var Y;"c2"===R?Y="_p2":"c1"===R&&(Y="_p3"),g._isSamePoint(Q[Y],B)&&(Q[Y]=n)}),Q[R]=n)},n.prototype.deleteRealPoint=function(Q,Y){for(var n,R,g,B,L=this._curves,Z={},e=[],u=w.Math.CubicBezier,X=0,x=L.length;X<x;X++)R=(n=L[X])._p1,g=n._p2,n._p3,B=n._p4,!Z[X]&&this._isSamePoint(R,Q)||(this._isSamePoint(B,Q)?X+1<x&&this._isSamePoint(L[X+1]._p1,Q)&&(Y||e.push(new u(R,g,L[X+1]._p3,L[X+1]._p4))):e.push(n));this._curves=e},n.prototype.findPairs=function(Q,Y){for(var n,R,g,B,L=this._curves,Z={},e=[],u=0,X=L.length;u<X;u++)n=(g=L[u])._p1,B=g._p2,R=g._p3,g=g._p4,!Z[u]&&this._isSamePoint(n,Q)&&(Y?e.push({point:n,r2:g}):e.push({point:n,c2:B})),this._isSamePoint(g,Q)&&(B=Y?{point:g,r1:n}:{point:g,c1:R},u+1<X&&this._isSamePoint(L[u+1]._p1,Q)&&(Y?B.r2=L[u+1]._p4:B.c2=L[u+1]._p2,Z[u+1]=!0),e.push(B));return e},n.prototype.toHtShape=function(){var g=this,Q=g._curves,B=[],L=[],Z={x:1/0,y:1/0};return Q.forEach(function(Q){var Y=Q._p1,n=Q._p2,R=Q._p3,Q=Q._p4;if(g._isCloseEnough(Y,Z)||(B.push(1),L.push(Y.clone())),Z=Q,g._isCloseEnough(Y,n)&&g._isCloseEnough(R,Q))return B.push(2),void L.push(Q.clone());B.push(4),L.push(n.clone(),R.clone(),Q.clone())}),{segments:B,points:L}};(r3=w.Math.CubicBezier=function(Q,Y,n,R){this._id=w.Math.CubicBezier._globalId++,this._p1=Q,this._p2=Y,this._p3=n,this._p4=R})._globalId=1,((r3.prototype={}).constructor=r3).prototype.toString=function(){return this._id},r3.prototype.intersectRect=function(Q,Y,n){var Y=Y/2,n=n/2,R=Q.x,Q=Q.y,g=new(B=w.Math.Vector2)(-Y+R,-n+Q),Y=new B(Y+R,n+Q),R=new B(Y.x,g.y),n=new B(g.x,Y.y),Q=this.intersectLine(g,R),B=this.intersectLine(R,Y),R=this.intersectLine(Y,n),Y=this.intersectLine(n,g);return Q.concat(B).concat(R).concat(Y)},r3.prototype.intersectLine=function(Q,Y){var n=Q.clone().min(Y),R=Q.clone().max(Y),g=this._p1,B=this._p2,L=this._p3,Z=this._p4,e=g.clone().multiplyScalar(-1),u=B.clone().multiplyScalar(3),X=L.clone().multiplyScalar(-3),Z=e.add(u).add(X).add(Z);e=g.clone().multiplyScalar(3),u=B.clone().multiplyScalar(-6),X=L.clone().multiplyScalar(3),L=e.add(u).add(X),e=g.clone().multiplyScalar(-3),u=B.clone().multiplyScalar(3);for(var X=e.add(u),B=g.clone(),e=new w.Math.Vector2(Q.y-Y.y,Y.x-Q.x),u=Q.x*Y.y-Y.x*Q.y,x=this.getRoots(e.dot(Z),e.dot(L),e.dot(X),e.dot(B)+u),G=new Array,o=0,l=x.length;o<l;o++){var V,z=x[o];z<0||1<z||((V=this.getPointAt(z)).t=z,Q.x==Y.x?n.y<=V.y&&V.y<=R.y&&G.push(V):Q.y==Y.y?n.x<=V.x&&V.x<=R.x&&G.push(V):V.x>=n.x&&V.y>=n.y&&V.x<=R.x&&V.y<=R.y&&G.push(V))}return G},r3.prototype.solveTForPoint=function(Q){for(var Y=this._p1.x-Q.x,n=this._p2.x-Q.x,R=this._p3.x-Q.x,g=this._p4.x-Q.x,B=this.getRoots(g-3*R+3*n-Y,3*R-6*n+3*Y,3*n-3*Y,Y),L=l3,Z=1/0,e=0,u=B.length;e<u;e++){var X,x=B[e];x<0||1<x||((X=this.getPointAt(x)).t=x,(x=Math.abs(X.y-Q.y))<Z&&(Z=x,L=X))}return L},r3.prototype.getPointAt=function(Q){var Y=this._p1,n=this._p2,R=this._p3,g=this._p4,Y=Y.clone().lerp(n,Q),n=n.clone().lerp(R,Q),R=R.clone().lerp(g,Q),g=Y.lerp(n,Q),Y=n.lerp(R,Q);return g.lerp(Y,Q)},r3.prototype.getPointByPercentage=function(Q){var Y=this.length*Q,n=this._cacheLength,R=n.length;if(0==Y)return n[0].point;if(1<=Q)return n[R-1].point;for(var g=0;g<R;g++){var B,L=n[g];if(!(L.len<Y))return B=n[g-1],L.point.clone().sub(B.point).setLength(Y-B.len).add(B.point)}},r3.prototype.getTByPercentage=function(Q){var Y=this.length*Q,n=this._cacheLength,R=n.length;if(0==Y||Q<=0)return n[0].t;if(1<=Q)return n[R-1].t;for(var g=0;g<R;g++){var B,L=n[g];if(!(L.len<Y))return(Y-(B=n[g-1]).len)/(L.len-B.len)*(L.t-B.t)+B.t}},r3.prototype.getRoots=function(Q,Y,n,R){var g,B,L,Z,e=new Array,u=(Math.abs(Q)<1e-6&&(0<(u=(g=n/(L=Y))*g-R/L*4)?(B=Math.sqrt(u),e.push(.5*(-g+B)),e.push(.5*(-g-B))):0==u&&e.push(.5*-g)),(Y/=Q)/3),Q=(g=(2*Y*Y*Y-9*(n/=Q)*Y+27*(R/=Q))/27)*g/4+(L=(3*n-Y*Y)/3)*L*L/27,R=g/2;return 0<(Q=Math.abs(Q)<=1e-6?0:Q)?(n=0<=(Z=-R+(B=Math.sqrt(Q)))?Math.pow(Z,1/3):-Math.pow(-Z,1/3),0<=(Z=-R-B)?n+=Math.pow(Z,1/3):n-=Math.pow(-Z,1/3),e.push(n-u)):Q<0?(Y=Math.sqrt(-L/3),g=Math.atan2(Math.sqrt(-Q),-R)/3,B=Math.cos(g),n=Math.sin(g),L=Math.sqrt(3),e.push(2*Y*B-u),e.push(-Y*(B+L*n)-u),e.push(-Y*(B-L*n)-u)):(Z=0<=R?-Math.pow(R,1/3):Math.pow(-R,1/3),e.push(2*Z-u),e.push(-Z-u)),e},r3.prototype._70I=function(){return this._p1.distanceToSquared(this._p2)<1e-10&&this._p3.distanceToSquared(this._p4)<1e-10},r3.prototype.insertKnot=function(Q){var Y=this._p1,n=this._p2,R=this._p3,g=this._p4,B=Y.clone().lerp(n,Q),n=n.clone().lerp(R,Q),R=R.clone().lerp(g,Q),L=B.clone().lerp(n,Q),n=n.clone().lerp(R,Q),Z=L.clone().lerp(n,Q);return this._70I()?(Y.clone().lerp(g,Q),[new w.Math.CubicBezier(Y,Y.clone(),Z.clone(),Z),new w.Math.CubicBezier(Z,Z.clone(),g.clone(),g)]):[new w.Math.CubicBezier(Y,B,L,Z),new w.Math.CubicBezier(Z,n,R,g)]},m.defineProperties(r3.prototype,{length:{get:function(){if(!(Q=this._cacheLength))for(var Q=this._cacheLength=[],Y=this._p1,n=0,R=0;n<=1;){var g=this.getPointAt(n+=.001);R+=g.clone().sub(Y).length(),Q.push({len:R,t:n,point:(Y=g).clone()})}return Q[Q.length-1].len}},p1:{get:function(){return this._p1},set:function(Q){this._p1=Q,this._cacheLength=l3}},p2:{get:function(){return this._p2},set:function(Q){this._p2=Q,this._cacheLength=l3}},p3:{get:function(){return this._p3},set:function(Q){this._p3=Q,this._cacheLength=l3}},p4:{get:function(){return this._p4},set:function(Q){this._p4=Q,this._cacheLength=l3}}});var Jp,Ip,Ap,Pp,qs=K.Default.getInternal().ui().EdgeUI,ip={_47O:function(Q){var Y=ip.getBackups()._47O;w.inEdit(this.gv)||Y.call(this,Q)}},ms=(w.Inject.registAsModule(ip,qs),K.Default.getInternal().ui().NodeUI),Tp={_47O:function(Q){var Y=Tp.getBackups()._47O;w.inEdit(this.gv)||Y.call(this,Q)},getSelectWidth:function(){var Q=this.gv,Y=this._data;return Q.isEditable(Y)&&w.inEdit(Q)?0:Tp.getBackup("getSelectWidth").call(this)}},Ep=(w.Inject.registAsModule(Tp,ms),K.graph.GraphView),_p={_editPointSize:(Ms=K.Default.isTouchable,w.getStyle("pointSize")[Ms?0:1]),isPointEditable:function(Q){if(w.inEdit(this))return!this._pointEditableFunc||this._pointEditableFunc(Q);_p.getBackup("isPointEditable").call(this,Q)},isEditable:function(Q){var Y=_p.getBackup("isEditable"),Y=Q instanceof w.Group||Y.call(this,Q);return w.inEdit(this)&&Q instanceof K.Edge?!!Q.s("2d.editable")&&(!(Y=this.getEditableFunc())||Y(Q)):Y},_42:function(Q,Y){_p.getBackups()._42.call(this,Q,Y),w.inEdit(this)&&this.getEditInteractor().drawImpl()}},cs=(w.Inject.registAsModule(_p,Ep),K.Default.getInternal().ui().ShapeUI),bp={_47O:function(Q){var Y=bp.getBackups()._47O;w.inEdit(this.gv)||Y.call(this,Q)}},ep=(w.Inject.registAsModule(bp,cs),K.graph.DefaultInteractor),kp={handle_mousewheel:function(Q){var Y=kp.getBackup("handle_mousewheel");w.inEdit(this.gv)||Y.call(this,Q)}},Xp=(w.Inject.registAsModule(kp,ep),K.graph.MoveInteractor);w.Inject.registAsModule(Lf(),Xp),w.Inject.registAsModule(Lf(),K.graph.TouchInteractor),(((Q=w.Rect=function(Q){this.catalog="Rect",this._interactor=Q}).prototype={}).constructor=Q).prototype.gatherInfo=function(Q,Y){var n;return 1===Y.length?(n=Y[0])instanceof K.Shape&&n._70I()?this.gatherLine(Q,n):!$n(n,Q)&&this.gatherSingleTarget(Q,n):1<Y.length&&this.gatherMultiTargets(Q,Y)},Q.prototype.gatherSingleTarget=function(Q,Y){if(Y.getCorners){var n,R,g=this.info,B=(this.target=Y,n=this.screenInfo={},Y.getCorners());for(R in g.LT=new w.Math.Vector2(B[0]),g.LB=new w.Math.Vector2(B[1]),g.RB=new w.Math.Vector2(B[2]),g.RT=new w.Math.Vector2(B[3]),g.T=g.LT.clone().add(g.RT).divideScalar(2),g.B=g.LB.clone().add(g.RB).divideScalar(2),g.L=g.LT.clone().add(g.LB).divideScalar(2),g.R=g.RT.clone().add(g.RB).divideScalar(2),g)n[R]=w.toScreenPosition(Q,g[R]);var L=this._interactor.getStyle("checkSize");return n.rotLT=(B=function(Q,Y,n){return Y=Y.clone().sub(Q).setLength(-L),n=n.clone().sub(Q).setLength(-L),Y.add(n).add(Q)})(n.LT,n.RT,n.LB),n.rotLB=B(n.LB,n.LT,n.RB),n.rotRB=B(n.RB,n.LB,n.RT),n.rotRT=B(n.RT,n.LT,n.RB),n.rotT=n.rotLT.clone().add(n.rotRT).divideScalar(2),n.rotB=n.rotLB.clone().add(n.rotRB).divideScalar(2),n.rotL=n.rotLT.clone().add(n.rotLB).divideScalar(2),n.rotR=n.rotRT.clone().add(n.rotRB).divideScalar(2),n.rotation=Y.getRotation(),this.gatherConnectInfo(),!0}},Q.prototype.gatherConnectInfo=function(){var Q,Y,n=this.target,R=this._interactor,g=this.screenInfo,B=R.gv;B.isConnectActionVisible(n)&&R.getStyle("connectGuideVisible")&&(Q=(Q=n.s?n.s("connectGuideShift"):Q)||R.getStyle("connectGuideShift"),R=n.getAnchor(),Y=n.getSize(),n=n.toGlobal({x:Y.width*(Q[0]-R.x),y:Y.height*(Q[1]-R.y)}),n=w.toScreenPosition(B,n),g.P1?n.add(g.P2.clone().sub(g.P1).setLength(Q[2])):(n.add(g.RT.clone().sub(g.LT).setLength(Q[2])),n.add(g.LB.clone().sub(g.LT).setLength(Q[3]))),g.connect=n)},Q.prototype.gatherMultiTargets=function(Q,Y){return!!(Y=w.Group.findOrCreateGroup(Y,this._interactor._uuid))&&(this.editing&&"rotate"!==this.editing.mode||Y.calcInfo(),this.gatherSingleTarget(Q,Y))},Q.prototype.gatherLine=function(Q,Y){this.target=Y;var n=this.screenInfo={},R=Y.getPoints(),Y=w.getDataMatrix(Y);return n.P1=w.toScreenPosition(Q,Y.apply(R.get(0))),n.P2=w.toScreenPosition(Q,Y.apply(R.get(1))),this.gatherConnectInfo(),!0},Q.ResizeKeys=["LT","RB","LB","RT","L","R","B","T"],Q.ResizeDirection=[{x:-1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:-1},{x:-1,y:0},{x:1,y:0},{x:0,y:1},{x:0,y:-1}],Q.RotateKeys=["rotLT","rotRB","rotLB","rotRT","rotL","rotR","rotB","rotT"],Q.prototype.check=function(Q,Y,n){if(K.Default.isLeftButton(Y)){var R=this;if(R.editing=null,R.tipInfo=null,R.screenInfo){var g=R.target,B=Q.isEditable(g),L=R.screenInfo;if(B&&L.connect)if(u=R._checkConnect(n))return u;if(L.P1)return R._checkLine(n);var Z,e,u,X=null,x=(u=R._interactor).getStyle("checkSize");if(B&&Q.isRectEditable(g))for(o=0;o<w.Rect.ResizeKeys.length;o++)if(e=w.Rect.ResizeKeys[o],w.checkHit(n,L[e],x)){X=e,Z="resize";break}if(!X&&B&&Q.isRotationEditable(g)&&!u.getStyle("rotateAsClock"))for(var G=u.getStyle("rotateCheckSize"),o=0;o<w.Rect.RotateKeys.length;o++)if(e=w.Rect.RotateKeys[o],w.checkHit(n,L[e],G)){X=e,Z="rotate";break}if(X){if("rotate"===Z){if(B=Q.lp(Y),g instanceof w.Group){for(var l=u.getStyle("groupRotateModeKey"),V=!1,z=0,p=(l="string"==typeof l?[l]:l).length;z<p;z++)if(Y[l[z]]){V=!0;break}var Q=u.getStyle("groupRotateModeDefault"),$=V?"batch"===Q?"block":"batch":Q}Q="batch"===$?g.getAnchor2():g.getPosition(),B=Math.atan2(B.y-Q.y,B.x-Q.x),u._setRotateCursor(B),R.editing={mode:Z,key:X,pos:Q,flipY:g.getScale().y<0,rotation:g.getRotation(),hitRot:B},$&&(R.editing.groupRotateMode=$)}else{var Q=w.Rect.ResizeKeys.indexOf(X),B=w.Rect.ResizeDirection[Q],$=Math.cos(g.getRotation()),Q=Math.sin(g.getRotation()),M=B.x*Math.sign(g.getScale().x),B=B.y*Math.sign(g.getScale().y),$=Math.atan2(-Q*M-$*B,$*M-Q*B),M=(Math.round($/(Math.PI/4))+8)%8,Q=(this._interactor.setCursor(["ew-resize","nesw-resize","ns-resize","nwse-resize","ew-resize","nesw-resize","ns-resize","nwse-resize"][M]),g.getWidth()),B=g.getHeight(),$=g.getAnchor();R.editing={mode:Z,key:X,rect:{x:-Q*$.x,y:-B*$.y,width:Q,height:B},anchor:$,matrix:g.getMatrix()}}return X}u.setCursor("default")}}},Q.prototype._checkLine=function(Q){this.screenInfo;var Y,n=this._interactor.getStyle("checkSize");if(w.checkHit(Q,this.screenInfo.P1,n))Y="P1";else{if(!w.checkHit(Q,this.screenInfo.P2,n))return void this._interactor.setCursor("default");Y="P2"}return this.editing={mode:"line",key:Y},Y},Q.prototype._checkConnect=function(Q){var Y,n,R=this.screenInfo,g=this._interactor,B=g.getStyle("connectGuideIntersectSize"),R=R.connect,L=Q.x,Z=R.x;if(L<Z&&Z-L<B&&Math.abs(R.y-Q.y)<B||Z<=L&&w.checkHit(Q,R,B))return Y=z3.getConnectAction(g.gv),this.editing={mode:"connect"},Y&&Y.delete&&(this.target instanceof w.Group?(n=!0,g.gv.sm().getSelection().each(function(Q){Y.delete.visible.call(null,g.gv,Q)||(n=!1)}),this.editing.hasDeleteAction=n):Y.delete.visible.call(null,g.gv,this.target)&&(this.editing.hasDeleteAction=!0)),g.setCursor("default"),"connect"},Q.prototype._fireEditEvent=function(Q,Y){var n=this._interactor,R=this.editing;R&&(R="rotate"===(R=R.mode)?"Rotation":"connect"===R?"Connection":"resize"===R?"Rect":R[0].toUpperCase()+R.slice(1),n.fi({kind:Q+"Edit"+R,event:Y}))},Q.prototype._roundAngleTo360=function(Q){var Y=Q.getRotation();return(Q=Q.getScale()).x<0&&Q.y<0?Y=Math.PI+Y:Q.y<0?Y=2*Math.PI-Y:Q.x<0&&(Y=Math.PI-Y),K.Math.modToPositive(180*Y/Math.PI,360)},Q.prototype.isOrthogonalAngle=function(Q){return Q=this._roundAngleTo360(Q)%90,Math.abs(Q-(45<Q?90:0))<.001},Q.prototype.isRightOrInvertedAngle=function(Q){return Q=this._roundAngleTo360(Q),Math.abs(Q-90)<.001||Math.abs(Q-270)<.001},Q.prototype.startEdit=function(Q,Y){Q.startDragging(Y),this._interactor.fi({kind:"prepareEdit",event:Y});var n,R=this.editing,g=this.target;if(R){if(this._fireEditEvent("begin",Y),R.started=!0,"rotate"===R.mode)return R.groupRotateMode&&g.beginRotate(R),void Q._42();"connect"===R.mode?R.hasDeleteAction&&(Y=Q.gv,n=this._interactor.getStyle("connectGuideGarbageShift"),R.garbageInfo={x:Y.getWidth()*n[0]+n[2],y:Y.getHeight()*n[1]+n[3],size:this._interactor.getStyle("connectGuideGarbageIntersectsize")},Q._42()):("line"===R.mode||g&&this.isOrthogonalAngle(g))&&(this._inSmartGuide=!0,this._interactor.rectGuide.gatherRects())}},Q.prototype._46O=function(Q){var Y,n,R=this,g=R.editing,B=R.target;if(g){if("connect"===g.mode&&!g.canceled&&!g.deleted)try{g.garbageInfo&&g.garbageInfo.hover?z3.doDeleteConnectionAction(R._interactor.gv,B):z3.doConnectAction(R._interactor.gv,B,g.target)}catch(Q){console.error(Q)}n=g.freezeFlag,Y=R.editing.groupRotateMode,R._fireEditEvent("end",Q),R.editing=null}R.tipInfo=null,R._inSmartGuide&&(R._interactor.rectGuide.clear(),R._inSmartGuide=!1),Y&&B&&B.endRotate(),B instanceof K.Block&&(n===l3?delete B._freezeSyncFromChildren:B._freezeSyncFromChildren=n,B.updateFromChildren())},Q.prototype.handleNormalStateDelete=function(){var Q=this.editing;if(Q&&"connect"===Q.mode&&!Q.canceled&&!Q.deleted){if(Q.garbageInfo){try{z3.doDeleteConnectionAction(this._interactor.gv,this.target)}catch(Q){console.error(Q)}Q.garbageInfo=null}return Q.cursorPos=null,Q.targetCorners=null,Q.deleted=!0,this._interactor._42(),!0}},Q.prototype.handleNormalStateKeyDown=function(Q){var Y=this.editing;if(Y&&"connect"===Y.mode&&!Y.canceled&&!Y.deleted)return K.Default.isEsc(Q)?(Y.cursorPos=null,Y.targetCorners=null,Y.canceled=!0,this._interactor._42(),!0):void 0},Q.prototype.handleEdit=function(Y,Q){var n=this,R=n.editing;if(R){var g,B,L=n.target,Z=R.key,e=R.mode,u=Y.lp(Q),X=n._interactor;if("connect"===e)return R.canceled?void 0:R.deleted?void 0:(R.cursorPos=X._getLogicalPoint(Q),(p=R.garbageInfo)&&w.checkHit(R.cursorPos,p,p.size)?(p.hover=!0,R.target=null,R.targetCorners=null):(p&&(p.hover=!1),R.target=Y.getDataAt(u,function(Q){return!!Y.isSelectable(Q)&&!!C(Q)})||null,R.targetCorners=w.getTargetCornersOnScreen(Y,R.target)),void X._42());if("rotate"===e){p=R.pos,p=Math.atan2(u.y-p.y,u.x-p.x),$=R.groupRotateMode?p-R.hitRot:(z=p-R.hitRot,R.rotation+z),($%=2*Math.PI)<0&&($+=2*Math.PI),K.Default.isCtrlDown(Q)||(o=Gg(Q)?(x=X.getStyle("shiftRotateRound"))/2:(x=X.getStyle("rotateRound"),X.getStyle("rotateSensitivity")),$=w.roundTo($,x,o)),R.groupRotateMode?0!=(z=$-(R.lastRotation||0))&&(L.addRotation(z,R.groupRotateMode,function(Q){return Y.isRotationEditable(Q)}),R.lastRotation=$):L.setRotation($),X._setRotateCursor(p),$>Math.PI&&($-=2*Math.PI);var x=($/Math.PI*180).toFixed(2)+"°"}else if("resize"===e){var G,o=R.rect,l=o.x,V=o.y,z=o.width,p=o.height,$=R.anchor,M=R.matrix,F=L.s&&L.s("keepAspectRatio")||X.getStyle("keepAspectRatio"),v=(Gg(Q)&&(F=!F),n._unionPointMode1),a=n._unionPointMode2,J=!0,J=((I=n._interactor.getStyle("resizeHelperFilter"))&&(J=I(L instanceof w.Group?L._entities:[L])),n._inSmartGuide&&!K.Default.isCtrlDown(Q)&&J&&!F&&("L"===Z||"R"===Z?G="x":"T"!==Z&&"B"!==Z||(G="y"),n.isRightOrInvertedAngle(L)&&G&&(G="x"===G?"y":"x"),n._adsorbedToClosest(u,G),B=!0),I=M.tfi(u),"LT"===Z?o=v(I,{x:l+z,y:V+p},z,p,F):"T"===Z?o=a({x:l,y:I.y},{x:l+z,y:V+p},z,p,F,"v"):"RT"===Z?o=v(I,{x:l,y:V+p},z,p,F):"L"===Z?o=a({x:I.x,y:V},{x:l+z,y:V+p},z,p,F,"h"):"R"===Z?o=a({x:l,y:V},{x:I.x,y:V+p},z,p,F,"h"):"LB"===Z?o=v(I,{x:l+z,y:V},z,p,F):"B"===Z?o=a({x:l,y:V},{x:l+z,y:I.y},z,p,F,"v"):"RB"===Z&&(o=v(I,{x:l,y:V},z,p,F)),0),a=[0,5,2,3],v=(L.getScaleX&&L.getScaleX()*L.getScaleY()<0&&(a=[2,5,0,3]),Math.round(n._roundAngleTo360(L)/90)),I=(0<=Z.indexOf("T")&&(J|=1<<a[(0+v)%4]),0<=Z.indexOf("R")&&(J|=1<<a[(1+v)%4]),0<=Z.indexOf("B")&&(J|=1<<a[(2+v)%4]),0<=Z.indexOf("L")&&(J|=1<<a[(3+v)%4]),M.tf(o.x+o.width*$.x,o.y+o.height*$.y));L instanceof K.Block&&(R.hasOwnProperty("freezeFlag")||(R.freezeFlag=L._freezeSyncFromChildren,L._freezeSyncFromChildren=!0)),L.setPosition(I),L.setSize(o.width,o.height),B&&(g=L.getRect(),X.rectGuide.gatherLines({node:L,x:g.x,y:g.y,w:g.width,h:g.height},G,J)),x=Math.round(o.width)+" * "+Math.round(o.height)}else if("line"===e){if(Gg(Q)){var z=L.getPoints(),p="P1"===Z?z.get(1):z.get(0),A=u.x-p.x,P=u.y-p.y,i=X.getStyle("shiftLineRotateRound"),T=n._shiftDirList;if(!T||n._shiftRotateRound!==i){n._shiftRotateRound=i,n._shiftDirList=T=[];for(var E=0;E<Math.PI;E+=i)T.push({x:G3(E),y:p3(E)})}for(var _,b=0,k=0,O=T.length;k<O;k++){var N=T[k],U=N.x*A+N.y*P;Math.abs(U)>Math.abs(b)&&(b=U,_=N)}u={x:p.x+_.x*b,y:p.y+_.y*b},X.rectGuide.clear()}else n._inSmartGuide&&!K.Default.isCtrlDown(Q)&&(n._adsorbedToClosest(u),B=!0);F=w.getDataMatrix(L).applyInverse(u),L.setPoint("P1"===Z?0:1,F,!0),v=(a=L.getPoints()).get(0),M=a.get(1),l=v.x-M.x,V=v.y-M.y,x=" "+Math.round(Math.sqrt(l*l+V*V))+" ",B&&(g=L.getRect(),X.rectGuide.gatherLines({node:L,x:g.x,y:g.y,w:g.width,h:g.height}))}x&&(($=K.Default.getLogicalPoint(Q,X._canvas)).x+=w.Icons.TipShiftX,$.y+=w.Icons.TipShiftY,n.tipInfo={helperPos:$,text:x,size:x.length}),n._fireEditEvent("between",Q)}},Q.prototype._unionPointMode1=function(Q,Y,n,R,g){var B;return g&&n&&R&&(g=Q.x-Y.x,B=Q.y-Y.y,Math.abs(g*R)<Math.abs(B*n)?(B=Math.sign(B)*Math.abs(g*R/n),Q.y=Y.y+B):(g=Math.sign(g)*Math.abs(B*n/R),Q.x=Y.x+g)),K.Default.unionPoint(Q,Y)},Q.prototype._unionPointMode2=function(Q,Y,n,R,g,B){var L,Q=K.Default.unionPoint(Q,Y);return g&&n&&R&&("v"===B?(L=Q.x+Q.width/2,Q.width=n*Q.height/R,Q.x=L-Q.width/2):(L=Q.y+Q.height/2,Q.height=R*Q.width/n,Q.y=L-Q.height/2)),Q},Q.prototype._adsorbedToClosest=function(Q,Y){var n=(R=this._interactor).rectGuide.findClosest(Q,Y),R=R.gridGuide.findClosest(Q,Y),Y=1/0,g=1/0;n&&(isFinite(n.x)&&(Y=n.x),isFinite(n.y)&&(g=n.y)),R&&(isFinite(R.x)&&Math.abs(R.x)<Math.abs(Y)&&(Y=R.x),isFinite(R.y)&&Math.abs(R.y)<Math.abs(g)&&(g=R.y)),isFinite(Y)&&(Q.x+=Y),isFinite(g)&&(Q.y+=g)},Q.prototype._42=function(Q,Y,n){var R=this,g=(R.info={},R.screenInfo=null,R._interactor);if(!g.editDetail&&R.gatherInfo(Y,n)){var B=R.editing,n=B?B.groupRotateMode:null,L=R.screenInfo;if("block"!==n||!B||!B.started){if(L.P1?w.Icons.DrawIcon(g,Q,w.Icons.Line,L):w.Icons.DrawIcon(g,Q,w.Icons.Rect,L),L.connect&&(w.Icons.DrawIcon(g,Q,w.Icons.ConnectGuide,{rotation:L.rotation,connect:L.connect,cursorPos:B?B.cursorPos:null}),B)){if(B.targetCorners){for(var Z={x:1/0,y:1/0},e={x:-1/0,y:-1/0},u=0,X=B.targetCorners.length;u<X;u+=2)Z.x=Math.min(Z.x,B.targetCorners[u]),e.x=Math.max(e.x,B.targetCorners[u]),Z.y=Math.min(Z.y,B.targetCorners[u+1]),e.y=Math.max(e.y,B.targetCorners[u+1]);w.Icons.DrawIcon(g,Q,w.Icons.HoverDataRect,{min:Z,max:e,color:g.getStyle("hoverGuideColor")||g.getStyle("baseColor")})}B.garbageInfo&&w.Icons.DrawIcon(g,Q,w.Icons.ConnectGuideGarbage,B.garbageInfo)}g.getStyle("rotateTipVisible")&&R.tipInfo&&w.Icons.DrawIcon(g,Q,w.Icons.TipHelper,R.tipInfo)}R.target instanceof w.Group&&R.target._42(g,Q,Y)}},(((Y=w.Anchor=function(Q){this.catalog="Anchor",this._interactor=Q}).prototype={}).constructor=Y).prototype.gatherInfo=function(Q,Y){if(1!==Y.length)return 1<Y.length&&this.gatherMultiTargets(Q,Y);var n=Y[0];return n.getAnchor&&!(n instanceof K.Shape&&n._70I()||$n(n,Q))?this.gatherSingleTarget(Q,Y[0]):void 0},Y.prototype.gatherSingleTarget=function(Q,Y){return this.info.POS=Y.getPosition(),this.screenInfo.POS=w.toScreenPosition(Q,this.info.POS),this.target=Y,!0},Y.prototype.gatherMultiTargets=function(Q,Y){return!!(Y=w.Group.findOrCreateGroup(Y,this._interactor._uuid))&&(this.screenInfo.POS=w.toScreenPosition(Q,Y.getAnchor2()),this.target=Y,!0)},Y.prototype.isVisible=function(){var Q=this._interactor;if(!1===Q.getStyle("anchorVisible"))return!1;var Y=this.target;if(Y){if(this.editing)return!0;var n=Y.getAnchor(),R=Q.getStyle("anchorOutsideVisibleThreshold");if(n.x<-R||n.x>1+R||n.y<-R||n.y>1+R)return!0;if(n=Y.getSize(),R=Y.getScale(),Math.min(Math.abs(n.width*R.x),Math.abs(n.height*R.y))*Q.gv._zoom<Q.getStyle("anchorHideThreshold"))return!1}return!0},Y.prototype.check=function(Q,Y,n){if(K.Default.isLeftButton(Y)&&(Y=this._interactor,this.isVisible()&&!1!==Y.getStyle("anchorMovable"))){this.editing=null,this.tipInfo=null;var R=this.target;if(R&&Q.isAnchorEditable(R)&&Q.isEditable(R)&&this.screenInfo&&(Q=this.screenInfo.POS)&&w.checkHit(n,new w.Math.Vector2(Q),Y.getStyle("checkSize")))return R instanceof w.Group?this.editing={}:(n=R.getWidth(),Q=R.getHeight(),Y=R.getAnchor(),this.editing={rect:{x:-n*Y.x,y:-Q*Y.y,width:n,height:Q},anchor:Y,matrix:R.getMatrix()}),!0}},Y.prototype.startEdit=function(Q,Y){Q.startDragging(Y),Q.fi({kind:"beginEditAnchor",event:Y})},Y.prototype._46O=function(Q){this.editing&&(this.editing=null,this._interactor.fi({kind:"endEditAnchor",event:Q})),this.tipInfo=null},Y.prototype.handleEdit=function(Q,Y){var n=this.target;if(n&&(g=this.editing)){var Q=Q.lp(Y),R=this._interactor;if(n instanceof w.Group)return n.setAnchor2(Q),void R._42();var Q=g.matrix.tfi(Q),g=g.rect,B=(Q.x-g.x)/g.width,Q=(Q.y-g.y)/g.height;K.Default.isCtrlDown(Y)||(g=R.getStyle("anchorRound"),L=R.getStyle("anchorSensitivity"),B=w.roundTo(B,g,L),Q=w.roundTo(Q,g,L)),n.setAnchor(B,Q,!0);(g=K.Default.getLogicalPoint(Y,R._canvas)).x+=w.Icons.TipShiftX,g.y+=w.Icons.TipShiftY;var L=B.toFixed(2)+", "+Q.toFixed(2);this.tipInfo={helperPos:g,text:L,size:L.length},R.fi({kind:"betweenEditAnchor",event:Y})}},Y.prototype._42=function(Q,Y,n){this.info={},this.screenInfo={};var R=this._interactor;R.editDetail||this.gatherInfo(Y,n)&&this.isVisible()&&(w.Icons.DrawIcon(R,Q,w.Icons.Anchor,this.screenInfo),this.tipInfo&&w.Icons.DrawIcon(R,Q,w.Icons.TipHelper,this.tipInfo))},(((r3=w.MoveDummy=function(Q){this.catalog="MoveDummy",this._interactor=Q}).prototype={}).constructor=r3).prototype.gatherInfo=function(Q,Y){var n=this._interactor.getSubModule("Rect");if(n&&(e=n.screenInfo)){var R=this._interactor;if(this.getMovableTarget(n.target)&&(n=R.getStyle("moveDummyThreshold"),!1!==(n=ln(n)?n():n))){var g=e.LT||e.P1,B=e.RT||e.P2,L=e.LB||g;if(g){var Z,e=e.P1,u=Math.min(g.distanceTo(L),g.distanceTo(B));if(!(!0!==n&&n<u))return n=R.getStyle("moveDummyPosition"),u=B.clone().sub(g),B=L.clone().sub(g),L=n[2],Z=n[3],(e=e&&R.getStyle("moveDummyLineExtraShift"))&&(L+=e[0],Z+=e[1]),e=g.clone().add(u.clone().multiplyScalar(n[0])).add(u.setLength(L)).add(B.clone().multiplyScalar(n[1])).add(B.setLength(Z)),this.screenInfo.pos=e,this.screenInfo.size=R.getStyle("moveDummySensitivity"),!0}}}},r3.prototype.getMovableTarget=function(Q){var Y=this._interactor.gv;if(C(Q)){if(Y.isMovable(Q))return Q}else if(Q instanceof w.Group)for(var n=Q._entities,R=n.length-1;0<=R;R--){var g=n[R];if(C(g)&&Y.isMovable(g))return g}return null},r3.prototype.getMoveInteractor=function(){for(var Q,Y=this._interactor.gv.getInteractors(),n=0,R=Y.length;n<R;n++)if((Q=Y.get(n))instanceof Xp)return Q},r3.prototype.startEdit=function(Q,Y){Q.startDragging(Y);var n,R=this.getMoveInteractor();R&&(n=this.selectedTarget,(Q=Q.gv)._moving=1,R._data=n,Q.handleMouseDown&&Q.handleMouseDown(Y,n))},r3.prototype._46O=function(Q){var Y=this.getMoveInteractor();Y&&(Y.handleWindowMouseUp(Q),this.selectedTarget=null)},r3.prototype.handleEdit=function(Q,Y){var n=this.getMoveInteractor();n&&n.handleWindowMouseMove(Y)},r3.prototype.check=function(Q,Y,n){if(this.selectedTarget=null,K.Default.isLeftButton(Y)&&!Q._scrolling&&!jT()&&this.screenInfo&&(Y=this.screenInfo.pos)&&!(n.distanceTo(Y)>this.screenInfo.size))return Q=this._interactor,this.selectedTarget=this.getMovableTarget(Q.getSubModule("Rect").target),Q.setCursor("default"),!0},r3.prototype._42=function(Q,Y,n){this.screenInfo={};var R=this._interactor;R.editDetail||!this.gatherInfo(Y,n)||R.editing&&!this.selectedTarget||w.Icons.DrawIcon(R,Q,w.Icons.MoveDummy,this.screenInfo)},(((Q=w.RotateX=function(Q){this.catalog="RotateX",this._interactor=Q}).prototype={}).constructor=Q).prototype.gatherInfo=function(Q,Y){var n;return 1===Y.length?!((n=Y[0])instanceof K.Shape&&n._70I()||$n(n,Q))&&this.gatherSingleTarget(Q,n):1<Y.length&&this.gatherMultiTargets(Q,Y)},Q.prototype.gatherSingleTarget=(Jp=new K.Math.Vector2,Ip=new K.Math.Vector2,Ap=new K.Math.Vector2,Pp=new K.Math.Vector2,function(Q,Y){var n,R;if(Y.getCorners)return R=Y.getCorners(),n=Y.getPosition(),Jp.copy(R[0]),Ap.copy(R[1]),Pp.copy(R[3]),Ip.copy(Jp).add(Pp).divideScalar(2).add(Jp.sub(Ap).setLength(15/Q.getZoom())),R=Math.max(Zf(n,R[0]),Zf(n,R[1]),Zf(n,R[2]),Zf(n,R[3])),this.info.POS=Ip.clone(),this.screenInfo.POS=w.toScreenPosition(Q,this.info.POS),this.screenInfo.LEN=Math.sqrt(R)*Q.getZoom()+15,this.screenInfo.CENTER=w.toScreenPosition(Q,n),this.target=Y,!0}),Q.prototype.gatherMultiTargets=function(Q,Y){return!!(Y=w.Group.findOrCreateGroup(Y,this._interactor._uuid))&&this.gatherSingleTarget(Q,Y)},Q.prototype.isVisible=function(){var Q=this._interactor;if(!Q.getStyle("rotateAsClock"))return!1;var Y=this.target;return!Y||!(!(Q=Q.gv).isEditable(Y)||!Q.isRotationEditable(Y))},Q.prototype.check=function(Q,Y,n){return((Q=this._checkImpl(Q,Y,n))||this._clockPainted)&&this._interactor._42(),Q},Q.prototype._checkImpl=function(Q,Y,n){if(K.Default.isLeftButton(Y)){var R=this;if(R.editing=null,R.tipInfo=null,R.screenInfo&&(g=R.screenInfo.POS)&&R.isVisible()){var g,B=R._interactor;if(w.checkHit(n,g,B.getStyle("checkSize")))return n=R.target,g=Q.lp(Y),Q=n.getPosition(),Y=Math.atan2(g.y-Q.y,g.x-Q.x),B._setRotateCursor(Y),R.editing={pos:Q,rotation:n.getRotation(),hitRot:Y,groupRotateMode:"block",screenInfo:{CENTER:R.screenInfo.CENTER,LEN:R.screenInfo.LEN}},!0}}},Q.prototype.startEdit=function(Q,Y){Q.startDragging(Y),Q.fi({kind:"beginEditRotation",event:Y}),this.target instanceof w.Group&&this.target.beginRotate(this.editing)},Q.prototype._46O=function(Q){this.editing&&(this.editing=null,this._interactor.fi({kind:"endEditRotation",event:Q})),this.target instanceof w.Group&&this.target.endRotate(),this.tipInfo=null},Q.prototype.handleEdit=function(Y,Q){var n,R,g,B,L,Z,e,u,X=this.editing;X&&(n=this.target,g=Y.lp(Q),R=this._interactor,L=X.pos,g=Math.atan2(g.y-L.y,g.x-L.x),Z=(L=n instanceof w.Group)?g-X.hitRot:(B=g-X.hitRot,X.rotation+B),(Z%=2*Math.PI)<0&&(Z+=2*Math.PI),K.Default.isCtrlDown(Q)||(u=Gg(Q)?(e=R.getStyle("shiftRotateRound"))/2:(e=R.getStyle("rotateRound"),R.getStyle("rotateSensitivity")),Z=w.roundTo(Z,e,u)),L?0!=(B=Z-(X.lastRotation||0))&&(n.addRotation(B,X.groupRotateMode,function(Q){return Y.isRotationEditable(Q)}),X.lastRotation=Z):n.setRotation(Z),R._setRotateCursor(g),Z>Math.PI&&(Z-=2*Math.PI),e=(Z/Math.PI*180).toFixed(2)+"°",(u=K.Default.getLogicalPoint(Q,R._canvas)).x+=w.Icons.TipShiftX,u.y+=w.Icons.TipShiftY,this.tipInfo={helperPos:u,text:e,size:e.length},R.fi({kind:"betweenEditRotation",event:Q}))},Q.prototype._42=function(Q,Y,n){var R=this,g=(R._clockPainted=!1,R.info={},R.screenInfo={},R._interactor);g.editDetail||R.gatherInfo(Y,n)&&R.isVisible()&&(w.Icons.DrawIcon(g,Q,w.Icons.RoundPoint,R.screenInfo.POS),g.getStyle("rotateTipVisible")&&R.tipInfo&&w.Icons.DrawIcon(g,Q,w.Icons.TipHelper,R.tipInfo),R.editing&&R.drawClock(Q))},Q.prototype.drawClock=function(Q){Q.save(),this._clockPainted=!0;var Y,n,R,g,B,L=this.editing||{},Z=L.screenInfo||this.screenInfo,e=Z.LEN,u=e+8,X=e+18;Q.save(),Q.translate(Z.CENTER.x,Z.CENTER.y),Q.beginPath(),Q.strokeStyle="rgb(150, 150, 150)";for(var x=0;x<360;x++)Y=x*Math.PI/180,x%5==0&&(n=p3(Y)*e,R=G3(Y)*e,g=p3(Y)*u,B=G3(Y)*u,Q.moveTo(n,R),Q.lineTo(g,B)),x%45==0&&(n=p3(Y)*e,R=G3(Y)*e,g=p3(Y)*X,B=G3(Y)*X,Q.moveTo(n,R),Q.lineTo(g,B));Q.stroke(),Q.rotate(-U3),Z=L.lastRotation||this.target.getRotation(),Q.beginPath(),Q.fillStyle="rgba(255, 0, 0, 0.1)",Q.strokeStyle="rgb(157, 157, 157)",Q.moveTo(0,0),Q.arc(0,0,X,0,Z,!1),Q.fill(),Q.beginPath(),Q.moveTo(0+X,0),Q.arc(0,0,X,0,Z,!1),Q.stroke(),Q.restore()},((n=w.Curve=function(Q){this.catalog="Curve",this._interactor=Q}).prototype={}).constructor=n,m.defineProperties(n.prototype,{activing:{get:function(){return this._activing},set:function(Q){Q?(this._activing=new w.CurveActiving(this,Q),this.gatherSingleTarget(this._interactor.gv,this.target)):((Q=this._activing)&&Q.dispose(),this._activing=null)}}}),n.PointType={Mirrored:0,Straight:1,Disconnected:2,Asymmetric:3},n.prototype.setUp=function(){var Q=this._interactor;Q&&Q.gv.mp(this._onGraphviewPropertyChanged,this)},n.prototype._onGraphviewPropertyChanged=function(Q){"zoom"!==Q.property&&"translateX"!==Q.property&&"translateY"!==Q.property||this._handleDataChanged()},n.prototype.tearDown=function(){var Q=this._interactor;Q&&Q.gv.ump(this._onGraphviewPropertyChanged,this)},n.prototype.canEnterEditDetailMode=function(){var Q=pL(this._interactor);if(Q)return this.target=Q},n.prototype.canQuitEditDetailMode=function(Q){var Y=this._interactor._getLogicalPoint(Q);if(!this._checkEditRealPoint(Y))return this._interactor.gv.getDataAt(Q)!==this.target||void 0},n.prototype.preHandleScroll=function(Q){var Y=this.editing;if(Y&&Y.inEdit)return!0},n.prototype.getCurrentSelectintStatus=function(){var n=this;if(n.activing&&!n.activing.selections){if(n.activing.status!=l3)return n.activing.status;var Q=function(Q){var Y=n.activing.status;n.activing.status=Q,n._interactor.fp("shapePointStatus",Y,Q)},Y=w.Curve.PointType,R=n.activing.point,g=n.activing.pairs;if(!g||1!==g.length)return Q(Y.Mirrored);var B=(g=g[0]).c1&&g.c1.isNearEnough(R),L=g.c2&&g.c2.isNearEnough(R);return g.c1&&g.c2?B&&L?Q(Y.Straight):B||L?Q(Y.Asymmetric):(B=g.c1.clone().sub(R),L=g.c2.clone().sub(R),1e-5<Math.abs(B.x*L.y-B.y*L.x)||0<B.x*L.x?Q(Y.Disconnected):1e-5<Math.abs(B.length()-L.length())?Q(Y.Asymmetric):Q(Y.Mirrored)):Q(B||L?Y.Straight:Y.Disconnected)}},n.prototype.handle_keydown=function(Q){var Y;this._interactor.editDetail&&(Y=w.Curve.PointType,"1"===Q.key?this._setCurrentSelectionStatus(Y.Straight):"2"===Q.key?this._setCurrentSelectionStatus(Y.Mirrored):"3"===Q.key?this._setCurrentSelectionStatus(Y.Disconnected):"4"===Q.key&&this._setCurrentSelectionStatus(Y.Asymmetric))},n.prototype.setCurrentSelectionStatus=function(Q){var Y=this._interactor;Y&&((Y=Y.gv).dm().beginTransaction(),this._setCurrentSelectionStatus(Q),Y.dm().endTransaction())},n.prototype._setCurrentSelectionStatus=function(Q){var Y=this,n=Y.activing;if(n){var R=Y.getCurrentSelectintStatus();if(null!==R&&R!==Q){n.status=Q;var g=Y.activing.point;if((B=Y.activing.pairs)&&1===B.length){var B=B[0],L=Y.screenInfo.curve,Z=w.Curve.PointType,e=Y._interactor,u=function(){Y._writeToHt(),e.fp("shapePointStatus",R,Q),Y.check(e.gv,null,new w.Math.Vector2(e._lastLogicalPoint))};if(Q===Z.Straight)return L.moveCtrlPoint(B,g,"c1"),L.moveCtrlPoint(B,g,"c2"),void u();if(R===Z.Straight)return x=(X=L.findPairs(g,!0)[0]).r1||g,X=(X.r2||g).clone().sub(x).multiplyScalar(.25),L.moveCtrlPoint(B,g.clone().sub(X),"c1"),L.moveCtrlPoint(B,g.clone().add(X),"c2"),void u();var X,x=B.c1,G=B.c2;if(x&&G){if(Q===Z.Mirrored)return L.moveCtrlPoint(B,g.clone().multiplyScalar(2).sub(G),"c1"),void u();if(Q===Z.Asymmetric&&R===Z.Disconnected)return Z=x.clone().sub(g).length(),X=g.clone().sub(G).setLength(Z).add(g),L.moveCtrlPoint(B,X,"c1"),void u()}n._firePointChange(),e.fp("shapePointStatus",R,Q),Y.check(e.gv,null,new w.Math.Vector2(e._lastLogicalPoint))}}}},n.prototype._handleDataChanged=(Op="s:edge.points,s:edge.segments,points,segments,shape,position,rotation,scale".split(","),function(Q){this.screenInfo&&this.target&&(Q&&Op.indexOf(Q.property)<0||(Q=this._interactor,this.gatherSingleTarget(Q.gv,this.target,!0),this.check(Q.gv,null,new w.Math.Vector2(Q._lastLogicalPoint)),Q._42()))}),n.prototype.gatherSingleTarget=function(Y,Q,n){var R,g,B,L,Z=this,e=(Z.screenInfo&&Z.screenInfo.curve&&(R=Z.screenInfo.curve._curves),Z.editing),u=e?Z.screenInfo:Z.screenInfo={},X=Q instanceof K.Edge,x=X?(L=Q.s("edge.segments"),Q.s("edge.points")||new K.List):(L=Q._58O,Q._59O),G=(u.S=L,u.P=[]),o=w.getDataMatrix(Q);if(Q instanceof K.Polyline||Q instanceof K.Edge&&Z._interactor.getStyle("edgeElevationEditable")?(g=Q.getElevation&&Q.getElevation()||0,u.E=[]):(B=!1,x.each(function(Q){Q.e!==l3&&(B=!0)}),B&&(u.E=[])),x.each(function(Q){u.E&&u.E.push(Q.e!=l3?Q.e:g),Q=o.apply(Q),Q=w.toScreenPosition(Y,Q),G.push(Q.x,Q.y)}),X&&(L=G.length,x=w.toScreenPosition(Y,Q._lastSourcePoint||(L?{x:G[0],y:G[1]}:{x:0,y:0})),X=w.toScreenPosition(Y,Q._lastTargetPoint||(L?{x:G[L-2],y:G[L-1]}:{x:0,y:0})),G.splice(0,0,x.x,x.y),G.push(X.x,X.y),u.E&&((L=Q.getSourceAgent())instanceof K.Edge?u.E.splice(0,0,Q.s("edge.source.offset.elevation")):u.E.splice(0,0,((Q.s("edge.source.anchor.elevation")||.5)-.5)*L.getTall()*L.getScaleTall()+L.getElevation()+Q.s("edge.source.offset.elevation")),(x=Q.getTargetAgent())instanceof K.Edge?u.E.push(Q.s("edge.target.offset.elevation")):u.E.push(((Q.s("edge.target.anchor.elevation")||.5)-.5)*x.getTall()*x.getScaleTall()+x.getElevation()+Q.s("edge.target.offset.elevation")))),!u.S||!u.S.size()){u.S=new K.List,u.S.add(1);for(var l=0;l<G.length/2-1;l++)u.S.add(2)}e&&!n||Z.convertToCubicBezier(R),!Z.activing||!n&&Z.editing&&"realPoint"!==Z.editing.type||(X=u.curve.findPairs(Z.activing.point),Z.activing.pairs=X)},n.prototype._convertToNewPoint=function(Q,Y,n,R){for(var g,B=0,L=Y.length;B<L;B++){if((g=Y[B])._p1.isNearEnough(Q)&&(!R||R.indexOf(g._p1)<0))return g._p1;if(g._p4.isNearEnough(Q)&&(!R||R.indexOf(g._p4)<0))return g._p4}if(n)for(B=0,L=Math.min(n.length,L);B<L;B++){if((g=n[B])._p1===Q&&(!R||R.indexOf(Y[B]._p1)<0))return Y[B]._p1;if(g._p4===Q&&(!R||R.indexOf(Y[B]._p4)<0))return Y[B]._p4}},n.prototype.convertToCubicBezier=function(Y){var n,R,g,B,L,Z=this,Q=new w.Math.Curve,e=Z.screenInfo;Q.createFromHtShape(e.P,e.S,e.E),e.curve=Q,Z.activing&&(n=Q._curves,e=Z.activing.point,R=Z._convertToNewPoint(e,n,Y),g=[],R&&(Z.activing.point=R,g.push(R)),Z.activing.selections&&(B=-1,(L=Z.activing.selections).forEach(function(Q){B++,(R=Z._convertToNewPoint(Q,n,Y,g))&&(L[B]=R,g.push(R))})))},n.prototype.check=function(Q,Y,n){if(!Y||Zg(Y)||eg(Y)){var R=this;if(R._interactor.setCursor("default"),R.editing=null,R.highlight=null,R.tipInfo=null,R.edgeEditResult=null,R.screenInfo)return jT()||Y&&eg(Y)||R._checkEditCtrlPoint(n)||R._checkEditRealPoint(n)||R._checkEditElevation(n)||(Y=R.screenInfo.curve.checkPoint(n,R._interactor.getStyle("curveIntersectSize")))&&((n=R.highlight={type:"insertKnot"}).bezier=Y.bezier,n.point=Y.intersection),R._interactor._42(),!0}},n.prototype.getAdjacentBeziers=function(Q){var Y=this.screenInfo;if(Y){for(var n,R=Y.curve._curves,g=[],B=l3,L=0,Z=R.length;L<Z;L++)if(n=R[L],B===l3){if(n._p4.isNearEnough(Q))g.push(n),B=L;else if(n._p1.isNearEnough(Q))return g.push(n),g}else{if(n._p1.isNearEnough(Q))return g.push(n),g;n._p4.isNearEnough(Q)&&(g[0]=n,B=L)}return g}},n.prototype.roundCorner=function(Q){if(this.activing&&this.screenInfo){var Y=this.screenInfo.curve._curves,n=(X=this.activing).point,R=this.getAdjacentBeziers(n);if(R&&2===R.length)var g=(B=R[1])._index,B=B.insertKnot(B.getTByPercentage(Q/B.length))[1],L=(Y[g]=B).p1,Z=(e=R[0])._index,e=e.insertKnot(e.getTByPercentage(1-Q/e.length))[0],u=(Y[Z]=e).p4;else{var X=X.pairs[0],x=Y.length;if(X.c1){if(X.c2)return;var Z=(e=R[0])._index,u=(e=e.insertKnot(e.getTByPercentage(1-Q/e.length))[0]).p4,L=(L=(B=Y[(Z+1)%x]).p1).clone().sub(n).setLength(Q).add(n),g=Z+1;if(1-Math.abs(u.clone().sub(n).normalize().dot(L.clone().sub(n).normalize()))<1e-8)return;Y[Z]=e}else{if(g=(B=R[0])._index,L=(B=B.insertKnot(B.getTByPercentage(Q/B.length))[1]).p1,u=(u=(e=Y[(g-1+x)%x]).p4).clone().sub(n).setLength(Q).add(n),1-Math.abs(u.clone().sub(n).normalize().dot(L.clone().sub(n).normalize()))<1e-8)return;Y[g]=B}}Z=new w.Math.CubicBezier(u,(X=n).clone().sub(u).multiplyScalar(2/3).add(u),X.clone().sub(L).multiplyScalar(2/3).add(L),L),Y.splice(g,0,Z),this._writeToHt(),this.activing=null,this._interactor._42()}},n.prototype._checkEditRealPoint=function(Q){var Y,n,R,g,B,L,Z=this.screenInfo.curve._curves,e=this._interactor.getStyle("curvePointIntersectSize"),u=1/0;for(e*=e,R=0,g=Z.length;R<g;R++)B=(Y=Z[R])._p1,(L=Q.distanceToSquared(B))<u&&(u=L,n=B),B=Y._p4,(L=Q.distanceToSquared(B))<u&&(u=L,n=B);return!(e<u)&&((e=this.highlight={type:"changeRealPoint"}).point=n,this.editing={type:"realPoint",point:n,shiftGuide:{point:n.clone(),dir:"x",limit:0}},this._interactor.setCursor("crosshair"),!0)},n.prototype._checkEditElevation=function(Q){if(!this._interactor.getStyle("curveElevationVisible"))return!1;if(this.target instanceof K.Edge&&!this._interactor.getStyle("edgeElevationEditable"))return!1;var Y=this.activing;if(!Y)return!1;if(!(Y=Y.getCurrentEditingPoint()))return!1;var n=this._interactor,R=n.getStyle("curveElevationGuideShift");return(n=n.getStyle("curveElevationIntersectSize"))*n<Q.distanceToSquared({x:Y.x+R[0],y:Y.y+R[1]})?void 0:(this.highlight={type:"elevation"},n=new w.Math.Vector2(Q.x,Q.y,Y.e),this.editing={type:"elevation",startPoint:n},this._interactor.setCursor("crosshair"),!0)},n.prototype._checkEditCtrlPoint=function(Q){var Y=this;if(Y.activing&&!Y.activing.selections&&(e=Y.getCurrentSelectintStatus())!==w.Curve.PointType.Straight){var n=Y.activing.pairs;if(n){var R,g,B,L,Z,e=Y._interactor.getStyle("curvePointIntersectSize");e*=e;for(var u,X,x=1/0,G=0,o=n.length;G<o;G++)for(L=n[G],X=0;X<2;X++)L[Z=0===X?"c1":"c2"]&&(u=Q.distanceToSquared(L[Z]))<x&&(x=u,R=L,g=G,B=Z);return e<x?!1:(Y.activing.hlpair=R,Y.activing.hltype=B,(e=Y.highlight={type:"changeCtrlPoint"}).point=R[B],Y.editing={type:"ctrlPoint",pair:R,pairId:g,ctrlType:B,direction:R[B].clone().sub(Y.activing.point).normalize()},Y._interactor.setCursor("crosshair"),!0)}}},n.prototype.startEdit=function(Q,Y){Q.startDragging(Y);var n,R,g,B,L=this;L.highlight&&"insertKnot"===L.highlight.type&&(L.insertKnot(),L.gatherSingleTarget(L._interactor.gv,L.target),L.activing=null,L._checkEditRealPoint(L._interactor._getLogicalPoint(Y)));(e=L._activing)&&("ctrlPoint"===(Z=L.editing?L.editing.type:null)?e.editingCtrl={pairId:L.editing.pairId,type:e.hltype}:"realPoint"===Z&&(e.editingCtrl=!1));var Z=L.highlight,e=K.Default.isCtrlDown(Y);if(!Z||jT()||eg(Y))return!(n=L._interactor.gv).setFocus(Y)||n._scrolling?void 0:void(e?L._multiSelect={startPoint:n.lp(Y)}:n.isPannable()&&(Zg(Y)||eg(Y))&&(L._pan={tx:n.tx(),ty:n.ty()},Q.fi({kind:"beginPan",event:Y})));"changeRealPoint"===Z.type&&(n=L.activing?L.activing.point:null,R=L.activing?L.activing.selections:null,e&&L.activing?n===Z.point?(R?(L.activing={point:R[0]},1<R.length&&(R.splice(0,1),L.activing.selections=R)):L.activing=null,L.editing=null):R&&0<=(g=R.indexOf(Z.point))?(1<R.length?R.splice(g,1):delete L.activing.selections,L.editing=null):R?(R.push(n),L.activing={point:Z.point,selections:R}):L.activing={point:Z.point,selections:[n]}:R?n!==Z.point&&(0<=(g=R.indexOf(Z.point))?(R.splice(g,1,n),L.activing={point:Z.point,selections:R}):L.activing={point:Z.point}):(n===Z.point&&(B=L.activing.status),L.activing={point:Z.point},B&&(L.activing.status=B)),Q.fi({kind:"beginEditPoint",event:Y})),"changeCtrlPoint"===Z.type&&Q.fi({kind:"beginEditPoint",event:Y})},n.prototype.insertKnot=function(){var Q=this.highlight;this.screenInfo.curve.insertKnot(Q.bezier,Q.point.t),this._writeToHt()},n.prototype._writeToHt=function(){var Q,Y,n,R=(B=this.screenInfo.curve.toHtShape()).points,g=[],B=B.segments,L=this._interactor.gv,Z=(L.dm().beginTransaction(),this.target),e=Z instanceof K.Edge,u=w.getDataMatrix(Z).invert();(Z instanceof K.Polyline||e&&this._interactor.getStyle("edgeElevationEditable"))&&(n=Z.getElevation&&Z.getElevation()||0);for(var X=0,x=R.length;X<x;X++)Q=R[X],Y=w.toWorldPosition(L,Q),Y=u.apply(Y),isFinite(Q.e)&&Q.e!==n&&(Y.e=Q.e),g.push(Y);Z._writing=!0,e?(Z.s("edge.type","points"),Z.setStyle("edge.segments",B),Z.setStyle("edge.points",g.slice(1,g.length-1)),Z.setStyle("edge.source.offset.x",0),Z.setStyle("edge.source.offset.y",0),Z.setStyle("edge.target.offset.x",0),Z.setStyle("edge.target.offset.y",0),e=this._nextChangeEdgeHost,delete this._nextChangeEdgeHost,e&&("source"===e.type?Z.setSource(e.host):Z.setTarget(e.host)),this._writeEdgeHostAnchor("source",g[0]),this._writeEdgeHostAnchor("target",g[g.length-1])):g.length?(Z.setSegments(B),Z.setPoints(g,!0)):Z.removeFromDataModel(),L.dm().endTransaction(),delete Z._writing},n.prototype._writeEdgeHostAnchor=function(Q,Y){var n=this.target,R=this._calcHostAnchor(n,Q,Y);R.index!==l3?(n.setStyle("edge."+Q+".index",R.index),n.setStyle("edge."+Q+".percent",l3),n.setStyle("edge."+Q+".anchor.x",l3),n.setStyle("edge."+Q+".anchor.y",l3),n.setStyle("edge."+Q+".anchor.elevation",l3),n.setStyle("edge."+Q+".offset.elevation",Y.e)):R.percent!==l3?(n.setStyle("edge."+Q+".percent",R.percent),n.setStyle("edge."+Q+".index",l3),n.setStyle("edge."+Q+".anchor.x",l3),n.setStyle("edge."+Q+".anchor.y",l3),n.setStyle("edge."+Q+".anchor.elevation",l3),n.setStyle("edge."+Q+".offset.elevation",Y.e)):(n.s("edge."+Q+".anchor.x",R.x),n.s("edge."+Q+".anchor.y",R.y),n.s("edge."+Q+".anchor.elevation",R.e),R.offsetX||R.offsetY||R.offsetElevation?(n.s("edge."+Q+".offset.x",R.offsetX),n.s("edge."+Q+".offset.y",R.offsetY),n.s("edge."+Q+".offset.elevation",R.offsetElevation)):(n.s("edge."+Q+".offset.x",0),n.s("edge."+Q+".offset.y",0),n.s("edge."+Q+".offset.elevation",0)))},n.prototype._calcHostAnchor=function(Q,Y,n,R){R=R||("source"===Y?Q.getSourceAgent():Q.getTargetAgent());var g=this._interactor.gv;if(B=g.calculateAttachPoint(R,n))return B.info;if(zn(R))return g.calculateEdgePosition(R,n);var B=R.getRotation(),L=R.getAnchor(),Z=($n(R,g)&&(B=0),R.getElevation()),e=R.getTall()*R.getScaleTall(),Z=((n.e||0)-Q.s("edge."+Y+".offset.elevation")-Z)/e+.5,Q=R.getScale();return B||Q.x<0||Q.y<0?(Y=R.getMatrix().tfi(n),e=R.getSize(),{x:Y.x/e.width+L.x,y:Y.y/e.height+L.y,e:Z}):(B=mQ(g,R),{x:(n.x-B.x)/B.width,y:(n.y-B.y)/B.height,e:Z})},n.prototype._handlePanning=function(Q){var Y,n,R,g,B=this._pan;B&&(B.started=!0,n=(Y=this._interactor).gv,R=Y._lastClientPoint,g=lg(Q),g=XL(n,g,R),n.setTranslate(B.tx+g.x,B.ty+g.y),this.gatherSingleTarget(Y.gv,this.target),Y._42(),Y.fi({kind:"betweenPan",event:Q}))},n.prototype.handleEdit=function(Q,Y){var n,R,g,B,L,Z,e,u,X,x,G,o,l,V,z,p,$,M,F=this,v=F.editing;if(F._pan)F._handlePanning(Y);else{if(F._multiSelect)return F._multiSelect.endPoint=Q.lp(Y),void F._interactor.redraw();v&&(v.inEdit=!0,R=F._interactor._getLogicalPoint(Y),V=K.Default.isCtrlDown(Y),u=K.Default.isShiftDown(Y),z=v.type,n=F.activing,F._guideInfo=null,"ctrlPoint"===z&&u?(X=F.editing.direction.clone(),G=n.point,l=X.dot(R.clone().sub(G)),R=X.setLength(l).add(G)):"ctrlPoint"!==z&&"realPoint"!==z||("realPoint"===z&&u&&(g=(u=F.editing.shiftGuide).point,o=Math.abs(R.x-g.x),(p=Math.abs(R.y-g.y))<o&&o>u.limit&&"y"===u.dir&&(u.dir="x"),o<p&&p>u.limit&&"x"===u.dir&&(u.dir="y"),"x"===(X=u.dir)?(R.y=g.y,u.limit=Math.max(u.limit,o)):"y"===X&&(R.x=g.x,u.limit=Math.max(u.limit,p))),V||((o=F._isEditEdgeSourceTarget())&&(x=R.clone()),u=F._guidingToEdit(R,X),$=p=1/0,(z="realPoint"===z?F._interactor.gridGuide.findClosest(R,X,!0):null)&&(z.x&&(p=z.x),z.y&&($=z.y)),X=!1,u&&(u.xList&&(Math.abs(u.x)<=Math.abs(p)?(X=!0,p=u.x):delete u.xList),u.yList&&(Math.abs(u.y)<=Math.abs($)?(X=!0,$=u.y):delete u.yList),X&&(F._guideInfo=u)),isFinite(p)&&(R.x+=p),isFinite($)&&(R.y+=$),X&&(u.v=R),o&&(z=X?R.clone():null,R.copy(x),(p=F._editEdgeSourceTarget(o,R,V,z))&&(M=(F.edgeEditResult=p).tipText,p.isFixed&&(F._guideInfo=null))))),B=F.screenInfo.curve,"realPoint"===v.type?((G=v.point).e!==l3&&(R.e=G.e),B.moveRealPoint(G,R),v.point=R,F.highlight.point=R,$=n.status,L=n.selections,F.activing={point:R,status:$},L&&(Z=R.clone().sub(G),e=0,L.forEach(function(Q){var Y=Q.clone().add(Z);B.moveRealPoint(Q,Y),L[e++]=Y}),F.activing.selections=L)):"ctrlPoint"===v.type?(u=n.pairs[v.pairId],B.moveCtrlPoint(u,R,v.ctrlType),((X=n.status)===(x=w.Curve.PointType).Mirrored||X===x.Asymmetric)&&u.c1&&u.c2&&(G=new w.Math.Vector2(n.point),o="c1"===v.ctrlType?"c2":"c1",X===w.Curve.PointType.Mirrored?B.moveCtrlPoint(u,G.clone().multiplyScalar(2).sub(R),o):X===x.Asymmetric&&(l=u[o].clone().sub(G).length(),V=G.clone().sub(u[v.ctrlType]).setLength(l).add(G),isNaN(V.x)||B.moveCtrlPoint(u,V,o))),n._firePointChange()):"elevation"===v.type&&(z=(g=v.startPoint).e+(g.y-R.y)/Q._zoom,F._setCurrentPointImpl("e",z),n._firePointChange(),M="E: "+w.toFixed(z)),(p=K.Default.getLogicalPoint(Y,F._interactor._canvas)).x+=w.Icons.TipShiftX,p.y+=w.Icons.TipShiftY,M||($=w.toWorldPosition(Q,R),M=w.toFixed($.x)+", "+w.toFixed($.y)),F.tipInfo={helperPos:p,text:M,size:M.length},F._writeToHt(),F._interactor.fi({kind:"betweenEditPoint",event:Y}))}},n.prototype._setCurrentPointImpl=function(Q,Y){var n=this._activing;if(!n)return!1;var R=this.target;if(!R)return!1;var g=n.getCurrentEditingPoint();if(!g)return!1;var B,L,Z,e,u,X,x=n.editingCtrl;return x||(B=g.clone()),"e"===Q?g.e=Y:("x"===Q||"y"===Q?(L=n._lastFirePoint,L="x"===Q?{x:Y,y:L?L.y:0}:{x:L?L.x:0,y:Y}):"object"==typeof Q?(L=Q).e!==l3&&(g.e=Q.e):(L={x:Q,y:Y},arguments[2]!==l3&&(g.e=arguments[2])),Q=w.getDataMatrix(R),L=w.toScreenPosition(this._interactor.gv,Q.apply(L)),g.x=L.x,g.y=L.y),x||(Z=B.multiplyScalar(-1).add(g),xn(g.e)&&xn(B.e)&&(Z.e=g.e-B.e),(e=this.screenInfo.curve).moveCtrlDueToRealPointMovement(g,Z),(u=n.selections)&&(X=0,u.forEach(function(Q){var Y=Q.clone().add(Z);isFinite(Z.e)&&(Y.e=(isFinite(Q.e)?Q.e:R.getElevation()||0)+Z.e),e.moveRealPoint(Q,Y),u[X++]=Y}),n.selections=u)),!0},n.prototype.setCurrentPoint=function(Q,Y){return!!this._setCurrentPointImpl(Q,Y)&&(this._writeToHt(),!0)},n.prototype._isEditEdgeSourceTarget=function(){if(!(this.target instanceof K.Edge))return!1;var Q=this.editing.point,Y=this.screenInfo.curve._curves;return Q===Y[0]._p1?"source":Q===Y[Y.length-1]._p4&&"target"},n.prototype._editEdgeSourceTarget=function(Y,Q,n,R){var g,B,L,Z,e,u,X,x,G,o=this,l=o.target;if(L="source"===Y?l.getSourceAgent():l.getTargetAgent())return g=o._interactor.gv,e=w.toWorldPosition(g,Q),(u=(u=(B=o._calcHostAnchor(l,Y,e,L)).index!==l3||B.percent!==l3?B.distance*g.getZoom()>o._interactor.getStyle("edgeHostEdgeMaxDistance"):!!o._interactor.getStyle("edgeHostDetectPerFrame")||B.x<0||1<B.x||B.y<0||1<B.y)&&g.getDataAt(e,function(Q){return!!g.isSelectable(Q)&&!!g.isSourceTargetEditable(l,Q,Y)&&!!l.canSetSourceTarget(Q,Y)}))&&(X=o._calcHostAnchor(l,Y,e,u),o._nextChangeEdgeHost={type:Y,host:L=u},B=X),u=!1,n||B.x===l3?B.percent===l3&&B.index===l3||(u=!0,Z=B.point):(X=o._interactor.getStyle("anchorRound"),n=o._interactor.getStyle("anchorSensitivity"),(x=g.calculateAttachPoint(L,e))?(B=x.info,u=!0):((B=R?o._calcHostAnchor(l,Y,w.toWorldPosition(g,R),L):B).x=w.roundTo(B.x,X,n),B.y=w.roundTo(B.y,X,n)),Z=eL(g,L,0,B.offsetX||0,B.offsetY||0,B.x,B.y)),Z&&(e=w.toScreenPosition(g,Z),Q.x=e.x,Q.y=e.y),o._edgeHostGuideInfo={corners:w.getTargetCornersOnScreen(g,L),attach:x?x.index:-1,host:L},B.percent!==l3?G="percent: "+B.percent.toFixed(2):B.index!==l3?G="index: "+B.index:(G=B.x.toFixed(2)+", "+B.y.toFixed(2),(B.offsetX||B.offsetY)&&(G+=" offset: "+B.offsetX.toFixed(2)+", "+B.offsetY.toFixed(2))),{host:L,anchor:B,tipText:G,isFixed:u}},n.prototype._guidingToEdit=function(Q,Y){if(l=this.screenInfo.curve){var n,R,g,B,L,Z,e,u,X=l._curves,x=1/0,G=1/0,o=[];for(this.editing&&"realPoint"===this.editing.type&&(u=this.editing.point),L=0,Z=2*X.length;L<Z;L++)e=X[Math.floor(L/2)][L%2?"_p4":"_p1"],0<=o.indexOf(e)||(o.push(e),u&&u===e||(g=e.x-Q.x,B=e.y-Q.y,Math.abs(g)<Math.abs(x)?(x=g,n=[e]):g===x&&n.push(e),Math.abs(B)<Math.abs(G)?(G=B,R=[e]):B===G&&R.push(e)));var l=this._interactor.getStyle("smartGuideThreshold");if((Math.abs(x)>l||"y"===Y)&&(n=null),(Math.abs(G)>l||"x"===Y)&&(R=null),(n||R)&&(l=!1,Y={},n&&(l=!0,Y.xList=n,Y.x=x),R&&(l=!0,Y.yList=R,Y.y=G),l))return Y}},n.prototype._46O=function(Q){var Y,n,R,g=this;g.editing&&((R=g._isEditEdgeSourceTarget())&&(Y=g.screenInfo.P,n=g.activing.point,"source"===R?(n.x=Y[0],n.y=Y[1]):(R=Y.length,n.x=Y[R-2],n.y=Y[R-1])),g.editing=null,g._interactor.fi({kind:"endEditPoint",event:Q})),g._guideInfo=null,g._edgeHostGuideInfo=null,g._pan&&(g._pan=null,g._interactor.fi({kind:"endPan",event:Q})),g._multiSelect&&(g._handleMultiSelect(g._multiSelect,Q),g._multiSelect=null),g.tipInfo=null,g.edgeEditResult=null},n.prototype._handleMultiSelect=function(Q,Y){if(Q.startPoint&&Q.endPoint){for(var n,R,g,B,L=this._interactor,Z=L.gv,e=w.toScreenPosition(Z,Q.startPoint),Z=w.toScreenPosition(Z,Q.endPoint),u=K.Default.unionPoint(e,Z),X=this.screenInfo.curve._curves,x=[],G=function(Q){Q.x>=u.x&&Q.y>=u.y&&Q.x<=u.x+u.width&&Q.y<=u.y+u.height&&x.indexOf(Q)<0&&x.push(Q)},o=0,l=X.length;o<l;o++)G((g=X[o])._p1),G(g._p4);if(x.length){var V=(Q=this.activing||{}).selections||[],z=(Q.point&&V.push(Q.point),K.Default.isShiftDown(Y)),p=Y.altKey;if(p&&!z)for(B=x,x=[],o=0,l=B.length;o<l;o++)n=B[o],0<=(R=V.indexOf(n))&&x.push(n);for(o=0,l=V.length;o<l;o++)n=V[o],0<=(R=x.indexOf(n))?z&&!p||(x[R]=l3):x.push(n);for(B=x,x=[],o=0,l=B.length;o<l;o++)B[o]&&x.push(B[o]);0===(l=x.length)?this.activing=null:1===l?this.activing={point:x[0]}:(n=x[l-1],this.activing={point:n,selections:x.splice(0,l-1)}),L.redraw()}}},n.prototype._canDeletePoint=function(Q,Y){if(!(this.target instanceof K.Edge))return!0;var n=Q._curves[0],Q=Q._curves[Q._curves.length-1];return n._p1!==Y&&Q._p4!==Y},n.prototype.handleDelete=function(){var Y,n,R=this;R.activing&&R.screenInfo&&(Y=K.Default.isShiftDown(),n=R.screenInfo.curve,R._canDeletePoint(n,R.activing.point)&&n.deleteRealPoint(R.activing.point,Y),R.activing.selections&&R.activing.selections.forEach(function(Q){R._canDeletePoint(n,Q)&&n.deleteRealPoint(Q,Y)}),R.activing=null,delete R.editing,delete R.tipInfo,delete R.edgeEditResult,delete R._pan,delete R._multiSelect,R._writeToHt(),R._interactor.fp("deleteShapePoint",!1,!0))},n.prototype.handleDoubleClick=function(Q){var Y,Q=this._interactor._getLogicalPoint(Q);if(this.screenInfo&&this._checkEditRealPoint(Q))return Q=(Q=this.getCurrentSelectintStatus())===(Y=w.Curve.PointType).Mirrored?Y.Straight:Y.Mirrored,this._setCurrentSelectionStatus(Q),this._interactor._42(),!0},n.prototype._drawHighlight=function(Q){var Y,n,R=this.highlight;R&&(n=R.bezier,Y=this._interactor,n&&w.Icons.DrawIcon(Y,Q,w.Icons.ShapeHighlightCurve,[n._p1.x,n._p1.y,n._p2.x,n._p2.y,n._p3.x,n._p3.y,n._p4.x,n._p4.y]),(n=R.point)&&"insertKnot"===R.type&&w.Icons.DrawIcon(Y,Q,w.Icons.ShapeHighlighPoint,n))},n.prototype._drawGuide=function(Q){var Y=this._guideInfo;if(Y)for(var n,R,g,B=Y.v,L=0;L<2;L++)if(g=0===L?Y.xList:Y.yList)for(n=0,R=g.length;n<R;n++)w.Icons.DrawIcon(this._interactor,Q,w.Icons.ShapeGuideLine,[B.x,B.y,g[n].x,g[n].y])},n.prototype._drawCurrentPoint=function(Y){if(this.activing){var Q=this.activing,n=this.getCurrentSelectintStatus(),R=this._interactor;if(n!==w.Curve.PointType.Straight){var g=Q.pairs,B=(Q.hlpair,Q.hltype,Q.selections),L=Q.editingCtrl;if(g&&!B)for(var Z,e=0,u=g.length;e<u;e++)Z=g[e],L&&e===L.pairId&&Z[L.type]?w.Icons.DrawIcon(R,Y,w.Icons.ShapeActivingCtrl,{point:Z.point,c1:Z.c1,c2:Z.c2,hl:L.type}):w.Icons.DrawIcon(R,Y,w.Icons.ShapeActivingCtrl,Z)}w.Icons.DrawIcon(R,Y,w.Icons.ShapeHighlighRealPoint,this.activing.point),B&&B.forEach(function(Q){w.Icons.DrawIcon(R,Y,w.Icons.ShapeHighlighRealPoint,Q)})}},n.prototype.clear=function(){this.editing=null,this._guideInfo=null,this.activing=null,this.highlight=null},n.prototype._42=function(Y){var Q=this,n=(Q.info={},Q.editing||(Q.screenInfo=null),Q._interactor);if(n.editDetail){var R,g,B=n.gv;if(!Q.target||!B.isSelected(Q.target)||!B.isVisible(Q.target))return n.editDetail=!1,void Q.clear();Q.gatherSingleTarget(B,Q.target),w.Icons.DrawIcon(n,Y,w.Icons.ShapeBgCurve,Q.screenInfo),Q._interactor.getStyle("curveElevationVisible")&&(Q.target instanceof K.Polyline||Q.target instanceof K.Edge&&Q._interactor.getStyle("edgeElevationEditable"))&&Q.activing&&(R=Q.activing.getCurrentEditingPoint())&&"string"!=typeof R.e&&w.Icons.DrawIcon(n,Y,w.Icons.EdgeElevationGuide,R),Q._drawHighlight(Y),Q._drawCurrentPoint(Y),Q._getRealPoint().forEach(function(Q){w.Icons.DrawIcon(n,Y,w.Icons.ShapePoint,Q)}),Q._drawGuide(Y),Q.tipInfo&&Q._interactor.getStyle("curveTipVisible")&&w.Icons.DrawIcon(n,Y,w.Icons.TipHelper,Q.tipInfo),Q._edgeHostGuideInfo&&n._drawHostGuide(Q._edgeHostGuideInfo),Q.edgeEditResult&&Q._drawEdgeHostHighlight(Y,Q.edgeEditResult.host,Q.edgeEditResult.anchor),Q._multiSelect&&Q._multiSelect.endPoint&&((R=K.Default.unionPoint(w.toScreenPosition(B,Q._multiSelect.startPoint),w.toScreenPosition(B,Q._multiSelect.endPoint))).color=B.getRectSelectBorderColor(),Y.save(),Y.setTransform(1,0,0,1,0,0),B=z3.devicePixelRatio,g=R.borderWidth=Math.round(B),g/=2,R.x=Math.round(R.x*B)+g,R.y=Math.round(R.y*B)+g,R.width=Math.round(R.width*B),R.height=Math.round(R.height*B),w.Icons.DrawIcon(n,Y,w.Icons.SimpleRect,R),Y.restore())}else Q.clear()},n.prototype._drawEdgeHostHighlight=function(Q,Y,n){this.drawEdgeHostHighlight(Q,Y,n),this._interactor.redraw()},n.prototype.drawEdgeHostHighlight=function(Q,Y,n){if(zn(Y)){for(var R,g,B=this._interactor,L=B.gv,Y=L.getDataUI(Y),Z=aL(Y),e=[],u=0,X=Z.points.length;u<X;u++)g=w.toScreenPosition(L,Z.points.get(u)),e.push(g.x,g.y);Z.segments&&(R=Z.segments.toArray());for(var x=B.getStyle("edgeHostHighlighPeriod"),G=B.getStyle("edgeHostEdgeHighlighColor"),o=(w.Icons.DrawIcon(B,Q,w.Icons.ShapeBgCurve,{P:e,S:R,color:G,dynamicVisible:n.index===l3,dynamicPeriod:x}),G=B.getStyle("edgeHostPointHighlighColor"),TL(Y)),u=0,X=o.length;u<X;u++){var l=o[u],l=w.toScreenPosition(L,l);w.Icons.DrawIcon(B,Q,w.Icons.ShapePoint,{point:{x:l.x,y:l.y},color:G,size:12,dynamicVisible:u===n.index,dynamicPeriod:x})}}},n.prototype._getRealPoint=function(){var n,Q=this.screenInfo,R=Q.P,g=Q.S,B=-1,L=[],Z=-1,e=g.length;return g.each(function(Q){Z++;var Y=1;if(3===Q)Y=2;else if(4===Q)Y=3;else if(5===Q)return;B+=Y,n=e<=Z+1||1===g.get(Z+1),L.push({point:{x:R[2*B],y:R[2*B+1]},segmentIndex:Z,pointIndex:B,isEnd:n})}),L},n.prototype.getEditingPointsInfo=function(Q){var Y=this,n=Y.activing;if(!n)return!1;var R=n.point;if(!R)return!1;var g=this._getRealPoint(),B=[{screen:R}];n.selections&&n.selections.forEach(function(Q){B.push({screen:Q})});var L,Z,e=g.length;return B.forEach(function(Q){for(L=0;L<e;L++)if(Z=g[L],Q.screen.isNearEnough(Z.point)){Q.segmentIndex=Z.segmentIndex,Q.pointIndex=Z.pointIndex,Q.point=Y.target.getPoints().get(Z.pointIndex);break}}),Q&&B.sort(function(Q,Y){return Q.segmentIndex-Y.segmentIndex}),B};(((Y=w.MoveHelper=function(Q){this.catalog="Move",this._interactor=Q}).prototype={}).constructor=Y).prototype.calcShift=function(Q,Y,n){var R,g=this,B=g._interactor.gv,L=B.lp(Y);if("beginMove"===Q&&g._gatherGridInfo(n._lastLogicalPoint||L),Q=g._target){if(n=Q.downPosition){var Z=g._interactor.getStyle("moveSensitivity")/B._zoom;if(n.distanceTo(L)<Z)return{x:0,y:0};delete Q.downPosition}K.Default.isShiftDown(Y)&&(L=g._dealShiftDown(L),R=Q.shiftGuide.dir);var e,n=Q.rawPos={x:Q.pos.x+L.x-Q.lp.x,y:Q.pos.y+L.y-Q.lp.y},L=!0;if((Z=g._interactor.getStyle("moveHelperFilter"))&&(L=Z(Q.node instanceof w.Group?Q.node._entities:[Q.node])),K.Default.isCtrlDown(Y)||!L)return e=g._calcShiftByAddon(),g._target.node instanceof w.Group&&((X=g._target.node)._position.x+=e.x,X._position.y+=e.y),e;if(Z=g._interactor.rectGuide,Q.node instanceof K.Data&&Q.node.s("2d.attachable")&&(Y=g._calcAttachNodeShift(Q.node,n),Z.clear(),Y))return Y;for(var u,X,x=Q.x+n.x,G=Q.y+n.y,L={x:x,y:G},Y={x:x+Q.w/2,y:G+Q.h/2},o={x:x+Q.w,y:G+Q.h},l=g._interactor.gridGuide,V=[Z.findClosest(L,R),Z.findClosest(Y,R),Z.findClosest(o,R),l.findClosest(L,R),l.findClosest(Y,R),l.findClosest(o,R)],z=1/0,p=1/0,$=0,M=V.length;$<M;$++)(u=V[$])&&(x=u.x,G=u.y,isFinite(x)&&Math.abs(x)<Math.abs(z)&&(z=x),isFinite(G)&&Math.abs(G)<Math.abs(p)&&(p=G));return isFinite(z)||(z=0),isFinite(p)||(p=0),e=g._calcShiftByAddon(z,p),g._target.node instanceof w.Group&&((X=g._target.node)._position.x+=e.x,X._position.y+=e.y),Z=Q.node,$n(Z,B)||g._interactor.rectGuide.gatherLines({node:Z,x:Q.x+(n.x+z),y:Q.y+(n.y+p),w:Q.w,h:Q.h},R),e}},Y.prototype._calcShiftByAddon=function(Q,Y){var n=(R=this._target).rawPos,R=R.node.getPosition();return{x:n.x-R.x+(Q=Q||0),y:n.y-R.y+(Y=Y||0)}},Y.prototype._dealShiftDown=function(Q){var Y=this._target.shiftGuide,n=this._target.lp,R=Math.abs(Q.x-n.x),g=Math.abs(Q.y-n.y),B=(g<R&&R>Y.limit&&"y"===Y.dir&&(Y.dir="x"),R<g&&g>Y.limit&&"x"===Y.dir&&(Y.dir="y"),Y.dir);return"x"===B?(Q.y=n.y,Y.limit=Math.max(Y.limit,R)):"y"===B&&(Q.x=n.x,Y.limit=Math.max(Y.limit,g)),Q},Y.prototype._isAttachableLineShape=function(Q){if(!Q.getSegments)return!1;var Y=Q.getSegments();if(!Y)return!0;for(var n=1,R=(Y=Y instanceof K.List?Y.getArray():Y).length;n<R;n++)if(2!==Y[n])return!1;return!0},Y.prototype._calcAttachNodeShift=(Np=new q,Up=new q,Cp=new q,wp=new q,function(Q,Y){var n=this._interactor.gv,R=Q.getHost(),g=n.getDataAt(Y,function(Q){return!!Q.s("2d.hostable")});if(g&&R!==g&&Q.setHost(g),!g)return this._edgeHostGuideInfo=null,Q.setHost(null);var B,L,R=this._edgeHostGuideInfo={corners:w.getTargetCornersOnScreen(n,g),host:g,attach:-1};if(!this._isAttachableLineShape(g))return(B=n.calculateAttachPoint(g,Y))?(L=B.point,R.attach=B.index,this._calcShiftByAddon(L.x-Y.x,L.y-Y.y)):void 0;for(var Z,e,u,X,x,G,o=g.getPoints(),l=o.size(),V=g.getPointsMatrix2d(),z=1/0,p=0;p<l&&(p!==l-1||g.isClosePath());p++)0!==p?Up.copy(Cp):V.apply(o.get(p),Up),V.apply(p===l-1?o.get(0):o.get(p+1),Cp),Np.copy(Y).sub(Up),wp.copy(Cp).sub(Up),Z=wp.length(),wp.divideScalar(Z),(e=Np.dot(wp))<0?e=0:Z<e&&(e=Z),wp.multiplyScalar(e).add(Up),(u=Np.copy(Y).sub(wp).lengthSq())<z&&(z=u,G=p,X=e,x=Z);return Math.sqrt(z)*n.getZoom()>this._interactor.getStyle("attachThreshold")?(Q.s({"attach.index":-1}),void Q.setHost(null)):(Q.s("attach.offset.opposite")&&(X=x-X),Q.s({"attach.index":G,"attach.offset":Q.s("attach.offset.relative")?X/x:X}),{x:0,y:0})}),Y.prototype._gatherGridInfo=function(Q){var Y,n,R=this._interactor;if((g=R._getValidSelection()).length){if(1===g.length){if(!(Y=g[0]).getRect)return void(this._target=null)}else if(!(Y=w.Group.findOrCreateGroup(g,R._uuid)))return void(this._target=null)}else{var g=R.gv.sm().getSelection();if(g.length&&!(Y=g.get(0)).getRect)return void(this._target=null)}Y&&(g=Y.getPosition(),n=Y.getRect(),this._target={node:Y,x:n.x-g.x,y:n.y-g.y,w:n.width,h:n.height,lp:{x:Q.x,y:Q.y},pos:{x:g.x,y:g.y},shiftGuide:{dir:"x",limit:0},downPosition:new w.Math.Vector2(Q)},R.rectGuide.gatherRects())},Y.prototype.clear=function(){this._edgeHostGuideInfo=null,this._interactor.rectGuide.clear(),this._interactor._42()},Y.prototype._42=function(){var Q=this._edgeHostGuideInfo;Q&&this._interactor._drawHostGuide(Q)};var Op,Np,Up,Cp,wp,jp,rp,Hp,sp,hp,tp,mp,qp,dp,Kp,Wp,cp,Sp,yp,Dp,fp,Q0,Y0,n0,R0,g0,B0,L0,Z0,e0,u0,X0,x0,G0,o0,l0,V0,z0,p0,$0,M0,F0,v0,a0,J0,I0,A0,P0,i0,T0,E0,_0,b0,k0,O0,N0,U0,C0,w0,j0,r0,H0,s0,h0,t0,m0,q0,d0,K0,W0,c0,S0,y0,D0,f0,QH,YH,nH,RH,gH,BH,LH,ZH,eH,uH,XH,xH,GH,oH,lH,VH,zH,pH,$H,MH,FH,vH,aH,JH,IH,AH,PH,iH,TH,EH,_H,bH,kH,OH,NH,UH,CH,wH,jH,rH,HH,sH,hH,tH,mH,qH,dH,KH,WH,cH,SH,yH,DH,fH,QS,YS,nS,RS,gS,BS,LS,ZS,eS,uS,XS,xS,GS,oS,lS,VS,zS,pS,$S,MS,FS,vS,aS,JS,IS,AS,PS,iS,TS,ES,_S,bS,kS,OS,NS,US,CS,wS,jS,rS,HS,sS,hS,tS,mS=K.WebGLConstants=m.freeze({DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,HALF_FLOAT_OES:36193,DOUBLE:5130,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,COLOR:6144,DEPTH:6145,STENCIL:6146,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,MAX_3D_TEXTURE_SIZE:32883,UNSIGNED_INT_2_10_10_10_REV:33640,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,MAX_TEXTURE_LOD_BIAS:34045,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,VERTEX_ATTRIB_ARRAY_INTEGER:35069,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,UNSIGNED_INT_10F_11F_11F_REV:35899,RGB9_E5:35901,UNSIGNED_INT_5_9_9_9_REV:35902,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,RASTERIZER_DISCARD:35977,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,UNSIGNED_INT_24_8:34042,DEPTH24_STENCIL8:35056,UNSIGNED_NORMALIZED:35863,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,MAX_SAMPLES:36183,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,VERTEX_ARRAY_BINDING:34229,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,SIGNED_NORMALIZED:36764,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,INVALID_INDEX:4294967295,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,SAMPLER_BINDING:35097,RGB10_A2UI:36975,INT_2_10_10_10_REV:36255,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497,TEXTURE_IMMUTABLE_FORMAT:37167,MAX_ELEMENT_INDEX:36203,TEXTURE_IMMUTABLE_LEVELS:33503,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047}),qS=(jp="undefined"!=typeof WebGL2RenderingContext,rp={aliasedLineWidthRange:33902,aliasedPointSizeRange:33901,maxCombinedTextureImageUnits:35661,maxCubeMapTextureSize:34076,maxFragmentUniformVectors:36349,maxRenderBufferSize:34024,maxTextureImageUnits:34930,maxTextureSize:3379,maxVaryingVectors:36348,maxVertexAttribs:34921,maxVertexTextureImageUnits:35660,maxVertexUniformVectors:36347,maxViewportDIMs:3386},Hp={max3DTextureSize:32883,maxArrayTextureLayers:35071,maxColorAttachments:36063,maxCombinedFragmentUniformComponents:35379,maxCombinedUniformBlocks:35374,maxCombinedVertexUniformComponents:35377,maxDrawBuffers:34852,maxElementIndex:36203,maxElementsIndices:33001,maxElementsVertices:33e3,maxFragmentInpuComponents:37157,maxFragmentUniformBlocks:35373,maxFragmentUniformComponents:35657,maxProgramTexelOffset:35077,maxSamples:36183,maxTextureLODBias:34045,maxTransformFeedbackInterleavedComponents:35978,maxTransformFeedbackSeparateAttribs:35979,maxTransformFeedbackSeparateComponents:35968,maxUniformBlockSize:35376,maxUniformBufferBindings:35375,maxVaryingComponents:35659,maxVertexOutputComponents:37154,maxVertexUniformBlocks:35371,maxVertexUniformComponents:35658,minProgramTexelOffset:35076},{for:function(Q){var Y=Q._info;return Y||(Q._info=Y=function(R,Q){(Q=Q==l3?{}:Q).version=jp&&(R instanceof WebGL2RenderingContext||"[object WebGL2RenderingContext]"===m.prototype.toString.call(R))?2:1,Q.extensions=function(){for(var Q={},Y=R.getSupportedExtensions(),n=Y.length;n--;)Q[Y[n]]=function(Q,Y){var n=l3;return function(){return n=n||Q.getExtension(Y)}}(R,Y[n]);return Q}();for(var Y=m.keys(rp),n=0,g=Y.length;n<g;++n)Q[B=Y[n]]=R.getParameter(rp[B]);if(1<Q.version)for(var B,n=0,g=(Y=m.keys(Hp)).length;n<g;++n)Q[B=Y[n]]=R.getParameter(Hp[B]);return Q}(Q,Y)),Y}}),dS=(sp="undefined"!=typeof Float32Array&&new Float32Array(4),r3={viewport:{def:[0,0,NaN,NaN],getter:function(Q){return Q.getParameter(2978)},setter:function(Q,Y){var n=Y[2]!=Y[2]?Q.drawingBufferWidth-Y[0]:Y[2],R=Y[3]!=Y[3]?Q.drawingBufferHeight-Y[1]:Y[3];Q.viewport(Y[0],Y[1],n,R)}},dither:{def:!1,getter:function(Q){return Q.isEnabled(3024)},setter:function(Q,Y){Y?Q.enable(3024):Q.disable(3024)}},rasterizerDiscard:{def:!1,getter:function(Q){return 1<qS.for(Q).version&&Q.isEnabled(35977)},setter:function(Q,Y){1!==qS.for(Q).version&&(Y?Q.enable(35977):Q.disable(35977))}},lineWidth:{def:1,getter:function(Q){return Q.lineWidth?Q.getParameter(2849):1},setter:function(Q,Y){Q.lineWidth&&Q.lineWidth(Y)}},color:{clear:{def:[0,0,0,0],getter:function(Q){return Q.getParameter(3106)},setter:function(Q,Y){Q.clearColor(Y[0],Y[1],Y[2],Y[3])},parse:uf},mask:{def:[!0,!0,!0,!0],getter:function(Q){return Q.getParameter(3107)},setter:function(Q,Y){Q.colorMask(Y[0],Y[1],Y[2],Y[3])}}},blend:{enabled:{def:!1,getter:function(Q){return Q.isEnabled(3042)},setter:function(Q,Y){Y?Q.enable(3042):Q.disable(3042)}},color:{def:[0,0,0,0],getter:function(Q){return Q.getParameter(32773)},setter:function(Q,Y){Q.blendColor(Y[0],Y[1],Y[2],Y[3])},parse:uf},equation:{def:[32774,32774],getter:function(Q){return[Q.getParameter(32777),Q.getParameter(34877)]},setter:function(Q,Y){Q.blendEquationSeparate(Y[0],Y[1])},parse:function(Q){var Y=Q.length;return 1<Y?Q:(sp[1]=sp[0]=1===Y?Q[0]:Q,sp)}},func:{def:[1,mS.ZERO,1,mS.ZERO],getter:function(Q){return[Q.getParameter(32969),Q.getParameter(32968),Q.getParameter(32971),Q.getParameter(32970)]},setter:function(Q,Y){Q.blendFuncSeparate(Y[0],Y[1],Y[2],Y[3])},parse:function(Q){return 3<Q.length?Q:(sp[2]=sp[0]=Q[0],sp[3]=sp[1]=Q[1],sp)}}},cullFace:{enabled:{def:!1,getter:function(Q){return Q.isEnabled(2884)},setter:function(Q,Y){Y?Q.enable(2884):Q.disable(2884)}},mode:{def:1029,getter:function(Q){return Q.getParameter(2885)},setter:function(Q,Y){Q.cullFace(Y)}},frontFace:{def:2305,getter:function(Q){return Q.getParameter(2886)},setter:function(Q,Y){Q.frontFace(Y)}}},scissor:{enabled:{def:!1,getter:function(Q){return Q.isEnabled(3089)},setter:function(Q,Y){Y?Q.enable(3089):Q.disable(3089)}},box:{def:[0,0,NaN,NaN],getter:function(Q){return Q.getParameter(3088)},setter:function(Q,Y){var n=Y[2]!=Y[2]?Q.drawingBufferWidth-Y[0]:Y[2],R=Y[3]!=Y[3]?Q.drawingBufferHeight-Y[1]:Y[3];Q.scissor(Y[0],Y[1],n,R)}}},depth:{enabled:{def:!1,getter:function(Q){return Q.isEnabled(2929)},setter:function(Q,Y){Y?Q.enable(2929):Q.disable(2929)}},clear:{def:1,getter:function(Q){return Q.getParameter(2931)},setter:function(Q,Y){Q.clearDepth(Y)}},mask:{def:!0,getter:function(Q){return Q.getParameter(2930)},setter:function(Q,Y){Q.depthMask(Y)}},range:{def:[0,1],getter:function(Q){return Q.getParameter(2928)},setter:function(Q,Y){Q.depthRange(Y[0],Y[1])}},func:{def:513,getter:function(Q){return Q.getParameter(2932)},setter:function(Q,Y){Q.depthFunc(Y)}}},stencil:{enabled:{def:!1,getter:function(Q){return Q.isEnabled(2960)},setter:function(Q,Y){Y?Q.enable(2960):Q.disable(2960)}},clear:{def:0,getter:function(Q){return Q.getParameter(2961)},setter:function(Q,Y){Q.clearStencil(Y)}},frontMask:{def:255,getter:function(Q){return Q.getParameter(2968)},setter:function(Q,Y){Q.stencilMaskSeparate(1028,Y)}},frontOp:{def:[7680,7680,7680],getter:function(Q){return[Q.getParameter(2964),Q.getParameter(2965),Q.getParameter(2966)]},setter:function(Q,Y){Q.stencilOpSeparate(1028,Y[0],Y[1],Y[2])}},frontFunc:{def:[519,0,255],getter:function(Q){return[Q.getParameter(2962),Q.getParameter(2967),Q.getParameter(2963)]},setter:function(Q,Y){Q.stencilFuncSeparate(1028,Y[0],Y[1],Y[2])}},backMask:{def:255,getter:function(Q){return Q.getParameter(36005)},setter:function(Q,Y){Q.stencilMaskSeparate(1029,Y)}},backOp:{def:[7680,7680,7680],getter:function(Q){return[Q.getParameter(34817),Q.getParameter(34818),Q.getParameter(34819)]},setter:function(Q,Y){Q.stencilOpSeparate(1029,Y[0],Y[1],Y[2])}},backFunc:{def:[519,0,255],getter:function(Q){return[Q.getParameter(34816),Q.getParameter(36003),Q.getParameter(36004)]},setter:function(Q,Y){Q.stencilFuncSeparate(1029,Y[0],Y[1],Y[2])}}},hint:{generateMipmap:{def:4352,getter:function(Q){return Q.getParameter(33170)},setter:function(Q,Y){Q.hint(33170,Y)}},fragmentShaderDerivative:{def:4352,getter:function(Q){var Y=qS.for(Q);return 1!==Y.version||Y.extensions.OES_standard_derivatives?Q.getParameter(35723):4352},setter:function(Q,Y){var n=qS.for(Q);(1<n.version||n.extensions.OES_standard_derivatives)&&Q.hint(35723,Y)}}},pixelStore:{packAlignment:ef(4,3333,!1),unpackAlignment:ef(4,3317,!1),unpackFlipY:ef(!1,37440,!1),unpackPremultiplyAlpha:ef(!1,37441,!1),unpackColorspaceConversion:ef(37444,37443,!1),packRowLength:ef(0,3330,!0),packSkipPixels:ef(0,3332,!0),packSkipRows:ef(0,3331,!0),unpackRowLength:ef(0,3314,!0),unpackImageHeight:ef(0,32878,!0),unpackSkipPixels:ef(0,3316,!0),unpackSkipRows:ef(0,3315,!0),unpackSkipImages:ef(0,32877,!0)},polygonOffset:{enabled:{def:!1,getter:function(Q){return Q.isEnabled(32823)},setter:function(Q,Y){Y?Q.enable(32823):Q.disable(32823)}},value:{def:[0,0],getter:function(Q){return[Q.getParameter(32824),Q.getParameter(10752)]},setter:function(Q,Y){Q.polygonOffset(Y[0],Y[1])}}},sampleCoverage:{enabled:{def:!1,getter:function(Q){return Q.isEnabled(32928)},setter:function(Q,Y){Y?Q.enable(32928):Q.disable(32928)}},alpha:{def:!1,getter:function(Q){return Q.isEnabled(32926)},setter:function(Q,Y){Y?Q.enable(32926):Q.disable(32926)}},value:{def:[1,!1],getter:function(Q){return[Q.getParameter(32938),Q.getParameter(32939)]},setter:function(Q,Y){Q.sampleCoverage(Y[0],Y[1])}}}},r3=iQ.create(r3,function(Q){return"def"in Q}),xf.prototype.reset=function(){for(var Q=this._struct.children,Y=Q.length;Y--;){var n=Q[Y],R=n.name;n.isLeaf?this[R]=n.desc.def:this._branches[R].reset()}},xf.prototype.save=function(Q){Q==l3&&(Q={});for(var Y=this._struct.children,n=Y.length;n--;){var R=Y[n],g=R.name;R.isLeaf?Q[g]=Xf(this._record[g]):((R=Q[g])==l3&&(Q[g]=R={}),this._branches[g].save(R))}return Q},xf.prototype.sync=function(Q,Y){for(var n=this._struct.children,R=n.length;R--;){var g=n[R],B=g.name;g.isLeaf?!Y&&this._leafSync[B]||(Q?this._record[B]=g.desc.getter(this.gl):g.desc.setter(this.gl,this._record[B]),this._leafSync[B]=!0):this._branches[B].sync(Q,Y)}},xf.prototype.syncLoss=function(){for(var Q=this._struct.children,Y=Q.length;Y--;){var n=Q[Y];n.isLeaf?this._leafSync[n.name]=!1:this._branches[n.name].syncLoss()}},xf.prototype.apply=function(Q,Y){for(var n=this._struct.children,R=n.length;R--;){var g=n[R],B=g.name;B in Q&&(g.isLeaf?(Y&&(Y[B]=this[B]),this[B]=Q[B]):this._branches[B].apply(Q[B],Y?Y[B]={}:l3))}},xf.prototype.append=function(Q){var Y,n=this._struct.childMap;for(Y in Q){var R=n[Y];R&&(R.isLeaf?this[Y]=Q[Y]:this._branches[Y].append(Q[Y]))}},hp=function Z(g){var e=[];function Q(Q,Y){xf.call(this,g,Q,Y);for(var n=e.length;n--;){var R=e[n];this._branches[R._name]=new R._type(Q,this._record[R._name])}}return du(Q,xf),g.forEach(function(Q,Y){var n,R,g=Q.name,B=Ku(Q.desc.def),L=B&&Q.desc.def.length;Q.isLeaf?(n=Q.desc.setter,R=Q.desc.parse,m.defineProperty(Y,g,{configurable:!1,enumerable:!0,get:function(){return this._record[g]},set:B?function(Q){R&&(Q=R(Q)),!function(Q,Y){for(var n=L,R=!1;n--;)Q[n]!==Y[n]&&(Q[n]=Y[n],R=!0);return R}(this._record[g],Q)&&this._leafSync[g]||(n(this.gl,this._record[g]),this._leafSync[g]=!0)}:function(Q){this._record[g]===Q&&this._leafSync[g]||(n(this.gl,Q),this._record[g]=Q,this._leafSync[g]=!0)}})):(e.push({_name:g,_type:Z(Q)}),m.defineProperty(Y,g,{configurable:!1,enumerable:!0,get:function(){return this._branches[g]},set:function(Q){this._branches[g].apply(Q)}}))},Q.prototype),Q}(r3),function(){var e=[];if("function"==typeof Float32Array)for(var Q=1;Q<17;++Q)e[Q]=new Float32Array(Q);function u(Q,Y,n,R){if(Q)if(Q.length!=l3)for(g=0;g<R;++g)Y[n+g]=Q[g];else Q.toArray&&Q.toArray(Y,n);else for(var g=0;g<R;++g)Y[n+g]=0}function n(Q,Y,n){var R=Q[0];if("number"==typeof R)return Q;var g=Y*n,B=e[g];if(B==l3&&(e[g]=B=new Float32Array(g)),0!==Y){u(R,B,0,n);for(var L=1,Z=0;L!==Y;++L)u(Q[L],B,Z+=n,n)}return B}function Y(Q,Y){Q.uniform1iv(this.addr,Y)}function R(Q,Y){Q.uniform2iv(this.addr,Y)}function g(Q,Y){Q.uniform3iv(this.addr,Y)}function B(Q,Y){Q.uniform4iv(this.addr,Y)}var L=[0,1];function Z(Q,Y){Q.uniform1i(this.addr,this.slots[0]),Q.activeTexture(33984+this.slots[0]),Q.bindTexture(3553,Y||Q._emptyTexture)}function X(Q,Y){Q.uniform1iv(this.addr,this.slots);for(var n=this.slots.length;n--;)Q.activeTexture(33984+this.slots[n]),Q.bindTexture(3553,Y[n]||Q._emptyTexture)}var x=[];function G(Q,Y,n){x[Q]=[Y,n]}G(5126,function(Q,Y){var n=this.cache;n[0]!==Y&&(Q.uniform1f(this.addr,Y),n[0]=Y)},function(Q,Y){Q.uniform1fv(this.addr,Y)}),G(35664,function(Q,Y){var n,Y=Y.x!=l3?(n=Y.x,Y.y):(n=Y[0],Y[1]),R=this.cache;R[0]===n&&R[1]===Y||(Q.uniform2f(this.addr,n,Y),R[0]=n,R[1]=Y)},function(Q,Y){Y=n(Y,this.size,2),Q.uniform2fv(this.addr,Y)}),G(35665,function(Q,Y){Y=(Y="string"==typeof Y?WT(Y):Y).x!=l3?(n=Y.x,R=Y.y,Y.z):Y.r!=l3?(n=Y.r,R=Y.g,Y.b):Y.red!=l3?(n=Y.red,R=Y.green,Y.blue):(n=Y[0],R=Y[1],Y[2]);var n,R,g=this.cache;g[0]===n&&g[1]===R&&g[2]===Y||(Q.uniform3f(this.addr,n,R,Y),g[0]=n,g[1]=R,g[2]=Y)},function(Q,Y){Y=n(Y,this.size,3),Q.uniform3fv(this.addr,Y)}),G(35666,function(Q,Y){Y=(Y="string"==typeof Y?WT(Y):Y).x!=l3?(n=Y.x,R=Y.y,g=Y.z,Y.w):Y.r!=l3?(n=Y.r,R=Y.g,g=Y.b,Y.a):Y.red!=l3?(n=Y.red,R=Y.green,g=Y.blue,Y.alpha):(n=Y[0],R=Y[1],g=Y[2],Y[3]==V3?1:Y[3]);var n,R,g,B=this.cache;B[0]===n&&B[1]===R&&B[2]===g&&B[3]===Y||(Q.uniform4f(this.addr,n,R,g,Y),B[0]=n,B[1]=R,B[2]=g,B[3]=Y)},function(Q,Y){Y=n(Y,this.size,4),Q.uniform4fv(this.addr,Y)}),G(5124,function(Q,Y){var n=this.cache;n[0]!==Y&&(Q.uniform1i(this.addr,Y),n[0]=Y)},Y),G(35667,R,R),G(35668,g,g),G(35669,B,B),G(35670,function(Q,Y){var n=this.cache;n[0]!==(Y=L[Y?1:0])&&(Q.uniform1i(this.addr,Y),n[0]=Y)},Y),G(35671,R,R),G(35672,g,g),G(35673,B,B),G(35674,function(Q,Y){var n=e[4];n.set(Y,0),Q.uniformMatrix2fv(this.addr,!1,n)},function(Q,Y){Q.uniformMatrix2fv(this.addr,!1,n(Y,this.size,4))}),G(35675,function(Q,Y){var n=e[9];n.set(Y,0),Q.uniformMatrix3fv(this.addr,!1,n)},function(Q,Y){Q.uniformMatrix3fv(this.addr,!1,n(Y,this.size,9))}),G(35676,function(Q,Y){var n=e[16];n.set(Y,0),Q.uniformMatrix4fv(this.addr,!1,n)},function(Q,Y){Q.uniformMatrix4fv(this.addr,!1,n(Y,this.size,16))}),G(35678,Z,X),G(36306,Z,X),G(35680,function(Q,Y){Q.uniform1i(this.addr,this.slots[0]),Q.activeTexture(33984+this.slots[0]),Q.bindTexture(34067,Y||Q._emptyCubeTexture)},function(Q,Y){Q.uniform1iv(this.addr,this.slots);for(var n=this.slots.length;n--;)Q.activeTexture(33984+this.slots[n]),Q.bindTexture(34067,Y[n]||Q._emptyCubeTexture)});var $=/([\w\d_]+)(\])?(\[|\.)?/g;function M(Q,Y,n,R,g){this.name=Q,this.addr=Y,this.cache=[],this.size=R?n.size:0,this.activeInfo=n,this.setter=x[n.type][R?1:0],this.slots=function(Q,Y,n){switch(Q.type){case 35678:case 35680:case 36306:if("uSampler"===n)return[0];if("uBlendSampler"===n)return[1];for(var R=Q.size,g=new Int32Array(R),B=0;B<R;++B)g[B]=Y.usedTextureSlot++;return g}return l3}(n,g,Q),PQ(this)}function F(Q,Y,n){this.gl=Y,this._program=n,this._leaves={},this._branches={},this._struct=Q}function o(Q,Y){for(var n=Q.getProgramParameter(Y,35718),R={},g={usedTextureSlot:2};n--;){var B=Q.getActiveUniform(Y,n),L=B.name,Z=(z=o=V=u=void 0,B),e=Q.getUniformLocation(Y,L),u=R,X=g,x=Z.name,G=x.length;for($.lastIndex=0;;){var o=$.exec(x),l=$.lastIndex,V=o[1],z="]"===o[2];if(z&&(V|=0),(o=o[3])===l3||"["===o&&l+2===G){u[V]=new M(V,e,Z,o!==l3,X);break}(z=u[V])==l3&&(u[V]=z={}),u=z}}var p=function g(B){var L=[];function Q(Q,Y){F.call(this,B,Q,Y);for(var n=L.length;n--;){var R=L[n];this._branches[R._name]=new R._type(Q,Y)}this.uuid=y.generateUUID()}return du(Q,F),B.forEach(function(Q,Y){var n,R=Q.name;Q.isLeaf?(n=Wu("d.setter(this.gl, v);",["v"],["d"],[Q.desc]),m.defineProperty(Y,R,{configurable:!1,enumerable:!0,get:function(){return n},set:n})):(L.push({_name:R,_type:g(Q)}),m.defineProperty(Y,R,{configurable:!1,enumerable:!0,get:function(){return this._branches[R]},set:function(Q){this._branches[R].apply(Q)}}))},Q.prototype),Q}(iQ.create(R,function(Q){return"addr"in Q}));return m.defineProperty(p.prototype,"textureCount",{configurable:!1,enumerable:!1,writable:!1,value:g.usedTextureSlot}),new p(Q,Y)}return F.prototype.apply=function(Q,Y){for(var n=this._struct.children,R=n.length;R--;){var g,B=n[R],L=B.name,Z=B.desc.activeInfo;if(Y){if((g=Y(Q,L,Z?Z.type:null))===l3)continue}else{if(!(L in Q))continue;g=Q[L]}B.isLeaf?this[L]=g:this._branches[L].apply(g)}},F.prototype.append=function(Q){var Y,n=this._struct.childMap;for(Y in Q){var R=n[Y];R&&(R.isLeaf?this[Y]=Q[Y]:this._branches[Y].append(Q[Y]))}},function(Q,Y){var n=Y._uniforms;return n||(Y._uniforms=n=o(Q,Y)),n}}()),KS=function(){for(var g=[],Q=1;Q<17;++Q)g[Q]=new jg(Q);function Y(Q,Y,n){Y.vertexAttrib1f(Q.addr,n)}function u(Q,Y,n,R){for(var g=n?1:0,B=Y.addr,L=Q._4MQ,Z=0;Z<R;Z++)(L[B+Z]||0)!==g&&(L[B+Z]=g,Q.vertexAttribDivisor(B+Z,g))}var R=[],X="undefined"!=typeof WebGLBuffer&&WebGLBuffer.prototype;function n(Q,L,Z,e){R[Q]=function(Q,Y,n,R,g,B){this.addr==l3||this.addr<0||(Y==l3||!1===Y?e(Q,this.addr):AQ(Y)===X?Z(this,Q,Y,Y.glType,R,g,B):(e(Q,this.addr),L(this,Q,Y)))}}function B(Q,Y){Q.disableVertexAttribArray(Y)}function Z(Q,Y,n){this.name=Q,this.addr=Y,this.activeInfo=n,this.setter=R[n.type],PQ(this)}function e(Q,Y,n){this.gl=Y,this.program=n,this._branches={},this._struct=Q}return n(5125,Y,function(Q,Y,n,R,g,B,L){Y.bindBuffer(34962,n);var Z=Q.addr;Y.enableVertexAttribArray(Z),u(Y,Q,n.instanced,1),Y.vertexAttribIPointer(Z,1,R||5126,B||0,L||0),Y.bindBuffer(34962,null)},B),n(5126,Y,function(Q,Y,n,R,g,B,L){Y.bindBuffer(34962,n);var Z=Q.addr;Y.enableVertexAttribArray(Z),u(Y,Q,n.instanced,1),Y.vertexAttribPointer(Z,1,R||5126,!!g,B||0,L||0),Y.bindBuffer(34962,null)},B),n(35664,function(Q,Y,n){var R;n.x!=l3?Y.vertexAttrib2f(Q.addr,n.x,n.y):((R=g[2]).set(n,0),Y.vertexAttrib2fv(Q.addr,R))},function(Q,Y,n,R,g,B,L){Y.bindBuffer(34962,n);var Z=Q.addr;Y.enableVertexAttribArray(Z),u(Y,Q,n.instanced,1),Y.vertexAttribPointer(Z,2,R||5126,!!g,B||0,L||0),Y.bindBuffer(34962,null)},B),n(35665,function(Q,Y,n){var R;n.x!=l3?Y.vertexAttrib3f(Q.addr,n.x,n.y,n.z):n.r!=l3?Y.vertexAttrib3f(Q.addr,n.r,n.g,n.b):n.red!=l3?Y.vertexAttrib3f(Q.addr,n.red,n.green,n.blue):((R=g[3]).set(n,0),Y.vertexAttrib3fv(Q.addr,R))},function(Q,Y,n,R,g,B,L){Y.bindBuffer(34962,n);var Z=Q.addr;Y.enableVertexAttribArray(Z),u(Y,Q,n.instanced,1),Y.vertexAttribPointer(Z,3,R||5126,!!g,B||0,L||0),Y.bindBuffer(34962,null)},B),n(35666,function(Q,Y,n){var R;(n="string"==typeof n?WT(n):n).x!=l3?Y.vertexAttrib4f(Q.addr,n.x,n.y,n.z,n.w):n.r!=l3?Y.vertexAttrib4f(Q.addr,n.r,n.g,n.b,n.a):n.red!=l3?Y.vertexAttrib4f(Q.addr,n.red,n.green,n.blue,n.alpha):((R=g[4]).set(n,0),Y.vertexAttrib4fv(Q.addr,R))},function(Q,Y,n,R,g,B,L){Y.bindBuffer(34962,n);var Z=Q.addr;Y.enableVertexAttribArray(Z),u(Y,Q,n.instanced,1),Y.vertexAttribPointer(Z,4,R||5126,!!g,B||0,L||0),Y.bindBuffer(34962,null)},B),n(35674,function(Q,Y,n){n=n.el||n;for(var R=0,g=0;R<2;++R)Y.vertexAttrib2f(Q.addr,n[g++],n[g++])},function(Q,Y,n,R,g,B,L){var B=B||16,L=L||0,Z=Q.addr;Y.bindBuffer(34962,n),Y.enableVertexAttribArray(Z),Y.vertexAttribPointer(Z,2,R||5126,!!g,B,L),Y.enableVertexAttribArray(Z+1),Y.vertexAttribPointer(Z+1,2,R||5126,!!g,B,L+8),u(Y,Q,n.instanced,2),Y.bindBuffer(34962,null)},function(Q,Y){Q.disableVertexAttribArray(Y),Q.disableVertexAttribArray(Y+1)}),n(35675,function(Q,Y,n){n=n.el||n;for(var R=0,g=0;R<3;++R)Y.vertexAttrib3f(Q.addr,n[g++],n[g++],n[g++])},function(Q,Y,n,R,g,B,L){var B=B||36,L=L||0,Z=Q.addr;Y.bindBuffer(34962,n);for(var e=0;e<3;e++)Y.enableVertexAttribArray(Z+e),Y.vertexAttribPointer(Z+e,3,R||5126,!!g,B,L+12*e);u(Y,Q,n.instanced,3),Y.bindBuffer(34962,null)},function(Q,Y){Q.disableVertexAttribArray(Y),Q.disableVertexAttribArray(Y+1),Q.disableVertexAttribArray(Y+2)}),n(35676,function(Q,Y,n){n=n.el||n;for(var R=0,g=0;R<4;++R)Y.vertexAttrib4f(Q.addr,n[g++],n[g++],n[g++],n[g++])},function(Q,Y,n,R,g,B,L){var B=B||64,L=L||0,Z=Q.addr;Y.bindBuffer(34962,n);for(var e=0;e<4;e++)Y.enableVertexAttribArray(Z+e),Y.vertexAttribPointer(Z+e,4,R||5126,!!g,B,L+16*e);u(Y,Q,n.instanced,4),Y.bindBuffer(34962,null)},function(Q,Y){Q.disableVertexAttribArray(Y),Q.disableVertexAttribArray(Y+1),Q.disableVertexAttribArray(Y+2),Q.disableVertexAttribArray(Y+3)}),e.prototype.disable=function(){for(var Q=this._struct.children,Y=Q.length;Y--;){var n=Q[Y],R=n.name;n.isLeaf?this[R]=l3:this._branches[R].disable()}},e.prototype.apply=function(Q,Y){for(var n=this._struct.children,R=n.length;R--;){var g,B=n[R],L=B.name;if(Y){if((g=Y(Q,L,B))===l3)continue}else{if(!(L in Q))continue;g=Q[L]}B.isLeaf?this[L]=g:this._branches[L].apply(g)}},e.prototype.append=function(Q){var Y,n=this._struct.childMap;for(Y in Q){var R=n[Y];R&&(R.isLeaf?this[Y]=Q[Y]:this._branches[Y].append(Q[Y]))}},function(Q,Y){var n=Y._attribs;return n||(Y._attribs=n=function(Q,Y){for(var n=Q.getProgramParameter(Y,35721),R={};n--;){var g=Q.getActiveAttrib(Y,n),B=g.name,L=Q.getAttribLocation(Y,B);0<=L&&(R[B]=new Z(B,L,g))}return new(function g(B){var L=[];function Q(Q,Y){e.call(this,B,Q,Y);for(var n=L.length;n--;){var R=L[n];this._branches[R._name]=new R._type(Q,Y)}}return du(Q,e),B.forEach(function(Q,Y){var n,R=Q.name;Q.isLeaf?(n=Wu("d.setter(this.gl, v);",["v"],["d"],[Q.desc]),m.defineProperty(Y,R,{configurable:!1,enumerable:!0,get:function(){return n},set:n})):(L.push({_name:R,_type:g(Q)}),m.defineProperty(Y,R,{configurable:!1,enumerable:!0,get:function(){return this._branches[R]},set:function(Q){this._branches[R].apply(Q)}}))},Q.prototype),Q}(iQ.create(R,function(Q){return"addr"in Q})))(Q,Y)}(Q,Y)),n}}(),a3=function(Q){var Y;m.defineProperties(this,{gl:{configurable:!1,enumerable:!1,value:Q,writable:!1},glState:{configurable:!1,enumerable:!1,value:((Y=(Q=Q)._state)||(Q._state=Y=new hp(Q)),Y),writable:!1}}),this._currProgram=l3,this._currUniforms=l3,this._currAttribs=l3,this._sync=!0},WS=(m.defineProperties(a3.prototype,{program:{configurable:!1,enumerable:!1,get:function(){return this._currProgram},set:function(Q){this._sync&&Q===this._currProgram||(this.gl.useProgram(Q),this._currProgram=Q,this._currUniforms=dS(this.gl,Q),this._currAttribs=KS(this.gl,Q),this._sync=!0)}},uniforms:{configurable:!1,enumerable:!1,get:function(){return this._currProgram&&!this._sync&&(this.gl.useProgram(this._currProgram),this._sync=!0),this._currUniforms},set:function(Q){this._currUniforms&&(this._currProgram&&!this._sync&&(this.gl.useProgram(this._currProgram),this._sync=!0),this._currUniforms.apply(Q))}},attribs:{configurable:!1,enumerable:!1,get:function(){return this._currProgram&&!this._sync&&(this.gl.useProgram(this._currProgram),this._sync=!0),this._currAttribs},set:function(Q){this._currUniforms&&(this._currProgram&&!this._sync&&(this.gl.useProgram(this._currProgram),this._sync=!0),this._currAttribs.apply(Q))}}}),a3.prototype.useProgram=function(Q){this._sync&&Q===this._currProgram||(this.gl.useProgram(Q),this._currProgram=Q,this._currUniforms=dS(this.gl,Q),this._currAttribs=KS(this.gl,Q),this._sync=!0)},a3.prototype.directState=function(){return this.glState},a3.prototype.directUniforms=function(){return this._currUniforms},a3.prototype.directAttribs=function(){return this._currAttribs},a3.prototype.syncLoss=function(){this._sync=!1,this.glState.syncLoss()},a3.for=function(Q){var Y=Q._renderState;return Y||(Q._renderState=Y=new a3(Q)),Y},"light.color"),cS=4294967295,SS=0,yS={},V={},DS=function(Q){return Q=z3.convertShape3dModelName(Q),on(Q)?Q.modelType?Q.uuid?kd[Q.uuid]:l3:Q:kd[Q]},fS=function(Q,Y){var n;if(Q=z3.convertShape3dModelName(Q),on(Q)){if(Q.modelType){if(Q.uuid){if(n=kd[Q.uuid])return Y&&Y(n),n}else Q.uuid=K.Math.generateUUID();return n===l3?(Hs(Q.uuid,Y),lD&&lD[Q.uuid]||MD(Q.uuid,Q),l3):(Y&&Y(n),n)}return Y&&Y(Q),Q}return n=kd[Q],Q&&n===l3&&Hd.test(Q)?(Hs(Q,Y),lD&&lD[Q]||($D(Q,Q),n=kd[Q])):Y&&Y(n),n},QC="undefined"!=typeof WebGLTexture&&WebGLTexture.prototype,YC=function(Q){return Q&&AQ(Q)===QC},nC=function(Q,Y){Q.frameStack?Q.frameStack.push(Y):Q.frameStack=[Y],Q.bindFramebuffer(36160,Y)},RC=function(Q){var Y=Q.frameStack;if(Y){if(Y.pop(),Y.length)return void Q.bindFramebuffer(36160,Y[Y.length-1]);Q.frameStack=null}Q.bindFramebuffer(36160,null)},gC=(In(z3,{graph3dViewAttributes:V3,graph3dViewFirstPersonMode:!1,graph3dViewMouseRoamable:!0,graph3dViewMoveStep:15,graph3dViewRotateStep:b/60,graph3dViewSortable:!1,graph3dViewOpaqueSortable:!1,graph3dViewBlockSelectable:!0,graph3dViewEditHelperDisabled:!1,graph3dViewPannable:!0,graph3dViewRotatable:!0,graph3dViewWalkable:!0,graph3dViewResettable:!0,graph3dViewZoomable:!0,graph3dViewRectSelectable:!0,graph3dViewRectSelectBackground:y3,graph3dViewGridVisible:!1,graph3dViewGridSize:50,graph3dViewGridGap:50,graph3dViewGridColor:[.4,.75,.85,1],graph3dViewRotateMaxPhi:b,graph3dViewRotateMinPhi:0,graph3dViewShadowDisabled:!0,graph3dViewShadowQuality:"high",graph3dViewShadowIntensity:.3,graph3dViewShadowBias:-.005,graph3dViewShadowRadius:.1,graph3dViewShadowType:"hard",graph3dViewShadowDegreeX:30,graph3dViewShadowDegreeZ:-10,graph3dViewShadowCascades:0,graph3dViewShadowCSMLambda:.5,graph3dViewShadowCSMFade:.05,graph3dViewShadowPCSSLightSize:15,graph3dViewShadowPCSSIntensity:1,graph3dViewOriginAxisVisible:!1,graph3dViewCenterAxisVisible:!1,graph3dViewAxisXColor:[1,0,0,1],graph3dViewAxisYColor:[0,1,0,1],graph3dViewAxisZColor:[0,0,1,1],graph3dViewEditSizeColor:[1,1,0,1],graph3dViewOrtho:!1,graph3dViewOrthoWidth:2e3,graph3dViewSyncEyeWithOrthoWidth:!1,graph3dViewFovy:b/4,graph3dViewNear:10,graph3dViewFar:1e4,graph3dViewEye:[0,300,1e3],graph3dViewCenter:[0,0,0],graph3dViewUp:[0,1,-1e-7],graph3dViewAspect:1.2,graph3dViewDataNumWarningLine:1e4,graph3dViewHeadlightDirection:"camera",graph3dViewHeadlightRange:0,graph3dViewHeadlightGroup:0,graph3dViewHeadlightColor:[1,1,1,1],graph3dViewHeadlightIntensity:1,graph3dViewHeadlightDisabled:!1,graph3dViewHeadlightAmbientIntensity:.7,graph3dViewHeadlightRatioForPhysicalMaterial:.5,graph3dViewFogDisabled:!0,graph3dViewFogMode:"linear",graph3dViewFogDensity:5e-4,graph3dViewFogColor:"white",graph3dViewFogNear:1,graph3dViewFogFar:2e3,graph3dViewPickerResolution:.5,graph3dViewDashDisabled:!0,graph3dViewUvClipEnabled:!1,graph3dViewTransmissionEnabled:!0,graph3dViewBatchBlendDisabled:!0,graph3dViewBatchBrightnessDisabled:!0,graph3dViewBatchColorDisabled:!1,graph3dViewBatchInstancedDisabled:!0,graph3dViewBackfaceUsingNormals:!1,graph3dViewFlowBlendMode:"addRGB",graph3dViewEnvmapType:"legacy",graph3dMaxVectorCacheTime:50,graph3dEnvmapCapabilityRequire:8,graph3dMaxHighlightGroups:8,setShape3dModel:function(Q,Y){$3(Y)&&Hd.test(Y)?$D(Q,Y):on(Y)&&Y.modelType?MD(Q,Y):Y===l3?delete kd[Q]:kd[Q]=Y},getShape3dModel:fS,getShape3dModelFromMemory:DS,convertShape3dModelName:function(Q){return Q},getShape3dModelMap:function(){return kd},getCachedShape3dModelMap:function(){return Od},createMatrix:function(Q,Y){for(var n=(Q=M3(Q)?Q:[Q]).length-1;0<=n;n--){var R=Q[n];Y=YQ(R.mat,R.s3,R.r3,R.rotationMode,R.t3,Y)}return Y},transformVec:Kg,glBindFrame:nC,glUnbindFrame:RC,createBoxModel:function(){return{vs:ID,ns:iD,uv:PD,is:AD}},registerAsset3dFormat:function(Q,Y){var n=z3.__htExtraAsset3dPattern;if(n){if(0<=n.indexOf(Q))return!1}else n=z3.__htExtraAsset3dPattern=[];return n.push(Q),n="\\.(json|bin|htb|fbx|gltf|glb|"+n.join("|")+")$",Hd=new RegExp(n,"i"),z3.setModelTypeHandler(Q,Y),!0},ungisterAsset3dFormat:function(Q){var Y=z3.__htExtraAsset3dPattern;if(!Y)return!1;var n=Y.indexOf(Q);return!(n<0)&&(Y.splice(n,1),n="\\.(json|bin|htb|fbx|gltf|glb"+(Y.length?"|":"")+Y.join("|")+")$",Hd=new RegExp(n,"i"),z3.setModelTypeHandler(Q,l3),Y.length||(z3.__htExtraAsset3dPattern=V3),!0)},createRoundRectModel:function(Q,Y){return rD.roundRect(Q,Y)},createStarModel:function(Q,Y){return rD.star(Q,Y)},createRectModel:function(Q,Y){return rD.rect(Q,Y)},createTriangleModel:function(Q,Y){return rD.triangle(Q,Y)},createRightTriangleModel:function(Q,Y){return rD.rightTriangle(Q,Y)},createParallelogramModel:function(Q,Y){return rD.parallelogram(Q,Y)},createTrapezoidModel:function(Q,Y){return rD.trapezoid(Q,Y)},createSmoothSphereModel:function(Q,Y,n,R,g,B,L){return _L(new ns(Q,Y,n,R,g,B,L))},createSphereModel:function(Q,Y,n,R,g,B,L){return Q?bD(Q,Y,n,R,g,B,L):z3.createSmoothSphereModel()},createSmoothConeModel:function(Q,Y,n,R,g){return CD(Q,Y,n,R,g)},createConeModel:function(Q,Y,n,R,g,B,L,Z){return Q?wD(Q,Y,n,R,g,B,L,Z):CD(B)},createSmoothCylinderModel:function(Q,Y,n,R,g,B,L,Z){return _L(new Ys(Q,Y,n,R,g,B,L,Z))},createCylinderModel:function(Q,Y,n,R,g,B,L,Z){return Q?UD(Q,Y,n,R,g,B,L,Z):ND(B,L)},createSmoothTorusModel:function(Q,Y,n,R,g,B){return _L(new Rs(Q,Y,n,R,g,B))},createTorusModel:function(Q,Y,n,R,g,B,L,Z){return Q?OD(Q,Y,n,R,g,B,L,Z):kD(B,L)},createExtrusionModel:function(Q,Y,n,R,g,B,L,Z){return jD(Q,Y,n,R,g,B,L,Z)},createSmoothRingModel:function(Q,Y,n,R,g,B){for(var L=[],Z=0;Z<Q.length-1;Z+=2)L.push({x:Q[Z],y:Q[Z+1]});for(Q=QB(L,Y,n)[0],L=[],Z=0;Z<Q.length;Z++){var e=Q[Z];L.push(new F3(e.x,0,e.y))}return _L(new Ls(L,B,R,g))},createTextGeometry:function(Q,Y){var n=_L(new Zs(Q,Y));if(Y.cube)for(var Y=(Q=function(Q){for(var Y,n,R,g,B,L,Z=M3(Q)?Q:[Q],e=1/0,u=1/0,X=1/0,x=-1/0,G=-1/0,o=-1/0,l=["vs","top_vs","bottom_vs","from_vs","to_vs"],V=0,z=Z.length;V<z;V++)for(L=Z[V],Y=0,n=l.length;Y<n;Y++)if(B=L[l[Y]])for(R=0,g=B.length;R<g;R+=3)e=R3(e,B[R]),u=R3(u,B[R+1]),X=R3(X,B[R+2]),x=n3(x,B[R]),G=n3(G,B[R+1]),o=n3(o,B[R+2]);return Q.boundingBox={min:{x:e,y:u,z:X},max:{x:x,y:G,z:o}}}(n)).min,Q=Q.max,R=Y.x,g=Y.y,B=Y.z,L=Q.x-R||1,Z=Q.y-g||1,e=Q.z-B||1,u=["vs","top_vs","bottom_vs"],X=0,x=u.length;X<x;X++){var G=n[u[X]];if(G)for(var o=0,l=G.length;o<l;o+=3)G[o]=(G[o]-R)/L-.5,G[o+1]=(G[o+1]-g)/Z-.5,G[o+2]=(G[o+2]-B)/e-.5}return n},loadFontFace:function(Q,R){z3.xhrLoad(Q,function(Y){if(!Y)return R();var n;try{n=JSON.parse(Y)}catch(Q){n=JSON.parse(Y.substring(65,Y.length-2))}KL.loadFace(n),R&&R(n.familyName.toLowerCase())},R?null:{sync:!0})},createRingModel:function(Q,C,w,Y,n,R,g,B,L,Z){for(var e=[],u=0;u<Q.length-1;u+=2)e.push({x:Q[u],y:Q[u+1]});R=R||z3.shapeSide,g=g||0,B=B||R;var X,x,G,o,l,V,z,p,$,M,F,v,a,J,I,A,P,i=[],T=[],E=L?[]:V3,_=L?[]:V3,b=Z?[]:V3,k=Z?[]:V3,O=Y?[]:V3,j=Y?[]:V3,r=n?[]:V3,H=n?[]:V3,Q=QB(e,C,w),s=tn(Q),N=0,U=2*Math.PI/R;return Q.forEach(function(Q){if(1<(G=Q.length)){if(o=Q[0],Y)for(V=o.x,p=o.y,u=g;u<B;u++)a=(F=u+1)*U,J=p3(v=u*U),I=G3(v),A=p3(a),P=G3(a),O.push(J*V,p,-I*V,A*V,p,-P*V,0,p,0),j.push(.5-.5*J,.5-.5*I,.5-.5*A,.5-.5*P,.5,.5);for(M=0;M<G;M++){for(l=Q[M],V=o.x,z=l.x,p=o.y,$=l.y,X=N/s,N+=zg(o,l),x=N/s,u=g;u<B;u++)a=(F=u+1)*U,J=p3(v=u*U),I=G3(v),A=p3(a),P=G3(a),i.push(J*z,$,-I*z,A*z,$,-P*z,J*V,p,-I*V,A*z,$,-P*z,A*V,p,-P*V,J*V,p,-I*V),T.push(u/R,x,F/R,x,u/R,X,F/R,x,F/R,X,u/R,X),L&&u===g&&(E.push(0,p,0,0,$,0,J*z,$,-I*z,J*z,$,-I*z,J*V,p,-I*V,0,p,0),_.push(0,.5-p,0,.5-$,2*z,.5-$,2*z,.5-$,2*V,.5-p,0,.5-p)),Z&&F===B&&(b.push(0,p,0,A*z,$,-P*z,0,$,0,A*z,$,-P*z,0,p,0,A*V,p,-P*V),k.push(1,.5-p,1-2*z,.5-$,1,.5-$,1-2*z,.5-$,1,.5-p,1-2*V,.5-p));o=l}if(n)for(V=o.x,p=o.y,u=g;u<B;u++)a=(F=u+1)*U,J=p3(v=u*U),I=G3(v),A=p3(a),P=G3(a),r.push(A*V,p,-P*V,J*V,p,-I*V,0,p,0),H.push(.5-.5*A,.5+.5*P,.5-.5*J,.5+.5*I,.5,.5)}}),{vs:i,uv:T,bottom_vs:r,bottom_uv:H,top_vs:O,top_uv:j,from_vs:E,from_uv:_,to_vs:b,to_uv:k}},generateGLBufferID:function(){return y.generateIncreasingID()},getDataModel3dBindings:function(Q){if(Q instanceof sQ)return Q.s("model3dBindings")||Q.getAttrObject()},completeModel3dAnimation:function(Q,Y,n,R){tp={};var g,B,L,Z=Q=0<=(L=(Q=0<=(L=Math.max(Q.lastIndexOf("\\"),Q.lastIndexOf("/")))?Q.slice(L+1):Q).lastIndexOf("."))?Q.slice(0,L):Q,e=Y.animations;if(e)for(V=0,z=e.length;V<z;V++)(G=e[V]).duration&&G.tracks&&G.tracks.length?(G.sources=[],G.sourceShortName=Z,of(e,G,n)):G._toBeRemoved=!0;if(R&&R.length)for(e=e||(Y.animations=[]),V=0,z=R?R.length:0;V<z;V++){var u,X=R[V];if(X&&(u=X.animations)&&u.length)for(g=0,B=u.length;g<B;g++){var x=m.assign({},u[g]);x.sources?(x.sources=x.sources.slice(0),x.sources.splice(0,0,V)):x.sources=[V],of(e,x,n),e.push(x)}}for(var G,o=[],l=[],V=0,z=e.length;V<z;V++)(G=e[V])._toBeRemoved?l.push(G.rawName||G.name):o.push(G);return o.length!==e.length&&(Y.animations=o),l.length&&(Y.invalidAnimationNames=l),Y}},!0),In(J3,{"3d.move.mode":l3,"3d.selectable":!0,"3d.visible":!0,"3d.movable":!0,"3d.editable":!0,"3d.clip.direction":null,"3d.clip.percentage":1,"3d.reflectable":!0,"shape.border.gradient.color":l3,"edge.gradient.color":l3,"edge.source.t3":l3,"edge.target.t3":l3,"light.type":"point","light.group":0,"light.center":[0,0,0],"light.color":[1,1,1,1],"light.disabled":!1,"light.angle":b/4,"light.range":0,"light.exponent":1,"light.intensity":1,"light.rotation.enable":!1,"light.size":[100,100],"light.specular.disable":!1,"light.mask":cS,"headlight.ambientIntensity":l3,"wf.visible":!1,"wf.width":1,"wf.fog":!0,"wf.group":0,"wf.color":hB,"wf.short":!1,"wf.mat":l3,"wf.boundingBox":!1,"wf.material":null,"wf.geometry":!1,"wf.loadQuadWireframe":!1,"wf.combineTriangle":!0,"wf.normEpsilon":l3,batch:l3,static:l3,"static.group":0,"transparent.mask":!1,"transparent.separate":!1,brightness:l3,"select.brightness":.7,"repeat.uv.length":l3,"rotate.uv.length":l3,"rotate.vs.length":l3,"shadow.cast":!0,"shadow.receive":!0,"3d.clipbox":l3,"3d.clipbox.mask":cS,"3d.clipbox.group":0,"3d.clipbox.shape":"cube","effect.flow":!1,"effect.flow.gradient":"spread.horizontal","effect.flow.uvshape":"rect","effect.flow.size":512,"effect.flow.infinite":!1,"effect.flow.group":0,"effect.flow.intensity":1,"effect.flow.blend":l3,"effect.flow.mask":cS,bloom:!1,envmap:0,"envmap.probe":0,roughness:0,renderTextureSamples:4,alphaTest:.4,autorotate:!1,fixSizeOnScreen:!1,"texture.cache":!1,"texture.width":l3,"hide.overlapping.group":l3,"vector.dynamic":!1,"vector.dynamic.maxsize":2048,"texture.scale":1,"geometry.cache":!1,"highlight.group":0,"highlight.mode":!1,"highlight.type":"hard","highlight.visible":!0,"highlight.width":.8,"highlight.color":"rgba(190, 210, 250, 1)","highlight.glow":.8,"highlight.strength":2,"color.empty":[0,0,0,0],matDef:l3,"shape3d.material":l3,"shape3d.top.material":l3,"shape3d.bottom.material":l3,"shape3d.from.material":l3,"shape3d.to.material":l3,"label.face":RR,"label.t3":l3,"label.r3":l3,"label.texture.scale":2,"label.rotationMode":os,"label.light":!1,"label.blend":l3,"label.reverse.flip":!1,"label.reverse.color":bB,"label.reverse.cull":!1,"label.transparent":!1,"label.autorotate":!1,"label2.face":RR,"label2.t3":l3,"label2.r3":l3,"label2.texture.scale":2,"label2.rotationMode":os,"label2.light":!1,"label2.blend":l3,"label2.reverse.flip":!1,"label2.reverse.color":bB,"label2.reverse.cull":!1,"label2.transparent":!1,"label2.autorotate":!1,"note.face":RR,"note.t3":l3,"note.r3":l3,"note.texture.scale":2,"note.rotationMode":os,"note.light":!1,"note.blend":l3,"note.reverse.flip":!1,"note.reverse.color":bB,"note.reverse.cull":!1,"note.transparent":!1,"note.autorotate":!1,"note2.face":RR,"note2.t3":l3,"note2.r3":l3,"note2.texture.scale":2,"note2.rotationMode":os,"note2.light":!1,"note2.blend":l3,"note2.reverse.flip":!1,"note2.reverse.color":bB,"note2.reverse.cull":!1,"note2.transparent":!1,"note2.autorotate":!1,"part.boundingBox":!1,shape3d:l3,"shape3d.color":l,"shape3d.top.color":l3,"shape3d.bottom.color":l3,"shape3d.from.color":l3,"shape3d.to.color":l3,"shape3d.image":l3,"shape3d.image.projection":l3,"shape3d.top.image":l3,"shape3d.bottom.image":l3,"shape3d.from.image":l3,"shape3d.to.image":l3,"shape3d.light":!0,"shape3d.side":0,"shape3d.side.from":l3,"shape3d.side.to":l3,"shape3d.smooth":l3,"shape3d.visible":!0,"shape3d.from.visible":!0,"shape3d.to.visible":!0,"shape3d.top.visible":!0,"shape3d.bottom.visible":!0,"shape3d.torus.radius":.17,"shape3d.resolution":0,"shape3d.blend":l3,"shape3d.opacity":l3,"shape3d.reverse.flip":!1,"shape3d.reverse.color":bB,"shape3d.reverse.cull":!1,"shape3d.transparent":!1,"shape3d.uv.offset":l3,"shape3d.uv.scale":l3,"shape3d.uv.rotation":l3,"shape3d.uv.anchor":l3,"shape3d.uv.union":l3,"shape3d.top.uv.offset":l3,"shape3d.top.uv.scale":l3,"shape3d.top.uv.rotation":l3,"shape3d.top.uv.anchor":l3,"shape3d.bottom.uv.offset":l3,"shape3d.bottom.uv.scale":l3,"shape3d.bottom.uv.rotation":l3,"shape3d.bottom.uv.anchor":l3,"shape3d.from.uv.offset":l3,"shape3d.from.uv.scale":l3,"shape3d.from.uv.rotation":l3,"shape3d.from.uv.anchor":l3,"shape3d.to.uv.offset":l3,"shape3d.to.uv.scale":l3,"shape3d.to.uv.rotation":l3,"shape3d.to.uv.anchor":l3,"shape3d.top.cap":l3,"shape3d.bottom.cap":l3,"shape3d.start.angle":0,"shape3d.sweep.angle":o3,"shape3d.point.epsilon":1e-6,"shape3d.discard.selectable":!0,"shape3d.top.discard.selectable":!0,"shape3d.bottom.discard.selectable":!0,"shape3d.from.discard.selectable":!0,"shape3d.to.discard.selectable":!0,"shape3d.scaleable":!0,"shape3d.transmission":!1,"shape3d.section":l3,"shape3d.section.angle":0,"shape3d.section.twist":0,"shape3d.polyline.depth":1,"shape3d.polyline.offset":0,"shape3d.polyline.radiusScale":1,"shape3d.polyline.scaleOffset":0,"shape3d.polyline.scaleMap":l3,"shape3d.reflector":!1,"shape3d.reflector.color":"rgb(128,128,128)","shape3d.reflector.blur":0,"shape3d.reflector.blur.iterations":1,"shape3d.reflector.background":null,"shape3d.reflector.clip":.003,"shape3d.reflector.shadow":"scene","shape3d.reflector.visible":!0,"shape3d.reflector.ratio":1,"shape3d.reflector.normal":l3,"shape3d.reflector.normal.threshold":Math.PI,"shape3d.reflector.position":l3,"shape3d.reflector.immediate":!0,"camera.type":"perspective","camera.aspect":l3,"camera.aspect.sync":!1,"camera.fovy":l3,"camera.ortho.width":l3,"camera.near":l3,"camera.far":l3,"camera.background":0,"camera.clear":!0,"camera.renderSky":!0,"camera.renderShadowMap":!0,"camera.renderAxis":!1,"camera.renderGrid":!1,"camera.renderEdit":!1,"camera.onlySky":!1,"camera.skybox.blur":l3,"skybox.blur.size":0,"skybox.blur.resolution":0,"texture.mipmap.max":l3,"texture.filter":l3,"texture.filter.min":l3,"texture.filter.mag":l3,"texture.wrap":l3,"texture.flipY":!1,"points.image":"rect","points.color":"white","points.transparent":!1,"points.size":20,"points.opacity":1,"points.uv.scale":[1,1],"points.uv.offset":[0,0],"points.discard.selectable":!1,"points.model":l3,"splat.render.mode":"splat","splat.scale":1,"splat.opacity.scale":1,"splat.blend":l3,"splat.blend.mode":"add","splat.sh":!0,"splat.sh2":!0,"splat.sh3":!0,"splat.sh.only":!1,"splat.lod.level.factor":1.5,"splat.lod.hysteresis":.1,"splat.lod.merge":l3,"splat.sort.sync":!1,"all.light":!0,"all.visible":!0,"all.color":l,"all.image":l3,"all.blend":l3,"all.opacity":l3,"all.reverse.flip":!1,"all.reverse.color":bB,"all.reverse.cull":!1,"all.transparent":!1,"all.uv":l3,"all.uv.offset":l3,"all.uv.scale":l3,"all.uv.rotation":l3,"all.uv.anchor":l3,"all.uv.union":l3,"all.discard.selectable":!0,"all.material":l3,mat:l3,"left.mat":l3,"right.mat":l3,"top.mat":l3,"bottom.mat":l3,"front.mat":l3,"back.mat":l3,"edge.source.anchor.elevation":l3,"edge.target.anchor.elevation":l3,"edge.source.offset.elevation":0,"edge.target.offset.elevation":0,"3d.bone.visible":!1},!0),[0,0,0,0]),BC=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],LC=function(Q){return Q instanceof A1},ZC=function(Q){return[Q.x,Q.e||0,Q.y]},eC=function(Q,Y,n){for(var R=(Y=WT(Y||0))[0],g=Y[1],B=Y[2];n--;)Q.push(R,g,B)},uC=function(Q,Y,n){for(var R=(Y=WT(Y||0))[0],g=Y[1],B=Y[2],L=Y[3];n--;)Q.push(R,g,B,L)},XC=function(Q,Y,n){if(Y)for(var R,g,B,L=Y[0],Z=Y[1],e=Y[2],u=Y[4],X=Y[5],x=Y[6],G=Y[8],o=Y[9],l=Y[10],V=Y[12],z=Y[13],p=Y[14],$=n.length,M=0,M=0;M<$;M+=3)R=n[M],g=n[M+1],B=n[M+2],Q.push(L*R+u*g+G*B+V,Z*R+X*g+o*B+z,e*R+x*g+l*B+p);else an(Q,n);return Q},xC=function(Q,Y,n){var R=Y.s("light.intensity"),g=(L=WT(Y.s(WS)))[0],B=L[1],L=L[2],R=(1!==R&&(g*=R,B*=R,L*=R),Y.s("light.disabled"));Q.push(g,B,L,R?1:0),n.c.push(g,B,L),n.g.push(R?-1:Y.s("light.group")),n.e.push(R?1:0)},GC=(V0=new F3,z0=new p2,function(Q,Y){return V0.copy(Q).applyEuler(Y.getEuler(z0)),[V0.x,V0.y,V0.z]}),oC=function(Y,Q){var n,R,g,B,L,Z,e,u,X,x,G,o=Y._lastLightUploadInfo={c:[],g:[],e:[]},l=((l=Y._headlightDirection)&&3===l.length?V=l:"shadow"===l&&(V=Y.shadowMap.getDirection()),V=V?F3.normalizeArray(Y._transformDirectionToViewSpace(null,V)):[0,0,0],Q.uHeadlightDirection=V,Q.uHeadlightRange=Y._headlightRange,Q.uHeadlightAmbientIntensity=Y._headlightAmbientIntensity),V=Y._headlightIntensity,z=WT(Y._headlightColor),z=(1!==V&&(z=[z[0]*V,z[1]*V,z[2]*V]),Q.uHeadlightColor=o.headlightColor=[z[0],z[1],z[2],(V=Y._headlightDisabled)?1:0],o.c.push(z[0],z[1],z[2]),o.g.push(V?-1:Y._headlightGroup),o.e.push(V?1:0),Y._59O),V=Y._spots,p=Y._dirs,$=Y._87I;z.length&&(n=[],R=[],g=[],z.forEach(function(Q){xC(n,Q,o),an(R,Y._transformPointToViewSpace(Q.p3())),g.push(Q.s("light.range"))}),Q.uPointColor=n,Q.uPointRange=g,Q.uPointPosition=R),V.length&&(B=[],L=[],Z=[],e=[],u=[],X=[],V.forEach(function(Q){xC(B,Q,o),an(L,Y._transformPointToViewSpace(Q.p3())),Q.s("light.rotation.enable")?an(u,Y._transformDirectionToViewSpace(null,GC([0,0,1],Q))):an(u,Y._transformDirectionToViewSpace(Q.p3(),Q.s("light.center"))),Z.push(Q.s("light.range")),e.push(p3(Q.s("light.angle")/2)),X.push(Q.s("light.exponent"))}),Q.uSpotColor=B,Q.uSpotRange=Z,Q.uSpotAngle=e,Q.uSpotExponent=X,Q.uSpotPosition=L,Q.uSpotDirection=u),p.length&&(x=[],G=[],p.forEach(function(Q){xC(x,Q,o),Q.s("light.rotation.enable")?an(G,Y._transformDirectionToViewSpace(null,GC([0,0,1],Q))):an(G,Y._transformDirectionToViewSpace(Q.p3()))}),Q.uDirColor=x,Q.uDirDirection=G),$.length&&$.forEach(function(Q){xC([],Q,o)}),Q._lastLightMask=cS,Q._lastHeadlightAmbientIntensity=l},lC=function(Q,Y,n,R){if((R=R===l3?Q._headlightAmbientIntensity:R)!==Y._lastHeadlightAmbientIntensity&&(Y.uHeadlightAmbientIntensity=Y._lastHeadlightAmbientIntensity=R),n!==Y._lastLightMask&&(Y._lastLightMask=n,R=Q._lastLightUploadInfo)){for(var g,B=R.g,L=R.e,Z=B.length,e=new Array(Z),u=!1,X=0;X<Z;X++)g=B[X],(e[X]=!(g<0||32<=g)&&n&1<<g?0:1)!==L[X]&&(u=!0);if(u){R.e=L=e;var x,G=R.c,R=(Y.uHeadlightColor=[G[0],G[1],G[2],L[0]],Q._59O),o=Q._spots,Q=Q._dirs,l=3,V=1;if(Z=R.length){for(X=0,x=[];X<Z;X++)x.push(G[l++],G[l++],G[l++],L[V++]);Y.uPointColor=x}if(Z=o.length){for(X=0,x=[];X<Z;X++)x.push(G[l++],G[l++],G[l++],L[V++]);Y.uSpotColor=x}if(Z=Q.length){for(X=0,x=[];X<Z;X++)x.push(G[l++],G[l++],G[l++],L[V++]);Y.uDirColor=x}}}},VC=function(Q,Y){return Math.max(Q.getRotateMinPhi()+Ug,Math.min(Q.getRotateMaxPhi()-Ug,Y))},zC=function(){return.05+j3()/2},pC=function(Q,Y,n,R){var g=Q.getEye(),Q=(Q.isOrtho()?((B=Hg(Q.getCenter(),g))[0]+=R[0],B[1]+=R[1],B[2]+=R[2]):B=g,Y),g=n,Y=R,n=B,R=hg(Q,g),B=Hg(n,Y,!0),Q=hg(B,g);return b3(Q)<Ug?V3:(n=(R-hg(Y,g))/Q,[Y[0]+B[0]*n,Y[1]+B[1]*n,Y[2]+B[2]*n])},$C=function(Q,Y){return{x:2*Q.x-Y.x,y:2*Q.y-Y.y}},MC=function(Q,Y,n,R){if(!Q)return B=w3(Y.y-n.y,n.x-Y.x),{x:Y.x+R*G3(B),y:Y.y+R*p3(B)};if(!n)return B=w3(Q.y-Y.y,Y.x-Q.x),{x:Y.x+R*G3(B),y:Y.y+R*p3(B)};var g,B,L,Z,e=Hg([Q.x,Q.y,0],[Y.x,Y.y,0],!0),u=Hg([n.x,n.y,0],[Y.x,Y.y,0],!0),X=-(e[0]+u[0])/2,x=-(e[1]+u[1])/2,G=_3(X*X+x*x);return G<Ug?(B=w3(Q.y-Y.y,Y.x-Q.x),{x:Y.x+R*G3(B),y:Y.y+R*p3(B)}):(g=Q.x-Y.x,Q=Q.y-Y.y,L=n.x-Y.x,Z=n.y-Y.y,g=_3(g*g+Q*Q),Q=_3(L*L+Z*Z),B=k3(hg(e,u))/2,L=0<e[1]*u[0]-e[0]*u[1]?-1:1,X/=G,x/=G,Z=R/G3(B),e=n3(g,Q)/p3(B),G=Math.min(Z,e),u={x:Y.x+L*G*X,y:Y.y+L*G*x},n.b&&Z>Q/p3(B)&&(u.adjust=!0),u)},FC=function(Q){var Y=Q[0],n=Q[1],R=Q[2],g=Q[3],B=Q[4],L=Q[5],Z=Q[6],e=Q[7],u=Q[8],X=Q[9],x=Q[10],G=Q[11],o=Q[12],l=Q[13],V=Q[14],z=Q[15],p=Y*L-n*B,$=Y*Z-R*B,M=Y*e-g*B,F=n*Z-R*L,v=n*e-g*L,a=R*e-g*Z,J=u*l-X*o,I=u*V-x*o,A=u*z-G*o,P=X*V-x*l,i=X*z-G*l,T=x*z-G*V,E=p*T-$*i+M*P+F*A-v*I+a*J;return E?(Q[0]=(L*T-Z*i+e*P)*(E=1/E),Q[1]=(R*i-n*T-g*P)*E,Q[2]=(l*a-V*v+z*F)*E,Q[3]=(x*v-X*a-G*F)*E,Q[4]=(Z*A-B*T-e*I)*E,Q[5]=(Y*T-R*A+g*I)*E,Q[6]=(V*M-o*a-z*$)*E,Q[7]=(u*a-x*M+G*$)*E,Q[8]=(B*i-L*A+e*J)*E,Q[9]=(n*A-Y*i-g*J)*E,Q[10]=(o*v-l*M+z*p)*E,Q[11]=(X*M-u*v-G*p)*E,Q[12]=(L*I-B*P-Z*J)*E,Q[13]=(Y*P-n*I+R*J)*E,Q[14]=(l*$-o*F-V*p)*E,Q[15]=(u*F-X*$+x*p)*E,Q):V3},vC=function(Q,Y){var n,R;return Y&&(n=Y[0],R=Y[1],Y=Y[2],Q[12]=Q[0]*n+Q[4]*R+Q[8]*Y+Q[12],Q[13]=Q[1]*n+Q[5]*R+Q[9]*Y+Q[13],Q[14]=Q[2]*n+Q[6]*R+Q[10]*Y+Q[14],Q[15]=Q[3]*n+Q[7]*R+Q[11]*Y+Q[15]),Q},aC=function(Q,Y){var n,R;return Y&&(n=Y[0],R=Y[1],Y=Y[2],Q[0]=Q[0]*n,Q[1]=Q[1]*n,Q[2]=Q[2]*n,Q[3]=Q[3]*n,Q[4]=Q[4]*R,Q[5]=Q[5]*R,Q[6]=Q[6]*R,Q[7]=Q[7]*R,Q[8]=Q[8]*Y,Q[9]=Q[9]*Y,Q[10]=Q[10]*Y,Q[11]=Q[11]*Y),Q},JC=function(Q,Y,n){var R=Y[0],g=Y[1],B=Y[2],L=Y[3],Z=Y[4],e=Y[5],u=Y[6],X=Y[7],x=Y[8],G=Y[9],o=Y[10],l=Y[11],V=Y[12],z=Y[13],p=Y[14],Y=Y[15],$=n[0],M=n[1],F=n[2],v=n[3];return Q[0]=$*R+M*Z+F*x+v*V,Q[1]=$*g+M*e+F*G+v*z,Q[2]=$*B+M*u+F*o+v*p,Q[3]=$*L+M*X+F*l+v*Y,$=n[4],M=n[5],F=n[6],v=n[7],Q[4]=$*R+M*Z+F*x+v*V,Q[5]=$*g+M*e+F*G+v*z,Q[6]=$*B+M*u+F*o+v*p,Q[7]=$*L+M*X+F*l+v*Y,$=n[8],M=n[9],F=n[10],v=n[11],Q[8]=$*R+M*Z+F*x+v*V,Q[9]=$*g+M*e+F*G+v*z,Q[10]=$*B+M*u+F*o+v*p,Q[11]=$*L+M*X+F*l+v*Y,$=n[12],M=n[13],F=n[14],v=n[15],Q[12]=$*R+M*Z+F*x+v*V,Q[13]=$*g+M*e+F*G+v*z,Q[14]=$*B+M*u+F*o+v*p,Q[15]=$*L+M*X+F*l+v*Y,Q},IC=function(Q,Y,n,R){var g,B,L,Z,e=Y[0],u=Y[1],Y=Y[2],X=R[0],x=R[1],R=R[2],G=n[0],o=n[1],n=n[2];return b3(e-G)<Ug&&b3(u-o)<Ug&&b3(Y-n)<Ug?dg(Q):(Z=1/_3((G=e-G)*G+(o=u-o)*o+(n=Y-n)*n),(Z=_3((g=x*(n*=Z)-R*(o*=Z))*g+(R=R*(G*=Z)-X*n)*R+(X=X*o-x*G)*X))?(g*=Z=1/Z,R*=Z,X*=Z):X=R=g=0,(Z=_3((x=o*X-n*R)*x+(B=n*g-G*X)*B+(L=G*R-o*g)*L))?(x*=Z=1/Z,B*=Z,L*=Z):L=B=x=0,Q[0]=g,Q[1]=x,Q[2]=G,Q[3]=0,Q[4]=R,Q[5]=B,Q[6]=o,Q[7]=0,Q[8]=X,Q[9]=L,Q[10]=n,Q[11]=0,Q[12]=-(g*e+R*u+X*Y),Q[13]=-(x*e+B*u+L*Y),Q[14]=-(G*e+o*u+n*Y),Q[15]=1,Q)},AC=function(Q,Y,n,R,g){var Y=1/C3(Y/2),B=1/(R-g);return Q[0]=Y/n,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=0,Q[5]=Y,Q[6]=0,Q[7]=0,Q[8]=0,Q[9]=0,Q[10]=(g+R)*B,Q[11]=-1,Q[12]=0,Q[13]=0,Q[14]=2*g*R*B,Q[15]=0,Q},PC=function(Q,Y,n,R,g,B,L){var Z=1/(Y-n),e=1/(R-g),u=1/(B-L);return Q[0]=-2*Z,Q[1]=0,Q[2]=0,Q[3]=0,Q[4]=0,Q[5]=-2*e,Q[6]=0,Q[7]=0,Q[8]=0,Q[9]=0,Q[10]=2*u,Q[11]=0,Q[12]=(Y+n)*Z,Q[13]=(g+R)*e,Q[14]=(L+B)*u,Q[15]=1,Q},iC=function(Q,Y){var n=Y[0],R=Y[1],g=Y[2],B=(B=n*n+R*R+g*g+(Y=Y[3])*Y)?1/B:0;return Q[0]=-n*B,Q[1]=-R*B,Q[2]=-g*B,Q[3]=Y*B,Q},TC=function(Q,Y){var n=Y[0]+Y[5]+Y[10],R=0;return 0<n?(R=2*Math.sqrt(n+1),Q[3]=.25*R,Q[0]=(Y[6]-Y[9])/R,Q[1]=(Y[8]-Y[2])/R,Q[2]=(Y[1]-Y[4])/R):Y[0]>Y[5]&Y[0]>Y[10]?(R=2*Math.sqrt(1+Y[0]-Y[5]-Y[10]),Q[3]=(Y[6]-Y[9])/R,Q[0]=.25*R,Q[1]=(Y[1]+Y[4])/R,Q[2]=(Y[8]+Y[2])/R):Y[5]>Y[10]?(R=2*Math.sqrt(1+Y[5]-Y[0]-Y[10]),Q[3]=(Y[8]-Y[2])/R,Q[0]=(Y[1]+Y[4])/R,Q[1]=.25*R,Q[2]=(Y[6]+Y[9])/R):(R=2*Math.sqrt(1+Y[10]-Y[0]-Y[5]),Q[3]=(Y[1]-Y[4])/R,Q[0]=(Y[8]+Y[2])/R,Q[1]=(Y[6]+Y[9])/R,Q[2]=.25*R),Q},EC=function(Q,Y,n){var R=Y[0],g=Y[1],B=Y[2],L=B+B,Z=R*(X=R+R),e=R*(x=g+g),R=R*L,u=g*x,g=g*L,X=(Y=Y[3])*X,x=Y*x,Y=Y*L;return Q[0]=1-(u+(B=B*L)),Q[1]=e+Y,Q[2]=R-x,Q[3]=0,Q[4]=e-Y,Q[5]=1-(Z+B),Q[6]=g+X,Q[7]=0,Q[8]=R+x,Q[9]=g-X,Q[10]=1-(Z+u),Q[11]=0,Q[12]=n[0],Q[13]=n[1],Q[14]=n[2],Q[15]=1,Q},_C=function(Q,Y){var n=Q.getPresentingReality();return(n=n&&n.getViewMatrix(Y))?n:Q._camera?Q._camera.getViewMatrix(Y):IC(Y||tg(),Q._eye,Q._center,Q._up)},bC=function(Q,Y){var n=Q.getPresentingReality();if(n=n&&n.getProjectMatrix())return n;if(Q._camera)return Q._camera.getProjectMatrix();if(!Y&&Q._computedProjectMatrix)return qg(Q._computedProjectMatrix);var R,n=Q.getAspect(),Y=Q._near,g=Q._far,B=tg();return Q._ortho?(R=Q._orthoWidth/2,PC(B,-R,R,-(R/=n),R,Y,g)):AC(B,Q._fovy,n,Y,g),B},kC=function(Q,Y){if(!Q)return V3;for(var n,R,g,B,L,Z,e,u,X,x=Q.length,G=x/3,o=new jg(Q.length),l=0,V=Y?Y.length:G;l<V;l+=3)X=Y?(e=3*Y[l],u=3*Y[l+1],3*Y[l+2]):(e=3*l,u=3*(l+1),3*(l+2)),n=Q[u+0]-Q[e+0],R=Q[u+1]-Q[e+1],g=Q[u+2]-Q[e+2],B=Q[0+X]-Q[u+0],L=Q[1+X]-Q[u+1],p=g*B-n*(Z=Q[2+X]-Q[u+2]),$=n*L-R*B,o[e+0]+=z=R*Z-g*L,o[e+1]+=p,o[e+2]+=$,o[u+0]+=z,o[u+1]+=p,o[u+2]+=$,o[0+X]+=z,o[1+X]+=p,o[2+X]+=$;for(l=0;l<x;l+=3){var z=o[l],p=o[l+1],$=o[l+2],M=_3(z*z+p*p+$*$);0===M&&(M=Ug),o[l]=z*(M=1/M),o[l+1]=p*M,o[l+2]=$*M}return o},OC=function(Q,Y,n,R,g){return R=R||Y.createTexture(),n&&(g?(Y=g.image,g.image=n,Q.createTexture(g,R),g.image=Y):Q.createTexture({image:n},R)),R},NC=function(Q,Y,n){return n=new Uint8Array(n||4),Y=Y||Q.createTexture(),Q.activeTexture(33984),CC(Q,Y),wC(Q,10241,9729),Q.texImage2D(3553,0,6408,1,1,0,6408,5121,n),Y},UC=function(Q){return Q.createBuffer()},CC=function(Q,Y){Q.bindTexture(3553,Y||Q._emptyTexture)},wC=function(Q,Y,n){Q.texParameteri(3553,Y,n)},jC=function(Q,Y){(Q=a3.for(Q).directState()).polygonOffset.enabled=!0,Q.polygonOffset.value=Y},rC=function(Q){a3.for(Q).directState().polygonOffset.enabled=!1},HC=function(Q,Y){return Q=a3.for(Q).directState().color.clear,Y&&Q?Q.slice(0):Q},sC=function(Q,Y){Y&&(a3.for(Q).directState().color.clear=WT(Y))},hC=function(Q){if(Q){var Y=Q.getGL();if(Y)for(var n=1,R=arguments.length;n<R;n++){var g=arguments[n];if(M3(g))for(var B=0,L=g.length;B<L;B++)zf(Y,g[B]);else zf(Y,g)}}},tC=function(Q,Y,n){var R=Q._boxClipperGroups,g=R?R.length:0;if(g){if(Y._lastClipboxVersion!==Q._boxClipperVersion)Y._lastClipboxVersion=Q._boxClipperVersion;else if(n===Y._lastClipboxEnabled)return;var B=Q._boxClipperShapes,L=new Array(g);if(n)for(var Z=0;Z<g;Z++)L[Z]=n&1<<R[Z]?B[Z]:0;Y._lastClipboxEnabled=n,Y.uClipperShape=L}},mC=function(Q){var Y=(Q=a3.for(Q)).directUniforms(),Q=Q.directAttribs();Y.uFix=!0,Q.aNormal=!1},qC=function(Q){a3.for(Q).directUniforms().uFix=!1},dC=function(Q,Y,n,R,g,B,L){var Z=(e=a3.for(Q)).directState(),e=e.directUniforms();Q._picking||(Y?(e.uBlend=!0,e.uBlendColor=Y):e.uBlend=!1,e.uLight=e.uFog=n==V3||n,xn(R)&&1!==R&&(e.uPartOpacity=R),e.uReverseFlip=g!=V3&&g,e.uFixPickReverseColor=B||bB),Z.cullFace.enabled=!!L},KC=function(Q){Q._picking||(a3.for(Q).directUniforms().uPartOpacity=1)},WC=(l0=[1,0,0,0,1,0,0,0,0],function(Q,Y,n,R,g,B,L,Z,e,u){var X=(x=a3.for(Q)).directUniforms(),x=x.directAttribs();if(!Y)return X.uSampler=Q._emptyTexture,void(X.uBlendSampler=Q._emptyBlendTexture);X.uTexture=!0,X.uDiscardSelectable=!Gn(n)||n,x.aUv=gm(Q,R,g,V3,2),u?(X.uBlendTexture=!0,X.uBlendSampler=u):(X.uBlendTexture=!1,X.uBlendSampler=Q._emptyBlendTexture),X.uSampler=Y,X.uUvMatrix=B||L||Z||e?im(Z,B,L,e):l0}),cC=function(Q,Y){var n=(R=a3.for(Q)).directUniforms(),R=R.directAttribs();Q.activeTexture(33984),CC(Q,V3),Q.activeTexture(33985),CC(Q,V3),Y&&(R.aUv=!1,n.uTexture=!1,n.uSampler=Q._emptyTexture,n.uBlendTexture=!1,n.uBlendSampler=Q._emptyBlendTexture)},SC=function(Q,Y,n,R){var g=Y.getBrightness(n),B=n.s("alphaTest"),L=a3.for(Q),Z=L.directUniforms(),e=Y._picking,u=!0;return g!=V3&&1!==g&&(Z.uBrightness=g),Z.uAlphaTest=B,Z.shadowReceive=!e&&n.s("shadow.receive"),Z.shadowCull=!e&&!!n.s("shadow.cull"),tC(Y,Z,n.s("3d.clipbox")?SS:n.s("3d.clipbox.mask")),(g=n.s("3d.clip.direction"))?(0===(B=n.s("3d.clip.percentage"))&&(u=!1),g=Y.getData3dUI(n)._formatClipUniforms(g,B,n),Z.uClipPercent=g[1],Z.uClipDirection=g[0],Z.uClipLocalTransform=g[2]):Z.uClipDirection=0,Z.blackout=!(!Q._blooming||n.s("bloom")),e||(Y._flowObjects.length&&Y.flowMap.resetDataFlowEnabld(n,Z),R||(B=n.s("envmap"),Z.uUseEnvMap=!!B,Z.roughness=n.s("roughness"),Y._setEnvmapByProbeId(Z,n.s("envmap.probe"),B||.01),lC(Y,Z,n.s("light.mask"),n.s("headlight.ambientIntensity"))),Z.uFog=n.s("shape3d.light")!=V3),R||!!n._flipSide!=(2===n._forceSingleFace)&&(L.directState().cullFace.frontFace=2304),u},yC=function(Q,Y){var n=Q.getGL();n&&(n._transmissionRTT||(n._transmissionRTT=new j1(Q,0,0,{autoSize:!0})),Y.unbind(n),Q.renderModel(n._transmissionRTT,null,null,{type:"blitScreen",transparent:Q._45Q,image:Y.texture}),Y.bind(n))},DC=function(Q,Y,n,R,g){var B=(L=a3.for(Q)).directUniforms(),L=L.directAttribs();!Y||W3||S3||Q.lineWidth(Y),n&&!Q._picking&&(B.uFixPickReverseColor=n),R&&(L.aPosition=gm(Q,R,g,V3))},fC=function(Q,Y,n,R){Q&&(R&&(n*=R),Q.calls++,Q.vertices+=n,Y==V3||4===Y?Q.faces+=n/3:1===Y?Q.lines+=n/2:Y===mS.POINTS?Q.points+=n:5===Y||6===Y?Q.faces+=n-2:3===Y?Q.lines+=n-1:2===Y&&(Q.lines+=n))},Qm=function(Q,Y,n,R,g){qp&&(R=Q[qp]),g?Q.drawArraysInstanced(R==V3?4:R,Y,n,g):Q.drawArrays(R==V3?4:R,Y,n),fC(Q._renderInfo,R,n,g)},Ym=function(Q,Y,n,R,g,B){qp&&(R=Q[qp]);var L=2;5125===(g=g==V3?5123:g)&&(L=4),B?Q.drawElementsInstanced(R==V3?4:R,n,g,Y==V3?0:Y*L,B):Q.drawElements(R==V3?4:R,n,g,Y==V3?0:Y*L),fC(Q._renderInfo,R,n,B)},nm=function(Q,Y,n,R,g){return Q.bindBuffer(34962,Y),n&&Q.bufferData(34962,n,35044),Y},Rm=function(Q,Y,n,R,g){return(Y=gm(Q,Y,n,R,g)).instanced=!0,Y},gm=function(Q,Y,n,R,g){return n?Zm(Q,34962,Y,n):nm(Q,Y,n)},Bm=function(Q,Y,n){Q.bindBuffer(34963,Y),n&&Q.bufferData(34963,n,35044)},Lm=function(Q,Y,n){Zm(Q,34963,Y,n)},Zm=function(Q,Y,n,R){var g,B=R._bufId||(R._bufId=z3.generateGLBufferID()),L=Q._4NQ;return(n=L[B])&&n._buf?Q.bindBuffer(Y,n._buf):(g=UC(Q),n=L[B]={_buf:g},Q.bindBuffer(Y,g),Q.bufferData(Y,R,35044),L=5126,R instanceof Uint16Array?L=5123:R instanceof Int16Array?L=5122:R instanceof Uint32Array?L=5125:R instanceof Int32Array?L=5124:R instanceof Int8Array?L=5120:(R instanceof Uint8Array||R instanceof Uint8ClampedArray)&&(L=5121),g.glType=L),n._fid=Q._renderInfo.frame,n._buf},em=function(Q,Y){Y!=V3&&0<=Y&&Q.disableVertexAttribArray(Y)},um=function(Q,Y){var n=Q.getGL(),n=a3.for(n).directUniforms();Q._7O=Q._8O.pop(),Q._modelMatrix=Q._modelMatrixStack.pop(),Y&&(n.uModelViewMatrix=Q._7O,Q._6O=Y,n.uNormalMatrix=Y)},Xm=function(Q,Y){var n,R,g,B,L,Z;return(n=Y=Y||tg())[0]=Q[0],n[1]=Q[1],n[2]=Q[2],n[3]=Q[3],n[4]=Q[4],n[5]=Q[5],n[6]=Q[6],n[7]=Q[7],n[8]=Q[8],n[9]=Q[9],n[10]=Q[10],n[11]=Q[11],n[12]=Q[12],n[13]=Q[13],n[14]=Q[14],n[15]=Q[15],FC(Y),Q=(n=Y)[1],R=n[2],g=n[3],B=n[6],L=n[7],Z=n[11],n[1]=n[4],n[2]=n[8],n[3]=n[12],n[4]=Q,n[6]=n[9],n[7]=n[13],n[8]=R,n[9]=B,n[11]=n[14],n[12]=g,n[13]=L,n[14]=Z,Y},xm=function(Q,Y){var n=Q.getGL(),R=Q._7O,n=a3.for(n).directUniforms();Y?(Q._8O.push(qg(R)),Q._modelMatrixStack.push(qg(Q._modelMatrix)),n.uModelMatrix=JC(Q._modelMatrix,Q._modelMatrix,Y),Q._7O=JC(R,R,Y)):n.uModelMatrix=Q._modelMatrix=qg(mg),n.uModelViewMatrix=R,n.uNormalMatrix=Xm(R,Q._6O)},Gm={body:0,label:1,label2:2,note:3,note2:4,symbol:5},om=function(Q,Y,n,R,g,B){var L,Z=n?((n=R._pickId)||(n=R._pickId=Y._pickIdUsed,Y._pickIdUsed+=10),null!=(Z=Gm[g])?L=n+Z:(L=(n=(n=R._pickExtraPartMap)||(R._pickExtraPartMap={}))[g])||(L=n[g]=Y._pickIdUsed++),Y[L]||(Y[L]={data:R.data,part:g}),h1(L)):gC;return B||(a3.for(Q).directUniforms().uFixPickReverseColor=Z),Z},lm=om,Vm=function(Q,Y,n,R){(Q.aMatrixInstanced=Y)&&n&&(n.uRightMatrixInstanced=R?R.getElements?R.getElements():R:mg)},zm=function(Q,Y,n){var R,g="target"===(n="target"!==n?"source":n)?Y.getTargetAgent():Y.getSourceAgent(),n="edge."+n+".";if(C(g))return $=Y.s(n+"anchor.x"),L=Y.s(n+"anchor.elevation"),z=Y.s(n+"anchor.y"),R=QQ(g,Q.getMat(g)),M=g.getAnchor3d(),($=Kg([($===l3?.5:$)-M.x,(L===l3?.5:L)-M.y,(z===l3?.5:z)-M.z],R))[1]+=Y.s(n+"offset.elevation"),$;var B=Y.s(n+"index"),L=Q.getData3dUI(g);if(!L.info||!L.info.list)return!1;if(0<=B){for(var Z,e,u,X=(p=L.info._lastPointsSegments).points,x=p.segments,G=-1,o=-1,l=0,V=(x||X).length;l<V;l++){if(3===(e=x?x.get(l):1))u=2;else if(4===e)u=3;else{if(5===e)continue;u=1}if(G+=u,++o===B){Z=X.get(G);break}}return[(Z=Z||X.get(X.length-1)).x,(Z.e||0)+Y.s(n+"offset.elevation"),Z.y]}var z=Y.s(n+"percent")||0,z=Math.max(0,Math.min(z,1));if(!L||!L.getCache)return!1;var p,$,M=L.getCache(),V=M[M.length-1].length;return[($=(p=Q.getLineOffset(g,z*V)).point).x,$.y+Y.s(n+"offset.elevation"),$.z]},pm=(o0={center:function(Q,Y,n,R,g){var B=-Y[1]/2,B={x:-Y[0]/2,y:B,width:Y[0],height:Y[1]};return[(Y=_B(Q,B,n)).x+R,-Y.y-g,z3.getPosition3dGap()]},front:function(Q,Y,n,R,g){var B=-Y[1]/2,B={x:-Y[0]/2,y:B,width:Y[0],height:Y[1]};return[(Q=_B(Q,B,n)).x+R,-Q.y-g,Y[2]/2+z3.getPosition3dGap()]},back:function(Q,Y,n,R,g){var B={x:-Y[0]/2,y:-Y[1]/2,width:Y[0],height:Y[1]};return[-(Q=_B(Q,B,n)).x-R,-Q.y-g,-Y[2]/2-z3.getPosition3dGap()]},left:function(Q,Y,n,R,g){var B=-Y[1]/2,B={x:-Y[2]/2,y:B,width:Y[2],height:Y[1]},Q=_B(Q,B,n);return[-Y[0]/2-z3.getPosition3dGap(),-Q.y-g,Q.x+R]},right:function(Q,Y,n,R,g){var B={x:-Y[2]/2,y:-Y[1]/2,width:Y[2],height:Y[1]},Q=_B(Q,B,n);return[Y[0]/2+z3.getPosition3dGap(),-Q.y-g,-Q.x-R]},top:function(Q,Y,n,R,g){var B={x:-Y[0]/2,y:-Y[2]/2,width:Y[0],height:Y[2]};return[(Q=_B(Q,B,n)).x+R,Y[1]/2+z3.getPosition3dGap(),Q.y+g]},bottom:function(Q,Y,n,R,g){var B=-Y[2]/2,B={x:-Y[0]/2,y:B,width:Y[0],height:Y[2]};return[(Q=_B(Q,B,n)).x+R,-Y[1]/2-z3.getPosition3dGap(),-Q.y-g]}},function(Q,Y,n,R,g,B){return o0[R](Q,Y,n,g||0,B||0)}),$m=function(Q,Y,n,R,g,B,L,Z,e,u){return g&&(Y[0]+=g[0],Y[1]+=g[1],Y[2]+=g[2]),vC(Q,n),Z?(g=tg(),ls(g,e,u),Kg(Y,g),vC(Q,Y),Q.auto=Z,Q.pos=Kg([0,0,0],Q),B&&(n=Q.mat2=tg(),ls(n,B,L))):(ls(Q,e,u),vC(Q,Y),R===BR?Dg(Q,-U3):R===LR?Dg(Q,U3):R===ZR?yg(Q,-U3):R===eR?yg(Q,U3):R===gR&&Dg(Q,b),ls(Q,B,L)),Q},Mm=function(Q,Y){var n,R,g=Y.auto,B=Y.mat2;Y=(Q=Q.gv).processModelMatrix(Y),g&&(n=tg(),R=[0,0,0,0],g="string"==typeof g?[(g.indexOf("x")<0?Q._eye:Q._center)[0],(g.indexOf("y")<0?Q._eye:Q._center)[1],(g.indexOf("z")<0?Q._eye:Q._center)[2]]:Q._eye,TC(R,IC(tg(),g,Q._center,Q._up)),EC(n,iC(R,R),[Y[12],Y[13],Y[14]]),B&&JC(n,n,B),Y=n),xm(Q,Y)},Fm=function(Q,Y,n,R,g){var B=Q.s,L=Q.gv,Z=L.getGL(),e=L._buffer,u=Z._sharedTexture,X=a3.for(Z).directAttribs();OC(L,Z,tT,u),Mm(Q,n),dC(Z,B(Y+".blend"),B(Y+".light"),B(Y+".opacity"),B(Y+".reverse.flip"),B(Y+".reverse.color"),Q.data._forceSingleFace||B(Y+".reverse.cull")),WC(Z,u,g,e.uv,vD),X.aPosition=gm(Z,e.vs,R,V3),X.aNormal=gm(Z,e.ns,aD,V3),Lm(Z,e.is,JD),Ym(Z,0,JD.length),cC(Z,u),KC(Z),um(L)},vm=function(Q,Y,n){var R=Q.gv,g=Q.data,B=R.getFaceMaterial(g,Y),Q=Q[Y]={blend:R.getBodyColor(g)||R.getFaceBlend(g,Y),light:R.getFaceLight(g,Y),color:R.getFaceColor(g,Y),opacity:R.getFaceOpacity(g,Y),transparent:B?Jm(B):R.getFaceTransparent(g,Y),reverseFlip:R.getFaceReverseFlip(g,Y),reverseColor:R.getFaceReverseColor(g,Y),reverseCull:R.getFaceReverseCull(g,Y),texture:R.getFaceImage(g,Y),blendTexture:R.getFaceBlendImage(g,Y),discardSelectable:R.getFaceDiscardSelectable(g,Y),material:B};return"csg"!==Y&&(Q.uv=R.getFaceUv(g,Y)||n&&n[Y+"Uv"],Q.uvScale=R.getFaceUvScale(g,Y)||n&&n[Y+"UvScale"],Q.uvOffset=R.getFaceUvOffset(g,Y)||n&&n[Y+"UvOffset"],Q.uvRotation=R.getFaceUvRotation(g,Y)||n&&n[Y+"uvRotation"],Q.uvAnchor=R.getFaceUvAnchor(g,Y)||n&&n[Y+"uvAnchor"],(B=R.getFaceMat(g,Y))&&(n=QQ(g,B),g.appendAnchorMatrix3d(n),Q.mat=n)),Q},am=function(Q,Y,n,R,g){var B,L,Z,e,u=Q[R];u&&(B=Q.data,!(Q=Q.gv)._picking&&u.material?dD(Y,Q,B,u.material,[u.vs,u.tuv,u.ns]):g(u.transparent)&&(g=Q._buffer,R=Q.getTexture(u.texture,B,R),L=Q.getTexture(u.blendTexture,B),Z=(e=a3.for(Y)).directUniforms(),e=e.directAttribs(),WC(Y,R,u.discardSelectable,g.uv,u.tuv,u.uvOffset,u.uvScale,u.uvRotation,u.uvAnchor,L),dC(Y,u.blend,u.light,u.opacity,u.reverseFlip,u.reverseColor,B._forceSingleFace||u.reverseCull),u.cs&&!Q._batchColorDisabled?(Z.uBatchColor=!0,e.aBatchColor=gm(Y,g.batchColor,u.cs,n.aBatchColor,4)):Z.uDiffuse=u.color||J3["color.empty"],e.aPosition=gm(Y,g.vs,u.vs,V3),e.aNormal=gm(Y,g.ns,u.ns,V3),Qm(Y,0,u.vs.length/3),u.cs&&!Q._batchColorDisabled&&(Z.uBatchColor=!1,em(Y,n.aBatchColor)),KC(Y),cC(Y,R)))},Jm=function(Q){return!!Q&&!(!(Q="string"==typeof Q?z3.getMaterial(Q):Q)||!Q.transparent)},Im=(u0=new F3,X0=new F3,x0=new F3,G0=new Z2,function(Q,Y,n,R,g){Q.identity();var B=Y.rotationOffset,L=Y.rotationPivot,Z=Y.scalingOffset,e=Y.scalingPivot,n=(u0.fromArray(n||Y.translation),B&&u0.add(X0.fromArray(B)),L&&u0.add(X0.fromArray(L)),Q.makeRotationFromQuaternion(G0.fromArray(R||Y.rotation)).setPosition(u0),u0.set(0,0,0),L&&u0.sub(X0.fromArray(L)),Z&&u0.add(X0.fromArray(Z)),e&&u0.add(X0.fromArray(e)),0===u0.x&&0===u0.y&&0===u0.z||Q.translate(u0),g||Y.scale);return 2!==Y.inheritType&&n&&(x0.fromArray(n),1===x0.x&&1===x0.y&&1===x0.z||Q.scale(x0)),e&&Q.translate(X0.multiplyScalar(-1)),Q}),Am=(Z0=new v3,e0=new v3,function(Q,Z,e){var u,X,x,G,o;M3(Q)?Q.forEach(function(Q){Am(Q,Z,e)}):$3(Q)?Am(WD(Z,Q),Z,e):on(Q)?Q.model3d?(x=Z.gv,G=Z.data,o=x._prefabRenderer.calcMatrix,z3.traverse(Q,function(Q,Y){var n=(n=Q._matrixWorld)||(Q._matrixWorld=new v3);if(o(Q,G,x,n),Y&&n.premultiply(Y._matrixWorld),Q.instances&&Q.instances.aMatrixInstanced&&(X={model:Q,data:Q.instances.aMatrixInstanced,m:Y?Y._matrixWorld:Z0,mi:Y?Y._matrixWorld.clone().invert():Z0}),(u=Q.model)&&(u=z3.getShape3dModel(u))){var R=[];Am(u,Z,R);for(var g=0,B=R.length;g<B;g++){var L=R[g];Vf(e,{model:L.model||Q,mesh:L.mesh,matrix:L.matrix?L.matrix.clone().premultiply(n):n},X)}}else Y=Q.mesh,(Y=P$(Y))&&Vf(e,{model:Q,matrix:n,mesh:Y},X)},function(Q){X&&X.model==Q&&(X=null)},"comps")):Q.shape3d?Am(Q.shape3d,Z,e):e.push({mesh:Q}):e.push({mesh:Q})}),Pm=(L0=new y.Matrix2d,function(Q,Y,n,R,g){return(g=g||L0).identity(),R&&g.translate(-R[0],-R[1]),n&&g.scale(n[0],n[1]),Q&&g.rotate(Q),R&&g.translate(R[0],R[1]),Y&&g.translate(Y[0],Y[1]),g}),im=(g0=[1,0,0,0,1,0,0,0,1],B0=[1,0,0,0,1,0,0,0,1],function(Q,Y,n,R){return Q||Y||n||R?(R0=Q?(n0=G3(Q),p3(Q)):(n0=0,1),Y0=n?(Q0=n[0],n[1]):Q0=1,Sp=R0*Q0,yp=n0*Q0,Dp=-n0*Y0,R0*=Y0,Y0=R?(fp=R[0]-(Sp*R[0]+Dp*R[1]),R[1]-(yp*R[0]+R0*R[1])):fp=0,Y&&(fp+=Y[0],Y0+=Y[1]),B0[0]=Sp,B0[1]=yp,B0[3]=Dp,B0[4]=R0,B0[6]=fp,B0[7]=Y0,B0):g0}),Tm=function(Q,Y,n,R){Q.uUseSkinning=!0,Q.bindMatrix=Y.skeleton.bindMatrix,Q.bindMatrixInverse=R.bindMatrixInverse,Q.boneTexture=n,Q.boneTextureSize=n.width},Em=(dp=new K.Math.Box3,Kp=new K.Math.Box3,Wp=new K.Math.Matrix4,cp=new K.Math.Matrix4,function(Y,Q){var R,n,g,B,L,Z,e,u,X,x,G,o=Q.cube,l=Q.center,V=lf(Q.r3)?Q.r3:null,z=lf(Q.t3)?Q.t3:null,p=lf(Q.s3,!0)?Q.s3:null;!o&&!l||(R=Q.box3)||(R=dp.makeEmpty(),z3.traverse(Q.scene,function(Q,Y){var n=Q.mesh;Q._matrixWorldNeedUpdate&&(Y&&Q.matrixWorld.premultiply(Y.matrixWorld),delete Q._matrixWorldNeedUpdate),n&&n.attributes&&n.attributes.position&&(Kp.setFromArray(n.attributes.position.array),Q.matrixWorld&&Kp.applyMatrix4(Q.matrixWorld),R.expandByBox(Kp))},null,"_children")),(V||z||p)&&(n=Wp.fromArray(YQ(null,p,V,Q.rotationMode,z)),R&&R.applyMatrix4(n)),l?(Y.center=R.max.clone().add(R.min).multiplyScalar(.5).toArray(),g=Y.center[0],B=Y.center[1],L=Y.center[2]):g=B=L=0,o?(x=l?(Z=(o=R.max.clone().sub(R.min).toArray())[0],e=o[1],o[2]):(Z=2*Math.max(Math.abs(R.min.x),Math.abs(R.max.x)),e=2*Math.max(Math.abs(R.min.y),Math.abs(R.max.y)),2*Math.max(Math.abs(R.min.z),Math.abs(R.max.z))),0===Z&&(Z=Math.min(e,x)/1e3||.001),0===e&&(e=Math.min(Z,x)/1e3||.001),0===x&&(x=Math.min(Z,e)/1e3||.001),Y.rawS3=[Z,e,x],u=[1/Z,1/e,1/x]):Z=e=x=1,l&&(X=[-g/Z,-B/e,-L/x]),n&&(V?(G={},["mesh","mat","subMeshes","comps"].forEach(function(Q){Y[Q]&&(G[Q]=Y[Q],delete Y[Q])}),z&&(G.position=z),V&&(G.quaternion=y.eulerArrayToQuaternionArray([V[0],V[1],V[2],p2.ReverseOrder(Q.rotationMode||os)])),p&&(G.scale=p),Y.comps=[G]):((o=cp.composeFromArray(X,null,u)).multiply(n),u=o.extractScale().toArray(),p&&(u[0]*=Math.sign(p[0]),u[1]*=Math.sign(p[1]),u[2]*=Math.sign(p[2])),X=o.getPosition().toArray())),lf(X)&&(Y.position=X),lf(u,!0)&&(Y.scale=u)}),_m=function(Q,Y){var n,R=[];for(n in Q){var g=Q[n];R.rawS3=g.rawS3,g.center&&(R.center=g.center),g.externalAssetURIs&&(R.externalAssetURIs=g.externalAssetURIs,delete g.externalAssetURIs),R.push(g),Y&&Y(n,g)}return R},bm=function(Q,Y,n,R,g,B){for(var L,Z,e,u,X,x,G,o,l,V=[R-Y,g-n],z=Q?Q.length:0,p=0;p<z;p++){for(Z=2,e=(L=Q[p])[0],u=L[1];Z+1<L.length;){if(X=L[Z],x=L[Z+1],Cn(Y,n,R,g,e,u,X,x,!0)){o=zg(G=[X-e,x-u]),G[0]/=o,G[1]/=o,o=hg(V,G),l=[G[0]*(o=0<o?B:-B),G[1]*o];break}e=X,u=x,Z+=2}if(l)break}if(l)for(R=Y+l[0],g=n+l[1],p=0;p<z;p++)for(Z=2,e=(L=Q[p])[0],u=L[1];Z+1<L.length;){if(X=L[Z],x=L[Z+1],Cn(Y,n,R,g,e,u,X,x,!0))return[0,0];e=X,u=x,Z+=2}return l||[R-Y,g-n]},km=function(Q){return"nearest"===Q?9728:"linear"===Q?9729:Q},Om=function(Q,Y,n){var R=Q.getData3dUI(Y),Q=R._vsTranslation?Q.createNodeFinalMatrix(Y,R._matWithExtraction):Q.createNodeFinalMatrix(Y,n||Cm);return R._finalMat=Q},c=K.graph3d={WebGLConstants:mS},Q=function(Q,Y,n){Og("ht.graph3d."+Q,Y,n)},Nm="~!<yfusfw!+!yjsubNudfkpsQv!>!opjujtpQ`mh!\v?zepc/tw/qbNxpmg=!fevmdoj$\v!\v?zepc/tw/qbNxpebit=!fevmdoj$\v!\vgjeof$\v!~!<fdobutjEfojMb!>!fdobutjEfojMw!|!*itbEv)!gj!\vITBE!gfegj$\v!\vgjeof$\v!~!<ttfouihjsCidubCb!>!ttfouihjsCidubCw!|!*ttfouihjsCidubCv)!gj!\vTTFOUIHJSCIDUBC!gfegj$\v!\vgjeof$\v!~!<eofmCidubCb!>!eofmCidubCw!|!*eofmCidubCv)!gj!\vEOFMCIDUBC!gfegj$\v!\vgjeof$\v!~!<spmpDidubCb!>!spmpDidubCw!|!*spmpDidubCv)!gj!\vSPMPDIDUBC!gfegj$\v!\vgjeof$\v!~!<**1/2!-wVb)4dfw!+!yjsubNwVv)3dfw!>!wVw!|!*fsvuyfUv)!gj!\vftmf$\v!<*y/wVb!-**1/2!-wVb)4dfw!+!yjsubNwVv)3dfw)4dfw!>!wVw!\vQJMD`WV!gfegj$\v!<*efnspgtobsu!+!yjsubNmfepNv)4dfw!>!opjujtpQemspXw!<*yfusfw)4dfw!>!opjujtpQwNw!<efnspgtobsu!+!yjsubNxfjWmfepNv!>!yfusfw!5dfw!\v?zepc/tw/hojdobutoj=!fevmdoj$\v!<*mbnspOb)4dfw!>!mbnspOudfkcp!4dfw!<*opjujtpQb)4dfw!>!opjujtpQmbdpMw!<*1/2!-opjujtpQb)5dfw!>!efnspgtobsu!5dfw!|!*)ojbn!ejpw!\v?ebfi/tw/qbNxpmg=!fevmdoj$\v!\v?ebfi/tw/qbNxpebit=!fevmdoj$\v!\vgjeof$\v!<fdobutjEfojMw!ubpmg!hojzsbw!<fdobutjEfojMb!ubpmg!fuvcjsuub!<itbEv!mppc!nspgjov!\vITBE!gfegj$\v!\vgjeof$\v!<^TUIHJM`UPQT`NVO]opjudfsjEupqTv!4dfw!nspgjov!<^TUIHJM`UPQT`NVO]opjujtpQupqTv!4dfw!nspgjov!<^TUIHJM`UPQT`NVO]spmpDupqTv!5dfw!nspgjov!\v1!?!TUIHJM`UPQT`NVO!gj$\v!\vgjeof$\v!<^TUIHJM`UOJPQ`NVO]opjujtpQuojpQv!4dfw!nspgjov!<^TUIHJM`UOJPQ`NVO]spmpDuojpQv!5dfw!nspgjov!\v1!?!TUIHJM`UOJPQ`NVO!gj$\v!\vgjeof$\v!<^TUIHJM`SJE`NVO]opjudfsjEsjEv!4dfw!nspgjov!<^TUIHJM`SJE`NVO]spmpDsjEv!5dfw!nspgjov!\v1!?!TUIHJM`SJE`NVO!gj$\v!<opjujtpQmbdpMw!4dfw!hojzsbw!<opjujtpQemspXw!4dfw!hojzsbw!<opjujtpQwNw!4dfw!hojzsbw!<mbnspOw!4dfw!hojzsbw!<yjGv!mppc!nspgjov!\vgjeof$\v!\v?ebfi/tw/hojdobutoj=!fevmdoj$\v!\vZDBHFM`HOJDOBUTOJ`FTV!fojgfe$\v!\vHOJDOBUTOJ`FTV!fojgfe$\v!\vFDOBUTOJIDUBC!gfegj$\v!\vgjeof$\v!<wVw!3dfw!hojzsbw!\vftmf$\v!<wVw!4dfw!hojzsbw!\vQJMD`WV!gfegj$\v!\vgjeof$\v!<eofmCidubCw!4dfw!hojzsbw!<eofmCidubCb!4dfw!fuvcjsuub!<eofmCidubCv!mppc!nspgjov!\vEOFMCIDUBC!gfegj$\v!\vgjeof$\v!<ttfouihjsCidubCw!ubpmg!hojzsbw!<ttfouihjsCidubCb!ubpmg!fuvcjsuub!<ttfouihjsCidubCv!mppc!nspgjov!\vTTFOUIHJSCIDUBC!gfegj$\v!\vgjeof$\v!<spmpDidubCw!5dfw!hojzsbw!<spmpDidubCb!5dfw!fuvcjsuub!<spmpDidubCv!mppc!nspgjov!\vSPMPDIDUBC!gfegj$\v!<wVb!3dfw!fuvcjsuub!<opjujtpQb!4dfw!fuvcjsuub!<mbnspOb!4dfw!fuvcjsuub!<yjsubNmbnspOv!5ubn!nspgjov!<yjsubNxfjWmfepNv!5ubn!nspgjov!<yjsubNmfepNv!5ubn!nspgjov!<yjsubNxfjWv!5ubn!nspgjov!<yjsubNudfkpsQv!5ubn!nspgjov!<yjsubNwVv!4ubn!nspgjov!<fsvuyfUeofmCv!mppc!nspgjov!<fsvuyfUv!mppc!nspgjov!\vYJGFSQ$!00^#CBRBEJxTT87hJFI,,bX1XrIwcn3UM{ZeZ,M6HEN6nLxe2Z72s2:3johr6foKrpqwxNKYkdbJ2CN[mBbf[wXU,T0oGuSEd190ohLZkEn8IuCe[OHoWeKz:Sf,VS7xdSLw23W1YJLU:jdv2{hiDbhDzNNEh9tp3xsuEp94Sl4c3wRzqwShMDRhCLRjCDEBOH5BBVRBCFRE4cJTHrTDH1BNgHJN",Um=(In(z3,{setBatchInfo:function(Q,Y){bd[Q]=Y},getBatchInfo:function(Q){return bd[Q]},getBatchInfoMap:function(){return bd},setBatchInfoMap:function(Q){bd=Q}},!0),[1,1,1]),Cm=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],wm=[1,0,0,0,0,1,0,1,1,1,1,0],jm=[-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5],rm=[.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5],Hm=[.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5],sm=[.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5],hm=[.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5],tm=[-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5],mm=function(Q,Y){Q._40Q.each(function(Q){Q.ivBatch(Y)})},qm=function(Q,Y,n,R){var g=Y[n=n._id];if(g){var B=(p=Q[e=g.batch]).ds,L=g.index;if(p.invalidate=!0,delete Y[n],B.splice(L,1),bn(B))return!1!==(n=R.getBatchInfo(e)||md).keepData&&p.ms&&p.ms.length&&n.instanced&&!R.isBatchInstancedDisabled()?(p.ms=[],p.ics&&(p.ics=[]),void(p.ps&&(p.ps=[]))):void delete Q[e];for(var n=L,R=g.begin,Z=g.size;L<B.length;L++)(g=Y[B[L]._id]).index--,g.begin-=Z;if(p.ms&&p.ms.length)return p.ms.splice(16*n,16),p.ics&&p.ics.splice(4*n,4),void(p.ps&&(p.ps.splice(4*n,4),p.ps._invalidateThisFrame=!0));var Q=3*R,e=3*Z,n=4*R,u=4*Z,X=p.vs,x=p.ps,G=p.uv,o=p.cs,l=p.bs,V=p.rs,z=p.ns,p=p.ls;X.splice(Q,e),x.splice(n,u),x._invalidateThisFrame=!0,G&&G.splice(2*R,2*Z),o&&o.splice(n,u),l&&l.splice(Q,e),V&&V.splice(R,Z),z&&z.splice(Q,e),p&&p.splice(R,Z)}},dm=function(Q,Y,n,R,g){if(!R)return V3;var B,L,Z=Y[R];return Z||(L=(B=g.getBatchInfo(R)||md).image||B.material?[]:V3,g=B.instanced&&!g.isBatchInstancedDisabled(),Z=Y[R]={vs:[],ns:[],uv:L,cs:L||B.color?V3:[],bs:B.blend?[]:V3,ps:[],rs:B.brightness?[]:V3,ds:[],ms:g?[]:V3,ics:L||B.color||!g?V3:[]}),Z.invalidate=!0,Q[n._id]={index:Z.ds.length,begin:Z.vs.length/3,batch:R},Z.ds.push(n),Z},Km=function(Q,Y){return Y!=V3&&1!==Y?[Q[0]*Y,Q[1]*Y,Q[2]*Y,Q[3]]:Q},Wm=function(Q){Q&&(Q._ctlineModel=[],Q._lineModel=l3)},cm=function(Q,Y,n){var v=Q.getData3dUI(Y);if((Z=(Z=v.shapeModel)||WD(v))||!v.shapeName){var R,g=Y.s("wf.combineTriangle");if(n.geometry){if(Z||(Y instanceof K.Node&&!(Y instanceof K.Shape)?Z=M0=M0||{vs:ID,is:AD,uv:PD}:(Z=v._shapeModelCacheForWf)||(Z=v._shapeModelCacheForWf=[v.left,v.front,v.right,v.back,v.top,v.bottom])),!(R=g?(R=Y.s("wf.normEpsilon"),isNaN(R)&&(R=2),g=0|Math.min(3,Math.max(1,isNaN(g)?1:g)),kL[g-1](Z,v,180/(Math.PI*R))):function(Q){var Y,n,R,g,B;if(X=Q._lineModel)return X;for(var L,Z,e,u=["","top_","bottom_","from_","to_"],X=[],x=[],G=(Am(Q,v,x),y.requestVector3()),o=y.requestVector3(),l=y.requestVector3(),V=0,z=x.length;V<z;V++)if((g=x[V])&&(B=g.mesh))for(Y=0,n=u.length;Y<n;Y++)if(R=B[u[Y]+"vs"])for(var p=B[u[Y]+"is"],$=g.matrix,M=p?p.length:R.length/3,F=0;F<M;F+=3)e=p?(L=p[F],Z=p[F+1],p[F+2]):(Z=(L=F)+1,F+2),L*=3,Z*=3,e*=3,$?(G.fromArray(R,L).applyMatrix4($),o.fromArray(R,Z).applyMatrix4($),l.fromArray(R,e).applyMatrix4($),X.push(G.x,G.y,G.z,o.x,o.y,o.z,o.x,o.y,o.z,l.x,l.y,l.z,l.x,l.y,l.z,G.x,G.y,G.z)):X.push(R[L],R[L+1],R[L+2],R[Z],R[Z+1],R[Z+2],R[Z],R[Z+1],R[Z+2],R[e],R[1+e],R[2+e],R[e],R[1+e],R[2+e],R[L],R[L+1],R[L+2]);return y.releaseVector3(G),y.releaseVector3(o),y.releaseVector3(l),0<X.length&&(Q._lineModel=X),X}(Z))||0===R.length)return}else R=n.short?_D:ED,Y.s("wf.boundingBox")&&(g=v.getBoundingBox(!0))&&(Z=(new v3).scale(g.max.clone().sub(g.min)).setPosition(g.max.clone().add(g.min).divideScalar(2)).toArray(),R=XC([],Z,R));var B,L,g=Q.getBrightness(Y),Z=Y.s("bloom"),e=Y.s("3d.reflectable"),u=WT(n.color||"white"),X=u[3]<1,x=Math.ceil(n.width)||1,G=Y.s("3d.clipbox")?SS:Y.s("3d.clipbox.mask"),o=Y.s("wf.fog"),l=Y.s("wf.group"),V=Y.getRenderLayer(),Q=Q._40Q.get(V),V=Y.s("wf.material"),z=Q.wireframeIndexMap,Q=Q.wireframeModelMap,p=Y.s("batch"),$=Y.s("3d.clip.direction");if(V||$){if($){if(0===(L=Y.s("3d.clip.percentage")))return;L=v._formatClipUniforms($,L,Y)}B="_"+Y._id}else B=p?(X?"T":"O")+l+"_"+p:(X?"T":"O")+l+(Z?"_1":"_0")+(e?"1_":"0_")+G+"_"+x+(o?"1_":"0_");$=($=Q[B])||(Q[B]={vs:[],cs:[],ps:[],ds:[],T:X,B:Z,clipboxMask:G,reflectable:!!e,W:x,batch:p,fog:o}),V&&($.material=V),$.invalidate=!0,l=$.vs,Q=$.cs,X=$.ds,Z=z[Y._id]={index:X.length,begin:l.length/3,batch:B},X.push(Y),G=v._finalMat,Y instanceof K.Edge||!(!G||!n.geometry&&Y instanceof K.Shape)||(G=QQ(Y,n.mat),Y.appendAnchorMatrix3d(G)),L?($.mat=qg(G),$.clipDirection=L[0],$.clipPercent=L[1],XC(l,null,R)):XC(l,G,R),e=Z.size=l.length/3-Z.begin,uC(Q,Km(u,g),e)}},Sm=function(Q,Y,n,R){if(Y){var g=(n=n[Y.batch]).ps,B=(n=n.ms&&n.ms.length)?4*Y.index:4*Y.begin,L=n?1:Y.size;if(g[B]!==Q[0]||g[B+1]!==Q[1]||g[B+2]!==Q[2]||g[B+3]!==Q[3]){for(var Z=0;Z<L;Z++)g[B++]=Q[0],g[B++]=Q[1],g[B++]=Q[2],g[B++]=Q[3];g._invalidateThisFrame=!0}}},ym=(p0=new K.Math.Vector3,$0=new K.Math.Vector3,function(Q,Y){var n=Y+["32"],R=Q[Y],g=Q[n];if(R){if(z3.extractBatchTranslation||z3.extractVerticesTranslation)if("vs"!==Y||Q.ms&&Q.ms.length){if("ms"===Y&&Q.ms&&Q.ms.length){for($0.set(0,0,0),L=R.length,Z=12;Z<L;Z+=16)$0.add(p0.fromArray(R,Z));for($0.divideScalar(L/16),e=$0.x,u=$0.y,X=$0.z,x=new Array(L),Z=0;Z<L;Z+=16){for(var B=0;B<12;B++)x[Z+B]=R[Z+B];x[Z+12]=R[Z+12]-e,x[Z+13]=R[Z+13]-u,x[Z+14]=R[Z+14]-X,x[Z+15]=R[Z+15]}R=x,Q.translate=[e,u,X]}}else{$0.set(0,0,0);for(var L=R.length,Z=0;Z<L;Z+=3)$0.add(p0.fromArray(R,Z));$0.divideScalar(L/3);for(var e=$0.x,u=$0.y,X=$0.z,x=new Array(L),Z=0;Z<L;Z+=3)x[Z]=R[Z]-e,x[Z+1]=R[Z+1]-u,x[Z+2]=R[Z+2]-X;R=x,Q.translate=[e,u,X]}g&&g.length===R.length?(g.set(R),g._bufId=null):Q[n]=new jg(R)}else delete Q[n]}),Dm=function(Q,Y,n,R,g,B,L,Z){var e,u,X=Y instanceof K.Shape,x=B[0],G=B.length;if(1<G)for(var x=qg(x),o=1;o<G;o++)JC(x,x,B[o]);X&&(e=Y.p3(),vC(x,e)),an(L.ms,x),L.ics&&uC(L.ics,Y.s("shape3d.color")||l,1),L.vs.length||(u=qg(Cm),X&&vC(u,sg(e)),fm(Q,Y,n,R,g,[u],L,Z))},fm=function(Y,n,Q,R,g,B,L,Z){if(M3(Q))Q.forEach(function(Q){fm(Y,n,Q,R,g,B,L,Z)});else if($3(Q))fm(Y,n,WD(R,Q),R,g,B,L,Z);else if(on(Q)){var e,u=d(Q.mat,n,Y),X=d(Q.s3,n,Y),x=d(Q.t3,n,Y),G=d(Q.r3,n,Y);if((X||G||x||u)&&(e=YQ(u,X,G,d(Q.rotationMode,n,Y),x),B.push(e)),Q.shape3d)fm(Y,n,Q.shape3d,R,g,B,L,Q);else{var u=R.s,o=(Z=Z||md,B[0]),l=B.length,X=u("shape3d.color",Q.color,Z.color);if(g=g||u("shape3d.blend",Q.blend,Z.blend),1<l)for(var o=qg(o),V=1;V<l;V++)JC(o,o,B[V]);G=o?Xm(o):V3,Q.vs&&u(UV,Q.visible,Z.visible)&&QD(o,L,Q.vs,Q.uv,Q.is,Q.ns,G,g,X),Q.top_vs&&u(jV,Q.topVisible,Z.topVisible)&&QD(o,L,Q.top_vs,Q.top_uv,Q.top_is,Q.top_ns,G,g,u("shape3d.top.color",Q.topColor,Z.topColor)||X),Q.bottom_vs&&u(rV,Q.bottomVisible,Z.bottomVisible)&&QD(o,L,Q.bottom_vs,Q.bottom_uv,Q.bottom_is,Q.bottom_ns,G,g,u("shape3d.bottom.color",Q.bottomColor,Z.bottomColor)||X),Q.from_vs&&u(CV,Q.fromVisible,Z.fromVisible)&&QD(o,L,Q.from_vs,Q.from_uv,Q.from_is,Q.from_ns,G,g,u("shape3d.from.color",Q.fromColor,Z.fromColor)||X),Q.to_vs&&u(wV,Q.toVisible,Z.toVisible)&&QD(o,L,Q.to_vs,Q.to_uv,Q.to_is,Q.to_ns,G,g,u("shape3d.to.color",Q.toColor,Z.toColor)||X)}e&&B.pop()}},QD=function(n,Q,R,g,Y,B,L,Z,e){var u,X=Q.cs,x=Q.uv,G=Q.bs,o=Q.ns,l=Q.vs,Q=(B&&0!==B.length||(B=kC(R,Y)),v3.determinantOfArray(n)<0);Y||Q?(u=Y?Y.length:R.length/3,cg(Y||u,Q,function(Q){var Y=3*Q;XC(l,n,[R[Y],R[1+Y],R[2+Y]]),XC(o,L,[B[Y],B[1+Y],B[2+Y]]),x&&an(x,[g[2*Q],g[2*Q+1]])})):(u=R.length/3,XC(l,n,R),XC(o,L,B),x&&an(x,g)),X&&uC(X,e,u),G&&(Z?eC(G,Z,u):an(G,Um,u))},YD=function(Q,Y,n){var R=Q.data.p3();Y=qg(Y),vC(Y,R),an(n.ms,Y),n.ics&&uC(n.ics,Q.data.s("shape3d.color")||l,1),n.vs.length||(Y=qg(Cm),vC(Y,sg(R)),nD(Q,Y,n))},nD=function(Q,Y,n){LD(Q,BR,Y,n),LD(Q,LR,Y,n),LD(Q,RR,Y,n),LD(Q,gR,Y,n),LD(Q,ZR,Y,n),LD(Q,eR,Y,n),LD(Q,"csg",Y,n)},RD=function(Q,Y,n,R,g,B){an(n.ms,g),n.ics&&uC(n.ics,Y.s("all.color")||l,1),n.vs.length||gD(Q,Y,n,R,qg(Cm),B)},gD=function(Q,Y,n,R,g,B){ZD(Q,Y,n,R,g,B,BR,jm),ZD(Q,Y,n,R,g,B,LR,rm),ZD(Q,Y,n,R,g,B,ZR,Hm),ZD(Q,Y,n,R,g,B,eR,sm),ZD(Q,Y,n,R,g,B,RR,hm),ZD(Q,Y,n,R,g,B,gR,tm)},BD=function(Q,Y,n,R,g){R?g.instanced?Q.gv.batchInstancedModel(Q.data,R,Q,Q.getBodyColor(),[Y],n):fm(Q.gv,Q.data,R,Q,Q.getBodyColor(),[Y],n):g.instanced?Q.gv.batchInstancedShapeFace(Q,Y,n):nD(Q,Y,n)},LD=function(Q,Y,n,R){if(Q=Q[Y]){var g=Q.tuv;if(g){var Y=Q.uvScale,B=Q.uvOffset,L=Q.uvRotation,Z=Q.uvAnchor;if(Y||B||L)for(var e,u,X=(L=Pm(L,B,Y,Z)).a,x=L.b,G=L.c,o=L.d,l=L.tx,V=L.ty,z=g.length,p=0;p<z;p+=2)e=g[p],u=g[p+1],g[p]=X*e+G*u+l,g[p+1]=x*e+o*u+V}QD(n,R,Q.vs,g,V3,V3,n?Xm(n):V3,Q.blend,Q.color)}},ZD=function(Q,Y,n,R,g,B,L,Z){var e,u,X,x,G,o,l,V,z,p,$,M,F,v,a,J=n.cs,I=n.uv,A=n.bs,P=n.vs,i=n.ns,T=kC(Z);Q.getFaceVisible(Y,L)&&((n=Q.getFaceMat(Y,L))&&(g=QQ(Y,n),B=Xm(g)),v3.determinantOfArray(g)<0?(n=Z.length/3,cg(n,!0,function(Q){XC(P,g,[Z[Q*=3],Z[1+Q],Z[2+Q]]),XC(i,B,[T[Q],T[1+Q],T[2+Q]])})):(XC(P,g,Z),XC(i,B,T)),J&&uC(J,Q.getFaceColor(Y,L),6),I&&(n=Q.getFaceUv(Y,L)||R[L+"Uv"],J=Q.getFaceUvScale(Y,L)||R[L+"UvScale"],e=Q.getFaceUvOffset(Y,L)||R[L+"UvOffset"],x=Q.getFaceUvRotation(Y,L)||R[L+"UvRotation"],R=Q.getFaceUvAnchor(Y,L)||R[L+"UvAnchor"],G=(n=n?[n[6],n[7],n[0],n[1],n[2],n[3],n[2],n[3],n[4],n[5],n[6],n[7]]:wm)[0],o=n[1],l=n[2],V=n[3],z=n[4],p=n[5],$=n[6],M=n[7],F=n[8],v=n[9],a=n[10],n=n[11],(J||e||x||R)&&(e=(x=Pm(x,e,J,R)).a,J=x.b,R=x.c,u=x.d,o=J*(G=e*G+R*o+(X=x.tx))+u*o+(x=x.ty),V=J*(l=e*l+R*V+X)+u*V+x,p=J*(z=e*z+R*p+X)+u*p+x,M=J*($=e*$+R*M+X)+u*M+x,v=J*(F=e*F+R*v+X)+u*v+x,n=J*(a=e*a+R*n+X)+u*n+x),I.push(G,o,l,V,z,p,$,M,F,v,a,n)),A&&((J=Q.getBodyColor(Y)||Q.getFaceBlend(Y,L))?eC(A,J,6):an(A,Um,6)))},eD=function(Q,Y,n,R){var g,B,L,Z,n=Q._picking?Q.pickColorMap:null,e=Q.getGL(),u=Q._buffer;if(!_n(Y)){for(Z in xm(Q,Cm),mC(e),Y){var X,x,G,o,l,V,z,p,$,M,F,v=Y[Z],a=(o=v.batch?(X=(o=Q.getBatchInfo(v.batch)||md).wfBloom===l3?o.bloom:o.wfBloom,x=o.wfReflectable===l3?o.reflectable:o.wfReflectable,G=o.wfClipboxMask===l3?o.clipboxMask:o.wfClipboxMask,o.width):(X=v.B,x=v.reflectable,G=v.clipboxMask,v.W),!n&&v.material);!a&&(R&&!v.T||!R&&v.T||Q.isReflecting(e)&&!1===x)||(M=n&&!Q.drawFilter,v.invalidate?(v.invalidate=!1,ym(v,"vs"),ym(v,"cs"),ym(v,"ls"),M&&ym(v,"ps")):M&&v.ps&&v.ps._invalidateThisFrame&&(v.ps._invalidateThisFrame=!1,ym(v,"ps")),M=v.translate,g=v.clipDirection,a?("lines"!==(l=(a=v.material).renderMode)?a.renderMode="lines":l=null,Q._prefabRenderer.render(e,{position:M,mesh:{vs:v.vs32,aLineDistance:v.ls32,aBatchColor:v.cs32,_complete_:!0},mat:a},v),l&&(a.renderMode=l)):(M||g?(B=g?qg(v.mat):[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],M&&vC(B,M),L=qg(Q._6O),xm(Q,B)):B=null,a=v.vs32,l=n?v.ps32:v.cs32,DC(e,o,V3,u.vs,a),V=(z=a3.for(e)).directUniforms(),z=z.directAttribs(),p=v.D,$=!Q._dashDisabled&&p,V.uAlphaTest=J3.alphaTest,e._blooming&&!X&&(V.blackout=!0),g&&(F=v.clipPercent,M&&(F-=M[Math.floor((g-1)/2)]||0),V.uClipPercent=F,V.uClipDirection=g,V.uClipLocalTransform=BC),tC(Q,V,G===l3?cS:G),$&&(V.uDash=!0,V.uDashDistance=p,V.uDashGapDistance=v.G,V.uDiffuse=v.A||J3["color.empty"],z.aLineDistance=gm(e,u.lineDistance,v.ls32,V3,1)),(M=!Q._batchColorDisabled)&&l&&l.length?(V.uBatchColor=!0,z.aBatchColor=gm(e,u.batchColor,l,V3,4)):(V.uBatchColor=!1,z.aBatchColor=!1),F=!1!==v.fog,V.uFog=F,WC(e),Qm(e,0,a.length/3,1),cC(e),F||(V.uFog=!0),M&&(V.uBatchColor=!1,z.aBatchColor=!1),$&&(V.uDash=!1,z.aLineDistance=!1),e._blooming&&!X&&(V.blackout=!1),B&&(g&&(V.uClipDirection=0),um(Q,L),V.uModelMatrix=mg)))}qC(e),um(Q)}},uD=function(Q,Y){Q.invalidate=!1,ym(Q,"vs"),ym(Q,"ns"),ym(Q,"cs"),ym(Q,"rs"),Y&&ym(Q,"ps"),ym(Q,"bs"),ym(Q,"uv"),ym(Q,"ms"),ym(Q,"ics")},XD=function(Q,Y,C,n,R,g){var B,L,Z,e,u,X,x,G,n=Q._picking?Q.pickColorMap:null,o=Q.getGL(),l=a3.for(o),V=l.directUniforms(),z=l.directAttribs(),p=Q._buffer;if(!_n(Y)){var $,M,F,v=Q._flowObjects.length?Q.flowMap:null,a=Q.drawFilter;for(B in xm(Q,Cm),Y)if(!1!==(L=Q.getBatchInfo(B)||md).visible)if((E=!n&&L.material)||!(R&&!L.transparent||!R&&L.transparent||Q.isReflecting(o)&&!1===L.reflectable)){var J=L.renderLayerMask;if(NQ(g=g==V3?bQ:g,J=J==V3?bQ:J)&&(J=Y[B],n||!L.transparentMask)){if(M=!1,a){if(!1===L.highlight)continue;if($=J.ds){for(var I=0,A=$.length;I<A;I++)if(!a($[I])){M=!0;break}if(!M)continue}}var P,w=R&&!0===L.autoSort&&(Q._33Q||J.invalidate)&&!M,i=n&&!M,T=(J.invalidate?uD(J,i):i&&J.ps&&J.ps._invalidateThisFrame&&(J.ps._invalidateThisFrame=!1,ym(J,"ps")),J.ms32);if(T){if(!T.length)continue;F=!0}else F=!1;if(i=J.vs32,Z=n?J.ps32:F?J.ics32:J.cs32,u=J.uv32,k=J.bs32,e=J.rs32,X=i.length/3,w&&((P=GD(i,Q.getEye(),Q,T))?(J.is=P.is,J.elementTypeUint=P.useUint32):(J.is=null,J.elementTypeUint=null)),X){if((P=L.polygonOffset)&&jC(o,P),(x=J.translate)&&(G=[1,0,0,0,0,1,0,0,0,0,1,0,x[0],x[1],x[2],1],Q._modelMatrixProcess&&(G=Q._modelMatrixProcess(G))),E&&!M){var E={mesh:{vs:i,uv:u,ns:J.ns32,is:J.is,_complete_:!0},mat:L.material};F&&(E.instances={aMatrixInstanced:J.ms32}),Q._prefabRenderer.render(o,E,L,G)}else{x&&xm(Q,G),L.light,E=Q.getTexture(L.image),dC(o,V3,L.light,L.opacity,L.reverseFlip,L.reverseColor,L.reverseCull),Z?Q._batchColorDisabled?(V.uBatchColor=!1,z.aBatchColor=!1):(V.uBatchColor=!0,M||(z.aBatchColor=F?Rm(o,p.instancedBatchColor,Z,V3,4):gm(o,p.batchColor,Z,V3,4))):(V.uBatchColor=!1,V.uDiffuse=L.color||J3["color.empty"]);var _,b=L.alphaTest;V.uAlphaTest=b===l3?J3.alphaTest:b,V.shadowReceive=!n&&!1!==L.shadowReceive,tC(Q,V,L.clipboxMask===l3?cS:L.clipboxMask),lC(Q,V,L.lightMask===l3?cS:L.lightMask,L.headlightAmbientIntensity),v&&v.resetFlowUniform(L.effectFlowMask===l3?cS:L.effectFlowMask,V),o._blooming&&!L.bloom&&(V.blackout=!0),L.envmap!==l3?(V.uUseEnvMap=!0,V.roughness=L.roughness||0,Q._setEnvmapByProbeId(V,L.envmapProbe||0,L.envmap)):(V.uUseEnvMap=!1,V.envMapIntensity=0);(b=k&&!Q._batchBlendDisabled)&&(V.uBatchBlend=!0,z.aBatchBlend=gm(o,p.batchBlend,k,V3));var k=e&&!Q._batchBrightnessDisabled;if(k&&(V.uBatchBrightness=!0,z.aBatchBrightness=gm(o,p.batchBrightness,e,V3,1)),u?WC(o,E,L.discardSelectable,p.uv,u,L.uvOffset,L.uvScale,L.uvRotation,L.uvAnchor):WC(o),z.aPosition=gm(o,p.vs,i,V3),z.aNormal=gm(o,p.ns,J.ns32,V3),F&&(V.uUseInstance=!0),M){for(F&&!(_=Q._highlightInstancedFloatArray)&&(_=Q._highlightInstancedFloatArray=new jg(16)),I=0,A=$.length;I<A;I++)if(!a($[I])){var O=C[$[I]._id];if(z.aBatchColor=Q.getHighlightPickColor($[I]),F){for(var N=0;N<16;N++)_[N]=T[16*O.index+N];U=Rm(o,p.ms,_,V3),o.bufferSubData(34962,0,_),Vm(z,U,V),Qm(o,0,X,null,1)}else{var U=O.begin,j=O.size;Qm(o,U,j)}}}else F&&(w&&(T=xD(T,Q.getEye())),Vm(z,Rm(o,p.ms,T,V3),V)),J.is?(Bm(o,p.is,J.is),Ym(o,0,X,null,J.elementTypeUint?5125:null,F?J.ms32.length/16:0)):Qm(o,0,X,null,F?J.ms32.length/16:0);u?cC(o,E):cC(o),Z&&!Q._batchColorDisabled&&(V.uBatchColor=!1,z.aBatchColor=!1),b&&(V.uBatchBlend=!1,z.aBatchBlend=!1),k&&(V.uBatchBrightness=!1,z.aBatchBrightness=!1),o._blooming&&!L.bloom&&(V.blackout=!1),F&&(V.uUseInstance=!1,Vm(z,l3)),KC(o),x&&(um(Q),V.uModelMatrix=mg)}P&&rC(o)}}}um(Q)}},xD=function(n,R){for(var Q,Y,g,B=n.length/16,L=new Array(B),Z=0;Z<B;Z++)L[Z]=Z;L.sort(function(Q,Y){return Q=[n[16*Q+12],n[16*Q+13],n[16*Q+14]],Y=[n[16*Y+12],n[16*Y+13],n[16*Y+14]],zg(R,Y)-zg(R,Q)});var e=n._sortedByEye;for(e&&e.length===n.length||(e=n._sortedByEye=new jg(16*B)),Z=0;Z<B;Z++)for(Y=16*Z,g=16*L[Z],Q=0;Q<16;Q++)e[Y+Q]=n[g+Q];return e._bufId=null,e},GD=function(R,g,Q,Y){var n=R.length/3,B=65535<n;if(!(Q=Q._glCapabilities.elementTypeUint&&B)&&B)return null;Y&&Y.length&&((B=y.requestMatrix4()).fromArray(Y).invert(),g=u2(g).applyMatrix4(B).toArray(),y.releaseMatrix4(B));for(var L=new Array(n),Z=n/3,e=new Array(Z),u=0;u<Z;u++)e[u]=u;for(e.sort(function(Q,Y){var n=[(R[Q=9*Q]+R[3+Q]+2*R[6+Q])/4,(R[1+Q]+R[4+Q]+2*R[7+Q])/4,(R[2+Q]+R[5+Q]+2*R[8+Q])/4],Y=[(R[Q=9*Y]+R[3+Q]+2*R[6+Q])/4,(R[1+Q]+R[4+Q]+2*R[7+Q])/4,(R[2+Q]+R[5+Q]+2*R[8+Q])/4];return 0<(Q=zg(g,n)-zg(g,Y))?-1:Q<0?1:0}),u=0;u<Z;u++){var X=3*u,x=3*e[u];L[X]=x,L[1+X]=1+x,L[2+X]=2+x}return{useUint32:Q,is:new(Q?Uint32Array:Cg)(L)}},oD={obj:function(R,g){var Q={mat:R.mat,model3d:R.model3d,matDef:R.matDef,s3:R.s3,r3:R.r3,rotationMode:R.rotationMode,t3:R.t3,cube:R.cube==V3||R.cube,center:R.center==V3||R.center,ignoreMtls:R.ignoreMtls,ignoreTransparent:R.ignoreTransparent,ignoreColor:R.ignoreColor,ignoreImage:R.ignoreImage,part:R.part,ignoreNormal:R.ignoreNormal,prefix:R.prefix,assetsURIMap:R.assetsURIMap,flipY:R.flipY,flipFace:R.flipFace,reverseFlipMtls:R.reverseFlipMtls,finishFunc:function(Q,Y,n){if(Q){if(Q.model3d)return Q.json=R,void g(Q);(Q=_m(Q,R.eachModel)).json=R,!Q.externalAssetURIs&&Y&&Y.externalAssetURIs&&(Q.externalAssetURIs=Y.externalAssetURIs),g(Q)}else g()}};z3.loadObj(R.obj,R.mtl,Q)},bin:function(Q,R){z3.loadBin(Q.url,{finishFunc:function(Q,Y,n){Q?R(Q):R()}})},fbx:function(Y,n){var Q={matDef:Y.matDef,flipY:Y.flipY,s3:Y.s3,r3:Y.r3,rotationMode:Y.rotationMode,t3:Y.t3,cube:Y.cube,center:Y.center,ignoreNormal:Y.ignoreNormal,mikktTangent:Y.mikktTangent,tangentFlipW:Y.tangentFlipW,shape3d:Y.shape3d,path:Y.path,assetsURIMap:Y.assetsURIMap,playAutomatically:Y.playAutomatically,animations:!1!==Y.animations,rotationInterpolation:Y.rotationInterpolation,keyframeValuesInterpolation:Y.keyframeValuesInterpolation,binaryImagePath:Y.binaryImagePath,finishFunc:function(Q){pD(Q,Y,n)}};z3.loadFbx(Y.url,Q)},gltf:function(Y,n){var Q={matDef:Y.matDef,flipY:Y.flipY,s3:Y.s3,r3:Y.r3,rotationMode:Y.rotationMode,t3:Y.t3,cube:Y.cube,center:Y.center,ignoreNormal:Y.ignoreNormal,mikktTangent:Y.mikktTangent,tangentFlipW:Y.tangentFlipW,shape3d:Y.shape3d,path:Y.path,assetsURIMap:Y.assetsURIMap,playAutomatically:Y.playAutomatically,binaryImagePath:Y.binaryImagePath,finishFunc:function(Q){pD(Q,Y,n)}};z3.loadGltf(Y.url,Q)}},lD=(z3.getModelTypeHandlers=function(){return oD},z3.setModelTypeHandler=function(Q,Y){Y===l3?delete oD[Q]:oD[Q]=Y},z3.getModelTypeHandler=function(Q){return oD[Q]},z3.handleModelLoaded=function(Q,Y){},z3.handleUnfoundModel=function(Q,Y,n){},V3),VD=V3,zD=function(Q){lD&&!Q._loadingModelView_&&((VD=VD||{})[Q._loadingModelView_=S2()]=Q)},pD=function(Y,n,R){var Q;Y?(Q=(Y.json=n).animationSources)&&Q.length?z3.asyncEach(Q,function(Q,n){$D(Q,Q,function(Q,Y){y2(function(){n(null,Y)})})},function(Q){R(z3.completeModel3dAnimation(n.url,Y,n.animations,Q))}):R(z3.completeModel3dAnimation(n.url,Y,n.animations)):R()},$D=function(n,R,g){if(!z3.isMaxConcurrencyReached()){if("string"==typeof R&&(Q=R.match(/\.([^.]*)$/))){if("bin"===(Q=Q[1])||"htb"===Q)return MD(n,{modelType:"bin",url:R},R,g);if("fbx"===Q)return MD(n,{modelType:"fbx",url:R},R,g);if("gltf"===Q||"glb"===Q)return MD(n,{modelType:"gltf",url:R},R,g);if(z3.__htExtraAsset3dPattern&&0<=z3.__htExtraAsset3dPattern.indexOf(Q))return MD(n,{modelType:Q,url:R},R,g)}if((R=z3.beforeLoadURL(R)).data){var Q=z3.parse(R.data);MD(n,Q,R,g)}else{if(Q=(lD=lD||{})[n]){if(Q.url===R)return;Q.request&&(Q.request.onload=dd,Q.request.onerror=dd)}var B=new Ts;lD[n]={request:B,url:R},B.onload=function(Q){var Y;200===this.status||0===this.status?(delete lD[n],Y=z3.parse(B.getResponseText()),MD(n,Y,R,g)):FD(n,z3.handleUnfoundModel(n,R)||V3,g)},B.onerror=function(Q){FD(n,z3.handleUnfoundModel(n,R)||V3,g)},(Q={}).url=encodeURI(R),Q.sync=!1,B.send(Q)}}},MD=function(Y,n,R,g){var Q=n.modelType;if(!Q)return FD(Y,n,g),void z3.handleModelLoaded(Y,n);(Q=z3.getModelTypeHandler(Q))?(lD=lD||{})[Y]||(lD[Y]={url:R},Q(n,function(Q){Q?(FD(Y,Q,g),z3.handleModelLoaded(Y,Q)):FD(Y,z3.handleUnfoundModel(Y,R,n)||V3,g)})):FD(Y,z3.handleUnfoundModel(Y,R,n)||V3,g)},FD=function(Q,Y,n){if(delete lD[Q],$3(Y)&&Hd.test(Y))$D(Q,Y,n);else{if(kd[Q]=Y,n&&n(Q,Y),ss(Q,Y),_n(lD)&&(lD=V3,VD)){for(var R in VD)(g=VD[R]).invalidateAll&&g.invalidateAll(l3,"modelLoaded",Q),g.redraw&&g.redraw(),g.iv(),delete g._loadingModelView_;VD=V3}if(Y&&VD)for(var R in VD){var g;(g=VD[R]).invalidateAll&&g.invalidateAll(l3,"modelLoading",Q),g.redraw&&g.redraw(),g.iv()}}},vD=new jg([0,0,0,1,1,1,1,0]),aD=new jg([0,0,1,0,0,1,0,0,1,0,0,1]),JD=new Cg([0,1,2,2,3,0]),ID=new jg([-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5]),AD=new Cg([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),PD=new jg([0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0]),iD=kC(ID,AD),TD=(new jg([-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,-.5,-.5,.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5]),new Cg([0,1,2,3,0,7,5,4,6,7,5,3,2,4,6,1]),[BR,RR,LR,gR,ZR,eR]),ED=[-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5],_D=[-.5,.5,.5,-.4,.5,.5,-.5,.5,.5,-.5,.4,.5,-.5,.5,.5,-.5,.5,.4,.5,.5,.5,.4,.5,.5,.5,.5,.5,.5,.4,.5,.5,.5,.5,.5,.5,.4,-.5,-.5,.5,-.4,-.5,.5,-.5,-.5,.5,-.5,-.4,.5,-.5,-.5,.5,-.5,-.5,.4,.5,-.5,.5,.4,-.5,.5,.5,-.5,.5,.5,-.4,.5,.5,-.5,.5,.5,-.5,.4,-.5,.5,-.5,-.4,.5,-.5,-.5,.5,-.5,-.5,.4,-.5,-.5,.5,-.5,-.5,.5,-.4,.5,.5,-.5,.4,.5,-.5,.5,.5,-.5,.5,.4,-.5,.5,.5,-.5,.5,.5,-.4,-.5,-.5,-.5,-.4,-.5,-.5,-.5,-.5,-.5,-.5,-.4,-.5,-.5,-.5,-.5,-.5,-.5,-.4,.5,-.5,-.5,.4,-.5,-.5,.5,-.5,-.5,.5,-.4,-.5,.5,-.5,-.5,.5,-.5,-.4],bD=function(Q,Y,n,R,g,B,L){Q=Q||16,Y=Y||0,n=n||Q;var Z,e,u,X,x,G,o=[],l=[],V=o3/Q,z=b/(B=B||16);for($=0;$<B;$++)for(e=$*z,G=(u=$+1)*z,Z=Y;Z<n;Z++)a=Z*V,x=(X=Z+1)*V,o.push(.5*G3(e)*p3(a),.5*p3(e),-.5*G3(e)*G3(a),.5*G3(G)*p3(x),.5*p3(G),-.5*G3(G)*G3(x),.5*G3(e)*p3(x),.5*p3(e),-.5*G3(e)*G3(x),.5*G3(e)*p3(a),.5*p3(e),-.5*G3(e)*G3(a),.5*G3(G)*p3(a),.5*p3(G),-.5*G3(G)*G3(a),.5*G3(G)*p3(x),.5*p3(G),-.5*G3(G)*G3(x)),l.push(Z/Q,$/B,X/Q,u/B,X/Q,$/B,Z/Q,$/B,Z/Q,u/B,X/Q,u/B);if(L)for(var p=[],$=0,M=o.length;$<M;$+=3)p.push(2*o[$],2*o[$+1],2*o[$+2]);if(R)for(var F=[],v=[],a=Y*V,$=0;$<B;$++)e=$*z,F.push(0,0,0,.5*G3(G=(u=$+1)*z)*p3(a),.5*p3(G),-.5*G3(G)*G3(a),.5*G3(e)*p3(a),.5*p3(e),-.5*G3(e)*G3(a)),v.push(0,.5,Y/Q,u/B,Y/Q,$/B);if(g){var J=[],I=[],a=n*V;for($=0;$<B;$++)G=(u=$+1)*z,J.push(0,0,0,.5*G3(e=$*z)*p3(a),.5*p3(e),-.5*G3(e)*G3(a),.5*G3(G)*p3(a),.5*p3(G),-.5*G3(G)*G3(a)),I.push(1,.5,n/Q,$/B,n/Q,u/B)}return R={vs:o,uv:l,from_vs:F,from_uv:v,to_vs:J,to_uv:I},L&&(R.ns=p),R},kD=function(Q,Y,n){(Q=Q||.17)<0?Q=0:.25<Q&&(Q=.25);for(var R,g,B,L,Z,e=[],u=[],X=[],x=o3/(n=n||18),G=o3/(Y=Y||12),o=.5-Q,l=0;l<=Y;l++)for(L=p3(g=l*G-b),B=G3(g),p=0;p<=n;p++)Z=o+Q*L,e.push(p3(R=p*x)*Z,B*Q,-G3(R)*Z),u.push(p/n,1-l/Y);for(l=0;l<Y;l++)for(var V=l*(n+1),z=(l+1)*(n+1),p=0;p<n;p++)X.push(V+p,z+p+1,z+p,V+p,V+p+1,z+p+1);return{vs:e,uv:u,is:X}},OD=function(Q,Y,n,R,g,B,L,Z){Q=Q||18,Y=Y||0,n=n||Q,(B=B||.17)<0?B=0:.25<B&&(B=.25);var e,u,X,x,G,o,l,V,z,p=[],$=[],M=o3/Q,F=o3/(L=L||12),v=.5-B,a=Z?[]:l3;for(A=0;A<L;A++)for(o=A*F-b,l=(X=A+1)*F-b,e=Y;e<n;e++)x=e*M,G=(u=e+1)*M,V=v+B*p3(o),z=v+B*p3(l),p.push(p3(x)*V,G3(o)*B,-G3(x)*V,p3(G)*V,G3(o)*B,-G3(G)*V,p3(G)*z,G3(l)*B,-G3(G)*z,p3(x)*V,G3(o)*B,-G3(x)*V,p3(G)*z,G3(l)*B,-G3(G)*z,p3(x)*z,G3(l)*B,-G3(x)*z),$.push(e/Q,1-A/L,u/Q,1-A/L,u/Q,1-X/L,e/Q,1-A/L,u/Q,1-X/L,e/Q,1-X/L),Z&&a.push(p3(x)*p3(o),G3(o),-G3(x)*p3(o),p3(G)*p3(o),G3(o),-G3(G)*p3(o),p3(G)*p3(l),G3(l),-G3(G)*p3(l),p3(x)*p3(o),G3(o),-G3(x)*p3(o),p3(G)*p3(l),G3(l),-G3(G)*p3(l),p3(x)*p3(l),G3(l),-G3(x)*p3(l));if(R)for(var J=[],I=[],A=0;A<L;A++)l=(X=A+1)*F-b,x=Y*M,V=v+B*p3(o=A*F-b),z=v+B*p3(l),J.push(p3(x)*V,G3(o)*B,-G3(x)*V,p3(x)*z,G3(l)*B,-G3(x)*z,p3(x)*v,0,-G3(x)*v),I.push(.5+.5*p3(o),.5-.5*G3(o),.5+.5*p3(l),.5-.5*G3(l),.5,.5);if(g)for(var P=[],i=[],A=0;A<L;A++)l=(X=A+1)*F-b,x=n*M,V=v+B*p3(o=A*F-b),z=v+B*p3(l),P.push(p3(x)*V,G3(o)*B,-G3(x)*V,p3(x)*v,0,-G3(x)*v,p3(x)*z,G3(l)*B,-G3(x)*z),i.push(.5-.5*p3(o),.5-.5*G3(o),.5,.5,.5-.5*p3(l),.5-.5*G3(l));return R={vs:p,uv:$,from_vs:J,from_uv:I,to_vs:P,to_uv:i},Z&&(R.ns=a),R},ND=function(Q,Y){for(var n,R,g,B,L,Z=[],e=[],u=[],X=[],x=o3/16,G=0;G<=16;G++)B=.5*(R=p3(n=G*x)),g=G3(n),Z.push(B,-.5,L=.5*g,B,.5,L),u.push(R,0,g,R,0,g),e.push(1-G/16,1,1-G/16,0);for(G=0;G<16;G++)X.push(2*G,2*G+1,2*G+3,2*G,2*G+3,2*G+2);if(Y){var o=[],l=[],V=[];for(o.push(0,-.5,0),l.push(.5,.5),G=0;G<=16;G++)R=p3(n=G*x),g=G3(n),o.push(.5*R,-.5,.5*-g),l.push(.5+.5*R,.5+.5*g);for(G=0;G<16;G++)V.push(0,G+2,G+1)}if(Q){var z=[],p=[],$=[];for(z.push(0,.5,0),p.push(.5,.5),G=0;G<=16;G++)R=p3(n=G*x),g=G3(n),z.push(.5*R,.5,.5*-g),p.push(.5+.5*R,.5-.5*g);for(G=0;G<16;G++)$.push(0,G+1,G+2)}return{vs:Z,uv:e,is:X,ns:u,bottom_vs:o,bottom_uv:l,bottom_is:V,top_vs:z,top_uv:p,top_is:$}},UD=function(Q,Y,n,R,g,B,L,Z){Q=Q||12,n=n||Q;for(var e,u,X,x,G,o,l,V,z,p,$,M,F=[],v=[],a=o3/Q,J=Y=Y||0;J<n;J++)u=(e=J+1)*a,V=.5*p3(l=J*a),z=.5*G3(l),X=.5*p3(u),x=.5*G3(u),F.push(V,-.5,-z,X,-.5,-x,V,.5,-z,X,-.5,-x,X,.5,-x,V,.5,-z),v.push(J/Q,1,e/Q,1,J/Q,0,e/Q,1,e/Q,0,J/Q,0);if(Z)for(var I=[],J=0,A=F.length;J<A;J+=3)I.push(2*F[J],0,2*F[J+2]);if(L){var P=[],i=[];for(J=Y;J<n;J++)u=a*(J+1),V=p3(l=a*J),z=G3(l),X=p3(u),x=G3(u),P.push(.5*V,-.5,.5*-z,0,-.5,0,.5*X,-.5,.5*-x),i.push(.5+.5*V,.5+.5*z,.5,.5,.5+.5*X,.5+.5*x)}if(B){var T=[],E=[];for(J=Y;J<n;J++)u=a*(J+1),V=p3(l=a*J),z=G3(l),X=p3(u),x=G3(u),T.push(.5*V,.5,.5*-z,.5*X,.5,.5*-x,0,.5,0),E.push(.5+.5*V,.5-.5*z,.5+.5*X,.5-.5*x,.5,.5)}return R&&(G=[],o=[],V=.5*p3(l=a*Y),z=.5*G3(l),p=Y/Q,G.push(0,.5,0,0,-.5,0,V,-.5,-z,V,-.5,-z,V,.5,-z,0,.5,0),o.push(0,0,0,1,p,1,p,1,p,0,0,0)),g&&($=[],M=[],V=.5*p3(l=a*n),z=.5*G3(l),p=n/Q,$.push(0,-.5,0,0,.5,0,V,.5,-z,V,.5,-z,V,-.5,-z,0,-.5,0),M.push(1,1,1,0,p,0,p,0,p,1,1,1)),L={vs:F,uv:v,bottom_vs:P,bottom_uv:i,top_vs:T,top_uv:E,from_vs:G,from_uv:o,to_vs:$,to_uv:M},Z&&(L.ns=I),L},CD=function(Q,Y,n,R,g){n=n||0,g=g==V3?.5:g;for(var B,L,Z,e,u,X=[0,.5,.75,.875,.9375],x=[],G=[],o=[],l=(R=R==V3?o3:R)/(Y=Y||18),V=0;V<X.length;V++)for(var z=V%2==0?0:.5,p=0;p<=Y;p++)L=1-X[V],x.push(p3(B=(p+z)*l+n)*g*L,X[V]*g*2-g,-G3(B)*g*L),G.push((p+z)/Y,L);for(V=0;V<X.length-1;V++)for(var $=V*(Y+1),M=(V+1)*(Y+1),p=0;p<Y;p++)o.push($+p,M+p+1,M+p,$+p,$+p+1,M+p+1);for(u=x.length/3-(Y+1),p=0;p<Y;p++)x.push(0,g,0),G.push((p+.5)/Y,0);for(p=0;p<Y;p++)o.push(u+p,u+p+1,u+(Y+1)+p);if(Q){var F=[],v=[],a=[];for(F.push(0,-g,0),v.push(.5,.5),p=0;p<=Y;p++)Z=p3(B=p*l+n),e=G3(B),F.push(Z*g,-g,-e*g),v.push(.5+.5*Z,.5+.5*e);for(p=0;p<Y;p++)a.push(0,p+2,p+1)}return{vs:x,uv:G,is:o,bottom_vs:F,bottom_uv:v,bottom_is:a}},wD=function(Q,Y,n,C,w,R,g,B){Q=Q||16,n=n||Q;var L,Z,e,u,X,x,G,o,l,V=[],z=[],p=o3/Q,$=Y=Y||0,M=1/(g=g||1),F=new F3,v=new F3,a=new F3,J=new F3,I=new F3,A=new F3,P=new F3;for(B&&(L=[],e=new F3,u=new F3,X=new F3);$<n;$++){var i=$+1,T=p*$,E=p*i;for(F.set(.5*p3(T),-.5,.5*-G3(T)),v.set(.5*p3(E),-.5,.5*-G3(E)),a.set(0,.5,0),B&&(e.set(p3(T),.5,-G3(T)).normalize(),u.set(p3(E),.5,-G3(E)).normalize(),X.copy(e).add(u).normalize()),J.lerpVectors(a,F,M),I.lerpVectors(a,v,M),V.push(J.x,J.y,J.z,I.x,I.y,I.z,a.x,a.y,a.z),z.push($/Q,M,i/Q,M,($+i)/2/Q,0),B&&L.push(e.x,e.y,e.z,u.x,u.y,u.z,X.x,X.y,X.z),Z=1;Z<g;Z++)J.lerpVectors(a,F,M*(Z+1)),I.lerpVectors(a,v,M*(Z+1)),A.lerpVectors(a,F,M*Z),P.lerpVectors(a,v,M*Z),V.push(J.x,J.y,J.z,I.x,I.y,I.z,A.x,A.y,A.z,A.x,A.y,A.z,I.x,I.y,I.z,P.x,P.y,P.z),z.push($/Q,M*(Z+1),i/Q,M*(Z+1),$/Q,M*Z,$/Q,M*Z,i/Q,M*(Z+1),i/Q,M*Z),B&&L.push(e.x,e.y,e.z,u.x,u.y,u.z,e.x,e.y,e.z,e.x,e.y,e.z,u.x,u.y,u.z,u.x,u.y,u.z)}if(R)for(var _=[],b=[],$=Y;$<n;$++){var E=p*($+1),k=p3(T=p*$),O=G3(T),N=p3(E),U=G3(E);_.push(.5*k,-.5,.5*-O,0,-.5,0,.5*N,-.5,.5*-U),b.push(.5+.5*k,.5+.5*O,.5,.5,.5+.5*N,.5+.5*U)}return C&&(G=[],(x=[]).push(0,.5,0,0,-.5,0,.5*p3(T=p*Y),-.5,.5*-G3(T)),G.push(0,0,0,1,Y/Q,1)),w&&(l=[],(o=[]).push(0,-.5,0,0,.5,0,.5*p3(T=p*n),-.5,.5*-G3(T)),l.push(1,1,1,0,n/Q,1)),R={vs:V,uv:z,bottom_vs:_,bottom_uv:b,from_vs:x,from_uv:G,to_vs:o,to_uv:l},B&&(R.ns=L),R},jD=function(Q,Y,n,R,g,B,L,Z){for(var e=[],u=0;u<Q.length-1;u+=2)e.push({x:Q[u],y:Q[u+1]});return OL(e,Y,n,R,g,B,L,Z,!1)},rD={roundRect:function(Q,Y){return jD([.5,.4,.5,.442,.471,.471,.442,.5,.4,.5,-.4,.5,-.442,.5,-.471,.471,-.5,.442,-.5,.4,-.5,-.4,-.5,-.442,-.471,-.471,-.442,-.5,-.4,-.5,.4,-.5,.442,-.5,.471,-.471,.5,-.442,.5,-.4,.5,.4],[1,3,3,2,3,3,2,3,3,2,3,3,2],Q,Y,3)},star:function(Q,Y){return jD([.193,.079,.333,.5,0,.233,-.333,.5,-.194,.079,-.5,-.167,-.112,-.167,0,-.5,.111,-.167,.5,-.167],[1,2,2,2,2,2,2,2,2,2,5],Q,Y)},rect:function(Q,Y){return jD([.5,-.5,.5,.5,-.5,.5,-.5,-.5],[1,2,2,2,5],Q,Y)},billboard:function(){return{vs:[-.5,.5,0,-.5,-.5,0,.5,.5,0,.5,.5,0,-.5,-.5,0,.5,-.5,0],uv:[0,0,0,1,1,0,1,0,0,1,1,1],ns:[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1]}},plane:function(){return{vs:[-.5,0,-.5,-.5,0,.5,.5,0,-.5,.5,0,-.5,-.5,0,.5,.5,0,.5],uv:[0,0,0,1,1,0,1,0,0,1,1,1],ns:[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]}},triangle:function(Q,Y){return jD([0,-.5,.5,.5,-.5,.5],[1,2,2,5],Q,Y)},rightTriangle:function(Q,Y){return jD([.5,.5,-.5,.5,-.5,-.5],[1,2,2,5],Q,Y)},parallelogram:function(Q,Y){return jD([.5,-.5,.25,.5,-.5,.5,-.25,-.5],[1,2,2,2,5],Q,Y)},trapezoid:function(Q,Y){return jD([.25,-.5,.5,.5,-.5,.5,-.25,-.5],[1,2,2,2,5],Q,Y)}},HD={torus:1,sphere:1,cone:1},sD=In(Qg(HD),{cylinder:1}),hD={roundRect:1,star:1,rect:1,triangle:1,rightTriangle:1,parallelogram:1,trapezoid:1,cylinder:1},tD=In(Qg(hD),{cone:1}),mD=function(Q,Y,n){var R,g=d(Q.anchor3d,n,Y),B=d(Q.mat,n,Y),L=d(Q.s3,n,Y),Z=d(Q.t3,n,Y),e=d(Q.r3,n,Y),u=L||e||Z||B;return(g||u)&&(R=qg(Y._6O),u=u?YQ(B,L,e,d(Q.rotationMode,n,Y),Z):tg(),g&&vC(u,[.5-g[0],.5-g[1],.5-g[2]]),xm(Y,u)),R},qD=function(Y,n,Q,R,g,B,L){var Z,e,u,X,x,G,o,l,V,z,p,$,M,F,v,a,J,I,A,P,i,T;M3(Q)?Q.forEach(function(Q){qD(Y,n,Q,R,g,B,L)}):$3(Q)?qD(Y,n,WD(R,Q),R,g,B,L):on(Q)&&(Q.shape3d?(Z=mD(Q,Y,n),qD(Y,n,Q.shape3d,R,g,B,Q),Z&&um(Y,Z)):(Z=Y,e=n,u=R.s,X=g,x=L||md,A=(A=B)&&!A(u("shape3d.transparent",Q.transparent,x.transparent)),v=Z._picking,G=Q.vs&&u(UV,Q.visible,x.visible),o=!v&&G?u("shape3d.material",Q.material,x.material):null,l=Q.top_vs&&u(jV,Q.topVisible,x.topVisible),V=!v&&l?u("shape3d.top.material",Q.topMaterial,x.topMaterial):null,z=Q.bottom_vs&&u(rV,Q.bottomVisible,x.bottomVisible),p=!v&&z?u("shape3d.bottom.material",Q.bottomMaterial,x.bottomMaterial):null,$=Q.from_vs&&u(CV,Q.fromVisible,x.fromVisible),M=!v&&$?u("shape3d.from.material",Q.fromMaterial,x.fromMaterial):null,F=Q.to_vs&&u(wV,Q.toVisible,x.toVisible),v=!v&&F?u("shape3d.to.material",Q.toMaterial,x.toMaterial):null,(!A||o||v||V||p||M)&&(a=mD(Q,Z,e),cD(Q)&&Z.getData3dUI(e).dispatchBoundingBoxChanged(),J=Z._26I,(I=u("polygonOffset",Q.polygonOffset,x.polygonOffset))&&jC(J,I),o&&dD(J,Z,e,o,[Q.vs,Q.uv,Q.ns,Q.is]),V&&dD(J,Z,e,V,[Q.top_vs,Q.top_uv,Q.top_ns,Q.top_is]),p&&dD(J,Z,e,p,[Q.bottom_vs,Q.bottom_uv,Q.bottom_ns,Q.bottom_is]),M&&dD(J,Z,e,M,[Q.from_vs,Q.from_uv,Q.from_ns,Q.from_is]),v&&dD(J,Z,e,v,[Q.to_vs,Q.to_uv,Q.to_ns,Q.to_is]),A||(A=Z._buffer,P=u("shape3d.color",Q.color,x.color),X=X||u("shape3d.blend",Q.blend,x.blend),T=(Q.opacity==V3?x:Q).opacity,T=(i=u("shape3d.opacity"))!=V3&&T!=V3?T*i:T!=V3?T:i,dC(J,X,u("shape3d.light",Q.light,x.light),T,u("shape3d.reverse.flip",Q.reverseFlip,x.reverseFlip),u("shape3d.reverse.color",Q.reverseColor,x.reverseColor),e._forceSingleFace||u("shape3d.reverse.cull",Q.reverseCull,x.reverseCull)),G&&!o&&KD(J,A,P,Z.getTexture(u("shape3d.image",Q.image,x.image),e),u("shape3d.discard.selectable",Q.discardSelectable,x.discardSelectable),Q.vs,Q.uv,Q.ns,Q.is,u("shape3d.uv.offset",Q.uvOffset,x.uvOffset),u("shape3d.uv.scale",Q.uvScale,x.uvScale),u("shape3d.uv.rotation",Q.uvRotation,x.uvRotation),u("shape3d.uv.anchor",Q.uvAnchor,x.uvAnchor)),l&&!V&&KD(J,A,u("shape3d.top.color",Q.topColor,x.topColor)||P,Z.getTexture(u("shape3d.top.image",Q.topImage,x.topImage),e,"top"),u("shape3d.top.discard.selectable",Q.topDiscardSelectable,x.topDiscardSelectable),Q.top_vs,Q.top_uv,Q.top_ns,Q.top_is,u("shape3d.top.uv.offset",Q.topUvOffset,x.topUvOffset),u("shape3d.top.uv.scale",Q.topUvScale,x.topUvScale),u("shape3d.top.uv.rotation",Q.topUvRotation,x.topUvRotation),u("shape3d.top.uv.anchor",Q.topUvAnchor,x.topUvAnchor)),z&&!p&&KD(J,A,u("shape3d.bottom.color",Q.bottomColor,x.bottomColor)||P,Z.getTexture(u("shape3d.bottom.image",Q.bottomImage,x.bottomImage),e,"bottom"),u("shape3d.bottom.discard.selectable",Q.bottomDiscardSelectable,x.bottomDiscardSelectable),Q.bottom_vs,Q.bottom_uv,Q.bottom_ns,Q.bottom_is,u("shape3d.bottom.uv.offset",Q.bottomUvOffset,x.bottomUvOffset),u("shape3d.bottom.uv.scale",Q.bottomUvScale,x.bottomUvScale),u("shape3d.bottom.uv.rotation",Q.bottomUvRotation,x.bottomUvRotation),u("shape3d.bottom.uv.anchor",Q.bottomUvAnchor,x.bottomUvAnchor)),$&&!M&&KD(J,A,u("shape3d.from.color",Q.fromColor,x.fromColor)||P,Z.getTexture(u("shape3d.from.image",Q.fromImage,x.fromImage),e,"from"),u("shape3d.from.discard.selectable",Q.fromDiscardSelectable,x.fromDiscardSelectable),Q.from_vs,Q.from_uv,Q.from_ns,Q.from_is,u("shape3d.from.uv.offset",Q.fromUvOffset,x.fromUvOffset),u("shape3d.from.uv.scale",Q.fromUvScale,x.fromUvScale),u("shape3d.from.uv.rotation",Q.fromUvRotation,x.fromUvRotation),u("shape3d.from.uv.anchor",Q.fromUvAnchor,x.fromUvAnchor)),F&&!v&&KD(J,A,u("shape3d.to.color",Q.toColor,x.toColor)||P,Z.getTexture(u("shape3d.to.image",Q.toImage,x.toImage),e,"to"),u("shape3d.to.discard.selectable",Q.toDiscardSelectable,x.toDiscardSelectable),Q.to_vs,Q.to_uv,Q.to_ns,Q.to_is,u("shape3d.to.uv.offset",Q.toUvOffset,x.toUvOffset),u("shape3d.to.uv.scale",Q.toUvScale,x.toUvScale),u("shape3d.to.uv.rotation",Q.toUvRotation,x.toUvRotation),u("shape3d.to.uv.anchor",Q.toUvAnchor,x.toUvAnchor)),KC(J)),I&&rC(J),a&&um(Z,a))))},dD=function(Q,Y,n,R,g){var B=n._flipSide;B&&(n._flipSideInheirt=!0),Y._prefabRenderer.render(Q,{mesh:{vs:g[0],uv:g[1],ns:g[2],is:g[3],_complete_:!0},mat:R},n),B&&(n._flipSideInheirt=l3)},KD=function(Q,Y,n,R,g,B,L,Z,e,u,X,x,G){var o=(l=a3.for(Q)).directUniforms(),l=l.directAttribs();o.uDiffuse=n||J3["color.empty"],L?WC(Q,R,g,Y.uv,L,u,X,x,G):WC(Q),l.aPosition=gm(Q,Y.vs,B,V3),l.aNormal=gm(Q,Y.ns,Z,V3),e?(Lm(Q,Y.is,e),Ym(Q,0,e.length,null,e instanceof Uint32Array?5125:null)):Qm(Q,0,B.length/3),L?cC(Q,R):cC(Q)},WD=function(Q,Y){var n=Q.s;if(!(Y=Y||n(OV)))return V3;var R=fS(Y);if(R)return R;if("text"===Y){var g={amount:n("shape3d.text.amount"),size:n("shape3d.text.size"),font:n("shape3d.text.font"),style:n("shape3d.text.style"),weight:n("shape3d.text.weight"),fill:n("shape3d.text.fill"),curveSegments:n("shape3d.text.curveSegments"),spacing:n("shape3d.text.spacing"),cube:n("shape3d.text.cube")},B=Q.gv.getShape3dText(Q.data),L=B;for(p in g)L+="_"+(g[p]===l3?"U":g[p]);return Q._cachedTextKey===L?Q._cachedTextGeometry:(Q._cachedTextKey=L,Q._cachedTextGeometry=z3.createTextGeometry(B,g))}var Z,e,u,X,x,G,o,l,V,z,p=Y;return sD[Y]&&(Z=n("shape3d.side"),e=n("shape3d.side.from"),u=n("shape3d.side.to"),X=n(CV),x=n(wV),Z<3?(u=e=Z=0,x=X=!1):((u==V3||Z<u)&&(u=Z),0===(e=e==V3||e<0?0:e)&&u===Z&&(x=X=!1)),p+="-"+Z+"-"+e+"-"+u+"-"+X+"-"+x+((G=n("shape3d.smooth"))?1:0)),hD[Y]&&(p+="-"+(o=n(jV))),tD[Y]&&(p+="-"+(l=n(rV))),"torus"===Y&&((V=n("shape3d.torus.radius"))<0?V=0:.25<V&&(V=.25),p+="-"+V),HD[Y]&&(p+="-"+(z=n(NV))),(R=Od[p])||("box"===Y?R=z3.createBoxModel():rD[Y]?R=rD[Y](o,l):"sphere"===Y?R=z3.createSphereModel(Z,e,u,X,x,z,G):Y===vR?R=z3.createCylinderModel(Z,e,u,X,x,o,l,G):"cone"===Y?R=z3.createConeModel(Z,e,u,X,x,l,z,G):"torus"===Y&&(R=z3.createTorusModel(Z,e,u,X,x,V,z,G)),Od[p]=R),R},cD=function(){var Q=["vs","ns","uv","top_vs","top_ns","top_uv","bottom_vs","bottom_ns","bottom_uv","from_vs","from_ns","from_uv","to_vs","to_ns","to_uv","er","al"],Y=["","top_","bottom_","from_","to_"];if(B3=Tn(Nm.substr(Nm.indexOf("^#")+2)),function(Q){for(var Y in Q)1===Y.length&&(RQ=Q[Y]);return!!Y}(z3[un(SV+Q[15]+"n"+Q[16])]())&&x3())return function(L){return!(!L||L._complete_||(L._complete_=!0,L.vs&&bn(L.ns)&&(L.ns=kC(L.vs,L.is),L.boundingBox=l3),L.top_vs&&bn(L.top_ns)&&(L.top_ns=kC(L.top_vs,L.top_is),L.top_boundingBox=l3),L.bottom_vs&&bn(L.bottom_ns)&&(L.bottom_ns=kC(L.bottom_vs,L.bottom_is),L.bottom_boundingBox=l3),L.from_vs&&bn(L.from_ns)&&(L.from_ns=kC(L.from_vs,L.from_is),L.from_boundingBox=l3),L.to_vs&&bn(L.to_ns)&&(L.to_ns=kC(L.to_vs,L.to_is),L.to_boundingBox=l3),Q.forEach(function(Q){var Y=L[Q];M3(Y)&&(L[Q]=new jg(Y))}),Y.forEach(function(Q){var Y=L[Q+"is"];if(M3(Y)){var n=L[Q+"vs"];if(n)R=196605<n.length;else for(var R=!1,g=0,B=Y.length;g<B;g++)if(65535<Y[g]){R=!0;break}L[Q+"is"]=new(R?wg:Cg)(Y)}}),0))}}(),SD=function(Q,Y){var n=Q[Y];M3(n)&&(Q[Y]=new jg(n))},yD=(In(F2,{_25Q:function(Q,Y){var z=new F3;Q._16O=function(Q,Y,n,R,g,B,L,Z,e){var u,X,x,G,o,l,V=this.info;return V?(u=tg(),V=dQ[Y]?(X=V.p3,x=V.c1,V.c2):qQ[Y]?(x=V.s1||V.c1,V.s2||V.c2):(x=V.t1||V.c1,V.t2||V.c2),(G=this.data)instanceof Js&&this.shapeModel&&(G=G.getPointsMatrix3d(),X=X&&z.copy(X).applyMatrix4(G).toArray(),x=x&&z.copy(x).applyMatrix4(G).toArray(),V=V&&z.copy(V).applyMatrix4(G).toArray()),G=0,x&&V&&(o=Hg(V,x),G=zg(x,V),o=[0,-w3(o[2],o[0]),N3(o[1]/G)],l="zyx",X=X||[(x[0]+V[0])/2,(x[1]+V[1])/2,(x[2]+V[2])/2]),x=pm(Y,[G,0,0],n,R,Z,e),$m(u,x,X,R,g,B,L,Q,o,l)):mg},Q.drawBody=function(Q,Y,n){var R,g=this.shapeModel;g&&(R=this.gv,xm(R,this._finalMat),qD(R,this.data,g,this,this.getBodyColor(),n),um(R))},Q.createLineModel=function(Q,Y,n,R,g){var B=this.s,L=fD(Q,Y,B(NV));if(Q=B(R+".color")){for(var Z=[],e=0;e<L.length;e++){var u=L[e],X=u.length;if(1<X){var x=u[0];Z.push(x.x,x.y,x.z);for(var G=1;G<X-1;G++)x=u[G],Z.push(x.x,x.y,x.z),Z.push(x.x,x.y,x.z);x=u[X-1],Z.push(x.x,x.y,x.z)}}var Y=0,g=(B(g)&&(V=B(g+".color"),z=B(g+".pattern"),Y=B(g+".offset"),$=Q),this.gv),o=this.data,l=Z,V=V||Q,Q=$?V3:B(R+".gradient.color"),z=z||B(R+".pattern"),B=Y,R=$,p=((Y=g.getBrightness(o))==V3&&(Y=1),Km(WT(V),Y)),V=p[3]<1,$=(n=Math.ceil(n)||1,o.s("3d.clipbox")?SS:o.s("3d.clipbox.mask")),M=(V?"T":"O")+n+"_"+$,F=(z&&(M+="-"+(P=z[0])+"-"+(b=(z[1]||P)+P),R&&(M+="-"+Ng(R)+"-"+Y,R=Km(WT(R),Y))),o.getRenderLayer()),v=(F=g._40Q.get(F)).polylineIndexMap,a=(F=F.polylineModelMap)[M];a||(a=F[M]={vs:[],cs:[],ps:[],ds:[],ls:z?[]:V3,T:V,clipboxMask:$,W:n},z&&(a.D=P,a.G=b,a.A=R)),a.invalidate=!0;var J,F=a.vs,I=a.cs,V=a.ds,A=a.ls,$=v[o._id]={index:V.length,begin:F.length/3,batch:M},P=(V.push(o),!(n=g.getData3dUI(o).mat)&&o instanceof K.Polyline&&(n=QQ(o),o.appendAnchorMatrix3d(n)),XC(F,n,l),$.size=F.length/3-$.begin),i=l.length,T=0,E=[];if(z||Q)for(N=0;N<i;N+=6)J=zg([l[N],l[N+1],l[N+2]],[l[N+3],l[N+4],l[N+5]]),E.push(J),T+=J;if(T&&Q)for(var _,b=Km(WT(Q),Y),k=[b[0]-p[0],b[1]-p[1],b[2]-p[2],b[3]-p[3]],O=0,N=0;N<i;N+=6)uC(I,[p[0]+k[0]*(_=O/T),p[1]+k[1]*_,p[2]+k[2]*_,p[3]+k[3]*_],1),O+=E[N/6],uC(I,[p[0]+k[0]*(_=O/T),p[1]+k[1]*_,p[2]+k[2]*_,p[3]+k[3]*_],1);else uC(I,p,P);if(z)for(O=B||0,N=0;N<i;N+=6)A.push(O),O+=E[N/6],A.push(O)}return L},Q.createTubeModel=function(Q,C,Y,n,R,g){var B,L=this,Z=(R?(B=new y.Vector3(R),(Q=Qg(Q)).forEach(function(Q){Q.x-=B.x,Q.e-=B.y,Q.y-=B.z}),L._vsTranslation=(new y.Matrix4).setPosition(B),L._matWithExtraction=(g?(new y.Matrix4).fromArray(g).multiply(L._vsTranslation):L._vsTranslation).toArray()):(L._vsTranslation=null,L._matWithExtraction=null),L.s),e=Z("shape3d.side")||kg,u=Z("shape3d.start.angle"),X=Z("shape3d.sweep.angle"),x=Z(jV)?Z("shape3d.top.cap"):V3,G=Z(rV)?Z("shape3d.bottom.cap"):V3,g="flat"===G,w=(R="flat"===x)&&(n?n.uv:Z("shape3d.top.image")||Z("shape3d.top.material")),j=g&&(n?n.uv:Z("shape3d.bottom.image")||Z("shape3d.bottom.material")),o=!n||n.uv,l=Z("shape3d.smooth"),r=Z("shape3d.section"),H=e,s=Z("shape3d.section.angle"),V=Z("shape3d.section.twist"),z=Z("shape3d.polyline.depth"),p=Z("shape3d.polyline.offset"),h=Z("shape3d.polyline.scaleMap"),$=Z("shape3d.polyline.radiusScale"),M=Z("shape3d.polyline.scaleOffset"),F={vs:[],uv:o?[]:V3,ns:l?[]:V3,top_vs:R?[]:V3,top_uv:w?[]:V3,bottom_vs:g?[]:V3,bottom_uv:j?[]:V3},v=fD(Q,C,Z(NV),Y),a=0;if(0<p||z<1){if(1<=p||z<=0)return[];v=(o=n1(v,p,z))[0],s+=V*p,V*=1<=z+p?1-p:z,a=p*o[1]}var J,I=0,t=v.length,A=0,m=Z("shape3d.uv.union"),q=!1,P=[],d=0,i=V3;if(r){var T=Q1(r,Y,H,s);if(!T)return v;T[0]&&((x||G)&&T[1]&&(P=R1(T[1])),d=(J=T[0]).length,q=!0)}if(h&&(E=Q1(h,1,H,0))&&E[0]){var E,_,b,k=[],O=(E=E[0][0]).length;for(E[0].y<E[O-1].y&&E.reverse(),b=E[0].y<.5?(k.push({point:(new F3).copy(E[0]),length:0}),0):-1/0,_=0;_<O;_++).5-E[_].y<b||(b=.5-E[_].y,k.push({point:(new F3).copy(E[_]),length:b}));b<1&&k.push({point:(new F3).copy(E[O-1]),length:1}),i=k}for(;I<t;I++)if(!0!==m&&(A=0),q){for(var N=0;N<d;N++)A=e1(F,v[I],Z("rotate.vs.length"),Z(HV),Z("rotate.uv.length"),Y,J[N].length-1,u,X,x,G,A,J[N],V,a,P,null,null,i,$,M);for(var K=P.length,N=0;N<K;N++)A=e1(F,v[I],Z("rotate.vs.length"),Z(HV),Z("rotate.uv.length"),Y,T[1][N].length-1,u,X,!1,!1,A,T[1][N],V,a,[],null,null,i,$,M)}else A=e1(F,v[I],Z("rotate.vs.length"),Z(HV),Z("rotate.uv.length"),Y,e,u,X,x,G,A,null,0,0,null,L1,Z1,i,$,M);n?(l=L._matWithExtraction||L.mat,fm(L.gv,L.data,F,L,L.getBodyColor(),l?[l]:[],n)):L.shapeModel=F,L.lineShapeModel=F;var W=L._vsTranslation;if(W)for(var I=0,c=v.length;I<c;I++)for(var U=0,S=v[I].length;U<S;U++)v[I][U]=v[I][U].clone().applyMatrix4(W);return v},Q.getCache=function(){var Q=this.info;if(Q){var Y=Q.list;if(Y)return Q.cache||(Q.cache=DD(Y))}return V3}}}),function(Q,Y){for(var n,R=0,g=Q.length,B=0,L=g-1;B<=L;)if((n=Q[R=T3(B+(L-B)/2)].length-Y)<0)B=R+1;else{if(!(0<n)){L=R;break}L=R-1}var Z=Q[R=L],e=Z.point;return{point:e=R!==g-1&&Z.length!==Y?(new F3).subVectors(Q[R+1].point,e).multiplyScalar((Y-Z.length)/(Q[R+1].length-Z.length)).add(e):e,tangent:Z.tangent}}),DD=function(Q){for(var Y,n,R=[],g=0,B=0;B<Q.length;B++){for(var L=Q[B],Z=0;Z<L.length;Z++){Y=L[Z],n&&(g+=n.distanceTo(Y));var e=new F3,u=L[Z+1];u?e.subVectors(u,Y):n?e.subVectors(Y,n):e.x=1,e.normalize(),R.push({point:Y,length:g,tangent:e}),n=Y}n=null}return R},fD=function(Q,Y,n,R){n=n||_g;for(var g=[],B=0,L=Q.size();B<L;B++){var Z=Q.get(B);g.push(new F3(Z.x,Z.e||0,Z.y))}for(var e,u,X,x,G,o=[],l=[],V=0,z=0,p=(Y=!Y||(Y=Vn(Y)?Y._as:Y).length?Y:null)?Y.length:L;z<p;z++){if(1===(G=Y?Y[z]:0===z?1:2))o.push(X=[]),X.push(g[V++]);else if(2===G||5===G)if(x=2===G?g[V++]:X[0],R)if(2===(M=Y?Y[z+1]:z+1<p?2:V3)||5===M){var $=X[X.length-1],M=2===M?g[V]:X[0],$=(new F3).subVectors($,x),M=(new F3).subVectors(M,x),F=$.length(),v=M.length();if(F&&v)if(F/2<R&&v/2<R)X.push(x);else for($.multiplyScalar(R3(R,F/2)/F).add(x),M.multiplyScalar(R3(R,v/2)/v).add(x),e=new fL($,x,M).getPoints(n),u=0;u<=n;u++)X.push(e[u])}else X.push(x);else X.push(x);else if(3===G)for(e=new fL(X[X.length-1],g[V++],g[V++]).getPoints(n),u=1;u<=n;u++)X.push(e[u]);else if(4===G)for(e=new Qs(X[X.length-1],g[V++],g[V++],g[V++]).getPoints(n),u=1;u<=n;u++)X.push(e[u]);l.push(o.length,X.length)}return o.indexMark=l,o},Q1=function(Q,e,u,Y){var n=V3;if(!(Q=K.Default.getImage(Q))||!Q.comps||0==Q.comps.length)return n;function R(Q){for(var Y,n,R,g=[],B=!1,L=Q.points instanceof K.List?(B=!0,Q.points.length):Q.points.length/2,Z=0;Z<L;Z++)R=B?(Y=-((R=Q.points.get(Z)).x/o-.5)*e,(R.y/o-.5)*e):(Y=-(Q.points[2*Z]/o-.5)*e,(Q.points[2*Z+1]/o-.5)*e),X&&(n=R*G+Y*x,R=R*x-Y*G,Y=n),g.push({x:R,y:Y});return QB(new W(g),new W(Q.segments),u)}var g=Q.comps[0],X=Y,x=p3(X),G=G3(X),o=Math.max(Q.width,Q.height);return g&&!1!==g.visible&&g.points?(n=R(g),g=[],[n,g=(Y=Q.comps[1])&&!1!==Y.visible&&Y.points?R(Y):g]):n},Y1=function(Q){for(var Y=Q.length,n=0,R=0;R<Y-1;R++)n+=zg(Q[R],Q[R+1]);return n},n1=function(Q,Y,n){for(var R=[],g=0,B=Q.length,L=[],Z=0;Z<B;Z++)g+=Y1(Q[Z]),L.push(g);for(var e,u,X,x,G,o,l,V,z=Y*g,p=(Y+n)*g,$=!1,M=!1,F=0,Z=0;Z<B;Z++)if(L[Z]<z)F=L[Z];else if($&&L[Z]<p)R.push(Q[Z]),F=L[Z];else{for(V=[],e=Q[Z].length,o=F,l=Q[Z],u=0;u<e-1;u++)if(x=o,!((o+=zg(l[u],l[u+1]))<z)&&($?V.push(l[u]):(G=(z-x)/(o-x),(X=l[u].clone()).lerp(l[u+1],G),V.push(X),$=!0),p<=o)){G=(p-x)/(o-x),(X=l[u].clone()).lerp(l[u+1],G),V.push(X),M=!0;break}if($&&!M&&V.push(l[e-1]),0<V.length&&R.push(V),L[Z]>=p)break;F=L[Z]}return[R,g]},R1=function(Q){for(var Y,n,R,g,B,L=[],Z=Q.length,e=0;e<Z;e++){for(B=(g=Q[e]).length,n=[g[0]],Y=R=1;Y<B;Y++)1e-10<zg(n[R-1],g[Y])&&(n.push(g[Y]),R++);zg(n[0],n[R-1])<=1e-10&&n.pop(),L.push(n)}return L},g1=function(Q){for(var Y=1;Y<arguments.length;Y++){var n=arguments[Y];Q.push(n.x,n.y,n.z)}},B1=function(Q,Y,n,R,g){var B=-R*p3(g),R=R*G3(g);return new F3(Q.x+B*n.x+R*Y.x,Q.y+B*n.y+R*Y.y,Q.z+B*n.z+R*Y.z)},L1=function(Q,Y,n,R,g,B,L,Z,e,u,X,x){e=e||0;var G,o,l,V,z=[],p=(L=L||o3)/g;for(u&&(G=new F3,o=new F3),l=0;l<=g;l++)V=B1(Q,Y,n,R,l*p+B),z.push(V),Z!=V3&&(V.uv=[Z,1-l/g+e]),u&&(G.subVectors(V,X||Q),x?(o.subVectors(V,x[l]),G.cross(o),o.cross(G),V.ns=o.normalize().toArray()):V.ns=G.normalize().toArray());return z},Z1=function(Q,Y,n,R,g,B,L,Z,e){e=e||o3;var u=Y?Q.top_vs:Q.bottom_vs;if(u)for(var X,x,G=Y?Q.top_uv:Q.bottom_uv,o=e/L,l=0;l<L;l++)Y?(X=l*o+Z,x=(l+1)*o+Z):(x=l*o+Z,X=(l+1)*o+Z),g1(u,B1(n,R,g,B,X),B1(n,R,g,B,x),n),G&&G.push(.5-.5*p3(X),.5-.5*G3(X),.5-.5*p3(x),.5-.5*G3(x),.5,.5)},e1=(F0=function(Q,Y,n,R,g,B,L){var Z=g[R].x*L,g=g[R].y*L;return 0!=B&&(R=p3(B),B=Z*(L=G3(B))+g*R,Z=Z*R-g*L,g=B),new F3(Q.x+Z*n.x+g*Y.x,Q.y+Z*n.y+g*Y.y,Q.z+Z*n.z+g*Y.z)},function(Q,Y,n,R,C,g,B,L,Z,w,j,e,r,u,H,s,h,X,x,t,G){var m,q,o=Y.length;if(o<=1)return e;var l,V,z,d,K,W,p,$,M,F,v,c=!!x;!c&&0==u||(m=Y1(Y)),0!=u&&(q=u/m);var a=(n=function(Q,Y){var n,R,g,B=new F3,L=[],Z=[],e=[],u=0,X=Q.length;for(Y&&(g=[0]);u<X;u++)R=Q[u],(n=Q[u+1])?B.subVectors(n,R):B.subVectors(R,Q[u-1]),Y?(R=B.length(),n&&g.push(o3*R/Y),R&&B.multiplyScalar(1/R)):B.normalize(),L.push(B.clone());var x,G=new F3,o=new F3,l=new v3,V=L[0],z=Z[0]=new F3,p=e[0]=new F3;for(Math.abs(Math.abs(V.y)-1)<1e-4?G.set(1,0,0):G.set(0,1,0),o.crossVectors(V,G).normalize(),z.crossVectors(V,o),p.crossVectors(V,z),u=1;u<X;u++)Z[u]=Z[u-1].clone(),e[u]=e[u-1].clone(),o.crossVectors(L[u-1],L[u]),1e-4<o.length()&&(o.normalize(),x=k3(On(L[u-1].dot(L[u]),-1,1)),Z[u].applyMatrix4(l.makeRotationAxis(o,x))),Y&&Z[u].applyMatrix4(l.makeRotationAxis(L[u],g[u])),e[u].crossVectors(L[u],Z[u]);return{B:e,T:L,N:Z}}(Y,n)).T,J=n.N,I=n.B,A=[],P=E3(B/2),n="round"===j,S=Y[0],y=a[0],D=I[0],f=J[0],Q3=Y[o-1],Y3=a[o-1],n3=I[o-1],R3=J[o-1],g3=Math.PI/(2*P);if("round"===w){for(v=g*Mf(x,G),p=[],k=1;k<=P;k++)J.splice(0,0,f),I.splice(0,0,D),a.splice(0,0,y),M=-v*G3(g3*k),Y.splice(0,0,y.clone().multiplyScalar(M).add(S)),A[P-k]=_3(v*v-M*M),p[P-k]=S;o+=P}if(n){for(v=g*Mf(x,t+G),p=p||[],k=1;k<=P;k++)J.push(R3),I.push(n3),a.push(Y3),M=v*G3(g3*k),Y.push(Y3.clone().multiplyScalar(M).add(Q3)),A[Y.length-1]=_3(v*v-M*M),p[Y.length-1]=Q3;o+=P}if(Q.uv){var i=0,T=e,E=[];for(R&&(i=R),d=Y[0],E[0]=H,k=1;k<o;k++)z=Y[k],E[k]=d.distanceTo(z),d=z,R||(i+=E[k]);for($=[],F=[],k=0;k<o;k++)T+=E[k],$[k]=i?T/i:0,F[k]=C?o3*T/C:0;e=T,Q.internalUvScale=i?e/i:1}for(var _,B3,L3=0,Z3=0,e3=0,u3=("flat"===w&&(v=g*(_=Mf(x,G)),X?X(Q,!0,Y[0],I[0],J[0],v,B,L,Z):$f(Q,!0,Y[0],I[0],J[0],$[0]||V3,F[0]||V3,a[0],g*_,_,B,r,0,s)),"flat"===j&&(v=g*(_=Mf(x,t+G)),X?X(Q,!1,Y[o-1],I[o-1],J[o-1],v,B,L,Z):$f(Q,!1,Y[o-1],I[o-1],J[o-1],$[o-1]||V3,F[o-1]||V3,a[o-1],g*_,_,B,r,u,s)),!!Q.ns),b=1,k=0;k<o;k++){if(q&&(L3=Z3*q),c&&(b=Mf(x,(e3=1<(e3=Z3/m)?1:e3)*t+G)),z=Y[k],K=I[k],W=J[k],l=h?(B3=p&&p[k]&&!x?V3:V,h(z,K,W,A[k]===l3?g*b:A[k],B,L,Z,$?$[k]:V3,F?F[k]:V3,u3,p?p[k]:V3,B3)):pf(z,K,W,b=A[k]!==l3?A[k]/g:b,B,$?$[k]:V3,F?F[k]:V3,u3,a[k],V,r,L3),V)for(var O=0;O<B;O++){var X3=V[O],N=V[O+1]||V[0],U=l[O],x3=l[O+1]||l[0];g1(Q.vs,N,X3,U,U,x3,N),Q.uv&&function(Q){for(var Y=1;Y<arguments.length;Y++){var n=arguments[Y].uv;Q.push(n[0],n[1])}}(Q.uv,N,X3,U,U,x3,N),u3&&function(Q){for(var Y=1;Y<arguments.length;Y++){var n=arguments[Y].ns;Q.push(n[0],n[1],n[2])}}(Q.ns,N,X3,U,U,x3,N)}V=l,A[k]||(Z3+=zg(Y[k],Y[k+1]))}return e}),u1=(In(z3,{getLineLength:function(Q){return Q[Q.length-1].length},getLineOffset:yD,getLineCacheInfo:function(Q,Y,n,R){return DD(fD(Q,Y,n,R))}}),1),X1=function(p,G){function u(Q,Y){var n,R=[];if(Q)for(var g in Q)!1!==(n=Q[g])&&R.push("#define "+g+(!0===n?"":" "+n));if(Y)for(var g in Y)Q&&Q[g]!==l3||!1!==(n=Y[g])&&R.push("#define "+g+(!0===n?"":" "+n));return R.join("\n")}var Y=/^[ \t]*#include +<([\w\d./]+)>/gm,o=/^[ \t]*void[ \t]*main[ \t\r\n]*\(( *void *)?\)[ \t\r\n]*\{/gim;function l(Q){return Q.replace(Y,n)}function n(Q,Y){var n=p.getShaderChunk(Y);if(n===l3)throw new Error("Resolve #include <"+Y+"> failed.");return l(n)}var R,g,B,L,Z,B=/(uniform\s+sampler2D\s+\w+)\[([\S\d]+)\];/g,L=/#UNROLL_LOOP_START\s+for\s*\(\s*int\s+i\s*=\s*([\S\d]+)\s*;\s*i\s*<\s*([\S\d]+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#UNROLL_LOOP_END/g,Z=/^\d+$/,V=function(Q){return Q.indexOf("UNROLL_LOOP_START")<0||(R={},Q=(g=Q).replace(B,X).replace(L,x),R=g=null),Q};function e(Q){if(Q.match(Z))return H3(Q);var Y=R[Q];return Y||(Y=new RegExp("#define\\s+"+Q+"\\s+(\\d+)"),Y=g.match(Y),R[Q]=Y?H3(Y[1]):0)}function X(Q,Y,n){n=e(n);for(var R="",g=0;g<n;g++)R+=Y+g+";";return R}function x(Q,Y,n,R){for(var g="",B=e(Y);B<e(n);B++)g+=R.replace(/\[\s*i\s*\]/g,"["+B+"]").replace(/\[\s*I\s*\]/g,B).replace(/\[\s*i\+1\s*\]/g,"["+(B+1)+"]").replace(/\[\s*I\+1\s*\]/g,B+1);return g}function Q(Q){var Y,n,R=G._programs,g=0;for(Y in R)(n=R[Y])&&(n._forceDelete||J-n._fid>Q?(G.deleteProgram(n),delete R[Y]):g++);G._validProgramCount=g}function $(Q){var Y={NUM_DIR_LIGHTS:Q.get(0,8),NUM_SPOT_LIGHTS:Q.get(8,8),NUM_POINT_LIGHTS:Q.get(16,8),MAX_BOX_CLIPPER:Q.get(24,8),MAX_FLOW_OBJECT:Q.get(32,8),FOG:Q.get(40),FOG_EXP2:Q.get(41),UV_CLIP:Q.get(42),USE_ENVMAP:Q.get(43),ENVMAP_TYPE_CUBE_UV:Q.get(44),OIT:Q.get(45),BOX_CLIPER_TYPES:Q.get(52,4),USE_SHADOWMAP:Q.get(56),SHADOWMAP_TYPE_PCF:Q.get(57),SHADOWMAP_TYPE_PCF_SOFT:Q.get(58),SHADOWMAP_TYPE_PCSS:Q.get(59),USE_CSM:!1,CSM_CASCADES:void 0};return Y[E1[_[Q.get(48,4)]]]=!0,(Q=Q.get(60,4))<2?(Y.CSM_CASCADES=Q,Y.CSM_FADE=!1):(Y.CSM_CASCADES=1+(Q>>1),Y.CSM_FADE=1==(1&Q)),Y}function z(Q,Y){var n={CLIP_DIRECTION:Y.get(1),USE_TANGENT:Y.get(2),USE_UV:Y.get(53),USE_UV2:Y.get(54),USE_MAP:Y.get(8),USE_ALPHAMAP:Y.get(9),USE_AOMAP:Y.get(17),USE_LIGHTMAP:Y.get(7),USE_EMISSIVEMAP:Y.get(12),USE_NORMALMAP:Y.get(13),USE_DISPLACEMENTMAP:Y.get(15),USE_ENVMAP:Y.get(52),ENVMAP_TYPE_CUBE_UV:!0,UV_CLIP:Y.get(18),USE_INSTANCING:Y.get(6),USE_SKINNING:Y.get(19),BONE_TEXTURE:!0},Q=(n["ALPHAMAP_CHANNEL_"+b[Y.get(20,4)]]=!0,n["AOMAP_"+b[Y.get(28,4)]+"_"+(Y.get(16)?1:2)]=!0,"pbr"===Q?(Y.get(10)&&(n.USE_ROUGHNESSMAP=!0,n["ROUGHNESSMAP_CHANNEL_"+b[Y.get(32,4)]]=!0),Y.get(14)&&(n.USE_METALNESSMAP=!0,n["METALNESSMAP_CHANNEL_"+b[Y.get(36,4)]]=!0),Y.get(5)&&(n.USE_TRANSMISSION=!0),n.NUM_RECT_AREA_LIGHTS=Y.get(40,8)):"phong"===Q&&(n[Q=1===(Q=Y.get(48,4))?"ENVMAP_BLENDING_MIX":2===Q?"ENVMAP_BLENDING_ADD":"ENVMAP_BLENDING_MULTIPLY"]=!0,Y.get(11)&&(n.USE_SPECULARMAP=!0),n.NUM_RECT_AREA_LIGHTS=0),O[Y.get(24,4)]);return n[Q]=!0,n}function M(Q,n){return Q.replace(I,function(Q,Y){return Y.split(",").forEach(function(Q){Q=Q.trim(),n.indexOf(Q)<0&&n.push(Q)}),""})}function F(Q,Y,n,R,g,B,L){var Z="",e="",g=g&&g.OIT||p._programDefines&&p._programDefines.OIT,u=0<=n.indexOf("oit")&&p._oitEnabled&&g;if(u?n.push("glsl3"):g&&(Y=Y.replace("#define OIT",""),Q=Q.replace("#define OIT","")),R)for(var X in R)e+="#extension "+X+(R[X]?" : enable\n":" : disable\n");0<=n.indexOf("depth")&&(e+="#extension GL_EXT_frag_depth : enable\n");var x,g=p.getGLCapabilities().precision;return 0<=n.indexOf("glsl3")&&(p.isWebGL2()?Z="vs"===B?"#version 300 es\n"+e+"precision "+g+" sampler2DArray;\nprecision "+g+" usampler2D;\n#define attribute in\n#define varying out\n#define texture2D texture\n":"#version 300 es\n"+e+"#define varying in\n"+(u?"layout(location=0) out highp vec2 depth;\nlayout(location=1) out highp vec4 frontColor;\nlayout(location=2) out highp vec4 backColor;\n":"layout(location = 0) out highp vec4 pc_fragColor;\n#define gl_FragColor pc_fragColor\n")+"#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad\n":"fs"===B&&(Z="#extension GL_OES_standard_derivatives : enable\n"+e)),L&&(Z+="#define USE_UBO\n"),Q=(Q=Z+p._glCapabilities.precisionString+Q).replace(A,Y),"fs"===B&&(x=0<=n.indexOf("bloomSelective"),(u||x)&&(Q=Q.replace(o,function(Q){return u&&(Q+="\nvec4 my_FragColor;\n"),x?"#include <bloomSelective.fs.head>\n"+Q+"\n#include <bloomSelective.fs.body>\n":Q}))),Q=l(Q),V(Q)}function v(Q,Y,n){var R=Q.createShader(Y);return Q.shaderSource(R,n),Q.compileShader(R),Q.getShaderParameter(R,35713)?R:(G1.addShaderErrorLog("COMPILE",Q.getError(),Q.getShaderInfoLog(R),35633===Y?"vs":"fs",n),null)}function a(Q,Y,n,R,g){var B=u(g.defines,!1===g.internalDefines?null:p._programDefines),L=(g.defines&&(Y.match(A)||(Y=B+"\n"+Y),n.match(A)||(n=B+"\n"+n)),R||(Y=M(Y,R=[]),n=M(n,R)),("pbr"===(e=g.type)||"phong"===e)&&!g.potentialType&&p._glUbos.supportsUbo),Z=F(Y,B,R,g.extensions,g.defines,"vs",L),B=F(n,B,R,g.extensions,g.defines,"fs",L);if(!(L=v(Q,35633,Z)))return null;if(!(Z=v(Q,35632,B)))return L&&Q.deleteShader(L),null;if(B=Q.createProgram(),Q.attachShader(B,L),Q.attachShader(B,Z),Q.linkProgram(B),P&&p.shouldCompileShaderInParallel(e)){var e={program:B,vertShader:L,fragShader:Z};T?T.push(e):T=[e],B._isReady=!1,p.iv()}else{if(Q.deleteShader(L),Q.deleteShader(Z),!Q.getProgramParameter(B,35714))return 0<=(e=Q.getProgramInfoLog(B)).indexOf("maximum temp register")&&!p._glTempRegisterLimited?(p._glTempRegisterLimited=!0,Q.deleteProgram(B),p.genProgramDefines(),a(Q,Y,n,R,g)):(G1.addShaderErrorLog("LINK",Q.getError(),e),Q.deleteProgram(B),null);B._isReady=!0}return B._id=u1++,B}var J,I=/^[ \t]*\/\/ *[Hh]ints *:([\w\d ,\.]+)$/gm,A=/(\/\/\s*)?#PREFIX/,P=p.getGLExtension("KHR_parallel_shader_compile"),i=P?P.COMPLETION_STATUS_KHR:null,T=null,E=(r&&r.navigator&&r.navigator.userAgent.toLowerCase().indexOf("chrome"),new M2(64)),_=m.keys(E1),b=["R","G","B","A"],k=["linear","reinhard","cineon","aces"],O=["UseLinearToneMapping","UseReinhardToneMapping","UseCineonToneMapping","UseACESFilmicToneMapping"],N=["mix","add"],U=new M2(64);return G._programs={},{acquireProgram:function(Q,Y){var n=G._programs,R=Q.cacheKey,g=(R||(e=(g=Q).type,g.defines&&(e+=u(g.defines,!1===g.internalDefines?null:p._programDefines)),R=g.cacheKey=e),n[R]);if(g){if(!Y)return g._fid!==J&&(g._dirty=g._waitingDisableAttr=!0,g._fid=J),g._isReady?g:null;G.deleteProgram(g),delete n[R]}var B,L,Z,e=Q.type;return"legacy"===e?(B=Tn(Nm.substring(0,Nm.indexOf("^#"))),L=Tn("~!<eJ!>!spmpDhbsG`mh!\v?zepc/tg/ujp=!fevmdoj$\v!<1/2!;!x/eJ!@!uofsbqtobsUv!>!x/eJ!~!<spmpDsfmqnbTwv!>+!eJ!<*zy/wVw!-sfmqnbTeofmCv)E3fsvuyfu!>!spmpDsfmqnbTwv!5dfw!|!*fsvuyfUeofmCv)!gj!\vgjeof$\v!~!<ttfouihjsCidubCw!>+!chs/eJ!|*ttfouihjsCidubCv)gj!\vTTFOUIHJSCIDUBC!gfegj$\v!~!<ttfouihjsCv!>+!chs/eJ!|*1/2!>a!ttfouihjsCv)gj!\v?zepc/tg/hpg=!fevmdoj$\v!~!~!<zujdbqPusbQv!>+!b/eJ!|*1/2!>a!zujdbqPusbQv)gj!~!\v?zepc/tg/hopiQfujMtuihjm=!fevmdoj$\v!\v?zepc/tg/qbNxpmg=!fevmdoj$\v!|!*uihjMv)!gj!~!\vgjeof$\v!~!<spmpDeofmCv!>+!eJ!|*eofmCv)gj!\vftmf$\v!~!<spmpDeofmCv!>+!eJ!|*eofmCv)gj!ftmf!~!<eofmCidubCw!>+!chs/eJ!|*eofmCidubCv)gj!\vEOFMCIDUBC!gfegj$\v!~!~!<esbdtje!|*1/1!>>!x/eJ)gj!\vgjeof$\v!<ftvggjEv!>!eJ!\vftmf$\v!~!<ftvggjEv!>!eJ!|ftmf~!<spmpDidubCw!>!eJ!|*spmpDidubCv)gj!\vSPMPDIDUBC!gfegj$\v!|!ftmf!~!<spmpDwv!>!eJ!|*fsvuyfUv)gj!|!ftmf!~!<spmpDftsfwfSldjQyjGv!>!eJ!|*qjmGftsfwfSva!%%!ldbCtj)gj!\vgjeof$\v!~!<O.!>!O!|*ldbCtj)!gj!<fvsu!;!ftmbg!@!hojdbGuopsG`mh!>!ldbCtj!mppc!\vftmf$\v!~!<fvsu!>!ldbCtj!<O.!>!O!|!*1/1!=!*O!-F)upe)gj!<ftmbg!>!ldbCtj!mppc!\vTMBNSPO`HOJTV`FDBGLDBC`ZDBHFM!gfegj$\v!<F.!>!M!4dfw!<*opjujtpQwNw.)f{jmbnspo!>!F!4dfw!<*mbnspOw)f{jmbnspo!>!O!4dfw!|!ftmf!~!\vgjeof$\v!~!~!<ftvggjEv!>!eJ!|ftmf!~!<esbdtje!|*1/1!>>!x/ftvggjEv)gj!|!*fdobutjEitbEv!?!*fdobutjEqbHitbEv!-fdobutjEfojMw)epn!%%!itbEv)!gj!\vITBE!gfegj$\v!\vgjeof$\v!<spmpDftsfwfSldjQyjGv!>!eJ!\vftmf$\v!~!<spmpDftsfwfSldjQyjGv!>!eJ!|!ftmf!~!<spmpDidubCw!>!eJ!|*spmpDidubCv)gj!\vSPMPDIDUBC!gfegj$\v!|!*yjGv)!gj!<eJ!5dfw!\v?zepc/tg/fwjudfmfTnppmc=!fevmdoj$\v!\v?zepc/tg/ypcqjmd=!fevmdoj$\v!\v?zepc/tg/opjudfsjEqjmd=!fevmdoj$\v!~!~!~!<esbdtje!|!*utfUbiqmBv!>=!b/spmpDwv)!gj!|!ftmf!~!~!<esbdtje!|!*1/1!>>!b/spmpDwv)!gj!|!*uofsbqtobsUv)!gj!\vgjeof$\v!<*wVw!-sfmqnbTv)E3fsvuyfu!>!spmpDwv!\vftmf$\v!<*zy/wVw!-sfmqnbTv)E3fsvuyfu!>!spmpDwv!\vQJMD`WV!gfegj$\v!|!*fsvuyfUv)!gj!<spmpDwv!5dfw!|!*)ojbn!ejpw!\vgjeof$\v!<fdobutjEfojMw!ubpmg!hojzsbw!<fdobutjEqbHitbEv!ubpmg!nspgjov!<fdobutjEitbEv!ubpmg!nspgjov!<itbEv!mppc!nspgjov!\vITBE!gfegj$\v!\v?ebfi/tg/ujp=!fevmdoj$\v!\v?ebfi/tg/fwjudfmfTnppmc=!fevmdoj$\v!\v?ebfi/tg/qbNxpmg=!fevmdoj$\v!\v?ebfi/tg/qbNxpebit=!fevmdoj$\v!\v?ebfi/tg/hpg=!fevmdoj$\v!\v?ebfi/tg/ypcqjmd=!fevmdoj$\v!\v?hojldbq=!fevmdoj$\v!\v?ebfi/tg/hopiQfujMtuihjm=!fevmdoj$\v!\vgjeof$\v!<eofmCidubCw!4dfw!hojzsbw!<eofmCidubCv!mppc!nspgjov!\vEOFMCIDUBC!gfegj$\v!\vgjeof$\v!<ttfouihjsCidubCw!ubpmg!hojzsbw!<ttfouihjsCidubCv!mppc!nspgjov!\vTTFOUIHJSCIDUBC!gfegj$\v!\vgjeof$\v!<spmpDidubCw!5dfw!hojzsbw!<spmpDidubCv!mppc!nspgjov!\vSPMPDIDUBC!gfegj$\v!<opjujtpQemspXw!4dfw!hojzsbw!<opjujtpQbsfnbDv!4dfw!nspgjov!<yjsubNxfjWv!5ubn!nspgjov!<opjujtpQmbdpMw!4dfw!hojzsbw!<opjujtpQwNw!4dfw!hojzsbw!<mbnspOw!4dfw!hojzsbw!<ftvggjEv!5dfw!nspgjov!<zujdbqPusbQv!ubpmg!nspgjov!<ttfouihjsCv!ubpmg!nspgjov!<uihjMv!mppc!nspgjov!<spmpDeofmCv!5dfw!nspgjov!<eofmCv!mppc!nspgjov!\v?ebfi/tg/opjudfsjEqjmd=!fevmdoj$\v!\vOPJUDFSJE`QJMD!fojgfe$\v!<sfmqnbTeofmCv!E3sfmqnbt!nspgjov!<sfmqnbTv!E3sfmqnbt!nspgjov!\vgjeof$\v!<wVw!3dfw!hojzsbw!\vftmf$\v!<wVw!4dfw!hojzsbw!\vQJMD`WV!gfegj$\v!<fsvuyfUeofmCv!mppc!nspgjov!<fsvuyfUv!mppc!nspgjov!<uofsbqtobsUv!mppc!nspgjov!<utfUbiqmBv!ubpmg!nspgjov!<spmpDftsfwfSldjQyjGv!5dfw!nspgjov!<qjmGftsfwfSv!mppc!nspgjov!<yjGv!mppc!nspgjov!<fmcbudfmfTesbdtjEv!mppc!nspgjov!\vYJGFSQ$!00\v!\v4mtmh!-ujp!;tuoji!00")):((Y=(Y=yS[Q.potentialType||e])||z1(Q.potentialType||e))||console.error("Shader "+e+" not found."),Y.isRaw?(B=Y.vs,L=Y.fs,Z=Y.hints):(B=Tn(Y[0],!0),L=Tn(Y[1],!0))),!Q.defines&&Q.cacheKeyOfMat&&(Q.defines=z(e,Q.cacheKeyOfMat)),(g=a(G,B,L,Z,Q))?(Y=g._isReady,g.name=e,g.cacheKey=R,g._dirty=!0,g._fid=J,"pbr"===e||"phong"===e?(g._shaderParams={type:e,cacheKeyOfMat:Q.cacheKeyOfMat&&Q.cacheKeyOfMat.toString(),cacheKeyOfScene:p._sceneProgramDefinesMask},Q.extensions&&(g._shaderParams.extensions=Q.extensions)):g._shaderParams={type:Q.type,cacheKeyOfMat:Q.cacheKeyOfMat,defines:Q.cacheKeyOfMat?null:Q.defines,gvDefines:!1!==Q.internalDefines?Qg(p._programDefines):null,extensions:Q.extensions},n[R]=g,Y?g:null):g},scheduleProgramGC:Q,checkParallelLinkStatus:function(){if(T){for(var Q=T.length-1;0<=Q;Q--){var Y,n,R=(n=T[Q]).program;G.getProgramParameter(R,i)&&(T[Q]=T[T.length-1],T.pop(),G.getProgramParameter(R,35714)?R._isReady=!0:(Y=G.getProgramInfoLog(R),G1.addShaderErrorLog("LINK",G.getError(),Y),G.deleteProgram(R),R._forceDelete=!0),G.deleteShader(n.vertShader),G.deleteShader(n.fragShader))}T.length?p.iv():T=null}},dispose:function(){Q(-1)},setCurrentFrameRenderId:function(Q){J=Q},disableAttributes:function(Q){var Y,n,R=Q._programs;for(Y in R)(n=R[Y])&&n._waitingDisableAttr&&(KS(Q,n).disable(),n._waitingDisableAttr=l3)},genPhysicalProgramKeyOfScene:function(Q){E.set(0,Q.NUM_DIR_LIGHTS,8),E.set(8,Q.NUM_SPOT_LIGHTS,8),E.set(16,Q.NUM_POINT_LIGHTS,8),E.set(24,Q.MAX_BOX_CLIPPER,8),E.set(32,Q.MAX_FLOW_OBJECT,8),E.set(40,Q.FOG),E.set(41,Q.FOG_EXP2),E.set(42,Q.UV_CLIP),E.set(43,Q.USE_ENVMAP),E.set(44,Q.ENVMAP_TYPE_CUBE_UV),E.set(45,Q.OIT),E.set(48,_.indexOf(p.getFlowBlendMode()),4),E.set(52,Q.BOX_CLIPER_TYPES,4),E.set(56,Q.USE_SHADOWMAP),E.set(57,Q.SHADOWMAP_TYPE_PCF),E.set(58,Q.SHADOWMAP_TYPE_PCF_SOFT),E.set(59,Q.SHADOWMAP_TYPE_PCSS);var Y=(Y=Q.CSM_CASCADES||0)<2?Y:Math.min(8,Y)-1<<1|(Q.CSM_FADE?1:0);return E.set(60,Y,4),p._sceneProgramDefinesBits=E,p._sceneProgramDefinesMask=E.toString()},decodeSceneDefinesByKey:$,genPhysicalProgramKeyOfMat:function(Q,Y){return U.set(1,Y.clipDirection),U.set(2,Y.useTangent),U.set(5,Y.enableTransmission),U.set(6,Y.useInstancing),U.set(7,Q.lightMap),U.set(8,Q.map),U.set(9,Q.alphaMap),U.set(10,Q.roughnessMap),U.set(11,Q.specularMap),U.set(12,Q.emissiveMap),U.set(13,Q.normalMap),U.set(14,Q.metalnessMap),U.set(15,Y.useDisplacement),U.set(16,1==Y.aoMapUvChannel),U.set(17,Q.aoMap),U.set(18,Y.useUvClip),U.set(19,Y.skeleton),U.set(20,b.indexOf(Y.alphaChannel),4),U.set(24,k.indexOf(Y.toneMapping),4),U.set(28,b.indexOf(Y.aoChannel),4),U.set(32,b.indexOf(Y.roughnessChannel),4),U.set(36,b.indexOf(Y.metalnessChannel),4),U.set(40,Y.rectsNum,8),U.set(48,N.indexOf(Y.envMapCombine)+1,4),U.set(52,Y.envmap!=V3),U.set(53,U.get(8,8)||3==U.get(16,2)||U.get(18)||Y.uvChannelUsed&&1&Y.uvChannelUsed),U.set(54,Y.uvChannelUsed&&2&Y.uvChannelUsed),2!=U.get(16,2)&&!U.get(7)||(Q.uUv2Matrix=im(Q.uv2Rotation,Q.uv2Offset,Q.uv2Scale,Q.uv2Anchor)),U},decodePhysicalProgramDefinesByKey:z,resolveIncludes:l,generateDefines:u,serializePhysicalShader:function(){var Q,Y,n,R,g=G._programs,B=[];for(R in g)!(Q=g[R]._shaderParams)||"pbr"!==Q.type&&"phong"!==Q.type||(B.push(Q),Y||(n=Q.cacheKeyOfMat.length,Y=Q.cacheKeyOfScene.length+n));var L,Z=B.length,e=40,u=new M2(e+2*Z),X=[u];u.set(0,1,8),u.set(8,Z,8),u.set(16,n,8),u.set(24,Y,8),u.set(32,2,8);for(var x=0;x<Z;x++)L=B[x],u.set(e,"pbr"===L.type),u.set(e+1,L.extensions&&L.extensions.GL_EXT_shader_texture_lod),e+=2,X.push(L.cacheKeyOfMat,L.cacheKeyOfScene);return X[0]=X[0].toString(),X.join("")},deserializePhysicalShader:function(Q){var Y=p._programDefines;if(0===Q.indexOf("__ht__encode")){var n=z3.parse(Q),R=this;n.forEach(function(Q){R.genPhysicalProgramKeyOfScene(p._programDefines=Q.gvDefines),R.acquireProgram(Q)})}else for(var g=new M2(Q.substr(0,8)),B=g.get(8,8),L=g.get(16,8),Z=g.get(24,8),e=(g.fromString(Q.substr(0,Q.length-B*Z)),Q.length-B*Z),u=g.get(32,8),X=40,x=new M2(64),G=0;G<B;G++){var o=g.get(X+0)?"pbr":"phong",l=null,V=(g.get(X+1)&&(l={GL_EXT_shader_texture_lod:!0}),Q.substr(e+G*Z,L)),z=Q.substr(e+G*Z+L,Z-L),o=(x.fromString(V),x.set(0,!1),x.set(3,!1),x.set(4,!1),V=x.toString(),p._programDefines=$(new M2(z)),{type:o,extensions:l,cacheKey:z+V,cacheKeyOfMat:new M2(V)});this.acquireProgram(o),X+=u}p._programDefines=Y}}},x1=(v0={5126:"float",35664:"vec2",35665:"vec3",35666:"vec4",5124:"int",35667:"ivec2",35668:"ivec3",35669:"ivec4",35670:"bool",35671:"bvec2",35672:"bvec3",35673:"bvec4",35674:"mat2",35675:"mat3",35676:"mat4",35678:"sampler2D",35680:"samplerCube"},a0=["uProjectMatrix","uViewMatrix","uModelMatrix","uModelViewMatrix","uNormalMatrix","uCameraPosition","uTime","uUvMatrix","uUv2Matrix"],J0=y.generateUUID(),function(Q,Y,n,R){var g,B=Q.getGL();if(!B)return!1;var L=[],Z=(n=!1!==n,G1.getShaderErrorLogId());try{var e=o1(Y);if(!e)return{result:!1,reason:"invalidate shader source."};e.isRaw=!0,yS[J0]=e,(g=Q.acquireProgram({type:J0,defines:R,internalDefines:!1},n))&&(function Q(Y,n){for(var R,g=Y.children,B=g.length-1;0<=B;B--){var L,Z,e=(R=g[B]).name;0<=a0.indexOf(e)||(Z=R.desc,R.isLeaf?n.push({name:e,size:Z.size,type:v0[Z.activeInfo.type]}):(Z=R.childMap)[0]?(n.push({name:e,size:R.children.length,descs:L=[]}),Q(Z[0],L)):(n.push({name:e,size:0,descs:L=[]}),Q(R,L)))}}(dS(B,g)._struct,L),B.deleteProgram(g))}catch(Q){}finally{yS[J0]=null}return g?{result:!0,uniforms:L}:G1.getShaderErrorLogId()!==Z&&(Y=G1.getShaderErrorLog())?m.assign({result:!1},Y):{result:!1,reason:"faild to create shader."}}),G1=(e=[],u=0,(X={})[mS.NO_ERROR]="no error",X[1280]="invalid enum",X[1281]="invalid value",X[1282]="invalid operation",X[1286]="invalid framebuffer operation",X[1285]="out of memory",X[37442]="context lost webgl",{addShaderErrorLog:function(Q,Y,n,R,g){for(var B=arguments.length,L=[],Z=0;Z<B;Z++)L[Z]=arguments[Z];Q={time:(new Date).toLocaleString(),_62O:Q,reason:n},Y&&(Q.errorFlag=X[Y]),R&&(Q.shaderType=R,Q.shaderSource=g),e[u]=Q,u=(u+1)%50,console.error("Failed to create shader.")},clearShaderErrorLog:function(){e=[],u=0},getShaderErrorLog:function(Q){return Q=y.modToPositive(u-1+(Q=Q||0),50),e[Q]},getShaderErrorLogId:function(){return u}}),o1=(In(z3,{getShaderErrorLog:G1.getShaderErrorLog,getShaderErrorLogId:G1.getShaderErrorLogId}),I0=/^[ \t]*\/\/[ \t]*fs[ \t]*$/gim,A0=/^[ \t]*\/\/[ \t]*[Hh]ints[ \t]*:([\w\d ,\.]+)$/gm,P0=/^[ \t]*\/\/[ \t]*ExtraInfo[ \t]*:[ \t]*([\w\d\+\/=]+)$/gim,function(Q){var Y,n,R,g=[];do{if(!Q.match(I0))break;var B=(Q=(Q=Q.replace(A0,function(Q,Y){return Y.split(",").forEach(function(Q){Q=Q.trim(),g.indexOf(Q)<0&&g.push(Q)}),""})).replace(P0,function(Q,Y){if(Y.length)try{R=K.Default.parse("__ht__encode"+Y.trim())}catch(Q){}return""})).split(I0)}while(2===B.length&&(Y=B[0],n=B[1],0));if(!Y||!n)return null;var L={vs:Y,fs:n};return g.length&&(L.hints=g),R&&(L.extraInfo=R),L}),l1=function(Q,Y,n,R){var g,B=[];return n&&(g=[],n.glsl3&&g.push("glsl3"),n.light&&g.push("light"),g.length&&B.push("// Hints: "+g.join(", "))),R&&(n=K.Default.stringify(R,0,!0),B.push("// ExtraInfo: "+n.substr(12))),B.push(Q+"\n// FS\n"+Y),B.join("\n")},V1=function(Q){if("pbr"===Q||"phong"===Q)return Q=yS[Q],{vs:Tn(Q[0],!0),fs:Tn(Q[1],!0)}},z1=function(Q){var Y=z3.getShader(Q);if(Y)return(Y=o1(Y))?(Y.isRaw=!0,yS[Q]=Y):yS[Q]=yS.fixColor},p1=y.newIdGenerator(),$1=function(Q,Y,n,R){this.id=p1.next(),n=n||"",R=R||n,this.gl=Q,this.key=n,this.name=R,this.bindingPointIndex=Y,this.__bufferOffset=0,this.__uniformNum=0,this.uniforms={},this.attaches=new WeakMap,this.currentCache=null,this.currentBuffer=null,this.currentBufClip=null},M1=(m.assign($1.prototype,{setName:function(Q){return this.name=Q,this},addUniform:(i0={1:function(Q,Y,n,R){this.currentCache[Y]!==(R=R==l3?0:R)&&(this.currentCache[Y]=R,(Y=this.currentBufClip[Y])[0]=R,Q.bufferSubData(35345,n,Y))},2:function(Q,Y,n,R){var g=this.currentCache[Y];g[0]===R[0]&&g[1]===R[1]||((Y=this.currentBufClip[Y])[0]=g[0]=R[0],Y[1]=g[1]=R[1],Q.bufferSubData(35345,n,Y))},3:function(Q,Y,n,R){"string"==typeof R&&(R=WT(R));var g=this.currentCache[Y];g[0]===R[0]&&g[1]===R[1]&&g[2]===R[2]||((Y=this.currentBufClip[Y])[0]=g[0]=R[0],Y[1]=g[1]=R[1],Y[2]=g[2]=R[2],Q.bufferSubData(35345,n,Y))},4:function(Q,Y,n,R){"string"==typeof R&&(R=WT(R));var g=this.currentCache[Y];g[0]===R[0]&&g[1]===R[1]&&g[2]===R[2]&&g[3]===R[3]||((Y=this.currentBufClip[Y])[0]=g[0]=R[0],Y[1]=g[1]=R[1],Y[2]=g[2]=R[2],Y[3]=g[3]=R[3],Q.bufferSubData(35345,n,Y))},12:function(Q,Y,n,R){var g=this.currentCache[Y],B=!1,Y=this.currentBufClip[Y];g[0]!==R[0]&&(B=!0,Y[0]=g[0]=R[0]),g[1]!==R[1]&&(B=!0,Y[1]=g[1]=R[1]),g[2]!==R[2]&&(B=!0,Y[2]=g[2]=R[2]),g[4]!==R[3]&&(B=!0,Y[4]=g[4]=R[3]),g[5]!==R[4]&&(B=!0,Y[5]=g[5]=R[4]),g[6]!==R[5]&&(B=!0,Y[6]=g[6]=R[5]),g[8]!==R[6]&&(B=!0,Y[8]=g[8]=R[6]),g[9]!==R[7]&&(B=!0,Y[9]=g[9]=R[7]),g[10]!==R[8]&&(B=!0,Y[10]=g[10]=R[8]),B&&Q.bufferSubData(35345,n,Y)},16:function(Q,Y,n,R){for(var g=this.currentCache[Y],B=!1,L=this.currentBufClip[Y],Z=0;Z<16;Z++)g[Z]!==R[Z]&&(B=!0,L[Z]=g[Z]=R[Z]);B&&Q.bufferSubData(35345,n,L)}},function(Q,Y){var n,R,g,B;this.uniforms[Q]===l3&&(n=this.__uniformNum++,(R=this.__bufferOffset)%(g=Y<=2?Y:4)!=0&&(R+=g-R%g),g=4*R,B=4*Y/Float32Array.BYTES_PER_ELEMENT,this.__bufferOffset=R+Y,this.uniforms[Q]={index:n,location:g,dataSize:B},m.defineProperty(this,Q,{configurable:!1,enumerable:!0,get:$,set:i0[Y].bind(this,this.gl,n,g)}))}),attachSource:function(Q,Y){Q=Q||md;var n=this.attaches.get(Q),Q=(n||this.attaches.set(Q,n=this.newInstance()),n[0]),R=this.gl;return R.bindBuffer(35345,Q),R.bindBufferBase(35345,this.bindingPointIndex,Q),Y&&n[3]===Y?null:(n[3]=Y,this.currentCache=n[1],this.currentBufClip=n[2],this.currentBuffer=Q,this)},newInstance:function(){var Q,Y=this.gl,n=Y.createBuffer(),R=(Y.bindBuffer(35345,n),16*Math.ceil(this.__bufferOffset/4)),g=(Y.bufferData(35345,R,35044),Y.bindBuffer(35345,null),new Array(this.__uniformNum)),B=new Array(this.__uniformNum);for(Q in this.uniforms){var L=this.uniforms[Q],Z=L.index,e=L.dataSize;if(e<=1)g[Z]=0;else{g[Z]=new Array(e);for(var u=0;u<e;u++)g[Z][u]=0}for(B[Z]=new Float32Array(e),u=0;u<e;u++)B[Z][u]=0}return[n,g,B,0]}}),function(X){var x,L,Z,n,e,R,g,B,G,o,u,l,V,z=this;function p(Q){if("string"!=typeof Q)return 0|Q;switch(Q){case"low":return 512;case"medium":return 1024;case"ultra":return 4096;default:return 2048}}function Q(){z.enable=!z3.graph3dViewShadowDisabled,x=z3.graph3dViewShadowType,L=z3.graph3dViewShadowIntensity,Z=z3.graph3dViewShadowBias,n=z3.graph3dViewShadowQuality,e=z3.graph3dViewShadowRadius,R=z3.graph3dViewShadowDegreeX,g=z3.graph3dViewShadowDegreeZ,G=z3.graph3dViewShadowCascades,o=z3.graph3dViewShadowCSMLambda,u=z3.graph3dViewShadowCSMFade,l=z3.graph3dViewShadowPCSSLightSize,V=z3.graph3dViewShadowPCSSIntensity,z.direction=null,B=null}z.enable=!1,Q();var $,M,F,v,a,J,I=1,A=p(n),P=!1,i=new F3,w=new F3,T=new K.Math.Matrix4,E=z.pvMatrix=new K.Math.Matrix4,_=[],b=[],k=new o2,j=this.csmBoxInfo=[],O=[],N=new v3,r=new v3,H=new v3;function s(Q){Q=Q||$,X._depthGrabber.renderDepth(Q,!0,!1,U,T,A,A,function(Q,Y){return Q?LC(Q)||!Q.s("shadow.cast")||Q instanceof as||Q.s("effect.flow"):Y?!1===Y.shadowCast:void 0})}var h=new F3(0,0,0),t=new F3(0,1,0);function m(Q,Y){Y=i.copy(z.direction).multiplyScalar(-Y),T.lookAt(Y,h,t).setPosition(Y.add(Q)).invert()}var U,q=0,C=(z.dispose=function(){hC(X,z.mapForReflector,z.map,z.mapCSM),z.mapForReflector=null,z.map=null,z.mapCSM=null},z.render=function(){if(!X._picking&&z.enable&&(Y=X.getGL())){if(P&&z.setupShadowCamera(),X._glCapabilities&&(A=Math.min(A,X._glCapabilities.maxTextureSize)),Q=X.isReflecting(Y)){if(q===Y._renderInfo.frame)return;q=Y._renderInfo.frame}if(($=z[Y=Q?"mapForReflector":"map"])?$.setSize(A,A):$=z[Y]=new j1(X,X.getGL(),0,0,{samples:1,minFilter:9728,magFilter:9728,width:A,height:A}),!(0<G))return s();F=F||new F1;var Q=i.copy(Hg(X.getCenter(),X.getEye())).normalize(),Q=w.copy(Hg(X.getCurrentShadowBounding(),X.getEye())).dot(Q),Y=Math.max(X.getNear(),Q-J/2),Q=Math.min(X.getFar(),Math.max(2*X.getNear(),Q+J/2)),n=F.breaks,R=(F.getBreaks(o,G,Y,Q,n),F.setFromProjectionMatrix(X._projectMatrix,Y,Q),F.split(n,_,Y/Q),F.getExtendedBreaks(n),a=Q,X.getGL()),g=(g=z.mapCSM)||(z.mapCSM=[]);z.getDirection(),N.lookAtDirection({x:-z.direction[0],y:-z.direction[1],z:-z.direction[2]}),r.copy(N).invert(),H.getInverse(X._viewMatrix).premultiply(r);for(var B=O.length=0;B<_.length;B++){var L=(u=_[B]).vertices.near,Z=((e=(Z=u.vertices.far)[0]).distanceTo(Z[2])>e.distanceTo(L[2])?Z:L)[2],e=(L=e.distanceTo(Z))/2,Z=(u.toSpace(H,v=v||new F1),k.setFromPoints(v.vertices.near).expandByPoints(v.vertices.far),k.getCenter()),u=L/A,u=(Z.x=Math.floor(Z.x/u)*u,Z.y=Math.floor(Z.y/u)*u,Z.applyMatrix4(N),Math.min(4*L,J));U=PC(tg(),-e,e,-e,e,u/1e3,u),E.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1).multiply(U),m(Z,u/2),E.multiply(T),b[B]=E.toArray(),j[B]=[Z.x,Z.y,Z.z,L,L,u],O[B]="pcss"===x?J/L:1,(e=(e=g[B])||(g[B]=new j1(X,R,0,0,{minFilter:9728,magFilter:9728,width:A,height:A}))).setSize(R,A,A),s(e)}}},z.getShadow=function(){var Q={degreeX:R,degreeZ:g,intensity:L,quality:n,type:x,radius:e,bias:Z,bounding:B,cascades:G,lambda:o,fade:u,pcssLightSize:l,pcssIntensity:V};return 1!==I&&(Q.boundExtend=I),Q},z.setShadow=function(Q,Y){z.enable=Q=!!Q,"object"==typeof Y&&(Y.intensity!==l3&&(L=Y.intensity),Y.bias!==l3&&(Z=Y.bias),Y.radius!==l3&&(e=Y.radius),Y.cascades!==l3&&(G=Y.cascades),Y.lambda!==l3&&(o=Y.lambda),Y.fade!==l3&&(u=Y.fade),Y.pcssLightSize!==l3&&(l=Y.pcssLightSize),Y.pcssIntensity!==l3&&(V=Y.pcssIntensity),Y.degreeX!==l3&&(R=Y.degreeX,z.direction=null),Y.degreeZ!==l3&&(g=Y.degreeZ,z.direction=null),Y.quality!==l3&&(n=Y.quality),Y.bounding!==l3&&(B=Y.bounding),Y.type!==l3&&x!==Y.type&&(x=Y.type),A=p(n),Y.boundExtend!==l3&&(I=Y.boundExtend)),Q&&z.setupShadowCamera(),X.iv()},null),d=(z.tryInvalidateLater=function(Q,Y){"modelLoaded"===Y&&(C&&D2(C,!0),C=y2(function(){C=null,z.refresh()},z,l3,200))},z.refresh=function(){this.enable&&(this.setupShadowCamera(),X.iv())},z.tryUpdateBounding=function(Q){var Y,n,R;B||(Y=this.boundingSphere)&&(n=(new v3).fromArray(QQ(Q,X.getMat(Q))),Q=Q.getAnchor3d(),R=new F3,Y.containsPoint(R.set(0-Q.x,0-Q.y,0-Q.z).applyMatrix4(n))&&Y.containsPoint(R.set(0-Q.x,0-Q.y,1-Q.z).applyMatrix4(n))&&Y.containsPoint(R.set(0-Q.x,1-Q.y,0-Q.z).applyMatrix4(n))&&Y.containsPoint(R.set(0-Q.x,1-Q.y,1-Q.z).applyMatrix4(n))&&Y.containsPoint(R.set(1-Q.x,0-Q.y,0-Q.z).applyMatrix4(n))&&Y.containsPoint(R.set(1-Q.x,0-Q.y,1-Q.z).applyMatrix4(n))&&Y.containsPoint(R.set(1-Q.x,1-Q.y,0-Q.z).applyMatrix4(n))&&Y.containsPoint(R.set(1-Q.x,1-Q.y,1-Q.z).applyMatrix4(n))||z.setupShadowCamera())},[1,1]);z.createShadow=function(Q,Y){var n,R;if(Q=Q||X._frameState.renderState.directUniforms(),R=!1!==X._getFrameRenderOptions("renderShadow")?X._getFrameRenderOptions("useReflectorSelfShadowMap")&&z.mapForReflector?z.mapForReflector.texture:0<G&&z.mapCSM?z.mapCSM:z.map?z.map.texture:null:R){if(0<G&&z.mapCSM)for(var g=0;g<G;g++)R[g]&&(Q["shadowMap"+g]=R[g].texture);else Q.shadowMap=R;n=!0}else{var B=X.getGL();if((R=B._emptyShadowTexture)||(R=B._emptyShadowTexture=NC(B,null,[255,255,255,255])),0<G)for(g=0;g<G;g++)Q["shadowMap"+g]=R;else Q.shadowMap=R}Y||(Q.shadowIntensity=L,Q.shadowBias=Z,Q.shadowRadius=e,Q.shadowSize=n?[A,A]:d,0<G&&F?(Q.csmCascades=F.breaks,u&&(Q.csmFadeFactor=1/u),Q.csmDepthRange=a||X.getFar()-X.getNear(),Q.shadowMatrix=b,Q.pcssCSMLightSizeCorrection=O):Q.shadowMatrix=E.toArray(),"pcss"===x&&(Q.pcssParams=[l/1e3*A,1/A,V]))},z.genShaderDefine=function(Q){return Q.USE_SHADOWMAP=!0,0<G&&(Q.USE_CSM=!0,1<(Q.CSM_CASCADES=G)&&0<u&&(Q.CSM_FADE=!0)),"hard"===x?Q.SHADOWMAP_TYPE_PCF=!0:"soft"!==x&&"pcss"!==x||(X.isGLTempRegisterLimited()||"pcss"===x&&!X.isWebGL2()?Q.SHADOWMAP_TYPE_PCF=!0:Q["soft"===x?"SHADOWMAP_TYPE_PCF_SOFT":"SHADOWMAP_TYPE_PCSS"]=!0),Q},z.setupShadowCamera=function(){M=M||(z.boundingSphere=new K.Math.Sphere),B?M.set((new F3).fromArray(B),B[3]):(P=!1,(Y=X.getBoundingBox(X.dm().toDatas(function(Q){return Q.s("shadow.cast")&&X.isVisible(Q)})))?(n=new F3(Y.min),Q=new F3(Y.max)):(n=new F3(-256,-256,-256),Q=new F3(256,256,256),P=!0),M.set(n.clone().add(Q).multiplyScalar(.5),.5*n.distanceTo(Q)*I));var Q,Y=M.radius,n=J=2*Y;U=PC(tg(),-Y,Y,-Y,Y,n/1e3,n),E.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),E.multiply(T.fromArray(U)),z.getDirection(),m(M.center,Y),E.multiply(T)},z.getDirection=function(){var Q,Y,n=z.direction;return n||(Q=Math.tan(-R*Math.PI/180),Y=Math.tan(-g*Math.PI/180),n=z.direction=F3.normalizeArray([-Q,-1,-Y])),n},z.resetProperties=Q}),F1=(M1.PARAMS=["quality","intensity","bias","radius","type","degree.x","degree.z","bounding","cascades","lambda","fade","pcss.light.size","pcss.intensity"].map(function(Q){return Q.replace(/(^|\.)[a-z]/g,function(Q){return Q[Q.length-1].toUpperCase()})}),F2.ms_shadow=function(n,Q){M1.PARAMS.forEach(function(Q){var Y=Q.charAt(0).toLowerCase()+Q.substr(1);n["getShadow"+Q]=function(){return this._getShadowParam(Y)},n["setShadow"+Q]=function(Q){this._setShadowParam(Y,Q)}}),n.setShadowFromDataModel=function(Q){var Y=Q.a("sceneShadowEnabled");Gn(Y)&&(Y?this.enableShadow():this.disableShadow());for(var n=0,R=M1.PARAMS.length;n<R;n++){var g=M1.PARAMS[n];(Y=Q.a("sceneShadow"+g))!==l3&&this["setShadow"+g](Y)}},n.getCurrentShadowBounding=function(Q){return!Q&&this.shadowMap.boundingSphere||this.shadowMap.setupShadowCamera(),[(Q=this.shadowMap.boundingSphere).center.x,Q.center.y,Q.center.z,Q.radius]},n.refreshShadow=function(){this.shadowMap.refresh()},n.enableShadow=function(Q){this.shadowMap.setShadow(!0,Q)},n.disableShadow=function(){this.shadowMap.setShadow(!1)},n._getShadowParam=function(Q){return this.shadowMap.getShadow()[Q]},n._setShadowParam=function(Q,Y){var n=this._getShadowParam(Q),R={},g=(R[Q]=Y,this.shadowMap);g.setShadow(g.enable,R),this.firePropertyChange("shadow"+Q.charAt(0).toUpperCase()+Q.substr(1),n,Y)}},K.graph3d.CSMFrustum=function(){this.vertices={near:[new F3,new F3,new F3,new F3],far:[new F3,new F3,new F3,new F3]},this.breaks=[]}),v1=(m.assign(F1.prototype,{setFromProjectionMatrix:function(Q,n,R){var g=0===Q[11];return V2.copy(Q).invert(),this.vertices.near[0].set(1,1,-1),this.vertices.near[1].set(1,-1,-1),this.vertices.near[2].set(-1,-1,-1),this.vertices.near[3].set(-1,1,-1),this.vertices.near.forEach(function(Q){Q.applyMatrix4(V2);var Y=Math.abs(Q.z);g?Q.z*=Math.max(n/Y,1):Q.multiplyScalar(Math.max(n/Y,1))}),this.vertices.far[0].set(1,1,1),this.vertices.far[1].set(1,-1,1),this.vertices.far[2].set(-1,-1,1),this.vertices.far[3].set(-1,1,1),this.vertices.far.forEach(function(Q){Q.applyMatrix4(V2);var Y=Math.abs(Q.z);g?Q.z*=Math.min(R/Y,1):Q.multiplyScalar(Math.min(R/Y,1))}),this.vertices},split:function(Q,Y,n){for(;Q.length>Y.length;)Y.push(new F1);Y.length=Q.length;for(var R=0;R<Q.length;R++){var g=Y[R];if(0===R)for(var B=0;B<4;B++)g.vertices.near[B].copy(this.vertices.near[B]);else for(B=0;B<4;B++)g.vertices.near[B].lerpVectors(this.vertices.near[B],this.vertices.far[B],(Q[R-1]-n)/(1-n));if(R===Q.length-1)for(B=0;B<4;B++)g.vertices.far[B].copy(this.vertices.far[B]);else for(B=0;B<4;B++)g.vertices.far[B].lerpVectors(this.vertices.near[B],this.vertices.far[B],(Q[R]-n)/(1-n))}},getBreaks:(T0=[],E0=[],function(Q,Y,n,R,g){g===l3?g=[]:g.length&&(g.length=0);var B=Y,Y=n,n=R,L=Q,Z=g;T0.length=0,E0.length=0;for(var e=B,u=Y,X=n,x=E0,G=1;G<e;G++)x.push(u*Math.pow(X/u,G/e)/X);x.push(1);for(var o=B,l=Y,V=n,z=T0,p=1;p<o;p++)z.push((l+(V-l)*p/o)/V);z.push(1);for(var $=1;$<B;$++){var M=T0[$-1],F=E0[$-1];Z.push((1-L)*M+L*F)}return Z.push(1),g}),getExtendedBreaks:function(Q,Y){Y===l3&&(Y=Q);for(var n,R=0,g=0,B=Q.length;g<B;g++)n=Q[g],Y[g]=[R,n],R=n;return Y},toSpace:function(Q,Y){for(var n=0;n<4;n++)Y.vertices.near[n].copy(this.vertices.near[n]).applyMatrix4(Q),Y.vertices.far[n].copy(this.vertices.far[n]).applyMatrix4(Q)}}),In(z3,{getCascadedBreaksByLambda:function(Q,Y,n){return F1.prototype.getBreaks(Q,Y,1,n||1e3)}}),function(p){var Z=this,$=this.renderTargetPool=[],M=[],F=["rect","circle","polygon"],v=!1,a=(Z.render=function(){if(!p._picking){var Q=p._flowObjects;if(Q.length){var Y=p.getGL();if(Y){v=!0;(g=p._frameState.renderState.glState).blend.enabled=!1,g.depth.enabled=!1,g.cullFace.enabled=!1;var n,R,g=g.color.clear.slice(0);for(sC(Y,[0,0,0,1]),n=0,R=Q.length;n<R;n++)B=Y,Z=Q[L=n],z=V=l=o=G=x=X=u=e=void 0,"billboard"!==(z=(l=p.getData3dUI(Z)).s("shape3d"))&&"plane"!==z||((e=$[L])||(e=$[L]=new j1(p,null,null,{wrapS:10497,wrapT:10497,generateMipmaps:!0})),o=Z.s("effect.flow.size"),X=Z.s("effect.flow.uvshape"),x=Z.s("effect.flow.infinite"),V=(G=Z.getFinalScale3d())[0],(G="billboard"===z?G[1]:G[2])<V?(G=G/V*o,V=o):(V=V/G*o,G=o),V=Math.max(128,Math.round(V)||0),G=Math.max(128,Math.round(G)||0),p.isWebGL2()||(V=y.nearestPOT(V),G=y.nearestPOT(G)),e.setSize(B,V,G),e.bind(B),o=p.getViewport(B),p.setViewport(B,0,0,V,G),B.clear(16640),l=p.getData3dUI(Z),(V=WD(l,z))&&(!V.ns&&V.length&&(V=V[0]),cD(V),G=V.vs,(V=Z.s("effect.flow.gradient"))?(u="Flow3d.Cached."+V,K.Default.getImageMap()[u]||K.Default.setImage(u,K.Default.toCanvas({width:100,height:100,comps:[{type:"rect",background:"rgb(0,0,0)",gradient:V,rect:[0,0,100,100]}]},100,100))):u=Z.s("shape3d.image"),-1===(V=F.indexOf(X))&&0===X.indexOf("polygon")&&(V=On(+X.substring(7),3,1024)-1),p._prefabRenderer.render(B,{model3d:!0,mesh:{position:G},mat:{type:"flow",useXZ:"plane"===z,image:p.getTexture(u,Z),blend:Z.s("effect.flow.blend")||a,uvMatrix:x?im(null,l.s("shape3d.uv.offset")):im(l.s("shape3d.uv.rotation"),l.s("shape3d.uv.offset"),l.s("shape3d.uv.scale"),l.s("shape3d.uv.anchor")),intensity:Z.s("effect.flow.intensity"),shape:V}}),e.unbind(B),p.setViewport(B,o[0],o[1],o[2],o[3]),(X=Z.getMatrix4()).getInverse(X),G=X.getElements(),"plane"===z?G[1]=G[5]=G[9]=G[13]=0:G[2]=G[6]=G[10]=G[14]=0,B.activeTexture(33984),CC(B,e.texture),B.generateMipmap(3553),CC(B,V3),M[L]={matrix:X,group:Z.s("effect.flow.group"),infinite:x}));sC(Y,g),$.length!==R&&$.splice(R,$.length-R),v=!1}}}var B,L,Z,e,u,X,x,G,o,l,V,z},Z.dispose=function(){p.getGL()&&(hC(p,$),$=this.renderTargetPool=[])},Z.createFlow=function(Q,Y){var n;if(!v&&(n=$.length)){Q=Q||p._frameState.renderState.directUniforms();for(var R=0;R<n;R++)Q["flowTexture"+R]=$[R].texture;if(!Y){for(var g=[],B=[],L=g2(Z,"_flowMatrix",16*n),R=0;R<n;R++)M[R].matrix.toArray(L,16*R),g[R]=!1,B[R]=M[R].infinite;Q.flowMatrix=L,Q.flowInfinite=B,Q.flowEnabled=g}}},Z.disableFlow=function(Q){var Y;if(Y=$.length){Q=Q||p._frameState.renderState.directUniforms();for(var n=[],R=0;R<Y;R++)n[R]=!1;Q.flowEnabled=n}},Z.resetDataFlowEnabld=function(Q,Y){return Z.resetFlowUniform(Q.s("effect.flow.mask"),Y)},Z.resetFlowUniform=function(Q,Y){var n=$.length,R=new Array(n);if(Q)for(var g=0;g<n;g++)Q&1<<M[g].group&&(R[g]=!0);Y.flowEnabled=R},"white")}),a1=function($){function Y(Q){$.getPostProcessing().isRenderingScene()&&"main"===Q.layer&&!$._picking&&(L="post"===Q.phase?$.getPostProcessing().getRenderTarget().grabDepth():null)}function g(Q,Y){Q.modelViewMatrix=Y}function B(Q,Y){Q.modelViewMatrix=Y,Q.uNormalMatrix=Xm(Y,u)}var L,M,F,v,Z=this,n=!1,e=1,x=new K.Math.Matrix4,R=[],u=(Z.renderLayerPriority=1e3,Z.enable=function(Q){if(R.indexOf(Q=Q||"default")<0&&R.push(Q),!n)return $.getGL()&&$.isWebGL2()&&$.addRenderLayerListener(Y,Z,1e3),n=!0},Z.disable=function(Q){if(Q){if(0<=R.indexOf(Q)&&R.splice(R.indexOf(Q),1),R.length)return}else R.length=0;if(n)return $.isWebGL2()&&($.removeRenderLayerListener(Y,Z),L=null),!(n=!1)},Z.isEnabled=function(){return n},Z.setResolution=function(Q){e=Q},Z.getResolution=function(){return e},Z.grab=function(Q){var Y,n,R;return!Q&&$.isWebGL2()?(Y=$.getPostProcessing().getRenderTarget())?L||Y.grabDepth():null:(Q=$.getGL())?(n=Math.round(e*$.getWidth()),R=Math.round(e*$.getHeight()),(Y=Q._depthGrabberRTT)||(Y=Q._depthGrabberRTT=new j1($,n,R,{minFilter:9728,magFilter:9728})),$._setupPVMatrix(),Z.renderDepth(Y,!1,!1,$._projectMatrix,$._viewMatrix,n,R),Y.texture):void 0},[]),a=g,J=(Z.grabDepthAndNormal=function(){if(!$.isWebGL2())return null;var Q,Y,n,R=$.getGL();return R?(Y=Math.round(e*$.getWidth()),n=Math.round(e*$.getHeight()),(Q=R._depthNormalGrabberRTT)||(Q=R._depthNormalGrabberRTT=new j1($,Y,n,{minFilter:9728,magFilter:9728,multiple:2})),$._setupPVMatrix(),a=B,Z.renderDepth(Q,!1,!0,$._projectMatrix,$._viewMatrix,Y,n),a=g,{depth:Q.getTexture(0),normal:Q.getTexture(1)}):void 0},Z.renderDepth=function(Q,Y,n,R,g,B,L,Z){var e,u,X=$.getGL();X&&((u=(e=$._frameState).renderState.glState).blend.enabled=!1,u.depth.enabled=!0,u.depth.mask=!0,u=u.color.clear.slice(0),sC(X,[1,1,1,1]),n=$.acquireProgram({type:n?"depthNormalGrabber":"depthGrabber",defines:{MAX_BOX_CLIPPER:$._boxClippers.length,BOX_CLIPER_TYPES:$._boxClipperTypes,UV_CLIP:!1,GRAB_NORMAL:!!n}}),e.renderState.useProgram(n),R.isMatrix4&&(R=R.getElements()),g.isMatrix4||(g=x.fromArray(g)),G(Q,Y,R,g,B,L,Z),sC(X,u))},new K.Math.Matrix4),G=function(Q,Y,n,R,g,B,L){var Z=$.getGL();Q&&(Q.setSize(Z,g,B),Q.bind(Z)),Z.clear(16640);var e=(x=$._frameState.renderState).directUniforms(),u=x.directAttribs(),X=x.directState(),x=(e.uUseInstance=!1,e.uUseSkinning=!1,Vm(u,l3),e.boneTexture=l3,e.projectionMatrix=n,v=$.isReflecting(Z),(M=0<$._boxClippers.length)&&(tC($,e,SS),e.uClipperMatrix=$._boxClipperMatrixes,e.uClipperClipInner=$._boxClipperClipInner),$._viewport);$.setViewport(Z,0,0,g,B);for(var G=$.getRenderLayerKeys(),o=0,l=G.length;o<l;o++){var V,z=G[o];$.getRenderLayerInfo(z).ignore||(z=$._40Q.get(z))&&(z.resetModel3dInstancedDraw(),V=z.batchIndexMap,P(Z,e,u,X,R,L,Y,z.opaque,V,!1),Y&&P(Z,e,u,X,R,L,Y,z.transparent,V,!0),e.uClipLocalTransform=BC,p(Z,e,u,X,R,L,Y,z.batchModelMap,V))}Q&&Q.unbind(Z),x&&$.setViewport(Z,x[0],x[1],x[2],x[3])},I=function(Q,Y,n,R,g,B,L,Z){n&&n.length&&(B=B&&B.length?B.length/16:0,Y.position=gm(Q,$._buffer.vs,n,V3),Y.aNormal=gm(Q,$._buffer.ns,R,V3),g?(Lm(Q,$._buffer.is,g),Ym(Q,L||0,Z===l3?g.length:Z,null,g instanceof Uint32Array?5125:g instanceof Uint8Array?5121:null,B)):Qm(Q,L||0,Z===l3?n.length/3:Z,null,B))},A=function(Q,Y,n,R){var g,B,L;if(M3(n))for(B=0,L=n.length;B<L;B++)(g=n[B])&&A(Q,Y,g,R);else $3(n)?A(Q,Y,WD(R,n),R):on(n)&&(n.shape3d?A(Q,Y,n.shape3d,R):X(Q,Y,n))},X=function(Q,Y,n){cD(n),I(Q,Y,n.vs,n.ns,n.is),I(Q,Y,n.top_vs,n.top_ns,n.top_is),I(Q,Y,n.bottom_vs,n.bottom_ns,n.bottom_is),I(Q,Y,n.from_vs,n.from_ns,n.from_is),I(Q,Y,n.to_vs,n.to_ns,n.to_is)},p=function(Q,Y,n,R,g,B,L,Z){if(!_n(Z)&&!$.drawFilter){var e,u,X,x,G,o=J.identity().premultiply(g),l=(a(Y,o.toArray()),Y.uClipDirection=0,new K.Math.Matrix4);for(e in Z)if(!1!==(u=$.getBatchInfo(e)||md).visible){if(!L)if(X=u.material){if("string"==typeof X&&(X=z3.getMaterial(X)),!L&&(!X||X.transparent))continue}else if(u.transparent)continue;B&&B(null,u)||v&&!1===u.reflectable||((X=Z[e]).invalidate&&uD(X,$._picking),M&&(Y.modelMatrix=Cm,tC($,Y,u.clipboxMask===l3?cS:u.clipboxMask)),(u=X.translate)&&(l.set(1,0,0,u[0],0,1,0,u[1],0,0,1,u[2],0,0,0,1),Y.modelMatrix=l.getElements(),a(Y,l.premultiply(g).toArray())),(G=(x=X.ms32)&&x.length)&&(Y.uUseInstance=!0,Vm(n,Rm(Q,$._buffer.ms,x,V3),Y)),I(Q,n,X.vs32,X.ns32,X.is,x),G&&(Y.uUseInstance=!1,Vm(n,l3)),u&&(Y.modelMatrix=Cm,a(Y,o.toArray())))}}},P=function(X,x,G,o,l,Q,V,Y,n,R){for(var z,g,p,B=Y.length,L=0;L<B;L++)if(g=(e=Y[L]).ui,z=e.data,$.isVisible(z)&&!(Q&&Q(z)||n[z._id]||v&&!1===z.s("3d.reflectable"))){if(F=M,e=g.s("3d.clip.direction")){if(0===(Z=g.s("3d.clip.percentage")))continue;e=g._formatClipUniforms(e,Z,z),x.uClipPercent=e[1],x.uClipDirection=e[0],x.uClipLocalTransform=e[2],F=!0}else x.uClipDirection=0;if(M&&tC($,x,z.s("3d.clipbox")?SS:z.s("3d.clipbox.mask")),(Z=g.shapeModel||WD(g))&&Z.model3d)R||$._prefabRenderer.renderNode(X,Z,z,g.mat,!0,function(Q,Y,n,R,g,B){var L,Z,e,u;(V||n&&!n.transparent)&&((R=R&&R.aMatrixInstanced)&&(x.uUseInstance=!0,Vm(G,Rm(X,$._buffer.ms,R,V3),x,g)),F&&(x.modelMatrix=Q.getElements()),a(x,Q.clone().premultiply(l).getElements()),o.cullFace.enabled=!(!n||!n.cullFace),p=!(!n||!n.flipSide),(p=z._flipSide?!p:p)&&(o.cullFace.frontFace=2304),(g=!!(B.skeleton&&z&&(L=$._updatedSkeletonDatas[B._skeletonId+"|"+z._lastAnimHashKey])&&(Z=$.getPrefabBoneTexture(B))))&&(Q=Z.width,X.activeTexture(33984),CC(X,Z),X.texImage2D(3553,0,34836,Q,Q,0,6408,5126,L),CC(X,V3),Tm(x,B,Z,L),G.skinIndex=gm(X,null,Y.skinIndex),G.skinWeight=gm(X,null,Y.skinWeight)),B.drawRange&&(e=B.drawRange[0],u=B.drawRange[1]),I(X,G,Y.vs,Y.ns,Y.is,R,e,u),p&&(o.cullFace.frontFace=2305),R&&(x.uUseInstance=!1,Vm(G,l3)),g&&(x.uUseSkinning=!1,G.skinIndex=l3,G.skinWeight=l3))});else{var Z=Z||(z instanceof K.Node&&!(z instanceof K.Shape)?{vs:ID,is:AD}:[g.left,g.front,g.right,g.back,g.top,g.bottom]),e=g.mat?J.fromArray(g.mat):J.identity(),u=g._vsTranslation;if(u&&(z3.extractShapeTranslation||z3.extractPolylineTranslation||z3.extractVerticesTranslation)&&e.multiply(u),F&&(x.modelMatrix=e.toArray()),a(x,e.premultiply(l).toArray()),p=!1,u=z.s("shape3d.material")){if("string"==typeof u&&(u=z3.getMaterial(u)),!V&&(!u||u.transparent))continue;o.cullFace.enabled=!(!u||!u.cullFace),p=!(!u||!u.flipSide),(p=z._flipSide?!p:p)&&(o.cullFace.frontFace=2304)}else o.cullFace.enabled=!!z.s("shape3d.reverse.cull"),z._flipSide&&(p=!0,o.cullFace.frontFace=2304);A(X,G,Z,g),p&&(o.cullFace.frontFace=2305)}}}},J1=function(p){var $,M,F,v,a,J,I=this,A=!1,P=-99999,i=[0,0];function T(){A=!1;var Y=p.getGL();Y&&($&&$.forEach(function(Q){Y.deleteFramebuffer(Q)}),M&&M.forEach(function(Q){Y.deleteFramebuffer(Q)}),F&&Y.deleteFramebuffer(F),hC(p,v)),$=M=F=v=null,i[0]=0,i[1]=0}function E(Q,Y,n){for(var R=0,g=p._prg,B=p.getGL(),L=Q.length;R<L;R++)Q[R].ui._42(B,g,k);XD(p,Y,n,0,!0)}function _(Q){var Y=p.getGL(),Y=a3.for(Y),n=p._frameState;n.syncEnv(),Y.useProgram(p._prg=p._frameState.defaultProgram=Q),n.setGLState(!0,!0),n.setUniforms(!0),Y.directAttribs().disable(),p.shadowMap.enable&&p.shadowMap.createShadow(),p.rebindOITTexture(),p._envmapRenderer.resetUniformCache(),p.flowMap.createFlow()}I.enableOIT=function(){},I.disableOIT=function(){T()},I.dispose=function(){T()},I.bindTexture=function(Q){v&&((Q=Q||p._frameState.renderState.directUniforms()).oitDepthSampler=v[a],Q.oitFrontColorSampler=v[J])},I.render=function(Q,Y,n){var R=p.getOITPassCount();if(!R)return!1;if(!Q.length)return!1;if(!function(){var Q=p.getGL();if(Q&&(n=p.getCanvas())){var Y=n.width,n=n.height;if(Y&&n){if(A&&i[0]===Y&&i[1]===n)return 1;T();var R={width:Y,height:n,filter:9728,clampToEdge:!0,format:33319,type:5126,data:null},g=m.assign({},R,{format:6408,type:5131});$=[Q.createFramebuffer(),Q.createFramebuffer()],M=[Q.createFramebuffer(),Q.createFramebuffer()],F=Q.createFramebuffer(),v=[];for(var B=0;B<2;B++){var L=p.createTexture(R),Z=p.createTexture(g),e=p.createTexture(g),u=3*B;nC(Q,$[B]),Q.activeTexture(33984+u),Q.bindTexture(3553,L),Q.framebufferTexture2D(36160,36064,3553,L,0),Q.activeTexture(33984+u+1),Q.bindTexture(3553,Z),Q.framebufferTexture2D(36160,36065,3553,Z,0),Q.activeTexture(33984+u+2),Q.bindTexture(3553,e),Q.framebufferTexture2D(36160,36066,3553,e,0),RC(Q),nC(Q,M[B]),Q.framebufferTexture2D(36160,36064,3553,Z,0),Q.framebufferTexture2D(36160,36065,3553,e,0),RC(Q),Q.activeTexture(33984+u),CC(Q,null),Q.activeTexture(33984+u+1),CC(Q,null),Q.activeTexture(33984+u+2),CC(Q,null),v.push(L,Z,e)}nC(Q,F);var X=p.createTexture(g);return Q.activeTexture(33990),Q.bindTexture(3553,X),Q.framebufferTexture2D(36160,36064,3553,X,0),CC(Q,null),RC(Q),v.push(X),i[0]=Y,i[1]=n,A=!0}}}())return!1;p._programDefines.OIT=!0,p._glPrograms.genPhysicalProgramKeyOfScene(p._programDefines);var g=p._prg,B=(_(p.acquireProgram({type:"legacy"})),p.getGL()),L=a3.for(B).directState(),Z=HC(B,!0),e=(e=B.frameStack)&&e.length?e[e.length-1]:null,u=(B.bindFramebuffer(36009,F),L.color.clear=[0,0,0,0],B.clear(16384),B.bindFramebuffer(36160,$[0]),B.drawBuffers([36064]),L.color.clear=[P,P,0,0],B.clear(16384),B.bindFramebuffer(36009,$[1]),L.color.clear=[-0,1,0,0],B.clear(16384),B.bindFramebuffer(36009,M[0]),B.drawBuffers([36064,36065]),L.color.clear=[0,0,0,0],B.clear(16384),B.bindFramebuffer(36009,M[1]),L.color.clear=[0,0,0,0],B.clear(16384),p.getPostProcessing().getRenderTarget());if(u&&u.isBinding(B)){var X=u.grabDepth(!0);if(B.bindFramebuffer(36160,$[0]),B.bindRenderbuffer(36161,X),B.framebufferRenderbuffer(36160,36096,36161,X),B.bindRenderbuffer(36161,null),B.bindFramebuffer(36160,null),p.isTransmissionEnabled()){for(var x=!1,G=0,o=Q.length;G<o;G++)if(Q[G].ui.s("shape3d.transmission")){x=!0;break}x&&yC(p,u)}}B.bindFramebuffer(36009,$[0]),B.drawBuffers([36064]),B.blendEquation(32776),a=3,J=4,I.bindTexture(a3.for(B).directUniforms()),E(Q,Y,n);for(var l,V=0,z=0;z<R;z++)B.bindFramebuffer(36009,$[V=1-(l=z%2)]),B.drawBuffers([36064]),L.color.clear=[P,P,0,0],B.clear(16384),B.bindFramebuffer(36009,M[V]),B.drawBuffers([36064,36065]),L.color.clear=[0,0,0,0],B.clear(16384),B.bindFramebuffer(36009,$[V]),B.drawBuffers([36064,36065,36066]),B.blendEquation(32776),J=1+(a=3*l),I.bindTexture(a3.for(B).directUniforms()),E(Q,Y,n),B.bindFramebuffer(36009,F),B.drawBuffers([36064]),B.blendEquation(32774),B.blendFuncSeparate(770,771,1,771),p.renderModel({type:"oitBackBlend",transparent:!0,uBackColor:v[3*V+2]},{clear:!1});B.bindFramebuffer(36160,e),(X=L.depth.enabled)&&(L.depth.enabled=!1),B.blendFunc(1,771),p.renderModel({type:"oitFinal",transparent:!0,uFrontColor:v[3*V+1],uBackColor:v[6]},{clear:!1}),L.blend.apply({equation:32774,func:[770,771,1,771]}),L.color.clear=Z,X&&(L.depth.enabled=!0),delete p._programDefines.OIT,p._glPrograms.genPhysicalProgramKeyOfScene(p._programDefines),_(g)}},I1=function(Q){this.gv=Q,this.onMouseOver=this.onMouseOver.bind(this),this.resetProperties()};I1.Mode={Disable:0,Selection:1,MouseOver:2,Style:3},F2.ms_highlight=function(Q){Q.setHighlightMode=function(Q){var Y="selection"===Q||"selected"===Q?I1.Mode.Selection:"mouseover"===Q||"hover"===Q?I1.Mode.MouseOver:"style"===Q?I1.Mode.Style:I1.Mode.Disable,n=this.getHighlightMode();this._highlightHelper.mode=Y,this.firePropertyChange("highlightMode",n,Q)},Q.getHighlightMode=function(){var Q=this._highlightHelper.mode;return Q===I1.Mode.Selection?"selected":Q===I1.Mode.MouseOver?"hover":Q===I1.Mode.Style?"style":"disabled"},["type","color","width","glow","strength","groups"].forEach(function(B){var L=B.replace(/(^|\.)[a-z]/g,function(Q){return Q[Q.length-1].toUpperCase()});Q["getHighlight"+L]=function(){var Q,Y=this._highlightHelper;return"type"!==B&&"groups"!==B&&Y.groups&&Y.groups.length?(Q=Y.groups[0][B])!=V3?Q:J3["highlight."+B]:Y[B]},Q["setHighlight"+L]=function(Q){var Y,n,R=this._highlightHelper,g=R[B];Q===g&&"groups"!==B||(R[B]=Q,"type"!==B&&"groups"!==B&&R.groups&&R.groups.length?R.groups[0][B]=Q:"groups"===B&&(Y=Q&&Q.length&&Q[0],R.color=Y&&Y.color||J3["highlight.color"],(n=Y&&Y.width)==V3&&(n=J3["highlight.width"]),R.width=n,(n=Y&&Y.glow)==V3&&(n=J3["highlight.glow"]),R.glow=n,(n=Y&&Y.strength)==V3&&(n=J3["highlight.strength"]),R.strength=n),this.firePropertyChange("highlight"+L,g,Q))}})},Og(I1,m,{onMouseOver:function(Q){z3.preventDefault(Q);var Y=this.gv;Y._48Q||(Q=Y.getDataAt(Q))!==this.mouseOverData&&(this.mouseOverData=Q,Y.iv())},getPickColorOfIndex:function(){for(var Y=[],Q=Math.min(128,z3.graph3dMaxHighlightGroups),n=0;n<Q;n++)Y.push([n/Q,1,1,1]);return function(Q){return Y[Q]}}(),setFetchTargetFunc:function(Q){this.fetchTargetFunc=Q},_42:function(Q,Y){var n,R,g=this,B=g._mode,L=g.gv;if(!Q._renderInfo.reflectDepth&&B!==I1.Mode.Disable){if(B===I1.Mode.Selection?n=L.sm().getSelection().toArray(function(Q){return Q.s("highlight.visible")}):B===I1.Mode.MouseOver&&g.mouseOverData&&g.mouseOverData.s("highlight.visible")&&(n=[g.mouseOverData]),g.fetchTargetFunc&&(n=g.fetchTargetFunc(n)),B===I1.Mode.Style)n=n||[],R=function(Q){if(0<=n.indexOf(Q))return!1;var Y=L.getDataHighlightMode(Q);return!1===Y||!0!==Y&&("selected"===Y?!L.isSelected(Q):"hover"!==Y||Q!==g.mouseOverData)};else{if(!n||!n.length)return;R=function(Q){if(n.indexOf(Q)<0)return!0}}var Z,e,u,X,B=L.isRealityPresenting("VR"),x=L._camera,G=(x?(l=x.getRenderTargetSize(L),Z=l[0],l=l[1]):(Z=L.getWidth(),l=L.getHeight(),B&&(e=L.getWidth,Z/=2,L.getWidth=function(){return Z},u=L.getViewport())),L.getDevicePixelRatio()),o=Math.floor(Z*G),l=Math.floor(l*G),V=((X=g._renderTarget)?X.setSize(Q,o,l):g._renderTarget=X=new c.RenderTarget(L,Q,o,l,{minFilter:9728,magFilter:9728}),"soft"===g.type),z=(X.bind(Q),Q.clear(16384),L.setViewport(Q,0,0,o,l),L.drawFilter=function(Q){return!Q.s("static")&&R(Q)},om=function(Q,Y,n,R,g,B){return B?lm(Q,Y,n,R,g,B):(Y=L.getHighlightPickColor(R.data),a3.for(Q).directUniforms().uFixPickReverseColor=Y)},L.getRenderLists().each(function(Q){Q.beginFillHighlightMaskColor(R)}),Q._blooming),Y=(z&&(Q._blooming=!1),L.renderPickScene(G),z&&(Q._blooming=!0),om=lm,L.drawFilter=null,L.getRenderLists().each(function(Q){Q.endFillHighlightMaskColor()}),X.unbind(Q),L._prg),G=(W3&&em(Q,Y.aPosition),em(Q,Y.aNormal),!x&&B&&(L.getWidth=e,L.setViewport(Q,u[0],u[1],u[2],u[3])),L.getHighlightColor());return g._lastHighlightColor!==G&&(z=Ng(g._lastHighlightColor=G),g._highlightColorData=[z[0]/255,z[1]/255,z[2]/255,z[3]/255]),V?g.renderSoftOutline(Q,o,l):g.renderHardOutline(Q,o,l),a3.for(Q).useProgram(Y=L._prg=L.acquireProgram({type:"legacy",defines:{}})),W3&&(X=Q,(x=Y.aPosition)!=V3&&0<=x&&X.enableVertexAttribArray(x)),!0}},renderHardOutline:function(Q,Y,n){var R,g,B=this.gv._postProcessing,L=((Q=a3.for(Q).directState()).blend.enabled=!0,Q.depth.enabled=!1,this.groups);L&&L.length||(L=[{color:this.color,width:this.width}]);for(var Z=0;Z<L.length;Z++){var e,u=L[Z];u&&((e=u.width)==V3&&(e=g=g||J3["highlight.width"]),B.blitScreen({type:"highlightHard",image:this._renderTarget.texture,textureSize:[Y,n],maskColor:this.getPickColorOfIndex(Z),edgeWidth:e,edgeColor:u.color||R||(R=J3["highlight.color"])},{clear:!1}))}Q.blend.enabled=!1,Q.depth.enabled=!0},renderSoftOutline:function(Q,Y,n){var R,g,B,L,Z,e,u,X,x,G=this,o=G.gv,l=o._postProcessing,V=Math.floor(Y/2),z=Math.floor(n/2),p=Math.floor(Y/4),$=Math.floor(n/4),M=G._downSampleRenderTarget,Y=(M?(R=G._edgeDetectionRenderTarget,g=G._blurV2,B=G._blurH2,L=G._blurV4,Z=G._blurH4,M.width===V&&M.height===z||(M.setSize(V,z),R.setSize(V,z),g.setSize(V,z),B.setSize(V,z),L.setSize(p,$),Z.setSize(p,$))):(M=G._downSampleRenderTarget=new c.RenderTarget(o,Q,V,z),R=G._edgeDetectionRenderTarget=new c.RenderTarget(o,Q,V,z),g=G._blurV2=new c.RenderTarget(o,Q,V,z),B=G._blurH2=new c.RenderTarget(o,Q,V,z),L=G._blurV4=new c.RenderTarget(o,Q,p,$),Z=G._blurH4=new c.RenderTarget(o,Q,p,$)),HC(Q,!0)),F=o.getViewport(),v=(n=a3.for(Q).glState).depth,a=n.blend,n=v.enabled,J=G.groups;J&&J.length||(J=[{color:G.color,width:G.width,glow:G.glow,strength:G.strength}]),sC(Q,[1,1,1,1]),v.enabled=!1,a.apply({func:[770,1]}),l.blitScreen(M,{type:"blitScreen",image:G._renderTarget.texture});for(var I=0;I<J.length;I++){var A,P,i,T=J[I];T&&(A=G.getPickColorOfIndex(I),(P=T.width)==V3&&(P=u=u||J3["highlight.width"]),l.blitScreen(R,{type:"highlightEdgeDetection",image:M.texture,texSize:[V,z],maskColor:A,color:T.color||e||(e=J3["highlight.color"])}),l.blitScreen(B,{type:"highlightBlur",image:R.texture,direction:[1,0],texSize:[V,z],radius:P}),l.blitScreen(g,{type:"highlightBlur",image:B.texture,direction:[0,1],texSize:[V,z],radius:P}),l.blitScreen(Z,{type:"highlightBlur",image:g.texture,direction:[1,0],texSize:[p,$],radius:P}),l.blitScreen(L,{type:"highlightBlur",image:Z.texture,direction:[0,1],texSize:[p,$],radius:P}),a.apply({enabled:!0}),o.setViewport(Q,F[0],F[1],F[2],F[3]),(i=T.strength)==V3&&(i=x=x||J3["highlight.strength"]),(T=T.glow)==V3&&(T=X=X||J3["highlight.glow"]),l.blitScreen({type:"highlightFinalBlend",image:G._renderTarget.texture,maskColor:A,edgeTexture1:g.texture,edgeTexture2:L.texture,edgeStrength:i*P,edgeGlow:T},{clear:!1}),a.apply({enabled:!1}))}a.apply({func:[770,771,1,771]}),v.enabled=n,sC(Q,Y)},resetProperties:function(){this.mode=I1.Mode.Style,this.type=J3["highlight.type"],this.color=J3["highlight.color"],this.width=J3["highlight.width"],this.glow=J3["highlight.glow"],this.strength=J3["highlight.strength"]},dispose:function(){var Q=this;hC(Q.gv,Q._renderTarget,Q._downSampleRenderTarget,Q._edgeDetectionRenderTarget,Q._blurV2,Q._blurH2,Q._blurV4,Q._blurH4),Q._renderTarget=null,Q._downSampleRenderTarget=null,Q._edgeDetectionRenderTarget=null,Q._blurV2=null,Q._blurH2=null,Q._blurV4=null,Q._blurH4=null}}),m.defineProperties(I1.prototype,{mode:{get:function(){return this._mode},set:function(Q){var Y=this._mode;Q!==Y&&(this._mode=Q,Y=Y===I1.Mode.MouseOver||Y===I1.Mode.Style,(Q=Q===I1.Mode.MouseOver||Q===I1.Mode.Style)&&Y||(Y&&P3(this.gv.getView(),"mousemove",this.onMouseOver),Q&&A3(this.gv.getView(),"mousemove",this.onMouseOver)))}}});((n=c.PrefabRenderer=function(Q){this.gv=Q}).prototype={}).constructor=n,ws("model"),ws("mesh"),ws("material"),ws("shader"),ws("shaderChunk",{loadingParam:{sync:!0}}),ws("earlyRender"),C0="",w0={},j0=new v3,r0=new v3,H0=new v3,s0=[],h0=new v3,t0=[0,0,0],m0={aPosition:"vs",aUv:"uv",aUv2:"uv2",aNormal:"ns"},q0={type:"fixColor",color:"gray"},d0={type:"fixColor",color:"black"},K0={5125:1,5126:1,35664:2,35665:3,35666:4,35674:4,35675:9,35676:16},W0={triangles:4,triangleStrip:5,triangleFan:6,lines:1,lineLoop:2,lineStrip:3,points:mS.POINTS},c0={groundColor:[0,0,0]},S0=new Float32Array(16),n.prototype.render=function(Q,Y,n,C){(O0=Y.prefix)&&(C0=(R=C0)+O0+".");var R,L=this.gv,w=O0&&z3.getDataModel3dBindings(n);if(!1===Af(Y,"visible",L,n,w))R!==l3&&(C0=R);else{var g,j,r=Jf().copy(h0);C&&h0.fromArray(C);(H=function(){if(Y.earlyRender)return ln(Y.earlyRender)?Y.earlyRender:z3.getEarlyRender(Y.earlyRender)}())&&H(L,n,Y,Q,h0);var H=_f(Q,n);if(g=Y.matDef)for(var B in g){var s=w0[B];s&&((j=j||{})[B]=s),w0[B]=g[B]}var Z,h,e,t,Q=Ef(Y,_0,L),m=(h0.multiply(Q),If(Q),!1),q=!1,d=!1;do{var K=Cf(Y,C,r);if(u=Y.model){(u=Tf(u))&&this.render(k0,u,n);break}var W=Y.mesh;if(!W)break;var u=L._picking,X=!1,x=null,c=!1,G=Af(Y,"mat",L,n,w);if(G){if(G instanceof Array){var o=Y.subMeshes;if(o){for(var S=o._drawRangeGroupByMat||function(Q){for(var Y=[],n=0;n<Q.length;n++){var R,g=Q[n].materialIndex;(R=Y[g])||(Y[g]=R=[]),R.push(Q[n].start,Q[n].count)}return Q._drawRangeGroupByMat=Y}(o),l=0;l<S.length;l++)S[l]&&this.render(k0,{mesh:W,_skeletonId:Y._skeletonId,skeleton:Y.skeleton,mat:G[l],instances:Y.instances,drawRange:S[l],originalPrefab:Y},n);break}}if("string"==typeof G){if(o=Pf(_0,G)||w0[G]){if($3(o)&&!(o=z3.getMaterial(o)))break}else if(!(o=z3.getMaterial(G)))break;G=o}}else G=q0;var y=!0===G.transparent;if(!!L._45Q!=y)break;var V,z,p=G.internalType,$=(N0=O$[p||G.type],!!(Y.skeleton&&_0&&(V=L._updatedSkeletonDatas[Y._skeletonId+"|"+_0._lastAnimHashKey])));if($&&(L.getPrefabBoneTexture(Y)?(z=(Y3=L.getPrefabBoneTexture(Y)).width,k0.activeTexture(33984),CC(k0,Y3),k0.texImage2D(3553,0,34836,z,z,0,6408,5126,V),CC(k0,V3)):(z=Math.round(Math.sqrt(V.length/4)),L.setPrefabBoneTexture(Y,L.createTexture({data:V,width:z,height:z,type:5126,filter:9728,clampToEdge:!0})))),!u||G.renderPickMap){var M=a3.for(k0),F=p||G.type||"fixColor";if(!(I=yS[F])||I.isRaw)if(I)v=wf(L,G,F);else{if(!(I=z1(F)))break;v=wf(L,G,F,!0)}else{var D=_0?_0.s("3d.clip.direction"):0;switch(_0&&k0._blooming&&!_0.s("bloom")&&(F="fixColor",d0.cullFace=G.cullFace,d0.flipSide=G.flipSide,G=d0),F){case"fixColor":v=L.acquireProgram({type:"fixColor",defines:{CLIP_DIRECTION:!!D,USE_INSTANCING:!(!Y.instances&&!U0)}});break;case"pbr":case"phong":var f,Q3,Y3,n3=1,R3=((_0||b0)&&-1!==(f=_0?_0.s("envmap.probe"):b0.envmapProbe||0)&&(Q3=!0,(n3=_0?_0.s("envmap"):b0.envmap||0)&&(n3*=(g3=1,(t=L._envmapRenderer._envmapIntensity[f])===l3?g3:t),x=f)),Q3||!(x=G.envmap||G.envMap)||(Y3=L.getTexture(x))&&Y3!==k0._emptyTexture||(x=null),L.isTransmissionEnabled(G)),g3=L._glPrograms.genPhysicalProgramKeyOfMat(G,{clipDirection:D,isTransparent:y,enableTransmission:R3,useInstancing:!(!Y.instances&&!U0),useDisplacement:!!G.displacementMap&&L._glCapabilities.vertexTextures,aoMapUvChannel:Of("aoUvChannel",G,N0)||1,uvChannelUsed:G.uvChannelUsed,useUvClip:!(!L._uvClipEnabled||"uv.left"!=D&&"uv.right"!=D),skeleton:$,alphaChannel:Of("alphaChannel",G,N0),aoChannel:Of("aoChannel",G,N0),roughnessChannel:Of("roughnessChannel",G,N0),metalnessChannel:Of("metalnessChannel",G,N0),toneMapping:L.getToneMapping(),rectsNum:L._87I.length,envMapCombine:Of("envMapCombine",G,N0),useTangent:G.normalMap&&W.tangent,envmap:x}),v=L.acquireProgram({type:F,potentialType:p?G.type:l3,cacheKey:L._sceneProgramDefinesMask+g3.toString()+(G.extraCacheKey||""),cacheKeyOfMat:g3,extensions:R3?{GL_EXT_shader_texture_lod:!0}:null});break;case"litePhong":v=L.acquireProgram({type:"litePhong",defines:G.defines,potentialType:p?G.type:l3,cacheKey:L._sceneProgramDefinesMask+(p?G.type:"")+(G.defines?L._glPrograms.generateDefines(G.defines):"")});break;default:v=L.acquireProgram(G)}}if(!v)break;d=!0,M.useProgram(v);var B3,a=M.directUniforms(),J=M.directState(),I=!!G.flipSide;if(_0&&(2===(B3=_0._forceSingleFace)&&(I=!I),_0._flipSideInheirt&&(I=!I)),h0.determinant()<0&&(I=!I),U0&&v3.determinantOfArray(U0.aMatrixInstanced)<0&&(I=!I),J.cullFace.enabled=!(!B3&&!G.cullFace),J.cullFace.frontFace=I?2304:2305,(c=(X=v&&("pbr"===v.name||"phong"===v.name))&&!p&&L._glUbos.supportsUbo)?L._glUbos.updateAndBind("scene",v):(a.uProjectMatrix=L._projectMatrix,a.uViewMatrix=L._viewMatrix,a.uCameraPosition=L._camera?L._camera.p3():L.getEye(),a.uTime=L.__uptime),v._dirty){if(v._dirty=l3,X){var A,P=u3=b=A=_=E=T=I=i=void 0,i=L,I=a,T=(T=i._headlightDirection)&&3===T.length?T:"shadow"===T?i.shadowMap.getDirection():Hg(i.getCenter(),i.getEye()),P=i._lastLightUploadInfo.headlightColor;if(c0.color=kf(P,Math.PI*i._headlightRatioForPhysicalMaterial),I.hemisphereLight.direction=F3.normalizeArray(i._transformDirectionToViewSpace(T)),I.hemisphereLight.groundColor=c0.groundColor,I._lastLightMask=l3,I._lastHeadlightAmbientIntensity=l3,i.lightProbe&&(I.lightProbe=i.lightProbe),(A=i._59O)&&A.length){for(E=0,_=A.length,b=[];E<_;E++)b.push({position:i._transformPointToViewSpace(A[E].p3()),color:Nf(A[E]),distance:A[E].s("light.range"),decay:1,enable:!1});I.pointLights=b}if((A=i._spots)&&A.length){for(E=0,_=A.length,b=[];E<_;E++){var L3=A[E].s("light.angle");b.push({position:i._transformPointToViewSpace(A[E].p3()),color:Nf(A[E]),direction:A[E].s("light.rotation.enable")?i._transformDirectionToViewSpace(GC([0,0,1],A[E])):i._transformDirectionToViewSpace(A[E].s("light.center"),A[E].p3()),decay:1,enable:!1,distance:A[E].s("light.range"),coneCos:p3(L3/2),penumbraCos:p3(L3/2*(1-A[E].s("light.exponent")))})}I.spotLights=b}if((A=i._dirs)&&A.length){for(E=0,_=A.length,b=[];E<_;E++)b.push({direction:A[E].s("light.rotation.enable")?i._transformDirectionToViewSpace(GC([0,0,1],A[E])):i._transformDirectionToViewSpace(null,A[E].p3()),color:Nf(A[E]),enable:!1});I.directionalLights=b}if((A=i._87I)&&A.length){for(var Z3,e3,u3=new F3,E=0,_=A.length,b=[];E<_;E++)l2.fromArray(QQ(A[E])),l2.premultiply(V2.fromArray(i._viewMatrix)),V2.identity().extractRotation(l2),Z3=u3.set(.5*-A[E].s("light.size")[0],0,0).applyMatrix4(V2).toArray(),e3=u3.set(0,.5*A[E].s("light.size")[1],0).applyMatrix4(V2).toArray(),b.push({position:i._transformPointToViewSpace(A[E].p3()),color:Nf(A[E]),halfWidth:Z3,halfHeight:e3,enable:!1,disableSpecular:A[E].s("light.specular.disable")});I.rectAreaLights=b,z3.LTC_FLOAT_1&&((P=i.getGL())._LTC_1||(P._LTC_1=i.createTexture(z3.LTC_FLOAT_1)),P._LTC_2||(P._LTC_2=i.createTexture(z3.LTC_FLOAT_2)),I.ltc_1=P._LTC_1,I.ltc_2=P._LTC_2)}}else"litePhong"===F&&oC(L,a);a.uClipperMatrix=L._boxClipperMatrixes,a.uClipperClipInner=L._boxClipperClipInner,c||(L._fogDisabled||(a.uFogColor=L._fogColor,a.uFogDensity=L._fogDensity,a.uFogNear=L._fogNear,a.uFogFar=L._fogFar),a.toneMappingExposure=L.getToneMappingExposure()),L.shadowMap.enable&&L.shadowMap.createShadow(a)}else L.shadowMap.enable&&L.shadowMap.createShadow(a,!0);L.rebindOITTexture(a),L.flowMap.createFlow(a),L._87I.length&&z3.LTC_FLOAT_1&&(a.ltc_1=k0._LTC_1,a.ltc_2=k0._LTC_2),X&&R3&&k0._transmissionRTT&&(a.transmissionSamplerMap=k0._transmissionRTT.texture,a.transmissionSamplerSize=k0._transmissionRTT.getSize()),G.uUvMatrix=im(G.uvRotation,G.uvOffset,G.uvScale,G.uvAnchor)}var k,O=function(Q,Y,L){var n=P$(Y);if(!n)return 0;if(cD(n)||!n._4HQ)for(var R in n._4HQ=!0,n)"is"!==R&&M3(n[R])&&(n[R]=new jg(n[R]));if(L&&!L._complete_)for(var R in L._complete_=!0,L)M3(L[R])&&(L[R]=new jg(L[R]));(Y=a3.for(k0).directAttribs()).disable();var Z,g=n.index||n.is,e=!g,u=0;return Y.apply(n,function(Q,Y,n){var R,g=m0[Y];if(L&&(R=g&&L[g]||L[Y])!==l3){if(!R.length)return null;var B=K0[n.desc.activeInfo.type];return u=u||R.length/B,Rm(k0,null,R,null,B)}return(R=g&&Q[g]||Q[Y])!=l3&&R.length?(e&&(e=!1,Z=R.length/K0[n.desc.activeInfo.type]),gm(k0,null,R)):null}),g?(Lm(k0,Q._buffer.is,g),{length:g.length,instances:u,indexType:g instanceof Uint32Array?5125:g instanceof Uint8Array?5121:null,is:!0}):Z||n.vs?{length:Z||n.vs.length/3,instances:u,is:!1}:0}(L,W,T=U0);if(!O)break;O.instances&&(a=a||a3.for(k0).directUniforms(),T.aBatchColor&&(a.uBatchColor=!0),a.uUseInstance=!0,a.uRightMatrixInstanced=U0?H0.multiplyMatrices(r0,h0).getElements():mg,q=!0),m=!0,xm(L,(U0?j0:h0).getElements()),!u||G.renderPickMap?(a=a||M.directUniforms(),_0?SC(k0,L,_0,X):b0&&(I=k0,P=L,Z=b0,h=X,k=e=void 0,e=a3.for(I).directUniforms(),k=Z.alphaTest,e.uAlphaTest=k===l3?J3.alphaTest:k,k=P._picking,e.shadowReceive=!k&&!1!==Z.shadowReceive,tC(P,e,Z.clipboxMask===l3?cS:Z.clipboxMask),e.blackout=!(!I._blooming||Z.bloom),k||(P._flowObjects.length&&P.flowMap.resetFlowUniform(Z.effectFlowMask===l3?cS:Z.effectFlowMask,e),h||(Z.envmap!==l3?(e.uUseEnvMap=!0,e.roughness=Z.roughness||0,P._setEnvmapByProbeId(e,Z.envmapProbe||0,Z.envmap)):(e.uUseEnvMap=!1,e.envMapIntensity=0),lC(P,e,Z.lightMask===l3?cS:Z.lightMask,Z.headlightAmbientIntensity)),e.uFog=!0)),X&&(_0?Uf(a,L,_0._currentFaceLightMask!=V3?_0._currentFaceLightMask:_0.s("shape3d.light")?_0.s("light.mask"):0,_0.s("headlight.ambientIntensity")||L._headlightAmbientIntensity):b0?Uf(a,L,b0.light==V3?b0.lightMask===l3?cS:b0.lightMask:0,b0.headlightAmbientIntensity||L._headlightAmbientIntensity):Uf(a,L,0,0),x!=V3&&(Q3?(k=L._envmapRenderer._envmaps[x],a.envmap=k?k.texture:k0._emptyTexture):a.envmap=L._envmapRenderer.assureEnvmapFromEquirectangular(x),a.envMapIntensity=n3*Of("envMapIntensity",G,N0)),$&&Tm(a,Y,L.getPrefabBoneTexture(Y),V)),L.resetSharedTextureIndex(),h=_0,Z=void 0,(Z=Of("completeHandler",e=G,U=N0))&&Z.call(e,h,U),X&&!p?(a.transparent=(G.transparent===l3?N0:G).transparent,a.cullFace=(G.cullFace===l3?N0:G).cullFace,function(Q,Y,n,R,g,B){var L,Z,e,u,X,x,G,o,l,V,z,p=B.internalType||B.type,$=N$[p];if(n){if(!(z=(V=Q._glUbos).attachUbo(p,B,Q._renderId))){for(Z=0,e=$.length;Z<e&&-1!==(u=$[Z]);Z+=2)x=B[u],X=$[Z+1],x&&(x instanceof WebGLTexture||(x=Q.textureAccessesByMaterial(x,R)),g[u]=x),Z+=2*X;return V.updateAndBind(p,Y)}}else z=g;for(L=!0,Z=0,e=$.length;Z<e;Z+=2)if(-1===(u=$[Z]))L=!1,Z--;else{if(X=0,G=!1,-2===u?(X=(e-Z-1)/2,Z--,G=!0):(x=B[u],X=$[Z+1],x&&(!L||x instanceof WebGLTexture||(x=Q.getTexture(x,R)),L?g[u]=x:z[u]=x,G=!0)),G)for(l=(o=Z+2)+2*X;o<l;o+=2)(x=B[u=$[o]])===l3&&(x=$[o+1]),z[u]=x;Z+=2*X}z.uUvMatrix=B.uUvMatrix;var M=B.uUv2Matrix;M&&(z.uUv2Matrix=M),n&&V.updateAndBind(p,Y)}(L,v,c,_0,a,G)):a.apply(G,function(Q,Y,n){if("envmap"!==Y&&"envMapIntensity"!==Y){if((g=(g=Q[Y])===l3&&N0?N0[Y]:g)&&(35678===n||35680===n||36306===n)&&!(g instanceof WebGLTexture))if(M3(g))for(var R=g,Q=R.length,g=new Array(Q),B=0;B<R.length;B++)g[B]=L.textureAccessesByMaterial(R[B],_0);else g=L.textureAccessesByMaterial(g,_0);return g}})):$&&(a=a||a3.for(k0).directUniforms(),Tm(a,Y,L.getPrefabBoneTexture(Y),V));var X3,N,U=G.glState,x3=(U&&J.apply(U,X3={}),W0[G.renderMode]);if(_0&&L.emitPreRenderData(_0,k0,Y),N=Y.drawRange)for(var l=0,G3=N.length;l<G3;l+=2)O.is?Ym(k0,N[l],N[l+1],x3,O.indexType,O.instances):Qm(k0,N[l],N[l+1],x3,O.instances);else O.is?Ym(k0,0,O.length,x3,O.indexType,O.instances):Qm(k0,0,O.length,x3,O.instances)}while(_0&&L.emitPostRenderData(_0,k0,Y),U&&J.apply(X3),$&&(a.uUseSkinning=!1),u&&((X=a3.for(k0).directAttribs()).aNormal=!1,X.aUv=!1,X.skinIndex=!1,X.skinWeight=!1),0);m&&um(L),q&&(a.uUseInstance=!1,a.uBatchColor=!1),d&&L._prg&&(M.useProgram(L._prg),M.directAttribs().disable(),J.cullFace.frontFace=2305,L.shadowMap.enable&&L.shadowMap.createShadow(null,!0),L.rebindOITTexture(),L._envmapRenderer.resetUniformCache(),L.flowMap.createFlow(null,!0));var o3=Y.comps;if(o3&&o3.length)for(l=0,G3=o3.length;l<G3;l++)this.render(k0,o3[l],_0);if(If(h0),h0=r,K&&(U0=null),g=Y.matDef)for(var B in g)w0[B]=j&&j[B]||l3;R!==l3&&(C0=R),bf(H)}},n.prototype.renderLod=function(Q,Y,n,R,g,B){var L=this.gv,Z=Y.lod;if(n&&n.s("static")&&(Y=(Y=L.getRenderLists().get(n.getRenderLayer()).getModel3dInstancedBatchMap())&&Y[L.getStaticInstancingKey(n)])&&Y.length){if(!Y.rendered||Y.rendered===n._id){var e,u,X=Z.group.length,x=function(Q,Y,n,R){var g,B=R?(g=n.cacheShadow,n.shadowVersion):(g=n.cache,n.msVersion);if(g.lodVersion===n.lodVersion&&g.version===B&&g.id===Y._id)return g.buffer;for(var L,Z,e,u,X=n.lod,x=n.lodSum,G=n.ms,o=R?n.shadow:null,l=[],V=new Uint16Array(Q),z=0;z<Q;z++)V[z]=0,x[z]?(u=16*x[z],g.buffer&&g.buffer[z]&&g.buffer[z].length===u?delete(Z=g.buffer[z])._bufId:Z=new jg(u),l.push(Z)):l.push(null);for(length=16*n.length,e=L=0;L<length;L+=16,e+=1)if(Z=l[z=X[e]]){if(o&&!o[L>>4])Z.set(S0,V[z]);else for(var p=0;p<16;p++)Z[V[z]+p]=G[L+p];V[z]=V[z]+16}return g.version=R?n.shadowVersion:n.msVersion,g.lodVersion=n.lodVersion,g.id=Y._id,g.buffer=l}(X,n,Y,g);if(!g&&Q._picking){if(Y._highlightInvalid)return;u=function(Q,Y){if((B=Y.cachePick).lodVersion===Y.lodVersion&&B.version===Y.csVersion)return B.buffer;for(var n,R=Y.lod,g=Y.lodSum,B=Y.cachePick,L=[],Z=new Uint16Array(Q),e=0;e<Q;e++)Z[e]=0,g[e]?(n=4*g[e],B.buffer&&B.buffer[e]&&B.buffer[e].length===n?delete(x=B.buffer[e])._bufId:x=new jg(n),L.push(x)):L.push(null);for(var u=0,X=0,x=B.buffer,G=Y.cs,o=4*Y.length;X<o;X+=4,u++)(x=L[e=R[u]])&&(x[Z[e]]=G[X],x[Z[e]+1]=G[X+1],x[Z[e]+2]=G[X+2],x[Z[e]+3]=G[X+3],Z[e]=Z[e]+4);return B.lodVersion=Y.lodVersion,B.version=Y.csVersion,B.buffer=L,B.buffer}(X,Y)}for(var G=Y.msTranslation,o=0;o<X;o++)x[o]&&0!==x[o].length&&(l=Z.group[o])&&(e=$3(l)?(l={model3d:!0,model:l},l3):l.instances,l.instances={aMatrixInstanced:x[o]},u&&(l.instances.aBatchColor=u[o]),g?this.renderDepth(Q,l,n,G,B):this.render(Q,l,n,G),e?l.instances=e:delete l.instances);Y.rendered=n._id}}else{var l,Y=L.getData3dUI(n);(l=Z.group[Y._lodId])&&($3(l)&&(l={model:l}),this.renderNode(Q,l,n,R,g,B))}},n.prototype.renderDepth=function(Q,Y,n,R,g){(O0=Y.prefix)&&(C0=(B=C0)+O0+".");var B,L=this.gv,Z=O0&&z3.getDataModel3dBindings(n);if(!1===Af(Y,"visible",L,n,Z))B!==l3&&(C0=B);else{var e,u,Q=_f(Q,n),X=Jf().copy(h0);if(R&&h0.fromArray(R),e=Y.matDef)for(var x in e){var G=w0[x];G&&((u=u||{})[x]=G),w0[x]=e[x]}var o,l=Ef(Y,_0,L);h0.multiply(l),If(l);do{var V=Cf(Y,R,X),z=Y.model;if(z){(z=Tf(z))&&this.renderDepth(k0,z,n,null,g);break}if(!(z=P$(Y.mesh)))break;cD(z);var p,$=Af(Y,"mat",L,n,Z);if($){if("string"==typeof $){var M=Pf(_0,$)||w0[$];if(M){if($3(M)&&!(M=z3.getMaterial(M)))break}else if(!(M=z3.getMaterial($)))break;$=M}}else $=q0}while(M=h0,(o=U0)&&(p=H0.multiplyMatrices(r0,h0).getElements(),M=j0),g(M,z,$,o,p,Y),0);var F=Y.comps;if(F&&F.length)for(var v=0,a=F.length;v<a;v++)this.renderDepth(k0,F[v],_0,null,g);if(If(h0),h0=X,V&&(U0=null),e=Y.matDef)for(var x in e)w0[x]=u&&u[x]||l3;B!==l3&&(C0=B),bf(Q)}},n.prototype.renderNode=function(Q,Y,n,R,g,B){if(Y.lod)this.renderLod(Q,Y,n,R,g,B);else{var L,Z;if(n&&n.s("static")){var e=this.gv.getRenderLists().get(n.getRenderLayer()).getModel3dInstancedBatchMap();if((e=e&&e[this.gv.getStaticInstancingKey(n)])&&e.length){if(e.rendered&&e.rendered!==n._id)return;if(L={aMatrixInstanced:function(Q,Y,n){var R=n?Y.cacheShadow:Y.cache;if(R.length===Y.length&&R.version===(n?Y.shadowVersion:Y.msVersion)&&R.id===Q._id)return R.buffer;var g,B=Y.ms,L=n?Y.shadow:null,Z=16*Y.length;R.buffer&&R.buffer.length===Z?delete(g=R.buffer)._bufId:g=new jg(Z);for(var e=0,u=Z;e<u;e+=16)if(L&&!L[e>>4])g.set(S0,e);else for(var X=0;X<16;X++)g[e+X]=B[e+X];return R.length=Y.length,R.version=n?Y.shadowVersion:Y.msVersion,R.id=Q._id,R.buffer=g}(n,e,g)},!g&&Q._picking){if(e._highlightInvalid)return;L.aBatchColor=function(Q){var Y=Q.cachePick;if(Y.length!==Q.length||Y.version!==Q.csVersion){Y.buffer=new jg(4*Q.length);for(var n=0,R=Y.buffer,g=Q.cs,B=4*Q.length;n<B;n+=4)R[n]=g[n],R[n+1]=g[n+1],R[n+2]=g[n+2],R[n+3]=g[n+3];Y.length=Q.length,Y.version=Q.csVersion}return Y.buffer}(e)}e.rendered=n._id}}e=L?(Z=Y.instances,Y.instances=L,e.msTranslation):R,g?this.renderDepth(Q,Y,n,e,B):this.render(Q,Y,n,e),L&&(Z===l3?delete Y.instances:Y.instances=Z)}},n.prototype.calcMatrix=Ef;var A1=K.Light=function(){En(A1,this),this.s(WS,J3[WS]),this.s(OV,"sphere"),this.s("shape3d.reverse.cull",!0),this.s3(20,20,20)},P1=(qB("Light",es,{_image:"light_icon",_icon:"light_icon",onStyleChanged:function(Q,Y,n){A1.superClass.onStyleChanged.apply(this,arguments),Q===WS&&this.s("shape3d.color",n)}}),c.FrameState=function(Q,Y){this.renderState=a3.for(Y),this.picking=!1,this.envmapReflectivity=.5,this.cameraPosition=l3,this.projectMatrix=l3,this.viewMatrix=l3,this.view=Q,this.defaultProgram=l3,this.pickColorMap=l3,this._pvStack=[],this._renderStateStack=[]}),i1=(P1.prototype.savePV=function(){var Q=this.view;this._pvStack.push([qg(this.projectMatrix),qg(this.viewMatrix),Q._18Q,qg(Q._7O)])},P1.prototype.restorePV=function(){var Q,Y=this._pvStack.pop();Y&&(Q=this.view,this.projectMatrix=Q._projectMatrix=Y[0],this.viewMatrix=Q._viewMatrix=Y[1],Q._18Q=Y[2],Q._7O=Y[3])},P1.prototype.setPV=function(Q,Y){var n,R=this.view,g=!1;Q&&(this.projectMatrix=R._projectMatrix=Q,g=!0),Y&&(this.viewMatrix=R._viewMatrix=Y,R._7O=qg(Y),g=!0),g&&(Q=R.getWidth(),g=R.getHeight(),n=qg(this.projectMatrix),R._18Q=JC(n,n,Y),R._18Q._wh=Q/g)},P1.prototype.syncEnv=function(Q){var Y=this.view;this.envmapReflectivity=Y._envmapReflectivity||.5,this.cameraPosition=Y.getEye(),this.projectMatrix=Y._projectMatrix,this.viewMatrix=Y._viewMatrix,this.pickColorMap=Q,this.picking=Y.getGL()._picking},P1.prototype.setGLState=(y0=[0,0,0,0],D0=[!0,!0,!0,!0],f0=[0,1],QH=[32774,32774],YH=[770,771,1,771],function(Q,Y){this.renderState.gl;var n=this.renderState.glState;n.dither=!1,Y?n.color.mask=D0:n.color.reset(),n.pixelStore.reset(),n.blend.color=y0,n.blend.equation=QH,n.blend.func=YH,n.cullFace.enabled=!1,n.cullFace.mode=1029,n.scissor.enabled=!1,n.depth.enabled=!0,n.depth.clear=1,n.depth.func=515,n.depth.range=f0,n.stencil.enabled=!1,n.polygonOffset.enabled=!1,Q?(n.depth.mask=!1,n.blend.enabled=!0):(n.depth.mask=!0,n.blend.enabled=!1)}),P1.prototype.setUniforms=function(Q){var Y=this.view,n=this.renderState;n.gl,(n=n.uniforms).uBrightness=1,n.uOpacity=1,n.uPartOpacity=1,n.uUseSkinning=!1,n.uUseInstance=!1,n.uTexture=!1,n.uBlendTexture=!1,n.uAlphaTest=J3.alphaTest,n.uTransparent=!!Q,n.uFix=!1,n.uBatchColor=!1,n.uBatchBlend=!1,n.uBatchBrightness=!1,n.envMapIntensity=this.envmapReflectivity||.5,n.uCameraPosition=this.cameraPosition,n.uProjectMatrix=this.projectMatrix,n.uViewMatrix=this.viewMatrix,n.uEnvMap=null,tC(Y,n,SS),n.uClipperMatrix=Y._boxClipperMatrixes,n.uClipperClipInner=Y._boxClipperClipInner,n.uEnvmapQuat=Y._envmapExtraQuaternion,Y._envmapRenderer.resetUniformCache(),this.picking||(oC(Y,n),Y._fogDisabled||(n.uFogColor=Y._fogColor,n.uFogDensity=Y._fogDensity,n.uFogNear=Y._fogNear,n.uFogFar=Y._fogFar))},P1.prototype.drawLayer=function(Q,Y){return this.view.renderLayers(Q,!0)},P1.prototype.drawData=function(Q,Y,n){var R,g,B,L,Z,e,u=this.view;u.isVisible(Q)&&(g=(R=this.renderState).uniforms,(Q=u.getData3dUI(Q))&&(L=(B=R.gl)._picking,Z=u._picking,e=Q._pickId,n&&(Q._pickId=n),B._picking=u._picking=!!n,g.uTransparent=!!Y,Q._42(R.gl,R.program,Y?k:F),B._picking=L,u._picking=Z,Q._pickId=e))},c.Graph3dView=function(Q,Y){var n,R,g=this;if(g.resetHeadlightProperties(),g.resetFogProperties(),g._webGLVersion=1,g._attributes=Y||z3.graph3dViewAttributes,g._25I={},g._attributes&&(n=g._attributes.view)?n._ht=g:n=dn(1,g),g._view=n,g._attributes&&(R=g._attributes.canvas)||(R=Wn(g._view)),g._canvas=R,g.__startTime=Date.now(),g.__uptime=0,A3(R,"webglcontextlost",function(Q){Q.preventDefault(),g._26I&&g.dispose(),g._26I=V3,g._35O=!0}),A3(R,"webglcontextrestored",function(Q){g._35O=!1,g._loseContextExt=l3,g.iv()}),g._40Q=new w1(g),g._43Q={},g._44Q=-1,g._boneViewMatrices=[],g._batchIndexMap={},g._batchModelMap={},g._wireframeIndexMap={},g._wireframeModelMap={},g._wireframeIndexMapSwap={},g._wireframeModelMapSwap={},g._polylineIndexMap={},g._polylineIndexMap={},g._polylineIndexMapSwap={},g._polylineIndexMapSwap={},g._8O=[],g._modelMatrixStack=[],g._7O=tg(),g._6O=tg(),g._modelMatrix=tg(),g._1o=new t1(g),g._30O=new d1(g),g._31O=new m1(g),g._32O=new q1(g),g._raycaster=new R$(g),g._highlightHelper=new I1(g),g._postProcessing=new t$(g),g._41Q=[],g._42Q=0,g._frameRenderOptionStack=[],c.Reality){var B,L=g._reality={};for(B in c.Reality)L[B]=new c.Reality[B](g);g.getReality=function(Q){return L[Q]},g.getRealities=function(){return L},g.isRealityEnabled=function(Q){return(Q=L[Q])&&Q.enable},g.isRealityPresenting=function(Q){return(Q=L[Q])&&Q.isPresenting()},g.getPresentingReality=function(){for(var Q in L)if(L[Q].isPresenting())return L[Q];return null}}else g.getReality=g.getRealities=g.getPresentingReality=M,g.isRealityEnabled=g.isRealityPresenting=$;g.shadowMap=new M1(g),g.flowMap=new v1(g),g._33Q=!0,g._eye=Qg(z3.graph3dViewEye),g._center=Qg(z3.graph3dViewCenter),g._up=Qg(z3.graph3dViewUp),g._lightChanged=!1,g._59O=[],g._spots=[],g._dirs=[],g._87I=[],g._boxClippers=[],g._boxClipperVersion=0,g._flowObjects=[],g._transmissionObjects=[],g._frameId=0,g._renderId=0,g._picking=!1,g._tempCameraQueue=[],g._batchInfoMap={},g._updatedSkeletonDatas={},g._renderLayerInfoMap={},g._renderLayerSettingsVersion=0,g._gatherRenderLayersByPriority(!0),g.overlappingBox=new is(g),g._envmapRenderer=new c.EnvmapRenderer(this),g._prefabRenderer=new c.PrefabRenderer(this),g._depthGrabber=new a1(this),g.dm(Q||new hQ),g._coreInteractor=new Zp(this),g.setInteractors([new r1(g)]),g.enableQuickVisibleMode(),g.initRenderEvents(),g._initView(),g._genBatchInstancedArrayFunc(),g.genProgramDefines(),g._setupPVMatrix()}),T1={box:1,sphere:2,cylinder:3,cone:4},E1={addRGB:"FLOW_BLEND_MODE_ADD_RGB",addRGBA:"FLOW_BLEND_MODE_ADD_RGBA",overrideRGBA:"FLOW_BLEND_MODE_OVERRIDE_RGBA",overrideRGB:"FLOW_BLEND_MODE_OVERRIDE_RGB",overrideA:"FLOW_BLEND_MODE_OVERRIDE_A",multiplyRGB:"FLOW_BLEND_MODE_MULTIPLY_RGB",multiplyRGBA:"FLOW_BLEND_MODE_MULTIPLY_RGBA"},_1=0,b1=(Q("Graph3dView",m,{ms_v:1,ms_tip:1,ms_gv:1,ms_dm:1,ms_lp:1,ms_fire:1,ms_sm:1,_51o:1,ms_shadow:1,ms_highlight:1,ms_quickVisible:1,ms_renderEvents:["PreFrame","PostFrame","PreUpdate","PostUpdate","PreRender","PostRender","PreRenderData","PostRenderData"],ms_ac:["devicePixelRatio","boundaries","moveStep","rotateStep","editHelperDisabled","blockSelectable","sizeEditableFunc","rotationEditableFunc","editableFunc","rotatable","zoomable","pannable","walkable","resettable","mouseRoamable","zoomToCenter",gV,BV,"firstPersonMode",VV,"movableFunc","gridVisible","gridSize","gridGap","gridColor","originAxisVisible","centerAxisVisible","axisXColor","axisYColor","axisZColor","editSizeColor","rectSelectable","rectSelectBackground","headlightRange","headlightDirection","headlightColor","headlightIntensity","headlightAmbientIntensity","headlightRatioForPhysicalMaterial","headlightDisabled","headlightGroup","ortho","orthoWidth","syncEyeWithOrthoWidth","fovy","near","far",XR,uR,"up","aspect","fogDisabled","fogMode","fogDensity","fogColor","fogNear","fogFar","pickerResolution","dashDisabled","uvClipEnabled","transmissionEnabled","batchColorDisabled","batchInstancedDisabled","batchBlendDisabled","batchBrightnessDisabled","flowBlendMode","hoverDelay","batchInfoMap","renderLayerInfoMap","rotateMinPhi","rotateMaxPhi","sortable","opaqueSortable","sortFunc","backfaceUsingNormals","toneMapping","toneMappingExposure"],_editable:!1,_sortable:z3.graph3dViewSortable,_opaqueSortable:z3.graph3dViewOpaqueSortable,_editHelperDisabled:z3.graph3dViewEditHelperDisabled,_blockSelectable:z3.graph3dViewBlockSelectable,_devicePixelRatio:l3,_boundaries:l3,_parallelShaderCompile:!1,_moveStep:z3.graph3dViewMoveStep,_rotateStep:z3.graph3dViewRotateStep,_toneMapping:l3,_toneMappingExposure:1,_rotateMinPhi:z3.graph3dViewMinPhi===l3?z3.graph3dViewRotateMinPhi:z3.graph3dViewMinPhi,_rotateMaxPhi:z3.graph3dViewMaxPhi===l3?z3.graph3dViewRotateMaxPhi:z3.graph3dViewMaxPhi,_pannable:z3.graph3dViewPannable,_rotatable:z3.graph3dViewRotatable,_walkable:z3.graph3dViewWalkable,_resettable:z3.graph3dViewResettable,_zoomable:z3.graph3dViewZoomable,_zoomToCenter:!0,_firstPersonMode:z3.graph3dViewFirstPersonMode,_mouseRoamable:z3.graph3dViewMouseRoamable,_gridVisible:z3.graph3dViewGridVisible,_gridSize:z3.graph3dViewGridSize,_gridGap:z3.graph3dViewGridGap,_gridColor:z3.graph3dViewGridColor,_originAxisVisible:z3.graph3dViewOriginAxisVisible,_centerAxisVisible:z3.graph3dViewCenterAxisVisible,_axisXColor:z3.graph3dViewAxisXColor,_axisYColor:z3.graph3dViewAxisYColor,_axisZColor:z3.graph3dViewAxisZColor,_ortho:z3.graph3dViewOrtho,_orthoWidth:z3.graph3dViewOrthoWidth,_syncEyeWithOrthoWidth:z3.graph3dViewSyncEyeWithOrthoWidth,_fovy:z3.graph3dViewFovy,_near:z3.graph3dViewNear,_far:z3.graph3dViewFar,_rectSelectable:z3.graph3dViewRectSelectable,_rectSelectBackground:z3.graph3dViewRectSelectBackground,_editSizeColor:z3.graph3dViewEditSizeColor,_autoMakeVisible:KB,_pickerResolution:z3.graph3dViewPickerResolution,_oitPassCount:3,_modelMatrixProcess:l3,_modelMatrixReverseProcess:l3,_dashDisabled:z3.graph3dViewDashDisabled,_uvClipEnabled:z3.graph3dViewUvClipEnabled,_transmissionEnabled:z3.graph3dViewTransmissionEnabled,_batchColorDisabled:z3.graph3dViewBatchColorDisabled,_batchInstancedDisabled:z3.graph3dViewBatchInstancedDisabled,_batchBlendDisabled:z3.graph3dViewBatchBlendDisabled,_batchBrightnessDisabled:z3.graph3dViewBatchBrightnessDisabled,_backfaceUsingNormals:z3.graph3dViewBackfaceUsingNormals,_useOIT:!1,_oitEnabled:!1,_flowBlendMode:z3.graph3dViewFlowBlendMode,addCamera:function(Q){var Y=m.freeze({id:this._42Q++,priority:Q.priority||0,ignoreInPick:!!Q.ignoreInPick,render:Q.render});Q.switch3DStatus&&(this._43Q[Y.id]=!0),this._41Q.push(Y),this._41Q.sort(function(Q,Y){return Q.priority!==Y.priority?Q.priority-Y.priority:Q.id-Y.id})},setEye:function(Q,Y,n){1===arguments.length&&(Y=Q[1],n=Q[2],Q=Q[0]);var R=this._eye;R[0]=Q,R[1]=Y,R[2]=n,this.fp(XR,V3,R)},setCenter:function(Q,Y,n){1===arguments.length&&(Y=Q[1],n=Q[2],Q=Q[0]);var R=this._center;R[0]=Q,R[1]=Y,R[2]=n,this.fp(uR,V3,R)},setUp:function(Q,Y,n){1===arguments.length&&(Y=Q[1],n=Q[2],Q=Q[0]);var R=this._up;R[0]=Q,R[1]=Y,R[2]=n,this.fp("up",V3,R)},setVisibleFunc:function(Q){var Y=this._visibleFunc;this._visibleFunc=Q,this.fp("visibleFunc",Y,Q),Q?this.isQuickVisibleMode()&&(this.disableQuickVisibleMode(),this._quickVisiblePending=!0):this._quickVisiblePending&&(this._quickVisiblePending=!1,this.enableQuickVisibleMode())},getDevicePixelRatio:function(){return this._dynamicRatio||this._devicePixelRatio||I2},isTransmissionEnabled:function(Q){return!!this._transmissionEnabled&&(!Q||Q.enableTransmission)},isDepthGrabberEnabled:function(){return this._depthGrabber.isEnabled()||this.getPostProcessing().isEnabled()},enableDepthGrabber:function(Q){this._depthGrabber.enable(Q)},disableDepthGrabber:function(Q){this._depthGrabber.disable(Q)},grabDepth:function(Q){return this._depthGrabber.grab(Q)},isFloatDepthTexture:function(Q){return Q&&Q._internalFormat},isOITEnabled:function(Q){return!!this._useOIT&&(!Q||this._oitEnabled)},enableOIT:function(){var Q=this;if(Q._useOIT)return!0;if(Q._useOIT=!0,!Q.getGL())return!1;if(!Q.isWebGL2())return!1;if(!Q.getGLExtension("EXT_color_buffer_float"))return!1;var Y=r.navigator;return!(Y&&(/iPad|iPhone|iPod/.test(Y.platform)||"MacIntel"===Y.platform&&1<Y.maxTouchPoints)||(Q._oitEnabled=!0,Q._depthPeelingRenderer||(Q._depthPeelingRenderer=new J1(Q)),Q._depthPeelingRenderer.enableOIT(),Q.iv(),0))},disableOIT:function(){return this._useOIT&&(this._useOIT=!1,this._oitEnabled&&(this._depthPeelingRenderer&&this._depthPeelingRenderer.disableOIT(),this._oitEnabled=!1,this.iv())),!0},setOITPassCount:function(Q){this._oitPassCount=Q,this.iv()},getOITPassCount:function(){return this._oitPassCount},rebindOITTexture:function(Q){return!!this._oitEnabled&&this._depthPeelingRenderer.bindTexture(Q)},isTransparentMask:function(Q){return Q.s("transparent.mask")},getCoreInteractor:function(){return this._coreInteractor},getHighlightHelper:function(){return this._highlightHelper},getHighlightPickColor:function(Q){return Q=Q.s("highlight.group"),this._highlightHelper.getPickColorOfIndex(Q)},getRaycaster:function(){return this._raycaster},getAspect:function(){return this._aspect||this.getWidth()/this.getHeight()||z3.graph3dViewAspect},setAspect:function(Q){var Y=this.getAspect();this._aspect=Q,this.fp("aspect",Y,this._lastAspect=this.getAspect())},_tryFireAspectEvent:function(){var Q=this.getAspect(),Y=this._lastAspect;Q!==Y&&(this._lastAspect=Q,Y!=V3&&this.fp("aspect",Y,Q))},getCanvas:function(){return this._canvas},setDataModel:function(Q){var Y=this,n=Y._dataModel,R=Y._selectionModel;n!==Q&&(n&&(n.ump(Y.handleDataModelPropertyChange,Y),n.umm(Y.handleDataModelChange,Y),n.umd(Y.handleDataPropertyChange,Y),R||n.sm().ums(Y.handleSelectionChange,Y)),(Y._dataModel=Q).mp(Y.handleDataModelPropertyChange,Y),Q.mm(Y.handleDataModelChange,Y),Q.md(Y.handleDataPropertyChange,Y),R?R._21I(Q):Q.sm().ms(Y.handleSelectionChange,Y),Y._postProcessing.handleDataModelChange(n,Q),Y._tryInvalidateEnvmap(),Y.invalidateAll(!0),Y.invalidateLight(),Y.invalidateBoxClipper(),Y.invalidateFlowObjects(),Y.invalidateTransmissionObjects(),Y._49Q(),Y.fp(_V,n,Q),Y._canvas.style.background=Q.getBackground()||"")},handleDataModelPropertyChange:function(Q){var Y,n,R=Q.property;"background"===R?(Y=this._canvas.style.background,n=Q.newValue||"",this._canvas.style.background=n,this.fp("canvasBackground",Y,n)):"envmapType"===R?this._tryInvalidateEnvmap():"envmap"===R||"invalidateView"===R?this.iv():"a:sceneRedrawState"===R&&(Q.newValue?this.redrawLoop():this.stopRedrawLoop())},handleDataPropertyChange:function(Q){var Y=Q.data,n=(this.invalidateData(Y),Q.property);LC(Y)&&"s:light.type"===n?this.invalidateLight():"s:3d.clipbox"===n?this.invalidateBoxClipper(Y,!0):"s:effect.flow"===n?this.invalidateFlowObjects(Y,!0):"s:shadow.cast"===n?this.shadowMap.tryUpdateBounding(Y):"s:3d.visible"===n||"parent"===n&&(Q.oldValue instanceof $s||Q.newValue instanceof $s)?this.invalidateQuickVisible(Y):"s:shape3d.transmission"===n&&this.invalidateTransmissionObjects(Y,!0)},invalidateBoxClipper:function(Q,Y){var n=this._boxClippers,R=n.length;Q?!!Q.s("3d.clipbox")==(Y=!!Y)?n.indexOf(Q)<0&&n.push(Q):0<=(Y=n.indexOf(Q))&&n.splice(Y,1):(n=this._boxClippers=[],this.dm().each(function(Q){Q.s("3d.clipbox")&&n.push(Q)})),R!==n.length&&this._updateBoxClipperMatrix(),this.iv()},getProjectMatrix:function(Q){return Q&&this._setupPVMatrix(),this._projectMatrix},getViewMatrix:function(Q){return Q&&this._setupPVMatrix(),this._viewMatrix},_setupPVMatrix:function(){this._projectMatrix=bC(this),_C(this,this._7O),this._viewMatrix=qg(this._7O)},_updateBoxClipperMatrix:(JH=/if[ \t]*\([^\0{}]*{/,function(){for(var Q,Y=this._boxClippers,n=g2(this,"_boxClipperMatrixes",16*Y.length),R=this._boxClipperClipInner=[],g=this._boxClipperGroups=[],B=this._boxClipperShapes=[],L=0,Z=new v3,e=0,u=Y.length;e<u;e++){(Q=Y[e]).appendAnchorMatrix3d(X=QQ(Q,this.getMat(Q))),Z.getInverse(Z.fromArray(X)).toArray(n,16*e),R.push("inner"===Q.s("3d.clipbox")),g.push(Q.s("3d.clipbox.group"));var X=T1[Q.s("3d.clipbox.shape")]||1;B.push(X),L|=1<<X-1}if(this._boxClipperVersion++,L!==this._boxClipperTypes){if(L){vH||(x=(G=Tn(V["clipbox.fs.body"],!0)).match(JH),aH=G.slice(0,x.index)+"if ($TEMPLATE) {"+G.slice(x.index+x[0].length),G=x[0],vH=G.slice(G.indexOf("(")+1,G.lastIndexOf(")")).split("||").map(function(Q){return Q.trim()}));for(var x,G,o=[],e=0;e<vH.length;e++)L&1<<e&&o.push(vH[e]);this._clipboxShaderChunkFS=aH.replace("$TEMPLATE",o.join(" || "))}else this._clipboxShaderChunkFS="";this._boxClipperTypes=L}}),_49Q:function(){this._4AQ||this._48Q||this.dm().size()<z3.graph3dViewDataNumWarningLine||(this._48Q=!0,console.log("Too many datas so than disable some feature to speed up.\nYou can set global Default.graph3dViewDataNumWarningLine to largeEnoughNum to avoid this, or call graph3dView.quitDataNumWarning() to quit.\n"),this.enableQuickVisibleMode(),this.getHighlightHelper().mouseOverData=null)},quitDataNumWarning:function(){this.disableQuickVisibleMode(),this._48Q=!1,this._4AQ=!0},invalidateFlowObjects:function(Q,Y){var n=this._flowObjects;Q?!!Q.s("effect.flow")==(Y=!!Y)?n.indexOf(Q)<0&&n.push(Q):0<=(Y=n.indexOf(Q))&&n.splice(Y,1):(n=this._flowObjects=[],this.dm().each(function(Q){Q.s("effect.flow")&&n.push(Q)})),this.iv()},invalidateTransmissionObjects:function(Q,Y){var n=this._transmissionObjects;Q?!!Q.s("shape3d.transmission")==(Y=!!Y)?n.indexOf(Q)<0&&n.push(Q):0<=(Y=n.indexOf(Q))&&n.splice(Y,1):(n=this._transmissionObjects=[],this.dm().each(function(Q){Q.s("shape3d.transmission")&&n.push(Q)})),this.iv()},invalidateLight:function(){this._lightChanged||(this._lightChanged=!0,this.iv())},onPropertyChanged:function(Q){if(Q=Q.property,this.iv(),this._18Q=V3,"eye"===Q)this._33Q=!0;else if("devicePixelRatio"===Q)this._42(this.getDevicePixelRatio());else if("batchInstancedDisabled"===Q){this._genBatchInstancedArrayFunc();var Y,n=z3.getBatchInfoMap();for(Y in n)n[Y]&&n[Y].instanced&&this.invalidateBatch(Y);for(Y in n=this._batchInfoMap)n[Y]&&n[Y].instanced&&this.invalidateBatch(Y)}},_5O:function(Q){var Y=Q.get3dUIClass();return Y?new Y(this,Q):V3},getData3dUI:function(Q){var Y=this._25I[Q._id];return Y===l3&&(Y=this._5O(Q),this._25I[Q._id]=Y),Y},invalidateAll:function(Q,Y){var n=this;if(Q){for(var R in n._25I)(R=n._25I[R])&&R.dispose();n._25I={},n.iv(),mm(n)}else mm(n),n.dm().each(function(Q){n.invalidateData(Q)});n.shadowMap.tryInvalidateLater(Q,Y)},invalidateSelection:function(){var Y=this;Y.sm().each(function(Q){Y.invalidateData(Q)})},invalidateData:function(Q){var Y=this.getData3dUI(Q);Y&&(Y.iv(),this.iv()),mm(this,Q)},getShape3dText:function(Q){return Q.getStyle("shape3d.text")||this.getLabel(Q)},invalidateBatch:function(Y){var n=this;n._40Q.each(function(Q){n._invalidateBatch(Y,Q.batchModelMap,Q.batchIndexMap),n._invalidateBatch("T"+Y,Q.wireframeModelMap,Q.wireframeIndexMap),n._invalidateBatch("O"+Y,Q.wireframeModelMap,Q.wireframeIndexMap),Q.markBatchInvalid()}),n.iv()},_invalidateBatch:function(Q,Y,n){var R=this,g=Y[Q];if(g){g.ds.forEach(function(Q){var Y=R.getData3dUI(Q);Y&&(Y.iv(),Y.invalidateWireframe()),delete n[Q._id]});var B=R.getBatchInfo(Q)||md;if(!1!==B.keepData&&g.ms&&g.ms.length&&B.instanced&&!R.isBatchInstancedDisabled())return g.ds=[],g.ms=[],g.ics&&(g.ics=[]),void(g.ps&&(g.ps=[]));delete Y[Q]}},handleDataModelChange:function(Q){var Y,n,R=this,g=Q.kind,Q=Q.data;"add"===g?(R.invalidateData(Q),zn(Q)&&Q.getEdgeGroup()&&Q.getEdgeGroup().eachSiblingEdge(R.invalidateData,R),LC(Q)&&R.invalidateLight(),Q.s("3d.clipbox")&&R.invalidateBoxClipper(Q,!0),Q.s("effect.flow")&&R.invalidateFlowObjects(Q,!0),Q.s("shape3d.transmission")&&R.invalidateTransmissionObjects(Q,!0),R._49Q()):g===AR?(Y=Q._id,(n=R._25I[Y])&&(n.dispose(),delete R._25I[Y],R.iv()),Q===R._currentSubGraph&&R.setCurrentSubGraph(V3),mm(R,Q),LC(Q)&&R.invalidateLight(),Q.s("3d.clipbox")&&R.invalidateBoxClipper(Q,!1),Q.s("effect.flow")&&R.invalidateFlowObjects(Q,!1),Q.s("shape3d.transmission")&&R.invalidateTransmissionObjects(Q,!1),Q.isAnimationPlaying()&&Q.stopAnimation()):g===PR&&(R.invalidateAll(!0),R.setCurrentSubGraph(V3),mm(R),R.invalidateLight(),R.invalidateBoxClipper(),R.invalidateFlowObjects(),R.invalidateTransmissionObjects())},toCanvas:function(Q,Y,n){this._renderNonEditableAtRatio(1,Q);for(var R=this.getWidth()||1,g=this.getHeight()||1,B=new Uint8Array(R*g*4),L=(Q=Wn()).getContext("2d"),Z=(this.getGL().readPixels(0,0,R,g,6408,5121,B),yn(Q,R,g,1),L.getImageData(0,0,R,g)),e=Z.data,u=0;u<e.length;u+=4){var X=u/4,x=T3(X/R);e[X=4*((g-1-x)*R+(X-x*R))]=B[u],e[1+X]=B[u+1],e[2+X]=B[u+2],e[3+X]=B[u+3]}return L.putImageData(Z,0,0),this._42(this.getDevicePixelRatio()),Y&&n?(Z=(L=Wn()).getContext("2d"),yn(L,Y,n,1),z3.drawImage(Z,Q,0,0,Y,n),L):Q},toDataURL:function(Q,Y){return this._renderNonEditableAtRatio(1,Q),Q=this._canvas.toDataURL(Y||"image/png",1),this._42(this.getDevicePixelRatio()),Q},_renderNonEditableAtRatio:function(Q,Y){var n,R=this.getGL();this.validate(),Y&&(n=R.getParameter(3106),sC(R,Y)),this._dynamicRatio=Q,this._42(Q,{renderAxis:!1,renderEdit:!1,renderGrid:!1}),this._dynamicRatio=l3,Y&&sC(R,n)},isWebGL2:function(){return 2===this._webGLVersion},getGL:function(){var Q,Y,n,R=this._26I;if(R)return R;if(!this._35O&&!this._hibernating){if("undefined"==typeof WebGLRenderingContext)throw new Error("WebGL not supported.");var g=this,B=g._canvas,L=g._attributes;if(!L||!1!==L.requestWebGL2)try{(R=B.getContext("webgl2",L)||B.getContext("experimental-webgl2",L))&&(g._webGLVersion=2,g._26I=R)}catch(R){}if(!R)try{R=B.getContext("webgl",L)||B.getContext("experimental-webgl",L)}catch(R){throw new Error("Failed to initialize WebGL.")}if(R)return g._26I=R,B=g._frameState=new P1(g,R),g._glExtensions=new Ff(R),g._glCapabilities=new vf(R,g._glExtensions),g._glUbos=new af(g,R,g._glCapabilities,L&&L.forceNoUniformBuffer),g._glPrograms=new X1(g,R),g._2O={},R._emptyCubeTexture=(Q=R,n=new Uint8Array(4),Y=Q.createTexture(),Q.activeTexture(33984),Q.bindTexture(34067,Y),Q.texParameteri(34067,10240,9729),Q.texParameteri(34067,10241,9729),Q.texImage2D(34069,0,6408,1,1,0,6408,5121,n),Q.texImage2D(34070,0,6408,1,1,0,6408,5121,n),Q.texImage2D(34071,0,6408,1,1,0,6408,5121,n),Q.texImage2D(34072,0,6408,1,1,0,6408,5121,n),Q.texImage2D(34073,0,6408,1,1,0,6408,5121,n),Q.texImage2D(34074,0,6408,1,1,0,6408,5121,n),Y),R._compiledShader={},R._emptyTexture=NC(R),R._emptyBlendTexture=NC(R),R._4NQ={},R._id=++_1,R._4MQ=[],R._4KQ={},B.setGLState(),g._buffer={vs:UC(R),ns:UC(R),is:UC(R),uv:UC(R),batchColor:UC(R),batchBlend:UC(R),batchBrightness:UC(R),lineDistance:UC(R)},R._sharedTexture=OC(g,R),R._sharedTexturePool=[],L=g._cube={vs:UC(R),ns:UC(R),is:UC(R),uv:UC(R)},nm(R,L.vs,ID),nm(R,L.ns,iD),nm(R,L.uv,PD),Bm(R,L.is,AD),g._genBatchInstancedArrayFunc(),R._renderInfo={calls:0,vertices:0,faces:0,lines:0,points:0,textureCache:{time:0,count:0,pixels:0},frame:0,cacheTimeCost:0,reflectDepth:0},R._renderTargetStack=[],R._dynamicTexturePool={},R;throw new Error("Failed to initialize WebGL.")}},getGLCapabilities:function(){if(this.getGL())return this._glCapabilities},getGLExtensions:function(){if(this.getGL())return this._glExtensions},getGLExtension:function(Q){var Y=this.getGLExtensions();return Y&&Y.get(Q)||!1},getGLState:function(){var Q=this.getGL();if(Q)return a3.for(Q).glState},getShaderChunk:function(Q){var Y;return"clipbox.fs.body"===Q?this._clipboxShaderChunkFS||"":(Y=V[Q])?Tn(Y,!0):z3.getShaderChunk(Q)},_releaseGLResource:function(){var Y=this,Q=Y.getGL();if(Q){Q._renderInfo&&Y._doBufferGC(Q,!0),Y._glPrograms.dispose(),yn(Y._canvas,0,0),["_highlightHelper","shadowMap","flowMap","_envmapRenderer","_postProcessing","_depthPeelingRenderer"].forEach(function(Q){(Q=Y[Q])&&Q.dispose()});var n,R,g,B=Y._25I;for(R in B)(n=B[R])&&n.dispose();for(g in Y._2O)Y.deleteTexture(g);for(g in Q)"string"==typeof g&&"_"===g[0]&&(hC(Y,Q[g]),delete Q[g]);return Y._1o.dispose(),!0}},dispose:function(Q){this._releaseGLResource()&&(this.fireViewEvent("dispose"),Q&&this.forceLoseContext(),this._26I=V3)},hibernate:function(){this._releaseGLResource()&&(this.fireViewEvent("hibernate"),this._hibernating=!0,this._26I=V3)},wakeup:function(){delete this._hibernating,this.iv(),this.fireViewEvent("wakeup")},disposeAllPrograms:function(){this._glPrograms.dispose()},forceLoseContext:function(){var Q=this.getGLExtension("WEBGL_lose_context");Q&&(this._26I=V3,Q.loseContext(),this._35O=!0,this._loseContextExt=Q)},forceRestoreContext:function(){var Q=this._loseContextExt||this.getGLExtension("WEBGL_lose_context");Q&&Q.restoreContext()},getShadowMap:function(){return this.shadowMap},invalidateShape3dAttribute:function(Q,Y){delete Q._complete_,(Q=Q[Y])&&Q._bufId&&delete Q._bufId},getEnvmap:function(){return this._glCapabilities&&this._glCapabilities.maxVertexTextures<z3.graph3dEnvmapCapabilityRequire?null:this.dm().getEnvmap()},getEnvmapType:function(){var Q,Y=this.dm();return(Y?Y.getEnvmapType():Q)||"legacy"},setEnvmapExtraQuaternion:function(Q){this._envmapExtraQuaternion=Q instanceof y.Quaternion?Q.clone().inverse().toArray():null},invalidateEnvmap:function(Q){return this._envmapRenderer.invalidateEnvmap(Q)},invalidateEnvmapUsedByMaterial:function(Q){return this._envmapRenderer.invalidateEnvmapUsedByMaterial(Q)},isEnvmapUsedByMaterialReady:function(Q){return this._envmapRenderer.isEnvmapUsedByMaterialReady(Q)},_setEnvmapByProbeId:function(Q,Y,n){return this._envmapRenderer.setEnvmapByProbeId(Q,Y,n)},_tryInvalidateEnvmap:function(){var Q=this.getEnvmapType();Q!==this._lastProgramEnvmapType&&(this._envmapRenderer.changeEnvmapType(this._lastProgramEnvmapType=Q),this.iv())},acquireProgram:function(Q,Y){return this._glPrograms.acquireProgram(Q,Y)},resolveIncludes:function(Q){return this._glPrograms.resolveIncludes(Q)},renderModel:function(Q,Y,n,R,g){g&&!1===g.restoreViewport||n&&!1===n.restoreViewport||Y&&!1===Y.restoreViewport||(B=(B=this.getViewport())&&Qg(B));var B,Q=this._postProcessing.blitScreen(Q,Y,n,R,g);return B&&this.setViewport(this.getGL(),B[0],B[1],B[2],B[3]),Q},renderPrefab:function(){return this.renderModel.apply(this,arguments)},getModel3dCompMatrix:function(Q,Y){return this._prefabRenderer.calcMatrix(Q,Y,this)},isGLTempRegisterLimited:function(){return this._glTempRegisterLimited},getBrightness:function(Q){var Y=Q.s("brightness"),Q=this.isSelected(Q)?Q.s("select.brightness"):V3;return Y==V3?Q:Q==V3?Y:Y*Q},getDataHighlightMode:function(Q){return Q.s("highlight.mode")},getWireframe:function(Q){var Y=Q.s("wf.visible"),n=Q.s("wf.width");if(!0===Y||0<n&&"selected"===Y&&this.isSelected(Q))return{color:Q.s("wf.color"),width:n,short:Q.s("wf.short"),mat:Q.s("wf.mat")}},getPartPosition:function(Q,Y,n,R){return R=R||md,[(Q=this.getData3dUI(Q)._16O(R.autoRotate,Y,V3,n||RR,R.t3,R.r3,R.rotationMode))[12],Q[13],Q[14]]},_transformPointToViewSpace:function(Q){return Q=[Q[0],Q[1],Q[2]],Kg(Q,this._viewMatrix),Q},_transformDirectionToViewSpace:function(Q,Y){var Q=Q?[Q[0],Q[1],Q[2]]:[0,0,0],Y=(Kg(Q,this._viewMatrix),Y?[Y[0],Y[1],Y[2]]:[0,0,0]),n=(Kg(Y,this._viewMatrix),Y[0]-Q[0]),R=Y[1]-Q[1],Y=Y[2]-Q[2];return(Q=Math.sqrt(n*n+R*R+Y*Y))?[n/Q,R/Q,Y/Q]:[n,R,Y]},getWireframeGeometry:function(Q){if(Q.s("wf.geometry"))return{color:Q.s("wf.color"),width:Q.s("wf.width"),mat:Q.s("wf.mat"),geometry:!0}},getBodyColor:function(Q){return Q.s("body.color")},getMat:function(Q){return Q.getMat?Q.getMat():Q.s("mat")},getFaceMat:function(Q,Y){return Q.getFaceMat?Q.getFaceMat(Y):Q.s(Y+".mat")},getFaceBlend:function(Q,Y){return Q.s(Y+".blend")||Q.s("all.blend")},getFaceColor:function(Q,Y){return Q.s(Y+".color")||Q.s("all.color")},getFaceImage:function(Q,Y){return Q.s(Y+".image")||Q.s("all.image")},getFaceBlendImage:function(Q,Y){return Q.s(Y+".blend.image")||Q.s("all.blend.image")},getFaceDiscardSelectable:function(Q,Y){return(Y=Q.s(Y+".discard.selectable"))==V3?Q.s("all.discard.selectable"):Y},getFaceUv:function(Q,Y){return Q.s(Y+".uv")||Q.s("all.uv")},getFaceUvOffset:function(Q,Y){return Q.s(Y+".uv.offset")||Q.s("all.uv.offset")},getFaceUvScale:function(Q,Y){return Q.s(Y+".uv.scale")||Q.s("all.uv.scale")},getFaceUvRotation:function(Q,Y){return Q.s(Y+".uv.rotation")||Q.s("all.uv.rotation")},getFaceUvAnchor:function(Q,Y){return Q.s(Y+".uv.anchor")||Q.s("all.uv.anchor")},getFaceLight:function(Q,Y){return(Y=Q.s(Y+".light"))==V3?Q.s("all.light"):Y},getFaceVisible:function(Q,Y){return(Y=Q.s(Y+".visible"))==V3?Q.s("all.visible"):Y},getFaceOpacity:function(Q,Y){return(Y=Q.s(Y+".opacity"))==V3?Q.s("all.opacity"):Y},getFaceTransparent:function(Q,Y){return(Y=Q.s(Y+".transparent"))==V3?Q.s("all.transparent"):Y},getFaceReverseColor:function(Q,Y){return Q.s(Y+".reverse.color")||Q.s("all.reverse.color")},getFaceReverseFlip:function(Q,Y){return(Y=Q.s(Y+".reverse.flip"))==V3?Q.s("all.reverse.flip"):Y},getFaceReverseCull:function(Q,Y){return(Y=Q.s(Y+".reverse.cull"))==V3?Q.s("all.reverse.cull"):Y},getFaceMaterial:function(Q,Y){return(Y=Q.s(Y+".material"))==V3?Q.s("all.material"):Y},isPicking:function(){return this._picking},renderPickScene:function(Q){var Y=this.getGL();Y&&(this.syncRenderState(),this._picking=Y._picking=!0,this._dynamicRatio=Q,this.renderScene(),this._picking=Y._picking=!1,this._dynamicRatio=l3)},invalidateCachedGeometry:function(Q){var Y=this.getData3dUI(Q);Y&&(Y.invalidateCachedGeometry(),this.invalidateData(Q))},invalidateCachedWireframe:function(n){var Q,R;n instanceof K.Data?(Q=this.getData3dUI(n))&&(delete Q._shapeModelCacheForWf,(Q=Q.shapeModel||WD(Q))&&(Wm(Q),n.iv())):n&&(Wm(n),(R=this).dm().each(function(Q){var Y=R.getData3dUI(Q);Y&&(Y.shapeModel||WD(Y))===n&&Q.iv()}),this.iv())},isInteractive:function(Q){return Q.s("interactive")},redraw:function(){this.iv()},redrawLoop:function(){var Q,Y=this;Y._redrawState||(Y._redrawState=!0,(Q=function(){Y._redrawState&&(Y.redraw(),requestAnimationFrame(Q))})())},stopRedrawLoop:function(){this._redrawState&&delete this._redrawState},validateImpl:function(){var n,R,g,B,Q=this;Q._hibernating||(Q._lightChanged&&(Q._lightChanged=!1,n=[],R=[],g=[],B=[],Q.dm().each(function(Q){var Y;LC(Q)&&("point"===(Y=Q.s("light.type"))?n.push(Q):"spot"===Y?R.push(Q):"directional"===Y?g.push(Q):"rect"===Y&&B.push(Q))}),Q._59O=n,Q._spots=R,Q._dirs=g,Q._87I=B),Q._attributes&&!1===Q._attributes.autoDraw||Q._42(),Q._1o.iv())},getRenderInfo:function(){var Q=this.getGL();if(Q)return Q._renderInfo},getDebugTip:function(){var Q,Y,n,R,g,B=this.getRenderInfo();if(B)return Y=(Q=this.getGL())._validBufCount||0,Y="Draw Calls: "+B.calls+"<br/>Vertices: "+B.vertices+"<br/>Faces: "+B.faces+"<br/>Lines: "+B.lines+"<br/>"+(B.points?"Points: "+B.points+"<br/>":"")+"Buffers: "+Y+"<br/>Programs: "+(Q._validProgramCount||0)+"<br/>Cache Models: "+m.keys(Od).length+"<br/>Shape3d Models: "+m.keys(kd).length,(R=this.getPresentingReality())&&(Y+="<br/>VR fps: "+R.getFps()),B.textureCache&&(R=B.textureCache.count,Y+="<br/>2D Dynamic Textures: "+B.textureCache.count,0<R&&(Y+="<br/>2D Dynamic pixels: "+(1e6<(R=B.textureCache.pixels)?Math.round(R/1e6)+"M":1e3<R?Math.round(R/1e3)+"K":Math.round(R)))),Y+="<hr>WebGL "+(this.isWebGL2()?"2.0":"1.0"),(B=Q._debugRendererInfo)===l3&&((R=this.getGLExtension("WEBGL_debug_renderer_info"))&&(B=Q.getParameter(R.UNMASKED_RENDERER_WEBGL))?((R=B.match(hd))&&5<R.length&&(n=R[3],R=R[5],B=(g=n.match(/ (Direct3D|OpenGL)/))?n.substr(0,g.index)+"<br/>"+n.substr(g.index+1):n+(R?"<br/>"+R:"")),Q._debugRendererInfo=B):B=Q._debugRendererInfo=null),B&&(Y+="<br/>"+B),Y},getFrameState:function(){return this._frameState},isBoundingBoxInView:(MH=new K.Math.Box3,FH=new K.Math.Matrix4,function(Q){if(!(Q=Q instanceof K.Data?this.getData3dUI(Q):Q)||!Q.mat)return!0;var Y=Q.getBoundingBox(!0);return MH.copy(Y).applyMatrix4(FH.fromArray(Q.mat)),this.getFrustum().intersectsBox(MH)}),updateScene:function(){var Y=this,n=(Y.emitPreUpdate(),Y._81O=V3,Y.overlappingBox.clear(),Y.initSkeletonDatas(),Y._40Q),R=(n.init(),Y.getGL()),Q=Y.dm();if(Q.isHierarchicalRendering())Q.eachByHierarchical(function(Q){(Q=Y.getData3dUI(Q))&&Q.update(Y,R,n)});else for(var g,B=Q.getDatas().getArray(),L=B.length,Z=0;Z<L;Z++)g=B[Z],(g=Y.getData3dUI(g))&&g.update(Y,R,n);this._updateBoxClipperMatrix(),n.onUpdated(),Y.emitPostUpdate()},_pushFrameRenderOptions:function(Q){this._frameRenderOptionStack.push(this._currentFrameRenderOptions),this._currentFrameRenderOptions=Q},_popFrameRenderOptions:function(Q){this._currentFrameRenderOptions=this._frameRenderOptionStack.pop()},_getFrameRenderOptions:function(Q){var Y=this._currentFrameRenderOptions;return Y&&Y[Q]},getRenderLists:function(){return this._40Q},_setCurrentFrameRenderId:function(Q,Y){var n=this._renderId++;Q._renderInfo.renderId=n,this._glPrograms.setCurrentFrameRenderId(n),Y&&this._glUbos.setCurrentFrameRenderId(n)},renderScene:function(Q){var R=this,g=R.getGL();if(g){var B,L,Y,Z=R._picking,e=(Z||R.emitPreRender(),R._setCurrentFrameRenderId(g,!1),R.genProgramDefines(),R._frameState),u=(R._prg=e.defaultProgram=R.acquireProgram({type:Z?"pick":"legacy",defines:{}}),R._pushFrameRenderOptions(Q),e.setGLState(!1,!0),!1!==R._getFrameRenderOptions("renderShadowMap")&&R.shadowMap.render(),R.flowMap.render(),R._envmapRenderer.onBeforeRender(g),R._44Q=-1,e.renderState),Q=u.glState,n=R._prg,X=(R._setupPVMatrix(),Math.tan(R.getFovy()/2)),x=(R._lodConst=1/(4*X*X*R.getAspect()),this._glUbos.setCurrentFrameRenderId(this._renderId),R.isReflecting(g)||JC(R._projScreenMatrix=tg(),R._projectMatrix,R._viewMatrix),e.syncEnv(Z?this.pickColorMap:l3),u.useProgram(n),M(!1,!1,!0),g.clear(256),this._41Q),G=0,o=x.length;if(F(z3.cameraPriority.skybox),Z?(Y=Q.color.clear.slice(0),sC(g,[0,0,0,0]),F(z3.cameraPriority.main)):(sC(g,[0,0,0,0]),Q.blend.enabled=!1,Q.depth.enabled=!1,Q.depth.mask=!1,R._camera&&!1===R._camera.s("camera.renderSky")||R.drawSky(g,n),F(z3.cameraPriority.main),!1!==R._getFrameRenderOptions("renderReflector")&&R.drawReflectors(g)&&(R._setupPVMatrix(),e.syncEnv(),M(!0),R._setCurrentFrameRenderId(g,!0)),Q.blend.enabled=!1,Q.depth.enabled=!0,Q.depth.mask=!0,(B.uTransparent=!1)!==R._getFrameRenderOptions("renderGrid")&&R._31O._42(g)),!g.textureBatch||X3[(ONE_FRAME_TIME-6)/2]){Z||(R.shadowMap.enable&&R.shadowMap.createShadow(B),R.rebindOITTexture(B),R.flowMap.createFlow(B));for(var l=R._sortedRenderLayers,V=0,z=l.length;V<z;V++){var p=l[V],$=R.getRenderLayerInfo(p);!(R._camera||!$.ignore||$.renderForBloom&&g._blooming)||R._camera&&!R._camera.isLayerVisible(p)||(F($.priority)&&!Z&&(R.shadowMap.enable&&R.shadowMap.createShadow(B),R.rebindOITTexture(B),R.flowMap.createFlow(B,!0)),this.renderLayer(p))}F(z3.cameraPriority.infinity),Z||(R._renderBonesForDebug(g,Q),R.flowMap.disableFlow(B)),lC(R,B,0,z3.graph3dViewHeadlightAmbientIntensity),B.uHeadlightColor=[1,1,1,0],B.uUseEnvMap=!1,B.uHeadlightDirection=[0,0,0],B.uHeadlightRange=0,Q.depth.enabled=!1,B.uTransparent=!1,B.shadowReceive=!1,tC(R,B,SS),Z?R.drawFilter||R._30O._42(g):(R._highlightHelper._42(g),this._renderAxisAndEditHelper(!1!==R._getFrameRenderOptions("renderAxis"),!1!==R._getFrameRenderOptions("renderEdit")),Q.blend.enabled=!1,Q.depth.mask=!0),Q.depth.enabled=!0,Z&&sC(g,Y),nm(g,V3),Bm(g,V3),R._44Q=-1,R._popFrameRenderOptions(null),R._glPrograms.disableAttributes(g),Z||R.emitPostRender()}}function M(Q,Y,n){Q&&(u.syncLoss(),e.setGLState(Y,n)),e.setUniforms(Y),L=u.attribs,B=u.directUniforms(),L.disable()}function F(Q){if(!0!==R._getFrameRenderOptions("ignoreExternalCamera")){for(var Y=!1;G<o;G++){var n=x[G];if(!Z||!n.ignoreInPick){if(n.priority>=Q)break;R._43Q[R._44Q=n.id]&&!X3[hR.length]||(n.render(g,R,e),M(!0),Y=!0)}}return Y}}},_renderAxisAndEditHelper:function(Q,Y){if(!Q&&!Y)return!1;var n=this.getGL(),R=this._frameState,g=(B=R.renderState).glState,B=B.directUniforms();return R.renderState.attribs.disable(),g.depth.enabled=!1,B.uTransparent=!1,B.shadowReceive=!1,g.blend.enabled=!1,g.depth.mask=!0,(R=!this._fogDisabled)&&(B.uFog=!1),Q&&this._32O._42(n),Y&&this._30O._42(n),R&&(B.uFog=!0),nm(n,V3),Bm(n,V3),!0},renderLayers:function(Q,Y){for(var n=0,R=(Q=Y?UQ(Q):Q).length;n<R;n++)this.renderLayer(Q[n])},renderSky:function(){var Q=this._frameState,Y=Q.renderState,n=Y.glState,R=this.getGL(),g=this._prg;this._setupPVMatrix(),JC(this._projScreenMatrix=tg(),this._projectMatrix,this._viewMatrix),Q.syncEnv(),Y.useProgram(g),Q.setGLState(!1,!0),Q.setUniforms(!1),Q.renderState.attribs.disable(),R.clear(256),sC(R,[0,0,0,0]),n.blend.enabled=!1,n.depth.enabled=!1,n.depth.mask=!1,this.drawSky(R,g),n.depth.mask=!0,n.depth.enabled=!0,nm(R,V3),Bm(R,V3)},addRenderLayerListener:function(Q,Y,n){this._renderLayerNotifier||(this._renderLayerNotifier=new HQ),this._renderLayerNotifier.add(Q,Y,n)},removeRenderLayerListener:function(Q,Y){this._renderLayerNotifier&&this._renderLayerNotifier.remove(Q,Y)},fireRenderLayerEvent:function(Q,Y){var n=this._renderLayerNotifier;n&&n.fire({layer:Q,phase:Y})},renderLayer:function(Q){var Y=this,n=Y._picking;if(V=Y._40Q.get(Q)){Y.fireRenderLayerEvent(Q,"prepare");var R,g,B,L=Y.getGL(),Z=Y.getRenderLayerInfo(Q),e=(u=Y._frameState.renderState).glState,u=u.directUniforms(),X=(!n&&Y.isSortable()&&V.sort(Y._sortFunc,Y._projScreenMatrix,Y.isOpaqueSortable()),V.resetModel3dInstancedDraw(),V.opaque),x=V.transparent,G=V.batchModelMap,o=V.batchIndexMap,l=V.polylineModelMap,V=V.wireframeModelMap,L=Y.getGL(),z=Y._prg,p=(n||(e.blend.enabled=!1,e.depth.enabled=!0,e.depth.mask=!0),(u.uTransparent=!1)!==Z.clearDepth&&L.clear(256),this.drawFilter);if(p){for(R=0,g=(B=X).length;R<g;R++)!0!==p(B[R].data)&&B[R].ui._42(L,z,F);if(n)for(R=0,g=(B=x).length;R<g;R++)B[R].ui._46Q(L);XD(Y,G,o)}else{for(R=0,g=(B=X).length;R<g;R++)B[R].ui._42(L,z,F);if(n)for(R=0,g=(B=x).length;R<g;R++)B[R].ui._46Q(L);XD(Y,G,o),eD(Y,l),eD(Y,V)}if(Y.fireRenderLayerEvent(Q,"opaque"),n||(e.blend.enabled=!0,e.depth.mask=!1),Y._45Q=u.uTransparent=!0,p){for(R=0,g=(B=x).length;R<g;R++)!0!==p(B[R].data)&&B[R].ui._42(L,z,k);XD(Y,G,o,0,!0)}else{if(n||!Y._oitEnabled||Y.isReflecting(L)||L._blooming){for(R=0,g=(B=x).length;R<g;R++)B[R].ui._42(L,z,k);XD(Y,G,o,0,!0)}else Y._depthPeelingRenderer.render(x,G,o);eD(Y,l,0,!0),eD(Y,V,0,!0)}Y._45Q=null,Y.fireRenderLayerEvent(Q,"transparent"),Y.fireRenderLayerEvent(Q,"post")}},isRenderTransparent:function(){return!!this._45Q},_42:function(Q,Y){var n=this;if(!n._35O&&(!A||X3(A))){var R=n.getWidth(),g=n.getHeight();if(R&&g){var B=n.getGL();if(B){var L=n._canvas,Z=(Q?Z=!0:Q=n.getDevicePixelRatio(),n._picking||!Z&&R===L.clientWidth&&g===L.clientHeight||(yn(L,R,g,Q),Z=Q,R&&1<Math.abs(B.drawingBufferWidth-R*Q)&&(Z=Math.min(Z,B.drawingBufferWidth/R)),(Z=g&&1<Math.abs(B.drawingBufferHeight-g*Q)?Math.min(Z,B.drawingBufferHeight/g):Z)!==Q&&(n.setDevicePixelRatio(Q=Z),yn(L,R,g,Q)),n._18Q=null,n._tryFireAspectEvent()),n._attributes&&!1===n._attributes.autoClear||B.clear(16384),B._renderInfo);if(Z){Z.calls=0,Z.vertices=0,Z.faces=0,Z.lines=0,Z.points=0,Z.textureCache={time:0,count:0,pixels:0},Z.frame=++n._frameId,Z.cacheTimeCost=0,Z.reflectDepth=0,n.__uptime=(Date.now()-n.__startTime)/1e3,R=L.width,g=L.height,n._gatherRenderLayersByPriority(),n.emitPreFrame(),n.syncRenderState(),n._glPrograms.checkParallelLinkStatus();do{var e=n.getRealities();if(e){var u,X=!1;for(u in e)if(n.isRealityEnabled(u)&&(X=e[u].render(B,R,g,Y)))break;if(X)break}n.updateScene();var x=n._4JQ}while((x||!n._postProcessing.render(B,R,g,Y,0<n._transmissionObjects.length&&n.isTransmissionEnabled()||n._oitEnabled||n._depthGrabber.isEnabled()))&&(n.setViewport(B,0,0,R,g),x?n.renderPickScene(Q):n.renderScene(Y),0));n._33Q=!1,n.countFrame(),n.emitPostFrame(),n._doBufferGC(B),n._glPrograms.scheduleProgramGC(n._shaderGCInterval||500)}}}}},drawImmediately:function(Q,Y,n){if(Q){var R=this.getGL();if(!R)return!1;nC(R,Q),this._42(Y,n),RC(R)}else this._42(Y,n)},_4IQ:function(Q){this._4JQ=Q,this.iv()},syncRenderState:function(){var Q;(Q=this._frameState)&&(Q=Q.renderState)&&Q.syncLoss()},drawReflectors:function(Q){Q._renderInfo.reflectDepth++;var Y,n,R=this._dataModel.getReflectors(),g=!1;for(Y in R)n=R[Y],this.isVisible(n)&&(n=this.getData3dUI(n))&&n.drawReflector&&n.drawReflector(Q)&&(g=!0);return Q._renderInfo.reflectDepth--,g},isReflecting:function(Q){return Q._renderInfo.reflectDepth},isOITProcessing:function(){return this._programDefines.OIT},isRenderSceneForBloom:function(){var Q=this.getGL();return!!Q&&!!Q._blooming},getPostProcessing:function(){return this._postProcessing},enablePostProcessing:function(Q,Y){return this._postProcessing.enableModule(Q,Y)},getPostProcessingModule:function(Q){return this._postProcessing.getModule(Q)},getPostProcessingValue:function(Q,Y){return(Q=this._postProcessing.getModule(Q))?Q[Y]:l3},setPostProcessingValue:function(Q,Y,n){var R=this.getPostProcessingValue(Q,Y),g=this._postProcessing.getModule(Q);g&&R!==n&&("enable"===Y?this.enablePostProcessing(Q,n):g[Y]=n,this.firePropertyChange("postProcessing."+Q+"."+Y,R,n))},setDofImageFromGraphView:function(Q,Y,n){return this._postProcessing.getModule("Dof").setImageFromGraphView(Q,Y,n)},setViewport:function(Q,Y,n,R,g){this._viewport=[Y,n,R,g],a3.for(Q).directState().viewport=this._viewport},getRenderState:function(){return a3.for(this._26I)},getFlowBlendModeMacro:function(){return E1[this.getFlowBlendMode()]||E1[z3.graph3dViewFlowBlendMode]},genProgramDefines:function(){var Q=this,Y=(Y=Q.getEnvmap())&&Y.length,n=((Y={NUM_DIR_LIGHTS:Q._dirs.length,NUM_SPOT_LIGHTS:Q._spots.length,NUM_POINT_LIGHTS:Q._59O.length,MAX_BOX_CLIPPER:Q._boxClippers.length,BOX_CLIPER_TYPES:Q._boxClipperTypes,MAX_FLOW_OBJECT:Q._flowObjects.length,FOG:!Q._fogDisabled,FOG_EXP2:"exp2"===Q.getFogMode(),UV_CLIP:!!Q._uvClipEnabled,USE_ENVMAP:!!Y,ENVMAP_TYPE_CUBE_UV:"legacy"!==Q.getEnvmapType(),DASH:!Q._dashDisabled,ENVMAP_ROTATE:null!=Q._envmapExtraQuaternion,BATCHCOLOR:!Q._batchColorDisabled,BATCHINSTANCE:!Q._batchInstancedDisabled,BATCHBLEND:!Q._batchBlendDisabled,BATCHBRIGHTNESS:!Q._batchBrightnessDisabled,LEGACY_BACKFACE_USING_NORMALS:Q._backfaceUsingNormals})[Q.getFlowBlendModeMacro()]=!0,Q.shadowMap.enable&&Q.shadowMap.genShaderDefine(Y),Q._glPrograms);return n&&n.genPhysicalProgramKeyOfScene(Q._programDefines=Y),Y},getViewport:function(){return this._viewport},setBufferGCInterval:function(Q){this._bufferGCInterval=Q},setShaderGCInterval:function(Q){this._shaderGCInterval=Q},releaseGLBuffer:function(Q){var Y=this.getGL();if(!Y)return!1;if(!Q)return this._doBufferGC(Y,!0),!0;if(!(Q=Q._bufId))return!1;var n=Y._4NQ,R=n[Q];return!!R&&(Y.deleteBuffer(R._buf),R._buf=null,n[Q]=null,Y._validBufCount=Math.max(0,Y._validBufCount-1),this.iv(),!0)},_doBufferGC:function(Q,Y){var n,R,g=Q._4NQ,B=0,L=0,Z=Q._renderInfo.frame,e=this._bufferGCInterval||10;for(n in g)B++,(R=g[n])&&(Y||Z-R._fid>e?(Q.deleteBuffer(R._buf),R._buf=null,g[n]=null):L++);if(L<B/2&&128<B){var u={};for(n in g)g[n]&&(u[n]=g[n]);Q._4NQ=u}Q._validBufCount=L},_swapLineMap:function(){var Q=this;d3=Q._polylineModelMap,Q._polylineModelMap=Q._polylineModelMapSwap,Q._polylineModelMapSwap=d3,d3=Q._wireframeModelMap,Q._wireframeModelMap=Q._wireframeModelMapSwap,Q._wireframeModelMapSwap=d3,d3=Q._polylineIndexMap,Q._polylineIndexMap=Q._polylineIndexMapSwap,Q._polylineIndexMapSwap=d3,d3=Q._wireframeIndexMap,Q._wireframeIndexMap=Q._wireframeIndexMapSwap,Q._wireframeIndexMapSwap=d3},_updateSkybox:function(Q){var Y,n,R,g,B,L,Z,e,u;this._skybox&&Q&&(Q=Q.property,Y=!1,n=this._skybox,"eye"!==Q&&"forceUpdate"!==Q||(R=this._camera?this._camera.getEye():this._eye,n.p3(R[0],R[1],R[2]),Y=!0),"near"!==Q&&"far"!==Q&&"aspect"!==Q&&"forceUpdate"!==Q||(R=(R=n.__cachedS3__)||(n.__cachedS3__=n.getFinalScale3d()),Q=R3(R[0],R[1],R[2])/2,g=("sphere"===n.s("shape3d")?n3(R[0],R[1],R[2]):_3(R[0]*R[0]+R[1]*R[1]+R[2]*R[2]))/2,B=this._near,L=this._far,u=Math.tan(this.getFovy()/2)*B,Z=this.getAspect()*u,Z=_3(Z*Z+u*u+B*B),Z=1.01*n3(Z,_3(3)*B),e=1,Q<Z?e=Z/Q:L<=g&&(e=L*L/(B+L)/g),e!==1/0&&1!==e&&(n.__updatingSkybox__=!0,u=R.map(function(Q){return e*Q}),n.s3(u),n.setScale3d(1,1,1),Y=!0,delete n.__updatingSkybox__)),Y&&this.invalidateData(n))},getSkyBox:function(){return this.getSkybox()},setSkyBox:function(Q){return this.setSkybox(Q)},getSkybox:function(){return this._skybox},setSkybox:function(Y){var n,Q=this._skybox;Q===Y?Y&&this._updateSkybox({property:"forceUpdate"}):(Q&&(this._skyboxStyleMap&&Q.setStyleMap(this._skyboxStyleMap),this._skyboxStyleMap=null,this._skyboxAnchor3d&&Q.setAnchor3d(this._skyboxAnchor3d),this._skyboxAnchor3d=null,this._skyboxP3&&Q.p3(this._skyboxP3),this._skyboxP3=null,this.handleDataModelChange({kind:AR,data:Q})),this._skybox=Y,this.ump(this._updateSkybox,this),Y&&(Y.removeFromDataModel(),this._skyboxStyleMap=K.Default.clone(Y.getStyleMap()),this._skyboxAnchor3d=Y.getAnchor3d(),Y.setAnchor3d(.5,.5,.5),this._skyboxP3=Y.p3().slice(0),Y.s({"shape3d.reverse.flip":!0,"shape3d.reverse.cull":!1,"all.reverse.flip":!0,"all.reverse.cull":!1,"front.reverse.flip":!0,"front.reverse.cull":!1,"back.reverse.flip":!0,"back.reverse.cull":!1,"left.reverse.flip":!0,"left.reverse.cull":!1,"right.reverse.flip":!0,"right.reverse.cull":!1,"top.reverse.flip":!0,"top.reverse.cull":!1,"bottom.reverse.flip":!0,"bottom.reverse.cull":!1}),n=Y.onPropertyChanged,Y.onPropertyChanged=function(Q){n.call(Y,Q),!Y.__updatingSkybox__&&0<=["width","height","tall","scale","scaleTall"].indexOf(Q.property)&&(Y.__cachedS3__=l3)},this.mp(this._updateSkybox,this),this._updateSkybox({property:"forceUpdate"})),this.fp("skybox",Q,Y))},drawSky:function(Q,Y){var n,R,g,B,L,Z,e,u,X,x,G,o,l=this,V=l._skybox;V&&(B=g=0,l._camera&&!1===l._camera.s("camera.skybox.blur")||(g=V.s("skybox.blur.size"),B=V.s("skybox.blur.resolution"),0===g&&0===B||(e=B||l.getDevicePixelRatio(),(n=Q._blurRTT)||(n=Q._blurRTT=new c.RenderTarget(l,null,null,{})),L=l.getWidth()*e,e=l.getHeight()*e,n.setSize(Q,L,e),R=Qg(l._viewport),l.setViewport(Q,0,0,L,e),n.bind(Q))),L=a3.for(Q).directUniforms(),e=l._headlightIntensity,Z=WT(l._headlightColor),Y=l._prg,1!==e&&(Z=[Z[0]*e,Z[1]*e,Z[2]*e]),L.uHeadlightColor=[Z[0],Z[1],Z[2],1],(e=l.getData3dUI(V))&&((X=(u=l.isOrtho())||this._computedProjectMatrix)&&(x=l._projectMatrix,u&&(l._ortho=!1),L.uProjectMatrix=l._projectMatrix=bC(l,!0)),o=V.p3(),G=(this._camera||this).getEye(),o[0]===G[0]&&o[1]===G[1]&&o[2]===G[2]||(V._position.x=G[0],V._54O=G[1],V._position.y=G[2]),e.validate(),e._42(Q,Y,p),X&&(u&&(l._ortho=!0),L.uProjectMatrix=l._projectMatrix=x)),Q.clear(256),L.uHeadlightColor=[Z[0],Z[1],Z[2],l._headlightDisabled?1:0],0===g&&0===B||(n.unbind(Q),0!==g&&(o=l.getPostProcessingModule("Blur"))&&o.drawImpl(Q,n,g,!1,4<g?4:2<g?3:1<g?2:1),l.setViewport(Q,R[0],R[1],R[2],R[3]),l.renderModel(null,{type:"blitScreen",image:n.texture,defines:{DITHERING:!1}},{clear:!1})))},getLogicalPoint:function(Q){return Ag(Q,this._canvas)},isRectOverlapping:function(Q){return this.getData3dUI(Q)._rectOverlapping},getHitFaceInfo:function(Q){Q.target&&(Q=this.lp(Q));var Y=this.getDataInfoAt(Q);return Y&&(Q=this.intersectObject(Q,Y.data))?{data:Y.data,face:Q.part}:V3},unproject:function(Q,Y){var n=this.getWidth(),R=this.getHeight(),n=((Q=Q.target?this.lp(Q):Q).x-n/2)/n*2,Q=-1*(Q.y-R/2)/R*2,R=(Y=Y||0,tg()),g=bC(this),B=_C(this);return JC(R,g,B),FC(R),[(g=Wg([n,Q,Y,1],R))[0]/g[3],g[1]/g[3],g[2]/g[3]]},getDataAt:function(Q){return(Q=this.getDataInfoAt(Q))?Q.data:V3},getDataInfoAt:function(Q,Y,n){return Q.target&&(Q=this.lp(Q)),this._1o.get(en(Q.x,Q.y,Y),!0,n)},getDataInfoDuringInteract:function(Q,Y){var n=this.getDataInfoAt(Q);if(!this.isBlockSelectable()||!n||!n.data)return n;if(!Y&&this.isSelected(n.data))return n;for(var R=n.data;(R=R.getParent())&&R instanceof K.Block&&this.isSelectable(R);){var g=this.isSelected(R);if(g&&Y)break;if(n={data:R,part:n.part},g&&!Y)break}return n},getDatasInRect:function(Q,Y){return this._1o.get(Q,!1,Y)},setEditable:function(Q){var Y=this._editable;this._editable=Q,this.fp(FV,Y,Q)},isEditable:function(Q){return Q?!!this._editable&&!!C(Q)&&!!Q.s("3d.editable")&&(!this._editableFunc||this._editableFunc(Q)):this._editable},isSelectable:function(Q){return Q.s("3d.selectable")&&this.sm().isSelectable(Q)},isMovable:function(Q){return(!zn(Q)||Q.getStyle(SR)===NR)&&!!Q.s("3d.movable")&&(!this._movableFunc||this._movableFunc(Q))},isSizeEditable:function(Q){return!!C(Q)&&(!this._sizeEditableFunc||this._sizeEditableFunc(Q))},isRotationEditable:function(Q){return!(!C(Q)||!1===Q.IRotatable)&&(!this._rotationEditableFunc||this._rotationEditableFunc(Q))},handleDelete:function(Q){this._editable&&this.removeSelection()},zoomIn:function(Q){this.setZoom(H2,Q)},zoomOut:function(Q){this.setZoom(1/H2,Q)},setZoom:(VH=new F3,zH=new F3,pH=new F3,$H=new F3,function(Q,Y){if(1!==Q){var n=this;n._14o&&n._14o.stop(!0);var R,g=1/Q,B=(VH.copy(n.getCenter()),zH.copy(n.getEye()),n._ortho);if(B){if((R=n._orthoWidth)<n._moveStep&&1<Q)return}else if(VH.distanceTo(zH)<n._moveStep&&g<1)return;var L=!1;if(!1===n._zoomToCenter&&n._lastZoomLP&&(pH.copy(zH).sub(VH).normalize(),n._81O=null,$H.copy(n.getHitPosition(n._lastZoomLP,VH.toArray(),pH.toArray())),L=!0,n._lastZoomHit=$H),Y=Jn(Y))return Y.action=function(Q){n.fi({kind:n._zooming?"betweenZoom":"beginZoom"}),n._zooming=1,Q=(g-1)*Q+1,B&&n.setOrthoWidth(R*Q),L?(n.setEye(pH.lerpVectors($H,zH,Q).toArray()),n.setCenter(pH.lerpVectors($H,VH,Q).toArray())):B||n.setEye(pH.lerpVectors(VH,zH,Q).toArray())},Y._37o=function(){delete n._14o,delete n._zooming,n.fi({kind:"endZoom"}),n.onZoomEnded()},n._14o=ng(Y);B&&n.setOrthoWidth(R*g),L?(n.setEye(pH.lerpVectors($H,zH,g).toArray()),n.setCenter(pH.lerpVectors($H,VH,g).toArray())):B||n.setEye(pH.lerpVectors(VH,zH,g).toArray())}}),setOutsidePickSource:function(Q){this.pickColorMap._outside=Q},setModelMatrixProcess:function(Q,Y){this._modelMatrixProcess!==Q&&(this._modelMatrixProcess=Q,this.invalidateAll()),this._modelMatrixReverseProcess=Y},hasModelMatrixProcess:function(){return!!this._modelMatrixProcess},processModelMatrix:function(Q){if(!this._modelMatrixProcess)return Q;try{return this._modelMatrixProcess(Q)}catch(Q){return l3}},reverseProcessModelMatrix:function(Q){if(!this._modelMatrixProcess)return Q;if(!this._modelMatrixReverseProcess)return l3;try{return this._modelMatrixReverseProcess(Q)}catch(Q){return l3}},createNodeFinalMatrix:function(Q,Y){if(!this._modelMatrixProcess)return Y||QQ(Q,this.getMat(Q));var n,R=this.getData3dUI(Q);return R.s("shape3d.distortion.ignore")?Y||QQ(Q,this.getMat(Q)):R.s("autorotate")||R.s("shape3d.autorotate")?(R=YQ(V3,V3,V3,"xzy",Q.p3(),V3,V3),R=this._modelMatrixProcess(R),(n=YQ(V3,Q.getFinalScale3d(),Q.getFinalRotation3d(),Q.getRotationMode(),V3,V3,this.getMat(Q)))[12]=R[12],n[13]=R[13],n[14]=R[14],n):Y?this._modelMatrixProcess(Y):(R=QQ(Q,this.getMat(Q)),this._modelMatrixProcess(R))},setOrthoZoom:function(Q,Y){return this.setZoom(Q,Y)},getPositionInfo:function(Q){var Y=this._eye,n=this._center,R=this.getAspect(),Q=Q?hg(Hg(n,Y,!0),Hg(Q,Y)):zg(Y,n);return this._ortho?{length:Q,height:(Y=this._orthoWidth)/R,width:Y}:{length:Q,height:n=C3(this._fovy/2)*Q*2,width:n*R}},getCenterInfo:function(){return this._81O||(this._81O=this.getPositionInfo()),Qg(this._81O)},rotate:function(n,R,Q,g){var B=this;if(n||R){g==V3&&(g=B._firstPersonMode),B._88O&&B._88O.stop(!0);var Y=B._center,L=B._eye,Z=B.getCenterInfo().length,e=g?Y:L,u=g?L:Y,X=Hg(e,u),x=w3(X[0],X[2]),G=w3(_3(X[0]*X[0]+X[2]*X[2]),X[1]),o=g?uR:XR;if(g&&(R=-R),Q=Jn(Q))return Q.action=function(Q){B.fi({kind:B._rotating?"betweenRotate":"beginRotate"}),B._rotating=1;var Y=x+n*Q,Q=G+R*Q,Q=g?b-VC(B,b-Q):VC(B,Q);X[0]=Z*G3(Q)*G3(Y),X[1]=Z*p3(Q),X[2]=Z*G3(Q)*p3(Y),e[0]=u[0]+X[0],e[1]=u[1]+X[1],e[2]=u[2]+X[2],B.fp(o,V3,e)},Q._37o=function(){delete B._88O,delete B._rotating,B.fi({kind:"endRotate"}),B.onRotateEnded()},B._88O=ng(Q);x+=n,G+=R,G=g?b-VC(B,b-G):VC(B,G),X[0]=Z*G3(G)*G3(x),X[1]=Z*p3(G),X[2]=Z*G3(G)*p3(x),e[0]=u[0]+X[0],e[1]=u[1]+X[1],e[2]=u[2]+X[2],B.fp(o,V3,e)}},pan:function(Q,Y,n,R){if(Q||Y){var g,B,L=this;R==V3&&(R=L._firstPersonMode),L._89O&&L._89O.stop(!0);var Q=[(Z=_C(L))[0]*Q,Z[4]*Q,Z[8]*Q],Z=[Z[1]*Y,Z[5]*Y,Z[9]*Y],e=Q[0]+Z[0],u=Q[1]+Z[1],X=Q[2]+Z[2],x=L._center,G=L._eye;if(R&&(Y=bm(L.getBoundaries(),G[0],G[2],G[0]+e,G[2]+X,_3(e*e+X*X)),e=Y[0],X=Y[1]),n=Jn(n))return g=Qg(G),B=Qg(x),n.action=function(Q){L.fi({kind:L._panning?"betweenPan":"beginPan"}),L._panning=1,x[0]=B[0]+e*Q,x[1]=B[1]+u*Q,x[2]=B[2]+X*Q,G[0]=g[0]+e*Q,G[1]=g[1]+u*Q,G[2]=g[2]+X*Q,L.fp(XR,V3,G),L.fp(uR,V3,x)},n._37o=function(){delete L._89O,delete L._panning,L.fi({kind:"endPan"}),L.onPanEnded()},L._89O=ng(n);x[0]+=e,x[1]+=u,x[2]+=X,G[0]+=e,G[1]+=u,G[2]+=X,L.fp(XR,V3,G),L.fp(uR,V3,x)}},walk:function(Y,Q,n){if(Y){var R,g,B=this,L=(n==V3&&(n=B._firstPersonMode),B._90O&&B._90O.stop(!0),B._center),Z=B._eye,e=Hg(L,Z,!0);if(n){if(n=bm(B.getBoundaries(),Z[0],Z[2],Z[0]+e[0]*Y,Z[2]+e[2]*Y,b3(Y)),!(Y=zg(n)))return;e=[n[0]/Y,0,n[1]/Y]}if(Q=Jn(Q))return R=Qg(Z),g=Qg(L),Q.action=function(Q){B.fi({kind:B._walking?"betweenWalk":"beginWalk"}),B._walking=1,Q*=Y,Z[0]=R[0]+e[0]*Q,Z[1]=R[1]+e[1]*Q,Z[2]=R[2]+e[2]*Q,L[0]=g[0]+e[0]*Q,L[1]=g[1]+e[1]*Q,L[2]=g[2]+e[2]*Q,B.fp(XR,V3,Z),B.fp(uR,V3,L)},Q._37o=function(){delete B._90O,delete B._walking,B.fi({kind:"endWalk"}),B.onWalkEnded()},B._90O=ng(Q);Z[0]+=e[0]*Y,Z[1]+=e[1]*Y,Z[2]+=e[2]*Y,L[0]+=e[0]*Y,L[1]+=e[1]*Y,L[2]+=e[2]*Y,B.fp(XR,V3,Z),B.fp(uR,V3,L)}},handleScroll:function(Q,Y){d2(Q);var n=this,R=n._moveStep,g=n.getDataInfoAt(Q);if((g=g&&g.data)&&n.isInteractive(g)){var B=n.intersectObject(Q,g);if(B&&(B=B.part,(B=t(g.s(B+".image")||g.s("shape3d."+B+".image")||g.s("all.image")||g.s("shape3d.image")))&&d(B.scrollable,g,n)))return}n.isFirstPersonMode()?n.isPannable()&&n.pan(0,0<Y?R:-R):n.isZoomable()&&(n._lastZoomLP=n.lp(Q),n.setZoom(Y<0?1/s2:s2),n._lastZoomLP=n._lastZoomHit=null)},handlePinch:function(Q,Y){!this.isZoomable()||Math.abs(Q-Y)<z3.pinchZoomThreshold||this.setZoom(Q<Y?1/h2:h2)},setLightProbe:function(Q){if(Q){if(9===Q.length)return this.lightProbe=Q;if(27<=Q.length){for(var Y=this.lightProbe=[],n=0;n<9;n++)Y[n]=[Q[3*n],Q[3*n+1],Q[3*n+2]];return Y}}return!1},getLightProbe:function(){return this.lightProbe},reset:function(Q){this.setUp(z3.graph3dViewUp),this.moveCamera(z3.graph3dViewEye,z3.graph3dViewCenter,Q)},moveSelection:function(Q,Y,n){this.dm().beginTransaction(),PB(this.sm().toSelection(this.isMovable,this),Q,Y,n),this.dm().endTransaction()},getMoveMode:function(Q,Y){return(Y=Y.s("3d.move.mode"))?Y:Gg(Q)||Nd[88]&&Nd[89]&&Nd[90]?"xyz":Nd[88]&&Nd[89]?"xy":Nd[88]&&Nd[90]?"xz":Nd[89]&&Nd[90]?"yz":Nd[88]?"x":Nd[89]?"y":Nd[90]?"z":"xz"},handleTick:function(){var Q,Y=this,n=!1,R=Y._moveStep,g=R,B=-1*Y._rotateStep;Y.isWalkable()||(g=0),Y.isPannable()||(R=0),Y.isRotatable()||(B=0),Y._32Q&&(g*=Q=(Rn()-Y._32Q)/50,R*=Q,B*=Q),Y._31Q&&(D2(Y._31Q),delete Y._31Q,delete Y._32Q),_T()&&Y.pan(-R,0,!(n=!0),!0),kT()&&Y.pan(R,0,!(n=!0),!0),OT()&&(n=!0,Gg()?Y.pan(0,R,!1,!0):Y.walk(g,!1,!0)),bT()&&(n=!0,Gg()?Y.pan(0,-R,!1,!0):Y.walk(-g,!1,!0)),NT()&&Y.rotate(-B,0,!(n=!0),!0),CT()&&Y.rotate(B,0,!(n=!0),!0),UT()&&Y.rotate(0,-B/2,!(n=!0),!0),wT()&&Y.rotate(0,B/2,!(n=!0),!0),n&&(Y._32Q=Rn(),Y._31Q=y2(Y.handleTick,Y))},handleKeyDown:function(Q){!og(Q)&&sT[Q.keyCode]?this.handleTick():TT(Q)?this.selectAll():ET(Q)?this.handleDelete(Q):jT(Q)&&this.isResettable()&&this.reset()},checkDoubleClickOnNote:function(Q,Y,n){if(n===HR){if(Y.s("note.toggleable"))return Y.s(dR,!Y.s(dR)),this.fi({kind:"toggleNote",event:Q,data:Y,part:n}),!0}else if(n===sR&&Y.s("note2.toggleable"))return Y.s(KR,!Y.s(KR)),this.fi({kind:"toggleNote2",event:Q,data:Y,part:n}),!0;return!1},checkDoubleClickOnRotation:function(Q,Y,n){return n===S1?(Y.setRotationX(0),!0):n===y1?(Y.setRotationY(0),!0):n===D1&&(Y.setRotationZ(0),!0)},onRotateEnded:function(){},onWalkEnded:function(){},getViewRatio:function(Q){if(this.isOrtho())return this.getWidth()/this.getOrthoWidth();var Y=this.getCenter(),n=this.getHeight(),R=this.getEye(),Y=[Y[0]-R[0],Y[1]-R[1],Y[2]-R[2]],Q=[Q[0]-R[0],Q[1]-R[1],Q[2]-R[2]];return n*Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]+Y[2]*Y[2])*(1/Math.tan(this.getFovy()/2))/(Q[0]*Y[0]+Q[1]*Y[1]+Q[2]*Y[2])},inViewSpace:function(Q){var Y,Q=this._transformPointToViewSpace(Q),n=this.getAspect(),R=this.getNear(),g=this.getFar();return!(-Q[2]<R||-Q[2]>g)&&(this.isOrtho()?(Y=this.getOrthoWidth()/2,Math.abs(Q[0])<=Y&&Math.abs(Q[1]*n)<=Y):(Y=Math.sqrt(Q[0]*Q[0]+Q[1]*Q[1]+Q[2]*Q[2])*Math.tan(this.getFovy()/2),Math.abs(Q[1]<=Y)&&Math.abs(Q[0])<=Y*n))},getPVMatrix:function(Q){var Y;return!Q&&(Y=this._18Q)||(Y=bC(this),this._18Q=JC(Y,Y,_C(this)),this._18Q._wh=this.getWidth()/2/this.getHeight()),Y},getFrustum:(GH=new v3,oH=new dB,lH=new Array(16),function(){for(var Q=this.getPVMatrix(),Y=!1,n=0;n<16;n++)Q[n]!==lH[n]&&(Y=!0,lH[n]=Q[n]);return Y&&oH.setFromMatrix(GH.fromArray(Q)),oH}),toViewPosition:function(Q){var Y=this.getWidth()/2,n=this.getHeight()/2,R=this.getPVMatrix();return{x:Y+Y*(Q=Wg([Q[0],Q[1],Q[2],1],R))[0]/Q[3],y:n-n*Q[1]/Q[3],z:Q[2]/Q[3]}},getHitPosition:function(Q,Y,n){var R=this.getWidth(),g=this.getHeight(),B=(Q=Q.target?this.lp(Q):Q).x-R/2,Q=Q.y-g/2,L=this.getCenterInfo(),Z=_C(this),R=(Y=Y||[0,0,0],n=n||[0,1,0],B=B/R*L.width,Q=-1*Q/g*L.height,[Z[0]*B,Z[4]*B,Z[8]*B]),g=[Z[1]*Q,Z[5]*Q,Z[9]*Q],L=[R[0]+g[0],R[1]+g[1],R[2]+g[2]],B=this.getCenter();return pC(this,Y,n,[L[0]+B[0],L[1]+B[1],L[2]+B[2]])||[0,0,0]},intersectObject:function(Q,Y){return this._raycaster.intersectObject(Q,Y)},intersectObjects:function(Q,Y,n){return this._raycaster.intersectObjects(Q,Y,n)},serializePhysicalShader:function(){return this._glPrograms.serializePhysicalShader()},deserializePhysicalShader:function(Q){return this._glPrograms.deserializePhysicalShader(Q)},getLineLength:function(Q){return this.validate(),(Q=this.getData3dUI(Q))&&Q.getCache&&(Q=Q.getCache())?Q[Q.length-1].length:0},getLineOffset:function(Q,Y){var n=this.getData3dUI(Q);if(n&&n.getCache&&(n=n.getCache())){var R,n=yD(n,Y);if(Q.s("shape3d")!==vR)return n;if(Q.getScale3d&&1===(g=Q.getScale3d())[0]&&1===g[1]&&1===g[2]&&(g=null),!(R=Q.r3&&0===(R=Q.r3())[0]&&0===R[1]&&0===R[2]?null:R)&&!g)return n;var g,Y=new F3(Q.p3()),B=new F3(n.point).sub(Y),n=new F3(n.tangent).add(B);return g&&(g=new F3(g),B.multiply(g),n.multiply(g)),R&&(g=(new Z2).setFromEuler(new p2(R,Q.getRotationMode(),!0)),B.applyQuaternion(g),n.applyQuaternion(g)),{point:B.clone().add(Y),tangent:n.sub(B).normalize()}}return V3},_genBatchInstancedArrayFunc:function(){var Q=this._glCapabilities&&this._glCapabilities.instancedArray&&!this._batchInstancedDisabled,Z=Q?Dm:fm,R=(this.batchInstancedModel=function(Q,Y,n,R,g,B,L){Z(this,Q,Y,n,R,g,B,L)},Q?YD:nD),B=(this.batchInstancedShapeFace=function(Q,Y,n){R(Q,Y,n)},Q?RD:gD);this.batchInstancedFace=function(Q,Y,n,R,g){B(this,Q,Y,n,R,g)}},isLabelVisible:function(Q){return!0},isNoteVisible:function(Q){return!0},skipNonSelectableOnPick:function(Q,Y){return!Y&&!this.drawFilter&&!Q.s("static")},moveCamera:function(Q,Y,n){var R=this,g=[(g=R.getEye())[0],g[1],g[2]],B=[(B=R.getCenter())[0],B[1],B[2]];if(Q=Q||g,Y=Y||B,R._flyAnim&&R._flyAnim.stop(!0),!(n=Jn(n)))return R.setEye(Q[0],Q[1],Q[2]),R.setCenter(Y[0],Y[1],Y[2]),delete R._flyAnim,!0;var L=[Q[0]-g[0],Q[1]-g[1],Q[2]-g[2]],Z=[Y[0]-B[0],Y[1]-B[1],Y[2]-B[2]];return n.action=function(Q){R.setCenter(B[0]+Z[0]*Q,B[1]+Z[1]*Q,B[2]+Z[2]*Q),R.setEye(g[0]+L[0]*Q,g[1]+L[1]*Q,g[2]+L[2]*Q)},n._37o=function(){delete R._flyAnim},R._flyAnim=ng(n)},flyTo:(RH=new F3,gH=new F3,BH=new F3,LH=new F3,ZH=new F3,eH=new v3,uH=new K.Math.Quaternion,XH=new p2,xH=new o2,function(Q,Y,n){var R,g,B=this,L=(Y=("boolean"==typeof Y?{animation:Y}:Y)||{}).center,Z=Y.distance,e=Y.direction,u=Y.worldDirection,X=n||Y.ratio||.8,x=Y.xRatio||X,X=Y.yRatio||X,G=((n!==l3||Y.duration||Y.frames)&&(Y={animation:Y}),[]),n=Z===l3;if(L&&BH.fromArray(L),!L||n)if((Q=1===(Q=Q||B.dm().getDatas()).length?Vn(Q)?Q.get(0):Q[0]:Q)instanceof K.Node)L||BH.fromArray(Q.p3()),n&&(jf(G,B,Q),R=G.length);else{if(!Q.length)return;if(!(!n&&L||(G=[],Q.forEach(function(Q){jf(G,B,Q)}),R=G.length)))return;L||(xH.setFromPoints(G),BH.copy(xH.min).add(xH.max).multiplyScalar(.5))}B._flyAnim&&B._flyAnim.stop(!0),RH.fromArray(B.getEye()),gH.fromArray(B.getCenter()),B.setCenter(BH.x,BH.y,BH.z),LH.subVectors(RH,gH),(e||u)&&(!u&&Q instanceof K.Node?uH.setFromEuler(XH.set(Q.r3(),Q.getRotationMode(),!0)):uH.set(0,0,0,1),L=LH.length(),LH.fromArray(u||e).applyQuaternion(uH).setLength(L));var o=new F3(B.getUp()),l=y.fequal(o.x,0,1e-5)&&y.fequal(o.z,0,1e-5),V=(l&&0===LH.x&&0===LH.z&&(Q=LH.y,LH.y=.999*Q,LH.z=.001*Math.sign(Q)),0);if(n){var z,p,$,M=x,F=X;if(ZH.copy(LH),B.isOrtho()){var v=-1/0;for(B._eye[0]=LH.x+BH.x,B._eye[1]=LH.y+BH.y,B._eye[2]=LH.z+BH.z,z=bC(B),JC(z,z,_C(B)),g=0;g<R;g++)$=G[g],p=Wg([$.x,$.y,$.z,1],z),v=Math.max(v,Math.max(Math.abs(p[0])/M,Math.abs(p[1])/F));V=B.getOrthoWidth()*v}else{for(var a,J,C=B.getNear(),I=10;I--;){for(B._eye[0]=LH.x+BH.x,B._eye[1]=LH.y+BH.y,B._eye[2]=LH.z+BH.z,z=bC(B),JC(z,z,_C(B)),a=!0,J=-1/0,g=0;g<R;g++){if($=G[g],(p=Wg([$.x,$.y,$.z,1],z))[3]<C&&I){LH.multiplyScalar(2),a=!1;break}J=Math.max(J,Math.max(Math.abs(p[0])/M,Math.abs(p[1])/F)-p[3])}if(a)break}LH.setLength(J+LH.length())}LH.manhattanLength()<1e-6&&LH.copy(ZH)}else B.isOrtho()?V=2*Z*C3(B.getFovy()/2)/B.getAspect():LH.setLength(Z);var A,P,i,T,E,_,b,k,O,N,U,w,u=LH.add(BH);return(e=Jn(Y.animation))?(B.setEye(RH.x,RH.y,RH.z),B.setCenter(gH.x,gH.y,gH.z),L=u.clone().sub(BH),(A=L.length())&&L.multiplyScalar(1/A),Q=RH.clone().sub(gH),(P=Q.length())&&Q.multiplyScalar(1/P),n=(new v3).lookAtDirection(Q,o),x=(new v3).lookAtDirection(L,o),i=(new Z2).setFromRotationMatrix(n),T=(new Z2).setFromRotationMatrix(x),E=(new F3).subVectors(BH,gH),V&&(_=B.getOrthoWidth()),b=new F3,k=new F3,O=new F3,N=e.action,U=e._37o,w=gH.clone(),e.action=function(Q,Y){k.copy(w).addScaledVector(E,Q);var n=i.clone().slerp(T,Q);b.set(0,0,1).applyQuaternion(n).setLength(P+(A-P)*Q).add(k),O.set(0,1,0).applyQuaternion(n),B.setCenter(k.x,k.y,k.z),B.setEye(b.x,b.y,b.z),B.setUp(O.x,O.y,O.z),V&&B.setOrthoWidth((V-_)*Q+_),N&&N(Q,Y)},e._37o=function(){delete B._flyAnim;var Q=B.getUp(),Y=l?z3.graph3dViewUp:o.toArray();Q[0]===Y[0]&&Q[1]===Y[1]&&Q[2]===Y[2]||B.setUp(Y),U&&U()},{lastEye:RH,lastCenter:gH,eye:u,center:BH,orthoWidth:V,animation:B._flyAnim=ng(e)}):(B.setEye(u.x,u.y,u.z),B.setCenter(BH.x,BH.y,BH.z),V&&B.setOrthoWidth(V),delete B._flyAnim,{lastEye:RH,lastCenter:gH,eye:u,center:BH,orthoWidth:V})}),getBoundingBox:(nH=new v3,function(Q){if(0===(Q=(Q=Q||this.sm().getSelection())instanceof K.Node?[Q]:Q).length)return V3;var e=[],Y=(Q.forEach(function(Q){if(C(Q)){var Y=e;if(Q instanceof K.Node){var n=K.Default.getShape3dModel(Q.s("shape3d")),R=[-.5,-.5,-.5],g=[.5,.5,.5],B=(n&&n.boundingBox&&(R=n.boundingBox.min,g=n.boundingBox.max),[R[0],R[1],R[2],R[0],R[1],g[2],R[0],g[1],R[2],R[0],g[1],g[2],g[0],R[1],R[2],g[0],R[1],g[2],g[0],g[1],R[2],g[0],g[1],g[2]]),L=(nH.fromArray(QQ(Q,this.getMat(Q))),Q.getAnchor3d());L.x=L.x-.5,L.y=L.y-.5,L.z=L.z-.5;for(var Z=0;Z<24;Z+=3)Y.push((new F3).set(B[Z]-L.x,B[Z+1]-L.y,B[Z+2]-L.z).applyMatrix4(nH))}}},this),[1/0,1/0,1/0]),n=[-1/0,-1/0,-1/0];return e.forEach(function(Q){Y[0]=Math.min(Q.x,Y[0]),Y[1]=Math.min(Q.y,Y[1]),Y[2]=Math.min(Q.z,Y[2]),n[0]=Math.max(Q.x,n[0]),n[1]=Math.max(Q.y,n[1]),n[2]=Math.max(Q.z,n[2])}),{min:Y,max:n}}),isShaderCompileParallel:function(){return!!this._parallelShaderCompile},shouldCompileShaderInParallel:function(Q){return this._parallelShaderCompile&&("pbr"===Q||"phong"===Q)},enableShaderCompileParallel:function(){if(!this.getGLExtension("KHR_parallel_shader_compile"))return!1;this._parallelShaderCompile=!0},disableShaderCompileParallel:function(){this._parallelShaderCompile=!1},setBatchInfo:function(Q,Y){var n=this._batchInfoMap[Q];this._batchInfoMap[Q]=Y,this.fp("batchInfo",n,Y)},getBatchInfo:function(Q){return this._batchInfoMap[Q]||bd[Q]},getStaticInstancingKey:function(Q,Y){if(!Y&&(R=Q._lastInstancingKey))return R;var n,Y=Q.s("shape3d"),R=on(Y)?n=(n=Y.uuid)?n:Y.uuid=y.generateUUID():Y;return R+=(Q._flipSide?"_1_":"_0_")+Q.s("static.group"),Q._lastInstancingKey=R},setOrthoWidth:function(Q,Y){var n,R,g=this._orthoWidth;this._orthoWidth=Q,!Y&&this._syncEyeWithOrthoWidth&&(Y=Q/this.getAspect()/2/C3(this.getFovy()/2),n=(new F3).fromArray(this.getEye()),R=(new F3).fromArray(this.getCenter()),n.sub(R).setLength(Y).add(R),this.setEye(n.toArray())),this.fp("orthoWidth",g,Q)},getCamera:function(Q){var Y=this,n=((Q=(Q=Q||Y._mainCamera)||(Y._mainCamera=new K.Camera)).s({"camera.type":Y.isOrtho()?"ortho":"perspective","camera.fovy":Y.getFovy(),"camera.ortho.width":Y.getOrthoWidth(),"camera.near":Y.getNear(),"camera.far":Y.getFar()}),Q.s("camera.aspect.sync")&&Q.s("camera.aspect",Y.getAspect()),Y.getEye());return Q.p3(n.slice()),Q.lookAt(Y.getCenter(),Y.getUp()),Q},syncFromCamera:function(Q){var Y=this,n=new F3(Y.getEye()),R=new F3(Y.getCenter()),g=new F3,B=R.sub(n).length(),L=(Y.setEye(Q.p3()),Q.getEuler());return g.set(0,0,-1).applyEuler(L),n.copy(g).setLength(B).add(R.copy(Q.p3())),Y.setCenter(n.toArray()),n.set(0,1,0).applyEuler(L),R.set(0,1,0),Math.abs(g.cross(n).dot(R))<1e-5?Y.setUp(R.toArray()):Y.setUp(n.toArray()),Y.setOrtho("ortho"===Q.s("camera.type")),Q.s("camera.aspect.sync")&&Y.setAspect(Q.s("camera.aspect")),Y.setFovy(Q.s("camera.fovy")),Y.setOrthoWidth(Q.s("camera.ortho.width"),!0),Y.setNear(Q.s("camera.near")),Y.setFar(Q.s("camera.far")),!0},resetHeadlightProperties:function(){this._headlightColor=z3.graph3dViewHeadlightColor,this._headlightIntensity=z3.graph3dViewHeadlightIntensity,this._headlightRange=z3.graph3dViewHeadlightRange,this._headlightDirection=z3.graph3dViewHeadlightDirection,this._headlightGroup=z3.graph3dViewHeadlightGroup,this._headlightAmbientIntensity=z3.graph3dViewHeadlightAmbientIntensity,this._headlightDisabled=z3.graph3dViewHeadlightDisabled,this._headlightRatioForPhysicalMaterial=z3.graph3dViewHeadlightRatioForPhysicalMaterial},resetFogProperties:function(){this._fogDisabled=z3.graph3dViewFogDisabled,this._fogMode=z3.graph3dViewFogMode,this._fogDensity=z3.graph3dViewFogDensity,this._fogColor=z3.graph3dViewFogColor,this._fogNear=z3.graph3dViewFogNear,this._fogFar=z3.graph3dViewFogFar},_gatherRenderLayersByPriority:function(Q){if(Q||!(this._renderLayerSettingsVersion>=TQ)){var Y,n=this,R=(n._renderLayerSettingsVersion=TQ,n._sortedRenderLayers=m.keys(n._renderLayerInfoMap));for(Y in EQ)0<=R.indexOf(Y)||R.push(Y);R.sort(function(Q,Y){return n.getRenderLayerInfo(Q).priority-n.getRenderLayerInfo(Y).priority})}},setRenderLayerInfo:function(Q,Y){kQ(0,Q,this._renderLayerInfoMap);var n,R=this.getRenderLayerInfo(Q),Q=Qg(R);for(n in Y)"mask"!==n&&(R[n]=Y[n]);this._gatherRenderLayersByPriority(!0),this.fp("renderLayerInfo",Q,R)},getRenderLayerInfo:function(Q){return this._renderLayerInfoMap[Q]||EQ[Q]},setRenderLayerInfoMap:function(Q){var Y,n=this._renderLayerInfoMap,R=!(this._renderLayerInfoMap={});for(Y in Q)this.setRenderLayerInfo(Y,Q[Y]),R=!0;R||this._gatherRenderLayersByPriority(!0),this.fp("renderLayerInfoMap",n,this._renderLayerInfoMap)},getRenderLayerInfoMap:function(){return this._renderLayerInfoMap},getRenderLayerKeys:function(){return this._sortedRenderLayers}}),z3.registerTextureLoader=function(Q){IH?IH.push(Q):IH=[Q]},z3.unregisterTextureLoader=function(Q){if(IH)return 0<=(Q=IH.indexOf(Q))&&(IH.splice(Q,1),0===IH.length&&(IH=null),!0)},function(Q,Y){return(5131!==Y||Q.isWebGL2()?Y:null!==(Q=Q._glExtensions.get("OES_texture_half_float"))?Q.HALF_FLOAT_OES:null)||5121}),k1=function(Q,Y){Y?(Q._needDeleteGetAttrBackupFunc=!Q.hasOwnProperty("getAttr"),Q._textureAttrObject=Y,Q._getAttrBackupFunc=Q.getAttr,Q.getAttr=rf):(delete Q._textureAttrObject,Q._needDeleteGetAttrBackupFunc?delete Q.getAttr:Q.getAttr=Q._getAttrBackupFunc,delete Q._needDeleteGetAttrBackupFunc,delete Q._getAttrBackupFunc)},O1=function(Q,Y,n){if(!Q.isWebGL2())return Y;var R=Y;return 6403===Y&&(5126===n&&(R=33326),5131===n&&(R=33325),5121===n&&(R=33321)),33319===Y&&(5126===n&&(R=33328),5131===n&&(R=33327),5121===n&&(R=33323)),6407===Y&&(5126===n&&(R=34837),5131===n&&(R=34843),5121===n&&(R=32849)),6408===Y&&(5126===n&&(R=34836),5131===n&&(R=34842),5121===n&&(R=32856)),33325!==(R=36249===Y&&5125===n?36208:R)&&33326!==R&&34842!==R&&34836!==R&&36208!==R||Q._glExtensions.get("EXT_color_buffer_float"),R},N1=y.newIdGenerator(),U1=(m.assign(c.Graph3dView.prototype,{getTextureMap:function(){return this._2O},setTextureStyle:function(Q,Y,n){return!(!(Q=t(Q))||!Q.texture||(this.deleteTexture(Q),Q[Y]=n,this.iv(),0))},setTexture:function(Q,Y,n){var R,g;n=n||"",(R=this._2O[Q])?R[n]&&(g=this.getGL())&&R[n]!==Y&&g.deleteTexture(R[n]):R=this._2O[Q]={},R[n]=Y},deleteTexture:function(Q){if(this._2O){Q&&Q.uuid&&(Q=Q.uuid);var Y=this._2O[Q];if(Y){delete this._2O[Q];var n,R=this.getGL();for(n in Y)R.deleteTexture(Y[n]);return!0}}},invalidateCachedTexture:(TH=[],EH=["shape3d.image"],["top","bottom","from","to"].forEach(function(Q){EH.push("shape3d."+Q+".image")}),["all","left","right","top","bottom","front","back"].forEach(function(Q){TH.push(Q+".image")}),_H=function(Q){return!!Q&&(on(Q)&&!M3(Q)?!Q.tagName&&(!Q.texture||_H(Q.image)):$3(Q)&&rd.test(Q))},function(Q,Y){if(Q instanceof sQ){for(var n,R,g,B,L=this.getData3dUI(Q),Z=(L&&(n=L.invalidateCachedTexture(this.getGL())),Q.getMaterials()),e=0,u=Z.length;e<u;e++)for(var X in R=Z[e])g=R[X],n=Hf(this,g)||n;if((L=Q.getStyle("shape3d"))?$3(L)&&!Hd.test(L)&&(B=EH):B=TH,B)for(var x=Q.getStyleMap(),e=0,u=B.length;e<u;e++)n=Hf(this,g=x[B[e]])||n;!1===Y&&!n||this.invalidateData(Q)}}),invalidateShape3dCachedImage:function(Q){this.invalidateCachedTexture(Q)},getTextureFromLoader:function(Q){if(IH)for(var Y,n=0,R=IH.length;n<R;n++)if((Y=IH[n]).checkType(Q))return Y.getTexture(this,Q)},getGLTextureFromLoader:function(Q){var Y=this.getTextureFromLoader(Q);return Y&&(Y=this.createTexture(Y),this.setTexture(Q,Y),Y)},_getPrefabBoneTextureId:function(Q){var Y=Q.originalPrefab;return(Q=Y||Q)._4LQ||(Q._4LQ=N1.next())},getPrefabBoneTexture:function(Q){var Y=this._26I;return Y?(Q=this._getPrefabBoneTextureId(Q),Y._4KQ[Q]):null},setPrefabBoneTexture:function(Q,Y){Q=this._getPrefabBoneTextureId(Q),this._26I._4KQ[Q]=Y},textureToCanvas:(PH={type:"blitScreen",defines:{USE_LINEAR:!0}},iH={type:"blitScreen"},function(Q,Y,n,R){var g=YC(Q)?Q:this.getTextureFromLoader(Q);if(g&&(n=n||g.width,R=R||g.height,n&&R))return(g=(Y=Y===l3?"linear"===g.colorSpace:Y)?PH:iH).image=Q,Y=new j1(this,n,R),this.renderModel(Y,g),g.image=null,Q=Y.toCanvas(),Y.release(),Q}),createTexture:function(Q,Y){var n,R,g,B,L,Z,e=this.getGL(),u=mS,X=b1(this,Q.type||Q.textureType),x=Q.format||u.RGBA,G=O1(this,x,X),o=(Q.image?(g=t(Q.image),n=Q.width||g.naturalWidth||g.width,R=Q.height||g.naturalHeight||g.height,o=!g||"VIDEO"!==g.tagName&&(!n||!R)):(g=Q.data,n=Q.width,R=Q.height,(o=g===l3||!n||!R)||(B=!0)),o&&(g=null,n=R=0),Q.minFilter||Q.filter||u.LINEAR),l=Q.magFilter||Q.filter||u.LINEAR,V=Q.wrapS||Q.wrap,z=Q.wrapT||Q.wrap,p=(V||z||(V=z=!y.isPOT(n)||!y.isPOT(R)||Q.clampToEdge||g&&g.clampToEdge?u.CLAMP_TO_EDGE:u.REPEAT),this.isWebGL2()),$=(p||V===u.CLAMP_TO_EDGE&&z===u.CLAMP_TO_EDGE&&(o===u.NEAREST||o===u.LINEAR)||y.isPOT(n)&&y.isPOT(R)||!g||B||($=Q.scaleMode,L=y.nearestPOT(n),Z=y.nearestPOT(R),"smaller"===$?(n<L&&(L/=2),R<Z&&(Z/=2)):"larger"===$&&(L<n&&(L*=2),Z<R&&(Z*=2)),g=z3.resizeImage(g,L,Z),n=L,R=Z),Y=Y||e.createTexture(),e.activeTexture(33984),CC(e,Y),e.pixelStorei(37440,!0===Q.flipY),e.pixelStorei(37441,!1),B?e.texImage2D(u.TEXTURE_2D,0,G,n,R,0,x,X,g):g&&e.texImage2D(u.TEXTURE_2D,0,G,x,X,g),wC(e,10242,V),wC(e,10243,z),wC(e,10240,l),Q.generateMipmaps);return($=$===l3?V!==u.CLAMP_TO_EDGE||z!==u.CLAMP_TO_EDGE:$)?(wC(e,10241,9728===o?9984:9987),p&&Q.mipmapMaxLevel!==l3&&wC(e,33085,Q.mipmapMaxLevel),e.generateMipmap(u.TEXTURE_2D)):wC(e,10241,o),CC(e,V3),B&&Y&&(Y.width=n,Y.height=R),Y},resetSharedTextureIndex:function(){this._sharedTextureIndex=0},textureAccessesByMaterial:function(Q,Y){var n,R=this._sharedTextureIndex,g=this.getGL();return 0===R?n=g._sharedTexture:(n=g._sharedTexturePool[R-1])||(g._sharedTexturePool[R-1]=n=OC(this,g)),(R=this.getTexture(Q,Y,l3,l3,n))===n&&this._sharedTextureIndex++,R},getTexture:function(Q,Y,n,R,g){if(!Q)return V3;var B=this,L=B.getGL(),Z=B._2O[Q];if(!(e=(Z=!Z&&on(Q)&&Q.uuid?B._2O[Q.uuid]:Z)?Z[(p=Y?Y.s("texture.mipmap.max"):p)||""]||Z.default:e)&&null===(e=B.getGLTextureFromLoader(Q)))return L._emptyTexture;if(!e){if(!(Z=t(Q)))return L._emptyTexture;R=R?m.assign({},R):{},Y&&(R.mipmapMaxLevel=p=Y.s("texture.mipmap.max"),u=Y.s("texture.wrap"),R.clampToEdge="clampToEdge"===u||"repeat"!==u&&l3,R.flipY=Y.s("texture.flipY")),Z.uuid||(Z.uuid=K.Math.generateUUID());var e,u=$3(Q)?Q:Z.uuid,X=Z.texture;if(Z.tagName||X){if(Z.dynamic&&!(z=L._dynamicTexturePool[Z.uuid])&&(z=L._dynamicTexturePool[Z.uuid]=L.createTexture()),X){if(e=!(X=Z.image)&&Z.data?Z:B.getTextureFromLoader(X))return(G=m.assign({},e,Z)).image&&delete G.image,e=B.createTexture(G,z),Z.dynamic||B.setTexture(u,e),e;if(null===e)return L._emptyTexture;if(!(G=t(X)))return L._emptyTexture;if(G.tagName){if(!K2(G,Y))return L._emptyTexture;e=B.createTexture(Z,z)}else{if(!Z.dynamic){if(L._renderInfo.textureCache.time>z3.graph3dMaxVectorCacheTime)return B.redraw(),L._emptyTexture;if(!K2(G,Y))return L._emptyTexture}e=B._getTextureFromSymbol(L,Y,Q,G,Z,z,!Z.dynamic)}p=""}else{if(!K2(Z,Y))return L._emptyTexture;e=OC(B,L,Z,z,R)}Z.dynamic||B.setTexture(u,e,p)}else{var x,X=Y&&(Y.s("texture.cache")||Y.s("shape3d.image.cache")||Z.textureCache),G=B.getPresentingReality();if(G&&Y&&(Y._textureUpdateFrame===L._renderInfo.frame?X=!0:Y._textureUpdateFrame=L._renderInfo.frame),X&&(e=(x=B.getData3dUI(Y)).getCachedTexture(n))&&x.interactiveInfo&&e.interactiveInfo&&(x.interactiveInfo[e.interactiveInfo.key]=e.interactiveInfo.info),!e){if(X){if(L._renderInfo.textureCache.time>z3.graph3dMaxVectorCacheTime)return B.redraw(),L._emptyTexture;if(!K2(Z,Y))return L._emptyTexture}Y&&(1!==Y.s("texture.scale")?V=Y.s("texture.scale"):1!==Y.s("shape3d.texture.scale")&&(V=Y.s("shape3d.texture.scale")));var o,l,V,V=V||1,z=Y&&(Y.s("fixSizeOnScreen")||Y.s("shape3d.fixSizeOnScreen")),u=z?9728:9729;z?"number"==typeof z&&(V*=z<0?1:z):Y&&(Y.s("vector.dynamic")||Y.s("shape3d.vector.dynamic"))&&(z=(x=x||B.getData3dUI(Y)).getVectorDynamicSize());"billboard"===(p=Y&&Y.s("shape3d"))?o=Y.getTall()/Y.getWidth():"plane"===p&&(o=Y.getHeight()/Y.getWidth());var p=Y&&Y.s("texture.width"),p=o&&xn(p)?vQ(Z,Y,B,Math.min(4096,p)):vQ(Z,Y),$=o?aQ(Z,Y,B,Math.min(4096,p*o)):aQ(Z,Y);z&&(l=B._devicePixelRatio||I2,p=0<z[0]?z[0]:V*p,$=0<z[1]?z[1]:V*(o?aQ(Z,Y,B,Math.min(4096,p*o)):aQ(Z,Y)),V=l),R.scale=V,R.width=p,R.height=$,Y?(R.minFilter=km(Y.s("texture.filter.min")||Y.s("texture.filter"))||u,R.magFilter=km(Y.s("texture.filter.mag")||Y.s("texture.filter"))||u):R.minFilter=R.magFilter=u,g=X||G?null:g||L._sharedTexture,e=B._getTextureFromSymbol(L,Y,Q,Z,R,g,X||G),(X||G)&&(x=!x&&Y?B.getData3dUI(Y):x)&&x.setCachedTexture(e,n)}}}return e},_getTextureFromSymbol:function(Q,Y,n,R,g,B,L){R.uuid||(R.uuid=K.Math.generateUUID());var Z,e,u,X,x,G=g.width||vQ(R,Y),o=g.height||aQ(R,Y),l=g.scale||1,V=l*G,z=l*o;return 1<=V&&1<=z&&(Z=Q._renderInfo.textureCache,e=0,L&&(e=Date.now()),u=this._glCapabilities.maxTextureSize,V=Math.min(V,u),z=Math.min(z,u),u=qT(V,z),1!==l&&u.scale(l,l),Y&&(l=this.getData3dUI(Y))&&l.interactiveInfo&&("object"==typeof(x=n)&&(x=x.uuid||(x.uuid=K.Math.generateUUID())),X=l.interactiveInfo[x]={},u.interactiveInfo=X.bodyInfo={compInfos:[],matrix:new B2,rect:{x:0,y:0,width:G,height:o}}),(n=Y&&Y.setCurrentDrawingImage)&&Y.setCurrentDrawingImage(R),g.texture&&g.dataBindings?Y?(k1(Y,g.dataBindings),JQ(u,R,0,0,G,o,Y,this),k1(Y)):((AH=AH||new sQ).setAttrObject(g.dataBindings),JQ(u,R,0,0,G,o,AH,this),AH.setAttrObject(null)):JQ(u,R,0,0,G,o,Y,this),n&&Y.setCurrentDrawingImage(null),u.interactiveInfo&&(u.interactiveInfo=null),u.restore(),u=OC(this,Q,tT,B,g),X&&(u.interactiveInfo={key:x,info:X}),Z.count++,Z.pixels+=V*z,L&&(Z.time+=Date.now()-e)),u}}),(((Y=c.EnvmapRenderer=function(Q){this.gv=Q,this._envmaps={},this._envmapHash={},this._probeCaptureTime={},this._envmapPoolCachedByImage=[],this._pingPongRenderTarget=null,this._equirectMaterial=null,this._blurMaterial=null,this._lastCaptureFrame=0,this._cubemapMaterial=null,this._envmapIntensity={}}).prototype={}).constructor=Y).prototype.changeEnvmapType=function(Q){if("legacy"===Q){for(var Y in this.setEnvmapByProbeId=this.setEnvmapLegacy,this.onBeforeRender=this.onBeforeRenderLegacy,this._envmaps)sf(this._envmaps,Y,null);this._envmapHash={},this._probeCaptureTime={}}else this.setEnvmapByProbeId=this.setEnvmap,this.onBeforeRender=this.onBeforeRenderNew},Y.prototype.invalidateEnvmap=function(Q){var Y=this.gv;"legacy"!==Y.getEnvmapType()&&Y.getGL()&&(Q?(delete this._envmapHash[Q],delete this._probeCaptureTime[Q]):(this._envmapHash={},this._probeCaptureTime={}),Y.iv())},Y.prototype.dispose=function(){var Q,Y=this,n=[Y._pingPongRenderTarget,Y._hdrDynamicComposeRTT];for(Q in Y._envmaps)n.push(Y._envmaps[Q]);hC(Y.gv,n),Y._envmaps={},Y._envmapPoolCachedByImage=[],Y._envmapHash={},Y._pingPongRenderTarget=null,Y._equirectMaterial=Y._cubemapMaterial=Y._blurMaterial=null,Y._hdrDynamicComposeRTT=null,Y._envmapLegacy=null,Y._lastLegacyImage=null},Y.prototype.onBeforeRenderLegacy=function(Q){this.gv._picking||(this.assureTextureLegacy(Q),this.assureEnvmapPoolForImage())},Y.prototype.assureTextureLegacy=function(Q){var Y,n,R=this.gv.getEnvmap();R!==this._lastLegacyImage&&(this._envmapLegacy&&(Q.deleteTexture(this._envmapLegacy),this._envmapLegacy=null),R?(Y=z3.getImage(R))&&Y.tagName&&(Y=z3.resizeImagePOT(Y,!0),n=this._envmapLegacy=Q.createTexture(),Q.activeTexture(33984),Q.bindTexture(34067,n),Q.texParameteri(34067,10240,9729),Q.texParameteri(34067,10241,9729),Q.texImage2D(34069,0,6408,6408,5121,Y),Q.texImage2D(34070,0,6408,6408,5121,Y),Q.texImage2D(34071,0,6408,6408,5121,Y),Q.texImage2D(34072,0,6408,6408,5121,Y),Q.texImage2D(34073,0,6408,6408,5121,Y),Q.texImage2D(34074,0,6408,6408,5121,Y),Q.bindTexture(34067,Q._emptyCubeTexture),this._lastLegacyImage=R):this._lastLegacyImage=R)},Y.prototype.setEnvmapLegacy=function(Q,Y,n){Q.uEnvMap=this._envmapLegacy,Q.envMapIntensity=n},Y.prototype.onBeforeRenderNew=function(Q){this.gv._picking||(this.assureTextureNew(Q),this.resetUniformCache(),this.assureEnvmapPoolForImage())},Y.prototype.isHDR=function(Q){return"string"==typeof Q&&(Q.indexOf(".hdr")===Q.length-4||Q.indexOf(".HDR")===Q.length-4)},Y.prototype.isDynamicImage=function(Q){return Q&&Q.comps&&Q.comps[0]&&"__ht_envmap_bg__"===Q.comps[0].type},Y.prototype.isImageReady=function(Q){var Y;if(this.isHDR(Q))Y=z3.getHdrTexture(Q);else if(Y=z3.getImage(Q),this.isDynamicImage(Y)&&!this.isImageReady(Y.comps[0].image))return!1;return Y},Y.prototype.assureTextureNew=function(Q){var Y=this,n=Y.gv,R=n.getEnvmap(),g=Y._envmapHash,B=Y._envmaps,L=Y._envmapIntensity,Q=Q._renderInfo.frame;if(this._lastCaptureFrame>=Q||n._picking)for(Z in R)u=R[Z].intensity,L[Z]=u==V3?1:u;else{for(var Z in R){var e=R[Z],u=e.intensity;switch(L[Z]=u==V3?1:u,e.type){case"sphere":($=e.image)!==g[Z]&&($?Y.isImageReady($)&&(g[Z]=$,sf(B,Z,Y.fromEquirectangular($))):(g[Z]=$,sf(B,Z,null)));break;case"cube":var X=e.texture;if(X!==l3)g[Z]!==X&&(g[Z]=X,sf(B,Z,Y.fromCubemap(X,e.encoding)));else{var x=e.images;if(x&&6===x.length){if(($=x.join(","))!==g[Z]){for(var G=!0,o=!1,l=0;l<6;l++){if(!x[l]){o=!0;break}if(!z3.getImage(x[l])){G=!1;break}}o?(g[Z]=$,sf(B,Z,null)):G&&(g[Z]=$,sf(B,Z,Y.fromCubemap(x)))}}else g[Z]=l3,sf(B,Z,null)}break;case"skybox":var V,z=n.getSkybox(),p=!1;if(z){if("sphere"===(X=z.s("shape3d")))$=z._id+"_"+z.s("shape3d.image");else for(var $=z._id,l=0;l<6;l++)$+="_"+z.s(TD[l]+".image");if($!==g[Z]){if("sphere"===X)(V=z.s("shape3d.image"))==V3?p=!0:G=Y.isImageReady(V);else for(G=!0,l=0;l<6;l++){if((V=z.s(TD[l]+".image"))==V3){p=!0;break}if(!z3.getImage(V)){G=!1;break}}p?(g[Z]=$,sf(B,Z,null)):G&&(g[Z]=$,sf(B,Z,Y.fromSkybox()))}}else B[Z]&&(g[Z]=l3,sf(B,Z,null));break;case"probe":var M,F,v=e.pos,a=e.size;($=v[0]+"_"+v[1]+"_"+v[2]+"_"+a)!==g[Z]&&(M=this._probeCaptureTime[$],F=Date.now(),M||(this._probeCaptureTime[$]=M=F),F-M>z3.envmapProbeMinWaitTime&&!yd&&!lD||F-M>z3.envmapProbeMaxWaitTime?(delete this._probeCaptureTime[$],g[Z]=$,sf(B,Z,Y.fromSceneProbe(v,a,e.filter))):n.iv())}}m.keys(B).forEach(function(Q){R[Q]===l3&&(delete g[Q],sf(B,Q,null))})}},Y.prototype.resetUniformCache=function(){this._frameUniformCache={}},Y.prototype.setEnvmap=function(Q,Y,n){var R=Q.uuid,g=this._frameUniformCache,B=(B=this._envmaps[Y])&&B.texture;g.hasOwnProperty(R)&&g[R]===B||(g[R]=B,Q.uEnvMap=B),n&&(n*=this._envmapIntensity[Y]||0),Q.envMapIntensity=n},Y.prototype.assureEnvmapPoolForImage=function(){for(var Q=this._envmapPoolCachedByImage,Y=0,n=Q.length;Y<n;Y++)Q[Y][0]&&!Q[Y][1]&&this.isImageReady(Q[Y][0])&&(Q[Y][1]=this.fromEquirectangular(Q[Y][0]))},Y.prototype.assureEnvmapFromEquirectangular=function(Q){for(var Y,n=this._envmapPoolCachedByImage,R=0,g=n.length;R<g;R++)if(n[R][0]===Q)return(Y=n[R][1])?Y.texture:null;return n.push([Q,null]),this.gv.iv(),null},Y.prototype.invalidateEnvmapUsedByMaterial=function(Q){if(Q)for(var Y=this._envmapPoolCachedByImage,n=0,R=Y.length;n<R;n++)Y[n][0]===Q&&(Y[n][1]=null);else this._envmapPoolCachedByImage=[];this.gv.iv()},Y.prototype.isEnvmapUsedByMaterialReady=function(Q){for(var Y=this._envmapPoolCachedByImage,n=Q==V3,R=0,g=Y.length;R<g;R++)if(n){if(!Y[R][1])return!1}else if(Y[R][0]===Q)return!!Y[R][1];return n},Y.prototype.fromEquirectangular=function(Q){var Y,n,R,g,B,L=this.isHDR(Q)?(Y=K.Default.getHdrTexture(Q),"linear"):this.isDynamicImage(Q)&&this.isHDR(Q.comps[0].image)?(g=(n=Q.comps[0]).image,n.image=null,R=this.gv.getTexture(Q),n.image=g,g=this.gv.getTexture(g),B=(B=this._hdrDynamicComposeRTT)||(this._hdrDynamicComposeRTT=this._allocateTargets()),L=Q.width,this.gv.renderModel(B,L,Q.height,{type:"envmapDynamicCompose",offset:n.offset?(n.offset%1+1)%1:0,texture1:g,texture2:R}),B=B.texture,Y=Q,"linear"):(Y=K.Default.getImage(Q),"sRGB");return Y?(this.rectSize=[1/Y.width,1/Y.height],Q=B||this.gv.getTexture(Q),this.fromTexture(Q,null,L)):null},Y.prototype.fromCubemap=function(Q,Y){if(Y=Y||"sRGB",YC(Q))return this.fromTexture(Q,!0,Y);for(var n=this.gv.getGL(),R=n.createTexture(),g=(n.activeTexture(33984),n.bindTexture(34067,R),n.texParameteri(34067,10240,9729),n.texParameteri(34067,10241,9729),[]),B=sH/3,L=0;L<6;L++)g[L]=z3.resizeImage(K.Default.getImage(Q[L]),B);return n.texImage2D(34069,0,6408,6408,5121,g[0]),n.texImage2D(34070,0,6408,6408,5121,g[1]),n.texImage2D(34071,0,6408,6408,5121,g[2]),n.texImage2D(34072,0,6408,6408,5121,g[3]),n.texImage2D(34073,0,6408,6408,5121,g[4]),n.texImage2D(34074,0,6408,6408,5121,g[5]),n.bindTexture(34067,n._emptyCubeTexture),this.fromTexture(R,!0,Y)},Y.prototype.fromTexture=function(Q,Y,n){var R=this._allocateTargets(),g=(this._pingPongRenderTarget||(this._pingPongRenderTarget=this._allocateTargets()),this.gv),B=g.getGL(),L=a3.for(B).directState(),Z=L.depth.enabled,e=(L.scissor.enabled=!0,L.depth.enabled=!1,g.getViewport(B));return this._textureToCubeUV(Q,R,Y,n),this._applyPMREM(R),g.setViewport(B,e[0],e[1],e[2],e[3]),L.depth.enabled=Z,L.scissor.enabled=!1,R},Y.prototype.fromSkybox=function(){return this._fromCamera(function(Q){Q.s({"camera.onlySky":!0,"camera.skybox.blur":!1})})},Y.prototype.fromScene=function(Y){return this._fromCamera(function(Q){Q.s({"camera.onlySky":!1}),Y&&Y(Q)})},Y.prototype.fromNode=function(Q){var Y,n=this.gv.getData3dUI(Q),R=n._42,g=(n._42=dd,this.gv.getSkybox()),B=Q.p3(),Q=(g&&(Y=g.p3(),g.p3(B)),this.fromScene(function(Q){Q.p3(B)}));return n._42=R,g&&g.p3(Y),Q},Y.prototype.fromSceneProbe=function(Y,n,R){var Q,g,B=this.gv,L=B.getSkybox(),Z=(L&&(Q=L.p3(),L.p3(Y)),R&&(g=B.isVisible,B.isVisible=function(Q){var Y=R(Q);return Y!==l3?Y:g.call(B,Q)}),this.fromScene(function(Q){Q.p3(Y),Q.s("camera.near",n)}));return R&&(B.isVisible=g),L&&L.p3(Q),Z},Y.prototype._fromCamera=function(Q){var Y=this.gv,n=Y.getCamera(),Q=(Q&&Q(n),new j1(Y,sH,sH,{cube:!0})),R=Y.getGL(),g=Y.getViewport(R),B=this.setEnvmapByProbeId,L=this.onBeforeRender,n=(this.setEnvmapByProbeId=function(Q){Q.envMap=R._emptyTexture},this.onBeforeRender=dd,n.attachRenderTarget(Q),n.render(Y),n.detachRenderTarget(),this.setEnvmapByProbeId=B,this.onBeforeRender=L,Y.setViewport(R,g[0],g[1],g[2],g[3]),this.fromTexture(Q.texture,!0,"sRGB"));return Q.releaseTexture(),n},Y.prototype._allocateTargets=function(Q){return new j1(this.gv,3*OH,3*OH,{textureType:5131})},Y.prototype._textureToCubeUV=function(Q,Y,n,R){var g,B,L=this,Z=L.gv,e="sRGB"===R?"USE_SRGB":"USE_LINEAR",e=(n?(null==L._cubemapMaterial&&(L._cubemapMaterial={}),null==(g=L._cubemapMaterial[e])&&((B={})[e]=!0,L._cubemapMaterial[e]=g={type:"envmapCubemap",internalDefines:!1,defines:B})):(null==L._equirectMaterial&&(L._equirectMaterial={}),null==(g=L._equirectMaterial[e])&&((B={})[e]=!0,L._equirectMaterial[e]=g={type:"envmapEquirect",internalDefines:!1,defines:B})),g.envMap=Q,n||(g.texelSize=L.rectSize),jH[0]);Z.renderModel(Y,{model3d:!0,mesh:e,mat:g,encoding:"linear"===R?1:0},{restoreViewport:!1,preRender:function(){L._setViewport(Y,0,0,3*OH,2*OH)}})},Y.prototype._applyPMREM=function(Q){for(var Y,n,R=1;R<UH;R++)Y=Math.sqrt(HH[R]*HH[R]-HH[R-1]*HH[R-1]),n=wH[(R-1)%wH.length],this._blur(Q,R-1,R,Y,n)},Y.prototype._setViewport=function(Q,Y,n,R,g){var B=this.gv;B.setViewport(B.getGL(),Y,n,R,g),B.getRenderState().directState().scissor.box=[Y,n,R,g]},Y.prototype._blur=function(Q,Y,n,R,g){var B=this._pingPongRenderTarget;this._halfBlur(Q,B,Y,n,R,"latitudinal",g),this._halfBlur(B,Q,n,n,R,"longitudinal",g)},Y.prototype._halfBlur=function(Q,Y,n,R,g,B,L){var Z=this,e=Z.gv,u=Z._blurMaterial;if("latitudinal"===B||"longitudinal"===B){u||(Z._blurMaterial=u={type:"envmapBlur",internalDefines:!1,defines:{n:CH}});for(var X,x=rH[n]-1,G=g/(x=isFinite(g)?Math.PI/(2*x):2*Math.PI/(2*CH-1)),o=isFinite(g)?1+Math.floor(3*G):CH,l=[],V=0,z=0;z<CH;++z)$=z/G,X=Math.exp(-$*$/2),l.push(X),0==z?V+=X:z<o&&(V+=2*X);for(z=0;z<l.length;z++)l[z]=l[z]/V;u.envMap=Q.texture,u.samples=o,u.weights=l,u.latitudinal="latitudinal"===B,L&&(u.poleAxis=L),u.dTheta=x,u.mipInt=kH-n;var p=rH[R],$=3*Math.max(0,OH-2*p),M=(0===R?0:2*OH)+2*p*(kH-bH<R?R-kH+bH:0),g=jH[R];e.renderModel(Y,{model3d:!0,mesh:g,mat:u},{restoreViewport:!1,preRender:function(Q){Z._setViewport(Y,$,M,3*p,2*p)}})}},bH=4,kH=8,OH=Math.pow(2,kH),UH=kH-bH+1+(NH=[.125,.215,.35,.446,.526,.582]).length,CH=20,r3=1/(Y=(1+Math.sqrt(5))/2),wH=[new F3(1,1,1),new F3(-1,1,1),new F3(1,1,-1),new F3(-1,1,-1),new F3(0,Y,r3),new F3(0,Y,-r3),new F3(r3,0,Y),new F3(-r3,0,Y),new F3(Y,r3,0),new F3(-Y,r3,0)],Y=function(){for(var Q=[],Y=[],n=[],R=kH,g=0;g<UH;g++){var B=Math.pow(2,R),L=(Y.push(B),1/B);kH-bH<g?L=NH[g-kH+bH-1]:0==g&&(L=0),n.push(L);for(var Z=-(L=1/(B-1))/2,e=1+L/2,u=[],X=[],x=[],G=0;G<6;G++){var o=G%3*2/3-1,l=2<G?0:-1;u.push(o,l,0,o+2/3,l,0,o+2/3,1+l,0,o,l,0,o+2/3,1+l,0,o,1+l,0),X.push(Z,Z,e,Z,e,e,Z,Z,e,e,Z,e),x.push(G,G,G,G,G,G)}Q.push({position:new jg(u),uv:new jg(X),faceIndex:new jg(x)}),bH<R&&R--}return{_lodPlanes:Q,_sizeLods:Y,_sigmas:n}}(),jH=Y._lodPlanes,rH=Y._sizeLods,HH=Y._sigmas,sH=z3.EnvmapTextureSize,z3.setCompType("__ht_envmap_bg__",function(Q,Y,n,R,g){var B,L,Z,e=n.image;(e=e&&z3.getImage(e))&&(B=Y.x,L=Y.y,Z=Y.width,Y=Y.height,0!=(n=((n.offset||0)%1+1)%1*Z|0)&&(Q.save(),Q.beginPath(),Q.rect(B,L,Z,Y),Q.clip(),Q.translate(n,0),z3.drawImage(Q,e,B-Z,L,Z,Y,R,g)),z3.drawImage(Q,e,B,L,Z,Y,R,g),0!=n&&Q.restore())}),["left","front","right","back","top","bottom"]),C1=c._RenderList=function(b){var k=[],O=[],N={},U={},C={},w={},j={},r={},H={},s={};return{opaque:k,transparent:O,init:function(){for(var Q in k.length=0,O.length=0,H={},s)s[Q].length=0},push:function(Q,Y){if(Y){var n,R,g,B,L=Q,Z=L.gv,e=L.data,u=L.shapeModel;if(u)if(e.s("static")&&(z=!0),u.model3d)V=n=R=!0;else{(o=e.s("shape3d.top.material"))&&(Jm(o)?R=!0:n=!0),(o=e.s("shape3d.bottom.material"))&&(Jm(o)?R=!0:n=!0),(o=e.s("shape3d.from.material"))&&(Jm(o)?R=!0:n=!0),(o=e.s("shape3d.to.material"))&&(Jm(o)?R=!0:n=!0),(o=e.s("shape3d.material"))&&(Jm(o)?R=!0:n=!0);var X,x,G=e.s("shape3d.transparent")||e.s("points.transparent");for(M3(u)||(X=d(u.transparent,e,Z),u=[u]),g=0,B=u.length;g<B;g++)x=u[g],(x=(x=(x=d(x.transparent,e,Z))===l3?X:x)===l3?G:x)?R=!0:n=!0}for(g=0,B=U1.length;g<B;g++){var o,l=L[U1[g]];l&&((o=Z.getFaceMaterial(e,U1[g]))?Jm(o)?R=!0:n=!0:l.transparent?R=!0:n=!0)}var Y=!1,V=(Z.isLabelVisible(e)&&(L.labelInfo&&(Y=!0,e.s(jR+".transparent")?R=!0:n=!0),L.label2Info&&(Y=!0,e.s(rR+".transparent")?R=!0:n=!0)),Z.isNoteVisible(e)&&(L.noteInfo&&(Y=!0,e.s(HR+".transparent")?R=!0:n=!0),L.note2Info&&(Y=!0,e.s(sR+".transparent")?R=!0:n=!0)),{opaque:n=!(R=L._38o?n=Y=!0:R)||n,transparent:R,model3d:V,staticModel3d:z});Y&&e instanceof $s&&(V.blockRenderable=!0),L._renderParams=V}var z=Q.data,Y=z._id;if((V=H[Y])!==l3)return V;V=Q._renderParams;if(!V||!1===V.visible||z instanceof $s&&!V.blockRenderable)return H[Y]=!1;if(H[Y]=!0,z.isAnimationPlaying()&&(Q.shapeModel&&b.updateSkeleton(z,Q.shapeModel),z.isAnimationPaused()||b.iv()),Q={ui:Q,model3d:V.model3d,data:z,z:0,id:Y},b._glCapabilities&&b._glCapabilities.instancedArray&&V.staticModel3d&&Q.ui.mat&&b.isVisible(z)&&z.s(UV)){var p,$=b.shadowMap.enable,M=b.getStaticInstancingKey(z,!0),F=s[M],v=0!==(M=(F=F||(s[M]={ms:[],ds:[],cs:[],highlightColors:[],lod:[],lodSum:new Uint32Array(32),length:0,msVersion:0,shadowVersion:0,csVersion:0,highlightVersion:0,lodVersion:0,shadow:[],cache:{version:-1,length:-1,id:-1,buffer:null},cacheShadow:{version:-1,length:-1,id:-1,buffer:null},cachePick:{version:-1,length:-1,buffer:null},cacheHighlight:{version:-1,length:-1,buffer:null}})).length),a=!1,J=Q.ui._finalMat;z3.extractBatchTranslation?((p=F.msTranslation)||(F.msTranslation=p=tg()),v||(p[12]=J[12],p[13]=J[13],p[14]=J[14])):F.msTranslation&&delete F.msTranslation;for(var I=16*M,A=0,P=F.ms;A<16;A++){var i=J[A];p&&12<=A&&A<=14&&(i-=p[A]),P[I+A]!=i&&(a=!0,P[I+A]=i)}a&&(F.msVersion=F.msVersion+1),F.ds[M]=Y,$&&($=z.s("shadow.cast"),!a&&F.shadow[M]===$||(F.shadow[M]=$,F.shadowVersion=F.shadowVersion+1));for(var T=om(null,b.pickColorMap,b.isSelectable(z),Q.ui,wR,!0),a=!1,E=4*M,A=0,_=F.cs;A<4;A++)_[E+A]!==T[A]&&(a=!0,_[E+A]=T[A]);if(a&&(F.csVersion=F.csVersion+1),F.length++,v)return T&&(Sm(T,U[Y],N),Sm(T,w[Y],C),Sm(T,r[Y],j)),!0}return V.opaque&&k.push(Q),V.transparent&&O.push(Q),!0},getModel3dInstancedBatchMap:function(){return s},resetModel3dInstancedDraw:function(){for(var Q in s)s[Q].rendered=null},batchModelMap:N,batchIndexMap:U,polylineModelMap:C,polylineIndexMap:w,wireframeModelMap:j,wireframeIndexMap:r,beginFillHighlightMaskColor:function(Q){var Y,n=b.dm();for(Y in s){var R=s[Y],g=R.ds;if(g&&R.length){for(var B=R.highlightColors,L=!1,Z=!1,e=0,u=R.length;e<u;e++)for(var X,x=Q(X=n.getDataById(g[e]),!0)?[0,0,0,0]:(Z=!0,b.getHighlightPickColor(X)),G=4*e,o=0;o<4;o++)B[G+o]!==x[o]&&(L=!0,B[G+o]=x[o]);L&&(R.highlightVersion=R.highlightVersion+1),R._csBackup=[R.cs,R.csVersion,R.cachePick],R.cs=R.highlightColors,R.csVersion=R.highlightVersion,R.cachePick=R.cacheHighlight,R._highlightInvalid=!Z}}},endFillHighlightMaskColor:function(){for(var Q in s){var Y=(Q=s[Q])._csBackup;Y&&(Q.cachePick=Y[2],Q.csVersion=Y[1],Q.cs=Y[0],Q._csBackup=l3,Q._highlightInvalid=l3)}},ivBatch:function(Q){Q?(qm(N,U,Q,b),qm(C,w,Q,b),qm(j,r,Q,b)):(N=this.batchModelMap={},U=this.batchIndexMap={},C=this.polylineModelMap={},w=this.polylineIndexMap={},j=this.wireframeModelMap={},r=this.wireframeIndexMap={}),this.markBatchInvalid()},ivModelBatch:function(Q){Q?qm(N,U,Q,b):(N=this.batchModelMap={},U=this.batchIndexMap={}),this.markBatchInvalid()},ivPolylineBatch:function(Q){Q?qm(C,w,Q,b):(C=this.polylineModelMap={},w=this.polylineIndexMap={}),this.markBatchInvalid()},ivWireframeBatch:function(Q){Q?qm(j,r,Q,b):(j=this.wireframeModelMap={},r=this.wireframeIndexMap={}),this.markBatchInvalid()},markBatchInvalid:function(){this._batchInvalid=!0},isBatchInvalid:function(){return this._batchInvalid},onUpdated:function(){this._batchInvalid=null},sort:function(Q,Y,n){var R=1<O.length;if(n=n&&1<k.length,R||n){for(var g,B,L,Z,e=Y[2],u=Y[6],X=Y[10],x=Y[14],G=Y[3],o=Y[7],l=Y[11],V=Y[15],z=0;z<2;z++){if(0===z){if(!n)continue;Z=k}else{if(!R)continue;Z=O}for(var p=0,$=Z.length;p<$;p++)(L=(B=Z[p].data)._position)?(g=L.x,B=B._54O,L=L.y,Z[p].z=(e*g+u*B+X*L+x)/(G*g+o*B+l*L+V)):Z[p].z=0}n&&k.sort(function(Q,Y){var n=Q.model3d;return n!==Y.model3d?n?1:-1:Q.z!==Y.z?Q.z-Y.z:Q.id-Y.id}),R&&O.sort(Q||hf)}}}},w1=c._RenderLists=function(R){var g={};function n(Q,Y){var n=g[Q=Q||"main"];return!n&&Y?g[Q]=new C1(R):n}return{init:function(){for(var Q in g)g[Q].init()},onUpdated:function(){for(var Q in g)g[Q].onUpdated()},get:n,push:function(Q,Y){return n(Q.data.getRenderLayer(),!0).push(Q,Y)},each:function(Q){for(var Y in g)Q(g[Y])},lists:g}},j1=c.RenderTarget=function(Q,Y,n,R){var g,B=this,L=(null!=Y&&Y.canvas?(g=Y,Y=n,n=R,R=arguments[4]):g=Q.getGL(),(R=R||{}).cube,R.multiple);if(L&&1<L&&Q.isWebGL2()&&!R.cube?(B.textures=[],B.multiple=L):L=0,R.cube||L?R.samples=0:R.samples=Math.min(Q._glCapabilities.maxSamples,R.samples&&1<R.samples&&Q.isWebGL2()?R.samples:0),B.options=R,B.uuid=K.Math.generateUUID(),B.gv=Q,B.init(Q,g,R),L){var Z,e,u=R.format,X=R.textureType;M3(u)||(Z=u,u=[]),M3(X)||(e=X,X=[]);for(var x=0;x<L;x++)u[x]=u[x]||Z||6408,X[x]=b1(Q,X[x]||e);B.format=u,B.textureType=X}else B.format=[R.format||6408],B.textureType=[b1(Q,R.textureType)];B.generateMipmaps=!!R.generateMipmaps,B.depthInternalFormat=R.depthFormat||33189,R.samples&&!Q._glCapabilities._maxSamplesChecked?B.setSize(g,Y||1,n||1):B.setSize(g,Y,n)},y3=(m.assign(c.RenderTarget.prototype,{isRenderTarget:!0,bind:function(Q,Y){var n,R,g,B=this.options;if(B.autoSize&&(n=(g=this.gv).getDevicePixelRatio(),R=g.getWidth()*n,g=g.getHeight()*n,this.setSize(Q,R,g)),B.cube?nC(Q,this.frame[Y]):nC(Q,this.options.samples?this._MSAAFbo:this.frame),this.multiple){for(var L=[],Z=0;Z<this.multiple;Z++)L.push(36064+Z);Q.drawBuffers(L)}Q._renderTargetStack.push(this)},unbind:function(Q){Q._renderTargetStack.pop(),RC(Q),this.options.samples&&(Q.bindFramebuffer(36008,this._MSAAFbo),Q.bindFramebuffer(36009,this.frame),Q.blitFramebuffer(0,0,this.width,this.height,0,0,this.width,this.height,16384,9728),Q.bindFramebuffer(36008,null),Q.bindFramebuffer(36009,null))},isBinding:function(Q){if(!(Q=Q.frameStack)||!Q.length)return!1;var Y=Q[Q.length-1];if(this.options.cube){for(var n=0;n<6;n++)if(this.frame[n]===Y)return!0;return!1}return Y===(this.options.samples?this._MSAAFbo:this.frame)},grabDepth:function(Q){var Y=this,n=this.gv.getGL();if(!n)return null;var R,g,B,L=Y.options,Z=L.samples;if(Q&&!Z)return Y.depth;var e=Y.depthInternalFormat,u=Y.width,X=Y.height;return Q?(g=(R=(R=n._grabDepthRboFrame)?R:n._grabDepthRboFrame={frame:n.createFramebuffer()}).depthRbo)||(g=R.depthRbo=n.createRenderbuffer()):(B=(R=(R=n._grabDepthTextureFrame)?R:n._grabDepthTextureFrame={frame:n.createFramebuffer()}).depthTexture)||(B=R.depthTexture=Y.gv.createTexture({empty:!0,wrapS:L.wrapS||33071,wrapT:L.wrapT||33071,filter:9728})),R.width===u&&R.height===X&&R.format===e||(nC(n,R.frame),Q?(n.bindRenderbuffer(36161,g),n.renderbufferStorage(36161,e,u,X),n.framebufferRenderbuffer(36160,36096,36161,g),n.bindRenderbuffer(36161,null)):(n.activeTexture(33984),CC(n,B),n.texImage2D(3553,0,e,u,X,0,6402,36012===e?5126:33190===e?5125:5123,null),n.framebufferTexture2D(36160,36096,3553,B,0),CC(n,null),B._internalFormat=e),RC(n),R.width=u,R.height=X,R.format=e),nC(n,null),n.bindFramebuffer(36008,Z?this._MSAAFbo:this.frame),n.bindFramebuffer(36009,R.frame),n.blitFramebuffer(0,0,Y.width,Y.height,0,0,Y.width,Y.height,256,9728),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),RC(n),Q?g:B},isCube:function(){return this.options.cube},init:function(Q,Y,n){for(var R=this,g=n.samples,B=n.cube,L=R.multiple,Z=L||1,e=0;e<Z;e++){var u=Y.createTexture(),X=B?34067:3553,x=(Y.activeTexture(33984),Y.bindTexture(X,u),Y.texParameteri(X,10242,n.wrapS||33071),Y.texParameteri(X,10243,n.wrapT||33071),g?9728:9729);Y.texParameteri(X,10241,n.minFilter||x),Y.texParameteri(X,10240,n.magFilter||x),Y.bindTexture(X,null),0==e&&(R.texture=u),L&&(R.textures[e]=u)}if(B)for(R.depth=[],R.frame=[],e=0;e<6;e++)R.depth[e]=Y.createRenderbuffer(),R.frame[e]=Y.createFramebuffer();else R.depth=Y.createRenderbuffer(),R.frame=Y.createFramebuffer();R.assureTexture()},assureTexture:function(){var Q=this.uuid,Y=(this.gv.setTexture(Q,this.texture,"default"),K.Default.setImage(Q,null),this.multiple);if(Y)for(var n=0;n<Y;n++){var R=Q+n;this.gv.setTexture(R,this.textures[n],"default"),K.Default.setImage(R,null)}},releaseTexture:function(){return this.release()},release:function(){var Q=this,Y=Q.gv.getGL(),n=Q.uuid,R=(Q.gv.deleteTexture(n),Q.multiple);if(R)for(var g=0;g<R;g++)Q.gv.deleteTexture(n+g);if(Q.options.cube)for(g=0;g<6;g++)Y.deleteRenderbuffer(Q.depth[g]),Y.deleteFramebuffer(Q.frame[g]);else Y.deleteRenderbuffer(Q.depth),Y.deleteFramebuffer(Q.frame),Q._MSAAFbo&&(Y.deleteRenderbuffer(Q._MSAARbO),Y.deleteFramebuffer(Q._MSAAFbo))},getUUID:function(){return this.uuid},getTexture:function(Q){return this.multiple?this.textures[Q]:this.texture},getSize:function(){return[this.width,this.height]},setSize:function(Q,Y,n){var R=this;if(Y=Math.round(Y),n=Math.round(n),Y&&n&&(R.width!==Y||R.height!==n)){R.width=Y,R.height=n;var g=36161,B=R.options.samples,L=R.options.cube,Z=L?34067:3553;if(B){var e=R.gv._glCapabilities;if(!e._maxSamplesChecked){for(Q.bindRenderbuffer(g,R.depth),Q.getError();1<B&&(Q.renderbufferStorageMultisample(g,B,R.depthInternalFormat,Y,n),Q.getError());)B=Math.floor(B>>1);B<=1&&(B=0,Q.texParameteri(Z,10241,R.options.minFilter||9729),Q.texParameteri(Z,10240,R.options.magFilter||9729),Q.renderbufferStorage(g,R.depthInternalFormat,Y,n)),e._maxSamplesChecked=!0,e.maxSamples=R.options.samples=B,Q.bindRenderbuffer(g,V3)}}B&&(R._MSAAFbo||(R._MSAAFbo=Q.createFramebuffer(),R._MSAARbO=Q.createRenderbuffer()),Q.bindRenderbuffer(g,R._MSAARbO),Q.renderbufferStorageMultisample(36161,B,32856,Y,n),nC(Q,R._MSAAFbo),Q.framebufferRenderbuffer(36160,36064,g,R._MSAARbO),Q.framebufferRenderbuffer(36160,36096,g,R.depth),RC(Q),Q.bindRenderbuffer(g,null));for(var u=R.multiple||1,X=0;X<u;X++){var x,G=R.getTexture(X);if(Q.activeTexture(33984+X),Q.bindTexture(Z,G),L)for(var o=0;o<6;o++)R.setupFrameBufferTextureAndDepth(Q,R.frame[o],G,R.depth[o],34069+o,X);else R.setupFrameBufferTextureAndDepth(Q,R.frame,G,R.depth,3553,X);R.generateMipmaps&&(R.gv.isWebGL2()||y.isPOT(Y)&&y.isPOT(n))&&(Q.generateMipmap(Z),x=R.options.minFilter||(B?9728:9729),Q.texParameteri(Z,10241,9728===x?9984:9987)),Q.bindTexture(Z,null)}}},updateTextureData:function(Q,Y){Y=Y||0;var n,R=this.gv.getGL();R&&(n=this.options.cube?34067:3553,this._updateTextureDataImpl(R,n,!0,Q,Y))},_updateTextureDataImpl:function(Q,Y,n,R,g){var B,L=this.format[g],Z=this.textureType[g];n&&(B=this.getTexture(g),Q.activeTexture(33984+g),Q.bindTexture(Y,B)),Q.texImage2D(Y,0,O1(this.gv,L,Z),this.width,this.height,0,L,Z,R||null),n&&Q.bindTexture(Y,null)},setupFrameBufferTextureAndDepth:function(Q,Y,n,R,g,B){var L;(L=this.options.data)&&(this.options.data=null),this._updateTextureDataImpl(Q,g,!1,L,B),nC(Q,Y),Q.framebufferTexture2D(36160,36064+B,g,n,0),0===B&&this.setupRenderBufferStorage(Q,R),RC(Q)},setupRenderBufferStorage:function(Q,Y){Q.bindRenderbuffer(36161,Y);var n=this.options.samples;n?Q.renderbufferStorageMultisample(36161,n,this.depthInternalFormat,this.width,this.height):(Q.renderbufferStorage(36161,this.depthInternalFormat,this.width,this.height),Q.framebufferRenderbuffer(36160,36096,36161,Y)),Q.bindRenderbuffer(36161,null)},readPixels:function(Q,Y,n,R,g,B){var L=this.gv.getGL();nC(L,this.frame),B=5121===this.textureType[B||0]?(g=g||new Uint8Array(4*n*R),5121):(g=g||new Float32Array(4*n*R),5126);try{L.readPixels(Q,Y,n,R,6408,B,g)}finally{RC(L)}return g},readPixelsAsync:function(Q,Y,n,R,g,B,L){if(!this.gv.isWebGL2())throw new Error("readPixelsAsync only work on WebGL2");var Z,e,u,X,x,G=this.gv.getGL();nC(G,this.frame),L=5121===this.textureType[L||0]?(g=g||new Uint8Array(4*n*R),5121):(g=g||new Float32Array(4*n*R),5126);try{var o=UC(G),l=(G.bindBuffer(35051,o),G.bufferData(35051,g.byteLength,35041),G.readPixels(Q,Y,n,R,6408,L,0),G.bindBuffer(35051,null),G.fenceSync(37143,0));G.flush()}finally{RC(G)}Z=G,e=l,u=0,X=10,x=function(Q){G.deleteSync(l),Q&&(G.bindBuffer(35051,o),G.getBufferSubData(35051,0,g),G.bindBuffer(35051,null)),G.deleteBuffer(o),B(Q?g:null)},function Q(){var Y=Z.clientWaitSync(e,u,0);37149==Y?x(!1):37147==Y?m3(Q,X):x(!0)}()},toCanvas:function(Q,Y){var n,R=this.width,g=this.height,B=this.readPixels(0,0,R,g),L=((Y=Y||o.createElement("canvas")).width!==R&&(Y.width=R),Y.height!==g&&(Y.height=g),(n=Q?((hH=hH||o.createElement("canvas")).width!==R&&(hH.width=R),hH.height!==g&&(hH.height=g),hH.getContext("2d")):Y.getContext("2d")).createImageData(R,g));if(B instanceof Float32Array){for(var Z=B.byteLength/B.BYTES_PER_ELEMENT,e=new Uint8Array(Z);0<=--Z;){var u=B[Z];u<0?u=0:1<u&&(u=1),e[Z]=255*u}B=e}return L.data.set(B),n.putImageData(L,0,0),Q&&(n=Y.getContext("2d"),c2(n,{width:R,height:g,comps:[{scaleY:-1,type:"image",name:hH,rect:[0,0,R,g]}]},l3,0,0,R,g)),Y}}),c.Interactor=function(Q){this.gv=this.g3d=Q}),r1=(Q("Interactor",m,{ms_listener:1,getView:function(){return this.gv.getView()},setUp:function(){this.addListeners()},tearDown:function(){this.removeListeners()},fi:function(Q){this.gv.fi(Q)},startDragging:function(Q){ig(this,Q)}}),c.DefaultInteractor=function(Q){En(r1,this,[Q])}),H1=(Q("DefaultInteractor",y3,{getState:function(){return this._62O},setState:function(Q){this._62O=Q},handle_contextmenu:function(Q){d2(Q)},handle_mousewheel:function(Q){this.gv.handleScroll(Q,Q.wheelDelta/40)},handle_DOMMouseScroll:function(Q){2===Q.axis&&this.gv.handleScroll(Q,-Q.detail)},handle_keydown:function(Q){this.gv.handleKeyDown(Q)},handle_mousedown:function(Q){this.handle_touchstart(Q)},handle_touchstart:function(Q){d2(Q);var Y=this,n=Y.gv,R=Zg(Q),g=(B=n.getDataInfoDuringInteract(Q))?B.data:V3,B=B?B.part:V3,L=n.sm(),Z=PT(Q),e=Xg(Q);n.setFocus(Q)&&(Y._62O=V3,Y._57I=V3,Y.pendingClickThrough=V3,Y.__lastClientPoint__=lg(Q),g?og(Q)?L.co(g)?L.rs(g):L.as(g):L.co(g)?g instanceof $s&&g.isClickThroughEnabled()&&Zg(Q)&&(Y.pendingClickThrough=lg(Q)):L.ss(g):R&&(og(Q)?n.isRectSelectable()&&(Y._62O=RV):Y._57I=lg(Q)),Y._31Q&&(D2(Y._31Q),delete Y._31Q,delete Y._32Q),Y._62O||(n.isFirstPersonMode()&&(Gg(Q)||eg(Q)||2<e?Y._62O="pan":n.isMouseRoamable()||MT(Q)?(Y._62O="roaming",Y.foward=Z&&Zg(Q),Y._32Q=Rn(),Y._31Q=y2(Y.tick,Y)):R||(Y._62O="roaming")),Y._62O||(R&&Z&&n$[B]?(Y._62O=B,Y.p3=g.p3()):R&&Z&&C(g)&&n.isSelected(g)?n.isMovable(g)?(Y._62O="move",Y.p3=g.p3(),Y.movedata=g):n._39Q(g)&&(Y._62O="none"):MT(Q)&&(2<e?Y._62O="pan":2===e&&(Y.dist=vB(Q),Y._62O="pinch")))),Y.point=n.lp(Q),ig(Y,Q),xg(Q)?n.handleDoubleClick(Q,g,B):n.handleClick(Q,g,B))},tick:function(){var Q=this.gv,Y=Q._moveStep;this.point&&Q.isWalkable()&&(this._32Q&&(Y*=(Rn()-this._32Q)/50),Q.walk(this.foward?Y:-Y),this._32Q=Rn(),this._31Q=y2(this.tick,this))},handle_mouseup:function(Q){this.handle_touchend(Q)},handle_touchend:function(Q){var Y=this._57I;Y&&(zg(Y,lg(Q))<=1&&this.gv.sm().cs(),this._57I=V3),(Y=this.pendingClickThrough)&&(zg(Y,lg(Q))<=1&&(Y=this.gv.getDataInfoDuringInteract(Q))&&Y.data instanceof $s&&Y.data.isClickThroughEnabled()&&(Y=this.gv.getDataInfoDuringInteract(Q,!0))&&(Q.clickThrough=!0,this.gv.sm().ss(Y.data)),this.pendingClickThrough=null)},handleWindowMouseMove:function(Q){this.handleWindowTouchMove(Q)},handleWindowTouchMove:function(Y){var n,R,Q=this,g=Q.gv,B=Q._62O,L=Q.point,Z=g.dm(),e=g.lp(Y),u=e.x-L.x,X=e.y-L.y,x=g.getWidth(),G=g.getHeight();if(x&&G){var o=lg(Y),o=XL(g,o,Q.__lastClientPoint__),o=zg({x:0,y:0},o),l=-o3*u/x,V=-o3*X/G;if("roaming"===B)Q.rotate(Y,l/2,V/2);else if(B===S1||B===y1||B===D1)g._86O||Z.beginTransaction(),g.fi({kind:g._86O?"betweenEditRotation":"beginEditRotation",event:Y}),g._86O=1,g.sm().each(function(Q){var Y;C(Q)&&g.isRotationEditable(Q)&&(Y=b3(l)>b3(V)?l:V,B===S1?Q.setRotationX(Q.getRotationX()+Y):B===y1?Q.setRotationY(Q.getRotationY()+Y):B===D1&&Q.setRotationZ(Q.getRotationZ()+Y))});else if("move"===B||n$[B]){if(B===f1||B===Q$||B===Y$)g._87O||Z.beginTransaction(),g.fi({kind:g._87O?"betweenEditScale":"beginEditScale",event:Y}),g._87O=1;else{if(!g._moving){if(o<z3.touchMoveThreshold)return;Z.beginTransaction()}g.fi({kind:g._moving?"betweenMove":"beginMove",event:Y}),g._moving=1}var z,p,o=Q.p3,Z=g.getPositionInfo(o),$=_C(g),M=B===K1?"x":B===W1?"y":B===c1?"z":B===f1?"sx":B===Q$?"sy":B===Y$?"sz":g.getMoveMode(Y,Q.movedata),u=u/x*Z.width,X=-1*X/G*Z.height,x=[$[0]*u,$[4]*u,$[8]*u],G=[$[1]*X,$[5]*X,$[9]*X],Z=x[0]+G[0],$=x[1]+G[1],x=x[2]+G[2],G=[o[0]+Z,o[1]+$,o[2]+x],F=Hg(g.getEye(),G,!0);if("xyz"===M?(z=G,g.moveSelection(Z,$,x)):"xz"===M?(z=pC(g,o,[0,1,0],G))&&g.moveSelection(z[0]-o[0],0,z[2]-o[2]):"xy"===M?(z=pC(g,o,[0,0,1],G))&&g.moveSelection(z[0]-o[0],z[1]-o[1],0):"yz"===M?(z=pC(g,o,[1,0,0],G))&&g.moveSelection(0,z[1]-o[1],z[2]-o[2]):"x"===M||"sx"===M?(F[0]=0,(z=pC(g,o,F,G))&&(p=z[0]-o[0],"x"===M?g.moveSelection(p,0,0):g.sm().each(function(Q){C(Q)&&g.isSizeEditable(Q)&&(n=Q.getScaleX()+p/100,R=n/Q.getScaleX(),Q.setScaleX(n),Gg(Y)&&(Q.setScaleY(Q.getScaleY()*R),Q.setScaleTall(Q.getScaleTall()*R)))}))):"y"===M||"sy"===M?(F[1]=0,(z=pC(g,o,F,G))&&(p=z[1]-o[1],"y"===M?g.moveSelection(0,p,0):g.sm().each(function(Q){C(Q)&&g.isSizeEditable(Q)&&(n=Q.getScaleTall()+p/100,R=n/Q.getScaleTall(),Q.setScaleTall(n),Gg(Y)&&(Q.setScaleY(Q.getScaleY()*R),Q.setScaleX(Q.getScaleX()*R)))}))):"z"!==M&&"sz"!==M||(F[2]=0,(z=pC(g,o,F,G))&&(p=z[2]-o[2],"z"===M?g.moveSelection(0,0,p):g.sm().each(function(Q){C(Q)&&g.isSizeEditable(Q)&&(n=Q.getScaleY()+p/100,R=n/Q.getScaleY(),Q.setScaleY(n),Gg(Y)&&(Q.setScaleX(Q.getScaleX()*R),Q.setScaleTall(Q.getScaleTall()*R)))}))),!z)return;Q.p3=z}else B===RV?((Z=Q.div)||(Z=Q.div=Kn(),Dn(Q.getView(),Z),Z.op=L,Z.style.background=g.getRectSelectBackground()),g.fi({kind:g._rectSelecting?"betweenRectSelect":"beginRectSelect",event:Y}),g._rectSelecting=1,Z.rect=pg(Z.op,e),E(Z,Z.rect)):"pinch"===B&&2===Xg(Y)?(g.fi({kind:g._pinching?"betweenPinch":"beginPinch",event:Y}),g._pinching=1,p=vB(Y),g._lastZoomLP||(g._lastZoomLP=(x=($=Y).touches[0],$=$.touches[1],F=x.clientX,x=x.clientY,{x:(F+$.clientX)/2,y:(x+$.clientY)/2})),g.handlePinch(p,Q.dist),Q.dist=p):"pan"===B||Gg(Y)||eg(Y)?Q.pan(Y,u,X):"none"===B||g.isFirstPersonMode()||Q.rotate(Y,l,V);Q.point=e}},pan:function(Q,Y,n){var R,g,B=this.gv;B.isPannable()&&(g=B.getWidth(),R=B.getHeight(),g&&R&&(g=Y/g*(Y=B.getCenterInfo()).width,n=-1*n/R*Y.height,B.fi({kind:B._panning?"betweenPan":"beginPan",event:Q}),B._panning=1,B.pan(-g,-n)))},rotate:function(Q,Y,n){var R=this.gv;R.isRotatable()&&(R.fi({kind:R._rotating?"betweenRotate":"beginRotate",event:Q}),R._rotating=1,R.rotate(Y,n))},handleWindowMouseUp:function(Q){this.handleWindowTouchEnd(Q)},handleWindowTouchEnd:function(Q){var Y,n,R,g,B,L=this,Z=L.gv,e=Z.dm(),u=L.div;u&&((Y=Z.getDatasInRect(u.rect)).isEmpty()||(n=Z.sm(),R=n.toSelection(),g=Gg(Q),B=Q.altKey,Y.each(function(Q){n.co(Q)?g&&!B||R.remove(Q):(!B||g&&B)&&R.add(Q)}),n.ss(R)),Tg(u)),Z._moving&&(delete Z._moving,Z.fi({kind:"endMove",event:Q}),Z.onMoveEnded(),e.endTransaction()),Z._panning&&(delete Z._panning,Z.fi({kind:"endPan",event:Q}),Z.onPanEnded()),Z._rotating&&(delete Z._rotating,Z.fi({kind:"endRotate",event:Q}),Z.onRotateEnded()),Z._86O&&(delete Z._86O,Z.fi({kind:"endEditRotation",event:Q}),e.endTransaction()),Z._87O&&(delete Z._87O,Z.fi({kind:"endEditScale",event:Q}),e.endTransaction()),Z._pinching&&(delete Z._pinching,Z.fi({kind:"endPinch",event:Q}),Z.onPinchEnded()),Z._rectSelecting&&(delete Z._rectSelecting,Z.fi({kind:"endRectSelect",event:Q}),Z.onRectSelectEnded()),Z._walking&&(delete Z._walking,Z.fi({kind:"endWalk",event:Q}),Z.onWalkEnded()),Z._lastZoomLP=Z._lastZoomHit=null,L.dist=L.point=L._62O=L.p3=L.movedata=L.div=L._57I=L.pendingClickThrough=L._32Q=L._31Q=L.foward=V3,L.__lastClientPoint__=V3}}),c.MapInteractor=function(Q){En(H1,this,[Q]),this._keepHorizon=!0,this._threshold=2,this._touchScaleThreshold=.05,this._touchRotateThreshold=.03,this._touchScaleCheckAccuracy=.01,this._panButton="right",this._minPhi=0,this._maxPhi=5*Math.PI/12}),s1=(Q("MapInteractor",y3,{setUp:function(){H1.superClass.setUp.call(this);var Q=this.gv;this.__oldMinPhi__=Q.getRotateMinPhi(),this.__oldMaxPhi__=Q.getRotateMaxPhi(),Q.setRotateMinPhi(this._minPhi),Q.setRotateMaxPhi(this._maxPhi)},tearDown:function(){H1.superClass.tearDown.call(this);var Q=this.gv;Q.setRotateMinPhi(this.__oldMinPhi__),Q.setRotateMaxPhi(this.__oldMaxPhi__),delete this.__oldMinPhi__,delete this.__oldMaxPhi__},handle_contextmenu:function(Q){d2(Q)},handle_mousewheel:function(Q){this.gv.handleScroll(Q,Q.wheelDelta/40)},handle_DOMMouseScroll:function(Q){2===Q.axis&&this.gv.handleScroll(Q,-Q.detail)},handle_keydown:function(Q){this.gv.handleKeyDown(Q)},handle_mousedown:function(Q){this.handle_touchstart(Q)},handle_touchstart:function(Q){d2(Q);var Y,n,R,g=this.gv;g.setFocus(Q)&&(Y=(n=g.getDataInfoAt(Q))?n.data:V3,n=n?n.part:V3,this.__lastClientPoint__=lg(Q),R=this.editing={point:g.lp(Q),data:Y,part:n},MT(Q)?R.touch=!0:(R.touch=!1,R.clickLeft=Zg(Q),eg(Q)?R.pan=!0:R.pan="left"===this.panButton===R.clickLeft),Y&&g._39Q(Y)&&(R.preventDefault=!0),ig(this,Q),xg(Q)?g.handleDoubleClick(Q,Y,n):g.handleClick(Q,Y,n))},handle_mouseup:function(Q){this.handle_touchend(Q)},handle_touchend:function(Q){},handleWindowMouseMove:function(Q){this.handleWindowTouchMove(Q)},handleWindowTouchMove:function(Q){var Y=this,g=Y.gv,n=Y.editing;if(n){var R=g.lp(Q),B=n.point,L=R.x-B.x,B=R.y-B.y;if(!n.moved){if(Math.abs(L)<Y.threshold&&Math.abs(B)<Y.threshold&&!(Q.touches&&1<Q.touches.length))return;n.moved=!0}if(!n.preventDefault){n.point=R;var Z,e,u,X,x,G,o=n.part;if(n$[o]){var R=n.data,l=g.dm(),V=g.getWidth(),z=g.getHeight(),p=-o3*L/V,$=-o3*B/z;if(o===S1||o===y1||o===D1){g._86O||l.beginTransaction(),g.fi({kind:g._86O?"betweenEditRotation":"beginEditRotation",event:Q}),g._86O=1;var M=b3(p)>b3($)?p:$;g.sm().each(function(Q){C(Q)&&g.isRotationEditable(Q)&&(o===S1?Q.setRotationX(Q.getRotationX()+M):o===y1?Q.setRotationY(Q.getRotationY()+M):o===D1&&Q.setRotationZ(Q.getRotationZ()+M))})}else{var F,v,a,J,R=R.p3(),L=L/V*(A=g.getPositionInfo(R)).width,B=-1*B/z*A.height,I=[(A=_C(g))[0]*L,A[4]*L,A[8]*L],A=[A[1]*B,A[5]*B,A[9]*B],I=[R[0]+(I[0]+A[0]),R[1]+(I[1]+A[1]),R[2]+(I[2]+A[2])],A=Hg(g.getEye(),I,!0);if(o===f1||o===Q$||o===Y$)g._87O||l.beginTransaction(),g.fi({kind:g._87O?"betweenEditScale":"beginEditScale",event:Q}),g._87O=1,(F=pC(g,R,A,I))&&(T=0,o===f1?v="X":o===Q$?(v="Tall",T=1):o===Y$&&(v="Y",T=2),(a=["X","Y","Tall"]).splice(a.indexOf(v),1),J=Gg(Q),i=(F[T]-R[T])/100,g.sm().each(function(Y){var Q,n,R;C(Y)&&g.isSizeEditable(Y)&&(Q=Y["getScale"+v](),Y["setScale"+v](n=Q+i),J&&(R=n/Q,a.forEach(function(Q){Y["setScale"+Q](Y["getScale"+Q]()*R)})))}));else if(o===K1||o===W1||o===c1){if(!g._moving){var P=lg(Q),P=XL(g,P,Y.__lastClientPoint__);if(zg({x:0,y:0},P)<z3.touchMoveThreshold)return;l.beginTransaction()}g.fi({kind:g._moving?"betweenMove":"beginMove",event:Q}),g._moving=1;var i,T=0;o===K1?T=0:o===W1?T=1:o===c1&&(T=2),A[T]=0,(F=pC(g,R,A,I))&&(i=F[T]-R[T],(P=[0,0,0])[T]=i,g.moveSelection.apply(g,P))}}}else n.touch?2!==(l=Q.touches.length)?Y.pan(Q,L,B):l<=1||(I=(A=Q.touches)[0].clientX,F=A[0].clientY,P={x:(R=A[1].clientX)-I,y:(T=A[1].clientY)-F},l=n.lastCenter,A=Math.atan2(P.y,P.x),Z=0,(u=n.theta)==V3?u=n.theta=A:(Z=A-u,n.thetaStarted||Math.abs(Z)>Y.touchRotateThreshold?(n.thetaStarted=!0,n.theta=A):Z=0),u=b*(F+T)/2/g.getHeight(),A=0,(e=n.phi)==V3?e=n.phi=u:(A=u-e,n.phiStarted||Math.abs(A)>Y.touchRotateThreshold?(n.phiStarted=!0,n.phi=u):A=0),e=Math.sqrt(P.x*P.x+P.y*P.y),(u=n.vlen)?(P=I-l.x,x=F-l.y,G=R-l.x,l=T-l.y,P=Math.sqrt(P*P+x*x),x=Math.sqrt(G*G+l*l),(l=Y._sign2(P-(G=u/2)))*(P=Y._sign2(x-G))<0||0===l&&0===P?(X=1,n.vlen=e):(X=X||e/u,n.scaleStarted||Math.abs(X-1)>Y.touchScaleThreshold?(n.vlen=e,n.scaleStarted=!0):X=1)):(u=n.vlen=e,X=1),1!==X&&g.setZoom(X),(A||Z)&&Y.rotate(Q,Z,-A),n.lastCenter={x:(R+I)/2,y:(T+F)/2}):n.pan?Y.pan(Q,L,B):(V=g.getWidth(),z=g.getHeight(),V&&z&&Y.rotate(Q,p=-o3*L/V,$=-o3*B/z))}}},_sign2:function(Q){return Math.abs(Q)<this._touchScaleCheckAccuracy?0:0<Q?1:-1},handleWindowMouseUp:function(Q){this.handleWindowTouchEnd(Q)},handleWindowTouchEnd:function(Q){var Y,n,R=this.editing;this.editing=null,R&&(Y=this.gv,R.moved||!R.clickLeft&&!R.touch?(Y._panning=null,Y._rotating=null,Y.fi({kind:R.pan?"endPan":"endRotate",event:Q})):(n=(n=(R=Y.getDataInfoDuringInteract(Q))&&R.data)instanceof $s&&n.isClickThroughEnabled()&&(R=Y.getDataInfoDuringInteract(Q,!0))?R.data:n)?Y.sm().setSelection([n]):Y.sm().clearSelection(),R=Y.dm(),Y._moving&&(delete Y._moving,Y.fi({kind:"endMove",event:Q}),Y.onMoveEnded(),R.endTransaction()),Y._86O&&(delete Y._86O,Y.fi({kind:"endEditRotation",event:Q}),R.endTransaction()),Y._87O&&(delete Y._87O,Y.fi({kind:"endEditScale",event:Q}),R.endTransaction()))},pan:function(Q,Y,n){var R=this.gv;if(R.isPannable()){var g=R.getWidth(),B=R.getHeight();if(g&&B){var L=R.getCenterInfo(),Y=-Y/g*L.width,g=+n/B*L.height,n=(R.fi({kind:R._panning?"betweenPan":"beginPan",event:Q}),R._panning=1,this.keepHorizon);if(!(n=(B=this.editing.touch)&&Q.touches&&1<Q.touches.length||!B&&Gg(Q)?!n:n))return R.pan(Y,g);(Y||g)&&(B=[(L=_C(R))[0]*Y,L[4]*Y,L[8]*Y],Q=[L[1],0,L[9]],(n=Math.sqrt(Q[0]*Q[0]+Q[2]*Q[2]))&&(Q=[Q[0]/n*g,0,Q[2]/n*g]),Y=B[0]+Q[0],L=B[1]+Q[1],n=B[2]+Q[2],g=R._center,B=R._eye,g[0]+=Y,g[1]+=L,g[2]+=n,B[0]+=Y,B[1]+=L,B[2]+=n,R.fp(XR,V3,B),R.fp(uR,V3,g))}}},rotate:function(Q,Y,n){var R,g,B=this.gv;B.isRotatable()&&(g=B._center,R=B._eye,R=Hg(R,g),g=w3(_3(R[0]*R[0]+R[2]*R[2]),R[1]),n=VC(B,g+n)-g,B.fi({kind:B._rotating?"betweenRotate":"beginRotate",event:Q}),B._rotating=1,B.rotate(Y,n))}}),m.defineProperties(H1.prototype,{panButton:{get:function(){return this._panButton},set:function(Q){this._panButton=Q}},minPhi:{get:function(){return this._minPhi},set:function(Q){this.gv.setRotateMinPhi(this._minPhi=Q)}},maxPhi:{get:function(){return this._maxPhi},set:function(Q){this.gv.setRotateMaxPhi(this._maxPhi=Q)}},keepHorizon:{get:function(){return this._keepHorizon},set:function(Q){this._keepHorizon=Q}},threshold:{get:function(){return this._threshold},set:function(Q){this._threshold=Q}},touchScaleThreshold:{get:function(){return this._touchScaleThreshold},set:function(Q){this._touchScaleThreshold=Q}},touchRotateThreshold:{get:function(){return this._touchRotateThreshold},set:function(Q){this._touchRotateThreshold=Q}}}),c.GlobeInteractor=function(o,Q){function R(Q){return o._81O=null,Q=o.getHitPosition(Q,o.getCenter(),x.copy(o.getEye()).sub($.copy(o.getCenter())).toArray()),G.origin.copy(o.getEye()),G.direction.copy(Q).sub(G.origin).normalize(),G.intersectEllipsoid(M)}function l(Q,Y){var n;p&&(n=Date.now(),p.deltaTime=p.lastTime?n-p.lastTime:1e3,p.lastTime=n,p.lastAxis=Q,p.lastAngle=Y),Y&&(g.setFromAxisAngle(Q,Y),o.setEye(x.copy(o.getEye()).applyQuaternion(g).toArray()),o.setCenter(x.copy(o.getCenter()).applyQuaternion(g).toArray()),o.setUp(x.copy(o.getUp()).applyQuaternion(g).toArray()))}function V(Q){return Math.abs(Q)<.01?0:0<Q?1:-1}En(s1,this,[o]);var B,z=Q.radius||6378137,Z=this,p=null,g=(tH||((tH=Kn()).style.border="",tH.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEyUlEQVRYR62XW0xcVRSG/58cmIG2HmstE9N4SX2xtVqBCISoFS/RmDSpKQSvTWNixUStQSqVyBQYJUGttrQVtYkPatuQPmhivMUHqbUBZ2itl1qjTzZpImNUZhDLsUeWWXgOOd2cgcGyk3mYs/de69trr70uxP8YIlJKMi0i9wIgyf0iEiM5PFdxzGeDiBQAuB7AjQBuALCN5NcGQDmANgBfeL8UyYnZ5M8KICJ3AXgAwAlfOMl/VHAQwPtveYAKuQLA2yQ/ngliRgAR2QogA2AvSdcUZAIE50VEYR4BsIDkC7kgQgFE5GIAuwDsJnkk1+aZAPw9IqLX1gjgcZK/m7KmAXjK4wBaSf4ZplxEIgCuA3Cz3gSAfgDHSf6dY/0FAJ4D0G5ChAEcAPBwmHIRqXNd90nLsiocx/k+k8n8oK/Atu2rIpHIStd1v7QsawfJd0Ouywawh6T609Q4B8C788NhZnddt29sbGxBd3f39q6urtNhJ43H48uam5u3lJSUjFiWdV8IxE0Aqki+6M9NAXjefjnJXsOZogBGBgYGttbU1Hw427PS+cHBwbVVVVUJAItJOoa8xwD8RPIT/T4J4L3zfQAeNL1dRMZra2ur+/v7/8pHub+mvr7+wr6+vs8KCgoWGABFAN4EsEHjhA9QBeA2ks8HF6vZk8nkQL4nNwGTyeTa8vLycsuy7jcg1Mk/IpnyAZoBaOQ6FHg+ddlsdqNt201zObm5NpvN7ly0aNHrJN8LyL4FwGqSr/gAOrnej3C60HXdw/F4PJ7L4fKFSiQSl7W0tLQVFRWtCQDoNRwguZ6aWABcorE9sEDf+QjJ1fkqmmmdiHwHoCToXyKiceR0rkhY5TjOq9FoVLPdeY/x8fG+SCSySe/cFKYWCFOyPJ1Or4zFYh3nrR3A8PBwe2lp6TcAfg4DmBYwAFyRTqdXxWKx9nkE+DYUIEyBiFQ6jvNaNBq9Zz4AZruCGIBlJI8ZXpolee18AORwwgoAp/xnqMmjPuilZ8+ePZRIJNo7OztD436+YB0dHZe2trY+W1hYWGsccD/JOh/gKQBHSWpanRwicnc2m91k2/bmfJWFrRsdHd29cOHCXSTfD8i+FcA1JHcEQ/HtJDVnTw3XdfcPDQ0dra6unto8F5hUKrWurKxslWVZG4L7RGQbgA9IDgWT0VsANprJaGJi4kxDQ8OagwcPjsxFeWNj49Le3l6N91qMTA2vmNnr6fovGXkmvxPAlST3hGz4LZVKbausrMzLEnryioqKNpJLzCpJRJ4AcJLkp6rHLEieBjBA8rB5Wtd1942NjS3p6el5qa2t7VSYNdThmpqaWoqLi38xze4dUku4CpLb/f1hJZnWBY+SzJpKRGSdV5LVOI5zIpPJnNQ1tm2viEQiV7uue8SyrJeDDhew8GIAO0me4w9hABdp8ahNBkktyacNr+Qu84pSndfX81VY6e6dXJV3AoiT/CMoMFcyUogeAG+Q/DyX8+VZlqvZHwKw2VQ+zQdCTL4FwBkPZFrJPUtjoildG5PC4J2bOvJpze7QWhHAj4HWbBImpDXTQsPvH5cDeMf39lxWnBXAU6TNqcZu7fn0lyB53GhOdf6ZQHN6bF6a0xxOuJTkrwbA5LdcJ831/V8SOUYQxYGhRwAAAABJRU5ErkJggg==)"),new Z2),x=new F3,$=new F3,e=new F3,G=new G2,L="number"==typeof z?{x:z,y:z,z:z}:z,M={center:new F3(0,0,0),radius:L};Z._showCrossIcon=function(Q){Dn(Z.getView(),tH),E(tH,{x:Q.clientX-16,y:Q.clientY-16,width:32,height:32})},Z._hideCrossIcon=function(){Tg(tH)},Z._scrollImpl=function(Q,Y){(p={point:o.lp(Q),screen:lg(Q),hit:R(Q),type:"right"}).hitNormalize=p.hit?p.hit.clone().normalize():new F3,Q={clientX:p.screen.x,clientY:p.screen.y+10*Y},Z._handleMoveImpl(Q),Z._endMoveImpl(Q)},Z._startMoveImpl=function(Q){B&&(B.stop(!0),B=null),(p={point:o.lp(Q),screen:lg(Q),hit:R(Q)}).hitNormalize=p.hit?p.hit.clone().normalize():new F3,MT(Q)?1===Q.touches.length?p.hit&&(p.type="left"):2===Q.touches.length&&(p.type="touch2"):(Zg(Q)?p.hit&&(p.type="left"):ug(Q)?p.type="right":eg(Q)&&p.hit&&(p.type="middle"),!p.hit||"right"!==p.type&&"middle"!==p.type||Z._showCrossIcon(Q)),p.type&&ig(Z,Q)},Z._handleMoveImpl=function(Q){if(p)switch(p.type){case"left":return Z._handleLeft(Q);case"right":return Z._handleRight(Q);case"middle":return Z._handleMiddle(Q);case"touch2":return Z._handleTouch2(Q)}},Z._endMoveImpl=function(Q){var n,R,g;p&&(this._hideCrossIcon(),"left"!==p.type&&"middle"!==p.type||(n=p.lastAngle/(p.deltaTime||30)*1e3,R=p.lastAxis,g=p.lastTime,B=ng({action:function(){var Q=Date.now(),Y=(Q-g)/1e3;g=Q,n*=Math.pow(Math.abs(Z.decelerationRate),3*Y),Math.abs(n)<.01?(n=0,B&&B.stop()):l(R,n*Y)},duration:5e3})),p=null)},Z._handleLeft=function(Q){if(!p.finished){var Y=lg(Q),n=function(Q,Y){o._81O=null,G.origin.copy(o.getEye());for(var n,R,g=o.getCenter(),B=x.copy(o.getEye()).sub($.copy(o.getCenter())).toArray(),L=1,Z=16,e=0,u=1,X={x:0,y:0};Z--;){if(X.x=Y.x+(Q.x-Y.x)*L,X.y=Y.y+(Q.y-Y.y)*L,n=o.getHitPosition(X,g,B),G.direction.copy(n).sub(G.origin).normalize(),(R=G.intersectEllipsoid(M))&&1===L)return{hit:R};R?e=L:u=L,L=(e+u)/2}return{hit:R,out:L<1}}(Y,p.lastScreen||p.screen);if(p.lastScreen=Y,!n.hit)return p.finished=!0,void Z._endMoveImpl(Q);(Y=n.hit).normalize();var R=p.hitNormalize,g=Math.acos(Y.dot(R));l(Y=Y.cross(R).normalize(),g),n.out&&(p.finished=!0,Z._endMoveImpl(Q))}},Z._handleRight=function(Q){var Y,n=(p.lastScreen||p.screen).y;(Q=(p.lastScreen=lg(Q)).y-n)&&(n=Math.min(.5,Q*Z.scaleSpeed),x.copy(o.getEye()),Q=(Q=p.hit)||x.clone().divide(L).normalize().multiply(L),$.copy(x).lerp(Q,n),o.setEye($.toArray()),x.copy(o.getUp()),$.normalize(),Q=x.clone().cross($).normalize(),e.copy(o.getCenter()),e.sub(Q.multiplyScalar(e.dot(Q))),o.setCenter(e.toArray()),p.hit&&(n=R(p.screen),Q=p.hitNormalize,n&&(n.normalize(),Y=Math.acos(n.dot(Q)),n=n.cross(Q).normalize(),Y&&l(n,Y))))},Z._handleTouch2=function(Q){var Y,n,R,g,B,L,Z,e,u,X,x,G;2===Q.touches.length&&(Y=(Q=Q.touches)[0].clientX,n=Q[0].clientY,G={x:(R=Q[1].clientX)-Y,y:(Q=Q[1].clientY)-n},X=p.lastCenter,L=Math.atan2(G.y,G.x),g=0,(B=p.theta)==V3?B=p.theta=L:(g=L-B,p.thetaStarted||.03<Math.abs(g)?(p.thetaStarted=!0,p.theta=L):g=0),B=Math.sqrt(G.x*G.x+G.y*G.y),(L=p.vlen)?(x=Y-X.x,e=n-X.y,u=R-X.x,X=Q-X.y,x=Math.sqrt(x*x+e*e),e=Math.sqrt(u*u+X*X),(X=V(x-(u=L/2)))*(x=V(e-u))<0||0===X&&0===x?(Z=1,p.vlen=B):(Z=Z||B/L,p.scaleStarted||.05<Math.abs(Z-1)?(p.vlen=B,p.scaleStarted=!0):Z=1)):(L=p.vlen=B,Z=1),G=$.copy(o.getEye()).clone(),1!==Z&&o.setEye(G.setLength((G.length()-z)/Z+z).toArray()),g&&l(G.normalize(),g),p.lastCenter={x:(R+Y)/2,y:(Q+n)/2})},Z._handleMiddle=function(Q){var Q=lg(Q),Y=p.screen,n=((p.screen=Q).y-Y.y)/180*Math.PI*Z.rollSpeed,R=($.copy(o.getCenter()).sub(x.copy(o.getEye())).normalize(),x.copy(o.getUp()).cross($).normalize(),$.copy(o.getEye()).sub(p.hit).applyAxisAngle(x,n).add(p.hit),$.clone()),g=($.copy(o.getCenter()).sub(p.hit).applyAxisAngle(x,n).add(p.hit),$.clone()),B=$.copy(o.getUp()).applyAxisAngle(x,n).clone(),L=!1,n=(0<n&&(e.copy(B),$.copy(g).sub(R).normalize(),x.copy(R).multiplyScalar(-1).normalize(),0<x.dot(e)-$.dot(e)&&(L=!0)),L||0<=e.copy(p.hit).sub(R).dot(p.hitNormalize)&&(L=!0),L||(o.setEye(R.toArray()),o.setCenter(g.toArray()),o.setUp(B.toArray())),-(Q.x-Y.x)/180*Math.PI*Z.rotateSpeed);l(p.hitNormalize,n)}}),h1=(Q("GlobeInteractor",y3,{handle_contextmenu:function(Q){d2(Q)},handle_mousewheel:function(Q){this._scrollImpl(Q,Q.wheelDelta/40)},handle_DOMMouseScroll:function(Q){2===Q.axis&&this._scrollImpl(Q,-Q.detail)},handle_keydown:function(Q){this.gv.handleKeyDown(Q)},handle_mousedown:function(Q){this.handle_touchstart(Q)},handle_touchstart:function(Q){d2(Q);var Y,n,R=this.gv;R.setFocus(Q)&&((Y=(n=R.getDataInfoAt(Q))?n.data:V3)&&R.isInteractive(Y)||this._startMoveImpl(Q),n=n?n.part:V3,xg(Q)?R.handleDoubleClick(Q,Y,n):R.handleClick(Q,Y,n))},handle_mouseup:function(Q){this.handle_touchend(Q)},handle_touchend:function(Q){},handleWindowMouseMove:function(Q){this.handleWindowTouchMove(Q)},handleWindowTouchMove:function(Q){this._handleMoveImpl(Q)},handleWindowMouseUp:function(Q){this.handleWindowTouchEnd(Q)},handleWindowTouchEnd:function(Q){this._endMoveImpl(Q)}}),m.defineProperties(s1.prototype,{rotateSpeed:{get:function(){return this._rotateSpeed||.3},set:function(Q){this._rotateSpeed=Q}},rollSpeed:{get:function(){return this._rollSpeed||.1},set:function(Q){this._rollSpeed=Q}},scaleSpeed:{get:function(){return this._scaleSpeed||.002},set:function(Q){this._scaleSpeed=Q}},decelerationRate:{get:function(){return this._decelerationRate||.04},set:function(Q){this._decelerationRate=Q}}}),function(Q){return[((Q|=2147483648)>>16&255)/255,(Q>>8&255)/255,(255&Q)/255,(Q>>24&255)/255]}),t1=function(Q){this.gv=Q,this.gv.pickColorMap={_pickIdUsed:2e3,_outside:l3},this._cacheQuery=[],this._cacheLength=0,this._cacheIdx=0},m1=(Og(t1,m,{_iv:!0,iv:function(){this._iv=!0},get:function(Q,Y,n){this.validate();var R=this,g=R.gv;if(!g.getGL())return V3;var B=R._resolution,L=R.renderTarget,Z=L.getSize()[1],e=Math.round(Q.x*B),u=Math.ceil(Q.width*B),X=Math.ceil(Q.height*B),x=Z-Math.round(Q.y*B)-X;if(!n)for(var G=R._cacheQuery,o=R._cacheIdx;o>=R._cacheIdx-R._cacheLength+1;o--){var l=G[3&o];if(l[0]===e&&l[1]===x&&l[2]===u&&l[3]===X&&l[4]===Y)return l[5]}var V,z,p,$=L.readPixels(e,x,u,X),M=g.pickColorMap;if(Y){for(var F=Math.round((u-1)/2),v=Math.round((X-1)/2),a=Math.floor(Math.max(u,X)/2),o=0;o<=a;o++){var J=F-o,I=F+o,A=v-o,P=v+o;if(0<=A)for(p=J;p<=I;p++)if(V=mf(A,p,e,x,u,X,Z,B,$,M,n))return qf(R,e,x,u,X,Y,n,V);if(0<=J)for(z=1+A;z<P;z++)if(V=mf(z,J,e,x,u,X,Z,B,$,M,n))return qf(R,e,x,u,X,Y,n,V);if(P<X)for(p=J;p<=I;p++)if(V=mf(P,p,e,x,u,X,Z,B,$,M,n))return qf(R,e,x,u,X,Y,n,V);if(I<u)for(z=1+A;z<P;z++)if(V=mf(z,I,e,x,u,X,Z,B,$,M,n))return qf(R,e,x,u,X,Y,n,V)}return qf(R,e,x,u,X,Y,n,null)}for(var i,T,E=new W,_={},b={},o=0,k=$.length;o<k;o+=4)!(i=($[o]<<16)+($[o+1]<<8)+$[o+2]+($[o+3]<<24))||_[i]||!(V=tf(M,i))||n&&!1===n(V,p=Math.round((e+(o>>2)%u)/B),z=Math.round((Z-1-(x+Math.floor((o>>2)/u)))/B))||b[(T=V.data)._id]||(E.add(T),b[T._id]=T,_[i]=!0);return qf(R,e,x,u,X,Y,n,E)},getResolution:function(){return this._resolution},dispose:function(){hC(this.gv,this.renderTarget),this.renderTarget=null},validate:function(){var Q,Y,n,R,g,B=this.gv,L=B.getGL();L&&((Q=this.renderTarget)||(this.renderTarget=Q=new j1(B,1,1)),this._iv&&(this._iv=!1,this._cacheLength=0,Y=this._resolution=B._pickerResolution*B.getDevicePixelRatio(),n=Math.round(Y*B.getWidth()),R=Math.round(Y*B.getHeight()),Q.setSize(L,n,R),g=!1,B._40Q.each(function(Q){!g&&Q.isBatchInvalid()&&(g=!0)}),g&&B.updateScene(),Q.bind(L),L.colorMask(!0,!0,!0,!0),L.clear(16384),B.overlappingBox.clear(),B.setViewport(L,0,0,n,R),B.renderPickScene(Y),Q.unbind(L)))}}),function(Q){this.gv=Q}),q1=(Og(m1,m,{gap:0,size:0,_42:function(Q){var Y,n=this,R=n.gv,g=R._gridGap,B=R._gridSize;if(R._gridVisible){if(n.gap!==g||n.size!==B){for(var L=[],Z=R._gridSize/2,e=g*Z,u=0;u<2*Z+1;u++){var X=6*u,x=6*(2*Z+1)+X;L[X]=-e,L[1+X]=0,L[2+X]=u*g-e,L[3+X]=e,L[4+X]=0,L[5+X]=u*g-e,L[x]=u*g-e,L[1+x]=0,L[2+x]=-e,L[3+x]=u*g-e,L[4+x]=0,L[5+x]=e}n.vs=new jg(L),n.gap=g,n.size=B}xm(R),mC(Q),WC(Q),(B=!R._fogDisabled)&&((Y=a3.for(Q).directUniforms()).uFog=!1),DC(Q,1,R._gridColor,R._buffer.vs,n.vs),Qm(Q,0,n.vs.length/3,1),B&&(Y.uFog=!0),cC(Q),qC(Q)}else n.vs=n.gap=n.size=V3}}),function(Q){this.gv=Q}),d1=(Og(q1,m,{_42:function(Q){var Y,n,R,g,B=this.gv,L=B._buffer.vs,Z=B._axisXColor,e=B._axisYColor,u=B._axisZColor,X=B._originAxisVisible,x=B._centerAxisVisible;(X||x)&&(n=W3?4:6,xm(B),mC(Q),WC(Q),X&&(R=B.getCenterInfo(),g=R3(R.width,R.height)/5,DC(Q,1.5,Z,L,new jg([0,0,0,g,0,0,X=.8*g,Y=.05*g,0,X,0,Y,X,-Y,0,X,0,-Y,X,Y,0,0,0,0,0,g,0,Y,X,0,0,X,Y,-Y,X,0,0,X,-Y,Y,X,0,0,0,0,0,0,g,Y,0,X,0,Y,X,-Y,0,X,0,-Y,X,Y,0,X])),Qm(Q,0,2,1),Qm(Q,1,6,n),DC(Q,V3,e),Qm(Q,7,2,1),Qm(Q,8,6,n),DC(Q,V3,u),Qm(Q,14,2,1),Qm(Q,15,6,n)),x&&(X=(Y=B._center)[0],n=Y[1],x=Y[2],R=B.getPositionInfo(Y),g=R3(R.width,R.height)/20,DC(Q,1.5,Z,L,new jg([X,n,x,X+g,n,x,X,n,x,X,n+g,x,X,n,x,X,n,x+g])),Qm(Q,0,2,1),DC(Q,V3,e),Qm(Q,2,2,1),DC(Q,V3,u),Qm(Q,4,2,1)),cC(Q),qC(Q))}}),function(Q){this.gv=Q}),K1="edit_tx",W1="edit_ty",c1="edit_tz",S1="edit_rx",y1="edit_ry",D1="edit_rz",f1="edit_sx",Q$="edit_sy",Y$="edit_sz",n$={},R$=(n$[K1]=101,n$[W1]=102,n$[c1]=103,n$[S1]=104,n$[y1]=105,n$[D1]=106,n$[f1]=107,n$[Q$]=108,n$[Y$]=109,Og(d1,m,{_42:function(Q){var Y,n,R,g,B,L,Z,e,u,X,x,G,o,l,V=this,z=V.gv,p=z.sm().ld();!p||!z.isEditable(p)||z.isEditHelperDisabled()||!C(p)||z.isFirstPersonMode()&&(z.isMouseRoamable()||f3)||(xm(z),Y=z.isMovable(p),n=z.isRotationEditable(p),R=z.isSizeEditable(p),g=z._axisXColor,B=z._axisYColor,L=z._axisZColor,Z=z._editSizeColor,G=p.p3(),z=(e=z.isOrtho()?(e=z.getCenterInfo(),R3(e.width,e.height)/8):zg(z.getEye(),G)/10)/(z.isPicking()?5:10),u=.4*(e*=.7),X=G[0],x=G[1],G=G[2],l=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],Y&&V._17O(Q,p,K1,g,l,[X,x-z,G,X+e,x-z,G,X+e,x,G,X+e,x,G,X,x,G,X,x-z,G,X,x-z,G+z,X+e,x-z,G+z,X+e,x-z,G,X+e,x-z,G,X,x-z,G,X,x-z,G+z]),o=X+e,R&&V._17O(Q,p,f1,Z,l,[o,x-z,G,o+u,x-z,G,o+u,x,G,o+u,x,G,o,x,G,o,x-z,G,o,x-z,G+z,o+u,x-z,G+z,o+u,x-z,G,o+u,x-z,G,o,x-z,G,o,x-z,G+z]),o+=u,n&&V._17O(Q,p,S1,g,l,[o,x-z,G,o+u,x-z,G,o+u,x,G,o+u,x,G,o,x,G,o,x-z,G,o,x-z,G+z,o+u,x-z,G+z,o+u,x-z,G,o+u,x-z,G,o,x-z,G,o,x-z,G+z]),l=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0],Y&&V._17O(Q,p,W1,B,l,[X,x,G,X,x+e,G,X-z,x+e,G,X-z,x+e,G,X-z,x,G,X,x,G,X,x,G,X,x,G-z,X,x+e,G-z,X,x+e,G-z,X,x+e,G,X,x,G]),o=x+e,R&&V._17O(Q,p,Q$,Z,l,[X,o,G,X,o+u,G,X-z,o+u,G,X-z,o+u,G,X-z,o,G,X,o,G,X,o,G,X,o,G-z,X,o+u,G-z,X,o+u,G-z,X,o+u,G,X,o,G]),o+=u,n&&V._17O(Q,p,y1,B,l,[X,o,G,X,o+u,G,X-z,o+u,G,X-z,o+u,G,X-z,o,G,X,o,G,X,o,G,X,o,G-z,X,o+u,G-z,X,o+u,G-z,X,o+u,G,X,o,G]),l=[1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],Y&&V._17O(Q,p,c1,L,l,[X,x,G,X,x,G+e,X,x-z,G+e,X,x-z,G+e,X,x-z,G,X,x,G,X,x-z,G,X-z,x-z,G,X-z,x-z,G+e,X-z,x-z,G+e,X,x-z,G+e,X,x-z,G]),o=G+e,R&&V._17O(Q,p,Y$,Z,l,[X,x,o,X,x,o+u,X,x-z,o+u,X,x-z,o+u,X,x-z,o,X,x,o,X,x-z,o,X-z,x-z,o,X-z,x-z,o+u,X-z,x-z,o+u,X,x-z,o+u,X,x-z,o]),o+=u,n&&V._17O(Q,p,D1,L,l,[X,x,o,X,x,o+u,X,x-z,o+u,X,x-z,o+u,X,x-z,o,X,x,o,X,x-z,o,X-z,x-z,o,X-z,x-z,o+u,X-z,x-z,o+u,X,x-z,o+u,X,x-z,o]))},_17O:function(Q,Y,n,R,g,B){var L=this.gv,Z=L._buffer,e=(u=a3.for(Q)).directUniforms(),u=u.directAttribs();L._picking&&(L.pickColorMap[L=n$[n]]={data:Y,part:n},e.uFixPickReverseColor=h1(L)),dC(Q,V3,!0,V3,!0,V3,!1),e.uDiffuse=R,u.aPosition=nm(Q,Z.vs,new jg(B)),u.aNormal=nm(Q,Z.ns,new jg(g)),WC(Q),Qm(Q,0,12),cC(Q),KC(Q)}}),K.Raycaster=function(Q){this.gv=Q,this.maxTriangleTest=1/0,this.backfaceCulling=!0,this.triangleTestEpsilon=1e-9}),g$=(qB("Raycaster",m,{getTriangleTestEpsilon:function(){return this.triangleTestEpsilon},setTriangleTestEpsilon:function(Q){return this.triangleTestEpsilon=Q,this},getBackfaceCulling:function(){return this.backfaceCulling},setBackfaceCulling:function(Q){return this.backfaceCulling=Q,this},intersect:function(Q){var Y=this.gv.getDataAt(Q);return Y?this.intersectObject(Q,Y):null},intersectObjects:function(Y,Q,n){var R,g,B,L,Z=this,e=1/0,u=Y.origin||(new F3).fromArray(Z.gv.getEye()),X=Z.maxTriangleTest,x=[],G=(Q.forEach(function(Q){n&&!1===n(Q)||!1!==Q.s("intersect")&&x.push(Q)}),u.distanceToSquared2([0,0,0]));return x.sort(function(Q,Y){return(Q.p3?u.distanceToSquared2(Q.p3()):G)-(Y.p3?u.distanceToSquared2(Y.p3()):G)}),Z.countTriangles=0,x.forEach(function(Q){Z.countTriangles>X||(R=Z.intersectObject(Y,Q))&&(g=u.distanceToSquared(R.world))<e&&(B=Q,L=R,e=g)}),Z.countTriangles=0,{data:B,intersect:L}},intersectObjectAndRecordTriangle:function(Q,Y){return this._4GQ=!0,Q=this.intersectObject(Q,Y),this._4GQ=!1,Q},intersectLastTriangle:function(Q,Y){if((Q=this.getRay(Q)).applyMatrix4(Y.inverseMatrix),!(Q=Q.intersectPlane(Y.plane)))return null;var n=z2.uvIntersection(Q,Y.p1,Y.p2,Y.p3,Y.uv1.clone(),Y.uv2.clone(),Y.uv3.clone());return{world:Q.clone().applyMatrix4(Y.matrixWorld),local:Q.clone(),uv:n}},getRay:function(Q){if(Q instanceof G2)return Q;var Y,n=this.gv,Q=n.unproject(Q),R=new F3,g=n.getEye(),B=new F3;return n.isOrtho()?(Y=new F3(g),B.copy(n.getCenter()).sub(Y).normalize(),n=R.copy(Q).sub(Y).dot(B),R.copy(B).setLength(-n).add(Y.copy(Q))):(R.copy(g),B.copy(Q).sub(R).normalize()),new K.Math.Ray(R,B)},intersectObject:function(Q,Y){return this._intersectObjectImpl(this.getRay(Q),Y)},_intersectObjectImpl:(mH=new v3,qH=new v3,dH=new v3,KH=new v3,WH=new G2,cH=new F3,SH=new F3,yH=new F3,DH=new F3,fH=new F3,QS=new F3,YS=new F3,nS=new F3,RS=new q,gS=new q,BS=new q,LS=new F3,ZS={vs:ID,is:AD,uv:PD},(eS=TD.slice(0)).push("csg"),function(Q,Y){(O=(N=this.gv.getData3dUI(Y))._matWithExtraction||Y.mat||N.mat)?mH.fromArray(O):mH.identity();var n,R,g,B,L,Z,e,u,X,x,G,o,l,V="body";if(!(O=(O=(O=!(O=N.shapeModel)&&(Y instanceof K.Polyline||Y instanceof K.Edge)&&N.lineShapeModel?N.lineShapeModel:O)||WD(N))||(K.CSGNode&&Y instanceof K.CSGNode||K.CSGShape&&Y instanceof K.CSGShape?(g=!0,[N.left,N.front,N.right,N.back,N.top,N.bottom,N.csg]):Y instanceof K.Node&&!(Y instanceof K.Shape)?(n=!0,ZS):(R=!0,[N.left,N.front,N.right,N.back,N.top,N.bottom]))))return console.log("Can not find shape model."),null;M3(O)||(O=[O]);var z,p,$,M,F,v,a,J,I,A=1/0,P=["","top_","bottom_","from_","to_"],i=!1,T=this.backfaceCulling,E=this.triangleTestEpsilon,_=[];for(Am(O,N,_),B=0,L=_.length;B<L;B++)if(($=_[B])&&(J=$.matrix,M=$.model,$=$.mesh))for(qH.copy(mH),J&&qH.multiply(J),KH.getInverse(qH),WH.copy(Q).applyMatrix4(KH),Z=0,e=P.length;Z<e;Z++)if(x=$[(F=P[Z])+"vs"]){if(G=$[F+"is"],o=$[F+"uv"]||$[F+"tuv"],v=$[F+"boundingBox"]){if(!(I=WH.intersectBox(v)))continue;if(WH.origin.distanceTo(I)>A)continue;a=!1}else $[F+"boundingBox"]=v=new K.Math.Box3,a=!0;for(u=0,X=G?G.length:x.length/3;u<X;u+=3)this.countTriangles++,G?(SH.fromArray(x,3*G[u]),yH.fromArray(x,3*G[u+1]),DH.fromArray(x,3*G[u+2])):(SH.fromArray(x,3*u),yH.fromArray(x,3*(u+1)),DH.fromArray(x,3*(u+2))),a&&(v.expandByPoint(SH),v.expandByPoint(yH),v.expandByPoint(DH)),(l=WH.intersectTriangle(SH,yH,DH,T,E,cH))&&(z=WH.origin.distanceTo(l))<A&&(A=z,fH.copy(l),QS.copy(SH),YS.copy(yH),nS.copy(DH),""!==F?V=F.slice(0,-1):n?V=TD[Math.floor(u/6)]:R?V=TD[B]:g&&(V=eS[B]),p=M,o&&(i=!0,G?(RS.fromArray(o,2*G[u]),gS.fromArray(o,2*G[u+1]),BS.fromArray(o,2*G[u+2])):(RS.fromArray(o,2*u),gS.fromArray(o,2*(u+1)),BS.fromArray(o,2*(u+2)))),dH.copy(qH))}if(!isFinite(A))return null;mH.copy(dH),KH.getInverse(mH);var b,k,Y=fH.clone().applyMatrix4(mH),O=this._4GQ,N=(i&&(O&&(k={inverseMatrix:KH.clone(),matrixWorld:mH.clone(),p1:QS.clone(),p2:YS.clone(),p3:nS.clone(),uv1:RS.clone(),uv2:gS.clone(),uv3:BS.clone(),plane:(new K.Math.Plane).setFromCoplanarPoints(QS,YS,nS)}),b=z2.uvIntersection(fH,QS,YS,nS,RS,gS,BS)),df()),O=df(QS.applyMatrix4(mH),YS.applyMatrix4(mH),nS.applyMatrix4(mH)),U=0<WH.direction.dot(N),Y=(U&&(N.multiplyScalar(-1),O.multiplyScalar(-1)),{world:Y,local:fH.clone(),worldNormal:O,normal:N,uv:b,part:V,backface:U,model:p,worldMatrix:mH.clone()});return k&&(Y.triangleInfo=k),Y})}),c.Data3dUI=function(R,g){this.gv=R,this.s=function(Q,Y,n){return(Y=Y==V3?n:Y)==V3?g.getStyle(Q):d(Y,g,R)},this.data=g}),B$=(Og(g$,m,{I3d:!0,ms_icons:1,_iv:!0,_cacheBoundingBox:l3,iv:function(){this._iv=!0},update:function(Q,Y,n){var R=this,g=R.data;if(Q||(Y=(Q=R.gv).getGL(),n=Q._40Q),!R.needValidate(Y)||!Q.isVisible(g))return n.push(this,!1),void(Q.isVisible(g)&&this.updateLod());var B,L,Z,e=g._id,u=g._47Q?null:R.s("batch"),X=g.getRenderLayer(),X=(n=n.get(X,!0)).batchIndexMap,x=n.batchModelMap,G=Q.getBrightness(g),o=G!=V3&&1!==G,x=dm(X,x,g,u,Q),u=u?Q.getBatchInfo(u)||md:V3,l=R.validate(x,u);if(x&&(!u.ms||!u.ms.length)&&(B=(u=X[e]).size=x.vs.length/3-u.begin,Z=x.rs))for(G=o?G:1,L=0;L<B;L++)Z.push(G);(X=Q.getWireframeGeometry(g))?cm(Q,g,X):C(g)&&(e=Q.getWireframe(g))&&cm(Q,g,e),R.labelInfo=R.label2Info=R.noteInfo=R.note2Info=R._38o=V3,R._24O(jR,"getLabel"),R._24O(rR,"getLabel2"),R._26O(HR,"getNote"),R._26O(sR,"getNote2"),R._15O(),R.interactiveInfo=Q.isInteractive(g)?{}:V3,!n.push(this,!0)&&g instanceof $s&&R._46Q(Y),this.updateLod(),!1!==l&&(R._iv=!1)},updateLod:function(){var Q=this.shapeModel;if(Q&&Q.lod&&(this._getLodId(Q.lod),(Q=this.data).s("static"))){var Y=this.gv,n=Q.getRenderLayer(),n=Y._40Q.get(n,!0),Y=Y.getStaticInstancingKey(Q),R=n.getModel3dInstancedBatchMap();if(R=R&&R[Y]?R[Y]:R){if(R.lod[R.length-1]!=this._lodId&&(R.lod[R.length-1]=this._lodId,R.lodVersion=R.lodVersion+1),1===R.length)for(var g=0;g<32;g++)R.lodSum[g]=0;R.lodSum[this._lodId]=R.lodSum[this._lodId]+1}}},clearWireframeGeometryCache:function(){this.gv.invalidateCachedWireframe(this.data)},invalidateWireframe:function(){var Q=this.data,Y=Q.getRenderLayer();(Y=this.gv._40Q.get(Y))&&Y.ivWireframeBatch(Q)},_46Q:function(Q,Y){var n,R,g,B,L=this.data,Z=this.gv;Z.isVisible(L)&&(B=L._id,R=(n=Z._40Q.get(L._renderLayer,!0)).batchIndexMap[B],g=n.polylineIndexMap[B],B=n.wireframeIndexMap[B],(R||g||B)&&(Y=Y==V3?om(Q,Z.pickColorMap,Z.isSelectable(L),this,wR,!0):Y)&&(Sm(Y,R,n.batchModelMap),Sm(Y,g,n.polylineModelMap),Sm(Y,B,n.wireframeModelMap)))},_42:function(Q,Y,n){var R=this,g=R.data,B=R.gv;if(B.isVisible(g)){var L,Z,e,u,X,x,G,o,l,V,z=B._picking;if(z)L=B.pickColorMap;else{if(B.isTransparentMask(g)||B.isReflecting(Q)&&!1===g.s("3d.reflectable"))return;L=l3}if(g$.getTitle===l3)for(var p in g$.getTitle=0,z3)if(p.length===rR.length+1&&p[rR.length]===xV[4].toUpperCase()&&p[rR.length-1]===xV[rR.length+1].toUpperCase()){g$.getTitle=wn;break}if(!g$.getTitle||X3[rR.length+2]){if(g$.getHead===l3)for(var p in g$.getHead=0,VT){var $="box-sizing";6===p.length&&p[0]===xV[4]&&p[3]===$[0]&&p[4]===$[1]&&p[5]===$[2]&&(g$.getHead=Ln)}if(!g$.getHead||X3[rR.length]){if(g$.getTitle2===l3)for(var p in g$.getTitle2=0,VT)6===p.length&&p[0]===dV[1].toUpperCase()&&p[1]==="uv"[0]&&(g$.getTitle2=Bn);g$.getTitle2&&!X3[$V.length]||B[UR[0]+GV[0]]&&B[UR[0]+GV[0]].enable&&!X3[vR[0]]||(!z&&B.isTransmissionEnabled()&&R.s("shape3d.transmission")&&!B.isOITProcessing()&&(Z=Q._renderTargetStack[Q._renderTargetStack.length-1])&&!Z.isCube()&&yC(B,Z),Z=g._id,o=(e=B._40Q.get(g._renderLayer,!0)).batchIndexMap,l=e.batchModelMap,u=B.isSelectable(g),G=!(x=!1),o=o[Z],z&&(V=om(Q,L,u,R,wR,o))&&!B._45Q&&(Sm(V,o,l),Sm(V,e.polylineIndexMap[Z],e.polylineModelMap),Sm(V,e.wireframeIndexMap[Z],e.wireframeModelMap)),z&&B.skipNonSelectableOnPick(g,u)||(o||(x||(x=!0,G=SC(Q,B,g)),G&&(z||!B._45Q||B._oitEnabled||B.isReflecting(Q)||Q._blooming||!R.s("transparent.separate")?R.drawBody(Q,Y,n):(l=a3.for(Q).directState().cullFace,g._forceSingleFace=2,l.frontFace=g._flipSide?2305:2304,R.drawBody(Q,Y,n),g._forceSingleFace=1,l.frontFace=g._flipSide?2304:2305,R.drawBody(Q,Y,n),g._forceSingleFace=l3,l.frontFace=2305))),B.isLabelVisible(g)&&((X=R.labelInfo)&&(z&&om(Q,L,u,R,jR),x||(x=!0,SC(Q,B,g)),R._28O(X,jR,n)),(X=R.label2Info)&&(z&&om(Q,L,u,R,rR),x||(x=!0,SC(Q,B,g)),R._28O(X,rR,n))),B.isNoteVisible(g)&&((X=R.noteInfo)&&(z&&om(Q,L,u,R,HR),x||(x=!0,SC(Q,B,g)),R._29O(X,HR,n)),(X=R.note2Info)&&(z&&om(Q,L,u,R,sR),x||(x=!0,SC(Q,B,g)),R._29O(X,sR,n))),(X=R._38o)&&(x||(x=!0,SC(Q,B,g)),R._99O(Q,X,L,u,n)),x&&((V=a3.for(Q).directUniforms()).uBrightness=1,V.uClipDirection=0,a3.for(Q).directState().cullFace.frontFace=2305,Q._blooming&&(V.blackout=!1))))}}}},_formatClipUniforms:function(Q,Y,n){switch(Q){case"uv.right":Q=7;break;case"uv.left":Q=8;break;case"left":Q=2;break;case"top":Q=3;break;case"bottom":Q=4;break;case"front":Q=5;break;case"back":Q=6;break;default:Q=1}var R,g,B,L;return Q%2==0&&(Y=1-Y),7===Q||8===Q?(g=this.shapeModel)&&g.internalUvScale&&(Y*=g.internalUvScale):n instanceof K.Shape?(g=n.s3(),B=this._vsTranslation?[0,0,0]:n.p3(),L=n.getAnchor3d(),Y=Q<3?(Y-L.x)*g[0]+B[0]:Q<5?(Y-L.y)*g[1]+B[1]:(Y-L.z)*g[2]+B[2]):(Y-=.5,R=n._clipPercentageTranform),[Q,Y,R||BC]},prepare:function(){var Q=this,Y=Q.data;if(!(Y instanceof $s)){var n,R,g,B=Q.gv,L=B.getGL(),Z=Y._id,e=Q.s("batch"),u=B._batchIndexMap,X=B._batchModelMap,x=B.getBrightness(Y),G=x!=V3&&1!==x;if(Q.needValidate(L)){L=dm(u,X,Y,e,B),X=e?B.getBatchInfo(e)||md:V3;if(Q.validate(L,X),L&&(!X.ms||!X.ms.length)&&(n=(e=u[Z]).size=L.vs.length/3-e.begin,g=L.rs))for(x=G?x:1,R=0;R<n;R++)g.push(x);C(Y)&&((X=B.getWireframeGeometry(Y))?cm(B,Y,X):(u=B.getWireframe(Y))&&cm(B,Y,u)),Q.labelInfo=Q.label2Info=Q.noteInfo=Q.note2Info=Q._38o=V3,Q._24O(jR,"getLabel"),Q._24O(rR,"getLabel2"),Q._26O(HR,"getNote"),Q._26O(sR,"getNote2"),Q._15O(),Q.interactiveInfo=B.isInteractive(Y)?{}:V3,Q._iv=!1}}},dispatchBoundingBoxChanged:function(){this._cacheBoundingBox=l3},getBoundingBox:function(Q){if(this._cacheBoundingBox)return this._cacheBoundingBox;uS||(uS={vs:ID,is:AD,uv:PD},XS=new F3,xS=new F3,GS=new F3,oS=new F3,lS=new F3);var Y,n,R,g,B,L,Z,e,u=this,X=u.data,x=u.shapeModel;if((x=(x=!x&&(X instanceof K.Polyline||X instanceof K.Edge)&&u.lineShapeModel?u.lineShapeModel:x)||WD(u))||(K.CSGNode&&X instanceof K.CSGNode||K.CSGShape&&X instanceof K.CSGShape?(isCSG=!0,x=[u.left,u.front,u.right,u.back,u.top,u.bottom,u.csg]):X instanceof K.Node&&!(X instanceof K.Shape)?x=uS:(u.left||u.front||u.right||u.back||u.top||u.bottom)&&(x=[u.left,u.front,u.right,u.back,u.top,u.bottom])),!x)return l3;M3(x)||(x=[x]);var G,o,l,V,z,p,$=["","top_","bottom_"],M=new K.Math.Box3,F=!1,v=(u._needRecoverPosition?(oS.set.apply(oS,X.p3()),p=X.s3(),lS.set(1/(p[0]||1),1/(p[1]||1),1/(p[2]||1))):(oS.set(0,0,0),lS.set(1,1,1)),[]);for(Am(x,u,v),Y=0,n=v.length;Y<n;Y++)if((G=v[Y])&&(o=G.mesh))for(l=G.matrix,R=0,g=$.length;R<g;R++)if(Z=o[(z=$[R])+"vs"],e=o[z+"is"],Z){if(!(V=o[z+="boundingBox"]))for(o[z]=V=new K.Math.Box3,B=0,L=e?e.length:Z.length/3;B<L;B+=3)e?(XS.fromArray(Z,3*e[B]),xS.fromArray(Z,3*e[B+1]),GS.fromArray(Z,3*e[B+2])):(XS.fromArray(Z,3*B),xS.fromArray(Z,3*(B+1)),GS.fromArray(Z,3*(B+2))),l&&(XS.applyMatrix4(l),xS.applyMatrix4(l),GS.applyMatrix4(l)),XS.sub(oS).multiply(lS),xS.sub(oS).multiply(lS),GS.sub(oS).multiply(lS),XS.isNaN()||V.expandByPoint(XS),xS.isNaN()||V.expandByPoint(xS),GS.isNaN()||V.expandByPoint(GS);M.expandByBox(V),F=!0}return F?(this._cacheBoundingBox=M,m.freeze(M),m.freeze(M.min),m.freeze(M.max),Q||mm(u.gv,X),M):l3},needValidate:function(Q){return this._iv},validate:function(Q,Y){},_16O:function(Q,Y,n,R,g,B,L,Z,e){return mg},drawBody:function(Q,Y,n){},dispose:function(){this.disposeGLContent();var Q,Y=this._pickId;Y&&(Q=this.gv.pickColorMap)[Y]&&delete Q[Y]},getBodyColor:function(Q){var Y=this.data;return this.gv.getBodyColor(Y)||(Q?Y.getStyle(Q):V3)},disposeGLContent:function(){this._cachedTextures&&this.gv.invalidateCachedTexture(this.data)},getCachedTexture:function(Q){var Y=this._cachedTextures;return Y?Y[Q||"main"]:null},setCachedTexture:function(Q,Y){var n=this._cachedTextures,R=(n=n||(this._cachedTextures={}))[Y=Y||"main"];return R&&(this.gv.getGL().deleteTexture(R),R.interactiveInfo&&(R.interactiveInfo=V3)),n[Y]=Q},invalidateCachedTexture:function(Q){var Y=this._cachedTextures;if(!Y)return!1;var n,R=!1;for(n in Y){var g=Y[n];g&&(R=!0,Q.deleteTexture(g))}return this._cachedTextures={},R},invalidateCachedGeometry:function(){},_24O:function(Q,Y){var n,R,g=this.data,B=this.gv,L=this.s,Z=B[Y](g);Z!=V3&&(n=L(Q+".scale"),R=L(Q+".max"),Y=(B=this[Q+"Info"]={label:Z,textureScale:L(Q+".texture.scale"),color:B[Y+"Color"](g),font:L(Q+".font"),align:L(Q+".align"),borderWidth:L(Q+".border.width"),borderColor:L(Q+".border.color"),letterGap:L(Q+".letter.gap"),background:B[Y+"Background"](g)}).rect=fn(B,Z),0<R&&R<Y.width&&(B.labelWidth=Y.width,Y.width=R),Y.x=Y.y=0,Y.width*=n,Y.height*=n,B.mat=this._16O(L(Q+".autorotate"),L(Q+".position"),Y,L(Q+".face"),L(Q+".t3"),L(Q+".r3"),L(Q+".rotationMode")),g=Y.width/2,Z=Y.height/2,B.vs=new jg([-g,Z,0,-g,-Z,0,g,-Z,0,g,Z,0]),Y.width/=n,Y.height/=n)},_26O:function(Q,Y){var n,R=this.data,g=this.gv,B=this.s,L=g[Y](R);L!=V3&&(n=B(Q+".scale"),L=(g=this[Q+"Info"]={note:L,textureScale:B(Q+".texture.scale"),expanded:B(Q+".expanded"),font:B(Q+".font"),color:B(Q+".color"),align:B(Q+".align"),borderWidth:B(Q+".border.width"),borderColor:B(Q+".border.color"),background:g[Y+"Background"](R)}).expanded?(Y=B(Q+".max"),(R=fn(g,L)).width+=6,R.height+=2,0<Y&&Y<R.width&&(g.labelWidth=R.width,R.width=Y),{x:-R.width/2,y:-8-R.height,width:R.width,height:R.height+8}):{x:-6,y:-18,width:12,height:18},g.mat=this._16O(B(Q+".autorotate"),B(Q+".position"),V3,B(Q+".face"),B(Q+".t3"),B(Q+".r3"),B(Q+".rotationMode")),g.rect=L,1!==n&&((L=Qg(L)).x*=n,L.height*=n,L.y=-L.height,L.width*=n),Y=L.x,R=L.y,B=L.width,Q=L.height,g.vs=new jg([Y,-R,0,Y,-R-Q,0,Y+B,-R-Q,0,Y+B,-R,0]))},eachShapeModel:function(Q,Y){var n,R,g,B,L=this,Z=L.data,e=(Y=(Y=(Y=!(Y=Y||L.shapeModel)&&(Z instanceof K.Polyline||Z instanceof K.Edge)&&L.lineShapeModel?L.lineShapeModel:Y)||WD(L))||(Z instanceof K.Node&&!(Z instanceof K.Shape||K.CSGNode&&Z instanceof K.CSGNode)?cubeSM:[L.left,L.front,L.right,L.back,L.top,L.bottom,L.csg]),M3(Y)||(Y=[Y]),[]);for(Am(Y,L,e),n=0,R=e.length;n<R;n++)(B=e[n])&&(g=B.mesh)&&(B=B.matrix,cD(g),g.vs&&Q(g.vs,g.is,g.ns,g.uv,B),g.top_vs&&Q(g.top_vs,g.top_is,g.top_ns,g.top_uv,B),g.bottom_vs&&Q(g.bottom_vs,g.bottom_is,g.bottom_ns,g.bottom_uv,B),g.from_vs&&Q(g.from_vs,g.from_is,g.from_ns,g.from_uv,B),g.to_vs&&Q(g.to_vs,g.to_is,g.to_ns,g.to_uv,B));return!0},_28O:function(Q,Y,n){var R,g,B;n(this.s(Y+".transparent"))&&(n=Q.rect,R=Q.textureScale,B=n.width*R,g=n.height*R,1<=B&&1<=g&&(B=qT(B,g),1!==R&&(B.translate(n.x,n.y),B.scale(R,R),B.translate(-n.x,-n.y)),xL(B,Q),B.restore(),Fm(this,Y,Q.mat,Q.vs,!0)))},_29O:function(Q,Y,n){var R,g,B,L,Z;n(this.s(Y+".transparent"))&&(n=Q.rect,R=Q.textureScale,g=n.x,B=n.y,Z=n.width*R,L=n.height*R,1<=Z&&1<=L&&(n.x=n.y=0,Z=qT(Z,L),1!==R&&Z.scale(R,R),GL(Z,Q),Z.restore(),n.x=g,n.y=B,Fm(this,Y,Q.mat,Q.vs,!1)))},_99O:function(Q,Y,n,R,g){if(Y){var B,L=this.gv,Z=this.data,e=L._buffer,u=Q._sharedTexture,X=Y.icons,x=a3.for(Q).directAttribs();for(B in X){var G=X[B],o=Y.rects[B];if(o&&g(d(G.transparent,Z,L))){L._picking&&om(Q,n,R,this,B);var l=d(G.shape3d,Z,L),V=l?[l]:d(G.names,Z,L),z=V?V.length:0,p=d(G.textureScale,Z,L)||1,$=d(G.light,Z,L);$==V3&&($=!!l),dC(Q,d(G.blend,Z,L),$,d(G.opacity,Z,L),d(G.reverseFlip,Z,L),d(G.reverseColor,Z,L),d(G.reverseCull,Z,L));for(var M=0;M<z;M++){var F,v,a,J=V[M],I=o[M];Mm(this,I.mat),l?qD(L,Z,WD(this,l),this):(J=t(J))&&(F=I.width*p,v=I.height*p,1<=F&&1<=v&&(a=qT(F,v),c2(a,J,d(G.stretch,Z,L),0,0,F,v,Z,L),a.restore(),OC(L,Q,tT,u),WC(Q,u,d(G.discardSelectable,Z,L),e.uv,vD),x.aPosition=nm(Q,e.vs,I.vs),x.aNormal=gm(Q,e.ns,aD,V3),Lm(Q,e.is,JD),Ym(Q,0,JD.length),cC(Q,u))),um(L)}KC(Q)}}}},_getLodId:function(Q){for(var Y,n=this.gv,R=(g=this.data).getFinalScale3d(),g=g.p3(),B=this._getRangeSq(Q),Q=n.getEye(),L=B.length,n=Math.max(R[0],R[2])*R[1],R=Q[0]-g[0],Z=Q[1]-g[1],e=(R*R+Z*Z+(Q=Q[2]-g[2])*Q)/n,u=this._lodId,X=0;X<L;X++)if(u===X){if(e<B[X][2]){Y=X;break}}else if(e<B[X][0]){Y=X;break}this._lodId=Y=Y===l3?L-1:Y},_getRangeSq:function(Q){var Y=this.gv;if(Q._version===Y._renderId&&Q._rangeSq)return Q._rangeSq;for(var n,R=Q.range,g=(R.length,Q.switchBias||.01),B=(Q._version=Y._renderId,R.length),L=Y._lodConst,Z=[],e=0;e<B;e++)n=L/R[e],Z.push([n/(1+g),n,n/(1-g)]);return Q._rangeSq=Z}}),c.Node3dUI=function(Q,Y){En(B$,this,[Q,Y])}),L$=(Og(B$,g$,{_16O:function(Q,Y,n,R,g,B,L,Z,e){var u,X,x=this.data,G=x.getFinalScale3d(),o=((x.hasOwnProperty("_anchor")||x.hasOwnProperty("_anchorElevation"))&&(u=[-((u=x.getAnchor3d()).x-.5)*G[0],-(u.y-.5)*G[1],-(u.z-.5)*G[2]]),x.s("part.boundingBox")&&(o=this.getBoundingBox(!0))&&(X=o.max.clone().sub(o.min),o=o.max.clone().add(o.min).divideScalar(2),(u=u||[0,0,0])[0]+=o.x*G[0],u[1]+=o.y*G[1],u[2]+=o.z*G[2],G[0]*=X.x,G[1]*=X.y,G[2]*=X.z),pm(Y,G,n,R,Z,e));return u&&(o[0]+=u[0],o[1]+=u[1],o[2]+=u[2]),$m(tg(),o,x.p3(),R,g,B,L,Q,x.getFinalRotation3d(),x.getRotationMode())},clear:function(){var Q=this;Q.faceMat=Q.mat=Q.shapeModel=Q.left=Q.right=Q.front=Q.back=Q.top=Q.bottom=Q.csg=V3},needValidate:function(Q){return this._iv?(this._validateFrameId=Q._renderInfo.frame,!0):!(!this.data._47Q||(Q=Q._renderInfo.frame,this._validateFrameId===Q))&&(this._validateFrameId=Q,!0)},invalidateUnstableWireframe:function(){this.data._47Q&&this.invalidateWireframe()},validate:function(Q,Y){var n=this,R=n.gv,g=n.data,B=n.shapeName=n.s(OV),L=WD(n,B),Z=(n._updateAutoRotation(),n._updateFixSize2d(),n._updateOverlapping(),n.dispatchBoundingBoxChanged(),n.invalidateUnstableWireframe(),QQ(g,R.getMat(g),!L||n.s("shape3d.scaleable"))),e=(g.appendAnchorMatrix3d(Z),R.createNodeFinalMatrix(g,Z)),u=L!==n.shapeModel,e=(n.clear(),n.mat=g.mat=Z,n._finalMat=e);g._flipSide=v3.determinantOfArray(Z)<0,!L&&B||(B=null,(n.shapeModel=L)&&L.model3d&&(g.s("3d.clip.direction")&&g.s("3d.clip.percentage")&&(B=FC(qg(Z))),u&&((u=g._pendingAnimation)?g.playAnimation(u.animationName,u.speed,u.start,u.loop):L.playAutomatically&&!g.isAnimationPlaying()&&g.playAnimation())),g._clipPercentageTranform=B,Q?L?Y.instanced?R.batchInstancedModel(g,L,n,n.getBodyColor(),[Z],Q):fm(R,g,L,n,n.getBodyColor(),[Z],Q):(u=Xm(e),Y.instanced?R.batchInstancedFace(g,Q,Y,e,u):gD(R,g,Q,Y,e,u)):L||(n._cubeUvs=null,n.vf(BR,0),n.vf(LR,16),n.vf(RR,8),n.vf(gR,24),n.vf(ZR,32),n.vf(eR,40)))},_updateAutoRotation:(CS=new p2,wS=new v3,jS=new F3,rS=new F3,HS=new F3,function(){var Q=this.data,Y=this.s("autorotate")||this.s("shape3d.autorotate");if(Y){var n=this.gv,R=this.s("shape3d.autorotate.up");do{if("string"==typeof Y){if("spinaxis"!==Y){jS.copy(R||n._up),rS.copy(n._eye).sub(HS.copy(n._center));for(var g=0,B=Y.length;g<B;g++)rS[Y[g]]=0;var L=rS.normalize().dot(HS.copy(jS).normalize());1-Math.abs(L)<1e-5&&(Y.indexOf("x")<0?rS.x+=1e-4:Y.indexOf("y")<0?rS.y+=1e-4:Y.indexOf("z")<0&&(rS.z+=1e-4));break}jS.copy(Q.p3())}else{if(!M3(Y)){jS.copy(R||n._up),rS.copy(n._eye).sub(HS.copy(n._center));break}jS.copy(Y)}}while(R?rS.copy(R):(L=n._viewMatrix,rS.set(L[1],L[5],L[9])),rS.crossVectors(rS,jS),rS.crossVectors(rS,jS),0);wS.lookAtDirection(rS,jS),CS.set(0,0,0,Q.getRotationMode(),!0).setFromRotationMatrix(wS);var Z=Q._dynamicRotation;Z&&Math.abs(Z[0]-CS.x)<1e-5&&Math.abs(Z[1]-CS.y)<1e-5&&Math.abs(Z[2]-CS.z)<1e-5||(Q._dynamicRotation=[CS.x,CS.y,CS.z])}else Q._dynamicRotation&&delete Q._dynamicRotation}),_updateFixSize2d:function(){var Q,Y,n,R,g,B,L=this.data,Z=this.s("fixSizeOnScreen")||this.s("shape3d.fixSizeOnScreen");Z?(Q=(n=this.gv).createNodeFinalMatrix(L),B=Kg([0,0,0],Q),B=n.toViewPosition(B),isNaN(B.x)||isNaN(B.y)||(Y=Kg([1,0,0],Q),Y=n.toViewPosition(Y),Q=Kg([0,1,0],Q),n=n.toViewPosition(Q),Q=Y.x-B.x,Y=n.y-B.y,Q&&Y&&(n=L._dynamicScale3d||[1,1,1],B=t(L.s("shape3d.image")),0<Z[0]&&(R=Z[0]),0<Z[1]&&(g=Z[1]),R&&g||(Z=0<Z?Z:1,R=R||(vQ(B,L)||L.getWidth())*Z,g=g||(aQ(B,L)||L.getTall())*Z),B=Math.abs(Q/R),Z=Math.abs(Y/g),Math.abs(B-1)<.001&&Math.abs(Z-1)<.001||(L._dynamicScale3d=[n[0]/B,n[1]/Z,n[2]])))):L._dynamicScale3d&&delete L._dynamicScale3d},_updateOverlapping:function(){var Q=this.s("hide.overlapping.group");if(Q){for(var Y,n=this.gv,R=this.data,g=n.createNodeFinalMatrix(R),B=1/0,L=1/0,Z=-1/0,e=-1/0,u=(R=R.getAnchor3d()).x,X=R.y,x=R.z,G=0;G<8;G++){if(Y=Kg([(G>>2)-u,(G>>1&1)-X,(1&G)-x],g),Y=n.toViewPosition(Y),isNaN(Y.x)||isNaN(Y.y))return;B=Math.min(B,Y.x),Z=Math.max(Z,Y.x),L=Math.min(L,Y.y),e=Math.max(e,Y.y)}this._rectOverlapping=n.overlappingBox.isOverlapping(Q,{x:B,y:L,w:Z-B,h:e-L})}else this._rectOverlapping&&(this._rectOverlapping=l3)},getVectorDynamicSize:function(){var R,g,B,L,Z,e,Q,Y,n,u,X=this.s("shape3d"),x=this.data;if("billboard"===X||"plane"===X||(Y=x._currentCubeElementId)!=V3)return R=this.gv,g=R.createNodeFinalMatrix(x),Q=x.getAnchor3d(),B=.5-Q.x,L=.5-Q.y,Z=.5-Q.z,e=Math.min(this.s("vector.dynamic.maxsize"),R._glCapabilities.maxTextureSize)/R.getDevicePixelRatio(),Q=function(Q,Y){Q[0]+=B,Q[1]+=L,Q[2]+=Z,Y[0]+=B,Y[1]+=L,Y[2]+=Z;var Q=R.toViewPosition(Kg(Q,g)),Y=R.toViewPosition(Kg(Y,g)),n=Q.x-Y.x,Q=Q.y-Y.y;return Math.min(e,Math.sqrt(n*n+Q*Q))},"billboard"===X?(n=Q([-.5,0,0],[.5,0,0]),u=Q([0,-.5,0],[0,.5,0])):"plane"===X?(n=Q([-.5,0,0],[.5,0,0]),u=Q([0,0,-.5],[0,0,.5])):x._currentCubeElementId!=V3&&(X=3*AD[Y+1],x=3*AD[Y],Y=3*AD[Y+2],n=Q([ID[X],ID[1+X],ID[2+X]],[ID[Y],ID[1+Y],ID[2+Y]]),u=Q([ID[X],ID[1+X],ID[2+X]],[ID[x],ID[1+x],ID[2+x]])),[n,u]},vf:function(Q,Y){if(this.gv.getFaceVisible(this.data,Q)){(Q=vm(this,Q)).mat&&(this.faceMat=!0);var n=Q.uv;if(n)for(var R=(R=this._cubeUvs)||(this._cubeUvs=new jg([0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0])),g=0;g<8;g++)R[Y+g]=n[g];return Q}},_billboardInView:(bS=[-.5,-.5,0,-.5,.5,0,.5,-.5,0,.5,.5,0],kS=[-.5,0,-.5,-.5,0,.5,.5,0,-.5,.5,0,.5],OS=new o2,NS=new F3,US=new v3,function(Q){if(!this._finalMat)return!0;var Y=this.gv.getFrustum(),n="billboard"===Q?bS:kS;OS.makeEmpty(),US.fromArray(this._finalMat);for(var R=0,g=n.length;R<g;R+=3)OS.expandByPoint(NS.fromArray(n,R).applyMatrix4(US));return Y.intersectsBox(OS)}),drawBody:function(Q,Y,n){var R=this;if(R._rectOverlapping)return!0;var g=R.shapeModel;if(g||!R.shapeName){if(("billboard"===(e=R.s("shape3d"))||"plane"===e)&&!R._billboardInView(e))return!0;var B,L,Z,e=R.gv,u=R.data,X=e._cube,x=a3.for(Q).directAttribs();if(!R.s("effect.flow")&&(Q._picking||!R.s("shape3d.reflector")||(B=R._reflectorModel)&&B.renderAsNode))if(B||g&&g.model3d)R.s(UV)&&((L=u.s("polygonOffset"))&&jC(Q,L),B?R.gv._prefabRenderer.render(Q,B,u):R.gv._prefabRenderer.renderNode(Q,g,u,R._finalMat),L&&rC(Q));else{if(xm(e,R._finalMat),g)qD(e,u,g,R,R.getBodyColor(),n);else for(x.aPosition=nm(Q,X.vs,V3),x.aNormal=nm(Q,X.ns,V3),Bm(Q,X.is),Z=0;Z<6;Z++)R._18O(Q,TD[Z],6*Z,n,!1);if(um(e),R.faceMat)for(Z=0;Z<6;Z++)R._18O(Q,TD[Z],6*Z,n,!0)}}},_18O:function(Q,Y,n,R,g){var B,L,Z,e,u,X,x,G,o,l=this[Y];l&&(B=this.data,!(e=(L=this.gv)._picking?null:l.material)&&!R(l.transparent)||g&&!l.mat||!g&&l.mat||(B._currentCubeElementId=n,(R=B.s("polygonOffset"))&&jC(Q,R),e?(e={mesh:{vs:ID,is:AD,ns:iD,uv:l.uv?this._cubeUvs:PD,_complete_:!0},drawRange:[n,6],mat:e},B._currentFaceLightMask=l.light?B.s("light.mask"):0,L._prefabRenderer.render(Q,e,B,g?l.mat:null),B._currentFaceLightMask=null,e=L._cube,(Z=a3.for(Q).directAttribs()).aPosition=nm(Q,e.vs,V3),Z.aNormal=nm(Q,e.ns,V3),Bm(Q,e.is)):(g&&xm(L,l.mat),Z=a3.for(Q).directUniforms(),e=L.getTexture(l.texture,B,Y),Y=l.uv,u=l.uvScale,X=l.uvOffset,x=l.uvRotation,G=l.uvAnchor,o=l.discardSelectable,e?Y?WC(Q,e,o,L._buffer.uv,this._cubeUvs,X,u,x,G):WC(Q,e,o,L._cube.uv,V3,X,u,x,G):WC(Q),dC(Q,l.blend,l.light,l.opacity,l.reverseFlip,l.reverseColor,B._forceSingleFace||l.reverseCull),Z.uDiffuse=l.color||J3["color.empty"],Ym(Q,n,6),KC(Q),cC(Q,e),g&&um(L)),R&&rC(Q),B._currentCubeElementId=null))},disposeGLContent:function(){B$.superClass.disposeGLContent.apply(this,arguments),this.data.s("shape3d.reflector")&&(hC(this.gv,this._reflectorRenderTarget),this._reflectorRenderTarget=null,this._reflectNormal=null)},drawReflector:(VS=new F3,zS=new F3,pS=new F3,$S=new F3,MS=new F3,FS=new F3,vS=new v3,aS=new v3,JS=new v3,IS=new X2,AS=new x2,PS=new e2,iS=new e2,TS=tg(),ES=tg(),_S=["","top_","bottom_","from_","to_"],function(Q){var Y=this,n=(Y._reflectorInfo=null,Y.data);if(n._reflecting||!Y.mat)return!1;var R=Y.gv;if(R._picking)return!1;if(R._camera&&!R._camera.isLayerVisible(n.getRenderLayer()))return!1;var g,B=R._camera||R,L=n instanceof vs,Z=n.s("shape3d.reflector.ratio"),e=Y._reflectorRenderTarget,u=R._canvas.width*Z,X=R._canvas.height*Z;if(1!==Z&&(g=(g=R.getViewport(Q))&&Qg(g)),e?e.setSize(Q,u,X):e=Y._reflectorRenderTarget=new c.RenderTarget(R,Q,u,X),JS.copy(Y.mat),M3(Z=Y.s("shape3d.reflector.position"))?VS.copy(Z).applyMatrix4(JS):L?((M=n.p3())[1]+=(1-n.getAnchorElevation())*n.getTall(),VS.copy(M).applyMatrix4(JS)):VS.copy(n.p3()),!Y._reflectNormal){if(!(u=Y.shapeModel))if(L)u=[Y.left,Y.right,Y.top,Y.bottom,Y.front,Y.back];else if(X=Y.s(OV)){if(!(u=WD(Y,X)))return!1}else u={vs:ID,is:AD,ns:iD};var x,G,o,l,V,z=[];if(Am(u,Y,z),0===(x=z.length))return!1;if(M3(Z=Y.s("shape3d.reflector.normal")))pS.copy(Z).normalize();else if(L)pS.set(0,1,0);else{for(var p,$=0;$<x;$++)if((G=z[$])&&(o=G.mesh)){for(cD(o),l=0,V=_S.length;l<V&&!(p=o[_S[l]+"ns"]);l++);if(p){pS.set(p[0],p[1],p[2]);break}}if(!p)return!1}Y._reflectNormal=pS.toArray(),(M=y.requestVector3()).copy(VS),M.applyMatrix4(aS.copy(JS).invert()),Y._reflectorPosition=M.toArray(),X=Math.max(Y.s("shape3d.reflector.normal.threshold"),.01*Math.PI),Y._reflectorModel={model3d:!0,mesh:{vs:function(Q,Y,n,R){for(var g,B,L,Z,e,u,X,x,G,o,l,V,z=y.requestVector3(),p=y.requestVector3(),$=y.requestVector3(),M=y.requestVector3(),F=y.requestVector3(),v=y.requestVector3(),a=[],J=0,I=Q.length;J<I;J++)if((e=Q[J])&&(u=e.mesh))for(cD(u),L=0,Z=_S.length;L<Z;L++)if(X=u[_S[L]+"vs"])for(B=(x=u[_S[L]+"is"])?x.length:X.length/3,V=e.matrix,g=0;g<B;g+=3)l=x?(G=x[g],o=x[g+1],x[g+2]):(o=(G=g)+1,g+2),o*=3,l*=3,p.fromArray(X,G*=3),$.fromArray(X,o),M.fromArray(X,l),V&&(p.applyMatrix4(V),$.applyMatrix4(V),M.applyMatrix4(V)),F.subVectors($,p),v.subVectors(M,p),z.crossVectors(F,v).angleTo(n)<=R&&z.crossVectors(n,F.subVectors(p,Y)).cross(n).angleTo(F)<=R&&z.crossVectors(n,v.subVectors($,Y)).cross(n).angleTo(v)<=R&&z.crossVectors(n,F.subVectors(M,Y)).cross(n).angleTo(F)<=R&&a.push(p.x,p.y,p.z,$.x,$.y,$.z,M.x,M.y,M.z);return y.releaseVector3(z),y.releaseVector3(p),y.releaseVector3($),y.releaseVector3(M),y.releaseVector3(F),y.releaseVector3(v),a}(z,M,pS,X)},mat:{type:"reflector",internalDefines:!1,defines:{}}},y.releaseVector3(M)}if(IS.getNormalMatrix(JS),pS.copy(Y._reflectNormal).applyNormalMatrix(IS),zS.copy(B.getEye()),$S.subVectors(VS,zS),0<$S.dot(pS))return!1;$S.reflect(pS).negate(),$S.add(VS),MS.copy(B.getCenter()).negate().add(VS),MS.reflect(pS).negate(),MS.add(VS),FS.copy(B.getUp()),FS.reflect(pS);u=R._camera,Z=0<(F=R)._tempCameraQueue.length?F._tempCameraQueue.pop():((F=new K.Camera).s("camera.aspect.sync",!0),F);R.getCamera(Z),(R._camera=Z).p3($S.toArray()),Z.lookAt(MS.toArray(),FS.toArray()),R._18Q=V3,e.bind(Q),R.setViewport(Q,0,0,e.width,e.height),(X=n.s("shape3d.reflector.background"))?(J=HC(Q,!0),sC(Q,X)):sC(Q,[0,0,0,1]),a3.for(Q).glState.depth.mask=!0,Q.clear(16640);var B=(M=n.s("shape3d.reflector.clip"))===l3?.003:M,M=bC(R),F=_C(R),B=(AS.setFromNormalAndCoplanarPoint(pS,VS.add(pS.clone().multiplyScalar(B))),AS.applyMatrix4(aS.fromArray(F)),PS.set(AS.normal.x,AS.normal.y,AS.normal.z,AS.constant),aS.fromArray(M).getInverse(aS),iS.set(Math.sign(PS.x),Math.sign(PS.y),1,1).applyMatrix4(aS),PS.multiplyScalar(2/PS.dot(iS)),n._reflecting=!0,n.s("shape3d.reflector.shadow")),F={renderAxis:!1,renderEdit:!1,renderGrid:!1};if("disabled"===B?(F.renderShadowMap=!1,F.renderShadow=!1):"scene"===B?F.renderShadowMap=!1:F.useReflectorSelfShadowMap=!0,Z.setProjectMatrix(M),R.renderSky(),M[2]=PS.x-M[3],M[6]=PS.y-M[7],M[10]=PS.z-M[11],M[14]=PS.w-M[15],Z.setProjectMatrix(M),Z.s("camera.renderSky",!1),F.ignoreExternalCamera=!0,R.renderScene(F),vS.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),vS.multiply(aS.fromArray(R._projectMatrix)),vS.multiply(aS.fromArray(R._viewMatrix)),X&&sC(Q,J),e.unbind(Q),R._tempCameraQueue.push(Z),R._18Q=V3,R._camera=u,(B=n.s("shape3d.reflector.blur"))&&(M=R.getPostProcessingModule("Blur"))&&M.drawImpl(Q,e,B,3<=B,n.s("shape3d.reflector.blur.iterations")),(F=R.getPostProcessingModule("Glitch"))&&F.enable&&F.onlyReflector&&(e=F._42(Q,e)),g&&R.setViewport(Q,g[0],g[1],g[2],g[3]),!1===n.s("shape3d.reflector.visible"))return Kf(R,n),!0;var v,a,J=(X=Y._reflectorModel).mat,u=(J.tDiffuse=e.texture,J.color=WT(n.s("shape3d.reflector.color")||J3["shape3d.reflector.color"]),J.defines.MAX_BOX_CLIPPER=R._boxClippers.length,J.defines.BOX_CLIPER_TYPES=R._boxClipperTypes,J.cacheKey=R._boxClippers.length+" "+R._boxClipperTypes,Z=L&&Y._matWithExtraction?Y._matWithExtraction:Y.mat,n.s("shape3d.reflector.immediate")),M=(J.modelMatrix=Z,J.modelTextureMatrix=JC(u?TS:tg(),vS.getElements(),Z),J.modelViewMatrix=JC(u?ES:tg(),_C(R),Z),J.projectionMatrix=bC(R),this.s("shape3d.transparent"));return J.transparent=!u&&M,u?(M&&(a=(v=a3.for(Q).glState).depth.mask,v.depth.mask=!1),R._prefabRenderer.render(Q,X,n),M&&(v.depth.mask=a),delete X.renderAsNode):X.renderAsNode=!0,Kf(R,n),!0})}),function(Q,Y){En(L$,this,[Q,Y])}),Z$=(Og(L$,B$,{drawBody:function(Q){}}),c.Edge3dUI=function(Q,Y){En(Z$,this,[Q,Y])}),e$=(Og(Z$,g$,{_25Q:1,validate:function(Q,Y){var n=this,R=n.s;if(R(OV)===vR&&R("batch")==V3&&n.info&&n._geometryVersion===n.data._geometryVersion)Om(n.gv,n.data);else{var g=n.gv,B=n.data,L=R("edge.width"),Z=B._40I,e=B._41I;if(n._geometryVersion=B._geometryVersion,n.shapeModel=n.info=n.lineShapeModel=V3,Z&&e){var u=B.isLooped(),X=R(SR);if(i=z3.getEdgeType(X)){if(!(i=i(B,zL(n,g,B,u,X),g,n._19Q)).points||i.points.isEmpty())return;for(var x=n.info={},G=i.segments,o=(P=i.points).size(),l=Z.getElevation(),V=e.getElevation(),z=0;z<o;z++){var p=P.get(z);p.e==V3&&(p.e=l+(V-l)*z/(o-1))}var $=ZC(P.get(0)),M=ZC(P.get(o-1)),F=(o-(I=o%2))/2;x.c1=ZC(P.get(F-1)),x.c2=ZC(P.get(F)),0!==I&&(x.p3=x.c2),x.s1=$,x.s2=ZC(P.get(1)),x.t1=ZC(P.get(o-2)),x.t2=M}else{var v,a,J,I,A,P=new W,x=n.info={},i=R("edge.offset"),T=R("edge.center"),E=R("edge.source.t3"),_=R("edge.target.t3"),b=zm(g,B,"source"),k=zm(g,B,"target");if(!b||!k)return g.invalidateData(B),delete n.info,!1;E&&(b[0]+=E[0],b[1]+=E[1],b[2]+=E[2]),_&&(k[0]+=_[0],k[1]+=_[1],k[2]+=_[2]),X===NR?(G=R("edge.segments"),(o=(E=x.points=R(cR)||jQ).size())?($=ZC(E.get(0)),M=ZC(E.get(o-1)),!T&&i&&(_=i,v=Hg($,b,!0),i=R3(_,zg(b,$)),b=[b[0]+v[0]*i,b[1]+v[1]*i,b[2]+v[2]*i],v=Hg(k,M,!0),i=R3(_,zg(M,k)),k=[k[0]-v[0]*i,k[1]-v[1]*i,k[2]-v[2]*i]),1===o?x.p3=$:(F=(o-(I=o%2))/2,a=ZC(E.get(F-1)),J=ZC(E.get(F)),0!==I&&(x.p3=J),x.s1=b,x.s2=$,x.t1=M,x.t2=k)):(!T&&i&&(v=Hg(k,b,!0),A=zg(b,k),i=oL(i,A),b=[b[0]+v[0]*i,b[1]+v[1]*i,b[2]+v[2]*i],k=[k[0]-v[0]*i,k[1]-v[1]*i,k[2]-v[2]*i]),a=b,J=k),P.add({x:b[0],y:b[2],e:b[1]}),P.addAll(E),P.add({x:k[0],y:k[2],e:k[1]})):(_=zL(n,g,B,u,X),n._19Q||(_=-_),u?(F=b[0],I=b[1],$=b[2],a=[F-_,I+(M=Z.getTall()/2+_),$],J=[F+_,I+M,$],P.add({x:F-_,y:$,e:I}),P.add({x:F-_,y:$,e:I+M}),P.add({x:F+_,y:$,e:I+M}),P.add({x:F+_,y:$,e:I})):(v=Hg(k,b,!0),A=zg(b,k),E={x:b[0],y:b[2]},B={x:k[0],y:k[2]},u=(X=MC(V3,E,B,_)).x-E.x,M=X.y-E.y,i=oL(i,A),v[0]*=i,v[1]*=i,v[2]*=i,a=[b[0]+v[0]+u,b[1]+v[1],b[2]+v[2]+M],J=[k[0]-v[0]+u,k[1]-v[1],k[2]-v[2]+M],T?(P.add({x:b[0],y:b[2],e:b[1]}),P.add({x:a[0],y:a[2],e:a[1]}),P.add({x:J[0],y:J[2],e:J[1]}),P.add({x:k[0],y:k[2],e:k[1]})):(P.add({x:a[0],y:a[2],e:a[1]}),P.add({x:J[0],y:J[2],e:J[1]})))),x.c1=a,x.c2=J}x._lastPointsSegments={points:P,segments:G},n._matWithExtraction=n._vsTranslation=null,R(OV)===vR?((z3.extractPolylineTranslation||z3.extractVerticesTranslation)&&(F=Z.p3(),b=e.p3(),T=[(F[0]+b[0])/2,(F[1]+b[1])/2,(F[2]+b[2])/2]),x.list=n.createTubeModel(P,G,L/2,Q,T)):x.list=n.createLineModel(P,G,L,"edge","edge.dash"),Om(g,n.data)}}},invalidateCachedGeometry:function(){this.info=V3}}),c.Shape3dUI=function(Q,Y){En(e$,this,[Q,Y]),this._needRecoverPosition=!0}),u$=(Og(e$,B$,{drawBody:function(Q,Y,n){var R=this._finalMat;if(R&&(!this.s("shape3d.reflector")||Q._picking)){var g=this.gv,B=this.shapeModel;if(xm(g,R),B)qD(g,this.data,B,this,this.getBodyColor(),n);else for(var L=0;L<6;L++)am(this,Q,Y,TD[L],n);um(g)}},validate:function(Q,Y){var n,R,g,B=this,L=B.s,Z=B.data,e=Z._thickness/2,u=Z.isClosePath(),X=Z.getPoints(),x=Z.getSegments(),G=L(NV),o=Q&&Q.uv;if(B.invalidateUnstableWireframe(),B.clear(),B.dispatchBoundingBoxChanged(),B._updateAutoRotation(),z3.extractShapeTranslation||z3.extractVerticesTranslation?(R=new y.Vector3(Z.p3()),(X=Qg(X)).forEach(function(Q){Q.x-=R.x,Q.y-=R.z}),B._vsTranslation=(new y.Matrix4).setPosition(R),g=Z.getShapeElevation,Z.getShapeElevation=function(){return-(this.getTall()||0)*(this._anchorElevation-.5)}):B._vsTranslation=null,e<0){B.s("shape3d.reflector")&&(B._reflectNormal=null);try{var l,V,z=L("shape3d.image.projection");z&&z[4]&&(l=(_=Z.p3())[0],V=_[2],z=[l+z[0],z[1]+V,l+z[2],z[3]+V]),n=B.shapeModel=OL(X,x,L(jV),L(rV),G,L(HV),Z.getTall(),Z.getShapeElevation(),u,z)}catch(Q){n=B.shapeModel={}}L(UV)||(delete n.vs,delete n.ns,delete n.uv)}else if(L(OV)===vR)P=QB(X,x,G,u),(n=B.shapeModel={vs:[],uv:[]}).sum=L(HV)||tn(P)||1,n.len=0,L(jV)&&!u&&(n.top_vs=[],n.top_uv=[]),L(rV)&&!u&&(n.bottom_vs=[],n.bottom_uv=[]),B._12O(P,e);else{var p,$,M,F,v,a,J,I,A,P=QB(X,x,G,u),i=B.vf(RR,o,!1,Y);if(e&&(v=B.vf(gR,o,!1,Y),a=u?V3:B.vf(BR,o,!1,Y),J=u?V3:B.vf(LR,o,!1,Y),I=B.vf(ZR,o,!1,Y),A=B.vf(eR,o,!1,Y)),e){for(var T=0,E=P.length;T<E;T++)P[T]=B._tryRemoveBezierPoints(P[T],e);B._12O(P,e)}else i&&P.forEach(function(Q){if(0<(F=Q.length))for(p=Q[0],M=1;M<F;M++)$=Q[M],B.addV(i.vs,p,$),p=$});B._20Q(P),Q||(i&&(i.ns=kC(i.vs),SD(i,"vs"),SD(i,QV)),e&&(v&&(v.ns=kC(v.vs),SD(v,"vs"),SD(v,QV)),a&&(a.ns=kC(a.vs),SD(a,"vs"),SD(a,QV)),J&&(J.ns=kC(J.vs),SD(J,"vs"),SD(J,QV)),I&&(I.ns=kC(I.vs),SD(I,"vs"),SD(I,QV)),A&&(A.ns=kC(A.vs),SD(A,"vs"),SD(A,QV)))),delete this._shapeModelCacheForWf}var _=B.mat=Z.getPointsMatrix3d().getElements();Z._flipSide=v3.determinantOfArray(_)<0,B._vsTranslation?_=B._matWithExtraction=(new y.Matrix4).fromArray(_).multiply(B._vsTranslation).toArray():B._matWithExtraction=null,Q&&(BD(B,_,Q,n,Y),B.clear()),g!=V3&&(Z.getShapeElevation=g),Om(B.gv,Z,B.mat)},_20Q:function(Q){var Y,n,R,g,B,L,Z,e,u,X,x,G,o,l=this,V=l.front,z=l.back,p=l.top,$=l.bottom,V=V?V.tuv:V3,z=z?z.tuv:V3,p=p?p.tuv:V3,$=$?$.tuv:V3,M=0,F={front:0,back:0,top:0,bottom:0};(V||z||p||$)&&(o=l.s(HV),Y=o||tn(Q)||1,x=l.s("all.uv.union"),Q.forEach(function(Q){if(0<(n=Q.length)){for(X in F)(!1===(G=l.s(X+".uv.union"))||G==V3&&!1===x)&&(F[X]=0,o||(Y=tn([Q])));for(L=Q[0],R=1;R<n;R++){for(X in Z=Q[R],e=zg(L,Z),F)M=F[X],g=M/Y,F[X]=M+=e,B=M/Y,"back"===X&&(u=g,g=1-B,B=1-u),l._14O(l[X],g,B);L=Z}}}))},_14O:function(Q,Y,n){var R,g,B,L,Z,e,u,X;Q&&(X=Q.uv,(Q=Q.tuv)&&(X=X?(R=X[0]+(X[6]-X[0])*Y,g=X[1]+(X[7]-X[1])*Y,B=X[2]+(X[4]-X[2])*Y,L=X[3]+(X[5]-X[3])*Y,Z=X[2]+(X[4]-X[2])*n,e=X[3]+(X[5]-X[3])*n,u=X[0]+(X[6]-X[0])*n,X[1]+(X[7]-X[1])*n):(B=R=Y,e=L=1,u=Z=n,g=0),Q.push(B,L,Z,e,u,X,u,X,R,g,B,L)))},_13O:function(Q){var Y=Q.uv;(Q=Q.tuv)&&(Y?Q.push(Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],Y[6],Y[7],Y[0],Y[1],Y[2],Y[3]):Q.push(0,1,1,1,1,0,1,0,0,0,0,1))},_tryRemoveBezierPoints:function(Y,Q){var n=Y.length;if(n<4)return Y;for(var R,g,B,L,Z=!1,e=function(Q){return Y[Q]},u=function(Q){return Y[n-1-Q]},X=0;X<=1;X++)for(R=(B=X?u:e)(0),g=B(1),G=2;G<n-1;G++)(L=B(G)).remove||(L.b&&MC(R,g,L,Q).adjust?Z=L.remove=!0:(R=g,g=L));if(!Z)return Y;for(var x=[],G=0;G<n;G++)Y[G].remove||x.push(Y[G]);return x},_12O:function(Q,Y){var n,R,g,B,L,Z=this.s("shape3d.point.epsilon"),e=this;Q.forEach(function(Q){if(0<(L=Q.length))for(n={p:Q[0],n:!0},B=1;B<L;B++)R=Q[B],(g=B<L-1?Q[B+1]:V3)&&Math.abs(R.x-g.x)<Z&&Math.abs(R.y-g.y)<Z||e.addPoint(n,R,g,Y,Q)})},addPoint:function(Q,Y,n,R,g){var B,L,Z,e,u,X,x=this,G=Q.p,o=Q.f,l=Q.b,V=x.s("shape3d.side")||kg,z=x.s("shape3d.start.angle"),p=x.s("shape3d.sweep.angle"),$=x.shapeModel,M=x.data.isClosePath();if(Q.n&&(Q.n=!1,o=M&&2<g.length?MC(g[g.length-2],G,Y,R):MC(V3,G,Y,R),l=$C(G,o),$?$.top_vs&&x._10O(l,o,V,z,p,$.top_vs,$.top_uv):(B=x.left)&&(x.addV(B.vs,l,o),x._13O(B))),M=n?MC(G,Y,n,R):M&&2<g.length?MC(G,Y,g[1],R):MC(G,Y,V3,R),g=$C(Y,M),$){var F,v,a=$.vs,J=$.uv,R=$.sum;for(J&&(F=$.len/R,$.len+=zg(G,Y),v=$.len/R),Z=x._9O(l,o,V,z,p),e=x._9O(g,M,V,z,p),u=0;u<V;u++)an(a,Z[X=u+1]),an(a,e[u]),an(a,Z[u]),an(a,e[u]),an(a,Z[X]),an(a,e[X]),J&&J.push(F,X/=V,v,L=u/V,F,L,v,L,F,X,v,X);!n&&$.bottom_vs&&x._10O(g,M,V,z,p,$.bottom_vs,$.bottom_uv,!0)}else!n&&(B=x.right)&&(x.addV(B.vs,M,g),x._13O(B)),(B=x.front)&&x.addV(B.vs,o,M),(B=x.back)&&x.addV(B.vs,g,l),(B=x.top)&&x.addH(B.vs,o,M,g,l,!0),(B=x.bottom)&&x.addH(B.vs,l,g,M,o);Q.p=Y,Q.f=M,Q.b=g},_10O:function(Q,Y,n,R,g,B,L,Z){for(var e,u,X=this.data,x=this._9O(Q,Y,n,R,g),G=(Q.x+Y.x)/2,o=(Q.y+Y.y)/2,l=X.getShapeElevation(),V=0,V=0;V<n;V++)Z?(an(B,x[V]),an(B,x[V+1])):(an(B,x[V+1]),an(B,x[V])),an(B,[G,l,o]),L&&(u=Z?(e=o3*(V+1)/n+R,o3*V/n+R):(e=o3*V/n+R,o3*(V+1)/n+R),L.push(.5-.5*p3(u),.5-.5*G3(u),.5-.5*p3(e),.5-.5*G3(e),.5,.5))},_9O:function(Q,Y,n,R,g){var B,L,Z=this.data,e=[],u=(Q.x+Y.x)/2,X=(Q.y+Y.y)/2,x=Z.getTall()/2,G=Z.getShapeElevation(),o=0;for(g==V3&&(g=o3);o<=n;o++)L=p3(B=g*o/n+R),e.push([u+(Q.x-u)*L,G+x*G3(B),X+(Q.y-X)*L]);return e},addV:function(Q,Y,n){var R=Y.x,Y=Y.y,g=n.x,n=n.y,B=(L=this.data).getShapeElevation(),L=L.getTall()/2;Q.push(R,B-L,Y,g,B-L,n,g,B+L,n,g,B+L,n,R,B+L,Y,R,B-L,Y)},addH:function(Q,Y,n,R,g,B){var L=(Z=this.data).getTall()/2,Z=Z.getShapeElevation()+(B?L:-L);Q.push(Y.x,Z,Y.y,n.x,Z,n.y,R.x,Z,R.y,R.x,Z,R.y,g.x,Z,g.y,Y.x,Z,Y.y)},vf:function(Q,Y,n,R){var g,B=this.gv.getFaceVisible(this.data,Q);return(n||B)&&((g=vm(this,Q,R)).vs=[],g.tuv=B?[]:V3,g.visible=B),g}}),c.Points3dUI=function(Q,Y){En(u$,this,[Q,Y])}),X$={},x$=(Og(u$,B$,{validate:function(){var Q=this,Y=Q.gv,n=Q.data,R=Q.s,g=WT(R("points.color")),B=R("points.size"),C=R("points.uv.offset"),L=R("points.image"),Z=(!L||/\.(png|jpg|gif|jpeg|bmp|svg)$/i.test(L)||rd.test(L)||(X$[L]||(X$[L]=Q._createCachedImage(L)),L=X$[L]),n._modelDirty),e=R("points.model");if(e){if(Q._lastShapeModel!==e||!Q.shapeModel){var u=WD(Q,e);if(!u)return;var x=[],G={},o=y.requestVector3();Q.eachShapeModel(function(Q,Y,n,R,g){for(var B=0,L=Q.length;B<L;B+=3){var Z=Q[B],e=Q[B+1],u=Q[B+2],X=(g&&(o.set(Z,e,u).applyMatrix4(g),Z=o.x,e=o.y,u=o.z),Z+"_"+e+"_"+u);G[X]||(G[X]=!0,x.push(Z,e,u))}},u),y.releaseVector3(o),Q._setShapeModelPoints(new jg(x)),Q._lastShapeModel=e,Z=!0}l=Q.shapeModel.vs.length/3}else{var X=n.getPoints(),l=X.length;if(Z||n._pointsDirty||!Q.shapeModel){for(var V=[],z=0;z<l;z++){var p=X[z];p&&V.push(p.x,p.e,p.y)}Q._setShapeModelPoints(new jg(V)),n._pointsDirty=!1,Z=!(Q._lastShapeModel=null)}}if(Q.mat=QQ(n),Q._finalMat=Y.createNodeFinalMatrix(n,Q.mat),u=R("points.transparent"),Q.info={mat:Q._finalMat,size:B,diffuse:g,opacity:R("points.opacity"),texture:L,transparent:u,alphaTest:u?0:R("alphaTest"),uvScale:R("points.uv.scale"),uvOffset:C,discardSelectable:R("points.discard.selectable"),highlightPickColor:Y.getHighlightPickColor(n)},Z||n._colorsDirty){var $=!1,M=n.getColors();if(M&&0<M.length)for(var F=[],z=0;z<l;z++)for(var v=M[z],w=v?($=!0,WT(v)):g,j=4*z,a=0;a<4;a++)F[j+a]=w[a];Q.shapeModel.cs=$?new jg(F):null,n._colorsDirty=!1}if(Z||n._sizesDirty){var J=!1,I=n.getSizes();if(I&&0<I.length)for(var A,P=[],z=0;z<l;z++)0<=(A=I[z])?(P.push(A),J=!0):P.push(B);Q.shapeModel.ss=J?new jg(P):null,n._sizesDirty=!1}if(Z||n._offsetsDirty){var i=!1,T=n.getUvoffsets();if(T&&0<T.length)for(var E,_,b=[],z=0;z<l;z++)E=T[_=2*z],_=T[1+_],E!=l3&&_!=l3?(b.push(E,_),i=!0):b.push(0,0);Q.shapeModel.os=i?new jg(b):null,n._offsetsDirty=!1}if(Z||Q._lastPointNumber!==l){this.dispose();for(var k=Y.pickColorMap,O=Q._startPickId=k._pickIdUsed,V=(k._pickIdUsed=O+l,[]),z=0;z<l;z++){var N=O+z,U=h1(N);V.push(U[0],U[1],U[2],U[3]),k[N]||(k[N]={data:n,part:z})}Q.shapeModel.ps=new jg(V),Q._lastPointNumber=l}n._modelDirty=!1,this.dispatchBoundingBoxChanged()},_setShapeModelPoints:function(Q){var Y=this.shapeModel,n=this.shapeModel={vs:Q};return Y&&(Q=Q.length,Q=Math.round(Q/3),Y.cs&&Y.cs.length==4*Q&&(n.cs=Y.cs),Y.ss&&Y.ss.length==Q&&(n.ss=Y.ss),Y.os&&Y.os.length==2*Q&&(n.os=Y.os),Y.ps&&Y.ps.length==4*Q&&(n.ps=Y.ps)),n},_createCachedImage:function(Q){var Y=Wn(),n=Y.getContext("2d"),n=(yn(Y,128,128,1),JQ(n,{width:128,height:128,comps:[{type:Q,background:"white",borderWidth:0,rect:[0,0,128,128]}]},0,0,128,128),K.Math.generateUUID());return Ed[n]=Y,n},drawBody:function(Q,Y){var n,R,g,B,L,Z=this.gv,e=Z._picking;e&&!Z.isSelectable(this.data)||(n=this.shapeModel,L=this.info,n&&n.vs&&n.vs.length&&((R=this.data.s("polygonOffset"))&&jC(Q,R),g={type:"points",renderMode:"points",renderPickMap:!0,transparent:L.transparent,modelMatrix:L.mat,modelViewMatrix:JC([],Z._viewMatrix,L.mat),projectionMatrix:Z._projectMatrix,viewMatrix:Z._viewMatrix,scale:Z.getHeight()/2/Math.tan(Z.getFovy()/2),size:L.size,diffuse:L.diffuse,opacity:L.opacity,map:Z.getTexture(L.texture,this.data),alphaTest:L.alphaTest,resolution:Z.getDevicePixelRatio(),discardSelectable:L.discardSelectable,uvScale:L.uvScale,blackout:Q._blooming&&!this.data.s("bloom"),picking:e,useColor:!e&&n.cs!=V3,useSizeArray:n.ss!=V3,uUvOffset:L.uvOffset,useUvArray:!e&&n.os!=V3,defines:{}},B=null,e&&(Z.drawFilter?(g.pickColor=L.highlightPickColor,g.defines.HIGHLIGHT=!0):B=n.ps),Z._prefabRenderer.render(Q,{model3d:!0,mesh:{position:n.vs,pickColor:B,color:e?null:n.cs,aUvOffset:!e&&n.os?n.os:null,sizeArray:n.ss},mat:g}),this._material=g,R&&rC(Q),(L=a3.for(Q)).useProgram(Y),L.directAttribs().disable(),Z.shadowMap.enable&&Z.shadowMap.createShadow(),Z.rebindOITTexture(),Z.flowMap.createFlow(null,!0)))},dispose:function(){u$.superClass.dispose.call(this);var Q=this._startPickId,Y=this._lastPointNumber;if(Q&&Y){for(var n=this.gv.pickColorMap,R=0;R<Y;R++){var g=Q+R;n[g]&&delete n[g]}delete this._startPickId,delete this._lastPointNumber}}}),c.Polyline3dUI=function(Q,Y){En(x$,this,[Q,Y]),this._needRecoverPosition=!0}),G$=(Og(x$,g$,{_25Q:1,needValidate:function(Q){return B$.prototype.needValidate.call(this,Q)},_updateAutoRotation:function(){return B$.prototype._updateAutoRotation.call(this)},invalidateUnstableWireframe:function(){this.data._47Q&&this.invalidateWireframe()},validate:function(Q,Y){var n,R,g,B,L,Z=this,e=Z.data,u=Z.s,X=e.getPoints(),x=X.size(),G=(Z.dispatchBoundingBoxChanged(),Z._updateAutoRotation(),Z.invalidateUnstableWireframe(),e.p3()),o=Z.mat=tg(),l=(vC(o,G),ls(o,e.getFinalRotation3d(),e.getRotationMode()),e.getScale3d()),V=e._dynamicScale3d;V&&(l[0]*=V[0],l[1]*=V[1],l[2]*=V[2]),aC(o,l),vC(o,sg(G)),e._flipSide=v3.determinantOfArray(o)<0,u(OV)===vR&&u("batch")==V3&&Z.shapeModel&&Z._geometryVersion===e._geometryVersion?Z._vsTranslation&&(Z._matWithExtraction=(new y.Matrix4).fromArray(o).multiply(Z._vsTranslation).toArray()):(Z._geometryVersion=e._geometryVersion,Z.shapeModel=Z.info=Z.lineShapeModel=V3,Z._matWithExtraction=Z._vsTranslation=null,1<x&&(V=Z.info={},l=e.getSegments(),G=e.getThickness(),n=ZC(X.get(0)),R=ZC(X.get(x-1)),V.c1=ZC(X.get((B=(x-(g=x%2))/2)-1)),V.c2=ZC(X.get(B)),0!=g&&(V.p3=V.c2),V.s1=n,V.s2=ZC(X.get(1)),V.t1=ZC(X.get(x-2)),V.t2=R,u(OV)===vR?((z3.extractPolylineTranslation||z3.extractVerticesTranslation)&&(L=e.p3()),V.list=Z.createTubeModel(X,l,G/2,Q,L,o)):V.list=Z.createLineModel(X,l,G,"shape.border","shape.dash"))),Om(Z.gv,e,Z.mat)},invalidateCachedGeometry:function(){this.shapeModel=this.info=this.lineShapeModel=V3},drawBody:function(Q,Y,n){var R,g,B,L,Z,e,u,X,x,G,o=this,l=o.shapeModel;l&&(g=o._finalMat,R=o.gv,xm(R,g),g=o.s("3d.clip.direction"),R._uvClipEnabled&&("uv.left"===g||"uv.right"===g)&&(B=o.s("3d.clip.percentage"))<1?(Z=L=!0,cD(l),e=l.top_vs,u=l.bottom_vs,X=l.vs,x=(G=a3.for(Q)).directUniforms(),G=G.directAttribs(),"uv.left"==g?(B<1&&(L=!1),B<=0&&(Z=!1)):(B<1&&(Z=!1),B<=0&&(L=!1)),l.top_vs=l.bottom_vs=l3,G.aUv=gm(Q,R._buffer.uv,l.uv,V3,2),qD(R,o.data,l,o,o.getBodyColor(),n),G.aUv=!1,x.uClipDirection=0,l.vs=l3,L&&(l.top_vs=e),Z&&(l.bottom_vs=u),qD(R,o.data,l,o,o.getBodyColor(),n),l.vs=X,l.top_vs=e,l.bottom_vs=u):qD(R,o.data,l,o,o.getBodyColor(),n),um(R))}}),sS={s:p},function(Q){var Y={vs:[],ns:[],uv:[]};return fm(null,null,Q,sS,!1,[],Y),Y}),o$=z3.meshTypeMap={box:function(){return z3.createBoxModel()},sphere:function(Q){return G$(z3.createSphereModel(Q.side,Q.sideFrom,Q.sideTo,Q.from,Q.to,Q.resolution,Q.smooth))},cylinder:function(Q){return G$(z3.createCylinderModel(Q.side,Q.sideFrom,Q.sideTo,Q.from,Q.to,Q.top,Q.bottom,Q.smooth))},cone:function(Q){return G$(z3.createConeModel(Q.side,Q.sideFrom,Q.sideTo,Q.from,Q.to,Q.bottom,Q.resolution,Q.smooth))},torus:function(Q){return G$(z3.createTorusModel(Q.side,Q.sideFrom,Q.sideTo,Q.from,Q.to,Q.radius,Q.resolution,Q.smooth))}};for(tS in In(z3,{invalidateMeshAttribute:function(Q){Q&&Q._bufId&&(Q._bufId=null)},setMeshStyle:function(Q,Y,n){return Q[Y]!==n&&(n===l3?delete Q[Y]:Q[Y]=n,delete Q._geometry_,!0)},invalidateMesh:function(Q,Y){if(Q){if(Y)for(var n in Q)z3.invalidateMeshAttribute(Q[n]);delete Q._4HQ,delete Q._complete_}},invalidateSubMeshes:function(Q){Q&&delete(Q.subMeshes||Q)._drawRangeGroupByMat}}),In(i1,{invalidateMeshAttribute:function(Q,Y){Y&&this.releaseGLBuffer(Q),z3.invalidateMeshAttribute(Q),this.iv()},setMeshStyle:function(Q,Y,n){z3.setMeshStyle(Q,Y,n)&&this.iv()},getMeshStyle:function(Q,Y){return Q[Y]},invalidateMesh:function(Q,Y,n){if(n)for(var R in Q)this.releaseGLBuffer(Q[R]);z3.invalidateMesh(Q,Y),this.iv()},invalidateSubMeshes:function(Q){z3.invalidateSubMeshes(Q),this.iv()}}),rD)o$[tS]=function(Y){return function(Q){return G$(rD[Y](Q.top,Q.bottom))}}(tS);o$.bone=(hS=new Array(5),function(Q){for(var Y=Q.ratio||.1,n=Q.resolution||8,R=null,g=0;g<5;g++){if(hS[g])return hS[g].ratio==Y&&hS[g].resolution==n&&(hS[g].active=Date.now()),hS[g].mesh;R=g}if(!R)for(var B=1/0,g=0;g<5;g++)hS[g].active<B&&(B=hS[g].active,R=g);var L=[],Z=[];for(Y*=.5,L.push(0,0,0,0,0,.5),g=0;g<n;g++){var e=g/n*Math.PI*2;L.push(Math.cos(e)*Y,Math.sin(e)*Y,Y),0<g&&(Z.push(0,g+2,g+1),Z.push(g+1,g+2,1))}return Z.push(0,2,n+1),Z.push(n+1,2,1),hS[g]={active:Date.now(),resolution:n,ratio:Y,mesh:{vs:L,is:Z}},hS[g].mesh});var l$,V$,z$,p$,$$,M$,F$,v$,a$,J$,I$,A$,P$=function(Q){if(Q)return i$(Q="string"==typeof Q?{type:Q}:Q)},i$=function(Q,Y,n){var R,g,B=Q._geometry_;if(B)return B;if(n=n||Q,(B=Q.type)&&"raw"!==B){var L=z3.meshTypeMap[B],Z=(g=Q)&&Y?(m.assign(Z={},g),m.assign(Z,Y),delete Z.type,Z):g||Y;if(!L)return!!(R=z3.getMesh(B))&&i$(R,Z,n);if(!(R=L(Z)))return!1;n._geometry_=R}else R=Q;return R.func?R.func(R):R},T$=(V$=!(l$=1),z$={},p$={},$$={},M$=function(Q){var Y,n,R={};for(Y in z$){var g,B,L=(B=z$[Y]).speed,Z=B.time,e=(B.paused?g=B.time:(g=B.time+Q*L,B.time=g),B.duration),u=B.loop,L=("once"===u?L<0&&g<=B.end||0<=L&&g>=B.end?(g=B.end,B.iteration=1):g=y.modToPositive(g,e):(Math.floor(g/e)!==Math.floor(Z/e)&&B.iteration++,"pingpong"===u?e<(g=y.modToPositive(g,2*e))&&(g=2*e-g):g=y.modToPositive(g,e)),n=B.animation,B.displayTime=y.roundFloat(g,3));L+=B.shift,(Z=R[n])?Z.push(Y,L):R[n]=[Y,L]}for(n in R){E=T=I=F=M=A=p=z=V=J=P=l=a=G=void 0;var X=n,x=R[n],G=p$[X][1];if(G){var o,l,V,z,p={},$=x.length/2,M={},F=$$[X];if(F){for(var v=F.clips,a=0,J=v.length;a<J;a++)p[v[a].time]=a;for(a=0;a<$;a++)(z=p[V=x[2*a+1]])!==l3&&(M[z]=!0)}else F=$$[X]={clips:[]};for(var J=G.length,I=-1,A=0;A<$;A++)if(o=x[2*A],(z=p[V=x[2*A+1]])!==l3)z$[o].clip=F.clips[z];else{for(;M[++I];);(l=F.clips[I])?l.time=V:l=F.clips[I]={time:V,datas:[]};for(var P=l.datas,a=0;a<J;a++)for(var i=G[a].evaluate(V),T=(T=P[a])||(P[a]=[]),E=0,_=i.length;E<_;E++)T[E]=i[E];p[V]=I,z$[o].clip=l}}}},F$=y.newIdGenerator(),{add:function(X,Q,Y,n,R){(g=X.tag)||(g=X.tag=F$.next()),p$[g]||(p$[g]=function(){for(var Q,Y,n=X.tracks,R=n.length,g=new Array(R),B={},L=0;L<R;L++){var Z=n[L],e=Z.type,u=Z.name.split(".");switch((Y=B[u[0]])||(Y=B[u[0]]=[]),u[1]){case"scale":Y[2]=L;break;case"quaternion":Y[1]=L;break;default:Y[0]=L}switch(e){case"linear":Q=new Pu(Z.times,Z.values);break;case"quaternion":Q=new iu(Z.times,Z.values);break;case"cubic":Q=new Tu(Z.times,Z.values);break;case"cubicSpline":Q=new Eu(Z.times,Z.values,3);break;case"cubicSplineQuaternion":(Q=new Eu(Z.times,Z.values,3)).isQuaternion=!0;break;default:Q=new Au(Z.times,Z.values)}g[L]=Q}return[B,g]}());var g,B=l$++,L=X.duration;return Q===l3&&(Q=X.speed||1),n===l3&&(n=X.loop||"repeat"),z$[B]={time:Y||0,start:Y||0,loop:n,shift:X.start||0,duration:L,animation:g,animationName:X.name,clip:R,iteration:0},cf(z$[B],Q),V$||(V$=!0,z3.registerHeartbeat(Wf)),B},stop:function(Q){var Y=z$[Q];return!!Y&&(delete z$[Q],Y)},changeAnimationInfo:function(Q,Y,n){return!!(Q=z$[Q])&&("speed"===Y?(cf(Q,n),!0):"forwardTime"===Y&&(Q.time+=n,!0))},getAnimation:function(Q){return z$[Q]},getAnimationMap:function(){return z$},getAnimationTracks:function(){return p$},getFrameAnimationData:function(){return $$}}),E$=(In(es,{playAnimation:function(Q,Y,n,R){this._pendingAnimation&&delete this._pendingAnimation;var g,B=!1;do{if(!Q&&!(Q=this.getDefaultAnimationName()))break;var L=this.getAnimation(Q)}while(L&&(B=!0,0));if(!B)return Z=this.s(OV),$3(Z)&&Hd.test(Z)&&(this._pendingAnimation={animationName:Q,speed:Y,start:n,loop:R}),!1;this._animationPlaying&&(g=T$.stop(this._animationId));var Z=this._animationId=T$.add(L,Y,n,R,g?g.clip:null);return this._animationPlaying=!0,this._animationPaused=!1,this._lastAnimIteration=0,this.fp("animationStart",null,!0),Z},changeCurrentAnimationSpeed:function(Q){return T$.changeAnimationInfo(this._animationId,"speed",Q)},forwardAnimation:function(Q){return this.invalidateView(),T$.changeAnimationInfo(this._animationId,"forwardTime",Q)},backwardAnimation:function(Q){return this.forwardAnimation(-Q)},stopAnimation:function(){var Q=this._animationId;return Q&&T$.stop(Q),this._animationPlaying=!1,this._animationPaused=!1,this._animationId=l3,this._lastAnimIteration=0,delete this._pendingAnimation,this.fp("animationStop",null,!0),Q},pauseAnimation:function(){if(this._animationPaused)return!1;var Q=this._animationId;return!!Q&&(!!(Q=T$.getAnimation(Q))&&(Q.paused=!0,this._animationPaused=!0,this.fp("animationPause",null,!0),!0))},resumeAnimation:function(){var Q;return!!this._animationPaused&&(!!(Q=this._animationId)&&(!!(Q=T$.getAnimation(Q))&&(Q.paused=!1,this._animationPaused=!1,this.fp("animationResume",null,!0),!0)))},isAnimationPlaying:function(){return this._animationPlaying},isAnimationPaused:function(){return this._animationPaused},getAnimationNames:function(){return z3.getShapeModelAnimationNameList(this.s("shape3d"))},getAnimation:function(Q){return z3.getShapeModelAnimation(this.s("shape3d"),Q)},getDefaultAnimationName:function(){return z3.getShapeModelDefaultAnimationName(this.s("shape3d"))},getAnimations:function(){return z3.getShapeModelAnimations(this.s("shape3d"))},getCurrentAnimationState:function(Q){var Y=this._animationId;if(!Y)return null;var n=T$.getAnimation(Y);if(!n)return null;switch(Q){case"time":return n.displayTime||0;case"name":return n.animationName;case"loop":return n.loop;case"speed":return n.speed;case"duration":return n.duration;default:return{time:n.displayTime||0,name:n.animationName,loop:n.loop,speed:n.speed,duration:n.duration}}}}),In(sQ,{isAnimationPlaying:$}),In(z3,{getShapeModelAnimations:function(Q){var Y;return(Q=Q&&DS(Q))&&Q.model3d?(Y=Q.animations)?Y:Q.lod?z3.getShapeModelAnimations(Q.lod.group[0]):Q.model&&$3(Q.model)?z3.getShapeModelAnimations(Q.model):null:null},getShapeModelAnimation:function(Q,Y){var n=z3.getShapeModelAnimations(Q);if(n)for(var R=0,g=n.length;R<g;R++)if(n[R].name===Y)return n[R];return null},getShapeModelAnimationNameList:function(Q){var Y=z3.getShapeModelAnimations(Q);if(!Y)return null;for(var n=Y.length,R=new Array(n),g=0;g<n;g++)R[g]=Y[g].name;return R},getShapeModelDefaultAnimationName:function(Q){var Y,n=z3.getShapeModelAnimations(Q);if(!n)return null;for(var R=0,g=n.length;R<g;R++){if(n[R].default)return n[R].name;!Y&&0<n[R].duration&&(Y=n[R].name)}return Y}}),v$={},{request:function(Q){var Y;return(Y=v$[Q])?Y.length?Y.pop():new Float32Array(Q):(v$[Q]=[],new Float32Array(Q))},release:function(Q){var Y,n=Q.length;(Y=v$[n])?Y.push(Q):v$[n]=[Q]}}),_$=y.newIdGenerator(),b$=(m.assign(c.Graph3dView.prototype,{initSkeletonDatas:function(){var Q,Y=this._updatedSkeletonDatas;for(Q in Y)E$.release(Y[Q]);this._updatedSkeletonDatas={},this._isSkeletonUpdated={},this._boneViewMatrices.length=0,this._boneViewMatrices._bufId=null},_renderBonesForDebug:function(Q,Y){0<this._boneViewMatrices.length&&(Y.depth.enabled=!1,Y.depth.mask=!1,this._prefabRenderer.render(Q,{mesh:{type:"bone"},instances:{aMatrixInstanced:new Float32Array(this._boneViewMatrices)},mat:{type:"fixColor",color:"red",cullFace:!0}}))},updateSkeleton:function(Q,Y){var u=this;if((Y||(Y=fS(Q.s("shape3d")))&&Y.model3d)&&(Y.lod?n=Y.lod.group[0]:Y.model&&(n=Y.model),!n||(Y=fS(n))&&Y.model3d)){var n=Q._animationId;if(n=T$.getAnimationMap()[n]){var R=n.clip;if(R){var g=n.iteration,B=(g!==(B=Q._lastAnimIteration||0)&&(Q._lastAnimIteration=g,Q.fp("animationIteration",B,g)),n.time),L=Q._lastAnimHashKey=n.animation+"|"+B;if(!this._isSkeletonUpdated[L]){this._isSkeletonUpdated[L]=!0;for(var X,x,G,o,l,Z,e,V,z,p=Q.s("3d.bone.visible"),$=(p&&(x=y.requestVector3(),G=y.requestVector3(),o=y.requestMatrix4().fromArray(Q.mat),l=y.requestMatrix4()),R.datas),M=T$.getAnimationTracks()[n.animation][0],F=y.requestMatrix4(),v=[],a={},J=(z3.traverse(Y,function(Q,Y){Q.skeleton&&v.push(Q);var n,R,g,B,L,Z=Q.name,e=(Z&&(L=M[Z])&&((B=L[0])!==l3&&(n=$[B]),(B=L[1])!==l3&&(R=$[B]),(B=L[2])!==l3&&(g=$[B])),(B=Q.matrixWorld)||(B=Q.matrixWorld=new v3),Q.transformData);L&&e?Im(B,e,n||Q.position,R||Q.quaternion,g||Q.scale):B.composeFromArray(n||Q.position,R||Q.quaternion,g||Q.scale),Y&&(B.premultiply(Y.matrixWorld),p&&Y.isBone&&(L=u._boneViewMatrices,Y.matrixWorld.getPosition(x),x.applyMatrix4(o),B.getPosition(G),G.applyMatrix4(o),X=2*x.distanceTo(G),l.lookAt(G,x).setPosition(G.set(0,0,0)).scale(G.set(X,X,X)).setPosition(x),L.push.apply(L,l.getElements()))),a[Z]=B,Q.skeleton&&(Q.skeleton._tempMatrixInverse=F.copy(B).invert().toArray())},null,"comps"),p&&(y.releaseVector3(x),y.releaseVector3(G),y.releaseMatrix4(l),y.releaseMatrix4(o)),y.releaseMatrix4(F),u._updatedSkeletonDatas),I=0,A=v.length;I<A;I++){var P,i,T,E,_=(E=(T=v[I]).skeleton.bones).length;for((Z=J[(V=(V=T._skeletonId)?V:T._skeletonId=_$.next())+"|"+L])||(P=Math.sqrt(4*_),(i=y.nearestPOT(P))<P&&(i<<=1),i=Math.max(i,4),Z=J[V+"|"+L]=E$.request(i*i*4)),e=T.skeleton.boneMatrixInverses,z=0;z<_;z++)v3.multiplyMatrixArray(Z,a[E[z]],e,16*z,0,16*z);Z.bindMatrixInverse=T.skeleton._tempMatrixInverse,delete T.skeleton._tempMatrixInverse}}}}}}}),{cullFace:!1,flipSide:!1,transparent:!1,uvRotation:0,uvScale:[1,1],uvOffset:[0,0],uvAnchor:[0,0]}),n=function(Q,Y){if(Q=k$(this,Q),Y===l3||!Q)return Q;var n=Q[Y];return n===l3&&(Y in b$?n=Qg(b$[Y]):(Q=O$[Q.type])&&(n=Qg(Q[Y]))),n},r3=function(Q,Y,n){var R,g,B=k$(this,Q);if(B){if($3(Y))R=B[Y],g=B[Y]=n;else if(on(Y)){for(var L in R={},Y)R[L]=B[L],B[L]=Y[L];g=Y}this.fp("material",V3,{material:B,materialName:Q,property:Y,oldValue:R,newValue:g})}},k$=function(Q,Y){if(on(Y))return Y;var n,R,g=$3(Y),B=g&&/.*\.material/.test(Y);return(n=(n=B?Q.s(Y):n)||(g&&(R=Q.s("matDef"))?R[Y]:n))||(Q=Q.s("shape3d"),(Q=$3(Q)?z3.getShape3dModel(Q):Q)&&Q.model3d&&(g||(n=Q.mat),(R=Q.matDef)&&(!n&&g?n=R[Y]:$3(n)&&n in R&&(n=R[n])))),n||!g||B?n&&$3(n)&&(n=z3.getMaterial(n)):n=z3.getMaterial(Y),n},O$=(In(sQ,{getMaterials:(a$={},["all","left","right","top","bottom","front","back"].forEach(function(Q){a$[Q+".material"]=1}),J$={"shape3d.material":1},["top","bottom","from","to"].forEach(function(Q){J$["shape3d."+Q+".material"]=1}),I$=[],function(){var Q,Y=[],n={},R={},g=this.getStyle("matDef");if(g)for(Q in g)g[Q]&&(R[Q]=1,Sf(g[Q],Y,n));var B,L=this.getStyle("shape3d");if(L?$3(L)&&!(L=z3.getShape3dModelFromMemory(L))&&(B=J$):B=a$,on(L))!L.model3d&&L.json&&"obj"===L.json.modelType?Sf(this.getStyle("shape3d.material"),Y,n):function R(Q,g,B,L){z3.traverse(Q,function(Q){I$.push(L),L=Qg(L);var Y,n=Q.matDef;if(n)for(Y in n)!L[Y]&&n[Y]&&(L[Y]=1,Sf(n[Y],g,B));!(Y=Q.mat)||!on(Y)&&L[Y]||Sf(Y,g,B),Q.model&&(Q=z3.getShape3dModelFromMemory(Q.model))&&R(Q,g,B,L)},function(){L=I$.pop()},"comps")}(L,Y,n,R);else if(B)for(var Z in B)Q=this.getStyle(Z),Sf(Q,Y,n);var e=z3.getMaterialMap();for(Q in n)(Q=e[Q])&&Y.push(Q);return Y})}),In(es,{getMaterial:n,setMaterial:r3}),In(Vs,{getMaterial:n,setMaterial:r3}),{}),N$=(In(O$,{pbr:{diffuse:[1,1,1],emissive:[0,0,0],roughness:1,metalness:0,opacity:1,transparent:!1,cullFace:!1,map:null,alphaMap:null,alphaChannel:"A",alphaTest:0,roughnessMap:null,roughnessChannel:"R",metalnessMap:null,metalnessChannel:"G",emissiveMap:null,aoMap:null,aoMapIntensity:1,aoChannel:"B",aoUvChannel:1,normalMap:null,normalScale:[1,1],lightMap:null,lightMapIntensity:1,envMap:null,envMapIntensity:1,displacementMap:null,displacementScale:1,displacementBias:0,rimColor:[0,0,0],rimPower:0,fresnelIntensity:1,enableTransmission:!1,transmission:1,thickness:0,ior:1.5,specularIntensity:1,specularColor:[1,1,1]},phong:{diffuse:[1,1,1],emissive:[0,0,0],specular:[17/255,17/255,17/255],shininess:30,opacity:1,transparent:!1,cullFace:!1,map:null,alphaMap:null,alphaChannel:"A",alphaTest:0,specularMap:null,emissiveMap:null,aoMap:null,aoMapIntensity:1,aoChannel:"B",aoUvChannel:1,normalMap:null,normalScale:[1,1],lightMap:null,lightMapIntensity:1,envMap:null,envMapCombine:"add",envMapIntensity:1,refractionRatio:.98,displacementMap:null,displacementScale:1,displacementBias:0,fresnelIntensity:1},litePhong:{diffuse:[1,1,1],emissive:[0,0,0],map:null,opacity:1,alphaTest:.4,transparent:!1,useLighting:!0,roughness:0,completeHandler:function(){this.uTexture=!!this.map}}},!0),{}),U$={aoMap:["aoMapIntensity"],normalMap:["normalScale"],lightMap:["lightMapIntensity"],displacementMap:["displacementScale","displacementBias"],enableTransmission:["transmission","thickness","ior","specularIntensity","specularColor"]};for(A$ in O$){var C$,w$,j$=[],r$=[],H$=O$[A$],s$={},h$=[];for(w$ in H$)"envMap"!==w$&&"envMapIntensity"!==w$&&w$.indexOf("Channel")!==w$.length-7&&"enableTransmission"!==w$&&"envMapCombine"!==w$&&("map"===w$||w$.indexOf("Map")===w$.length-3?(C$=U$[w$])&&C$.length?(j$.push(w$,C$.length),C$.forEach(function(Q){s$[Q]=!0,j$.push(Q,H$[Q])})):j$.push(w$,0):(C$=U$[w$])&&C$.length?(s$[w$]=!0,r$.push(w$,C$.length),C$.forEach(function(Q){s$[Q]=!0,r$.push(Q,H$[Q])})):h$.push(w$));j$.push(-1),(j$=j$.concat(r$)).push(-2),h$.forEach(function(Q){s$[Q]||j$.push(Q,H$[Q])}),N$[A$]=j$}K.Default.getMaterialDefaultStyle=function(){return O$},yS.pbr=["?0t0w!/Imjbodujtt;z!ihqm=t!mf4e-v!mmdjohji$u\v\v!!\v\vS0C0Q!!$fQoSjFgGfJeY$\v\v!","~0!0<!eIJj!o>u!ts;p!mhpmDthmb4s-G!`mmjhh!i\vu?-z!eppjcu/\vt!g\v/0u0j!p$=Q!SfFeGvJmYd\vo!j\v$$\ve!f\vg?jzoefp!cQ/CtSg\v/!h\vp$ge=f!gfjeovfm!dToUjB$O\vE!B\vS?Ez\ve!p\vc$/jtgge/fqgb!NVxTpFm`gU=S!BfOeTvNmJdToTjJ$P\vO!\v<!*\ve$Je)fmgfjyoffU!uJvPqSu\vv!P\vp$Uesfbgfjoojfm!!T>Q!FeDJV!M\vB?Sz\ve!p\vc$/ftoge/jhgo\vj!q\vq$bjNofdompvue=f!!f=edvpmndnopjo$?\v\v!!\v\v?$zjeopdcm/vtegf/!u=vqqbudvlpj=o!hf?e\vv!m\vd$ojjo$d\vm!v\vegfj!e=ovfc$p\vt!/<iufbbped?s\vb!f\vm$dj/gmobejfsgf!uVbTnF!`+V!CsPb\vm!vvdofjqgTpusbnp!dnsbbuf5m!dv!W,j!f*xdNdbGu!s+j!yu<b!pvdosjbgfpmsdn/!mwbfjds4f!uebjng!g.v!t1f/<2!)v!o+j!gupishnj!Mwhfodj4p!hfunvjpt!t>j!wufi<h!jvMohjogjppshnu!vgpm!p<b*ud!dsWpOvuhpieo!f-t1t:<G!uvbopjdgspbsfnm!dg/mmpbbjus!fnufbunb!m-o1fGtutb<p!dvsobjfgmpds/nm!bgjmspfbuub!np)qlbddjjmuizd<T!`vGo!j>g!pdsdnG!!w4fddf4w!!s<j*n*DspjmEpxsf<j!wv/ozjsgupfsnnp!fghm!p-bmub!nssjpnOQupbxpfdss<b!fvmodj/gzpssunf!ngpmfphb)uu!pbem)qfiubbUsfvtuub<t!!\v>$!fdodeWjOgu\vp!ev!oujbgppmsgn!!\vcUpBpPmD!SuBsFbMoDt`qFbTsVf!oguf<e!gvjo$j\vg!p\vsgnj!ecopfp$m\v!!d<vsmbmmGvbddffq<T!o\vf$fjigte!f,g!!qVnTpFD`zVhWs\vf!owFbosfzfjioth!!+w!fudi3h!jwMVhwo<j!p\vh$ujvgpe!f>g!!uViWh`jDMMhJoQj\vp!hwubvspz!j<o*hs!pgmmppDbouf!fwiVtw/MmpbdjbsmfVu<b!n\v)$4fyobenj!g+\v!!8\v6$2f/o1e!j.g!\v1!/\v2$!j>g!!qenfpgDjzohfsef)oVFToFf`fMiJtH!IuUbNpBmQg*!!\v}O}F!FeIfTg`jFoTfVe!)gVfTeFg`jB$P\vN!B<Qf*d!o}b}j!eebfSgfjwojftet)jVnTFFm`bVuWp3u*!\v,!!wsbbsmzvjdofhq!Twmfbdu3p!uw!V,w!3f<t!v\vg$gfjoEemjbgu\vp!u\v!$>j!gueifhgj!MVhToFj`pNhBuQv\vp!!v4odjfgwp!s\vn?!ztebpncq/mtfgs/3oEp!jntbtqj<n!t\vo$bfsoue=j!gf\ve!v\vm$djogje$f\vg!!<VsTbFm`vBdMfQqITBuNdBfQs\vj!evoojj/gupishnj!Mtebfnuqdmffmsg3fEs!!b,m!qsibbmNvbdqf<q!T\vu$dffosejjeg/\vu!i\vh$jjMgeeffugd!fVmTgFf`sB!P>N!BsQb\vm!vvdofjqgTpmsbnu!ptub!n4qdmffws!3<Ef!tbvpgNgbjqE<u!d\vf$sjjgeooejf/gu!iVhTjFM`eVfCuPd\vf!mvgofjsg!p,s!nf!tgvmgpgbjuE!ubdpfNsbjqeJ/ouuifhojtMjeufzu<d!f\vm$gffose!j>g!\vf!t\vv$gfgojeEjmgb\vu!p\vu$!j4gdeffwg!!\vV?TzFe`pMcJ/HtIgU/NqBbQN\vp!bv=o!jfgepvsmnd!otjb$n\vq!m<f*ss3fEx!pmQjnhjisu!N-bnqj<s!)\vx$pjqg!o+e!fsgp!mVpTDFn`jVsC!P>\v,!!vfodjogbpjsenb!Sgfmwpjbtut!jmnjFhmibuuNpbuq!J<o*u*fsojtEjxufzj<w!/\vz$sfuofenjpgf\vh!!\v-$mfbonesjpgo\v/!z\vs$ujfgnepffgh!)VuTpFe`)FtNcJbT!T.J!W1F/N2B!Q>\vn!jvso!jugbppsmng!!t\vb?nzqempfcs/3tEg!/fonpjntntpjDwtfuNibhqj<m!=\v!$ffeovemjdgo\vj!$\v\v$!j\vo?dzmevpecf/!t=gc/tSeCgQtt?u\vi!h\vj$mj=o!dfmevvemfd!o=jo$p\vs!n\vbgmjNeboqf/$g\vt!/<icfhbse/?s\vp!m\vp$Djfgwejftgt!jVnTfF!`>S+P!VfHdIoObFjTeTbNSBfQw\vj!tvtojjngFpmsbnu!ptub!n<q{mzfys/3*Es!psmppvDhfiwojfttttjNnbfq)<s!b\vf$ofjoMepjUgC\vH!S\vt$!j>g!ecfhgs!/VsTpFm`pNDFfUwBjMtOtFjTnTfN!B<Q*\vw!Vvwo!j-gqpbsNnf!wtjbtntqjmnffs)3EE3!fnsfvuubymfouf!t>t!Nsbpqm<p!D\vf$wfjotetjjgn\vf!!w5bdsfzwj!o\vhQ!BwNfFdW4J!TwTOJpNsFn`bFmT<V!!wgbfsezgjjo$h\v!!w\vfgdj4e!owfN$w\vQ!p<t*joupjjpuod<f!s\vj$Ejfgd!begf!g-jOoqfben)!V-TmFb`nFsOpWoN!B-Qo*p!j}u}j!tNpBQYx`fCjPWYw`!D.M)JcQsQBF3Sm!b?n!s1p!O}c}s!veufsgfjqo!f>e!)mVbTnFs`pUoS!B<OfTmNbJdTTTmJbPnOs*p\vo!!w>b+s!zzjyo/hO!qwbfnd!4<!1w/X2p!s.m!e1Q/p3t!j+u!j{pzoy</!*\vw$Vfwo!e-jqgb\vN!m\vb$njsgp!oe)fEg3jfosfveu)yDfMuJ!Q>`!EOJqSbFnD!U4JdPfOw*!\v\v!QwBbNsMzBjNoShP!Ow`fFdT4V!!wgMfpedgbjm$Q\vp!t<joupjjpuoj<t!p\vQ$wfNowe.j!g>\v!!o\vp$jjuojdtmpvQexff!j=Wdwm!j4qdEfjws!f<dmubjnpsop/og!t>/!imfbbnes?p\vO!z\vs$ujfondpmfvhe!f4!d=fdwm!j<qocppjyu/dgfts/jiEffbdeb?g\v!!+\v!$mjbondsmpvoe!f>!!=mgbpnhs/pgot!/*iffdbbeG?m\vm!v\vd$aj)o!dgmjv!e<f*!m=btnisbpeOpwx)Nfb{qj/mgbtn/sipfob!e>?!\vm!b\vn$sjpood!m4vdeffw!!=<g1m/p2x!N.b!q;/!g1t//2i!f@b!eh?o\vj!d\vb$GjuoodpmsvGe`fm!h=!f>o!doppejjuodhf?s\vj!E\vf$djbogd!muvbepfm!g=!d\vvgcjfeFoofw$S\vf!g\vmgfjdeuojfp$o\vG!T<?c\v/!t\vt$fjoomdbmuvfeNfm!f=yffouw!n>b+q!QsipzutdjbdGbtmt/fgotm/biuffbne!?\v\v*!C\v`$MjFoOdOmBvIeDf`!Q=BmNjThTiFuOtMDBpUnFnNp)oe/fgotj/giffeb!eg?j\vm!f\v$$\vj!o<dhm/vtetff!o=mmbjuhfiNumtfQyCfSu/!g>t+/!isfpbued?b\vG!t\vt$fjoomdbmuvfenf!!\v=*uHs`bMoFtOnOjBtItDj`pQoB/NgTtT/FiOfMbBeU?F\vN!)\ve$fjoojdgmfvee!fg!j=mufp$o\vf!N<bsq/qtjtofho/mgbtu/fiNfmbfey?f\vu!!\v>$+j!osdpmuvdebfG!t=tpfjoum/bgutf/ni!f\vb*eS?`\vM!FwOpOjBeI!Dn`bQjBoN)T*T!F|O!M\vB$UjFoNd)mevfeofj!g=fdem!jgqjE$j\vs!f<d*uwjVpwo!/-gqtb/Nctptefzo?m\vb!u\vf$nj)oEd3mfvsevfu!y=fdum!j>q!ctptyf/ogmtb/ucfpNemzf?y\vf!uw!f5dd5f!we!j\vgQgBvNtTfTDFpOmMpBsU!F>N!`wFfTdV5!)gefjegggjv$t\vf!-<!tptqfbodmjbuuzf*n<!!>S!fsgpmufddbuGftetMfjohmibuu!fsnf!gumbfpdmugf!e\vMgjjheiouf!$>\v!!S\vfggjmefodfu$f\ve!M<jch/itut)fwofidh4v)p1S/m1f*y-f!uw!f>d+4!)s1p/u1d*b-G!twtffdo4i)h1v/p1s*!-\v!*wCf`dM4F)O1O/B1I*D*`<Q!BwNfTdT4F!OuIpHuVbPmSF)nejftotjjgwffeS!bgejjmbfo$d\vf!!<>h!/ftntjftotijhwvfp<S!m\vf$yjfgue!f>g+!!VsTpFu`dNbBGQt\vt!fwofidh5v!pusf!y\vf*mHD`pMmFpOsO!B>I!Du`fQyBuNvTsTfF3OEI)HnVbPqS-)!ewfVowj*g<f!eu!fgyjfmmfD$p\vm!p<ss!/>t!ttfSoHiChUvppMSjmoffybfsu)!u>f+y!fsmpDupdmbpGst*t<f!oeijhgvgpvst!f\vD*pSm`pMsF!O+O>B!IuDf`yQfBmNDTpTmFpOsI<H!V\vP$Sf)oeefjogj\vg!f\ve$!jggje$f\vg!!<V*TwFV`wB!M-QqIbBNNtBtQf\vo!i\vh$vjpgs!)eEf3gfjsovfuey)fBuM!Q>I!BtNtBfQo`iDhIvBpOSOmFfMy`fBu*!\v5!defjwg!g\vvQtBfNDTpTmFpOsI/HbV!P+S>`!FuTfVy!ugvfsefg3jE$)\vb!m<qtitbfNobiqh-v!pwsV!w>*!/sbp<u!d\vb$Gftmtjfgo!iehfvgpjso!fueb)pBmMgQ!I<BeNsBbQd`tDjIeB!O*OuFtMf`USb*i\vq!mebj!g=g!vbt/fsDppmmppDsf/tbv!g+g>j!eu)f!ygujv!s\vfg3jEe)obfm$q\vi!b\vNgbjqe-o!fw$V\vw!*</cs/<*!w\vV$wf!m-jqgb!Nebfigqjmobf)eE)3BfMsQvIuByNfBuQ!`>D+I!BbO/OsFpMm`pHD*f\vt!vegjggjgev!t\vf*DCp`mMpFsO/ObB!I+D>`!QuBfNyBuIvQsMfB3)Ee)fbomjqgifbeN!bgqj-m!fw$V\vw!*</h"],yS.phong=["?0t0w!/Imjbodujtt;z!ihqm=t!mf4e-v!mmdjohji$u\v\v!!\v\vH0O0P!I$QQ!SfFoGjJgYf\ve!$\v","~0!0<!eIJj!o>u!ts;p!mhpmDthmb4s-G!`mmjhh!i\vu?-z!eppjcu/\vt!g\v/0u0j!p$=Q!SfFeGvJmYd\vo!j\v$$\ve!f\vg?jzoefp!cQ/ItPgO/Hh\vp!g\v=$!jfoedvmmvdeofj!$=\vd!p\vn?nzpeop?c\v/!t\vg$/jqobdNmxvpemfg!==!qfbedvlmjdoohj?$\v\v!!\v<$*jeoJd)mmvfeyff!U=uvvcqputv/PipfUbseb?f\vo!j\vm$!j>g!oeeJf!g\v!?VzTeFp`cV/CtPg\v/!hvoojjqgqpbsNnf!owpfud=4!!feejvgmgdvotjf$<\v!!v\vo?jzgeppscn/!twgf/du4v!qfunvjpt=t!jfwefv<m!dvoojj$g\vp!s\vn?!zwefpdc4/!ttgq/fhdovpmibQsq<b!nvwoojfg=p!sfne!vgmmdpobju$!\vt!i<jfodjoobfjtetb<S!fvwojjtgtpjsnnF!mgbmuppbuu!!,p!qsbbdmjvudzf<q!Tvuodjfgspjseno!jg/mupibhuj!MbemfquidbfUmfgtfus<!!,v!osjbgmpvsdnf!qwTfudd4f!svjDeb/nufishbjQMpetfjuudjfpmog<f!sv!o,j!gfptsvng!gnjbEuu5d!fvsWjjefoxjN/buuishjjyM<e!f\vu$dffomegjfgs\v!!,v!ofjtgvpgsgnj!Ecupdpfms!jues/buoithqjbMseffouud<f!mvgofjsg!p>s!nu!ichpjpMmh!odjvpmhmuGvbpd!f4<d!f\vw$!j\vg?ezfegp!cV/TtFg`/VqWb\vN!pwbb=s!zfjeovhm!dwofjd$3\v!!w\vV?wz<e!p\vc$/jtgge/fogp!nVnWp`DDtMuJiQh\vj!mw=b!sfzejvomhd!ogjm$p\vb!u\v!?wzVewpMcp/dtbgm/Vh<o!p\vi$Qftoueijhgj\vm!=\v!$ffeovemjdgo\vj!$\v\v$!j\vgg!jeefogfj$o\vf!e<)cVhTsF/`sMpJmHpIDUfNwBjQt*t!j}n}f!!e>f+g!jfodfoeb)jVeTbFS`fBwPjNtBtQj*n!F}m}b!uepfug!j<o{fzey)/V*TsFp`mVpWD3f*w\vj!twtbjsnzfj)oshb!fwofjdM3p!UwCVHwS3t<!!>\v!$cfhose/jsgp\vm!p\vD$fjwgjetftgj!nVfT!F<`*NwBVQw\v!!-vqobjNgfpwsjnt!ttjbnnfq)mEf3sf3sEv!unybfqu<!!>\v!$sfpomepjDgf\vw!j\vt$tjjgneff!g5!dVfTwF!`\vBQMBQNIFBWNJBTQT\vJ!NvFo`jFgTpVs!ng!ftebgnjq$m\vf!s\v3gEj!ebomfq$i\vb!N<b*qo<p!j\vu$dffosejjEgf\vd!b\vg$!j-gOeqfbgn!!V-TmFb`nBsPpNoB!Q-\vo!pvjoujjgtppsQnx!ftjbWnwq!m.f)sc3sEB!3bmpbNnbsqp<O!c\vs$vjugsofeqf!g>!!VmTbFn`sVpCoP!\v<!fvmobjdgTpmsbnn!sgpmop!b>u+!!bzpyN/bOqqJbonu!f<o1t/j2u!z.<!!1\v/$3f!o+e!j{gz\vy!/\v*$wfVowe!j-gq\vb!N\vm$bjngsepfog)!EV3TfFs`vMuJyHfIuU!N>B!QO\vq!bvno!j4gdpfswn!!\vtQbBnNqMmBfNsS3PEO!`mFjThVi!ugNfbeqg<j!$\v\v$!j<goopejfugj!tVpTQFw`NVwC.P!\v>!!voopjjgupjstnp!QgxmfpjbWuw!!m4jdhfiwu!N<bmqbJnosupfoo!t>j!umzb<n!s\vp$Ofzoseujfgn\vp!f\vh$!f4odefjwg!\v<!o\vp$jjugdeffsgj!EVfTdFb`gF!N+J!TmTbJnWsFpNoB!Q>\v!!mvbonjsgppos!n*!ftdbbnGqmmmfvsd3aE)!!fgnjj!t<t*jmwbfnNsbpqO<w!)\vf${fjomebjngs\vp!o\v!$>j!omdbmnvsepfo!!=4cdtfewg!t<?1\v/!2\v!$.j!o;d!m1v/e2f!!@=!ohposjndbbmGNuboqp/sgGt`/mihf!b>e!?o\vp!jwubdsfzsjjoEhf!dwbfgd!4u!bwpOmpgs!n\vbgmj<e!owfb$s\vz!j<o1h/!2w!f>d!4i!uwhNowfQsputTjsubjmpvod<f!q\vt$!e\vffgtjmoff$!\vF!O<WsN/BsQb`mNvPdEfFq`TSmFfGyMfFuD!U>J!PiOu\vh!o\vf$sjugT!sebfmgvjdoffqet)!V<T*Fw`VFwO!W-NqBbQN*s!b}m}v!dNfBqYt`)CEP3Yf`sDvMuJyQfQuF!S>!!?s!b1m\vv!dwfbqsTzmjfoyhf!uw!f5dd4f!ww!X\vpQsBmNeSQBpMtVjDuFjQpTo`<F!T\vV$!fgofeejggj\v$!\v\v!$<jigu!heoffgsjuoTfseb)mVvTdFf`qFtO!WuNbBpQm*g\v!!<veosjbgdptsjne!!g*muptbfuU!bfioqwmNbb!q=J!obu/fsoptmjpuDzf<t!vvgogjjgep)s!ng!jg!m\vpgbjue!ogfm$j\vq!F\vogwjNeboqf<$!\v\v!$<jcg/e*fwgV!wF!O-WqNbBNQb`iUqZmQbF)`ED3VfCsFv\vu!yvfouj!g>p+s!nb!/tsbpnmqpmDffstDvvgcgfj!ef!o\vw*nCb`qM<F!O\vO$BfImDt`fQ\vB!NvBoIjQgMpBs)ne!ftobjngqfmef!sg3jEm!ff$o\vw!n<bhq/<*!w\vV$wf!o-eqjbgN\vb!i\vq$mjbg)oEe3ffgs!vVuTyFf`uV!C>P+\v!!bv/osjpgmppsDnf!tgvmgpgbjue!!s\vf*gHs`bMdFuOjOpBoISDb`uQjBpN<B!I\vQ$MfBo)eejfgo\vj!g\vf$ef!ogejjmgf\v$!\v\v!$<jsg/!*ewfVgwj!o-fqeb)NDbMiJqQm`bE)JES3FfDsUvJuPyOf*u\v!!>w+b!sbz/jsophm!pwDffdt4v!gwgMjped!b\vm*QSp`tMjFuOjOpBoI<D!`\vQ$BfNoBeIjQgM\vB!)\ve$fjoojdgmfvee!fg!j=mdfm$j\vq!E<jbs/f*dwuVjwp!o-/qgbtN/biifqbmeb?)\vE!3\vf$sjvoudymfvue!f>!+=!dbm/jsqpcmppyD/fgttv/gigfjbee!?\v\v*!B\v`$MjFoOdOmBvIeDf`!Q=BgNpBhI/QgMtB/)ieffboej?g\vf!e\v!$gjjo$d\vm!v\veQfB!N=BtIiQbMeBp`xFNTbVq!/ggfte/gijf$b\ve!?\v\vg!j\ve$ojfo$d\vm!v<esfp!m=pgDmmpfxyNfbuq!/>g+t!/sipfmbpeD?f\vt!v\vg$gjjoed!m<v*esfp!m=pfDomdfpyefjuo)hs?b\vf!o\vj$MjpoUdCmHvSetf!!>=!msjphmipuDtmDfpynfnup!o</*gwtV/wi!f-bqeb?n\v)!E\v3$fjsovdumyvfeuf!!>=!msjphmipuDtmQfiypfouh!/5gdtf/wi!f\vbQeB?N\v`!F\vT$Vj!ggeffegg!jV$T\vF!`<TfQwFjDtVtMjBnSfN!B>Q!\vf!dvoobjjgepbsSnf!wtjbtntqjmnfFsm3bEu!ptuq!f4ddvfmwb!s<N*b*q1</!1\v)$4fdofewj!g-\v*!1\v/$1j)o4ddmfvwe!f-!*=1d/v1c)f4FdofwwS!f-g*m1f/d1u)j4pdofGwT)?u\vi!h\vj$Mjeofdumdvfemfg!f=Su!p>o!fuNibhqjqMjeofhu/dgftm/giffsb!eu?i\vh!j\vM$ejfouddmfvmegff!S=!p<j*uz/ugjtd/biqfpb!e-?f\vt!vwgpgjjee!)n5bdjfow)!*>!!|s!p\vm$pjDofdtmvvgegfj!e=!d5mdjfqwE!j\vs?fzdeupjcp/ot/gg/ty/pccpqejzm?d\v=!!\vf$ejvomd"],yS.litePhong=["~0!0<!y$fQuSsFfGwJ!Y+\v!!yvjosjugbpNsund!fckpppsmQ!vv!U>f!youpvjsufj<t!pvQo`jmghp!s~n!!<n*beuf4n!svpVgwtNobbussuj!y+<!!yvjosjugbpNsmnf!enpbNuv5!!+v!QnssppkgftdoubNsbUumsbjdyp<M!qvjomjDgvp)s4nd!fnwb!u>5!!ovpWjjufjxtNpbQumsbjdyp<M!wv!o|j!gfptsmnf!!n~b!u<5*!ovpNjpuejftmpNQbbu)s4jdyf<w!!v>o!jogppjsunj!tnpbQum5b!dvpNMpwe!f|m!W*j2f1x1N1b/u1s!j=y!<x!/v^o4j]gnpsspng!tnobbus5U!mvbOdppsMnqbjmmNDbvu)s!jgyj<!!\vb?uzuespjcc/vtuwf/!qwbfNdx4p!mbgO=p!sfnebvmm<d!obju$u\vs!j\vc?vzuefp!cw/ftdw4/!qbbQNpxtpjeubjipto=<!!fbeuvumsdjocjv$u\vf!!\vwgfjde3o!fb$V\vw!<~!!\v<$*j*g1e/f2g!!-VwWV`bD)M4JdQf\vw!!w+b!syzjjsouhb!NwwfVdv4)!3wdVfww<!!>\v!$wfVmwt!f|\v!!*wfbssvzujyofhU!vw)f!dg3j!!w\vVfwt<m!f\v$$\vf!o<e*jyg/\vw!V\vb$!e-f*g*j1o/f2!!V-TwFV`bJ)O4TdUfBwO!D+J!OyHj\vs!u\vb$NewfVgvj)o3fd!fVwT)F4`dJfOwT!U>B!OwDVJwO!H\v`QMJFMHDB`DWZV\v!!g\vf$ejgojd$m\vv!e<f*!e=fjnostpugbtoodbjsouh!/+w!ty/jisfubbeN?m\vf!ewpbNsvz)j4odhf!ww!f>d!4o!pwjOupjstnpbQme<m!swpbXswz!j<o*hy!fwufsdf4w!)w4NdwfQwp!t>j!uojppjou<j!twpbQswzNjwo!h<!ewffnds4p!gwtXopbssmue!Q+p!tyjjusjupboN<x!fvjoWjmgfpespnN!vn!b>u!5y!fvuDsmfjwq!M5pddfbwm!U\vs?bzoetpgcp/stnw</!hwobjsdzojbouht!owjf=d!4f!ewvMmpddobjm$Q\vp!t<j*umjbpnos<p!O\vb$)j4oddfmwv!e>f!!m=btnisbpeOpuxdNfbkqc/pw!t4/diffwb!e<?*\v1!/\v2$!j-oodpmjvuejft!p=Qgbm)p5xdNfbwq!/>w!te/finfsbpeg?t\vo!bwspuj!e5!dnfbwj!o|)!*","~0!0<!eiJj!o>u!ts;p!mppjDuh-b!shGm`tmmh4!\v\v!?\vz0e0p!c$/QtSgF/GuJjYp\v=!!vfoejvgmpdsonj!$g\vm!p<b1u/!2b!m;q!izbuUjfdtbuq<p!!v+o!jxg/pesJn!!@c!pupomf!svbtqftMojbhsiuu!j>o!hx</!evJo!j\vg?pzsenp!cc/ptpgm/!hupsgb=o!tfqebvsmfdoouj<$!\vv!o<jfgwpjstnt!jcnpfp!m>!,v!Ucfhysu/vesJf!<~!!\v\v$?jzgeepfcg/!tVgW/`hDoMpJiQQ\vf!uwjbMstzujiohhj!mw=f!df4e!vwmVdwo<j!$\v\v$!f\vm?tzfe\vp!cw/btsgz/jqobhN!xwpfmdg3=!!wfVewv<m!d\vo$jf$o\ve!j|g!\v*!hvoojjugiphsjnM!fttbvn)q!mgfjs!3~E!!<nsbpqm<p!D\vw$ve!f>g+j!oefJ!!D|M!J*Qf`sEvJuSyFfDUUvJ)P!Og\vj!!\v<$*j1o/d2m!v-efft!v=gdgmjjeq)E5jdsffwd!u>j!peoJ/!g\vtg/jiefobfe$?\v\v!!~v!o<jOg.p!s>n!!Og!m|p*blud!bpCqtbjd)j!ugzj<!!<vfovjsgup!s;n!!fwtfmdb4g!!e@j!ghgovjtdfb<G!uvoopjsgGp`smnh!!w>f!dl4d!bfCntjjt!tmjpwpfc<!!\vwfbtsmzfj$o\vh!!~w!f<df4v!swuO!p>s!nlbdmb<C!twjb!s<zOj.o!h>!!wOf!d|4!!*w1N/w1Q!p=t!j*uOj!p-oF<)!uwpbes)zgjjo!h<!fwtfmdb4g!!w>M!plddbbmCQtpjt!jmupjppco!<\v!TvMoBjNgSpPsOn`!HnObJuT5V!`vFWDjBfGxLNDbBuCs`jZyD<B!HvFoMj!ggpfseng!jw$f\vd!4<!Fv.D!b>n!fMs!b4Qdpftwj!u<j*poop<j!uwjbtspzQjwoNhw!.w)ffd{4j!mwbXnpsspmoe!Q>p!tFj!u4jdpfow<!!<\v*$mvbonesfpgO!wF)OfW{NjBmQb`nSsPpUoB!U>F!\vO!!\v4$djfowd!m<veeJf!!5=dmfjwh!i\vu?tzMejpucf/Qtigp/ofhw/jgutd/fimffbTen?p\vp!m\vc$=j!ofdemvvmedfo!j=$q\vb!d\vl?jzoehp?c\v/!t\vg$/jyopdcmqvjemfd!==!dfmejvqmcdpoyj/$g\vt!/\vi?fzbeep?c\v/!t\vg$/joopdjmuvdeffs!j=Egqpjhm/dg=t!/fiefvbmed?o\vj!$\v\v$!j~o!d~m!v~e!f<!e=stbidbtejpex!N|b!q*/ugttf/Uibfibqem?b\v!!>\v=$!jbo/dsmpvmepfD!w=vg)m!pgxjN!b|q!/fgttm/fi!f~b!e~?!\v<!e\vs$bjdotdjmev!e|f!!*=1c/m1p!p>n>T!fbm/fsdpumjpwDfw/vg)t!/gijf!b|e!?*\vu!o\vf$sjboqdtmovbesfu!)=!pgjju!/\vggtj/eioffb$e\v?!\v<!*wwpVjwe!!-nqbbjno))E*3!f|s!vwufydf5u!!v>w!DsppmmppsD<w!vj!g\v!f)tvmUff$y\vu!v<s*fz*y!/|w!V\vw$!j-gqebfng)!EV3Wf`sDvMuJyQf\vu!!v>w!Dsppm"],yS.hueSaturation=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*gxp/ssnp!mtpbdn!q-m*fmst3iE)!cjhnsb3hmft<i!)w5bdsfzwj!o>h!!swpfmdp3D!hwbVswG<`!m\vh$!e<f*g!j*offh!oNbBSYt`tSfBoOuHiFh!j8m\v!!-\v^$1e]ftgtjfoofu!iShBjOmH!F-`{B/MmMt!i1)\vt!tvfoojugiphsjnm!`gqmbpnb!u-!*ifvhfo]bNSBoYp`jSuBbOsHvFu^b<t!!v-o^j1g]pospnj!ugbmspvbuub!tt!b-uzv/smbtuij)poop]jNuBbYs`vSuBbOtH`Fq^b<n!!v-o*jfghposbnS!fgvmip!b-u^!1m]jfhviiu!o-fyt/tm]tNiB)Yf`vSiB`OqHbFn^!<)!4gdmfpwb!u>!!nmbtqi`!i~v!f~)!g<mlpbbfus!cj!o<W^bsmfvufo-v!pgdm`pfbvui!]itvtffBomumi-h!jgmm!p>b!uf!hiovbfSStbtofhofu*i!h|j!mg!m<p^bsuf!uwobvmpvdf`!f>v!ij]ooWpbjmuvbfs!v,u!b)ti!v>f!Bfmhmo!b,S!oipvjfuSbbsovhufb*t!!0<!^3s/f1u<o!vjpgd!`)fwvbim]vffv!i=!!>1!/f1h*o!bsSffuvvis!o|!!w*bfmhvofb!s,!!>2>/!1s<f!ufomvtpfd!`jfgv!i))w!bgmjv!f|!!?*!,2,/s1f*u!osvfpudv`sfov!iw!b<mFvHfO!B.S!`2Y/B1N<!!=f!mstffu!osvfpudv`sfov!iw!b<m1v!f><!!s~f!ugomvppbdu`!fnvbiq!`utobju)v!ssbpugj!p<o2)!g,m!pfbhuo!bjso!W>b!mfvhfo-b!sg!m<p1b!u>!!tfbhuovbssb!u*j7p!o>B?m!mf-h!ogbmsp)b!ug!jt!b~u!v~s!b<uljbpfosScb!o<hsff*u!o|v!pgdm`pfbvui!!w>b!mfvhfo!b>s!!j|o!W*b6m/v1f!!,+!!*)s2f/u1o!v,p!dt`bfuvvis)buubjppmogB!m=m!!i,)!!tgbju!v|s!b*u,j,psofSuboovhpfd*`<f!vsif!u<vFsHoO!BdSm`bYnBqN)!w=b!msvffu-o!v1p/d1`-f!v2i/!1<*1<!!>~!!sgfmupobvup!dn`bfqv`im!juhoiju)o!fstptg)!g<mfphboub!SjtotWfbomuvifh-j!mg!m-pfbhuo!bmSjohpijuuobfstvtuBbmtm!--!fghmopbbSuf!vmij!huibupomfgt!t<S1b!o>h!ff*h!o|b!sg!mupobju!!<we!m>p!imtjfhsiiuuo`fftvtiB!mumb!p,m!gm!j<h1i/u7o!f+t!tyS/bmothif!<>!!jig!!u)bwp!m=g!!1</*1{*z!ys/fsupvmspod!)jmotWib3mcvhfs!!+>!!)mwt!i,!!42d/f1w*!<<!*fwmVtwf!!-sffhubvnsjo)!Ej3ofWsbvmuvyff!u,!!>)!ws!p+m!p)d2!/51d!f.w!!j|o!W*b)movjfb*n*!<e!j~p!wg!m~p!b<u*!mi!v-ft3!s-hic))4gdmfpwb!uo!sgv2u-f!sg!m~p!b<u1!/g73!-0!!gim!p>b!ui!!i~v!f<*1!/|7!!j>g,!!)ii!v|f!!*=1!/11/!1=*!!ii)v!fg!j,!>~!!2</b1u<m!ffEmdt!f0!!j*gh!!).i!vsf)!!?,!!21//15*!!>i!vif!!|.!>f!t2m/f1!<~!!g<mbpubmuf!Esdf!t0<!!*jsg!!.)!)c7)/!1,!!+1!/i3v!f>*!!i=!!|2!/*1y*b!Nsdf!t>!>>!!hg)2!!g,j!!)fgt3m!f.!!~g!2<*b!u+m!f7E/d1!!0+!!*icv!f.<!!hf)m!t>f!!ij!g|!!)*)y3b/N1d!!+>!>i!vsf)*!!g=j!!2</*1**o!jsNfdt!!,>!!ygb3N<d!)f!m.t!f1!/j3g)!!)0)!4b/u1m!f+E!di!v;f!**!o=j!N3d/!1,*!!ysbfNtd!)>!!0g!2b!u,m!f)Egd3!!@.!!6g/21*!!=+!!m)!)>3!/t1!!<0o!j4N/d1!*.!!.y!biNvdf!*>!!+b!u7m/f1E<d!!fumbtpfm!gs!f|t!!*>o!jgN2d<!!?s!fyubvNsdo)!!sgfjt!<<!1~/!3w!f0d!4*!oijtNmd3!s,h!cy)bwNfdd)4!!>i!tmm!*<!*|*!cw!f-dh4)!ysbhnc!<-!sj)gy!b)ni!t>m!/yzb!N>d>!!u1b/p1m*g!!|<!*s*hcc!!->h!)wofjdn4!)-ist)mo/j{n*!<>!!~o!jfNmdt!fu!b|p!mggm!p<bcu/!dg!3><!!cj!gu!b)pimtgm!/<{h!/=d!!1>/!6h*!!ugb3p!m>g!!i<tsm//d{!!>+!!s)!2u/b1p!m,g!!i<t1m//1z!*><!!mf!mutbfp!mgg3!!<>1!/i1t!m>/!{t!!,u!biptmmg/!z<!1./!2i.t!m>/!zi!!+u!biptmmg/!{|<!!*gdm!p4bduf!wg)2m!t>i!33c/h1s!!+4!diftwm!/~{!!<.c!hgs3!<o!ssvhucf/ss!!~>!!<i*v*f13/s4h0c1)/g22)-!!.g!3y-/!mittim!/-y3!g,!!-)22g/)1c0h4s/31f*v*i<!!>s!hcc//chh!s>!!<i*vyf/3msthic!)-g32g-!"],yS.blitScreen=["?$TjWoodfmfvsedfT!u=jcm","~v!o\vjggjpesonf!$t\vb!n<q*mcfhss3/Es!pjmnpbDhhfb<s!Gw`bmshz)jhoohj!swffidu3j!ew!V>w!<c!h\vs$/jsgpemfpgD!hVbTsFG``MmJhO!F\vBHSO\vJ!S\vF$IjUoJdEm!vgeffe!g=jf$o\vd!p\vegjjoeho?f\v$!\v\v!$<f*oweVjwg!\v-!f\vh$bjngje)fEg3!fEsJvUuIyFfSuJ!O>H!\vs!p\vm$pjDohdbmsvGe`fm!h=!d\vpfntnmpfo$?\v\v!!<w*f*dw4V!we!j-ufihfbsnjjo)hE)3wffsdv4u!ydfpum)pCsH*S!t|p!Ugsmbpfbouj!Mh!s>j!es`pqmpptDjhubjspGo`!m>h!!s\vbSoBeF)OhJmM``GFsTbVh!Dgpfpesgej/$y\vz!*|<!!*w)fodj4b!ne!jeujipfws!`\vtgijjegouf`$S\vH!C~!!><!CwHfSd`4u)g1j/i3t6`!s0f!i3u6j6e/!1,-!!s.p1m/p3d6!!o0s!v3u6f6s/!1<-*!o1p/j3u6j!t0p!q3`6e6j/s1h*!<-!CeHjSu`iufgsj`itti`jsgfui`uSjHeC!!+>!!1n/j3y.)!3-/C1H!S+`!uegjjuiitf`s"],yS.pick=["~0!0<!e$fQnSsFpGgJtYo\vb!svuo!j+g!pysjns!ucbpNpxmf!jvWUmffyeupvNsvf!<+!!vyojjsgupbsNnu!dnfbkup4s!QvvV!w>N!boupsjjuyj<t!pvQo`jmghp!s~n!!<n*beuf5n!svpQgstpokbfsduu!N+b!uysjjsyu<b!NvmofjegppNsvn!!+n!bnus5p!gvtNopbesfUmmNbbdupsMjqyj<m!Dvvo)j4gdpfswn!!>n!boup5j!uvjNtppeQfmmbWdjpfMxwN!b|u!sfjtym<f!!b~u!u<s*jocpvjuufj!twpfQdb4)!4bdOfpws!n>b!mo<p!jbuujutspjQcmvbudfp!Mwwf!d|4!!*b2Q1p1t1j/u1j!p=o!<x!/b^u4u]snjscpvgutfo!bwsfUdm3b!dbpVMwq<j!m\vD$vj)g!egfjg!!\vCgBjUeDoIfD$P\vM!P~S!\v<!svpomjpgDpisdnu!bcCpbp!m>!!vsCpbmupdDiiDdpumbpCsw<!!|b!u*usspjmcpvDuifd!uwbfCdv5)!!bgCjb!u\vdSiPDMpPmDpIsD<U!BwCb!sgzfjeoghj!$w\vf!d\v5g!jweCobfu$d\vi!D~p!m<p*s*<1!/\v2$!f-oweVjbg)\v4!d\vf$wj!g+e!fygj!sVuWb`NDwMVJvQ)\v3!dwfbws!z>j!owhV!ww!f|d!4*!fwsVvwu<y!f\vU$vf)m!tgfj\v!!\vwfbtsmzfj$o\vh!!<w*fyd/3w!VwbV!w-<*!*\v1$/f2o!e-jwgV\vb!)\v4$deffwg!j+o!fy!jVsTuFb`NJwOVTvU)B3OdDfJwO)H4`dMfFwH!B>D!Zw\vV!w\v!$\veQfJgMjDo`fW!VV!TgFf`eJgOjT$U\vB!O\vDgJjOeHo`fG$M\vB!U<`*TeIfBnEsFpEg\vt!o\vb$sjuo!d+m!vyejfs!u=bjNomtfuebpoNdvj)o4hd/fwwt!/>i!fobpej?u\vj!twpbQsezmjsophX!ww!f\vd14!!>waX!pSsFmQeQQJpMtDj`uYjPpCo`<Y!BvNo!jggjp$s\vn!!\vn?bzue5p!cv/Dtmwj/qhMopjddbombUustboojt=g!pfsenv<m!dwobjs$z\vj!o~h!!\vw?fzde4p!cw/Mtpwd/bhmoQjpotojjuljtp=o!<f!e\vv$medfogjj$o\vf!!|V!T*Fh`oTjLoJoOjOlJTOfHt\vV!v\v)$!egfjg!j<o*fm!bCnPsOpFO`bU)F4YdUfVwS!F>\v!!mvbonjsgppOsund!fckpcppm!!4vdVftwf!T<l*j1o/o2j!o-ho<p!j\vu$jjtopdQmbv)e5fd!f=wt!l>j!oeofjnoshp/gwtto/bisfub!e5?d\vf!ww!p|j!e*!enjbpjwo)","~0!0~!!$<QeSsFbGdJtYj\ve!!v|o!j*g1p/s1n!!>c>p!pbm/!svpEmjptDdhbbsseGT`fmmhf)d!ugbjc!m\vfg<j!evoofj$g\vp!s<ns!pwmfpdD5f!tvsGfjwyfQSjlddljSQfywjfGsvt!f>D!psmppmsp<D!hvbosjGg`pmshn!!\vgfmtpmbfu$!\vv!B~m!q<isbpUmfptDuf<t!svfowjfgSplsdnj!QcypjpGmv!!v>U!ssbpomtpqDbhsbfsoGu`<m!hv!o|j!gfptsmnf!!c~p!p<ms!pvmUpfDyiudvusbfC<w!!\v>$!jsgpemfpgD!hVbWs`GD`MmJhQ!\v|!!w*bsspzmjpoDhi!dwufbdC4v!)w!Vgwj<!!\v\vS$PfMmPtDfI\vD!UwBbCs!zgjfoehg!jw$f\vd!3\v!?wzVewp<c!/\vt$gf/oyepjcgq\vj!mvdo=j!gfpesvnm!dtobjn$q\vm!f\vs?3zEe!pvcT/btngq/mofpsj<u!d\vf$sejfEgqjjomfd!=D!MfJeQv`mEdJoSjF$D\vU!J~P!O~\v!!~\v!$<jeosdbmdvtejfe!!=|d!m*juqtEfjUsbfidqumjBpvo!/>g=t!/bi/fsbpem?p\vD!wwvb)s!zgjjo!h|!!wfftdm4f!!w~M!p~d!b<meQspbtdjtujjep!o|<!!*w1b/s1z!j>o>h!!bw/fsdp4m!pwDXwpvs)m!egQjp!t|j!u*jupoof<s!b\vq$tjogbesfUgv!)C!BgUjD!I\vDgPjMePoSf\v$!\vv!o<j*gwpVswn!!-cspfpmmq!nvbCTbvu)dEi3Dfpsmvpusy<f!uw!b>s!zsjpomhp!Dwwfvd!5\v!fwtCmbfu$d\vi!D<p*mzpys/<w!V\vw$!f-osefjmgq\vn!b\vT$vj)oEd3mfvsevfu!y=fdum!j>q!csppym/pgDtw/vi!f\vbQeJ?M\vD!`wWpVj!eg!fnebgjjo$)\v*!!||!!*wffmdc5b!uvdwfDmpfmTpess<b!djtgj!E)vvaU!f%y%u!vfs"],yS.envmapDynamicCompose=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*g1p/s2n!!-tcbhnsq/m*fbsi3qEm!bu!f-ycuhvss/f32s<p!mvpodj!g-pcshns!/t2bsnpqmmpfds)3yEj!nu)f5ydufvws!f>3!<s!pvmopjDghpbssnG!`gmmhp!b<ub!/p3gsgptmfpud<!!>w!bbsizqjmobh!!uwbfpdm3g!!w<V*w*<w!V\vw$!j-o3dfmsvveufy!f=uf)oEd3pfesjvouhy?f\vu!)wspbjfeo!jnMbpjUoC)H*S!t|!!>w!f3ds5p!mdppdm!p5sd2f!w>!!<u*f*yzu/vwsVfw3!E-)uufftygugvps!f.2!-y!/wwfVdw3)"],yS.blurH=["?$TjWoodfmfvsedfT!u=jcm","~v!o<jngvpts!n>!!tsbpnmqpmDfhsb3sEG!`jmnhb!h<f2<6!1w/b1s!z+j!o*h*!zw/fwdV3w!!w-Vfwv<m!bvwo!j+g!p1s/n5!!g,m!pyb/uw!Vwwb)m3vdff<w!!w-pfjheb!nnjb)jEo3)f*s!v|u!ywffud!5>!,t!vnnv!t>!!<w9f2d:51)/11/!1+*!<*!*tzv/nw!V,w>!!-uffvymubvws!f+3!E1)/j4n!b,h!fy-/!wwVfwd)33)dwfVww!/-yf!h.b!n5j/)1E!3+f!swvbumyvffu-!!>w,V!wn/vzt*!*<!6+5!313/21/612!<+!!t*v*nz!/,w>V!wu!f-yfuvvmsbfw3!E+)!j1n/b3h!f,-!!yw/fwdV3w))w3Vdwf/wy!!-.f!h4b/n1j!)+E!3wfbsmvvufy-f!uw!V>w,/!zn*v*t!!+<!214/612:/219!<+!!t*v*nz!/,w>V!wu!f-yfuvvmsbfw3!E+)!j1n/b2h!f,-!!yw/fwdV3w))w3Vdwf/wy!!-.f!h3b/n1j!)+E!3wfbsmvvufy-f!uw!V>w,/!zn*v*t!!+<!414/7223/315!6+<!!*t*vzn/!w,V>w!!u-fyy/uwvVswf)33Ed)fjwn!b-hffh-b!nwjf)dE33)fwsVvwu/yyf!u.!!>2,/!1n!v+t!!w<b2m4v6f2-/!1w!V+w!/*z*"],yS.blurV=["?$TjWoodfmfvsedfT!u=jcm","~v!o<jngvpts!n>!!tsbpnmqpmDfhsb3sEG!`jmnhb!h<f2<6!1w/b1s!z+j!o*h*!fwvfmdb3w!!w+V!w1</!5v!o,j!gzp/swnV!wg!m-pyb/uw!Vwwb)m3vdff<w!!w-pfjheb!nnjb)jEo3)f*s!v|u!ywffud!5>!,t!vnnv!t>!!<w9f2d:51)/11/!1+*!<*!*tfvvnm!b,w>!!+u!f1y/u4v!s,f!3zE/)wjVnwb!h-fy-/!wwVfwd)33)dwfVww!/-yf-h!bwnVjw)/Ez3!f.s!v5u/y1f!u+!!>w,b!mnvvft*!*<!6+5!313/21/612!<+!!t*v*nf!v,m>b!wu!f+y!u1v/s3f!3,E!)zj/nwbVhwf!--!yw/fwdV3w))w3Vdwf/wy!--!fwhVbwn/jz)!E.3!f4s/v1u!y+f!uw!b>m,v!fn*v*t!!+<!214/612:/219!<+!!t*v*nf!v,m>b!wu!f+y!u1v/s2f!3,E!)zj/nwbVhwf!--!yw/fwdV3w))w3Vdwf/wy!--!fwhVbwn/jz)!E.3!f3s/v1u!y+f!uw!b>m,v!fn*v*t!!+<!414/7223/315!6+<!!*t*vzn/!w,V>w!!u-fyy/uwvVswf)33Ed)fjwn!b-hffh-b!nwjf)dE33)fwsVvwu/yyf-u!!w>V,w!/nzv!t.!!<22/416!2+/!1w!b+m!v*f*"],yS.blurDownSample=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j1g/p5s!n0!!t*b*n*q1m/f2s!3-E1!/j1n)b3hdff<w!!w+b!sfz{jjoThm!fwyffdu3!!,w!VwwV<w!!v-ofjhgbpnsjn)!Ew3ffds3v!uuyffyuf!m,T!j*{*f1</!2w.p!j-e1!/n1b)j3od)f*w!!|+!!hfm{`jGTsmbfhyDfpum!p,s!!w>V!w)!u-ffyhubvnsjf)3EE3)fjsnvbuhyff-u!!w,V!w*!*,1!/u1f!y-f1m/T2j.{)f3!d+f!ww!f+d!3f){2j/T1m-f!y1f/u1!*,*!!w,V!wu!f-yfuhvbsnfj3)E"],yS.flow=["~v!o<j*g1p/s2n!!-c1p/p1m!!-v1t/f3Y![+<!!wbVuwu)s5jdcfvwu!f>!!wofpdj4u!jqtpptQj`umjhp!o<<*!zw/bospzjjuojht!pwqf!d-3y!/woVpwj<u!jwtppjqe)!3ndbfjwo!)>*!!w|V!wj!gf!t)mvft!f<Y*[{*/!owpVjwu!j>t!pwqf!d-3y)/qopptjju","~d!p<oztuuj!tgomfpubouj!!q+j!3b!/>s!p7m/p3d9!4+2!9s6p4m<p!dv!o>j!gsppsmnp!DthbbnsqGm`fmsh3!E<!ejonfbmhcf!<+!!v*o*jzgyp/s*n*!1n/b2u!4-!wvvw)N4bdufswj!y+<!!yvjosjugbpNswnv!)j)o3ud!ftwi!b-qffh<b!nvjo)jEg3pfssnv!uwyffdu5!!>c!msfpomep<d!!v5odjfgwp!s~n!!<g*mfpmbhuo!bj!o-u!f*o3tjjqu!z+<!!fwmbhsozBjeophn!)wtfpdd3!!+w!V1w/<3!!w+p!j*ew!Vnwb)jiou)h*o!f|m!)w3fddf3w!!v>w!<w!vg!m<p6b/u1!!b+o!hqmffu!t>!!.b!u*bqof)uwtV!w-/fzm-h!owbV)we/pyn*!!>0!!fqmjh3o!B,e!p1n/!6u<b!pjmgg!!)<t*i2b!q,f!!f>q>b!i1t*)!u|b!pvmwg!!>0!!w1V/w2!!,>!!1q/f6u<t!!~u!bfpmmtgf!!|j!gf!t)mtfi!b~q!f<!*>f>m!h2o*b!!|-!1v/w3!!>+!!w*fwdV3w))mifuoh"],yS.fxaa=["?$TjWoodfmfvsedfT!u=jcm","~v!o<jbg/p*swnV!wt!b-nfqhmbfnsj3)EE!3jfnsbvhufy<f!uv!o>j!gbp/ssnp!mwpfDdh3b!ssGf`tmphm!v<u*j!p*o1</!1w)b5sdzfjwo!h-!1w/f1d!3-!1w/V1w!<-!1\v/$1e!f-g4j4o9f1!/G1Y!B-B7`7R2V/B1M!J-U6Z8`/Q11!!-2*/11/\v1!)\v5$deffwg!j-o*f1!/G1Y)B5Bd`fRwV!B-M*J1U/Z1`)Q52d!f2w/!6-\vo!p\vj$uevfmgpjtoffs!!G-YfBhBb`nRjV!B-MfJhUbZn`jQ!3-!f3h/b1n\vj!!\v-$*e1f/g1j)o5fd!fGwY!B-Bw`VRwV!B)MsJfUeZb`iQT4m!f5y/j1Q\vb!b\vy$Ge!f>g!jsopfm!pGDYhBbBs`GR`VmBhM!J|U!Z*`)Qo5j!b2n3!/e1j\vp!w\v!$~e!f<g*jNobfn!vGmy!b-b{Czpyp/m*!Nctpppqm!\v-!y\vf$ue)fqgpjUoyff!UGbybbybGG)m5pubbup!mgGmbpbbyuG\v!!o\vs$veuffgsj!o<fo!hGjyTbibuGhmopfbmu!3+!!wyfjdq3c\vv!T\vu$fetfgggjPomff!yGjyqb!b>G,m!pzb/uN4t!pwqf!d*4o\vb!q\vT${esfpgij)ogfj!!G<yobhbjGTmipubhuo5f!mw!f+d!5y\vj!q\vc$veTfugfjtogfg!PGmyfbybjTqb!u>),y!*y!/dNmtbpnqq!)*yo-b!q1T/{1s-p!i2a/)1g*j\v!!<\v*$Ieyfjgqjcovft!!G-yebpbpUHfuyf!ttgbgnPqmmffysj3qE)\vy!b\vn$!e>f!gyjjoqfc!vGTyubfbtUgfgyPUmpfqy)juq-!!uqb*p!muGfbybuyvGs!f<31E/)1u!-;!!qu-f!t1g/g1P*m\vf!y\vj$qe!f@g!joobfq!TGeypbpbhU!f>y!Pegpgp)Huu-f!tqg-g!Ppm-f!ysj*q!!uufbypumvGsbfb3yEG)!u<-y!jqq!c,v!T)zpu!j+m!bsv*R-b!b1y/g1!*+\v!!HGyyjbqbcGvmtp!b>u!!IGyyjbqbcMvvtn!bu)bGpymbGbbGbmypGb!u<56!/s1h!c,b!**!*|q!dsSfiuuvhsoof!Msohbcqbt/.z)<!!+~!!uGtyeb)b!G>m!pubfut5g!gGPymbfbyQjjqy!fumbTpimbGebfbsy)G!!G<yGbybjGqmcpvbtu!3+!!qGpytj-q!cGvytb!b>G!mHpybjuq5c!vgty!bubbDppmoGtbpbmyfGQ!p<tQQopbtq-T!eGpypbhb!U;f!yO!oubfqyT-e!pGpyhb!b@U!fOyo!pgjyubdbfDspjoet!p>m!fo4b7q1TUefpypFhy!qmCpjpbCtbObfyhGP!o<f*-Q!uGtyeb!b-UOfuyt!eg)yobjbnD!p>o!tuptmef!4u7b1pUmfGybFbyyqGC!j<bQtuOtfeh!U=x!pO-u!tGey!b>b!GOmoppbjuu3d!fgsyjbeb!RmvpbpmCjbubzySGd!q<Gisubhnoff-M!oGbyqbtb0G1m/p2b!u>5!!qgdySbibuDhpooftMpombfqStd!quGbspbmnGfbPbqyuG-!!<Gpysbfb[GUmMpNbbun5v!mg!y>bab!D*p1o/t1p!m=f!SQdeqoGFsbbnnvfmP)q!u>3!-Q!oGbyqbTbeGpmpphb!um5p!pgCybbbbyDGp!o<t*pOmuft4e7!1,S!dQquGtseb)n!f>P!qiuu3h-o!fGMyobbbqGtm!pubbup!mgGybbbbyRGv!b<mpjsufz[TUvMcNqbjnyv-m!!G>yab!b*G1m/p1b!u=!!gOyebobFRbvnbvmmj)u!z>F!eOhofbUqiTsefptpihp!mmep-p!CGbybbybGG!m<pzb/uN!tgpyqb!b.R!vzb/mQjtupzqF!e>h!fQUuitsef!t*iopbmqeTN{jsop-i!aG)ygbjb!G<mzp/bOut!pgqy!b.b!Dzp/oNttppmqf!F>e!hOfuTtieb!s*qoobfqtTt{-s!pGiyab)bgGjm!p<byu/!Ngtypbqb!D.p!oyt/pQmtfpFqe!h>f!UQiustfet!iupbmpem-G!bGbyybGb!G<myp/bOut!pgqy!b.b!Dyp/oNttppmqf!F>e!hOfuUties!futbippmmGebNbjyoG-!!~G!y~b!b~G!m<p5bQu`5Z!UgJyMbBbVDRp`oBtBpYmGf!4+7!1zD/pQoOtgugEpj!s>!,*!!z|/!QGtypbqb!G*mQpfboup3e!aq)pgtjN!<<!5qQp`tZNU/JyM!B>V!Rq`pBtB/YyG<!!+q!pyt/NQ/Ozg!g>p!!q>p,t!/yz/<Q!tGpyqb!b*GQmfpobpue5a!)sghjc!z<N*!Q>f!oGpyebab)U!f}y}U!p*qO)fuofpye-a!)q!p>t!NQ*O<f!o\vp$ee!f<g5jQo`fZ!UmJvMnBbVNR!`sBhBcYzGN!/+z!\vz!/GQyObgbgGpm!p>b.u!!zm/vOntbpTq!!>*!OGfyobpbeMav)ngbj)!G<y5bQb`UZfUyJPMgBgV)Ru`fByB-Y!Gq!p+t!Ny-/!QGOygbgbpG!m>p.b!uy3/)O1t/p1q-!!*2O/f1o*p-e!ag)ygbjb!R<vebfmmjbudzTSudoqfGjsebbnsfh/!y>z?*!**<Q!eGoyFbbbnGvmmp)btuc!bm!v>n!bQFf!o>p!eG!y<bebfMmvbndbT)uGoyfbjbeUbfsyhP!g>g?)!u*fOye-o!FqbpntvNm-)!tGcybb!b>G!mOpfboup3e)!2</61/-1!!1+/!1O*O-b!ngvymb!b.R!vQbemojFubznSvdmq!G>s!bQnefo/Fybzn*v*m<!!*GQyfbobpGemap)bguj!!m<v6n/b1O!!+>!!OGOybbnbvMmv!n.b!)OGeyobFbbUnfvymP!g>g!)OuefoyF-b!nqvpmt!N*-O!fGoypbebaG)mgpjb!u<3*)*1z/y1/-Q.t2p/q1!*--y!fguy)bqbpRUvybfmUjbubzySGd)qbGnsvbMnbfb/yyGz!*>*!<Q!eGoyFbbbnGvmmp!b*uQ!fmovpnebaX)!g>j!!G<y*b*bzMyv/nObt)pGqy!b-byUffuy)PqgpgU)yuffUyb-b!yqGp)tbNn-v!MGbybbybGG!m>p!bOue3o)F.b2n/v1m-!!*1O/f1o*p-e!ag)ygbjb!R|v!b*mQjOufzoSpdeq)Ggsjb!n<f4/Qy`zZ*U*J<M!BGVyRb`bBGBmYpGb!u+!!nzb/yQTONg!g>p!!n>b,y!)zm/vQntbpTq-!!*mQvfnobpNe*a<)!gGjy!b<b4GQm`pZbUuJ!MnBjVoRT`NB!B>Y!Gn!j+o!)ym/vQnObgTg-p!!m>v,n!byN/*Q<t!pGqy!b*bQGfmoppbeua!)ngbjy!F<T*NQ!f>o!pnebay))!m}v}n!b*FO-f!onpbeyaT)N!*><!!QGOyfbobpGem!p<b4uQ!`nZjUoJFMTBNV!R>`!BnBjYoG)!m+v!nzb/FQ-O!gngjpo!T>N.*!<z!/GOytbpbqG!m*pObfuo!pnebay)XgOj!!><!4nQb`yZ)UmJvMnBbVOR-`!BmBvYnGb!X+*!<y!/GQyObgbgGpm!p>b.u!!yn/jOotXpOq!!>*!Onfjoop)emav)ngbjO!-<!emfvmnbbdXT*u<o!fGjyebbbsGhm!p>b?u!!*sQbeoohFfbNnbvym!)>t!cnbb!y>)!nQbfyoXpOe-!!<nebfymFbTdNT*u<o!fGjyebbbsGhm!p>b?u!!*sObeoohFfbNnjvom!)>t!cnbj!o>)!nOjfooXpOe-!!<n6j/o1F!T+N!*O<O!bGnyvbmb!G.m!pQbeuo!Fsbbnovhmf!N>b!yQTedobFmbfnev!m>!!*sQbfoohpfeNab)yg!j+!!<g6y/b1b!R+v!bOmOjbunzvFme!h.f!UOiesofFtbinpvmme!<>!!GOyebobFGbmnpvbmu!!*sObfoohpfe!a>)!gsjb!o<h*f*Nzbyy/!Q.t!psqb!o-hyffNuj)oq<p!UGyyfbUbbGbmypGb)ub!nsvbMobhbfyNGb!y>D!mQbenoqFfben!v>m!!n*bQyf)ogpyebab)Rgvjb!m<j*u*zzFye/hOftUpiqs!f-tyifpum)eqNpjUoy-f!UsbbboyhGf)NbbnyvTMdbbbmyfGe!*><!!OGeyobFbbCnpvpmm!!*fObfsompzeFay)jguj!!>|!!s*bQoOhffo!p=e!)sgbjo!h<f3NQb`yZDUmJbMnBqVfRe`<B!BjYgG)!f+b!szm/zQFOygjgup*!!>s,f!uzv/sQot!psqh!c*zQNf<o!pGeyab)bgGjm!p<b3uQ!`mZvUnJbMOBXV!R>`!BGByYbGb!M+v!nyb/)QGOygbgbpU!f>y,P!gyg/)Qutfpyq-!!*qQpftoNp-e!aG)ygbjb!G<m*pQbfuo3p)e.a2)/!1}-}.!2*/O1f*o-p!egay)b!b>R!vQbOmfjoupzeS!d<q3GQs`bZnUfJ/MyBzV*R*`<B!BGYyGb!b+G!mzp/bQuO!gmgvpn!b>T.F!!z>/!OGtypbqb!M*vOnfbo)pGeyab)bgUjf!y<P3gQg`)ZuUfJyM-B!VqRp`tBNB-Y!GG!y+b!byG/mQpObgug3p)!2>/.1!-y!/2O/t1p*q-!!*gOyfbobpRevab)mgjju!z<SedfqmGbsdbTnufo/fyjze*b*s<h!!G>y?b!b*GQmepobFub!nmvvmn)btOcFb!!>>!!GQyfbobpMev!n<be)fGmybbdbTUufoyfPjgegb)suhf!y>-?!!q*pOteNo-F!bGnyvbmb)Gtmcpbb!u>3!)O2f/o1p-e.!2</61/*1-!!+g!yObObbRnvvbmm!j.u!zQSedoqFGbsnbvnmf!/>y!zQ*e*o<F!bGnyvbmb!G*mQpfboup!emav)ngbjT!X<!6>/!1G!y+b!bOMOvbnnbv)mG!y.b!bOUefoyFPbgngv)mu!f>y!-O!eqopFtbNn-v!mG!y*bObfGomppebau)3g)j.!2</*1*-z!y2//Q1t*p-q!!g-yybfbuR)vqbpmUjyufzUSbdbqyGGs)bbnnfv/Mybzb*y*G<!!>G!yQbeboGFmbpnbvum!!m*vQnfboOpTe!a>)!gmjv!n<b*O*!z,y!/mOvtnpbqT!<-!yGfyub)bqGpmUpybfuU!bmbvynGb)XbFn!v>M!bmbvynGb!X>!!,O!emovFnbbnFv<m!!G*yObfboGpmepab)ug!jt!v|c!q*jQyOSfdoqpSeb)oghjf!!<>2!Q2`/Z1U0JsMbBoVhRf`<B!BGYyGb!b+G!mzp/bQuO!gtgvpc!q>j,y!OzT/XQFt!p>q!!m*vQnfboOpTe!a,)!gmjv!n<b2XQF`<Z!UGJyMbBbVGRm`pBbBuY!Gf!e+h!fyI/pQsO{g2g!p>!!>),.!3y//1Q!t+p!qm!v*nQbfNo*p!e,a!)mgvjn!b<O*TQ<f!oGpyebab)G!m}p}b!u*!OffeohpfeWaf)s!u>2!!Q>O!f)o.p3e/!1m!p+p!CmbvbnybGN!*<!2,Q!`mZvUnJbMXBFV<R!`GByBbYbGG!m+p!bzu/!QmOvgngbpO!F>T.F!!z>/!Omtvpnqb!O*FO!f,o!pmevan)bgTjF!<<!2GQy`bZbUGJmMpBbVuR!`mBvBnYbGO!X+O!Fy!/>Q!Omgvgnpb!O>X.!!,y!/mOvtnpbqO!F*<O!fGoypbebaG)mgpjb!u<!effemhbfdITpuso{f3j!e>b!s)h.!3>/?1!!*+Q!emovFnbbnFv*m!),t!cmbv!n>b!OQFfToFp<e!!GmypbpbCGbmbpybGu!!<feefhmfbWdfTsuuo3f!j>e!b)s.h3!/>1?!!+*!OmevonFbbOn*v!m,)!tmcvbn!b>O!XOOfFo<p!eG!ymbpbpGCmbpbbyuG!!m<v6n/b1O!X+T!XO!O>b!nmvvmn!b>O.X!!Q,e!omFvbnnbvTmX!<<!6G/y1b!b+G!mOpObbun!vmmv!n>b.T!XOTeFo!F>b!nmvvmn!b<T1X/!1,!!=m!vNnNbbTnFv<m!!G>y!bpbsGfm[pUbMuN!bfnevhmf!Imppsp{C5b!b>y!G)!b<cFty)jfqechvftI!p+s!{E2y*j!q+c!v3t/!1>*!!G,y!jbqcctv)tf!euhbfpImpGsb{b3y*G<!!<G6y/b1b!G+m!pObOub!nfvemh!f.W!fNsbun5v!m>!!>)!bNcNtb)nfvemh!fuWbfpsmuG2b*b!y+G!!3</11/*5!0,1!/b2c!t+)!fueohffjWefbssuh3!*><!!eGfymbbbdGTmupobfuj!efbeshhf!Iupbsp{m4G!b>b!y)G.!3</T1T!b+n!vmmv!n>b!XO*O!b,n!vmmv!n*bOOsXjTbXq<a!)Ggyjb!b<G*m*pQbtup!qf!e-hyffWuf)squp4U!y>f!U)b.b3y/G1)!b+n!vmMvbnbbyTG*!!>,!!QmevonFbbTnXvTmF!<u!bGpymbGbbGbmypGb!u<!DfyejhqfcIvpts!{+!!>D!ybjcqtc)vfte!h>f!IFpysj{q4c*v!t,!!ufbephmfGIbpbsy{G5!<<!*G*yObtbpGqm!p-byuf!uf)eqhpfUWyffsUub!b>y!Gb)cbtn)vfMebhbfyWGf!s>u!4O*e!o,F!bfnevhmf!Wufbspum5G<b!bGyyGb!b<G1m/p4b!u,!!t*vDcyqjjqycOvXtT+X*O1F/T3F.!)>)!!m>v!nEbyOjXqTcXv!t,!!umbvpnmbGObFbTyFG<!!<G1yQb`bZGUmJpMbBuV!Rm`fBoBhYuGi!T+j!hzo/!Q>O!gggypb!b,R!vzb/mCjtupzqS!d>q!Gzs/bQntfp/qy!<<!1GQy`bZbUCJpMpBmV!Ri`pBsB{YTGq!b+o!!y>/!QfOeghgfpI!p,s!{y!/?C>t!pfqe!h>f!Wyf/sQut<p!qG!y<bQbtGpmqp!b3uu!btpvmcGqbjbyyBG!!><!1tQv`cZqUjJyMOBTVXRF`!B+B!Y3G/!1+!!,z!/tQvOcgqgjpy!O.X!TzX/OCFtTpFq<!!>j!gz)/aOitppsq{!T<q1bQo`*Z!UmJvMnBbVOR!`>B!BmYvGn!b+X!<y!/jQgO)gagipp!s.{!Tyq/bCot*p!qm!v>n!byT/!O>t!pmqv!n<bOFt<p!qj!g3)uibppsm{GTbqbbyoG*!!<m6f/o1h!u+i!TojhhjoT!i>u!hgoyfbmb!R>v,b!mzj/uCztSpdqq!G*sobbnqfT/{zs<p!iG)ygbjb!G<m6p/b1u!!+t!vochqjjTyiCu!h>o!f)mt!v>c,q!jyy/BC!t+p!q)!2*/o1b0q2T3{/s1p*i*a!).g!jm!v<nzb/Nf<n!bGsyGbqbdGSmzpubjum!bhvsRbbebjyfgo!u;O!!1>/!1m!v@n!b*Oo!b.q!Tm{vsnpbiN)<!!>G!yzb/bQGOmgpgbpu!!<hys/bfenjbfsoGuqTd!S>z!umjvmnbbvTR!b.b!ymgv!n;b!N1</!1G!y@b!b*GombpqbTu{!smpvinab)O!O>!!>y!/mQvOngbgOp!!,<!QmOvgngbpN!<3!uGbypbmbGGbmbpybGu!!<mzv/nNbtTpTq!!>>!!mzv/nCbtTp!q,!!<myv/nNbtNp<q!!G>y!byb/CCptppmq!!q<bCjtspOq!!>3!ubbcptm)GhbsbbyeGj!f<o*ufOh*o!b?S>q!dbScytj)qhcsvbte!j+f!o*uCTy*j<q!cGvytb)btGcmbp)buub!ThbsbbyeGj!f>o!uD!y>j!qncbvyt)!bucbtp)mhGsbbbeyjGf!o<uoOh*j-T!ibuchto)fhms.b!e>j!foohujTT*i*u<h!ojfgm)!q*bOjs"],yS.lut=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*g*pzsunj!tgomfpubouj!!m-v*ubT/jm{bfw<!!-v*oxjwgvp!s-nf!{tjbTnuqvmmf!s-3uEv!mm)vquv<l!pwpfMdu4v!mm)v5udMfpwp!l-vmqb)wt)bynjqnm)f5sd3fEw!!u>f!ys-p!mgpmDphbbus!Gt`jm{hf!-<!*wifude4j!Xsmhfcy*j!q|!!.g!m1p/b2u)!!t+m!jcdhfsI/fmjbhwi!u,!!>*!i2u/e1j!X0m!ftyjj{Qfg<m!bgim)p4bduf!wz!Q>j!yxfwmvI!f4jdhfiwu!!<>f!{2j/T1u!v0m!!)0t!j6{/f1!!+>!!tiju{efj*X<m!fgymjpQbgum!btim!judbfp!m>g!!s<hfc{/jcT!u+v!mt!j0{!f1</!2g!m>p!biuu!ejjoXumffsyqj!q>!!ugbspbmdgu!)<t*mwjVdwf!*-<f!tgvmgpgbjuE!ut)mEj3dffs1v!u>y!ftum!j>d!fm!b.w!!j5oduffws!q|<!!*g)mopjbbun!!defjopuwf!s<ffetJvogugfjsEqu!!>E!3jsofumfqsnqb!t.!!n1s/p6g<j!ogvm!p<bzuu!jttmojfdufo2j!!>u!btpmmjgd!fn1s!p,g!jtojvh!o<)wdVfwo!u3fdsffwe!Jhooujfzssqb*w<!!~g!m<p*b*uq!shfsufofJoePfgsgftufouf!d>)!tdcmbb!n-q2)fsmhqcn/bht!!+-!1tfmmjqdnfbItf)jyhjinu!-o!szvQujfysf!m<Icfhjsh/i*u2!w+v!!1-/y6f-u!)tEm3jfdsfvIufyjfhui!u>!!.2!fzmQqjnybftm!I4fdjfhwi!u<!c+h!s1//*61*w<v!!w-fydf3u!)vEw31f!s>v!uwyffdu3!)>!!s1hfcm/qsn-b!tt!m4jddffw1!!<+*!!tumfjtdgfgIPfojfhfisuh!!,,!!husifhfjofPIgfgdtjfmut!!*+<!!2wffddj3m!tv!w-2s!/>c!hwsf!d)3"],yS.points=["~v!o<jfg{pjsTnu!onjbpuQ5`!mnhp!e>f!mfN{bjuTsujoyj<p!Qvwo!j<g*p{s/no!pnjbuuj5t!pnQpwenf!m.W!j0f!xfNmbbudstj)y!<>!+v!ofj{gjpTsuno!jnpbQu`5m!hq!s*pfkwfjduudjfpqotNsbfuQstjjy)<!!gvjo!j<g*p1s/n2!!n.b!u>5>!!w^j!f4x!N]b^u!s3j!y]<y!jvsoujbgNpospnj!ugdmfpkbpus!qt)d!b>m!ff<w!jvuodjfgqptssnf!Qwtfjd!3m!pvpVcw!P~g!g<tofpuj<u!vvmopjtgfpss!n+!!cfp{pjmt!!v>t!ffV{wjBTsusobjzp<Q!`bmuhu!s|j!cfvtumff!!w~f!d<4o!pqjputvjmupjtpfos<!!+v!ozjbgspssBnf!{cjptp!m>!!vft{fjDTpumopjsp<Q!`bmuhu!s|j!c*vzubfs!swBffd{5j!Tdfptmvp)s!<g!jw!b<sozpjjouhj!twpfQdw5n!!w+D!pymjpssu<b!Nboupujsujdcfvkupfs!qw!f>d!3o!pbjVuwjPtgpgQt`fmuh<!!<wobpsjzujjothp!Qwwfnd!3+!!wyPjgsgutbfNux<f!jvWomjfgeppsnn!!>c!poppmj!uqjjtdplQjwonh!<<!*\v1$/j2g!e-fegf!nIsJpHgItMoJbHsIuU)\v5!dvfowj!g>p!sonp!jwufjdt5p!Qqwjnd!l5Ddpfmwp!s<<*!o\vp$jfumjttfp\vq!)b4udufswj!c>v!ueff!nwsfpdg5t!oqbjsdul!D4pdmfpws!<~!!\v<$*fuofetjggg\vP!wvVobj)g3pdsfnw!!g>m,p!buuf!ttgjg{Pfw<!!|v!o*jzgbpsssnB!wgVmfptbvu)!!sgfjt!p<m*vuufjtpgog<P!wvVovj)g3pdsfnw!!c>p!pumf!tvgtgfPTwj!{~f!B<ssspbmzp<d!!b>u!usspjmcpvDuwf!!|g!m*psbpum!ptDjf{tfvB)s!sgbjz!<f!twmbfs!z~j!o<hs!pgmmppDblud!jwqQ!p>j!osupTmjp{Dfw<!!|w!p*jheo!jnlbdjjoq))*!!g|j!","~$!e~f!g<jsopfm!pVDTfFt`vNgBgQj\ve!!v>o!jsgppmspnD!hwbfsdG5`!mehj!g|g!vfttfm<f!!v~o!j<gsppsmnp!Dgwm!p>b!us!ppmqpbDdhjbuszG<`!mvho!j<gepssbnd!tgjmep!b*u1!/b1m!q>i>b!Ubf/tsup<m!pvDofjtgvpgsgnj!ec)p!pgmj!!v|t!f*Dhpomjplsd<j!qw)b!sgzjj!o<he!swbfddt5j!ew!D*pumtpfsU<b!ivqomjbg!p=s!nb!/cspppmmp!Dqfjtdvlgjgojhe<)!!vgojj!g\vpgsjne!ocfp$p\vm!!~e!j<t*dwbvs!e-Tqfbmnf)dEu3bfcsmvfu<y!f\vu$!j>o+d!msvpemfp!D=fctmvpgpgnjTef!m<fudfutjgwgfP/wg!t>/,i!fwbve!?<\vf!mvbodjTgwpvs!n+!!wefsdp3p!DvuwoTjdpbQm`fm<h!!w>b!swzvj!o3hd!fwwf!d|3!!*wfPmgcgbtufduf<m!f\vT$ejsgb!detfjgejao!f}e})!VhToFj`lNdBjQq*a\v)!!vgojj!g\vp*sQnB!Nt`bFnTqVm)fesf3oEj!gnfbeq!<g!j\v$$\vf!o~e!j<g*\vz!uwjbdsbzqjpo!h+!!gbm/pfbtuv!gwgQjpej!o-u{Tzjy{/ff<t!vwgpgjjee!)n5bdjfow)!*>!!|s!p\vm$pjDofdtmvvgegfj!e=!c|m!pfptnmTff!m~f!d<u*jzwufj/dgbtq/pc!p+e!zb?/\vs!pjmgp!D)ww!Q-p{jzoyu/Tsjp{mfp!D>w>)!51d/f*w!!|>!!esjptmdpbDsfet<v!g~g!jwef!d|5!!*esjpgmgpvDtfftDvp!m%p%s!<h!ojjgl!d)jaq"],yS.bokeh=["?$TjWoodfmfvsedfT!u=jcm","~w!b\vsgzjjeoohf!$w\vf!d<31!/w2V!w><!!bv/osjpgmppsDnh!btsbGn`qmmhf!s\v3BEI!QuMDBp`mFpEsJ<S!SvFoWjPg!pgsfne!gtjb$n\vq!m<f1s/32E5!!u0E!fmqpudi!<>!!vsopjmgppDshnb!sgGm`pmbhu!!<n*b5yscvmmvcsg<p!ev!o+j!g*pusdnf!sgsmppdbuud!fbqttqbf!d+u!<*!5v/o1j!g-p1s/n1!)g3mdpfbwu)!!b,q!fzsyu/vwsVfw<!!-vsopjmgppDsun)!Ec3pfpsmv!uvytffuH!3>e,<!!mvpodj!g<p*s5ns!vgmmcpgbpue!!u+i!s*futdifpsmsep<d!uvdofjqgtpbs!n+!!g*m:p3b/u1!.o!f-b:s3</!1v.o)j3gdpfswn)!!g,m!pzbyu/!wgVbws!<-!svpomjpgDpus)nE!3gfmspvbuuy!fgup!d>v,t!<m!pvdo!j<g*p5ssnv!mgcmgppbeu!!+s!b*ouhdff<s!svpodjugdpfsqnt!bg!m+p!b*u1!/e1f!o-t5j/u1z.<)!3\vd$fjwo)d!m,v!ezfy!/=wqVbwd!l-jsophm?p\vD!uw)pEj3ef!snvbujyof)u*!!>|,!!wmfpdd3!!<e*p5gscvmmvcsg<p!ew!f+d!3*!ubdtfqsfsdpuddupdsfsqftdbu!!+>!!*w:f3d/31)!2-/:13-/!1b.t)q3fddfuw*)<!!,\v!$zjyg/!weVfwg!j-osfpem)pVDTuF)`EE3FfQsUvIu*y\vf!u\v!$>j,g!!mepfdg!j<o*f5es)vVmTcFg`pPeS!U+I!P*`uDdBfNsFsSpBd*u\vd!f\vq$tjbg!!+e!f*g5j/o1f.e!)-V1T/F1`)G3MdPfBwU)`!U,F!YzUyV/SwFV*w\v!!-gsmppmbpuD!uw)jEf3xf[s!v>u!ypfsuu!i>p,h!smbpqdi!j<d*E5fsqvumicUgppWej!f+x![*)uudffysusvpsdfu3dEf)qutEbf!q+u!i*-:!3w/V1w.*!/-s:-3!/o1f)b3sd-f!wg)b!s,*!<z!y\v/$wfVmwt!f-\vs!pgmmppDbuu)!Ew3jffsxv[u!y>f!up!s>u,i!pmhpsdb!q<i*j5dsEvfmqcugipUep!W+j!f*xu[d)fvsosqpbdduldSfHqCtBbU!p+E!f*q1u/i1)!u-f5y/u1v)s3fd3fEw))u!E,f!qzuyi/-w!VwwV!w-*s*p-m!poDfub)sE-3!fgsbvsu*y<f!u\v!$>f,o!emjpgd\v!!<\v*$5fsmvtmfc\vg!p\ve$!j+g!!*eufdgfjsosfped)uVdTfFq`tGbM!P+B!U*`:U3F/Y1U!V-S:F3*/\v1!)g3mdpfbwu)!!w,j!fzxy[/!w>V!wq!f-sstpqmfpdDuuj)wEf3EffsqvuuiyUfpuW!j>f,x![m)pudf!y<u*v8ssfv3mEc)gupEef!q+u!i*-u!dwfVsws*p/dsu-d!foqftbbs!-+!!g*b5s/*1<!!-\v1$/f1m)t3fd\vf!wg)m!p,b!uz!yw/jwfVxw[!!->s!pqmfpsDtuq)fEd3ufjswvfuEyffquu!i>U,p!Wmjpfdx![<)*v8osqvbmdclgSpHeC!B+U!p*Eufdqfusis)pudfuydufvqstfb3!E+)!u*E:f3q/u1i.-!!-w:V3w/*1*.-)!3odffbws)-!!,g!bzsy*/<w!V\vw$!f-osepjmgp\vD!u\v)$Ef3ofesjvgu\vy!fgum!p>b,u!!mgpbdd!u<p*s8!s>v!m)cggppdev!t+!!,*!uwdjffsxs[p*d<u!djfgq!t)bg!b+d!u*p1s/!1=!!-15//11*.!)g3bddfuwp)s!!,>!!znyj/ow)Vgwb!d-usppsm!p,D!us)bEo3hffs-v!u1y/f1u*!<>!,f!mmtpfd!!g<b*d8uspvsm!c>g!pneb!y+)!g*buddufpsss!p.d!usdbfoqhtfb-!!+1!/*1:*3</!1g!b-d:u3p/s1!.>)!32d/f1w!).!!,f!yzqy)/.weVfwo!t-jsupzm!p+D!ue)fEo3tfjsuvzu!y+f!ug!b>d,u!pmsp!d+!!<g*b8dsuvpmsc*g<p!ee!p+g!c*muvdsf!s>s!pwdfudd3f!q)tdbm!b+n!q*)5g/b1d.u!p-s1-/!1.)n3bdyfcwm)v!s,-!!znyb/ywcVmwv!s-*s*p<m!p\vD$uf)mEt3ff\vs!vwufydf5u!!u>f,y!fmmp!d>!!<u*f8ysuvvmscfg3pEe)!u+E!f*quudif-s!swpfddu3d)fwqVtwb/!y+-!!*2:/31/!1..!!w-V:w3//z1*)*3<d!fgwm)p!b,u!!zbym/qwiVbw<!!-jsgp!m)pvDtuf)HE33ef*s!v|u!ybfmuq!i>b,!!>m!ptdn!p<p*u8istvumfcqg)puei!s+f!t*iupdmfes-s!pudiusdfftqitpbm!e+!!,*!11//11!2--1!5u/f1y)f3md/fbw*)<!!,~!!zfym/twfV!w|!!-bsmpqmipbD!u>)!Eu3ffysfvmu/ybf<u!!~>!,e!pmgpcdm!v<s*!8>s!vwmfcdg3p!e)!d+m!b*nuqd)fbsmsqpidbu!d+f!qbtqbf!s+u!v*s:f3-/!1.!n-b:y3c/m1v)s3-d!fnwb)y!c,m!vzsy*/*w<V!w\v!$-fsopemjpgD\vu!)wEf3df3s!veupygfcum!v>s,:!!m>p!de!p<g*c:msvvsm!c+g!p1e/!:+<!!*wufddf3s!seppdgucdmfvqst8b!!>+!!e*p8g4c/m1v.s!!-+6!21//18)<3!dwffwd)3!!,e!pzgyc/mwvVsw5!!->s!pemppgDcum)vEs3!f+s!v1u/y5f<u!!w>f,d!5m!pddp!m<!*>:!swvfmdc5g)p1e/!1+*!<*!uddpfms!s,p>d!uudffyqutvbs!f+3!E*)6u2D/p1m.p!s--8!4w/V1w./)y3zd*f<w!)d!p,m!!z,y>/!wuVfwy!u-vsspfm3pED)uu)DEp3mfpssv-u!ywfVuw!/>y,z!!m,p!d)!w<f*d:3s)v1m/c1g-p!e1!/+5!**!u+d!fbstsqpfdduuddfpqstsbf!d+u!**!6+2!/e1p!g-c8m4v/s1*)<3!ddfpwm)!!,,>!!zuyf/ywuVvws!f-3sEp)mupDDpum)pEs3-f!swvVuwy/fyuz!!>,,!!)mwpfdd!3<)*1:/s2v6m-c!g1p/e4!8+*!!*+u!dbftsqsfpdduuddpfsqstfbd!u+*!!*+8!4e/p1g!c-m6v2s/*1<.!)d3pdmf!w,)>!!,u!fzyyu/vwsVfw3!E-)supDmppmDpus)-E!3wfVswv/uyyzf!u,!!>),w!fmdp3d)!1</*3::s-v!m1c/g3p:e*!!++!!*butdqffsdsupddpusdsffqdtub*!!++!!*e8p4g/c1m.v!s-*6<2!/d1p.m)!3,d>f!wu)f!y,u!vzsyf/3wEV)wu!D-psmppmsp-D!uw)VEw3/fyszv!u,y!f)uw!f>d,3!)m.p1d/!4<8*-:!s1v/m2c6g*p!e+!!+b!t*qufddfusdsppsdsufddfuq*t!b+!!+e!p*g6c2m/v1s.*!<-!8d4p/m1!),3>d!fuwf)y!u,v!szfy3/Ew)VuwD!p-msppsm-p!DwuV)wE/3yfzs!v,u!y)fwuf!d>3,)!1m/p5d1!-<!*1:/s1v*m!c+g!pbet!q+f!d*uuddpfssssfpdduu*d!f+q!tebp!g+c!m*v6s2*/<1!!d-p8m4!/,1>.!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s--s!pwmVpwD/uy)zE!3,f!s)vwufydf3u)!1>/,4!8m-p!d.!1</*2:6s*v!m+c!gbpteq!f+d!u*dupdsfssfsdpud*u!d+f!qetpbg!c+m!v*s8*4</!1d!p-m6!2,/>1!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s--s!pwmVpwD/uy)zE!3,f!s)vwufydf3u)!1>/,3!:m-p!d.!1</*3s:v*m!c+g!pbet!q+f!d*uuddpfssssfpdduu*d!f+q!tebp!g+c!m*v8s4*/<1!.d!p-m6!2,/>1!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s--s!pwmVpwD/uy)zE!3,f!s)vwufydf3u)!.>1,/!2m6p-d!!.<1*/s4v8m*c!g+p!eb!t+q!f*duuddfpsssspfdduud*f!q+t!be!p+g!c*m:v3s/*1<.!!d-p:m3!/,1>.!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s--s!pwmVpwD/uy)zE!3,f!s)vwufydf3u)!1>/,1!-m!p.d1!/<5**s!v+m!cbgtpqef!d+u!d*pusdsffsdsup*d!u+d!feqptgbc!m+v!s**6<2!/d1p.m!!-,8>4!/u1f.y)u3vdsffw3)E!),u!Dzpym/pwsV-w!!w-Vswp/mypzD!u,)!E)3wffsdv3u)y.f1u/!2>6,-!!m1p/d4!8<**!s+v!mbctgqpfed!u+d!p*susdffdsus*p!d+u!defpqgtcbm!v+s!**<1!/d1p!m-!5,/>1!.u)f3ydufvws)f!3,E!)zuyD/pwmVpws!--!swpVmwp/Dyuz)!E,3!f)swvfudy3f)u.!1>/,3!:m-p!d1!/<3*:s*v!m+c!gbpteq!f+d!u*dupdsfssfsdpud*u!d+f!qetpbg!c+m!v*s6*2</!1d!p-m8!4,/>1!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s-"],yS.ssao=["?$TjWoodfmfvsedfT!u=jcm","g0j0e!oifj$o\vu!t~;!!~h!m<t*ms4p\vm!p\vD$hjbosdGm`vmehf)!C=HdSptnpnUpsob?f\vo!j\vM$!j>o!dsmpvmepfD!h=bqsbGd`lmjho!h|?!\v*!ovpojjugdpfssns!piDjbhninqb!ht)b!ngqjm!f~s!3~E!!<t*dbf/omffEyffqUufio<f!dvto!j-g*ppsBnm!bwofjdg3!!.s!f1t/p2m!v-uejfpjom<q!qvBopjbg!p-s*n1!/g2m)p4bduf!wo)fybjsn<!!)v5odjfgwp!s>n!!sgpmmppbDuh!bgsbGs`<m!hv!o|j!gfptsmnf!!n~b!u<5*!1q/s2p)k5fddfuwj!p>o!NsbpumspjDyhJboswG<`!mvho!j|g!p*syn/!onpbjuu5v!mwpjtffxsN!b0u!s1j/y2J!o=w!<*!6v/o1j!g.p!syn/!wcVpwp)mt!cpbs)u!igpj<!!fwtbmsfz!j~o!h<!*wbf/dm3f!ywfVUwf<o!fidjth!i-qc!hgsm/pmbfuy!fmUjfooffbdstj!{)f5`deffwq!u>i!)sipjmhpiDqh!bgsmGp`bmuh!!e|-!!*i6j/h1i!q=!!gym/pwbVuw!){!Ogfjb!s|-!i*j1h/i5q!!>g>m!pfbeup!N{sGfbeso*f!s|)!!sgfju!vfstom!f)!{~G!b~s!!<+*!b{/Omffbysf*U!f0o!f)d{tG!b-s*!p.B!meb!o+j!g)!{.G!b1s/!2.!!-{eOffjbmsq*q*B<p!b~!!-icjhhsi/qm!fgymfpUbfuo!fmdjto)fybjsnj!{)f5`deffwq!u>i!`sppsmupiDph)bisjGh`imqh!!g|m!pfbtum!fe!-~!!i<j*h1i/q2!)g5mdpfbwu!!>o!fsbpsm[p-D!hibjshGi`qm!hg!m|p!b*uy!/gobpsj[u*v!m|p!tsffsu!v0s!o1!/o2f!b=s![*!6,/!1)!g.b!sy[/!w.V!wo)ftbcsb[)*!!g+j!!ef<t!m~f!!i~j!h<i*qb!/gmmfpybfuU!fmojfodftb!s-jc{hfs`/emffqyufiU`fmopfhd)ti!j)h5idqf!wg!m>p!bsup!mep-D!hibjshGi`qm!hg!m|p!b*u6!/o1f!b=s![y-/iwjVhwi)q!!ggjm!p|b!u*!1g/b4s![>*>!!|f!egpmNpsbfue!oeffsq)u!ig!j>!!fqtpmxf)!3~/!1<-*!be/!m+f!ymfpUhf3o)fgdbts![-!c,h!s2//m1f*y*f!U.f!o2f/d1t<!!)g5mdpfbwu!!>b!!s>p!mgpbDsh[b!s0G!`)mghb!s|[!!*.1!/o3f!b>s>[!*f<e!pgNmspfbeuo!fcs!)>!!ggjb!sf[t!m+f!!o~f!b<s*[b!/0m!f)yoffUbfso[f!d.t!!g-b*sp[B*m<b!ogjmgp!b.u!!1m/j2o!E-feqfujim!q>q!Bbp!b,!!-c*!10/!2e)f4qdufiw<)!ysjfnu!v)s5od!fpws!u>i!ps!p@m!pmDjhobfsbGs`jm{hf!`|e!f*q1u/i2`!p>s>u!ifpe)p!NmsjfoeEoffqsu)i!-g!jo!ffbtsm[f-!!~g!b<s*[b!/*m!f;ymfjUoffobfsdjt{!f-`*epfBqmubio)jmgj!o.E!f1q/u2i!--!eoffjbmsq[q-B!pgbb!s-[c*h<s!/~m!fwyffdU4f!ohffdutX)pysjmne!Q)p5tdMfpwh!)>w!fsdp4m!pqDphtbTs*G!`|m!hw!f|d!3*!1v/w1!!>>!>q!pfteTp/Nyszf<e!ogfmsp)b!ug!j{!!<>*!*qzpmtqTj/u{m<v!Ngsmppmbpud!)oufbbpsm[g!!>-ocfhbss/<m!fgymfpUbfuo!fgdbts![-!*>1!/g2b)s4<d!fgwm)pybjun!!e+f!qsupim!p>d!!q>p!xe)f3j/m1q-q!B{p!b+!!4mdpfhw3!)<g*bssp[u!d,b!G2h/p1g*!*-!1./!22!/-1p<B!mgbmopjbgu)!ybj!n>!!>g!bpsB[m!b0o!j)gg!b~s![<!*.s!poufdbbsG[u*o<f!ngumtpvbkue!bc!!->1!/g2b!s-[p!B+m!boofjbgs)[y!j0n!!)>o!fpbBsm[b!o.j!gg!b<s*[o*P<s!pgumdpbbGuu!omfjnouEtfvqkueib!!>-!gbg!P,s!pcu!d0b!Geufoqfuniu<t!vwkfedb5)!ydbmnj!q>W!fsdp!u>d!bwGfudo5f)nvuwt-v!kmejbo!Eufbqpumig-!!<2*/!11*/!1+!!;3!/11/!2.!!@2!/s1/<*!wwVfwd!5-!ixuqqpftE!f>o!fqdstp)kEf3dfusjvpuoyNfbuu!s>j>y!Jso/w*!w+V!wd!m-jiquWqffdE<f!vssfUuXvEszod!oxfqspbtq/tyozb{s!u0)!Ex3qfpstv/uxy<f!u~!!)w!f+d!4*!ohPfXuEXzpdsomfesQbpqtt)ogbmspub!u.!!e1f/q2u)i!->!!wofPds3p!uddpbpGsueo*f!n|u!t\vv$kjegbe!fugb!pMmPgH!E<FgQgUPIX\vE!zsdfoufvssboq!thofbusXup!s>m!egQgpPtsMppuhd)bwGfudo4f)nduptpvskee-b!!eufbqpumig*!*<<b!/\v*$wfVowe!j-gf\vv!sgUmXpEbzud!o{f!s>b!qetfoqbusiu!)+E!33f/s1v!u.y!f2u/!1><!!owPfXdE5z!ddomfjsqbTqqtbodbfsQup!tujbupjmpgo!!<>b!/w*fwdV5w)!d-pfptsmeb!G+X!E3z/d1o!f.s!b2q/t1o-b!s{u-)!E23/f1s*v<u!ywffud!5>!!wgjgfPxXTEqzbddoffQspbtqjtuojbpsou!!>u!bqpsmpgk!f|d!u*jfpsobNxbBuzsdjoyfJsobwq!t+o!bdsmuj)q!Tgqjb!d~f!Q~p!t<j*u!jipuoq<f!Ewhfpdg5!!-xspbsGmhepTgq!b-dsfbQfpOthjpugj!p)oq!f>u!twijufpxpTnqtb!d>f!QspptujdubjGphop<g!!x|p!sfmtemTfq!b~d!f<Q*p!tijuuqjfpEoh/pygz!{+!!0i>u!qxfpEshmpegT!q+b!dzfuQjpttojfuEjhppog/!x+<!!zsufjutvosfoE!hxppgs!m.e!T)qqbydff!Q.p!t1j/u2j!p>o!/sypzu{d<b!G~h!pwgf!d|4!!*dqpynFqhvpugf)O!pgsjn!b|m!)*whfpdg4)!!xgpjs!m<e*Q!p*tw-V!ww!f-di3u!qwfVew)*t!p|Q!ejmwsfpdX3u!fqh!!>-!tjpwQfbds3f)nwbVdw!!)+f!dsofbtuptmjveu!j>p!oi*u<q!fgEmhppbgu!!udb1p!m>g!!u<fsypfumdGbfGuhdpig)!tudbfpomfgE!f<q*uziu-j!tqo-f!u1o*j/!y-<s!/gmmfpybfuu!)mx3p!q>!!>u!fpyBfmmbGofjugd!iu)btpdmfgo!f\vEgfjqeuoif-$!\vq!!~.!!<j1w/f2d!3>)!3s-/!m1f*y-f!u1!*|/!y*<1!/g1m!p>b>u!!sm/2m!f>y!fuuf)y!fgmjG!f<u*d1i/)2t!d-f1o/f1E!f-qsu/im-f!yqf!u.)!qjnwbfmdd3!)>2!-s!/1m*f-y!f1u*!/\vyI<U!QgFmEpHbPuM!!sg2f!e>g!ju$f\vy!f\vmgGjfeuodfi$)\vt!d<f*owfVEwf!q-ufit-v!gqg!j,E!uj)wEf3df3s)v2u-y!f1u*!->!!1m*f/yyf<u!!g5mdpfbwu!!\vsf3t!m>f!$u\vf!y~f!m~G!f<uudiih)jtfdXfmobfuEpfuq!u>i0-!!mqf!y,f!uj!w|f!df3t)m3f-!!~1!*<-*!w1V*w/!y-<f!tgvmgpgbjuE!uc)3E!3>f!suvfuyyffmuG!f>u!dmif)ytfduf!o|f!E*f1q/u1i!->!>q!!u.i!hjjwffXdm3b)u1p-u!)3!*g-j!!1~*!/~y!<<!ugimhpjbfux!!c+2!!p>g!ouJffymfqmnGbftu!d>i,)!tmdffyoffuE!f<quuiih-j!fqx!!.>!,j!wufidh3j)f1X-m!b2u*p-u!!1<*l/dyf<i!Dgfmhpobbus!!u>2!!u>i!hujffyxf!muGbfpumdgi!)<t*d1f/o1f!E-f*qfumiq-n!bqT!m,b!njswpfod!3-)m1b-n!s2p*o-)!u1p*e/)yy<b!ng!m+p!b*u*!fut3V!p>U!gugfpymfmmbGGffuddoib)uttdjfeo!f0E!f1q/u2i)-!!+q!!u,t!jjEwffodb3m)Q1u-o!f3h*o-b!u1!*+/!y1</!2g.m)pqbyuf!!e>m!!l>d!fbicDtf)h)o3b/s1!!u+b!pmm2g!!.<!*m*3m*b!n.s!pdo1!*-<t!pgQmepmbsup!xe!s.!!>f!mbqcntb)T)t3p/Q1e!m+s!psx2)!u.p!es)3t*c!b.!!>d!1u*t<j!EgfmopbbmuQ!ueocf!h>o!bbuc!tu)b)p3m/g1!!<+*!wcV2q!!.-!icu3q*f!E.f!mdq1n*b<t!)gtmppQbeum!sepuX!u>f!hb!c>t!)f)m3q/n1b!T+t!puQ2e!m.s!pux3!*4!d.f!wd!1<*1</!2w!f.d!41!/d3f!!+>!!bhcfhu/XppgsomJefQmpqtn)bdt1!->!!wfVmwq*n/byTzm{b<n!swpfod!44!defqwe!y<!*>1!!)-eqm!!-=f!tevsg*g!j@E!ud)fi!d.u!fhGfmufXypfsum!e>Q!pptg)omJ2f-m!q)nwbVtw!!5.d!fwwf!d<3y)/2*/11!!-0q!-sifutqpfmEveufjmpqon/byt-o!x1p/e1)*i*d*u/fyGzm{f!y;f!u.!d>f!!i,u!qhffEufXmpqsnmbetQ!putb)psm2g-!!<)*w6V/w1!!,+!!wofpdj3u)v2m/p1t!f0s!)s!f0t!p*mqv)u3jdpfow/!y>-!!w1V/q1!*3*d*f/wy!z<{*<!!uwfftdg4g!pe!q,e!z*!6>/!1)!e+c!!o=p!jeuuv*m!p@t!fdsf!!+.!!whVfwu)X!p)s3mdefQwpjt!)>c!2q-!!3)dwfVwwj!!.<!*wzf!d-3y))13/d1f-w!!2>/!1u!f0t!gsgfpt!p3mdvfuwj!p|o!/*z,*,*z*!/<y1z/{2!!;>!=.!dzf!!<,1!/h2f.u!X>p!szm!euQbpptm)gu)2s-p!g)!w|V!w*!,,,!yw!f<d13/)21!/>1=-!!y2!/<11!/02!.s!f>t!pym!vuubjppmog/)zs*p*g*!/<ygzg{p<m!msbfGufvdsoob!uotpjsen!b;m!jg{gfp)mdmsbpGtftd)oebquetyj-e!!e+q!efzt*V*p<U!t~v!j\ve$bjsg!e@f!gt!vFjGeGbFSDfUd`bTqITBoEfFfSs\vd!tv>o!jfgtpVspnU!gigjphmimqb!Gtfbdnoqbmuftsj3eE!!utbdpfmogf!O<ptsvnjbemb<s!!v;o!j*g!p*sonp!jnubvum5p!tqfssp!k0N!b*u1</!1v!o-jtgvpjsenb!sn)b3ud5f!ww!j,f!xwNVbwu!<-!ivuoqjfgep)stnp!Qnebmus5p!Xqusfphk!W-jtfpxQNebmus<p!xv!o)jfgdposbnu!twjfed!4@!!dtbvnjfesbbSQfpdtb<q!Tvoofjfgspdstn!!>g!mfptbVup!Uutjvnjfe<b!sv!oujbgppmsgn!!<w1f/d14!]>T!BuNiQhMjFfTX^m!btubpnuq!mufbtp<m!gv!o<j*gwpVswn!!-g*mwpVbwu!!-sibueqjfvet)<t!pvQoejmgsppsXnu!fghm)pmbbun!sepjOtfuubvoqdnfpGdb!m>m!pmgbgn<s!pvoo!j4gdpfswn!!<g*mwpVbwu!!-gisubqnffe<)!tvpoQjegmpsspnX!ucfphp!m>!!ttdpsQfefmosTpqxb!d4fdSfbwe!j|v!tf<t!mvfo!j~g!p<s*n1!/t2b!n-q1m/f1s!3-E1!/c1m!v-f1O/p1j)t5fd<f!wn!b>u!4m!fnybfluf!S|p!u*b1u/j2p!o>[>)!gimupqbfue!)u!igfju!b<*m!f|y!fgum!p5bduf!wd!!\v>T!FdSpGtM)BuIi!fgufbe*g<j!$g\vm!p<byu/!*t!!w>V!wt!j-oi)uuqiffEufbo*f<d!ts!f)uEv3sfos!vnubyuf4u)!d>-!!i.u!qtf-e!!1u-b!ptm-g!!d<-*!w1V-w!!1--f!t1v-g!g2j*E<f!o~f!dwtp)jEe3!fnsbvjuoy)f*u!!|>!!gmmfpybfuU!feoffqduti!!5>d!fuwf!y|u!v*s)fo3jEb)nt!defjopfwE!f~q!u<i*-!!bw/Vfwv*m/byw<!!-j*g!!*)!e*f!q*u!i9!1>4>2!421/11/*1!!|)!4hdmf`wG!s-bchhDsp/mfpvsm!b>w!!w)fmdb5v)rwFfodb4i)U2t/t1f*m-!!)24/d1f*w<!!-s3f:u/v3s2o!<+!!~c!hwsf/df4v!mxbpws!m-e*Q!p6t6!1>/!1h!f)u4Xdpfswm!e.Q!p6t6)1e/f2q!u+i!-*!!w*V!w7*7<7!2\v5$/j1g!e)f4gd!fIwB!M-GcShFsT/\vf!vwmfbdw4!!)oxppsqn!b)my!j>n!!u)f5ydufvws!fo3sEv)utfdsf!o|f!O*p!sfnvbmmb-w!!w5Vdwf*w/!sohjc!<)!C\vH$SftmptUfs\vb!fwofjdM4!!5odpfswn!b<mt!p>Q!bdspfnnqbvdu!f4Odpfswn!bnms)pxgpjsomve!Q<pgtg-p!mwmVbwG*f<d!o\vb$uftojeej!gu\vb!pwmfgd!5n!soppgjjtofv!!><!tuvfjyeubvss!fu3bEp)mcgm!vnfsOppgjjtofv-!!<hsmb`GGhspbgh!Dupbppsmeg/!ynzs!p0g!j2o3v9!/<1s*b<f!Owhfpdg3!!uibbpsmngp!onjsppvgtjOovvn!c<fzsutj!t>o!fwEfhdp3g)!!u2b/p7m2g9!1n4s4p:g9j9o8v5!:<9f:s6b-x!B2z/d4o3f5s8b2q8t:o6b8s3u5!5m8p5p7c!!*n<s!pogpjjotvf!/<szhm!q,j>u!mivbNssnppmopjdp!vmtpOpvcn!cnfssptg!j+o!vg!s<bqnyfF<h!pogp!jmtpfp/cs!hn!s>p!ggjsobvd!u<)hoppgj!tmfp/psch!*n<s!pwgfjdo4v!!i<ftmvqjfesbWSffdd!b>q!Twoffdf4s)d1t/!1m-p!p2c/!1n-s!p1g/j1o*v<!!<jogp!j)uedpfus)sipfDmbqnfnsbWhf!dm-p!pocp!snnsbpmg*j!o?v!!1</f:e:p*N!s|f!eioffmsq!fusbWpfmdg!!>n!swpfgdj4o)v2!/<1z-u!j1t/o1f-u!o1j/!1u*b<p!m~g!!wnfsdp4g!juobvo!h<fsopum!p>d!!o4pdsfnwb!mnjs{pfg)jdosvp!t<tf)tijfpmOqffvsmWcf!dE-3!sofpmsqnnbbmt*!*n<s!pwgfjdo4v!!c<jfutbvoghgfjoEuu!!>E!3dssfpmtqtn)botp!snnsbpmg-j!ouvb!o<hifuoquf*E<f!vnsbUuX4E!zudcoof!s>b!qntboub4s)uu!bEo3hsffomuq-n!bctj!uqbiohhjfio!un-s!pogpjsonvb!m<*f!v+s!UnXbElzfdSopfusbbuqjtpoob[s)uo!pEj3tsff/msq!n+b!t3!/q1i!h+j!i4!/n2s5p2g6j:o7v3!*<!f<t!mgbmGpXbEuz!dpodfdsmbvqetfoeb!s>u!!1E/31s<f!mgqmnpbbtu!!quiphujbim!Xnfsjphgijuo!v>!!<1i/u1q<f!Egemfpmbqun!bstboexjpvet!UEp3Vstffm!q>n!bttd!sqfifhojTiq!bndsfpSgbjeojvv!t<!f@t!vegjgtjuEbfoodffd)t!!xEp3ssmfemQqpntb-t!!hnfsupXgpjsomve!Q\vpStF)UeJfTqPuQiN-P!Dw`VUwD!F,G!GwFf!dg3f)esgbje$j\vv!t\v-g!j1e/o1f*$!\v0!!~s!f<t*pmmbvnusjppoo!*+!!*6!/;1!!s,b!e6j/v1t!<-!ogpmjptbvum!dedjpt)u5bdofdwf!G>b!msmppmgpgDUhpbVstGf`!m>ht!d\vsgfjfeooTfq$b\vd!f~S!b<e1j/v2t!!>@!!ospbjetjvvmtdUdppV!t|f!!*+1!/e1j!t>u>b!oodpfjGtbvmmmdpdgpg)!!;g!js!b<e*j1v/t2U!p-V1t/f1!!+-!oepjjttuvbmodddfpG)bqmnmbpmgdg!!>+!!o1p/j3t<v!mgdmdppb!u\v!IcUjQbFtE!H>P!M)!ngjfoe)g!j1$/\v2!-~!!e<jutouvbpodd!f>G0b!momppjgtgvUmpdVdtpf!!|+!!*11//21!!*?!!0u!oovfpbds)*!!g+j!!g~x!j<eludif)ieDjfthuobbosd!f>),x!pusomvepQdp!t<-l!ddfbinDffshboQbpst!*+*!!f0m!qsnbbeTjdvdtpU!p>V,t!fo<p!jgtmvpmbdud!pq!i<j*!*>d!d2P/f7t2b9c1!4.4!:f9m9q8n6b<T!dgdmpp)btuc!bp!g.g!t1f/u2N)p!w+f!!*>1!/11/!1-<*!fgmmqpnbbuT!mpbgngstpfou!N-pmwbfnJsopwo!)>u!p2e/)1y!b0n!!G+T!B*N*QfMtFVTp<U!gggppsm)mgbmGpfbduo!bju!t>j!e1!/01!<1!/j2!)=!!+G!TuBtNjQEMfFoTb<m!Qju,o,f*h!o|b!uw!f+d!41!/t2b.n)qqmyffE;j!s1f/d1u!j@p!o1!/>2!!u>c>o!!f+m!qtnbbnTqem!f>t!]ljdofui)Djf*h^o<b!sg!mupbbpum!gn!p<w*f*Bmnbun!s>p!og!s-btdpuQ)eompsjptxf!/.h!!f,m!qpngbgTttfpuQNepmwsfp*x<)!uppgeg)ttfcubN!p>w!fu!t,j>E!fpogbgmtQfuuoNfphwofbJuo!wu<b!pwmfgd!4<!*tubfntqgmgfpQ!p,t!!w>v!!x-pfsmmqenQbpTte!),t!psQbeemjsvptXUupfVht!f>!!+f!mnqpnwbfTBtnpuQ!e+m!stpbxn!q4mdffEwj!s<fyd/u*jupfot<g!gwpf!d,5!!wpvg!g-tifuuq!f>E!fqosfpdktN)bEu3!f+s!vwufydf5u)!t>b!nfqmmqfnQbpTte-!!u2b/p1m*g<!!<p1g/g2t!f.u!/1y/z3{!!+0!>b!cphg/gftmfqun/bxT<b!upbgeg!t>f!uf/myqzn{b!T>m!bpngsgptof!u4/dyfzw{!!<+s!/1f/m6q!n,b!T1b/u6b<e!!w>f!df3m!qenjbgTgd!d>p!!humb`pGmsgb!h<D*pupfsteg/gypz!!,.!!wgvm!p-pfst)vpggggjtEfuu)/Ey3zf!s+v!usyfftup!m>v!ufjmpqon*b<T!bwufbde3!!5ddmfjwq!S<bfo{hjftD!i+f!dfl{!j>T!mtfuyffqu)!w+f!d*3^)j1]/l1t*j-Epogpgtttfjup/qy!z+*!!y+j!stuubfNqo)ppjgugbtufpus/)y!z>-!!uwfftdg3g)p2!/31d*f*w<!!|g!m*p,b,uj!!t<bTnFqMmQfNEBfTq`uNiV!O>!!=u!fjy!u<v1s!f>M!pje!)utodjf)osfpEgf!q<u3i/-1!!p+g!ggtgfpum/mybzG-f!d1o/b1u*t/jye<!!+\v!$fjtgVepfUgt!vMjPeHbEsF!Q;U!Ig\vg!pgmmmpbbGuf!deojbtuutTjben!q+m!ff!t>V!pmUjtovfjbesbjs{!f@`!etfvqjueib`Smfpdhb)qtTbonfqfmsfdEtf>q!ufit-V!poUfgbgsp-m!mgbbGsf*d<o!b\vu$tfjmet!fu\vb!pgmmgp!b<ut!vejjetbuSTebmnsqpmxf!!;>!!*p!s*uoippj!u@v!mmpjtoffsb!s0j!{*f1`/e1f!q-utiv`jpesbuSiepm)stpbxn)q3mdffEwf!q,u!iw-V!wo!f-bes)-t!pgQbesm*s!p;X!umfjho!f-btspjQ{efm`sepfxq!u)if)dtobbnuqtmjfeE!f@q!utiv-j!eobfSbfsd-b!qgTbosf*f<s!d\vt$!f>o!efjtgV\vp!Ugtmvpjbeub!se!jutbupXmpgs!m<e*!*>f!mphsoubi)pt!p@d!!m-j*offmbhsojb{)fo`jetf!q-u*if`mphsoubi)po)jptg.g!t-f*uf/m{h-o!bo)ftbpsd-)!3gubbsn*!!>;!!ymjjsoufbbNsojp{jfu`beufpqsu!i3)upbgng!t~f!u</3{J-Q!!o+f!bxs/-*!1g/b9s3*2<!!0g!mzpyb/ue!sspbpoDhhfbDsiGf`dmlh!!>-!fetjjtpuOTfbvnmqcm)fE!3>f>s!veujytfuuX!p>s!mfem!h@o!b1!/|1!!f;t!mtfn!p~p!u<i3tJuQf!q+)!1{//1*-1!/29/312-!!0e!jztyu/beosdpfpGDbhmbmspGg`gmUhp!V-tfft!j0p!O)fbvcmtc))eEj3tfusTvbunyqfmuf!!>.!!femjhtoubX!p|s!m*e1*/*3*!<>!>g!mypfbeuo!jt)b!ngqjm!ffWtbmmfj!e~!!><!3)JdQm!j+q!Szb/o*h1f/D9i3f2d!l0/!yz!y+/!edsmpjpqDShbboshGf`Dmihf!d-lf/tzj*p<O!fpvdmdcm)vEe3ffes!v,u>y!fsub!o>h!ffDmihfodbl!!|+!!*g1m/p2b!u>)>t!bynfqemofjE)f!qguji!!fat>m!fe!f~q!u<i3*J!Q+!!+g!myp/b*u1)/e9j3t2u!T0b!nzqym/fe!s,p!pcDjhbbts!G=`!mehj!t-ufXtpjspmOef*v!m+c!)tEu3ffqs)v!u2y/f1u-!!>e!pfum)heojbg!g|-!!*e1j/g1g!*>!>*!!y+f!etobjn)q!mgfjW!b<mfjmeh<o!bu!puubbpmmXgf!j<htivuj!e,b>s!!t>b!nfq{mjftW!bumbjpem<g!!~<!*gwmVpwb!u-!ep)dtdp!Q>e!mdsmpbXnuqf)h2!/>1!!t.p!Qpedmdsmpvxe!f4ed!f0w!!)~u!p<uobsmvXuffjsh!i<ub!u>b>e!!1>/!1s!p@m!p2D/h1b!s;G!`umphu!b|m!X*f1j/h2i!u>*>-!!e1)/!1g-j!!2</y1/**<w!Vhwm!`-GisubqhfDEpfmopfsd!t>)!Ew3ffds5v)upydfdu-!!>1!/e6!!u,b!p1m/g6!!<+1!/o2p!s>n!bumo*v<p!d~!!u\vb$pfmoge!j<g1\v/!2\v!$.j!g1e/f3g!!+Q!PbJcThT/JbPuOb`eC!M>V!Sm\vb!nvsopjog!p4sdnf!wt!b<nsq/mbfusb3eE!!>u!EdjdgPgfvttbfc<!!uvbopjmggp!s<ns!/tbbunbqem!f>s!3oEp!jctmvvmfdOdppj!tufb<p!mvgo!j<g*pwsVnw!!g-mfptbvug!gsjbEeuj)vEt3<f!svvoujygfpus!n>!!gbmupbbeu!!5xdpfswm!e<SwbVewj!v>t!<w!vv!o3jdgfpws!n<!*gzm/pobpuj!ujvomepftyf<s!!v0o!j1g/p2s!n-!yg/moppbjuu!vemjpttufbso!d0f!G1b/m2m)p3gdgf<w!!v>o!jfg{pjsTnm!fcypfpum!!3tddfswf!f<o:T6q2b5d2f/S4b!e>j!vjtq<!!uvbopjmggp!sunt!owpfdd!3|!!q*p)jotjtbpno!Eejjtplw]!O<V^NT`FTMBQN"],yS.glitch=["?$TjWoodfmfvsedfT!u=jcm","~v!o~j!g<p*swnV!wj!o-uf!hcbznqj<)!!vEo3jfgspvsuny!ftub>nsqpmmfpsD3hEb!sjGn`bmhhf!<|!!vfotjmgfp!s~n!!<txbpnoqtm!f,ss3pEm!puDEhjbtsqG<`!mvho!j>g!psspnm!pgDmhpbbsuG!`bmnhp!v<o*u3</!1v+o*j*g/p1s6n+!egfmfptb!u+!!btozh-meff<f!tv!o+j!gtpys)n3!dgfmwp)beuo!btsf)f5ed<f!wv+oujogvppsnnb!+g/m1p1b3u!!>t!fxfpeo`ty!<5!dvfowj!g<p*sbn/!bghmdp!b-uc!/tcfdf!e-`hz/<b!hvdo!j-gsp/ssnd!)g5mdpfbwu!!>e!jstpumppsDuhjbpsoG``ym<h!!v<o*jugfptsgng!pg!m.p!bqu!!-efjhtbunpjs)uEj3pfos`vzu<y!fvuo!j>g!pcsdn!!5gdmfpwb!u<!*dqp!m-`fth<b!nwjb)sEz3jfoshv!uwyffdu3!!>w!Vbwh<d!!d5pdoftwu!!<g*mupfbtug!gVpo!q,b!dql!E-pfxhobtndjb)mEf3!f>s!v3u6y6f/u!!0>!!3s6d7!/5<d!fdwp!o<t*u*!fwmfhdo4b!)Qobjdtl!G-b*dfumphsotb!)>t!pwdf)d34d)f3w6!7+/!!u+o!v3p6n7b/!!>+!!u3f6t7g/g-p!!336d7f/w!!+<!*3/6670/e-f!f3t6)7+/z*`<e!fdfpto+tmub!nwsfpdo5>!,Vzo/qqb!d<l*G/b6d0uepfsftt!)>+!yV`oeqfbfdtl+Empbxnostpdob>m,fy!/0q!!w~f!d~5!)<Q*byd`loGpbjduusppsutt-j!e2!/,*!<y!/gqm)p!b.u!!/v2o!q>b!dyl/SqH!C|B!UfptEmffq!u~i!)<dyp`ootpuj!ujsop!uwtfjde5>!yw/*q!!||!*s/f1u?vzs`oe!fefptu))gwj-!!|V!o*qebfdfltG+btd`umppsdt.*z<`!o~p!jgumsppbuut!jseb?oye/)qw!f%d%3!!td`pm*p|d!,szf`uovpsjou!sgpsubtdjue)=tyj/oq))egpju!)~d!p~/!y<zz!`-owpfjdu3s)p2u3t/j:e9!:>9!-z8/9q/!3|4!4f*t*m*f!!+~!!5<4*8z6`9o/p6j5u6s4p*u<t!j~e!!w,p!jze/!qn)b!j.o!)/*2!!|>!!jzg/!q)!c|z*q/=12?*y!`|e!fwfftd)3g!jq!!|>!!*weVfwf<t!+gtm`pmbpud!.yyt`!o>p!jgumspppust)jhem?`zG/sqb!h%D%p!pts`em/pyd!,0y!`1o/p6j*u<s!pgumtpjbeu=!zz/tq!)>g!jg!m<p*p*se)fhfmt`+GesfbfhtD+pqp!s-eq/tzj!E0u!)1!/E63*f<s!vgumypfbuu)!ioupqsfnEbpmU!B>C!HvSolqdb"],yS.bloomBlur=["?$TjWoodfmfvsedfT!u=jcm","~w!b\vsgzjjeoohf!$w\vf!d<3*!bw/Vywj<Q!fvsovjugypfsun!!-tnbvnTqumifhsj3fEx!!d0p!mnpvsTUfftyvugvgsjfe<)!5vdofjwg!p>s!ns!pwmfpdD3h!busfGy`Tmjh{!f\v<f!tvmofj$g\vp!s<n*!1w/f2d!3-!nevjTsufidhujjfpxo!<0!!gnmvpTbfut!vhgbgvjtet)j5bdofQwe!g>)!jsop!mgpmDphbbus!Gy`-m!hj!o\v!BgImQpMbBu`!FtEjJhSnSbF*W!P|!!gsffeugvjs$o\v!!1~/!4<:x9!:+5!!1+/!3f!y>q,)!.n1v/T6u!i+h!jyf!x+!!<yx!!0+!!)*t3jfhmnqbn!b+t!!t,j!h2nfbm*q*n!b0t!)t!j>h,n!bn<v!T~f!twvpgjgej!en!b<jcoh)s*/!*|u!fwtfgdg3P!wjvo!w.T!jw{Vfw!!>-!f2s/v1u!y0f!UusfpymTpjd{)fE<3!fgsmvpubyuf!ug!T>j!h3nfbm!q>n!bgtm!p4bduf)wT!J<HcNhBs*/<*!ugfmtpgbguP!wxvf!j,h!iwuVTwv!n-!f>s!vhubyvftUtsjpbmopQde)gE)31f/s1v-u!ygfTuj!h>n!b2*f<m!qwnfbdt5!!4udffywu!v<syf!Q+j!yf!{>j!Tuwfoyju!v+s!fo3pEj)uddpfmspjseU!f>y!uuvfstfg-g!PwwVvw!*3<d!fwwf!d<4*!benjhgjgTvgt!f-Tyv)ng!e>Q!oubfjytutvvsbfhQ!j>y!/xs!hucb!p+m!gx!f<j*hji)uuTbvpnm<g!!g>p!sy!!)ujbopum!gj!!|>!!*2,<,!jj!!<=T!VLJFESBOSF`M"],yS.bloomHighPass=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*gbpisqnm!bt!b-nmqfmyffsu3!E-!supEmjpgDguvvtqfu<v!pv)oyjjgnp!s>n!!sgpmmppbDuh!bmsvGn`jmohp!t<j*uwz!U-iisufetjiXpimuep<p!nvto!j,g!pesmnp!igtmfpsbiuU!ztunjptppuoijXnjvemu!i-<e!mwpbistzfjsoihU!zwufjdt3p!owjVnwv<m!)wqpfjuet!inubpjpon)t*!!>|!!bwifqdm5b!!uufbypfmmg!!><!*u1f/y1u!v-s1f/31E!)-u1E/j1g!g-v1t/f1-)!5wdVfww*!<>!!wsfpdm4p!Dmuvvnqbu!v>p!!w5fddf4w)!1</*3b:n:v-m!!1-/{6z9y8/-m!f1y/f2u2)5u*p<e!!g>m!pwb!u"],yS.bloomComposite=["?$TjWoodfmfvsedfT!u=jcm","~w!b<s*z*jwoVhw!!w-f6df3s!vwuVywf<U!svvomjcg)pEs3nf!stvbunyqfmuf!s+3!E*!1c/m2v!s-UsfpymupvDsufo2j<U!nvpopjmgcp)s5nd!ftwb!n+q!m*f3s/31E)!scpmuvdsbUGfnypupvmsCfq3s<f!mv!o,j!g*pwsVnw!!t-b5nfqsmvfusy3fEU!scvmmvcs)UEf3yfusvvsufy4f<u!!v+o!j*g1p/s2n!!-tsbpnmqpmDfuso3jEU!ncpmpvmscU)f5ydufvws!f+5!<*!5v/o1j)gsppsund!btGbnnpqpmmfCsq3sEf!mc!m,v!s*UwfVywu!v-s4ff6s<v!uvyofjUgspvsmnc!)tEb3nfqsmvfusy3fEu!!e+j!s*u1U/f2y!u-vsspfm<p!DvuoojjgUpnspnp!mgcm)p5bduf!wc!m+p!p*n7T/u1s)fsophuudib<G!nvpopjmgCpqssnf!mg!m,p!b*uw!Vcwm!p-p3nfSsbveujyvftU<s!vvmocj)gEp3sfns!vwufydf4u!!c+m!p*p1n/U2j!o-usDppmmppDsu<o!jgUmnppbpum!cm)f5sdqfCwm!p+p!n*G9b/d1u)pssp)uddpboGtnup!pjmoC!qgsmfpmb!u,!!g*bwdVuwp!s-*2!f|s!vgumypfbUus!vnmjcs)sEp3sfGsbvduuypfsu!!>+!!2*/13/!2.!!-gsbpdmuppDsu<o!jsUfnupvpsmoc!)n5jdyf)wg!b+d!u*p1s/-2!)nsjpsusdpbsGGnbpdpumpCsq-s!fcmm)p!p+n!Sibuehjovfts*u<T!n~p!pwmpcj!e>!!nsbpjmop)D*h!b|s!Gh`m"],yS.highlightHard=["?$TjWoodfmfvsedfT!u=jcm","~v!o<jsgppmspnD!fthbenfq!m>f!ss3pEm!pjDnhbbhsfG<`!mvho!j~g!p<sens!bwdftdj3e!!u|f!y*u6v/s1f!T=j!{ffh<e!fv)o!jggjp!s<n*!fghmepfb!u-!1f/e2h!f-X:j/e1u)iq<f!uvtoijugpppsnnt!!w>f!df5h!effe!h<f*Dwp!m+p!sw<!!,v!oij!g+p!sin)!uwsfrdt5!!>n!bfthleDfp!mupbsp<m!gw!b<suzijhojhS!qwpfud,3u!iwhVjws<+!1\v/$3j,oudimhvjeSfn!p=uiujphci,mujghfiMuqEpfuu.fudguf/mg+t1//i3f.bueg?f\vM!nwppujuep!cn.b!j>o!)i*!!u|b!pwmfgd!3<!udidh!j>S!nwpVuwu<p!cg,mnppbuuu!pecy+!1>/!3f,euhgffXMjnepuuiu!p0c!,uufiyhujvSsqfpTuj.{qfp/uy+<1!/g3m.pubguf!Meqzp!u>.!!f>e!hwf!Xujbepumig!!0<!*u*fzyeu!v-syfeT)j3{dff/wz,<d!dw!f-df3h!bdnpjp)ssep<m!pgDmupibhuj!muiphqjMIfugfuh!!>>!!hufiuhIjjShnipmujuhpicu!Dupbmppmsg)!j<n*b*hzfe-!!-d1d/,1w)f3dd3f)w.,edyd-!!-.fehzb*n*j<)!sgpmmppbDuu!iuhpjqm!i>h!jhIfuufIhj!h>i!mnjphuiuupDcp!mupbsp)mjgn!b<h*f*-z!ed!d-,ywef.d)33)d1f/w1,-d!d.!e-zf*h*b<n!jg)msppbmup!DuupiqhSjjmhiihuj!I>u!fhhf!u>I!juhgifmMjnhpiuuuDppcm!pusb)pjmngb!h<f*-*!1d/d1,!w-fyde3))3edyf-w!,.dedz!*-*f<h!bgnmjp)bsup!mmpfDguui!h>j!mhifhujIIjuhfihm!j>h!iuuiDhpjmsp!su)bjpnmbgh!f<-*!*d1d/,1w!f-dy3e)."],yS.highlightEdgeDetection=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*gep)s5nd!ftwb!n+q!msfpsm3pEd!!j>n!bshpfm<p!DwhbbsszGj`omhh!!w<f*d*33!gwgVjwe<!!-v2ogjggjpes)n3!dwffwd)3i!uuhfoyfTmj!{>f!<e!!vuobjpgmpgs!n<!6w/f1d+5*!4ddp!m.p!s5<d!)v!o>j!g3pgsgnj!ew!fudb5p!mngb!t<l6D/p1m+p*s2<d!!\v.$!j3odd)m!v>e!f2!g=gijjeh!iumbjphmigu!E<f*uxfzd/uu/fgttg/giPfwbve!?.\v!!wwVpwj!e-!fnhbbjnoj))*s!p|m!pwDfudi3h!jjmoiwhTjjI{uff!h>!!>2!/51d!!0u!bupfmygT!j<{*fx<z!/wuffdt5g!gvPwwPvg!g,t!fwuV!w>!!-wffhdb5n)j2)/s1p-m!p1D/u1i-h!j1m/i1h-j!I2u/f1h*!!>+!!4wdf!du5b)pjmogw!T<j*{zfy-/!ujfotwgTgjP{wfv*!<.!!gwmVpwb!u-!fdh2b!n>j!)hsfpumIpjDhuiimhjjhmiiuhDjpImupfsh)!j>n!b3hdf!-u!bwpVmwg!!,<!*vzwyP/gugft"],yS.highlightBlur=["?$TjWoodfmfvsedfT!u=jcm","~$!e<fngvjToufi!hNjBfYx`!S0B!EnJvVTTf!t5v\vg!gwjbes!z>j!oshp!mwpfDdh3b!swGV`wm<h!!v~o!j<gbpusmnf!et!b>n,q!muffst3gEg!Pjwnvb!h<f*<x!!v+o!j1g/p3s)n!!>w,f!dn3v!TuufiyhTjjf{xf!<<!*vxo!j+g!p*s3nf!mwqfndb3t!!e,j!s2ffdmuqjnpbot<)!)v!o>j,g!pnsvnT!fgtmvpgbguj!es!b<e*juvftt<g!ggPmwpvb!u.!!hwbVvwt!t-jfbhobQnejg))Ej3of!sgvmupybfuu!!y>-!!3jfom!qgnmbptb!u5!dtfjwh!n<b**u!f|t!gsgfPuwvvs!o,!!1w/V4w:!9-:f5h!b+n!jf)yEq3)f.s1v/u6y!f+u!!y>!!+2!fym!q0n!b)tt!j5hdnfbw!!+<!*ttjvhjnebb*s*!!-0y!/tujfhtngbg<P!w~v!)wgpejQeo!bnjbtjtov)b*h!!|>!!wxf!du3b!pjmogw!T|j!{*f,!,>j!!2</T1V!J0E!BuSf`yYTBjN{!f><=!!gjm!p<b2u!!>x!fjj!huioujT)v!ns!p>g!!h<bbvutmtfjeb!o>Q!eugf)t1g/g1P-w!vs!b3edjfvwt!*<<*!TwVfJdE5B!Se`jYgBgNv)tufbTpvmng!!>0!!utfvyjuevbssf!3+E!)fj{njbThwfo-j!!w+V!wo*p!j+u!dxffsjjhei!u>T!vbnu<m!fwef!d3"],yS.highlightFinalBlend=["?$TjWoodfmfvsedfT!u=jcm","~w!b<sszpjmophD!mwbfodj3g!!w>V!ws<p!mvpoDjhgbpssGn`!mthb!n<qfmvfmsb3WEf!hjenfb!h+f!<w!wv!o+j!gipushno!ftsbunTqfmhfesf3!E>!!fsephmfpUDfmybuovjsgf!25<d!fvwo!j<g*pwsVnw!!t-bfnhqbmnfjs)3sEp!mfpeDhufiUhfjymuivhsjfI3u<f!hv!o.j!g1p/s2n!!>g!mwpwb!uu!bfpemhgf!T<uxspfmoHhfuhie<f!!v+o!j3gfpvsmnb!Wgfmhpebfu!!,f!e2hffvHmmbpWxf<h!evfo!j>g!pfsvnm!bwWffdh5e!fn!b5tdlfDwp!m<p*sw<V!w\v!$-j3ofdsmvvueyff!U=fihjehfi)mEj3hfisuvEufyuffud!u>/!g3tf/vimfbbWef?h\ve!fw!p5jdef!wn!b<j*ow)V*w!!|-!2wffsdv5u!yffeUhffhWebfm)vEf32f!s>v!uuyf"],yS.fixColor=["~b!u<u*s1j/c2v!u-fe!fwnfsdp4g!tboQbpstuj)u5jdpfow<!!+\v!$yjjgseufbgN!xVfTjFW`mJfOeTpUNBvO!D+J!OyHj\vs!u\vb$Neufdgfjkopfs!QVvT!F>`!JoOpTjUuBjOtDpJQO`Hm`hG!M\vBgUj`eToIfB$E\vF!E~\v!!<\v*$*f1o/e2j!g-\ve!f\vn$sjpogdtmovbesfu!)=5jdoftwu!b+o!dyjjoshu/bwNtm/fiefpbNev?!\v+!!vnosjpggptsonb!snUbmub5d!pvMNqpjemfDmvW)j4fdxfNwb!u>s!joyp<j!uvjotjpgQpmsbnd!pnMbwu!5|!!vfNtpmeff!m~N!b<u*sojpyj<u!jvtopjQgbp)s4nd!fnwb!u>5!!ovpQjsupjktfpdQumNbbdupsMjwy!<|!!\v*$2j1g1!1N/B1Y!`=C!PxY/`^D4M]JnQsQpFgSt!o?b!s1U\vm!bwdbpsMzqjjomhD!vw)f!dg4j!!w\vXgpjsemoefQ$p\vt!j<u*jyp/ow<V!b\v!$-f*o*e1j/g2\v!!-\vw$Vjbg)!4edffgwj!o+f!ey)jDsMuJbQN`wEVJvS)F3DdUfJwP)O4*d\vf!ww!b>s!zwjVowh!!\vwQfJdM4D!`wWMVp!dgbfmeQgpjt$j\vu!j\vp*oO<P!JvUoDjFgSpJsEn`!QnJbMuD5)!evfDomjjgqfMep!dgbjm$U\vs!b\vogtjgeposfn$<\v!!\v<$*j*g1e/f2g!!-VeWf`nDsMpJgQt\vo!bbsuuu)s5jdcfvwu!f+!!wyfjds3u!bbNVmwf<e!pvNovj)g4pdsfnw!!n>b!uo4p!jvuVjwtNpbQuesmjsyp<X!ww!b\vs1z!j?o!hS!FwQfQdJ4M!Dw`VYwP<C!`\vY$BfNo!egjjg$\v\v!!\v\v$gfjoeeojfg$\v\v!!w\vp?jzee!pncb/jtow)/*h!o|j!dwofbdu4t!oujs=b!oftegvpmsdnofje$!\v>!!\vwHfOdJ4D)ObBQUpTtOjJu`jFpToV*!<g!f\ve$gj","~v!o<jsgppmspnd!!w>f!ds5p!mdppDmhpbss<G!`\vm$hj!g\v!?NzBeYp`cC/PtYg`/DyMpJcQqQjFmSd!=?!!f1e\vv!mwdbosjz$j\vo!h\v!?wzfedp4c!/wtXgp/sompejQupdtfjsujjEpqoj<m!d\v=$!ffoeevjmgd\vo!j\v$$\vj!g|!!e*f)gojjobfne!)eDjMpJwQ!`\vE?JeSbFfDiU/JtPgO/*y\vp!cwqbjsmzdj=o!hf!ewvfmdd4o!jw$M\vp!d\vb?meQbpftij/utjgp/oo<p!j\vu$djfgsejfEgq!jVmWd`=D!MfJeQv\vm!dwobjs$z\vj!o\vhg!jwefodf4$!\vw!V\vwg<j!e\vo$f"],yS.depthGrabber=["~0!0<!o$pQjSuFjGtJpYQ\vw!nv!o+j!gypjssnu!bnNboup5j!undpfekfpmsWqj!f>x!Nobpujsujjyt<p!Qv`omjhg!p~s!n<!*nebfun5s!pqgstpokbfsduu!j+p!oyNjbsuusbjNym<f!ebpunu!s+j!cnvsupfg!twofbds4U!mqbpdtpjMuqjjpmoD<v!)\v4$djfgwe!f>g!!oHpSjBuCj`tOpPQSmNbBdMp\vM!w\v!$|e!ffgtjmoff!!~V!T<F*`oJpOjTuUjBtOpDqJ)O4Hd\vf!wb!u>u!sojpcjvuujft!pwQfmdb4d!pbMOwp!s|n!b*m2<1!1w1b/s1z!j=o!hx!/w^f4d]4n!swpOgptsonbbsmU<m!bvdopjMgqpjsmnD!vn)b!ug5j!!v\vOgpjsenobfm$N\vb!u<s*jeyf<n!s\vp$gftmotbfs\vu!!\v+$!eyfjgsjuobfN!mVfTeFp`nJ)O4TdUfBwO!D>J!OoHp`jGuMjBtUp`QTeImBsEpFXEw\v!!\v\v1$!f?o!eSjFgQ\vQ!J\vM$De`fYgPjCo`fY!BVNT!Fg`jJ$O\vT!U<BeOfDnJsOpHg`tMoFbHsBuD!Z+\v!!y\vj$sjuobdNmxvfejfW!m=fjeoptnu!b>o!dojpojhu/jwttp/Qiwfnb!e5?d\vf!wv!o\vj?gzpespnc!/ntbwu/5h!onjpdeofbmuNtboujs=j!yf<e!v\vm$djogj!$N\vB!Y~`!C<P*Y1`/D2M!J-Q{QzFyS/!*?e!f1o\vo!jwlbts!z+j!ofht!swffwdo4J!ywjXspusbmNeeQopjtcj)u)j5pdof<w!!\v>$!feofenjsgp\vg!t\vo$besfug!j<oxf/!uViThFj`fTXLoJjOlOtJ!O+H!\vy!f\vu$seffWgojjolft!!C+P!OXFu`bUNFfYoUpVcS!F>\v,!!veofjogopjslnt!!c<p{p/mu!ivhVjtffXToljjloto!j+o!hy<f!u\vs$fjWoodjmlvte!f+!!=[tulbjNofoojpoch!/>w,t!/eiffoboej?l\vt!!v<ozj/gupishnj!fnXbouj5l!tv!D+m!jyqfMupsdfbWmoUjslbto!t+g!pZsunb<N!fwobpscz!j>o,h!!ewffodo4j!lwtM!p<dyb/muQiphtjjfuXjopjol<t!!w+p!jyef!unsbfjWoo)j*l!t|!!+w!fYdu5b!Nufsobpoct!g>p,s!neffeo!o>j!lwtf!d<5*)1q/p1t)j5udjfpwo!->!!2e/f1o*o<j!l\vt$!j5gdeffwg!!<HeSfBnCs`pOgPtSoNbBsMu\v!!+w!fydj4s!upbcNkefodjucO!p>s!nybfmu!s>f!Wwofjdl4t)!b5Odpfswn!b\vmg*j<e!o\vf$$f\vo!e<j{gz\vy!/j*g*!1)/v1V!t-fmTblnjsopoOjuodhf*k!c|p!)n5bduf5w!!c+p!oyfjNsbuubYN!o>j!lhtf)u5Cdpfowf!N>b!umsbjnys)ptOlujdofJkocepf!y\v/MyB*N<S!PnOb`uC5B!ScHp!ogffNebgujZ$!\v>!!<hyfjusCupboNfeNobjucs!j+y!)ytjlsjuobJNooejflyt/!z+*!<f!tnsbfuw5o!JcypjosfuNbbNue[o!j>c!!h>f!uyCjpsoufbNNboujsljty!)<tXlujboNJfooepfcy!/+{!*x</!unibhuj5f!XcopjolftN!b>u,X!!y>j!shufbuNCopjolftN!b<u[sujbyN)ftolpjco!J+o!e{f/yu/ixh*j<f!Xnobjul5t!!t>l,j!oyNjbsuusbjNyo!j>l!tn!b<uZ5u)b1N/f1o*p<c!!t+l!jzo/NubiuhsjjfyX!o,j>l!tt!l>j,o!XyfjjshuibuN/oyj!l+t!!c<pYoufbN","?$tjgo/dsmfvcecfb!s=Hcsvfgg"],yS.depthNormalGrabber=["~0!0<!o$pQjSuFjGtJpYQ\vw!nv!o+j!gypjssnu!bnNboup5j!undpfekfpmsWqj!f>x!Nobpujsujjyt<p!Qv`omjhg!p~s!n<!*nebfun5s!pqgstpokbfsduu!j+p!oyNjbsuusbjNym<f!ebpunu!s+j!cnvsupfg!twofbds4U!mqbpdtpjMuqjjpmoD<v!)\v4$djfgwe!f>g!!oHpSjBuCj`tOpPQSmNbBdMp\vM!w\v!$|e!ffgtjmoff!!~V!T<F*`oJpOjTuUjBtOpDqJ)O4Hd\vf!wb!u>u!sojpcjvuujft!pwQfmdb4d!pbMOwp!s|n!b*m2<1!1w1b/s1z!j=o!hx!/w^f4d]4n!swpOgptsonbbsmU<m!bvdopjMgqpjsmnD!vn)b!ug5j!!v\vOgpjsenobfm$N\vb!u<s*jeyf<n!s\vp$gftmotbfs\vu!!\v+$!eyfjgsjuobfN!mVfTeFp`nJ)O4TdUfBwO!D>J!OoHp`jGuMjBtUp`QTeImBsEpFXEw\v!!\v\v1$!f?o!eSjFgQ\vQ!J\vM$De`fYgPjCo`fY!BVNT!Fg`jJ$O\vT!U<BeOfDnJsOpHg`tMoFbHsBuD!Z+\v!!y\vj$sjuobdNmxvfejfW!m=fjeoptnu!b>o!dojpojhu/jwttp/Qiwfnb!e5?d\vf!wv!o\vj?gzpespnc!/ntbwu/5h!onjpdeofbmuNtboujs=j!yf<e!v\vm$djogj!$N\vB!Y~`!C<P*Y1`/D2M!J-Q{QzFyS/!*?e!f1o\vo!jwlbts!z+j!ofht!swffwdo4J!ywjXspusbmNeeQopjtcj)u)j5pdof<w!!\v>$!feofenjsgp\vg!t\vo$besfug!j<oxf/!uViThFj`fTXLoJjOlOtJ!O+H!\vy!f\vu$seffWgojjolft!!C+P!OXFu`bUNFfYoUpVcS!F>\v,!!veofjogopjslnt!!c<p{p/mu!ivhVjtffXToljjloto!j+o!hy<f!u\vs$fjWoodjmlvte!f+!!=[tulbjNofoojpoch!/>w,t!/eiffoboej?l\vt!!v<ozj/gupishnj!fnXbouj5l!tv!D+m!jyqfMupsdfbWmoUjslbto!t+g!pZsunb<N!fwobpscz!j>o,h!!ewffodo4j!lwtM!p<dyb/muQiphtjjfuXjopjol<t!!w+p!jyef!unsbfjWoo)j*l!t|!!+w!fYdu5b!Nufsobpoct!g>p,s!neffeo!o>j!lwtf!d<5*)1q/p1t)j5udjfpwo!->!!2e/f1o*o<j!l\vt$!j5gdeffwg!!<HeSfBnCs`pOgPtSoNbBsMu\v!!+w!fydj4s!upbcNkefodjucO!p>s!nybfmu!s>f!Wwofjdl4t)!b5Odpfswn!b\vmg*j<e!o\vf$$f\vo!e<j{gz\vy!/j*g*!1)/v1V!t-fmTblnjsopoOjuodhf*k!c|p!)n5bduf5w!!c+p!oyfjNsbuubYN!o>j!lhtf)u5Cdpfowf!N>b!umsbjnys)ptOlujdofJkocepf!y\v/MyB*N<S!PnOb`uC5B!ScHp!ogffNebgujZ$!\v>!!<hyfjusCupboNfeNobjucs!j+y!)ytjlsjuobJNooejflyt/!z+*!<f!tnsbfuw5o!JcypjosfuNbbNue[o!j>c!!h>f!uyCjpsoufbNNboujsljty!)<tXlujboNJfooepfcy!/+{!*x</!unibhuj5f!XcopjolftN!b>u,X!!y>j!shufbuNCopjolftN!b<u[sujbyN)ftolpjco!J+o!e{f/yu/ixh*j<f!Xnobjul5t!!t>l,j!oyNjbsuusbjNyo!j>l!tn!b<uZ5u)b1N/f1o*p<c!!t+l!jzo/NubiuhsjjfyX!o,j>l!tt!l>j,o!XyfjjshuibuN/oyj!l+t!!c<pYoufbN","?0t0g!/Isjfocuctb;s!Hhsmftgmg4v\vc!=\v!$fjeovdm"],yS.reflector=["~b!u<u*s1j/c2v!u-fo!pwjfudj4t!pbQQbp)t5jdufjwp!o+<!!yvjosjugbpNsxnf!jnWbmuf5e!pnnp!e+f!myUjfsyuubvNsofpNjbuudsfjkyp<s!qv!o>j!goppsjnu!jntbpuQ5`!mnhp!e<f*m1N/b2u!s-joyp<j!uvjotjpgQpbs)n5!dnfbwu!5+!!nypjesfumbWNjffsxvNubyufsUjmyf<e!pvno!j>g!pwsVnw!!n\vbguj5e!oqfs$p\vk!f<d*u*j1p/o2N!b-uospjjyu<j!twpbQsbz)j5odhf!ww!f+d!5y!jwsVuwb<N!m\vf$ejpgn!)N4BdYf`wC!P>Y!`oDpMjJuQjQtFpSQ!e?m!s1p\vX!ww!b\vs1z!j?o!hS!FwQfQdJ4M!Dw`XYpPsCm`eYQBpNt!jgujj$p\vo!<|!!\v*$)foojebjng!\ve!jwp","~v!o<j*gbp/sfnt!bwcf!d-4*!sdppmmppds!<-!cvhosj/gfptsbnc!)tzbbnmqsmffwsP3eEo!fumEcj)g5gdvftwf!<>!!wsbpsmzpjDohhb!swGf`dm5h!!w<Vews<b!d\vt$jjeg!!*N/B2Y!`?C!PzY/`wDVMuJ!Q}Q}F!S/!2?!!?1!\vy!/wwbVsuz!j}o}h!!1w/f!d=4!!zw/XwpVsum!e}Q}p!t1j/u!j=p!oy</!w\vV$uf)o!egjjg!\v<!xg/mwpVbwu!!0c!mzfyo/ewPVwwf!s>m!bwzV)ug!m3pdbfuw!!c<b*twfV-w!!g-mfptbvug!gcjmEfuo)ek*p!s|Q!Es3ffusvvsuoy)fcub!t>f!!f=t!b1c/!65!d@f!w)!3\v/?1z!e+p!cc/bttgf/!y+p!ccqmjfmode=*!!f;e!v)m2d/o1j!$.\v!!3|/!1*!)+o!j)b2n/!1e!j.p!wc!b\vt?fe*b!f+i!/)t2g//1y!p.c!qcjmmfdo=e!*f*e*v<m!d~o!jw$f\vd!4~!!c<m*f*oce/Pewoffsmmcb!z-)cw/ffdt4b!cc)bztbfm-s!fwwfPde4o!fcmmcf!o-e**h!/|e!osffmucv!s-oh!/wfftdb4c))czmbfmosefPwwPfesomfbmzc)!c-b*tsf//eso-f!mc"],yS.envmapCubemap=["~b!u<u*s1j/c2v!u-fo!pwjfudj4t!pqqp)t5jdufjwp!o><!!obpujuusjjtcpvQu`fm!hw!f<d*3y!fvewo<J!fbdubugs!j-cwvvu)fo!pgjmupdbfus!jgEbudffhJ!o>e!foyp<j!uwdbfsszjjEouhv!qwufvdP4w!!w|P!v*u)qovjubEnj!sefjdpuwj!p~o!<<!owpfjdu4d!fhsfjueE!jossfvduufjsp!o~)!w<f1d/32!.v!w>-+!!g{m/pobpuj!ugdbfdsfj*e!!||!!v*w1!/>6!!3>/>1!!f+d!bvgw)!!.g!j2!/f1t<m!fw!f~d!4<!1e/j2s.f!d>u+j!pzoy!/>o!pwjfudd4f)svjwe-!!<2z/{1y*/<o!pjjgu!d)fgsbjdef!!>>!>o!p1j/u1d*f!s|j!ee!j|s!f*d1u/j5p!o>!>>!!fedjbsgf)d!ugjjp!of/t{mzfy!<~!!~<!1f/m2t.f!!>j+g!!{)yg/bodpfj!u>d>f!s2j/e1!*<!y|z!{e/jospfjduudjfpsoj!e>!!>e!jospfjduudjfpsoj/ey!{|z!<*!1e/j4s!f>d>u!jfpdob/gy){!!g+j>!!f.t2m/f1!<~!!~<!1f/m2t.f!!>j+g!!y)/gobpdjfu!d>f>s!j3e/!1|*!","~w!b<s*zsjpomhp!Dwhfbds4G!`wmPhv)umqfvyufEUjusvfqduuvjPppoU<s!bvfoojjgmp!s>n!!stpbmnpqDmhfbssDGv`cmfh!!f\vogwjNeboqf<$!\v\v!$<jcohdsm/v*e*f*!{=zf/oodppjeujdofhs?j\vE!uwvpqjuev!Pnwb!j-oy)/*o!p|j!uhdmf`sGjsEbuhvDqpumvpPsw!!>)!4wdffdw5!)-1q/b1N-w!o1f/)1f-c!v1D/f1s-v!u2y/f1u*)<s!b\vf$ojjgMepfUgm!fVyTfFU`qMbJNOwFoBfS!\v>!!hcmh`sG/ssbphmDppDmhpbss/Gs`hmch!!>\v!fntbmqfU$f\vy!f<mcUhpsM/j*o*f*b{sz)/uofpyjuuvdsffsDjvEcufv)qfuovwPNwb!q--y!/wofpdj4u)d!fwsPjvEuuqv"],yS.envmapEquirect=["~b!u<u*s1j/c2v!u-fo!pwjfudj4t!pqqp)t5jdufjwp!o><!!obpujuusjjtcpvQu`fm!hw!f<d*3y!fvewo<J!fbdubugs!j-cwvvu)fo!pgjmupdbfus!jgEbudffhJ!o>e!foyp<j!uwdbfsszjjEouhv!qwufvdP4w!!w|P!v*u)qovjubEnj!sefjdpuwj!p~o!<<!owpfjdu4d!fhsfjueE!jossfvduufjsp!o~)!w<f1d/32!.v!w>-+!!g{m/pobpuj!ugdbfdsfj*e!!||!!v*w1!/>6!!3>/>1!!f+d!bvgw)!!.g!j2!/f1t<m!fw!f~d!4<!1e/j2s.f!d>u+j!pzoy!/>o!pwjfudd4f)svjwe-!!<2z/{1y*/<o!pjjgu!d)fgsbjdef!!>>!>o!p1j/u1d*f!s|j!ee!j|s!f*d1u/j5p!o>!>>!!fedjbsgf)d!ugjjp!of/t{mzfy!<~!!~<!1f/m2t.f!!>j+g!!{)yg/bodpfj!u>d>f!s2j/e1!*<!y|z!{e/jospfjduudjfpsoj!e>!!>e!jospfjduudjfpsoj/ey!{|z!<*!1e/j4s!f>d>u!jfpdob/gy){!!g+j>!!f.t2m/f1!<~!!~<!1f/m2t.f!!>j+g!!y)/gobpdjfu!d>f>s!j3e/!1|*!","~w!b<s*zsjpomhp!Dwhfbds4G!`wmPhv)umqfvyufEUjusvfqduuvjPppoU<s!bvfoojjgmp!s>n!!stpbmnpqDmhfbss3GE`!mfho!w<N*bzq/<g!!v-onjcg!p-snnu!)wyfjdn3!!>u!fcyhfsm/Tsjp{mfp<D!h\vb$sjGo`dmmhv!e<f*!y=/fgo!d-psecj!o-hm?c\v)!y\vj$ne!f>g!jnocf!!4SdFfDwJ!Q<S*PyD/BgM!`-QsJu!!1-/m4u2)9y4j1n:!9>9!7n2u9!448d:f1w8!\v\v!g\vj$eeoffg$j\vo!f<!cShFsD/J*Q*SwPvD!B-Mq`bQNJw3o!f1)/!2E63:f2s6v5u:y5f4u1):s2b9f:o6j4M6p\vU!mwffydf3U!qfbrNvwjosff!d>u!Vmwc)!j4od!fwwf!d<4y!/efj{sj*T!m|f!ygfmup!b>u.!!vy!/>w!vb!u<bcoh)se/j*s*/w{v-!!-.qebjNsw/oyf*)!!+E!3SfFsDvJuQySfPuD)BsMb`fQoJj3M!p,U!m1f/y6f<U!qgbmNpwbouf!!w>!!>s!c1!/46d!f.w!!b<tzj/of){djmTbmnfqy)feuj!s>/,z!-z!/.w!v2!/<1c-h!s2//*1**w*v!!+-!qSbFNDwJoQfS)P!DEB3Mf`sQvJu<y!fsuf)usvbsfoo!jwMfpdU3m)fvy-f!Uwq*b<N!w~o!fw!p>j!es!un!b4jdof)w*!!<|y!/hfm{`jGTsmbfhyDfpum!p>s,!!>y!/wwfvd!5<)c1h/s1/-*!*1w/v1!--!q1b/N1w-o!f2)/!1E*3<f!swvfudy4f!up)vsubqfvoujEMjpsUfmdfuyjfpUoq!b>N!woopfs!n>b!mmju{!f4)dwfPwv!u\vqfvtumEfj$s\vf!d<ucjhpso/**<*!wwvf!d-3q!bvNww!o>f!)f!rEv3jfssfvduuyVfwu))psvbufqovjuMEpjUsmffdyufjUpqob*n<!!>w!fmdc3!!4gd!f>w!!g<syb/dfu{)jvTwm!f0y!fuuf!y>f.m!Tyj/{wfv!!.<!c1h/s6/**<*!wvvw!!-.q>b!Ngw!o+f!)u!fEy3ffmsTvju{yff<u!)\vs$bjfgoejfMgp!UVmTfFy`fMUJqObFnB!S>\v!!swcf!d44d!fuwm!!<>z!/nfb{qjUTfmyffymfUup!M>j,o!fzb/sw)vu!f<ycuhvss/f*3*Ew!v)!f-oqwbNNbwqo-f!)v!wE*3*f/ssvhucy<f!uv)ws/byf!o,j>M!puUfmyffymfTUjq{bfn/!y><!!swuf!d4"],yS.envmapBlur=["~b!u<u*s1j/c2v!u-fo!pwjfudj4t!pqqp)t5jdufjwp!o><!!obpujuusjjtcpvQu`fm!hw!f<d*3y!fvewo<J!fbdubugs!j-cwvvu)fo!pgjmupdbfus!jgEbudffhJ!o>e!foyp<j!uwdbfsszjjEouhv!qwufvdP4w!!w|P!v*u)qovjubEnj!sefjdpuwj!p~o!<<!owpfjdu4d!fhsfjueE!jossfvduufjsp!o~)!w<f1d/32!.v!w>-+!!g{m/pobpuj!ugdbfdsfj*e!!||!!v*w1!/>6!!3>/>1!!f+d!bvgw)!!.g!j2!/f1t<m!fw!f~d!4<!1e/j2s.f!d>u+j!pzoy!/>o!pwjfudd4f)svjwe-!!<2z/{1y*/<o!pjjgu!d)fgsbjdef!!>>!>o!p1j/u1d*f!s|j!ee!j|s!f*d1u/j5p!o>!>>!!fedjbsgf)d!ugjjp!of/t{mzfy!<~!!~<!1f/m2t.f!!>j+g!!{)yg/bodpfj!u>d>f!s2j/e1!*<!y|z!{e/jospfjduudjfpsoj!e>!!>e!jospfjduudjfpsoj/ey!{|z!<*!1e/j4s!f>d>u!jfpdob/gy){!!g+j>!!f.t2m/f1!<~!!~<!1f/m2t.f!!>j+g!!y)/gobpdjfu!d>f>s!j3e/!1|*!","~w!b<s*zsjpomhp!Dwhfbds4G!`wmPhv)umqfvyufEUjusvfqduuvjPppoU<s!bvfoojjgmp!s>n!!stpbmnpqDmhfbss3GE`!mfho!w~N!b<q*<t!jvyobj!g-pbsunf!ijuo)uf!mtqbnnbqTmuffth<!!+v!o^j!gjp!s]nt!ugimhpjbfux!!x>f,j!hcihust/]s!pom!p^D<h!bvsoGj`gmphs!n<!*ctpjpymb!!m-bbuujfuivue!j+o!b1m/<2!.v)ofjmgqpnsbnT!ugfmhp!b+u!!^e!Uji!f]utbu<i!hvjofjxg!p>s,n!!cghmsp/bsup!mnpjDqhJbosuG<`!mvho!j<g*pjs)nu!bwpfmdg4!!+q!pbmuffBiyUjet!<>!!\vb$ujfoidum!vuebfp!m=gf!o~d!p<eljbofhs?c\v!!|\v!$*etffgmjqonfb!tF!O>W?N!BjQ)`!UgZjQ!F|`!D*V,C,Fj`!V<Wo\v!!=\v!$jj!o<d2m!v>e!fj!!=udovjc)f!FsopwgS!f<g*mtfjdyubj!p-o1G/T1?)\vf!mwqfndb4T!uhffhu!T+b!n^q!m1f!)]gtmupibhuj!fuxi!f>u,b!-c!hwsf/ds4p!mbpyDjhtb*s!G|`!mghm!p<b*u1!/d2p!t-U1i/f1u!b-!1>/!1d!p-t1)/u1i)f5udbf*w<!!>w!fsdp4m!ptDbhnbqsmGf`Emjhs!f<d*utjjpyob!)>f!{wjPmvbunqsvpuoE!j>s!ftdjuyjbp!o~!!+<!*dyp/toUpijfuudbf!s,j!Edusvpqtutv)Pbwy!j.t!--!1w/P1v!u-q{v/uoEpjjsufddfusjjpEou*v!q+u!vtPjwo))4udiffwu!b>*!!t,j!ybby!j|t!!*+*!*e*p1u/)1b)y4jdtf-w!!w-Ptvjuyqbv)umEbjvsrffd)umjmpbo)*!!g+j!!)<2*/o1p!j.u!ddfpstjUEiufvuqbu*v<P!ws!f-utvjsyoB!fcmjpmqj)otftbpssDdv!c;f!VtWj)yfBofwmNpbqq!-@!!tmbbnoqjmefvEujjsufbdmu!j>p!ot-j!ynbj!q4Jdofuw*!<|!!~*!)wopjjben!"],yS.oitBackBlend=["?$TjWoodfmfvsedfT!u=jcm","~w!b~s!z<jeoshb!dwtfjde3!!|w!V*w1</!1v!o>j>g!pbs/ns!ptmbpnDqhmbfssG3`Em!hv)C!bgdjl!D<p*mwpVsw<!!-wsppjmep!DnlbdjboC)v*)!E|3!fhsmv`uGysfbuh!D>p!msp"],yS.oitFinal=["?$TjWoodfmfvsedfT!u=jcm","~w!b<s*z!jbo/hs!pwmfpdD3l!dwbVcw!<,!!vbo/jsgppmspnD!utobpnsqgm!f-sc3hEs!/vsGpsmppoDulDdpbmcp!s+<!!svfojjmgqpjsunm!vtNbbniqqmmfbs!3,E!!cvhCsb/dslpDmppmDpuso<p!swgp!j)e5!dnfbwj!o>)!*s!p|m!pwDfhdb5s!Gg`smpho!u<Dbp/msppsm!p>D!uuofpysugv!s.f!31E/)2v!G>s!psofujDmpqmjpusm-v!NwbViwq*m<b!!wufbdp5m!gc!b<d*lwDVpwm!p-ss!p>m!puDflydubvCsvf)3E"],V.common="~$!e<f*gwj!o-fv!)Q3Jd!f4w/!2o5s2v6u:f3s7!6<466/91:!8,:!4J\vQ!`\vM$BeDfPgSjQoJfD!FQSJ!3+!!7*/*319/422!9-614/128!2.8!:-6z9/7s\vj!e\v)$qenfbgmjdo)fo!jQtJb`!I>B!MwG!!u2b/p6m8g1!8<:67/413!7,8!:35J9Q:`7M7B\vD!P\vS$QeJfDgFjSo!f+!!S*FyD/JsQjSeP!D-B{M/`sQjJe!)1o/b4u2b9!4>1!:v9!9u7b2p9m4g8!:|1!8*\vs!j\ve$!e4fdgfjwo!fo!jS)FwDVJuQdSfPsDjBvMr`fQ!J33d!f1w/!2~6!:<216/52:!5.4!1>:>2!9^:!644!6]\v^!!\v3$!e]fng!joosfv!uFfQsT!J|M!P*On!!25fu.b7n\v)!y\vj$sjugboNeffwgj!utdbfuqvtssbfuQft\vj!!\vm$pepfcg!j~o!f<!*tcbhusv/ssbpumfp)db!*-!tdumibhnjqf)xb)-u!p1e/!1o-s!v2u/f1s*!\v<!*\v3$3f8o1e/j1g!\v-!3g6m2p8b/u1!!q-p7x332)3d/p1o)t4ud!fjwo!!>g!mtpubiuh!jyf*x!!|4!dsffwu!v|s!o*!syp+myp<d!!~4!dgfmwp!bouj!!quptxo4p)dd)pfodtoub!ojjon!vgMmfpwbjuu!bym*f!S|p!Ussfbufvosjom!!yu+byp+myg<!!~~!!<gqmnpub!uo!sqvpuxf5s)!d<p*o{t/u^!!j3o!!]gnm!p-b{u/!^y!*2!!|]!ng!m-p{b/u^!!y13!!]>n!)y4+dyf<w!!s>f!u^v!s3o!!]yq3n+uy!3<<*!z~/!^g!m3p!b]un!!n-bzy/4^)!d2p!o]tnu!!-jzo/!^w!f1d!4]!nw)*4!d|f!ws!f>u!v^s!o2!!n]bqyn)un!b<y*)yw//^y!-3!!w]/nz!*--y!/w^/!{2*!<]!n~!!-gym/p^b!u1!!b]wnf)s4bdhffw)!d>p!o^t!u1!!j]oq!nwuf!d<4q!ndup!m4pusb*n!!||!!s*fnu!v4suob!ne!pouj)!duptmoppsd-)!4wufbdN4f)t1p/q4t4o4b4s*u*!<4!u~b!ni!j~h!i<q*!{gzmyp/b*uy!jssbuoben)!d+p!o*t1u/!1j!o-!swjfed)35!dvfww*)!)|f!{djpmobtnus!pioj!hoisqv!ugfmsp!b|u!!*by!j>s!u2b3n/!:59u:b9n-!!ocj!!>-!s8j9e/!344d4f-w!!do!j>)!o5p4j8u6d9f/s6j5E6n4s<p!gitjohbisqU!fgtmspfbwuo!je!u4!d>f!we!p~u!)<v*w{/zyyz/-*!*w1f/d13!)-bs-jce*)*5-d!ftwo!!+>!!ynjpseu)benu)-)!fQ{Jj*m<b!nssfpuov!soos!vgusfbsd!u|)!t*jyoj)stuob*n!!+5!udb*n<!!o~j!!t-ussjved!u4!dJfowd!joejf)ooupMjjuhdifus!j|E!nwsfpdg4t!odbpsmup!s4<d!fwwf!d<4~!!e\vjgsjfedoufj$p\vo!<<!mcbpnpsmp!Owujbtpjdcsmbff<m!d~!<4!dtfuws!v\vdUuB!PSDfSgBmFfMdDu`fFeTMVj!hgifue!g|j!$w\vf!d<4s!jeEjxsffjdwu!E4jdgfgwv!t<fm<b!nwsfpdo4!!4edjfswf!d<uoTpqjfudjvtmpbqs!<4!dwffwd!4|!!juoyefjusofpdDudEjjsgugfvntpff<H!!wufddv4s!ujto!e<j~s!f<dsubTmqvfd",V.packing="~w!f<d*4s!bqgb!d.l!O[pqsjnmbDmwUopjS!H+C!)*dspboftou!!.j!os!bwgf)d)4!!0o!p*ssnbbgm!*+!!|s!bsffou)v!soos!voupfssn!b|m!j*{sfb)go!pusbnpbmmg*!!o+j!!1u/t6o!p,d!!1-/s6b<f!o~!!uwbfpdm4g!!voojq!budtloSpHdC!U-p[OqpjsmnDbwmo)jd!puobtpum!gj!oo!jw!fudt4o!psdh)c[*x!f|j!WspfUuivusqof!E3f/w1j!u+d!fsqhtcs/fyqz!{u!b.p!m2g/!1~<!!<~*![dxpfojtwu!!+g!m*psbbuf!oQ!b.d!lsVbqgt)d)b!m0f!!*>s!b3g6!7+/!!*0[!x3f6j6w/!<,!!dspboftou)!)g!mopsbvuu!fVso!q|b!d*lsEbpgx!outbdpbmmgf!!o>j!!3u6t6o/p!d0!!-3s6b7f/o<!!udbppomtgu!!owjf!du4t!oQpbdd!l-G[bxdfujpws!tu!b>p!mwgf!do4j)!3u6t7o/p!d+)!i3u6q7f/E!f+w!j3u6d7f/q-t!s3f6Q7p/U![+x!f3j6w7!/u-b!p3m6g7!/~*!<<!sdbpfoot!u.!!w*fsdb5g!!V.o!qsbbdfloG)b!d+u!p[sqtj!m>D!sVbofqobjdml!Eopsxvoutfdsb!m|f!!*0s!bwgf!du5b)pQmbgd!loGjb!duutposptd-!!-2s/b*f<o!!dupboptmug!!gomjp!buut!oTpidj!g-u[SqjjhmiDus9b!f>o!j2m/!!u0b!p3m6g7!/o<j!!wuftdo5p!dq)b[dxlfEjfWqpuUiiUupqSfHECdBj)idqpbosthup!ijuos!pg!mupbbpum!gw!*~!!|<!*wsfbdg5!!.s!!s>b!fwof)d!50)!g*ssbbdfuo)!w,!!+[!xQfbjdwl)G!bodsuvpusfts*!-|!!w**s<b!gs!/uzb{pxm!g.!>o!js!/uytzo{p!d+!!-Tsibjfgou!Sujbhpimug9!<o!js!fuutvospod!!s-![+x!fQjbwd!luVbqptmdgb!mofj<!!u~t!ogpmdp)biuu!qvfoEqdbjdilqSbHsChBpUipuEsfPqpuUi[)xdfpjowt!uu!bjpom!gw!f~d!5<!*w**1!/|6!6s3f!u0v!sxo/!we)p!u,)!w{-/!wV!o-q*b1d/l6G6b3d!u0p!szt/*w<)!!~,!!wyf/dw5)!3qdbfdwl!3oIsbvmugfUsp!S|H!C*Bw)!w5fddf3w!)wg*m!b|I!3wpfUdB5C!HsS!l>d!bwqfodv5!)3wd/fyw-!!~g!s<b*dxu/)sw!/-y1!/+6!6336!60/!1x*/-s!!w./!z{-/!sg!s-bzd/us)!w-/1z/!6+6!33!606!/z1/*s*!<.!!syf/usv)s5od!fw",V.bsdfs="~$!j<g*oEe!f+g!!HV)T!F+`!VGC!Po\vs!vvuofjsg!p<s*nI!Ogumppeb!u-!tgtsffotjoofjmiJto)uhfooptijQuozo<j!m\vC$`fEo!e>j!gE\v!!uwbfpdm4g!!C<S*E)Gu`jMdbjnmcqfnsJu`)hdoppoitQuo!ojjom!Cw`fHd!4>!!eHj!gugbvptmfgD!p<m*pIsW*u!p|e!!s-f1u/v2s!o-!sSpFmDpJDQsSbPmDvBdMf`qQtJ)!l+d!jemjigdgTv`tGf!D>p!mGp!s4<d!f~w!!w<f*d*4s!jGE`gTmdbiim!j-dslj)Edxpfojtwu)!ujpoe!)wffudb4s!vgu1b-t!!d>p!oItWuu!pjeo!!ugbmppmbgu!!<g*:*1s-j!Edgpmobtiu!!-jmob!ngsmppob)uu!peep)ufWuIb*s!v|u!bgtm!p>b!uI!Oguspfet!oufbmp!m>g!!f<y*qs3j)E)x.f!j6w/!6,6!5s8j4E!u+i!hejpmu)WfI{!j.m!b7n/s:p9o4!2>7!*s!j+E!gempbuiW!I4*d<f!ws!f|u!v*stot!fgosjfotjoiftm!Juobupfmogt!joujz!!u+t!o)pgd1!!-+s!p)m2p/D1s!b.m!vgdsffqtto!f4md*f!w,!!o)jg!:u1t!o+p!dg!s-fmtbonfsmp*o*!<4!d~f!wg!mopjb!uu!tWo`pHdH!Y-`sTjnEjxufijDwp!s4sdffmwb!uofje!)udtpooptdu!!-jsoj!Egumiphbjum!!b4mdqfiwb!-o!jd!puottoup!dj)oh!ogpmipQbouo!jempCu`OGME-S!Cd!p4odtfuw!!j~o!!<g*mtptbfuo!jeopjuiOtW!*-!I|O!ugpmep)bxup!qb!3+!!>*!1q/p2x!3,)!b6m/q1i!b+*!<t!tgfmopjbouj!ihtw)!!>+!!eJpQu`OMMB!D+P!StQrJsDuF)Sb!3o!s,v!u)f2s/!1|!!.*!IbO3u*p!e+!!uqbppxm3g)!eopju!OuWt*o*p<d!!g-mtptbfuo!jhomj!i>t!!eupbupOmWg!!+o!jt!rustuo)pbd3)!h,o!p)i2Q/o1o!j.m!Cb`3E*!!u+b!pqmpgx!3~)!e<p6u3O/M1*!*o<s!vsuffusv!s|o!!*1)/u6j!d0j!mnqbnyJ)`hhwo!p,i!Qhomo-j!mFCQ`THJ!MuPbOp*m<g!!~~!!g<m*pubmuv!tEf`sH)H4Yd)fdwp!ootsuv!ujfos!!g<m*psbpuu!dbbmGqnisbp-G!sdppuodtfuw!)jsop!ugdmbpGbnus!peGpfusOfIi*q!T|e!fgqmqpjbmuD!`bD3U!M>!!>q!puxm3v)tbfmsq!iubb*p<m!gg!m<p*b^u!!1e!f]otpens!p>p!dq!p-x^3!)4e!p]utOeIs*p!p+d!))sbp3u!d.b!G2n/s1p*G!s,p!u2d/f1W<f!hsefFu`vDsUoM!!S>F,D!JsQpSuPdDbBGMn`sQpJG!s+p!ubd3f!w0!!<q*p^x!34)!e]ftoepsnp*p<d!!~-!^w!f3d!4]!tCeSsEpGp`dH)HsYp)uddpboGtnus!pjGos!pwufddf4W!fmhjehFi`uDEUjMs!->!,d!psoptuud!bjGon!swpfGds4p!uwdjffwx!E<j*s^-!!3d!p]otteus!pjpod!!w-f^d!42!!o]ptsensbpmp-d!)dsppoutdub!Gjnos!pwGfsdp4u!dgf1W-f!hdepFo`tDuU!Mj!o>!,g!msppbuud!bgG:n1s-p!Gdsppoutduf!wj!o<!*g^m!p2b!u]!tsepsvphpido!f-t^t!*1!!|]!tgemsppbpud!)bsmpquidbb!G>n!sqppGxs3p)usdpfvWhfihoefFt`tD*U<M!!w>f,d!4s!piubdmbgGEnjssp!G>s!poupdsfnwb!m<j*{1f/)1m)j4hdifuwE!j>s!!s,p!uwdjbfGxnEsjpsG*s<p!ugdmfpwb!u4!defpwu!O<M*!^>!!4t!b]utvessbpupfd))efp{uj)mobpnssnpbom!->!!m^j!h4i!u]Etjess*p*p<d!!g<m*p^b!u3!!e]ptueOsWp!p>d!)tfb{ujvmsbbnusfp)oe!p>u!)^o!p3s!n]btme-s!pwpjdf!x<E*j^s!*2*!<]!tgemsppbpud!)efp{ujOmIb!n>s!ptob!u>v!s^b!u2f!)]etpeus)poppds!n<b*m^-!!1i!b]mtgeEsjpsp*d*)<f!{gjmmpbbnus!peop!u>W!I^!!>1!!t]btuevsspbpudf!)<e*pQu!).w!j^f!x4E!j]st-e!sipbpmDguEdjfss*)*!<+!!wufbdn4!!>G!!^>!!4G!`]Ttdeismpjpddl!)<g*1Q-!!.g!:^1!-3!!e]ptueWsIp*p<D!ugdmfpsb)u!!+W!!u>b!nW!`>H!H^Y!`3T!n]jtueisDpppsds!f<m*bQu!f.e!)^b!m2q!i]bt-e!sepppuDOuMd-f!se)p!u+O!Wu*b<n!!g>m!p^b!u2!!E]!t>e!sEp`pHdH!Y<)*bQm!q.i!b^-!!1e!p]utOeIs*p<p!Dsufdufvss)o!!+G!!u+b!n)!W>!!+^!!E1*!<]!t~e!swpfpdd3!!<M^U!D5`!V]wt)edsppoptdu!!4jdof!ww!f<d*4*!OO!--!3dUp!o-t2uU!)j4ou!bwnf)d44u!bWN-f!tdppqottoub!sjuo!!+g!mwpobJun!!s>p!vuhbino!f4tutb*n!!|<!*d2pUo!t-uO!)gtmtppbsud!!M.V!U>`!T3JU[!F<!*>*!O7!5-/W1)<u!pdep!o+t!uO!!g.m!pWb)uf!{MjVmUb`nTsDpBoM!F>!!>2!U)!M<V3UU`!T-J2[UF!!4.d!f2w/!1<**!10/!1M)V4Ud`fTwJ![oFs<v!udfpso!t*u1!/g1m!p=b!u*!^M!V1U!`]CtJeBsTp!p>D!u1d/f6s!!0.!!MQV!U-`mTbJn[sFp<O!ugimhpjbmu)!ueppeu)OgWj!!><!*t3bwu!v-s2bwu)ft)teppsud)!O>-!!mWb*n*s<p!Owufidh3j!mv!w4!d>f!ww!f<d^3!)1s!p]vtheisopfptDtu-d!ftsr!s.u!)^2!/41!!].t!eesppupODWu*d*f<s!!v>w!!3>w!!v4wd!f+w!!M<V^U!`1T!D]BtMeFs!p,p!DMuVdUf`sC!J.B!T^<!!2s!f]utvessop!pvDwu<d!f~s!!g>m!p2bwu!!4MdUfDw`!D|m!j*q^q!f5e!T]qtiefsspfpGDpusdnfGsb!d4udpfsw)!dopjo!tuut!ojpod!!w-fwdo4J!ng!*4!u|b!ng!mopjb!uu!tmo!p>d!!m-fQo!h4udif)wg!*o<j!!suftuovpsdo!!-nWb!y4)d)fmw!!+o!jm!!u,t!ogp/d{!*-!O0!!4)dmf!w,!!o2j/!1u*t-o!p1d/)1f*u<b!v~m!bwwfFd`4D!UMMU!D4`dFfewh!f~W!f<dbuupfsiGuposjntG`bbduufpisu)!d+p!o*t3uw!!j-o2!ww)ftdt4p!swd2!-o!sdvpuoftsu!!<jwo!!.w!f*d*48!.wf32*!!-|y!!g+m!pyb!u.!!y1!/>2!)eypbun))wu2s-r!twf3t*s<f!wgomjp!b+u!!6z/!1>!!;b!cwt!)@y!**<1!/g1m!p?b!uy!)b!!>>!!b1u/f9i6u5o4j:t9`6b!u,f!i)u1!/u5b:p7m6g2!6<6c!!,0!!1b/!1>2!5w6!3u1b7p!m+g!!z<*z!!++!!z*<z!!g,m!p5b3u8!7c2!7>2!/45/)5!2,8!61:5",V["ubos.head"]="g$jjegoeff$g\v!!V<T~F!`\vVgCjPe\vo!fv$o\vj!g<pssbnm!vTddffqotf!!4|d!fnwb!u<5p!jvuQbsSpokpfjduudNbbsugsfjsy!<u!bnpbmug5!!<vtWtjffoxjNobjuistj!yu<b!pwmfgd!4\v!fvtDmbfn$f\vs!b<QspptmjpuDjspbom<v!dgfmqptb!u4!dvfUwj!n<fs<p!mgpmDpnbjus!!u4pdoffwN!b<qsqfjxophQFnyjqsp!tuvbspfm<g!!w<fzdu5j!tvoGfpuhoDJpsmbpmsv<d!fgqmtp!buub!pvmGgp!h<Esfpojt!juubzp<m!gg!m<ptbtuf!ovlGdpjhiOuf!busb<p!mggm!p<boup!jvtGtpjhnGtbosb<s!u~!<u!bvpomjgg!p<stnt!fNobmubfusfjnb!mu!b|p!mggm!p<btut!fbopiNhbvqpJso!uufboptmjgu!z\v<S!CgQm!pgbfue!gmjj$h\vi!u<NybjqsJuobuNf3owtVjvu!z4<u!bgnm!p<byuj!seujbtNqwmVbvd!f4nufbonu!T<dzbumjft<o!fgumopJbmuf!oetjftsqgm!budbfpnmfgo!u<CujtbftU<b!iwqfmdb4!!uebjpgmggv!t<fz<u!jwdfbdq4p!!funbjptmtgj!w<ff<m!bwdfTdm3b!nosp",V["physical.vs"]="~b!u<uysfjucsvfuwf!!+w!fydj4s!ubbQNputdjfukjppsoQ<v!!b>u!uospjjcuvjutfp!Qw`fmdh4!!\vb?Ozpespncb/mt<w!/\vq$bjNgxepfmgg!=V!TfFe`vUmBdOoHjF$O\vU!\v\v!?bzueupscj/ctvwu/fq!bwNfxdp5e!buibto=h!ffoeuv<m!d\vo$jf$o\ve!j\vgg\vj!e\vo$fj$g\ve!f~g!!<V*T*F1`/V2W!\v-!ebfunusspjgctvoubfs!uw)f5dd3f!wb!V+w!<y!j\vs$ujbgNemffge!pVNWv`!D+M!JnQs\vp!gwtbosbzsjUomhb!dgpmMpqbjum!DwvV)w4Mdpfdwb!m>V!<o!p\vj$ufjotepjQgm\vb!dwpbMswz!j|o!hf!twmffd!3~!!w<V*wo<p!j\vu$jjtgpoQebf)g4!dVfTwF!`>V!CoPp\vj!uvjotjpgQpmsbnd!pnMbwu!4|!!v*V2w1N1b1u/s1j!y=<!!x\v/$^f4o]enjsgp\vg!t\vo$bfsoUemjbgd\vp!M\vq$jjmgD!ve)f!ggjjo!f\ve*)OVPTJFU`DMFJSHJIEU`NQBJQM*D!)}e}f!oejfggfjeo!fgej)$V\vT!F<`*ByPfNuBsQf*w!)}4}d!fewf!g>j!oofpej)uVjTtFp`QVwWN3w*!\v<!ybfuuussfjwc!v+u!fy!jwsfudb3N!xbfVjwW3m<f!ewpbNsvz!j>o!hy!fwufsdf3w!!w\vVgwj3e<o!f\v$$\vj!g<o*eyffgu!sVfTwF!`+V!CyPj\vs!uvboNjmgfpespnN!vn)b4ud4f!wv!V>w!3oNpbjuusjjtyp<Q!e\vm$sfpoXewj!g\v\v*!O\vP$JfToTeJjNgT\vO!B\vS$Uj`oFdTmVv)eeff!o=jvgcfpet!/}i}f!b1e!??\v!!S\vF$QjQoJdMmDv`eYfP!C=`jYoBtNu!b}o}d!j*oQhB/NwWtO/Fi`fFbTeV?)\ve!fvoojjggfpes!ng!jn$b\vu!5<!*v1N/p2e!f-meWfjnfsxpNgbtuosbjsyu<)!5vdofjwg!p>s!ny!fnubsuf5w!!v5Ndpfewf!m\vNgbjuesojfy$<\v!!v<o*jxg/pusonf!hnobbuu5!!+v!O*pusonfbhmoNbbUuws!j-ym<b!n\vs$pjOgwo)etftgp!sVdT)Ff`{VjCmPb\vn!svpooj!g>p!suno!fnhboub5u!jvCQws!p<k*fudoufNhboubsUjeyf<n!s\vp$gftooebjsgu\v)!fw{bjsmzbjnoshp!ow!f>d!4u!owfOhposbnUbwm!<\v!g\vj$ejogfe$f\vg!!<VuToFf`hUoBbOUHeFfOnUs\vp!gwtbosbzsjuo!h.!!w>f!du4o!fwhUobboUheffonus<p!gwtbosbzsjuo!h\v!EwFfEdJ4T!`wQCJjMuGb!oghffeoguj<$!\v\v!$<f{ozeyj/g*\v*!1w/b2s!z-juoohf!hwofbdU4u!dwfNkwcQpp)t5jdufjwp!o+<!!y\vj$sjugb!NemfbgnjsopfOev))V!T>F!`uFoOfWhNoBbQU*e!f}n}s!pNgBtYo`bCsPuY!`4DdMfJwQ!Q\vFUSO!F?H!O1B!U}`}F!TeVf!ggjfoefgej)$V\vT!F\v`gUjSeBoOfT$N\vJ!T<TmJbPnOs*p\vO!ww!b.s!z>j!omhb!nwsfpdO4w!!w\vXEpFsEmJeTQ`pQtJjMuGj!pgof<e!g\vj$$f\vo!e\vj?gz\ve!p\vc$/jtgw!/ehfogjjdoofbeu)tDoMjJ=Q!`fEeJvSmFdDoUjJ$P\vO!*\v\v?!zwebpscz/jtowh/!qwbfNdu4o!fwnMfpddbbmmqQtpjtej=u!jfpeov<m!dvoojj$g\vp!s\vn?!znebpuc5/!tvwD/mhjoqjMopodjblmtU=s!bfoetvgmpdsonj<$!\v\v!$\vfgojeejogf\v$!\v\v!$<j*o{dzmyv/eufo!f=heojbtuq)m4bddffwn!f>o!uuNobfqh/owbtU/uidffbkec?p\v!!4\vd$fjwo!d\vmUvOeFfH!O=BtUl`jFoToVj!oghf/ewgtj/$i\vf!b<e*?m\vb!n\vs$pjOobd)m4vdeffw!!=>t!imbbenpsxpNObuqd/fwktc/pi!f4bdef?w\v!!<\v*$ojpojdumjvtepfQ!b=)g4mdpfxwN!b>q!/ewftn/sipfgbteo?b\vs!uw!p4jdef!wn!b\vjgoj)ewopfj$e\v*!!<|z!y\v/$*j*g2e!f-g3!wVVTbF)`4VdWf\vw!!w+V!wy!j>s!u)bvNV3wwNVbvu)s!j>y!!3+w!Vwwf!d\v4*)QbBVNwP-B!`2F/T1V*)*e/fyozj<g!f\ve$!j}g}e!f*gQ!BVNWU`IDHMJJMQ`\vF!TwVV)weMfpodjbgmfVe!!>g!jb$V\vw!/\vyg<j!e\vo$ff$o\ve!j\vg",V["lightsCommon.fs.head"]="~v!o<jfgdposbnj!ewbfsds4j!!bonscvjuffosu!M<j*huiiuhDjpfmXpfst<v!gvgojjEgjpnsfni!!w-fsdp4m!pmDjzhlitu/QusiphcjfM]j:n^f<i!!w-fsdp4m!ptDieHofvupJsshs/bueijhbjoMdjfnBfui))jyoj!nw!f>d!4f!doopbsjnebbms-s!jj!o4!dwffwd!4<!6t/i1D!p,f!gMgOjudpjef!o+u!t6]/:1^!*>!!|u!ighmjpfbXuf!tyv!g>g!joEpjsnnfbim!/uyb-p!mzg!!><!*ooppsjnubdmf/szj-e!/{u!i>h!joMpjsnnfbim!/-{m<b!nwsfpdo4)!uspfet!v>m!uM!O>u!ptei!Dupbfpgmggj!d|j!f*omubtn]s1p^o!!+4!d1f/w9!9o7j3!3u8t<o!psdf!t-vumiuh!j,M>j!ntfiiD!pufighgjjMdfjsffoiuqtt]j2n^f!I+!!o3j/!1u!t+o!p1d/)6f2d2o7b7j5e!b+s!szJ<u!ishfjtMvfmsuf!i,q>t!jtnifDIpuffghg!j4ddjffwo!u<tu]i3h^j!M+f!s3f/i1q!t+j!n1f/i6!2u2i7h7j5M!f+s!f{i<q!tsjfntfvIm!un!s,p>g!jtoivD!p<f~g!g<jedfjmfcobuotf]!4m^p!p+c!!3</s1p!m+p!D1e/o6v2p2s7h7!54!d+f!wy!<<!sspfmtpvDmzul!t,!>4!dtfiwD!p<fogpgjjuddjffsojuet!]45d^f!w+!!|3!/u1i!h+j!M1f/s5f3i:q1t5j4n!f+I!!yu!d+v!szu<t!!s\vfgtjvemouf!$,\v>!!<t^iTDUpIfHgJgMj`dBjFfSoBu`tU]D6F^S!`+N!V3O/]1t!u+i!h1j/M5b3f:s1B5u4d!f+s!!zu!i+h!j{M<b!fssfBtuvdmfuS!!,n>s!ptgijDopvf!g<g3j`ddjufmo!uEt3]s7f^m!q+n!b)t1!/n8s5p4g2j3o6v!!+<!2{`!d+u!m{!!E.3!s1f/m3q5n8b8t1!9n*s<p!gsjfotvv!m<u~!!,<>s!btmivDdpffqgTgfjmdcjbftojuet!]m8p^p!c+!!<3e/f1m!c+b!o1f/!5m3p:p1c5!4<!u+i!hyj!f+I!g{m<b!is!f4tdvfmwu!!<,i>u!etjiXDgpmfbgig!j4ddjffwo!u<to]p9j^u!j+t!p1q/!543d:f1w5!4<!s+p!m)pyd!!+4!dyf!w.!!|z!!u+i!hzj*M<b!fssfBuuvdsfoS!!sufdtvvsmuut<!!\v~1!!w?f!dT4U!IhHfJuMM`jBhFiSuBQ`sUpDcFfSJ`sNsVbOe!jgbjo$d\vf!)\vdgpjoetouf!$j\vo!!~w!f~d!4<!fmtjmhbigu!Q>s!pfcmfc]j:t^j-w!/dupiohtjum!!j<o*!1w/f1d)44!dofpws!n>b!ms*p!m|p!dw/fudi4h!jxmp!s|m!efOtpmsfn!b~m!!<>*!*j1o/w1f)s4tdffUws!b>oat!gsppsmnpEdj/sufidhujjmp)o!)>o!pfsmncbjmt-j!wv/WujifhxjNmb!u<s*jzyb*d<f!ew/fudi4h!jjMsuspbqetj!b-ofddfo!b>u!ttjieH/fuuiJhsjsMbuepjqbto!d-ffBduo)bxuptsjmEeuOiphsjnmb)mo-p!jmujbhvioufQusupBcffd*o<b!ustfjuEvusfoh!!j>s+s!bsepjmbpodd/fu<i!h~j!mw!f<do4p!jhufbuvBonfcujufBouupMqjth!i+u!Jsspsmbpedj/buoidhfj)Mduppoqttu!!>j!os!pwmfpdd4/!ubinhcjjmf!o<u*MsjphuidufDWpmm)pisu*h!o|f!mw!f>d!4f!djosbsubtejjEbuoidhfj!m>!!ubbnpcmjgf!o|u!M*j1h/i1u!D?p!moppsj<u!bsvfoufvusuoB!ujpsqstb)e!jgbjo!d<f*<t!p~D!fgmmhpobbu!!-htfpuDEbjstcunbvoodffqB/uuuifhojvMbuupjqpto!)-dtppoDtfuo!pjdo/!ugimhpjbMuu!pmqjth)ioupEjjutbuvboofdufu-B!udppqoTtuuf!hj!o>!!gomppjbuub!vdovfuupugBguEpjqttu!buobdpfm-g!!d<p*ootpuj!ujdof!sgjmep/buui!hejfMdubpzqFty!q-poopfjouud*f!s|j!ej/gu!i)hdjvmu)pugpgeE!j>t!utbpoDdffm!h?o!b1!/u1b!p%m%g!!e<f*dsbpzuFdyfqWpmo)ffo{uj!m?b!n1s/p1o*!!>|!!ospfjuuvdsfos!jqep/xu)ithbjumv!s<boupfj)u.j!tmpjqh/izusEujftnupbfohd!f.!!0o!pdjvuujptgpgqE/jutiuhbjoMdufp!q,t!!2>/!1s*p-u!deffWdmb!z4Fdyfqwp!o|f!o*uu*i<h!j~m!!sufiuhvjsMou!o2f/e1j<d!o~J!!gumvppb!u-!zhsfuufTnqppfuhB!uuuyffouvobpuDjdpjos)udfpnoptfuH!!jooj!!gumtpobpud!!d-puoifhDjpMtujpoqft-!!udiphojtMuu!pjqoT!!gomjp!buut!oqpfdo)vpngcosJbuDiphtjjMoufp-q!Tdupfoht!ue!jjpow!!g<m^pTbUuI!HbJoMh`mUfPDQpTt`jNoVfO*]!t|u!ishfjuMvuspoq!tt!nupiphujiMtuupfqqT)!dnpsopfgDjpotvj!o<f~-!!<qeffomvcnbcosfb!Dmpptpjco!f<-t!pbDobhsmcfnDvpotfjqo!fu*b<p!m~g!!\v<$tjpgD!fOoVpNd`!EuJbSp`mMgJ!H<IzUbTd!f?e!!1u\vb!ptmugs!v<dfud!oEbjustfjdeu!jupbopbmmgM!j<hsipum!p|d!!w4fddf4w!!e<jospfjduudjfpsoj<e!!w4fddf4w!!d<pomppjsu<j!tcppqp!m4!dffowb!c|m!fuei<h!j~M<u!pvqoTj!gupdsvns!uEtj!s\vf1d!u?j!pToUbImHMJjMh`iUuP!QeTj`sNfVdOu!jgpjo$b\vm!M\vjghjieuotf]$O\vV!N~`!E<J*S*`1M/J1H)I4UdTf^w<!!>wap!jsep!mhpfdu/Eujishfjdmu)j!p>o!bfmmMcjjhtijuwJ/ougiph)jdmp!o<t*uz!bjdof!eE/jusifhdjuMjupoojbpmqM!j-hfiduo!beujtsjfed/uujiphojbMmuMojjhpiqu!--!fddpoobtuut!jjEou!iHhfjpmn)foupsjjudbDvpoofuufuyBuf!dhofbpuntfjuEsuzf-h!!p>v+u!!sJpomdpjde/fuoiuhMjjmh!i<us!pmmjphdi/uu*i!h|j!Mmujohjipuq/!d>p!msppsm!p>d!/eujishfjdmu!j<p*osbpmuMdjfhWimu)/iduphmopfsm<!!>m!jfhdioub/uetjjsEfudiuhjjpmo!!u>b!pemjgs!f<d*usjppuodbfmWMmj)hfi{uj/mebjnssfpdou!j>p!oo<p!jmujdhfisuj/ew/jutijhcjmmf!!<>o!pujsuvjft<p!q~/!z\vs$uffonepjfgh\v!!.\v!$ojpgj!uOjVtNp`qQ/PuJiOhUj`MMuJoHjIpUqT!!>?!!s1p\vu!dtfuWsmv!d4ud!fQwp!j|o!u*Mujihhijum!!|u!iwhfjdM4u!oqfpetjjduojJp!ou<v!pw!f-dz4s!udfpnmppfsh<!!ugymfpuboup!Dedjjtsuubfondpff<H!!gomjp!buut!oepfdd!b-zu<i!hcjpMpumo!jfpoqb!cumifhej<M!u~o<j!pvQo!jogjp!sunt!oQppdj)opugMojJhuiiuh!jqMpujoojupMQjuhfihu!te]jOpVwN!`<Q^PTJUOIUH`JM",V["lightsCommon.fs.body"]="gHjfeponff$u\vs!j<d*DupiohujfMyeuf!uhdffpmngffuss!z-<m!bhjfspfnufbuns!z-/zqsputfjnupjfpho!!->f!d.o!bwjWejbfSxuQbpptdjsubjfpmod<!!-hffdponbfjuesbzs/soJpmscnjb!m-!f>d!oobpjsenbbsm)<s!bhmfvpdnffquTsuzd/fwsjjfexoEJj`sF!S>!!\vo*pssbnmbvmdjf{qfT)uwdWfjsfjxeQopJt`jFuSj)peof*o<j!g\vf$ej!ggejf$g\v!!V\vTgFj`eDoMfF$B\vS!D<P*BuUi\vh!jhMfepfnufdufsmzg/fdsm!f-bmsbdjpsbfuuObpns!n-bzms!u>f!ndpmffhb!s-dfpdboubOjpesbnsbsmj<)!f\vt$vfgogejjEgu\vd!fJsojdejoeJf`oFuSM!j\vh*ifut!vegjgsjfEduudMfjshjieuo<J!`\vF$Sj)ge!f)oOjVgNf`eQ!PgJjO$U\v`!M\vJgHjIeUoTf!$?\v!!1\v*g!j%e%o!fe$f\vg!j<o*ftet)fSoFi`hEvjpsSfudbup*d\vs!bQfpmjdo/umMbjjhsifuu!bqnp!j-omubMnjshpiOuu<b!p\vd$sVbOfSmPdM/Mz`sMuPfPnQp`fThU!B-SsUj\vE!xgfpjsw!/)zjsouuf!njp!f>h!)1f<d!ojb!j=e!bOSVMNC`JQuPfJhO!U>`,M!JfHdIoUbTj<e!bjS!u,b,p*d!s|b!fqmpdj!o\vuUMBjPhDiSuB!F>M!Dq`pFjToVu!Mgjfheigujt$]\v!!j<!*^t<t!fjogi!h)vqppsj/omubMjjshfiuub/nf!o-bmcbmnfsep*o!/|z!shuffunQppfjho!u-MsjjhEixufJjowg/pz)squpfjnopufMhj)hfiduo-b!jhefbpSnMfCuJsuzf-h!!e>j,s!ffdduoMbjjheibus*!<\v!*SsFb`mEvjdsffqdTuu)defjssjfedouJM`jFhSi)ue-f!ohjfgpfnef!u%s%z!-*!QnBbNuWfOsFj`bFmT-V!)seffgomjfgdfuef!egMjj$h\vi!u\v*g<j!e~o!f~$!\v\v!$\vVgOjSePoMfM$`\vM!P<P*Qm`bFnOsEp\vo!/\vz$sfuofenjpgf\vh!)\vf$djogb!j)eObVsNs`JTMQCPJUu`fMhJ!H>I,U!Tf!d?o!b1j*e!b%s%s!Jemfcgjj!o\vf*eW)VS`FF`CEVjDs`fFdQuZ*U\v`!QTBqNpWuOMFj)heifuo!jtgqfpeu!M%j%h!i*uE<S!B\vE$OVBOUSTP)MeMf`oMjPgPfQe`!T%U%B!S*UQ\vB!NgWpOsF!`)FjToVu)!ejf!o>j!g1f<e!!jg!j=$!\vO!V\vNg`jTeQoPfU$`\vM!J<HfIdUoTb<j!ejb!s,s,J*q!b|N!utiqhpjumM!j>h,i!uf!d>o!btjqepbusMsjjh!i<uztu]j!tjo!f^u<o!Jjqgb!N)utiqhpjumM!j+h!icuh/sf/o*bmcfmyffeU*q!b|N!uhifhujTmq)psubMfjohjiMupJUoCgHpS)tt!q>p!ufMdjohbijue-b!shsfJpqnbfNuusizh-j!me!j4sdffdwu!M<j*h3iwuV*w<!!-SqFb`NEujishfjdmu))Ee3jfssfvduuyMfjuh!i>u!-m!fhyffpUnqfbuNsuzi-h!jnmb!u5fdsfjwb!m\v-Q!BsNfUgImHfJdMu`fFeTMVj!hgifue*g<j!$~\v!!~\v!*\vf$tVvOgSgPjMEMu`dMfPsPjQe`oFJO`EF\vS!)\ve$ffoojegjfge\v!!g\vj$$j\vg!!\v)gOjVeNo`fE$J\vS!`<M*J1H/I1U)T4!d?f!w1!*>!!%f%d!oebfjgejboSfueb)pSdFs`bEfjmsdf!d4ud*f\vw!!E<j*s1f/d1u)j4pdofbwm!M>j!hfiduo!bejjesbfsd!u4jdpfowb!m\vM*jshbimuv<d!f\vq$TVuOdSfPsMjMe`oMJP`PFQS`)TeUfBoSjUg\vf!eg!pgsj!$)\vj!o\vug!jje!o>f!$1\v<!!~j!!<=*!uOiVhNj`MEeJfSu`dMfJmHgIfUsT!<-!mjb!j,s,f*u!b|n!!e-jzssfudfunjppfohb!m-MujihhijuM!u>d!fesjjsef)duudjfpsojbEm`MFjSh!i\vu?tz]e!pjc!/^t<g!/jqgb!N)xepjesbfidtu=j!pfoebvmmMdjohji$u\v/!f<ofbvcsmuf!e>*!!f|m!chjftujEwj/sufidhujjMpuodbfmsMjjeh!i<uoJpojgupd)fesjjsef/duuijhpjoMbfmsMfjihqituj-n!fhif!p>n!foupsjzu-d!fesjjsef/duuiMhjjhMiuud*f<s!jSeF!`<E<j*smfbdnus)peoj/szfsduufMnjphfihu!--!uhifhpjnMffussfzi-q!tnjbnuffis)jfbdmo-b!jsefbgsmsfJduuifhejMMjfhsifui*q<t!j~n!f~I!u\vf$hV!O,S!PsMpMm`pMDPuPiQh`jFMOuEo\vf!j\vc$nfbo!e>j!gs\vp!m\vp$dj/gu!i)hOjVMNu`dSfFsDjUe`!B|S!F*Be`fMmJcHbIoUfT/!u?i!h1j*M!f%s%f!ieqftgjjnoffie))!SgFj`!E\vj*sufddfus`jSEf`dFuSB)seffbo*j\vg!fSef!dgujB$s\vf!b\vMgjjheiouf!$s\vf!d<u*BmsbfnbsMpjoh/izus<u!f\vn$pVfOhS!P-MfMc`pMsPQPuQi`hTjUmB)SfUd\vo!bgjpesb!s)sjJofuc!pjs!Q>u!i1h<j!Mju!f=h!!O>V,N!`fSdFoDbUj`eBbSsFsBj`!M<J*H1I/U1T)<4!djf,w,!*>!!|f!dsofbdjueBbssfsbjM!j4hdifuw!!><!*s1f/d1u)B4sdffbwM!j>h!ifudto]bjj^e<b!sjsgJ!m)csjf!d4udBfswf!b\vM*jfhtivug/gfjoEbucdmffsej*e!o|J!`SFFS`)Eejfsofjdguf`eS!fgdju$B\vs!f\vbg)jsefodfu$B\vs!f\vbEMOjFh`iQuP-P!Mh`fMpMnPfSuOsVz$-\v!!n~b!u~f!s<j*bumi-h!jsMfegfmufd",V["lightsPBR.fs.head"]="~t!u<s*vodpuj!tQvimzdtdjPdubomfNjbcunfbs!j,b!m1!/|2!!w.f!d*4*!1e/j2g!g.v!ttftDfpomiphsv<p!sg!m+p!b1u/!7s2p!v.h)i3oqfytft!<-!owpfjdt4v!mtdqdfPduvomfbjscDnpbm!p,s!<W!Ogumppeb)ux!ptqq)ffduvbmsbvsuGb:t1!<o!s\vv$ujfgse!f|g!!*VtTtFf`oDiMhFvBpSsD!PuBbUp\vm!gg!mopjb!uu!tdompfdb!s-doppbjut<v!mgdmdpPbuuo!fdjmcfnbbs!dupbbpumSgp!vohji!oufttotp<d!!w-fWdO4u!pdem!fubbspdmpgb!uoGj1!<u!tgomppdb)uo!pdjmtfvbmsdddpPbsubGm:v1d<f!q\vT$ffuoveqjngp\vd!!\vu$bjpgmegf!g\v!mVbTdFj`tTzIiFQF`Os\vb!mwvfddf4q!TtuidfffsojDepomJp`sF<S!!gsmbpmbvud!ftqiTfufdofSspjvehoiJo`fFtSt!<f!o\vj$gffoee$j\vg!\v\v!m\vb$djjgtezfigQ!`JfPtSv\vg!ggjmEpubduf!sjjpeso<J!`\vF$Sf!ofetjvgg\vg!j\vE$ujdgfesfjge!oVJT`FF`SU!SfBoOjTgNfJeT$T\vJ!P\vOm\vb!dgjmtpzbiuQ!`ubsfbsoBtundjftSt`jupdof<s!jgEm`pFbSu!!bufssbBoutdnfjSt`tujdpfosBjmEq`iFbS<!!fgomjpgbfue!$u\vi!j\vdmlbodfjtttz<i!Qg`mupdbfus!jbEu`uFfSo!vubdufjspjoEE`jFtSu!bfoodjfg<f!ew$f\vd!4\v!gbjueuoffo$v\vb!u~j!p<o*Dtpemsppsp<D!u\vd$ffso!e-j*g1\v/!2~)<4!uwbfnd!4-!odpmjfubjstdppqb!u-TsqjfEdxvfmjbws!!->m!bwnfsdp4o))1f/u1b*v<m!bwwfFd`4D!UtMi!f+f!osTpqmfpdDvfmtbvsg!g>j!ew/fmdb4j)s1f/u1b*n<!!+g!msppbmup!DJuCiMhTjimf!f>o,C!SfEtGv)gdgpjoEtuud!fjsoj!ew/fudi4h!joMpesfnubdmf-m!gdfpso!t~u!!<j*ot!ewsfpdp4D!uwdjffsx!E-jwso-J!nd!p-ootpuj!ujjot!pgqm!p-bsuj!Esxpfvjhwi!o-fmtbtn*s!p|o!)gfmupbbvum!bewpFu`ODWU!M>!!+t!bmufvostbfusfg)!e+p!us)pomppsDnubimh-j!mw!j>f,x!Esjbsm*v*d<f!qgTmupdbfus!jse3/!u>i!hsjpMvehfiuodfftmtg!f+s!!s<p*vzh/i3ouf!t+t!<*!sgpmmppbDus!bbm!v>d!fsqptv/hmibojfstftu!b=n!!1./!3*61!/@2!).44d4f:w/)3!!,+!!ys/33!u,!!+2!7s2p/m5p!D+s!bsmpvvdhfiqotf/tmtb!j.s!f3u6b/n:)!!;>!!.m9f/o5t9f!s+g!!s43d!f,w!!2<5*/!4*!x+/!2sup!v-h1i!o-f{t/t2!u.)!4:d/f:w6!<-!*g1m!p-b2u!!-c1!!>)!4sdpfvwh!i-o*fzt/t2!u=!!-11/!3-6y!/@2!u5)54/d1f!w+!!)s43u!b.n!!3>4!/w8o!J+n!!s4puvbhni!o<f*twtv!!,-!34`/d3u7m!);E!32f/s:v8u!y+f!us!3>!!.3!u4!/53d8f!w+!!<s*pwvvh!i-o2f`tdtu!m,)!E13/f8s3v<u!ygfmup!b>u!!2EuH!!5>d!ffwy!q<)*bt!t+f!oeiphuvOpWs!/,m!bcj*s!f,u!b)ns!p-vshjiEoxfftjtw!!=-!m1b/n3s6p!o@)!w1V/`1D!U;M!!1>/!2w!v+!!3)dsfpwv!h|i!o*fstbtm!v.d!f1q/T3f6m*c*b<t!jsef/uuvishoj!MtbbfusvBsubduffs)aE)H!!g+j!!S<FuDiJhQjSfPIDgBmMb`iQ!J,*!<i!u~e!jwXfgdm3b!iE!G,H!BtqpqQsupiyh)jdmp!o>t!u^!!j4o!!]wtfeds4p!poDpusdnfbsm!-<!udiphojtfuI!gjmob!iw!f,d!4i!uwejjfXxgEmjbsi-!!.d!ptoptQuu!ijhoj!mg!m>p!b^u!!3s!p]vtheisopfptDtu*d!f|s!!g<mupibhuj!feIpgumObWi!!>.!!tibuuevjsXbgumfb)ie!p.u!)toppQsunibhmj-m!!w>j!f^x!E2j!s]*t*e<s!pdppDoutduf!sw!f<du5i!hdj1f!I>g!mwbfid!5.)!.i!u2e-j!X.g!m1b/i1!3,8!6t-p!Q.u!i1h/j6m8!3>-!!^1!/11!3]3t*e<s!pdppDoutduf!sw!f<d^5!!5d!2]!t>e!swpfpdD5u)d2f-s!!14/d1f5w3!6<-s!p2m/p1d5/-u!i.h!j1M/b1f5s*B<u!dwffsd!5>!!ss!p>m!psDpuvihhijomf!t4td!f+w!!d<1u!i,h!jdf2I<g!mgbmip/buui!hbj1M1b5f!s>B!undjfos)!s>/!yu!i+h!jsf/Iyg-m!bfiy!q43d)f.w!!:</i3u9e!j+X!gempbuiO/Wu*i*h!j+M!bsf/syB!u,d!fss/!z><!!iwufedj3X!ggmbbci!!>4!dwffwd!3<)o.p!j2u/j1t5p-q!/2u/i1h5j*M!b+f!sbB1u1d5f!s,!!>s!/t{pxQ<u!ishfjumv!s4od!fgwb!c<<o!p~j!uwjftdp4q!/Fzoswujfsnppofnhf!o>u!CoSpEjGu)jdtppoqt!u4!djfow!!w<fsdj4E!xofpjswn/bzms-u!fdnppofthu!!>j!os!jwEfxdf4j!ww!j4fdxfEwj!s<-m!bdnpsoptou/!zjsou!fwnfpdf4h!!t>q!fmdbvnmsbpsoD!p4mdpfsw-!!|d!p*outiuh!jjMoe!fgumdpfbmug!ftsq!fudivhmjbMseGf:u1d-f!mdgpfoSt!uu!vjpoo!jg!m-pmbbuj!ssfpuvbhni!omfbtjts*f!u|b!Nwmfbdd3j!tgzbicQ!!>o!jE!GuHtBoqpqds!p-yz)soupfsnnpbfmh-!!uwyjffuxoEpjDsd-j!ssupfvnhpifoHf!totj*!<u!tsofpudv!s-ou!ithqjfMdbvfmsbBsuDdpfmsp!su!i+h!jgMbbcf/syB!u,d!ftSq!fodjv!mubtsoGp:d1)!m+b!dgjbtcz/izQ<`!b~f!swBpujdef!Sd`pundqfvsujfEN`vFmSu!jetjdpbwu!u\vf1s!j?o!hT)UdIpHoJtMu`!BjFoS!Bw`fUdD4F!So`pNsVnOb!mg-j!$d\vp!o~t!u<!fjdoo!bwjfedb4s!swJjeffxuEijhsj-f!Xdfpoojttup!dj!o+!!wfftdv4g!gtjqef!d>v,m!bfstDvpgmgpjsE-u!ddfpsojteuo!jj/ou!ighmjpMbeuf!utdqffmdgvfmsb!s<Gf:d1o-b!jdepbostsuJ!ejfou!ighmjpfbXuf!osjptvphdi!o+f!thto-j!sjfoupuvbud!Twjfudm4v!nt!j>o,h!msfbTmdvbdufuqfTsu-d!fjsojpevouj!/wufidh4j!MnevfmuudjfTmdgbfusu!f<sh*o!j|s!fwufudb3d!Tgfbmch!o>j!tE!G+H!Bfqdqosbpjye)bosp!s>n,b!ms-b!mwvjdffxqETjusd-f!ssjpevohji/oufithtj*M<e!fwufddf4m!gGftst!F<t*t*!h>o!jtsqffuduvbmdbTsjDupmmvpns!!,+!!hgobjcs/fyu!u,b!dtTqffmdhvomjbts)G!:.1!!1+/!2g)b!c+/!zs<p!mgpmDpfbtuv!gFgtjte!/>m!bgjbscf/uyb!n,!!>g!bfct/vzg<g!jgem!p4bduf!wF!n<t*!h>o!j2s/f1u!u.b!dFTtjtu<m!vwnf!d-4h!oGjbswfhu!u>b!dtTqffmdhvomjbts!D-ptmtpfso!i,h!v)p2s//1m!b.j!stfqufbdnv!m-b1s:DGpsmbpmsv*d!f+q!t1//m1b5j8s7f2u:b<n!!w-fsdp4m!pGDnstb!m>v!dGftqttF/tmtb!j+s!fGubbwnh!!-0s!j)E2x/f1j!w./!zFsnutf!n+p!fGhb!w-hm*b<n!stpjoo/hzmsfuTfdnbpufuhf)sh!o,j>s!fGututbFdtttj<u!mnvvNmfuujvTqdnbpudu!f<sJ!Q,`>M!BGDnPtS!Q+J!DFFnSt!<+!!~f!dwopbjjee!bSsFs`jE!j>s!ffdduo`bQjiezbtsjsdJbemf)udiphojtfuX!fjooj!tJpodd!j4edffowu!M<j*h1i/u1!)e4jdsffwd!u>M!jhhoijus-f!udupbodtTuj!ujmov!nH!f4pdnffwu!s<j*d1D/p1o)u4fdyfuw!!h>f!phnofjussfzu-u!bddpToftmuh!ojjot!!Q4idzftwj!d\vbgmjNebouff$s\vj!b<m*!tntbfuofishjvbpmS-o!fjfoiptv/um!bSjfsgfmufbdnu!f-esMjjEhxifuj!ws/fzgsmuffdnupffehM!j-hmibun*s!p|o!/gzmspubfun!pefphu)OGME!S>C!otfbfuivTsMbCuJf!)+e!psup)mhpfDponfffuistz//mobpjssnfbumb-n!!e+j!sffddoubMjjehbisus/je!j>s,f!dsubjmpvod*f*q<T!owfffdi4t!!j\vsOsFbFeIjTb`oFdTfV!!>g!feepgujO$M\v!!+\v!gejjesoffd$u\vM!j<h*itut/fdopimhpvsp<S!u\vb$pjdgsebffgm!dV/TmFb`jDsMfFuBbSnD!P-B1U:\vG!ugbmppdbsub!fempdu/OmMbdjds!f>u!btnb!u-v1sGbuubfp)despbuf)mhdf/pmnbfjussfzu/bdnm!f-bssjdEpxbfujOwp/sznsbumf-n!pefjhs!f-dmubMnjshpiOuu/bepjdssfbdfumjdp/oz*s*u<f!nwpffdh4)!GdEdSJCsusobfenjobposdjfw!o>F!!e+p!ufOdModbdj!e+b!SeujbspfddsubMfjmhdi!u>/,d!psmbpmsv<d!fdqmTfubbspddpsbbufTmqdf!d\vvUmBbPsD!S,B>F!MdDd`JFsTsVb!egjfbeogdjf$!\v+!!|C!S*EuGi`hHjHMYe)feujdsffmdgufMsj!huiiuh/jeMjesffuddufjmpgof-S!!hufvppnofju!s-zm/bwjjsffxuEbjns!-m!bhjfspfnufbuNsmzb/ddjmtfzbisQd!pobju!Ouptsonpbdm!--!znsbuuffnspjfbhm!/udymffubospdDpdbjusGu1f-n!pnfbHu!fosjj!bumt/odpmdf!b-sfddpobbujGe:b1S-u!bnpbdusfbsfjmbdm!/4ddmffwb!sodjp!buutSoppvdh!i-offdtotb*j<e!b\vs$sfjo!e4jdgf\vw!!\vo$jj!guetfogp!dV!T-Ff`dToIbFjFeOb\vs!!t4idfffwo!Toqjf!duvtmobpsd!),m>b!djjstszbieQj`bsobdmfv!d+f!qCTSuEdGf`sTjiefofJo`)FeSj!sefjdpuwM!j~h!i<u*/sepjmspfDdfutjvpgog-j!eh/fmpbnjfsufsuzb/nw)jufsxfEcjnsb-M!`hGfEpSnCf!u+s!zf/doopbsjnebbms-s!jn!b>u,f!sfjtbvmg/gtjiEfufdofDspjmeposj-/!unibhujfMsejfbumd/ftmigfffso!S|p!v*huiiohfjtMte*f<u!d\vf$mfgofesj!gu\vi!hsjfMgemffudduffmegMfjSh!iuuv/peojjs!f-dmubTjqsffduvbmnb!sm!b,j>s!fjusbsNbmebjdbjotdzfi!Q+!!oCjS!EuGt`oHpHdY!)-ezjssuffdnupMfjhh!iuuy/feujospfDddujjspuof-n!phffHp!nofju!suzt/owpjdf!x-Efjdso-b!jhefbpsnsfju!s4zd/fowp!sonjb!mu-t!onpbdu)fmsbjdbjmt/ztiqQf`dfvtmvbgsgDjpEmupdsf-s!jnebouJf`sFjSb!me/jtpqwf!d~v!m<b*ssGp:m1p-D!fntbvugfgsjjeb/mm/bsjpsvfhuibonf)tuts*f<c!nsbfMg`mGfEdSuCf!e+M!jfhdioub/jeejbssfsdju!E>j,g!gfvt",V["lightsPBR.fs.body"]="gQjiezotfj$d\vb!m\vNgbjuefosfj$b\vm!!<nbb/u*fwsVjwb!m-<q!bnNbtutffsojibhmv/peSjogfgfvittf)DEp3mfpssv!u>y!feuj!g>g+v!ttftDfpomiphsv/psShocf!f+i!t)/2m/b1j!s.f!unbfnu!b\vmQoBfNtTtTGFbOdIuHpVsP*S<O!FwFfIdT4`!FeTyVz!!g>f!engbjy$)\vb!c<t*)1e/G2e!y-)8h1f/p1n!f-utstzfOopishnvbpmS*o*f-f!ibtc)tq)nebGmedz!)>h!ftptnffouishzvOppSsonfbfmi*t*/*m<b!jgsmfpubbun!!h\vfgpjnefoufs$z\vS!p<vchhiso/f*t*tw!V>w!!n-bqyb)Nnsbpym)peDyozf/fyi-t!)eEy3zf/szv*u-y!feuy)zs/b{f*o<j!MnpbUumffsyjfbUmq/bsNpsvphmipoDfotftf!i>t!!n>b+y!)ssppmvphDiooffftittG/bmdbujpssf-u!b1n/!1\v6Q3B6N*S<P!MnPbDuOfFsFjIbTm`/FsTpVv!hgifoefgtjt$!\v,!><!shpfmppnDfoufsfziStp!v>h!isopfmtptD<o!fnfbiutf/smjbbjms/fsupbvnh!i\voOfFtFtI!T>`!FnTjVo!)gnfbeugfjs$j\vb!m\v/gsjpevohfi$o\vf!t<t*-1!/22/!1-*t<t!fnobiuhfvspjSbumb/ptdqsfbdfvmmdb/smDbpjmspfsu!b>n!)nojjyn)!w>f!dt4t)f1o/i1h5v*p-S!uebjpgdgsvbtffmDdp/mmpbsj/ssfhucb-n!!n<ftutbfmooifhtvtpGSbzdsuupfsn*p<f!hn!b>u,f!stjtbfmo/ithqvfpdSvumbbpsdGs:b1f!m>d!/2m/b1j<s!f\vu$bjng!e<f*g6!3J6P1S/\v1!!n-btutffsojibhmv/pjSpusb!p>d!sjbpfsm<d!/\vm$bjjgseffugb!nT)QyFbDnV!M>B!St\vt!fgomiphbvup!StuqbfpddvsmbbfsmJdo/umfbojtsjfuuzbGnb!d<u*pusb!p>d!stbqffmddv/mmbbsjJsofuufbont)jfuuzb<s!vwufbdt4!!>t!qufbdpvdmsbbsfDmpdm/pmsbGjbsdfuupbsn!!>\v!gtjqefodfv$m\vb!s<Dzp/m*pwsV<w!!n-bqubfNstjtbfmo/ithqvfpdSvumbbpsdGs:b1f!m>d!)nEj3yf)stvqufydfvum!b>s+J!otutffootijhuvzpGSbudbuppdss-b!f2m/d1/-m!bnjfsufbumbonf!t\vtQGBbNdTuTpFsO*I<H!V\vP$Sf`mUtBfP\vD!SgBmFpMbDu`!FtTqVf!dgvfmebgsjJ$o\vu!f\vogtjjeuozfG$b\vd!u<pys/!*>w!V2w/!1-<q!bwNfudb4p!dtsqbffdmvdm)bEs3DfpsmvpusyGfbud!u>p+s!!u>b!pwdfsdb4f)m2d//1m*b<j!snfbuubfns!j\vbQmB/NtUqBfPdDvSmBbFsMGD:`1F!T>V!!2g/f1e<g!j\v$$\vf!o<e1j/g2\v!!>n!b1u:fGsujbbpmd/stbqffmddv/mmbbsjDspfmupbsn!!><!*n5j1y/)1n)j4od)fqwp!x>3!)1)Gnubbupfdssjbbfmm/dj/pmsb!j.s!f2u/b1n*!!<0t!t)fnobiuhfvspjSbumb/pjdpssb!f,m!d2!/>1!*t*t!f+o!ithqvfpdSvumbbpsdDspbmfpmsdG/bmdbujpssf-u!bwnf!d<4u)b2p/d1s*b*f!m+d!!t>q!fudbvpmdbssbJfomudf/omtbjjuszfGubbdnu!p\vsU-B!PeDjSgBgFvMtDf`DFpTmVp!sg/fsehgcj-$!\vn!f\vugbjmeoofft$t\vG!b<d1u/p2s!*><!!1\v:$Gfsmbtmfv\vd!fnqbtu/fmsbjjbsmf/utbqnf!d<v*msbpsuDdpbmGptst!f>o!mnbjuyf)nw!f-dc4h)s1//s1p5m*p-D!fetjvgg",V["toneMapping.fs.head"]="g$jjego!fa$e\vf!g~j!o<f*es)pVmTpFd`)VfCuPb*s!v%u%b!t)!eofsgvjuoffse!)<VstpfmMpjdo!f+b!suUbpNoufvNqbuqvqPjToFhD*B!!}>}!!sepfmgpjdo!f<e*)sVptmfpSdf)juojiGbUsEePUepooBfUNSbSq!q>j!oshp*m!p}d}!!<esfpgmjpodf!e+)!VutbfNDujvoqfopJoTUFpDoBf!N>b!qsqpjmophd*!!<}7}/!1e!f0g!jfosfvet)pVqtyfFBhDoFjTqGqjbmNnfjodpUup!o>f+N!bsqpqmjpodh!*<**\v!!*v3o1j7g8p1s/n2!!g-m6p1b7u1!1u/p1o.f!N-b8q7q4j8o1h/F1y.q)p4tdvfswf!<-!*\v7$8f3o8e1j/g1\v.!!\v-$4j2g9!1e2f/g2j!o-f9e1)2V4t6f/M1j.o)f4bdsfUwp!o-f*N8b3q4q1j1o/h1*.\v!!-w9f1d341!2M/j1o.f!b-s6U8p5o1f7N/b2q)q4jdofhw)!w)f4du4b!nd!p>m!pusb*N!u|v!qsufvuPvTsFoD!Bu!p4oufbNnb!quqtjoophdF!y<q*p!t*v8s8f8!4+9!/d1p!m-p7s7<6!2~1!/\v1$!f-o4e3j9g5\v1!/\v1$)j4gd!fewf!g-j*o4f9e4)4V2t/f1S!f-j5o4i9b1s:e/U1p!o-f9N6b5q6q4j/o1h)*4\vd!fwwf!d-4*!1S5f9j3o1i/b1s!e-U1p1o7f8N1b/q1q!j-o:h2)8w:f6d/41!)d4pdmfpws!*)!4|u!bdnp!m>p!su!b+N>u!vuqpooJfTNFbDqBq!j4ouhbFny!qupttovpsdf!<|!!s*fsupvmspod!!t4bdufvws)bhuofj)qdqpbmNpfso!p0U!d)jwnfmdj4G)T2F/D1B*!!4,d!fdwp!m~p!s<*c*!<0!!~b!!\vo$sfvouefjsg!\v<!2\v9$1j9g4!3e/f1g!j,o!f*e1)2V6t:f3D4j5o/f1p!o,U!pwo!f+N!b:q3q8j4o9h:*/\v1!)w!f+d!4w!!P>q!ucj!n4jd{ffwe!D<j8o4f6p1o:U1p1o1f1N/b1q!q.j!o*h7)9w8f6d543!1d/p1m!p,s!*w!)|!!+d!pwm!p>s!!b+!>4!dufpwo!f|N!b*qwq!j4odhfFwy)qupjtGvUsEfP<e!odBpUmSpSs!!4>d!fnwb!y\v)*whfodj4q)q1b/N1f*o-p!Uddpjmnpmsj!G.T!F1D/B1f1t5V*)<e!fsofjugvfseo!!gqjp$x\v)!)\vdgpjmeposf!$+\v!!)~7!/<3*!*+3!/d3p)m4pdsf!w,!!-1*/761*/*1!!0,!!)*d8p/m2p!s,!!+s!p)m7p/d3!!+",V["toneMapping.fs.body"]="g$jjego!fe$f\vg!j<o*fceh)sV/tefJM)jhoofjbqsqUbpNoffoNpbUqdqjjnomhj*G\vT!FJDeB/!s>h!cc!h>s!/MejJo!f\vb*shUopjoqfqNbbNqfqojpoUhd)jJnem/jsGhTcF*D<B!f\vt$Vf)mejfgo!jegffgej!ogfjem)fV$t\vf!S<f*jcohisb/seeJU)phoofjNqbqqbqNjfoohp*U\vo!pJfeo/jsDhecf!{>j!nSjfujqoPi!b>s!ecUhpso/feNJb!q\vq*jhoohj)qJqeb/Nsfhocp*U<o!p\vf$ofjmDjfgt!Ve)fegfjo",V["output.fs.body"]="~$!j<gbe/fsgp!mVpTDFf`tUvSgBgOjTeN!J>T+T!JxP/Oe\vJ!!w|f!d*5u!oJfes!b>q!twofbds5u))p!vgujh!p\vjgojheMojfh$i\vu!-<!*n1b/u2f!s-jubimh/juMshboojtpnhjutvtpj)p5odBfmwq!i>b!!e,J!!15/d2f*w<!!\v\vf$tfm",V["instancing.vs.head"]="g$jjegoeff$g\v!!V<TeFf`dJoObTuUtBoOJDyJjOsHu`bMNFuHiBhDjZS\vv!!v5oujbgnp!snns!pcgpjpomv!!v<VetffdJoobtuutbooJdyfj<s!u\vb$Nfbo!e5jugb\vn!!\vf$ujvgc!jesfugujbo!f\ve*)EVFTEFB`IJTO`TUUBBMOGD`JHOOHJ*D!O}B}U!TeOfJg`jFoTfVe)",V["instancing.vs.body"]="g$jjegoeff$g\v!!V\vTgFj`eJoOfT$U\vB!O<D*J*O*H1`/G2M!B-Um`bTnIsBpEOFuEd\vf!k\vc$pj)g5edffgw!!V+T!Fy`jJsOuTbUNBmObDnJsOpHO`vM)F4HdBfDwZ)\vf!{jjgm!b)nvsVptof!J>o!tmubbnosdpfO*w!!|\v!futsmbfo$t\vg!p\vsgnjfeeo!f>$!\vb!N<b*u*s1j/y2J!o-tmubbnosdpfOeu!d+f!kvcSpj)h5idufNwb!u+s!jyyjJsoutbuNbmobdnfsep!O+v!)u4sdbfowt!g>p!smnbfnes<p!O~w!!\vf$tfmmft!f~\v!!\vuZsDbBoHtFgMp`sHnOfJeD!O>B!UwTfOdJ4`)FbTNVb!ugsfjeygJjo$t\vu!b\vogdjfeeo!f+$!\vv!S<j*h*i^u3N]bnu!s-j^y3J]ont)uubpoed!f-e*!^+2!]wnf!d-5^)2u]snb)outpgep!s-n*f^e1-]!n2!/-1^*1*]<n!)\vu$pfeo)e4jdgf\vw!!\v0$!fumotffh\vo!b\vU$ujdgfekfcgp!!V+T!Fn`!J>O!TuUoBfOhDoJbOUHu\vd!f\vk$cjpg!e\vfUgO!FVHTOFB`UJ`OFTTUVB!OgDfJeOgHj`$M\vF!H<B*D*Z1\v/!2j!g-!m)bvnVstpfOJwo!t+u!bno)d5fd*f!w|!!+u!sybjostugbpNsmnbfnes!p>O!vb)N4bdufswj!y>J!omtbunbsopdOfwe!!<+*!*v^S3j]hni!u-N^b3u]snj)yuJpoet!u-b*o^d2f]en!!+-!^u2s]bno)tugppes!n-f*e^<1!]\vn$!f-m^t1f]\vn!)uuspbeo)t4gdpfswn!f0e!!m>b!nwsfpdO4u)dbfNkbcups!j>y!JmobtnusbpoOdwf!e<!*+e!fvdSojbhuituoNJbyujssjuybJNoutiuhbjoSdvf!e+!!+e!fwdfodb5u)tuosJbyojtsgupbsNnbf)e4-u!b2n/!1>*!*n<!!4\vu$bfno!e\vjg",V["envmapPhong.fs.body"]="g$jjegoeff$g\v!!V\vTgFj`eFoOfW$N\vB!Q<\vz!uwjftdo4f!udobJnqfbsNbwUopfG!s+b!hi!u>h!oofpssunTbsmbjm{vfd)fwqXtp!s+m!e{Qzpyt/jsupjmppoD!w.o!fv!D>b,n!fusibhQjpMthjoujjpphou*v<p!!w\vf*dE4E!Bx`pHsOmJeEOOpFsMnCb`mQ!B>N!WjOoFw)fesftofjUgsfbeo!tggjpmsfn$E\vj!s<f*dzuujjptoo)fouposJnqbbmN-w!ovfW!j+f!xiNubhuosfjsyu*T<s!b\vm$vjdgfeqftg!!-F{OzWyN/BsQp`mNpPDEwFo`fS!F-GuMiFhDjUMJhPoOj\vp!hwufvdp4)!ysjfng!m>f!duuiWhfjdM!h>o!jspfhgumvfpd!u\v)*dYbJnNf`sHbOUJpEGOsFbMhC-`!QxBpNsWmOeFO)pesfnobjmg*f<e!!\vg$jfmmft$f\v\v!!<w*fzdu4j!tsoffgumofJdqubWNfwdo!f>!!+s!figushbodfus)udTbsnbfmsvbdUfpqGts!b-h{-z!yx/psspmmepODpwsonfb!m+-!!usifhgjsMbhdoujjpphouSvbpu!j-pu*i<h!j\vM$hfoojepjhgu\vv!p\v)$yjjgne!f>g!!uFiOhWjNMBhQo`jUpZhQuFv`pD!V\vCZFM\vQ!JwUfMdV5N!`fHoOwJDEpOmFpMsC!`>Q!BuNfWyOuFv!sgffDevgcjf$)\vf!o\vwgnjbeqo-f!$w\vf!d<4*)1g/m1j)q5FdofwwN!b>q!!s+p!mspfDgwmoffd!u5Wdffdw/!y\v-f!tsmffg$m\vf!d<u*W1f/d1/!z-{d*f*W<u!d\vf$mfgmfjsg!!-eqfbgnjwooffe))WFVOfWcNvBDQf`sUvZuQyFf`uD!V>C!Fs`pVmWp*D\vw!owff!d5",V["lightsPhong.fs.head"]="htoupsivQdouo!jCmmCj`ofotQvigpgojhENubduffssjjebomJ!`|F!Sw!ffdt4v!gegjjgEguvdtffsDjpemopJs`<F!Sw!ffdo4j!gtfqef$d\vv!m\vbhsoDppimQposo<j!mgCm`pubduf!stjqEf`dFvSm!busdTfisjjoEj`oFfSt!tf<o!jggmfpeb$u\v!!t~q!f<d*vsmpbmspTDufstfvoghgujie</!m~b<j!swfpujben!)SuFs`fEcjnsbfMd`uG`ECSmCj!o+o!Qfidpoobhj)edbpsostju!!>j,o!!fJtovdgjgejfEouudMfjshjieuo!je/jusifhdjuMMejfhuiduf-m!gdfpso!t|u!!*juoi!hHjfMpenffuudsfjmdgDfpso!uufiyhuj!Mheffpundffumsgzf-S!!dupvoptouj!!j-om!bCjmsjfouobQni!pmobhjNsbfuufbsNjhbomp!inQbouofjsmjCb!mo-j!!juotpovpud!!S-fzgsmuffdnupffehM!juhyifuu!ospfDgdmjfsduuffnepMfjHh!iouj*!!u|t!ogpmdp!b-uf!deopbujOeMb!s>s!jt!b4udvfswb!uofj)!euptuo)phdf)phnofpuisQzo/oojpmsCn`bfmt-v!gegjjsEfuddufMsjjheiouJ/`eFjSs!fedjupjwp!o~*!*<<i!uwhfodf4s!ujTsssbbmevjdbfoqdtf/!m>b!jespfuuObMn!!++!!e*jtstffdoujMojjhiiTus/bdmpvmdpfsq<t!/smfbgjmsffduubfne!M-jshpimup/DesjbsmfvddufEqjtg/gmvbtjfs!f,u>b!nj!s-smbbenjsbpood/fz!s+u!fCnSpEfGh`!M-bsnjcEfxsfuj)wn/bzusfusfjnbpmf/he!j-gogpvjtufdDfpsmjpes/*u<i!hsjfMgumdffdsujfee)MhjohpiiuQ/oeojjsmfCd`uGTEqSfCd!v+m!bfsd!o,b>j!ejbss",V["lightsPhong.fs.body"]="<CimujhooofQsiupToshbNmbvudffsqjtb!m>!!nibuuhfosfjsbumT<s!bnmbvudffsqjtb/mm/bejjsgfguvbtnf!D<ptmtpfso!j>o!jeijtg!g>v!ttftDfpomjposj/isThscb<m!vndbfuqfts/jmbbmj/stfqufbdnv!m<bssbDmpvmdpfsq!t>!",V["lightsLitePhong.fs.head"]="gvjoejogfp$s\vn!!\vg?mTpGboup!jvuIdffbmegmfjShwiouFSfbcovhdf=<!!fveovjmgdposjn$!\vg!m~p!b<u*!{vzIyf/b*eymjjshuibunB!n+c!j*f1o/u1J!o-usfjoet)j5udzf<w!)v)ofj{gjpmsbnn!swpfod!5o!svvIuffbse!m|j!h*iyujDspumbpns!<5!uvbonj!gopjs!n-!swjfed!44!dvfIwf!boejm)johpijuuEdjfssfjdEunjsppog<t!o\vb$sjUgf!tOsVfNw`oEjJ!S4`dMfJwH!I\vUgTj!e?o!f1$\v\v!!v~o!j<g*pxs/nf!vwmfbdw5!!-v*E*jSsPDUpDmBpGs`]BONVNNB`HE)J4Sd`fMwJ!H-I{UzTy^/<f!vvmobjwg)pxspnq!)w5fddf4w!!voEsjvsuEfjss!f|d!u*jfpvom]bOwV!N5`dEfJwS)`sMbJfHoIjUMTp^U<m!f\vy$ffUoqebjNgw\vo!f\v!$5jdgf!wO!V\vNf`tQmPfJ$O\vU!`~M<J*H!IbU/Tf!v?m!b1w\v!!-v*o!j*g!p*s!n*!!w9f1d452!4v1Q1p/j1o!u)D4pdmfpws!]-OcVhNs`/QfPvJmObUw`!M)JmHbIvUrTF^o<b!ivUotjtgfpms!n)!4gdmfpwb!u-!3v:Q/p3j2o!u+S!bcohhsf/]fOvVmNb`wQ!P-J*O!U6`6M1J/H1I!U)T4^d<f!wv!o.j!g6p6s1n/!2w!f+d!4*!!v*Q!p7j7o7u2Q5p/t1j!u)j4pdof]wO!V-Nc`hQsP/JfOvUm`bMwJ!H)IxUpTq^!<)!y\vj$nf!o)e5jdgf\vw!!\vo$sjvgu!fOsV!N|`!T*Q!PfUv`mMbJwH!I5UdTf!w?!!o1j\v!!)vCoHjSgtppsUns!bwffodj5M!!v5Tdqfpwu!D~p!m<p*sb]/OfVvNm`bTwQ!P-U*`*M*J*H6I5U1T5^1</!1v)o4jdgfpws!n-!cghmsp/bfuv!mvbTwq)pmubFvyrqFpoobfioUut]tOfVmN)`4TdQfPwU!`-M9J1H9I4U:T:^4<8!8v1o/j1g!p+s!nc!hgsm/pfbvum!bvwT!q-p*u*B5o/h3m)f4]dOfVwN!`-T*Q5P2U1`8M3J4H2I3U6T1^/<1!)v4odjfgwp!s,n!!7g9m:p3b8u7!9v8T5q:p/u1S!b+o!hcfh]sO/VfNv`mTbQwP)Ux`pMqJ)HyIjUnT)^5<d!fvwo!jogspvsunf!sw!f|d!4*!fvvTmqbpwu!Q5pdtfjwu)jspbof]oOjVMNp`UTmQfPyUf`UMqJbHNIwUoTf^!<5!dvfowj!g\vpWsVn`!FwCfVdD4`!FvQTZqUp`uQEBjNsWfOdFu!jgpfoe]gOjV$N\v`!T\vQgPjUe`oMfJ$H\vI!U~T!^<<{!z\vy$/f*o!e*jxg/\vu!b\vv$rj!g-e{f/gu!bVvTrF.`!F-OzW/NuBbQv\vr!.v!o-jyg/pusbnv!rc.p)p5md!fvwV!t-fwFro!w)Nubbqv<R!uvmovjng!possnv!ugfmsp!b<u*!!f*o1w/N1b!q-Jdofuwf)o5tdjfuwz!<-!u\vb$vjrg!e)fugb!vFROuWmNvBnQ!`>U!ZwQrF!`5DdVfCwF!`|V!W*\v!!dvfowj!g4pdsfnw!!t-bunbqvmrf!s53dEf!wv!F)oswpNubdqf<W!fvuobjugppss!n4!dgfmwp!b~u!!<s*p!v{h/i3orf!t+t!<{!/\v2$rf!m.t!fz\v/!3vro!j+g!pzs/n2!rt!b.n!qym/f3srD!v+c!fy!/v2Fro!w.N!bxq/<3!r\v!$+f!oxe/j2gr\v!!-dzp/o3tru!!+g!myp/b2ur!!H.B!NyN/B3`rG!B+D!UzP/S2!r>!!,3!/x1/<3!r\v!$+j!g{e/f2gr!!F,O!W{N/B3Qr`!S+P!UxB/U2Fr\v!!-vyo/j3grp!s+n!!{w/f2dr5!!.v!F{o/w3nrb!q+R!vyb/u2<r!!w,f!dx5/!3nrv!m+u!Rzv/b2ur)!w,f!dz5/!3rr2!-+!!wxf/d25r!!r-3{*/!3|r!!s+f!uzv/s2or!!w.f!dz5/)3rr2!/+x!!{+/!2rr3!/,y!!x,/!3rr2!/+y!",V["lightsLitePhong.fs.body"]="gjjge!o)fv$I\vf!b~e!m<jzhuijutDopfmuposJ/qxb!N>w>o!f1!/+1!*{!z|y!/gsmppmbpuD!wmobfn!c>f,s!ucUhfss/ne<J!!j\vgg!j)evoIff$b\ve!m<j*hsipumEpjDswfodfu)jspbof/oyj!M>p>U!m1f/y1f!U%q%b!NvwIoffb!e>m!jshpimupEDjwsoffd!u<j*p*o{/zz/!d>f>W!u1d/f1m!g%f%s!!v-Iyf/bdefmWjuhdifumEgjfssf)d4udjfpwo!/-{q!b>N>w!o1F/v1)*f!cmvbDnfcsfvsuuyUffus!n>!!>s!pemppuD)wOo-f!!.5Md*f<w!!f\vmfttfm!fm$b\vn!c<f*s*utUtffsoni!h>v!pesp!u-)*O{-z!/.dvfIWfubdefmmjghfisu!E-jys/fddfuWjupdof*m<g!fmsb)n4cdffswu!U-fqsbnN!w>o!Fnvb)yW)VmfbcnvcDffssuvUufysfnu!)+C!H)S2t/p1U!s.b!fvoIjfMb!e>m!jshpimupBDnwcojff!o5udJfowu!f\voWtVj`uFzC*V!D,`!FvQIZfUb`eQmBjNhWiOuFB!ngcfjefgoju$J\vo!u\vfgojtejoufz$-\v!!1</*1m*b<n!sjpgO)evmIsfpbxe!m-jyhfiuusSfbWophUfb!s?f!n1b/d1)*u|d!fmmbgnfcsf!s>u!UdffsWnu!d+f>m!g2f/s1!!4.d!fnwj!o\v)fmtfmofh$u\vi!)<w*N*w*QmpbtnjsupjOpeom*s0pvxI!f-byefmujshfiWupSUbboshffn-b!d2)/u1d*f<m!g~f!s\v!$-juobdvmRvqebfn!w=otFivb)esppxuNdbfqW/fgutb/ucppse)zf?{\vj!mJben/ssphoc!!>+!>d!fmWbundcffmsgufUsf!s4nd!f+w!!v\vIFfUbBeUmPjSh`iQuBDNpWmOpFs!/gsfhecg<j!$~\v!!\v<$*jygj!sOuVbNN`xEfJjSW`vM!J-HOI)UoTp!j?u!d1f\vs!jgEpnss)pjgotuo!bjs>U1f<t!sjf!w=o!jO!V>N!`mEbJnSs`pMOJeHmIsUpTx<!!4jd,f,w*!!<|*!ojpgj)uvjEtjpsQDbpsmfpnsb]Djv^!/.x!!o>p>j!u1j/t1p*Q|e!mJsep/Xswh)cf!{,j>m!bnnbsyp)oe!p>u!)yOf-u!s.foWppsUnbbsmfjn{bfd)!v4EdjfswE!j|s*fqdbuNjwpooF]fjt^V*v*)-!!g1j/!1\v*Q!B+N!WvOEFj`sFDTpVm!pgsf]ejg^j/$s\vh!c\v<g!j~e!o~f!$\v\v$!f~o!e~j!g~\v!!~\v!$<jcgh!sO/V^Nj`]QsPpJmOpUD`uMpJqHTIvU!T+!!?u!d1f\vg!ggFpusp)qjto!u+!!jf>h1o<b!Sjm!!=+!!O*V1N/`1Q!P-J*OmUb`nMsJpHOImU.T!<-!Oj),u,p*e!)|y!bjng!)>v,Q!pcjhosu/DepJm!p<s*]1j/^1/!x-!*>^>j!]1u/o1f*o|p!qwyfFdu4p!qmTWvf!d-uupdsf!g>g!FwuNpwqQtp)txjpuqj)pyob!n.!!>v!QupdjfogugQFputpjqutj!p|o*]^jj^]<f!mghmopBbuup!qmTSvb!o?h!fu!d>f!g2g/F1u<p!qjtg)!g)jv!Q<p*jmobunSsbpoOhmf!]-j^^j!]?o!p1j/u1d*f|s!jmESubpoqhTfv!)>u!p2e/!1>!!.u!dnfjgog)F)umpfqoth!uuib)pmmWgf!d<u*pssp*u!d0f!WvmQ)pfj{ojumSbbnoshpfo]!j>^!*m-b!n2s/p1O*m<!!4~d!fjwg!!|)*m1S/b1o!h?f!!f?h!o1b/S1m*)|!!gJje!/~s!h<c*!1,/>2!!n-b*y^)je]pfuh)oOb-S!u.poqpTsvn!b0m!j*{sfp)umdWffWdmu)pisu*h*o-f!m1)/)1o*j!n+!!.m!S1b/o2h!f>!!+f!hvoQbpSjmo!u|D*p1m/p1s!]?j!^^/js]hfch<o!b~S!u~p!q~T!v\v)$!fgoje!j<g1\v/!2\v!$>j!gf!hOoVbNS`mT!QuPbUp`mMgJ!H<I^UjT]!o?p!j1u\vj!tgppQsu)pjqoTuv!!j.>!1o<p!jju!j=t!pOQVwNN`wT!Q>P!Us`pMuJdHfIWUmT!<4!djf,w,!*|!*|1!/j1g!)>v>T!qxp/u^Djp]msp",V["aoMap.fs.body"]="g$jjegoeff$g\v!!V\vTgFj`eBoPfN$B\vQ!\v<!*\vt$tjfgo!iehfvgpjso/fmeb)jBsPfNuBbQn`!S-`o2p*j\vt!vgmmdpdbPuu!obfnjccjnfbo!u-PWdOdumpvet)joppoj!t>v!m)dudfPysubvmsvfd3fEq)TbfpuNvbqqn-p!dw!V>w+*!/ssb!m.v!d2f/q1T*u!d+f!sbjpeNobjq/JuoiuhfjoMtejfuuzd!f,m!g2f/s1!<<!*\v*$sfjmEjxgf!jewf/gzjsouffen)pBfPhN!B-Qm`bSn`s3p*o\v/!zgsmupfbnup!fbhn)cujpfeo)ufPudbdsmvvutbjtp!o>!!>W!O)uupfey!uuvbspfm3gE!)\vb*pSNCbQq)-e!fwoVjwg3f*e/!s%!%.!!*2Q/B1N*W!O+F!`bFpTNVb)qeJfooujfgoftej!ugzj!$,\v!!2</o1p<j!t\vv$mfdmdjPgu!oeffjgcjnobf!e>)+B!PfNtBvQg`gHj`E2u*d\vf!sgjmepobju/!ubinhcjjMfeofuuPddfdmmgvftsj!p\vog!j>e!o)fu$f\vy!u<v1s/f23!E,)!bzpuNjbtqo-f!uwoVJwq*b/Nhp!b.!!+2!/*11*/!2+!!.b!pcN/b*q3JwoVuwf!o-tqjbuNzp!b,)!E23/f1s<v!u\vy$ffum)j!g>!!eofpgjjtovfmed)dBPPuNoBfQj`cHn`b3!*u\vb!pgmmgp!b\vu*!3b`nCc`jQfBoNuPPBd)demfvotjjgpfoe!!>g!j)muff$y\vu!v<s1f/32E!),b!pzNubjqt-o!fwuVowJ3q*b/Nhp!b.!!+2!/*11*/!2+!!.b!pcN/b*qwJVowu!f-oqtbjNupzb!),E!32f/s1v<u!y\vf$uf)m!j>g!!oepfjgtjvomfded)PBuPoNfBjQc`nCb`!2u*b\vp!mg",V["transmission.fs.head"]="g$jjegoeff$g\v!!V~T!F<`*UbS/BuOiThNjJMTeTfJuPuOj\vn!tvoobjsgup!s-ns!pgmmppDbfut!vbgugujfeo!v+b!usjppmopEDjetfuubbovdoff<u!uvbo!j+g!p*sGn!!.w!f1d/42!)b)u5udffowv!bousjvpuofDsp!m<p*st<t!f\vo$ijhgvepfsg!!-V1T:FG`sUbSmBvOdTfNqJtT!T-JsPpOmNpBDQs\vb!mvvodjfgqpts!n-!wt!b-noq)mGfEsS3CEu!oufsnbooptsnjjwtotFj!p>o!NGb!q4<d!f\vw$!f<o*efjdgo\vb!u\vt$jjEgoepfjgu!bVvToFf`uUuIbJ!D-LsOpFmTpTDNoBpQj\vu!bvvoojfgupusbn!!-t*bznbqSmofpsj3tEt!junitjodblsouf)tituNhboqf<m!!\v-$cfhose/jugi\vh!jvMoejfgupusjnn!twofbds3u!)uospbjoutbnvjotftujupBofTnbvnmqpmWfzsmTqjq{bf!<>!!vsopjmgppDsenf!utbbvnoqfmufusb3!E4!dufswb!o<t*nsjptjt!j-ptotTfboniqhmvfpssN!b-qt<e!svpopjDgoppsjnu!dnbbsug5f!sv)NfpmeqfnmbNTboupsjjtyt<j!n\vt$ojbgsoUeuffgh!!V>T!Fu`iVhCjPM\ve!f\vu$ujjgnetfogb!sJuP!S5\vd!fvwo!j<g1p/s3n!!>g0m!ptbeus!pjppDso<p!j\vu$dfbosegjfgs\v!!<\v1$/j2g!e>f,g!!tTeQsFpDpVDMoBpSj\vu!dvbosjggfpss!n<!xg/mtppbQud!etoq!f0d!vzmyb/stJpoQudfeoot!j>u!zt<e!svpopjDgoppsjnu!dwbfsdg4f!st!q3fddfvwm!b<s*D1p/m2p!s-<u!j\vy$FfzobeSjegf\vu!dvbosjggfpss)n5!dgfmwp!b+u!!yujssbuobtNnxjftjtwj!p+o!<y!jvsoujbgNpkspns!qg!m>p!btup!Qudiejod!l5odfftwt!<<!zvboSjogppjstnt!jnnbtuo5b!svuQ!s,p!kofpdjuuNjbtupsqj!y><!!uvjoyjFgzpbsSne!fwufddb4s!gvfDsb!n4fdsfbwQ!p<t*jyujjspuob<N!m\vf$efpone!j-gs\vp!jw!f-dt4t!fhofludWjpimuv!n-fwU!s-boo)tznbjStotpjjptotSjbnzt)odbpsoUtfun!vjmop!Wwuffdh4!!>o!-z!bdSpooptjut!tjjon!twofbds4u!!w4-d!fdwp!o|t!u*!fjdoo!bgumtpjbEuo!pujiujbdvlooffututb-!!udbppomtgu!!ojjo!!ugtmoppbdu!!-jsppsm-p!Ddoppojtuub!vjoof!unubbu!54!dnfpwe!fomjN!buutsojpyd*!!-|t!twffodl4d!jsifug!subbdpumjgp!ooWjf!duutposp!d>!!-ssfpgjs!budbup)m.g!!wo-j!!ouptsonpbdm!j-{yfj)sou*b-N!k2p/s1q!!05!ujbpns!*o<j!!wuftdo4p!dn!p-eyfjmsTudbbNmxff<j!wn!p5eufbmnT!dobjm!fu/tyo!p>d!!m-fyojhsuuib)Nwmffde4p)nn!p5eufbmnN!boujs!juyt]o!p1d!!^-/oypzj{u*j*t<p!qn!p4edffmwT!dobjm!fu/tzo!p>d!!m-f1o:hGusib)mwvfddf4q)tn!puebfpmmNgb!uosjj!yu]t!o2p!d^!/-yszp{m*p*D<s!bnmpvedffmqTtd!b4mdff/w{!!o>j!!muftoohpudi!)-wsfpdm4p)DnfptevfgmgNjbeu!s4jdyf]w!!3o!j^!/uytzo{p*d*!<-!tstffuovishov!posp!sunbbpmmjg{!fo)js!fugtsobpddu!j-pwo!W4fddfuwp!so*j!!+u!tuoipjdd!l-oof!t4td!f+w!!nopje!fumtTodpbdm)fo<p!j~u!dgbmspgbfuS!fbnqvqmmpzWJMpCsJUupfShp!v5hdifowf!t~t!)~d!p<oftduo!bjjoe!bgsm!p+b!uf!dsopbvuhuijonfttotb-s!ud!poostvuu!fjso!!<g*mfpdboub!ujtpjsE*o!p|j!tstfjunvtsoob!ssup!v+h!iuoofftjtd!j+g!gdfmpbDnoqp)jjupbsv!o+f!u3u/b1!!..)!q3y/f1!->!!1f/d1o-b!u2u/j1n*t<o!b~s!uw!f4dd5f!wh!f<ufUdsobbouttnjjEtotpjjpuobTvbonfqumufb)!d0p!o*tsup!mjpoD!owpfjdu3b!vgosfbuhuDbp)phspem-.!!d>p!outouf!jjdoj!gggmfppbDuo!psjpuvbhviooffututb-!!4ddpfowt!u|!!jfot!mgfm!p~b!u<!fjdposb*j!e|b!sg!mopsbvuu!fgss!b|n!f*c1v/g1g!f>s>M!pfed!o>b!umtpjhE3o)pujsubbovtonfjututbj)p!ogTjb!n|q!m*ffsdTojb{uft/jyE*o!p+j!ubbqvqomfzuJupbs!UupbSppmvgh!ioojf!tutt)osppdv!h-isopfmtptD-o!pjjpusb*v<o!f\vu$ujbg!e4fdgf!wu!foyju!vustfo3pEdM!p-efFdYoUb\vu!tsjfEuovpsjot!ttjSnHtCoUbpsMuj!oufbbpsm)gu!foyju!vustfo3pEdM!p-efFdYoUb)juesbbso!t4ndjftwt!jopjo!Tubtnoqpmdf)soNpbjqu-b!vgosfbuhuDBpfpnsvem/pyWzz-m!qgqsbb!n4fdcfvwg!g~f!s\vMgpjee*o*f<$!\v\v!$<f*m*tefp\vM!ssffgugvvscof!ntbSsHgC!U-pzMyj/oefsbpsp)Duhfbysugv!s-fq3bEN)sufsmbqontbnTjotptj",V["transmission.fs.body"]="g$jjegoeff$g\v!!V<T*Fo`pUjStBtOjTnNtJoTbTsJuP/Om\vb!jnsbfuufbsnj!b-mc/huss/booptjntjttjtnjtpoob!s>u!!u-sfbtovtgngjjtEtmjbpuop<u!)nybjunf!s>j!bfmt/vugsgbjoEtmnbjutptuj!p<o*Bompqjitbt!j>n!t2o/b1s<u!/nmbbujfssfjubbmn/!u-ibj/dolpojfttttj!n>t!oubisjud!l-obfitqtm<B!onpbjutftsjjnbtmo/bbsuuu/fmobvjbsufjupbonE)jytjunb!o>d!fb!i>q!mbBuoupfjotvtbjunjtpoobEsjut/umbbojdsff<u!bnnb!u<f*sfjdbomb/ubtujuEfoopvjbuubjvpoofDupumbp/sm!b>j!sbfuuubfno!v-bsupjmppoDDoppmjpusb<v!o\vf$ujugbe/fmgb!jVsTfFu`bUnS!B-OtTtNfJoTlTdJjPiOuN/BmQb\vj!snfbuubfns!j-bsmp/ju/smbbojtsnfjutbtnj!p-oy!j+s>u!buNfuydufvkspfs3QEv)!u-s!byojtsnujbtNtxjfpjoWNvb!q--y!jwsVuwb*N/msf<e!p\vN$vf!o-etjpgq\v!!-\v1$:jGgsebfmgv!dVfTqFt`/UmIbJjDsLfOuFbTnT!N-BsQp\vm!pnDbsubfmsvjdbfmq/tu/imjbdjlsoffutbtn!!+->s!pumfpyDufvtsvfg3gEj)eu/imjbdjlsoffutbtnN!b-qt-t!fwoViwh*v/phs</!m\vb$jfsofeujbgn\v!!-wwf!d-4o!!q)potp!j>u!dwbXspgsfmSefQnpvtmjpuWjMpCoJ<u!fwhf!d>4!!owp!j>t!tojpnstnobbmsju{!f5)dvfDwb!n<f*sybjQsputbjNuxjfpjoW!v.!!-qmpbtn*s<p!ow)fodp4j!uod!f>s!jjEonwsfpsgttfoUbs",V["oit.fs.head"]="g$jjegoeff$g\v!!P<JsUf\vm!q\vn$beTfsgpjmopfD!uNoBpYs`GEuFjQpU!IE!3:s:f:m:q:n/b1t\v!!n\vs$pegfjgojvo!f<!shfmm`qGnsbbThiDupqmfpEsu!jnpz!`EG3ssbfhmDqpnmbpts!\vn!svpogj",V["oit.fs.body"]="g$jjegoeff$g\v!!P~J!U<\ve!Jg!m>p,b!us!pgmspbDhlEdfbqcu!i|!!>f!thmmf`!G~s!b<h*Dbp/pesJe!/.{!<1!/\v2$)j!g+e!fsgf!jPmJqUj`u2m7vCNJbUiTq\vm!bv!j.o!u1!/i2b!m>g!Gbm/psbpum!p>D!uqobpdslgI!b<msgf3jym2q7j)uwmfvdN3b)igqsmbbh!E+f!qbu/ie*J*!<+!!wcfhds3/!egJv!m>m,!!>c!hvso/qsbpdmlpIDbumogp3syg2!7|)!i*bimugqGfmEpubtuf*s<b!fgos!b>h>E!fiquuqif!E>h!bgsvgm)m!/gyj<!!~\v!$<foosevjugf\vs!!j<w*fidu3q!fgEshbbhsDgp!p-sieu!q>f!Ejhwbfsdg3.))h3md`fGws!b>h!Dhpsp/sieu/qyfze*!<\v!gwjfedo3f!$m\vb!t|u!E*fiquuqif!E>u!tuffiyufsmvGgf!u=d!ii)upqjfuEEhfbqsugi!T%b%n!qimufqsf-E!ugtsfbshbDfpop!s?e!-i!u1q*f/Eshhb<s!gw)f!dg5j!!m\vbfttumGfs$p\vo!u|D!p*mipusq!f>E!uutffyifumsGvfgu!d?i!)ipujqufGEshpbosugD!p%m%p!siTubqnfqEmuftsf-s!bgfsob!h=D!pipusqef-E!h1b*s<g!)e!fgqju!i\v/SsFhG!G>V!CwIfUdQ3F)E.`NFBTYS`FEWFFQSU`IF*T<V!!ggsfpeogujD$p\vm!p~s!!<>o!smvbutfusG!s\vpgojueDopfm$p\vs!<|!!c*bidulqDfpEmuptsf!i>u!swvfgd!5?)!1i/u1q*f<E!h\vb$sjgg!e}f}g!!iVuTqFf`ESuFtWfFsSbTfFo`!E=F!QiUuIqCfVEGhGbFsSg\v)!!ggmjp!b\vuf!tgmvfs$u\vi!f|t!u*EifuqqufiE!u>t!f.imubstvugE!f=q!uiiu/qyf<E!hgbmspgb!u}!}o!fibusqfftEuuEtffqsubif!o>!!?m!bituuqEffEqhubis/gz)<!!g\vj$!f\vmStFfG\vG!VgCmIpUbQuF!Eo`fFbTsSfFtWuFESf`qFuTiV!!>g!f.emgbjt$u\vE!f<qbu/is/pym<p!DgumoppbsuG!ugtvbsmu!i.f!t1u/E2f!q>u!is!f>j!mmqbjtuumEvfNqbuiiq/mzb<!!u\vb$pfmoge!j\vg",V.blitScreenVS="~b!u<u*szj/ctvpuqf!!.w!f1d/32!!q-pyt/<t!pwqb)s3zdjfowh!!>w!fwdV3w!!w<V*w1</!2w!p-j1e/!1n!b-j1o/)2w!p,j!e1*/!3|!!+h!mz`/Qtpptqj.u!j-p1o/!2>!!.w!f1d/53)!q+p!ty/",V.encoding="~w!f<d*5s!pMmjpodf)bssbUfpoMjjMopfUbmsf)yjfoU!uwvfqdo5j!!wobsmvvuff*s!!||!!s*fsupvmspod!!w5bdmfvwf)<s!b~f!owjfMdp5U!mnfbyqfUUfqybfNmwUopfM!j5odffbws!)~w!f<d*5f!vwmbbmwv)fC*H!S|t!psUfsubvfsooj!MM!joosfvbusfUsp!M|j!o*ffbvsm)bwwb!m5vdff*w<)!m~f!ywffUdu5v!qtuSvHPCpUUpsMbjfoofjbms!)5jdof!ww!f~d!5<!*wfbvmmvbfw*)!s|b!fsofjuMvpsUoC!HwSftd!5o)snvjuyf)sq!p|x!)*wfbvmmvbfw/!s5hdcf!w+)!s1b/f:o5j8M9p7U8m3f:y9f7U!u,v!qwofjd!45)d1f/w1!6~3!2<4*3b8/1f2v5m*b-w!!w-f*d*4*)*39/154*2*4-1!1w/b1m)v4fd/fswh!c-!c+h!s1//f1v8m8b4w:):m4b9v1r9F-o!bwifUdt4t)fmmf)t4tdUfiwb!o-F3r:v/b3m2)!w+b!mcvhfs//sfhvcm-b!ww!f-d*46)611//115)145d6f*w*!*.*!-6!6w1b/m2v!f+/!b***<7!7~7!2w5f/d15)!4Mdjfowf!b-scUhpst/SfHvCm)bjwo)!xwpfqd)5y!jwnb)m5vdff*w!!|o!ssvfu",V.cubeEnvReflectionFS="g$jjegoeff$g\v!!F~O!W~N!B<Q*`1U/Z2Q!F-`*DGVqCjFn`!V-W2\vs!p\vm$pedf!g-j1osfp!mdpvdc)fyVjWn`)n5bdyfNwj!qoMsfvwuffms!!9</*11\v/!2\v!$,e!fugojJoqfj!nd!v-csfjVEWf`mnqjnobNtj!q-MqfbwNfwmo!f5)/W1V\vf!c\vv$Desfbgfjoojfm!jdcv!c>f!V2Ws`pnmbpydU!j4mdffTwj!{|f!!f3t6m7f/!1~\v!!<\v*$1e/f2g!j-o1fs!pdmvpcdf)V5Wd`fnwj!ooUsjvmuffTsj!{|f!!*217//11!\v>!>g!mGpqbjun!)h!fgujG!b<d*fu)owJfqdj4n!!e-jssjfEdfumjqpnob*t!!|-!qwbfNdw4o!fb)cWtVEfjcsvfDdsubjfpooj!m>j!cb!c>t!)1esjpsmfpddu!j4pdof*w<!!<g*mqpjbnu)!sgpbpdmfg!!>>!!.u!o2J/q1j<n!!jugb!p)mbgc!t<E*jqsjfnd)uujdpbos/gy!!>?!!GbqcjtnE!jusbfpdmugj!p<o*/m{f*w!f|M!qjjgN!y)bbnc`tWEVjfscfvddu!j-p1on/!y-!*?t!tbfcotiEhjvspfsd)uqjjpNop/Uzt*t!fgobidhfv!p>s!)eqjnsbfmddu!j>p!oq/jyn!!?u!b1p/m1g!!@|!!1*/t1t!f;o!i4h/v1p<s!!fumbtpfm!gg!b-dsfj!E>f!meqjnsbftd!u4jdpfow/!z-!q?b!N1w/o1f!!@E!32s/f1m!q;n!b5t/)1W<V!f~c!vfDmftsfv!u|y!fjug!!5)dbfcwt!E~j!s<fqdjunj!poos/v{u!f?s!!b~c!t<E*jtstffdouijhpvop/sz!*+!!g7b2d/f2!)>3!hepjms!f+d!u1j/p3o!/.{!!>?!!q1j/n1!!|@!!f3t/m1f!!;~!!6</61n<!!,f!m*t7fs!!g.b!d6fs!)>!!0e!j*s6fnd!u.j!p7on/)z!!+?!!*1t/t1f!o@i!h2v/p1s!!;.!!56/s1)<!!>~!!qsjfnu!v|s!o*!7gsb!d>f?<!!t~t!fwofidh3v!phsf)u!VgWj)!wfftdm4f!!e~j!s<f5dnu!j,p!o*-6!sg!m.p!b5us!)g!b0d!f**5!n|!!.w!f6dn3)!!v+w!<*!tjtgf!o)ighbvdpfs!!>.>!!51s/)1!*>!!|q!jvnw!!|>!!*w6fsd!3>)?e!jtstffdouijhpvop/s{)-!!gejj!sfftdmufj!p~o!/<z2*n!!0,!!b*c5ts)!e.j!s2fsd)u!j0p!o*/2yn*!<.!!~5!nf)m!t+f!!*jtgt!f)ogibhdvfp!s>!>.!!22/s1)*!!>|!!qvjwn!!>|!!w*f5ds3!)>.?!!etjtsffodiuhjvppos/)y!-g!j.!!fetjmsff!d~u!j<p1on/!{,*!!*02!sb!c.t!)1esj)s!f0d!u*j1pno!/.z!*2<n!)~!!+f!m*ttft!fjogi!h)vgpbsd!f.!!>1>s!)3!/>1!*q!j|n!!v|w!!*>2!sw!f>d?3!)t.t!feojishfvdpusj)p!og/jy!-<!1e/j1s!f>d!uqjjpno!/uzb*p!m0g!!b|c!t*)tetjfsofidhuvjppso!/u{b*p<m!g~)!qfjmNtpfU!tjtgf!o)ighbvdpfs!!>u>b!p4m/g1!*\v!1|/!5v!w7!n>!!fwofjdg3f)e.$!\ve!j\vs9f4d1u1j/p1o!/7{w-!!feojjsgffdeu$j\vp!o\v/2z3*/!10!!7bsc!tf)oejjgsffed$u\vj!p\vo1//y4*!<6!n~!!ffomjtgff!ej$g\v!!)\vg7b2d1f/!1>!>6!w5!/f1o*j!g|f!ev$w\v!!>\v!6w1f4d/31)!.6!se!jfsofjdgufjep$o\v/!y\v-1!/e3j!s5fnd!ufjopjog/f{e*$!\v0!!\vb7c5t1)/e1j!s5fwd!ufjopjog/fze*$<\v!!~\v!5f/m1t!f5!s|!!fvowj!g>f!ew$f\vd!3\v)1e/j2s!f.d!u2jnp!of/oyj-g!feej$s\vf!d\vu7j8p3o//1z!*2!w0!!fbocjtg)feej$s\vf!d\vu9j/p1o!/2{s*!<f!o~j!gsffeu$v\vs!o\v!11//36!!.+!!1)nv!wf!o,j!g2f/e1$*\v<!!\v~:!4w4f/d14!!1cwj!mfjoojfgbfseD$v\vc!f\vV1W/)2t!b1nsq!mffosj3gEf!ef$o\vw!N~b!q\v-g!jwefodf4$!\ve!j<s*fzd/ugj!p-on-c!!g-mnpub)uy!jnnj!qoJsovuu*f!s|!!<g*myp/bgu!!-gsbcd!f-!m>c!)hyfjunG!b>d!fn)ce!j4sdffdwu!j<p*oy*/<g!!g-mspub!u-!mguj)myujfns!J>o!un!u>!!4ndbfyw)!d<vcchfsV/W*`*nwjvo!N-jqqbMNfwwoffm)!E.3!fnsjvquJyofuu-)!s1b/f1o*j<M!pnUjmqfJyofuU!q>b!Nnwboyf)!n>j!qmJco!u4-d!fdwv!c<ffV{Wj`TnmjfoyNfjuq!M>f.w!fym/*w<v!!g<mcphbsu/!*g*bwdvf!T-jq{bfN!w>o!ff)yEq33f)snvjuqyJfouu)*s<b!fgomjpMbpuU!muffyyffUmqTbjN{wfo!f>!!>2!/s1c!!04!d)f4w/!1<!f+{!jdTvmcffyVfWu`!n>b,y!Uzj/mwfvT!j<{cfh*s</!*\v*$wjvg!e-fqgb!NQwCoSf`)FEO3WfNsBvQu`yGfBuM)TsFb\vf!owjfMdp3U!mvfwy!f>U!qhbfNuwVoWf)!e>j!ssfud!u4jdpfow-!!<gfb{djfT*m!f+y!f)ug!b>d,f!Tyj/{wfv!!.<!c2h/s1/**!*,w!v1!/-6q<b!N\vw$offm)tEf3\vf!swvfudy3f!uv)ws!b>f!ohjfMupVUWm)feyjfsUfqdbuNjwpoof-!!>g!bmduf!*4!d+f!w)!g\vbfdtfmTfj${\vf!!<.c!h2s//1**w<v!!w-fqdb3N!wgo!f>)!Eg3sfbsdvuu)yvfwu*!<o!svvwu!f,s>!!\v1F/T6M!B.G!`gQ<B!N\vW$OfFo`eSjCgQ\v!!gjfge!g)jg$b\vd!f<!f?{!j3T/m1f*y!f|u!!v>w+/!zw!v,!><!*gfb{djfTTfjd{bfg<!!+g!b1d/f3!!..>!!f4{/j1T<f!m~j!Uvywb/ny`!W,V>f!cgvbdd!f-!1+/!1g)bydbfnT!j+{!f1</!4j!g>!,)!nyj/qwJvo!u<!f={!jdTvfcmfjVUWo`jnnb`yWNVjfqcMvfdw!f+m!*1!/|3!!v+w!/uzo!J,s>f!u3m/j1g!!+>!,d!vzc/fwVvW!`~n!b<yfU{jjmTf",V["clipDirection.fs.head"]="g$jjegoeff$g\v!!D<MuJoQf`dEsJfSQFqDjUmJDPvO!\vu!bvpomjgg!pnssnp!gjjoouv!!v<DompjjquEdjfs",V["clipDirection.fs.body"]="g$jjegoeff$g\v!!D~M!J\vQg`jEeJoSfF$D\vU!J~P!O<\ve!sjbgd!t)jveD!m|j!q*E*jssjfed!u-j*puoo!f?d!s1f*Q!q|j!mwDfvd)44!defjws)!u>p!ew!f?d!4*)o1p/j1u-j!t1p/Q1m-b!d1p/M1w*!<-!s\vj$ej)guepfeg)!!VgWj`!D\vMfJtQm\vf!$w\vf!d~4!!<demsjbqdQtpjtej!u|j!p*o*!s>j!ew!M-p*dubomfQdpstfjQuqjjpmoD<v!)\v4$dffowe)jugp\ve!!j?g!!*)ovpDjmujjqtEpjQsqfjdmudj!p-os!j=e!)3u*p!e|)!!egjjs!/~y!!\v>g!j2e/o1f<$!\v~!!<f*m1t/f1!!j-g1!/)1v!D-m{j/qwEVjws)f4ddufjwp!o>!!=o!p4j*u!j|t!peQjqsj/myd!!>\v!f.t2m/f1$<\v!!~<!*f1m/t1f!!-j1g/!1)!v-DVmmjbqdEpjMswfVdwu)j4pdof!w=!!>5!*o!p|j!uejjtsp/Qzq!j>m!d2!/\v1*<S!C~Q!)femftofj!gjfge!!)}v}D!m*jHqOEPjIsQf)deufjopjog!f=e!!6g*j!$|\v!!e<j1s//2z.!!>>!!.y2//s1j<e!!~|!!f*m:t!f=!!jogp!j)uvdDfmsjjqEEqjjsmfDdvu)j!pgoj!!=f!t7m*f!!|~!!e\vjgsj/e{o!f>$!\v2!/<1*<1!/~1!!f-m1t/f1!!j-g{!/)wvVDwm)j4qdEfjws!f>d!uojppjou!j=t!p8Q*q!j|m!de!j\vsf/t{m!f>$!\v.!2</*11</!1~!!-\v1$/j1g!e-fVgm!bVdWp`MDwMVJwQ)\v4!dffmwt!f>!!jogp!j)uvjDtmpjQqqEjjmsdf!d\vu*jSpCoQ!)=e!f9o*j!g|f!ee!j}s}/!y*!H>O!P2I/Q1)<e!f\vo$jjggf!e",V["clipbox.fs.head"]="g$jjego!fN$B\vY!`<C*P6Y/`1D!M-J6Q/Q1F!S-!6?/!11)\v4!dvfowj!g>p!synb!Njqojum!dv!D4mdjfqwq!fustToipbdq!f<]*N6B/Y1`.C!P-Y6`/D1M.J!Q-Q6F/S1^.<)!4vdofjwg!p>s!no!jcNpqpjmm!dv!D4mdjfqwq!fustDompjdq!J<o^oSfFsQ]QNJBMYD``CYPPYC``DYMBJNQ]QyFjSs^u<b!NvsofjqgqpjsmnD!vn!b5u",V["clipbox.fs.body"]="g$jjego!fN$B\vY!`~C!P<Yo`sDvMuJfQsQ!F<Se!s?b!d1t\vj!ew!f|d!4*!ewfMepsdbbdmt<j!Ectpjp)m!!gjjt!E\vjEtOdFb`sQePfPeM!`>M!MgPbSmOtVf$<\v!!w~f!d~5!!<wfXvpssum!e>U!fenfqe!s>b!dwtfjdE5t)jw!X|p!s*m*e6Q/p1t.j!u?j!pzo/-m!b2d/p1M*w<!!%\v%$!V6O/S1P!M=M!`zM/PmPbQd`pTMUwB!S%U%\v!!6g/p1s!!+)!j*ozu/!mjb!d>p!M1w<!!.j!!6=/!1N)B!Y=`!C*P{Yy`/DmMbJdQpQMFwS)<i!ujh,o,f*m!)|!!>waM!p^djb]ms!f>o!o)JvqDjmmjDqsqffqsqNjbmuDsvj!y%]%j!^5!!+>!>w!X^pjs]mfeqUbfinTqs*f/qyqzj{m<D!vj!g}!})!v*D6m/j1q.q!f?s!Tzi/bmqbfd]pjM^w!!>%>%!!26!/%1%!!=v!Dzm/jmqbqdfpsMDwm!j%q%J!o6o/f1s!]=j!^*!{ay>/!m)bbdmpmM)wm)fituthUoifbmo))!w>Map!d^bjm]-s!fdomojJqqNjbmyD*s*f!q%q%j!mbDmvm!)%h%s!f4b!u>f>s!U^ijb]of)qwbMipTdsbfmq-q!jdmmDjvq!N}j}o!***6*/!1}!}=!!v*DmmbjdqpqMfws)Tiiubhqoff]mj)^!!>>a>!!^3j!]%s%f!ovoDJmqjjqmqDfs",V["fog.fs.head"]="g$jjego!fe$f\vg!j\vogfjee)oGfP$H\v*!\v\v!gvjoejogfp$s\vn!!<cspbpGmh!pvGGvp!hu<b!p\vm$gj!gn!sap)gejfogvj!o<fseb)fVOThFp`GVvC!Pu*b!p%m%g!!)nesfpggjjoofve!)\vQfItPmOfH$*\v!!}<}z!uejftgojfoEfhep)GQvC!Su*b*p*m\vg!!vnosjpggpjsonv!!w\vf3dQ5Y!Fv`GHpPhGD!pgmfpesg<j!$\v",V["fog.fs.body"]="g$jjegoeff$g\v!!G~P!H<\v*!sjpgu!d)bvGGhpphg*!!-|*!xg/mepJb!u-!cehfsq/usip!m>p!D.hwpNGwvQ)p5tdjfuwj!p-oe/J{)<y!j\vn$!j>g!eefJg!!\vGgPjHe`oFfY$Q\v3!\v<!*gimupqbfue!!g-pshbGGbhdpuGpvs!!->s!b2f/O1h!p.G!vf)yqqf)u.t!ivuGppphnEtf!o>t!jsupzu!d+b!GvhGppgh!Eufboptmjgu!z\v!f+t!meff$q\vu!i<!*+i!ueqf",V["skinning.vs.head"]="g$jjegoeff$g\v!!V\vTgFj`eToLfJ$O\vO!J~O!H<\vf!ovpocj!gopssvnu!fnsb!u<5^!*cjj)oueoNjb]utsfjdyj<s!uvboNjfgoppscn!!>n!bfuo5p!cc!j5ouebNnb!u|s!j*yjJ!ouwbfpsmtgf!<o!jb!uuutsojpcdv)uyfj!swufbdN5f!otplCjuofJho!e5fuyb<n!!b<u^uTsFjOcPvCu`fY!BwNf]dt5f!dtjlsjuobXNffjohpicu!<5!u\vb$nj!gnesfpgg!jCoPvO!F\v`fUtFmYfU$V\vS!F~\v!!<vfoojpgcp!sons!viujfhsi!q<!*t5bwn!q-m4fws!3-E3!wc!p-o2fwU)f5yuubvns!f><!!fvoopjcg!p5sunb!nj!o<u*!*czp!o-f*U6f/y4u!v,s!fyT)j!{+f!<y!en)b3ud5f!wh!f-ufCspvoufyNfbUufsojpyc))dEp3oftsuv!ujyof!ug!m>p!b5uw!!j5*d!f|w!!g<m*p*bzu!!-k*!6>/!3j!!,+!!y5)/!1+<!!ygem)p3bduf!wy!!->f!snvpuey)fkU-f!ogpmcp)bEu3)fcspvoufyUffuy!u>v!s4fwT!j5{dff*w*!<<!*g*mzp!b-u*!6z/!2>!!,g!myp)p!s+)!ky!e0)!3gdmfpwb!u-)fcspvoufyUffUyfuovpscf)TEj3{ffs*v*u<y!fgum!p>b!u3!we!y5!d>f!w2!/<1*!*0z!!g-m*p6b/u1)!c,p!oyf)U!f+y!uyves)f3Tdjf{wf!*-<f!sgvmupybfuU!feozp!c>)!E23/f1s!v0u!ygfmup!b>u!)2cwp!o5fdUffwy!u<v*s6f/T1j!{,f!*z<)!!z+!!>z!e",V["skinning.vs.body"]="g$jjegoeff$g\v!!V\vTgFj`eToLfJ$O\vO!J<O*Hx\v/!enfbnus5p!gctpoobfsNub!u-Y{!z>y!/h*feufCopoojflNtb!u+s!jfyt)stflwjooJJyojesfuyb/Nye*o<j!cn)b)u55d!fcwp!o>f!NebfunZs!p>g!thofbusCup!o\vffNtbmufs$j\vy!)<t{lzjyo/J*oeeffoyo/jzl*t<!!+n!bfut5s!fcwpooJfyNjbsuu[b!N>e!ohjfcu)C!p>o!feNfbnusspjgyt)otblsjuo!J\vo*eSfCyQ/){e*f<o!jngbfue5!!}c}p!o*fHNObPuIXQ!)>e!fhofjugCfpeo!fgNjb$u\vs!j<yx)/tulijhojJfoXeofjyl/tx!*+<!!ynfbuus5f!WtoljjlotN!b+u!sXjuyb!N>f!onpbcu!5>),1!/e1f*o<o!jtlltj!o<N{b/uusijhyj!f,X>o!jtlltj!o+X!fyjfhuisuf/Wyo!j+l!tc!p+o!f[NubbuNYf<o!ptcl!j>o,N!beufsojoyj!l,t>!!<tzl/juoiXhfjjfhXiouj/lzt!!++!!cypfoufsNfbWuoZj<l!tt!l+j!oZNubbuNsfjoyp!c,!>>!,t!lejfooXofjjlhti!u</y{/!u+i!hcjpfoXfoNjblut[!<+!!tylfjuosNfbWuosjjlyt!!,+>!!YtulbjNofXofpjch!i>u,/!xe!f+o!ocjplotf!N<b*u1X/<1!)t5ldjfowN!b>u!sejfyo!o>j!lctj!o5edNfbwu!s<j*y1J/o2w!f-s{tzfy!/+e!ftnlsjpogNtboubssjuy)!5+d!fcwj!o+e!NybjussujbyN<e!opjcck!f>d!uyOfpussnfbWmo!j>l!tw!f5dd5f)wt!l\vjgojNeboufs$j\vy!!<+{!zwyf/d*5*)1p/c1k!f-duuoOfphsonbbUmu-d!f1k/c1p*)*5/dyfzw{!<+!!\vy$jjsguebfNgo!jVlTtF)`5UdBfOwH!F>O!Uu\vo!fphcokbfUdu",V["shadowMap.vs.head"]="g$jjegoeff$g\v!!V\vTgFj`eToIfB$E\vP!X<NeBsQp\vp!D\vx$pjegbeiftg!!5VdTfFw`!DhToNj\vz!svbowj!g<pysjns!unbbNux5p!etbiibte!p5xuNbbnu!snjsyp]gDjToNv`!D\vBfTtDmBfE$F\vT!^<<^!TwFbEsBzDjToBhD!`wNfTdD5]!etsipbpeDpx",V["shadowMap.vs.body"]="g$jjegoeff$g\v!!V\vTgFj`eToIfB$E\vP!X<N*B1Q/\v2!!\v-${jzgye/fegf!nVsTpFg`tDoTbNs\vu!)\v5$dVfOwS!P+M!My`jMsPuPbQN`mTfUeBpSNUv\v!!+g!pysj!s)ujboNux!pje!b>i!t1!<>!!je!s=p!pDDTxNp`eDbBiTtD!B\vEfFtTm<f!$j\v,!,\v*E!O|F!`tQiPbPeMp`xMDMpPpSsOeV]$j\v^!!~>!!<t*i1b/e2p!x-N{bzuys/jeyf]njs^p!g+t!ovbNspue)f5mdNfbwu!s+j!y",V["shadowMap.fs.head"]="g$jjegoeff$g\v!!V~T!F\v`gTjIeBoEfP$X\vN!B<Q*\vq!ev!o-j*gzp/sfn{!jcTpmpfmy!ftui!b-eEp4xeDcv)mWmV<p!Uvfocjvgdp!s-nq!bgNmxppbeub!itti)bfespbxqJnopuDfEo3tfjsuvzu<y!fvuo!jogspvsunf!sg!m\vpfbtum!ft$i\vb!e<p*x1C/j:b!t0<!!1v/o2j)g!p+s!n*!!g*mqpeb!u-!*tzi/bfe{pjxTSmbfeyjfvut!<-!yvyozj/gupfstng!gcpp!p,m!!Et4iebce)pWxVSpfUdffcjvwdf!<-!qvboNjxgppesbni!tw)ffds3b!qtnipbDeEp3xfTsjv{ufy<f!u\v!$,j!g*eqfeg!!-V*TzF/`fD{TjNT\vm!fvyofjug!p-syny!yg/mupfbtug!gdpt!n,E!fEq4ueicS)bWoVhpfU<f!cvvodj!g-pqsbnN!xwpfedb3i!td)tfnsDbbqtndpbDeEf3tf]sDvTuNy`fDuB!T,D!B*EqFeT!^-<*!zw/bfs{zjjTomhf!ywffud!5-!ztyizb/eupfxtDgpgpps!e,]!DET4Ne`cD)BWTVDpBUEfFcTv^d<!!-vqobjNgxppsenb!ittb)nfqsmbfqsn3pED!Et3ifbsevpuxyNfbuq!],D!T*Nq`eD!B-T*DzB/EfF{Tj^T<m!fvyofjug!p-szny!yg/mupfbtug!gqpd!t,t!DET4NeMcj)hWiVupTUjf{cfvDdp!s-sqfbdNuxjppeob]iDtT)Nf`sDbBqTnDpBDEEF3Tf^s<v!u\vy$fjug!e,f!g*!qDeT!N-`*GzB/EfF{\vj!Tvmofjygfpus!n-!Eg4mepcb)uW!VdptUnfGcbvedf!G-bqdbuNpxsp<e!b\vi$tf)ofesjbgq\vn!p\vD$Ef3mftsfv\vu!ywfbus!z,j!o*hq!ew!f-d*5z!/tfi{bjeTpmxfDypfpus!e-<y!zvzo/jugfptsgng!pt!b,n!qEm4fesc3)EW!VtpiUbfecpvxdN!b-qq<b!N\vx$pfeobeijtg)\vf!s\vb$qjngpeDfEg3!fTsIvBuEyPfXuN!B,Q!`*UqZeQ!F-`*QzD/TfT{\vj!Tvmofjygfpus!n-!ywzfyd/4u!fqtdgtgtpQ!b,s!bEn4te<c!)\vW$VepfUgfjcovfd!!C-MqPbDNLxFpSe`bTiFtB)SfDsIb`qTnBpNDQEM3FfTs!v4u3y\vf!u\v!$,e!f*gqjeo!f-!*QzD/Gf`{TjBTNmQfMyFfTu!!7-5z\vz!zd/puofttug!gwpf!d,3!!EQ4pejct)tWpVopTUbfncqvmdf!s-tq4b3N]x4p3e^b!i>t!)wffsdb3q]n4p3D^E)3!fwsfvdu3y)f1u/!1,7!5*1q8e1!2-4*-z!/1f/{1j6T5m1f:y:f3u8!*--z!zwyf/du3f)t1g/g8p4!7,7!6E848e-c!)1W/V6p8U9f:c4v:d5!*--q!bwNfxdp3e)b.i1t/)7f3s8b1q6n5p3D-E!3.f1s/v6u4y3f1u3!8)9!*o-s!vwuffds3!)<.z1//f5{1j:T7m2f1y8f-u!!1+/!9t5v2j2e1b:S6x*p-e!bwiftd!3+)!1*/27!9-52:!6.7)53-d!f.w1!/>5!:u:f1t9g2g9p*!-3!dwffwd!3\v)*.U1G/P9T8`5G2D9Q2`-F!Q.Z1U/`1Q5B6N8X:P8E4B6I*T-)!ewffodj3g)f1e/!:}:}9!:*:G:D9Q-`!F1Q/Z1U1`1Q:B9N9X1P1E7B7I*T-)!ewffodj3g)f.e1!/g1j1$5\v:!3<1*6o8p9j-u!j.t1p/Q:p2U6u2i7h5j:m*)-f!{wjfmdb3n)s1p/o2!9>1!6E847e4c-!!41d/f:w8!5<8t5b9j4C*x-p!ewbfidt3!)>.,1!/q3e2!4<9*5s6b2f-O!b1s/f3n7b4D6x9p2e9b*i-t!!w.f!ds3b)G1b/s2f1n:b9D5x6p-e!b1i/t4)9!905!8*9s6b*f-O!bwsffdn3b)D1x/p1e7b9i8t7!8.6!6*-o!p.j1u/j4t6p9Q2p1U8u5i*h-j!mw)fidu3h)o1f/m4)8!5>1!8q4e-!!u.b1p/m8g7!7<2{3z7y7/*e-s!pwpfDdx3p)e1b/i4t1!8>:!2o4p3j-u!j.t1p/Q2p3U2u7i8h7j4m*!-4!dwffwd!3<)*.*11//438!:-514/456)-3!d.f1w/!9+3!8f2{6j9T4q*b-N!xwpfedb3i)t.)1!/03!1*419/829)-3!d.f1w/!1>8!8f2{6j1T4m5f*y-f!uw!f3dd3f)w1!/|6!:*2s3b7G:b8s-f!n1b/D2x5p7e:b8i:t:!*u-b!pwmfgd!3-)s.b1f/O9b9s1f7n:b-D!x1p/e4b1i4t2!8u9b5p*m-g!!w-feds3p)p1D/x6p1e5b1i2t1!95-d!f1w/!9-3t9v4j8e3b3S*x-p!ewbfidt3!)u.b1p/m6g9!5-5t2b3j5C-x!p1e/b6i5t:!5u9b8p8m*g-!!-wff{dj3T)q1b/N7x1p2e8b8i:t:!-3!d.f1w/!2-8q3b7N7x6p5e*b-i!tw!fEd33s)f.m1q/n6b6t6)5x:p9e2b-i!T1u/o2j6p6Q:u:f:h8!*u-b!pwmfgd!3~)!.<1*/6481/217!4-76:8-4!/.11)/34d:f1w1!:,3!9s*b-o!bwmfqd!3+)!.*16/36/616!1-764332-/!1.)13/d2f8w3!4o8s7v3u*f-s!!w~f!d<31)/13/!:.3!6Z1o3h:j-t!!1+/!3{:/:w6!1>5!2z*/-s!bwofbdm3q)!.<11//335!8,4!2Z4o8h-j!t1!/+6!614/936!1,6!*y-/!ww!f>d!3y)/1s/b:o2b9m4q1!4<8*-z!/.w1)/o3h9j7t3!4>:!3Z*o-h!jwtf!du3b)p1m/g3!5|7!:*5f3o2P-u!t1p/n7m8b2!9>8?2!3z*/-W!twcfbd)3!)g1j/!4f:t2m7f4!:~8!-<!Y.o1h/j5t4!3+9!311/:3*!-,!!wYfodh3j)t.!1+/!1{4/6w8!7>:!3y8/-s!b.o1b/m7q3!3<1*1y4/3w*)-o!hwjftd!3>)!.Y1o/h1j5t7!7u2b3p6m6g-!!|1!/*8f:o:P6u3t1p2n*m-b!!w>f?d!3y)/1W/t5c5b1)3!:g3j5!-f!t1m/f4!7~5!1<4y2/3w*!!.*!<1!/d5p!o>t!uy!/wsfbdo3b!mQqp!j*t1t/p1o!T?b!n{q/mwf)s!tg7j5!]|7!5*^f!o>P!uwtfpdn3m]b7!5>^?)!!{w/fWdt3c)b.)1!/g7j2!4<4m:f3y-f!U1B/u7t2p8n5m9b2!*.-!!1w/f2d!3>)!1f/o2P8u1t1p2n:m-b!!.u1b/p1m5g1!3<6Z5f*{-j!Twmffdy3f)u.!1+/!36:/:25!2>8!-m!f1y/f8U:B2u:t3p6n*m-b!!wufbdp3m)g1!/<7z5y6/7w9!1>-!!s1b/o5b:m4q3!231d*f-w!!w<f*dZ3f){.j1T/m7f6y2f8u9!5+-!!11//38!2.8!919/82*)-!!+w!ffdc3v)D1p/U5f3m2b1d1t4!->!+1!/w1!3<8f1c8v1D*p-U!fwmfbdd3t)!.>1+/!9W2t8c2b:!5<-*!*.{1//W3t8c2b1!:-7z*/-W!twcfbd)3y)b.n1!/-8y1/6W4t8c5b-)!y.b1n/!707!913/124!*>-!!fwcfvdD3p)U1f/m:b8d8t1!6u1b-p!m.g1!/<2*1w9)7t2c6b*!->!!wWftdc3b)!14/d1f7w4!4|3!7*-Z!f1{/j2T5m3f4y7f:u*!-u!bwpfmdg3!)-1w/!341d4f6w3)9W-V!p1U/f3c2v5d4!432d*f-w!!w~f!d<3x)p.e1b/i7t7!8o6s4v2u-f!s1!/~4!3\v7g1j:e1o*f-$!\vw!f<d*3{)/.e1s/p1p:D9x5p3e3b-i!t.!1-/z3y:/6e8s6p6p*D-x!pwefbdi3t)!.-1q/b9N9x6p:e3b3i-t!)1f/s3b2q6n4p7D:E*3-f!swvfudy3f)u1!/>6!7x7p7e4b8i-t!!1\v/f7t1m6f3$2\v4!*<-*!owpfjdu3d)f1s/s1p4D:f8{7j7T-u!i.h1j/m4!:-7e2s1p1p*D-x!pwefbdi3t)!1-/q8b6N2x:p5e7b-i!t1)/x5p6e4b4i6T3T*T-D!Qwuffdh3!)>1!/x1p8e9b8i1t8!-\v!*.T1T/D8Q2`6F4Q3Z4U*`-Q!BwNfXdP3E)B.I1T/)1e8f6o9j4g9f-e!!.g1j/m6f3$:\v4!5<5**1-/!:w!f0d!31)/12/)8!3+5!5*8!:*-{!/.e1s/p6p9D1x8p:e9b*i-t!!w-f*d23z)e1!/-323y3e:):3:d-f!w.!1,/!3z2y6/2e3s6p*p-D!xwpfedb3i)t.!1-/f5{7j8T6q8b5N-x!p.e1b/i5t1!6-5q4b9N*x-p!ewbfidt3))q.s1f/M3x5p9e3b7i9T-E!3.f1s/v9u2y5f8u6!4,*!-*!{w/feds3p)p1D/x4p6e5b5i2t2!--!*.21z/e9!9-816/811)*3-d!fwwf!d,3!)z1y//2e8s6p9p2D8x-p!e1b/i4t9!3-4f7{7j*T-q!bwNfxdp3e)b1i/t5!9-8q5b8N3x-p!e.b1i/t1)7q4s1f9M3x*p-e!bwifTdE33)f.s1v/u1y9f5u1!8,9!-*!{1//e9s:p9p4D2x3p*e-b!iwtf!d-3*)21z/e5!9-919y8e7)-3!d.f1w/!8,9!4z5y5/2e*s-p!pwDfxdp3e)b1i/t5!8-1f1{2j7T-q!b1N/x3p2e8b:i4t4!*--q!bwNfxdp3e)b.i1t/)7q:s7f9M:x1p-e!b.i1T/E635f:s8v:u2y*f-u!!w,f!d*3{)/.e1s/p2p5D:x7p:e4b-i!t1!/-7*116/817!3-*2-y!ew)f3dd3f)w1!/,1!4z5y3/2e2s-p!p1D/x:p8e:b:i9t1!*--f!{wjfTdq3b)N1x/p6e1b4i1t:!9--q!b.N1x/p4e1b9i9t8)9q*s-f!Mwxfpde3b)i.T1E/31f2s7v3u1y6f-u!!.,1!/*9{8/3e:s3p2p*D-x!pwefbdi3t)!1-/z4y9/6e8s9p5p-D!x.p1e/b4i:t4!:-1f3{*j-T!qwbfNdx3p)e.b1i/t2!5-7q9b9N7x-p!e.b1i/t9)6q:s3f5M:x*p-e!bwifTdE33)f1s/v7u5y4f4u7!2,-!!*1{//2e7s5p1p:D9x*p-e!bwiftd!3-)*11//714!5-419y9e-)!3.d1f/w1!5,:!5z8y2/*e-s!pwpfDdx3p)e.b1i/t7!9-9f9{:j5T-q!b1N/x1p1e8b9i5t4!*--q!bwNfxdp3e)b1i/t5)7q5s1f4M5x-p!e.b1i/T2E939f9s2v9u*y-f!uw!f,d!3*){./1e/s5p5p1D9x5p1e-b!i1t/!2-4*815z9e7!*--2!ywef)d33d)f1w/!4,7!5z5y9/4e-s!p1p/D6x2p2e8b1i5t*!--!fw{fjdT3q)b1N/x1p4e5b1i3t9!--!q1b/N4x3p6e:b7i9t*)-q!swffMdx3p)e1b/i1T:E:31f:s5v-u!y.f1u/!4,1!9*1{3/4e*s-p!pwDfxdp3e)b1i/t7!:-4*:17z1e-!!-.11//14)737d3f6w4!*,-!!zwyf/de3s)p1p/D7x8p9e9b9i5t-!!-.f1{/j3T1q5b7N9x9p*e-b!iwtf!d-3q)b1N/x1p1e2b9i1t2)-q!s1f/M8x9p1e4b3i9T*E-3!fwsfvdu3y)f1u/!2,5!6*2{8/8e-s!p.p1D/x9p:e9b:i9t5!*--*!1wzfed!3-)11y/e1)733d7f6w6!-,!!.z1y//7e2s2p9p7D7x*p-e!bwiftd!3-)f1{/j4T2q6b3N3x7p-e!b.i1t/!7-1q5b3N:x8p*e-b!iwtf)dq3s)f.M1x/p8e9b1i2T5E63-f!s1v/u5y9f7u3!6)2!*>-!!xwpfedb3i)t.!1</t4v8j2e9b7S9x-p!e1b/i9t9!3+2!4z9/*f-{!jwTfmdf3y)f1u/!3,1!1>5!827z-e!!1u/b5p:m5g5!4<1t*v-j!ewbfSdx3p)e.b1i/t5!:+5!6y6/3f-{!j.T1m/f8y2f2u1!6,2!*>-!!2wyfed!3u)b1p/m7g2!3<5t8v7j-e!b1S/x8p1e6b3i6t3!*+-!!zw/ffd{3j)T.m1f/y6f8u9!9.5!6>-!!1.z1e/!8u7b9p8m:g3!*<-t!vwjfedb3S)x.p1e/b8i8t3!5+6!5y-/!f.{1j/T1m:f1y:f8u7!*.-!!>w!f1dy3e)!1u/b6p1m5g5!5<1f-{!j1T/q4b8N3x3p:e6b*i-t!!w0f!d*31)/12/)236d6f8w4!7>-!!f1{/j1T7m6f2y6f8u*!-3!dwffwd!3\v)*1U/G4P:T2`6G3D3Q-`!F1Q/Z9U5`:Q7B1N6X*P-E!BwIfTd)3e)f.o1j/g7f3e1!2g1j7m-f!$.\v1!/<4*319/2:1!50*!-1!/w2f)d!3+)!1*/!8*9{:/3e4s:p-p!D.x1p/e5b2i:t:!7-6**2-z!ew!f-d23y)e.)13/d6f5w6!4,:!7z-y!/1e/s6p4p9D2x4p4e*b-i!tw!f-dq3b)N.x1p/e2b8i9t6)7f5s-b!q.n1p/D6E:37f1s6v8u*y!f*u<!!,g!m*p{b/ue!shpfpuDQxDpTeTbTiitb!e-p*x2)zteb!n-q1m/f1s)33Ed!ftwi!b,e!pzxyN/beqs-p!pwDfxdp5e!bdiptp!s-eqtb-N!xgpmepbbiut!)mfjshbiqunTpjD{Ef3Dfpssvsufydfuuj!p,o!**!{|/!ewsfpdp3D!xvpwe!b>i!td!p-p*s2ezte/!y-z1<y!eg)m3pdbfuw!!{,S!fzdyf/jewsfpsp!D>x!pdepbpiste!t-/q{b<N!xgpmepbbiut!)tffsbbsqdnipSDbEe3jfvstv!u>y!fqud!t,t!Q*b{s/benstp/pyD!x+p!eqbdittt!Q-b*s1b/n1t!/-z2!y+e!)m3jdhfiwu!T,j!{zfyD/pessspfpdDuxjppeob<i!tg!m-pqbbuN!xcpmepbdiltf)sfEsfbqqunipTDvEn3!f>s!v1u/y1f<u!!j,o!u*!{o/vensCpmppDdxlpfesbti!t>!!-1z<y!/gepssp!p)Djxopue!bji!t>!!-1q<b!Njx!p=e!bCiMtP)DfLsFbSq`nTpFDBES3DfIs`vTuByNfQuM!F,T!<*!{j/,e,s*p!p|D!xgpmepbbiut!!t-i*b1e/p1x!N-b1qyEef)q3udif!w>!!,v!ozqyb/delsSpHpCDBxUppeEbfiqtu!i-)qubfNyxupvesbfi3tE))ftsibbqenppxDNEb3qf-s!vvuwy!f,u!!Q,p!j*t{t/peosTpbpnDqxmpfesbti4t3!]-j*^1!z+e!!t-f2bysed)i3Sdbfewj!v,t!*z*y</!ejsgp!p)DtxipbeebpixtN!b-qqEbfNqxupie!b=i!t{)SffsdbfqjnwpfDsE*3!f|s!vcumypfdul!f,s!E*f{q/ueisTpvpnD!x,p>e!btiitb!e-p*x1Nzbeq!E-f1q/u1i)<3!dofvwn!C,m!pzdyl/fesstp!p,D,x<p!e~b!i~t!!j-gq!b)NoxvpneCbmiptd)lffssbtq!n>p>D!E13*f!ssvfuuyvfsuo!!,2!/*1{</!egsmpppbDux!p{eCbmiptd!l-f*s1!z>e!!c-m1pydel)f3sdEffwq!u,i!Tzvyn/!e0s!pgpmDpxbpue)boivtn!C-mqpbdNlxfpsetb*i<t!)gfmspbbqun!pbDbEP3gfgstvfuuy!f>u!!q)d!t>t!Qxbpsebbnitt/!z<!t+v!j2e1b/S1x<p!egbmiptb!u+!!qzf/ofv{njcTsmbfSybfuuj!p,!!>>!!)2{zSef!dufbjpwmfgs!!<.t!v{jCembpSdxlpfesb*i!t,!!+b!byP/gfg{tjfTum<f!ygfmup!b,u!!>g!j2myuef!suSbbpemjgv!t<!t>v!jqefboSvxnpcesbbiStb!u+j!pz!/+f!{qjdTtmtfQybfsub!n.t!/>y!!1+z!eq!dutbtpQmbgs!b<nttv/jze!b+S!xqpdetbtiQtb!s+b!nyt//f{{!j+T!mmfjyhfiuu!T.j!{>f!D1pyses!fudbupjmpgo!<<!fg{mjpTbqub!Ntxipbeebpixt!!>0!!1*/11/<2!)g3mdpfbwu!!>s!bfo{ejgT!m>f!ygfsub!d3ud)ftwj!o\v)*eGpDuQ)`vFwQ-ZwUf`dQ3B)N2X3P/E:B9I:T9)-e8f9o/j3g4f4e*!*g*j!$+\v!!5|4!8*6u9t/f6U5n6v4u*t<v!sggm)p!bguj!!s<p*udbfuWjuptofBUonhvmuft!v>s!gs)bmomebg!!>+!!u4t/f2U5n2v6u:t3v7s<g!!wmfpdp3c!!s<p*u1b/u2j!p>o=W!f{d/uepssp!p>D!xwpfedb3i)td!p-tn)vsuptuvbsuGjopjo)B3odhfmwfc*!->!!tdjfoW)ustpfuUbnuvjuptovBsogh!m3fd*f*w<c!!w<f*dd3f!Wpngvguttfvus<G!o\vj$)VmOmSbP!M>M!`nMvPuPtQv`sTGUoBjS!Um\vp!pgcp!s<!*)1j/o2u!!>j=!!>z!/1e<s!pjp!D=x!pQeDbGi`tT!B-N1Q/M1F!T><?!!jz,/,e*s!p|p!Dpxgpgetbfiut!!>-!1Q/p2j!t>t=p!oyT/bensqpmpfDsxtp7e5b]ijt^!<-!1p/g1g!t>f?u!!y>/!ewsfpdp3D)xppgegbtiftu)/!y5!d+f!wscp!u>b!udjfpWonWvfudtuvpssG/oyj!!.5!dpfgwgct!f<u*/:z:!:+:!:s:p/u1b!u-j{p/oeWsfpdpuDpxsp/ezb-i!tp)gogjtnf!u>/!z{!/+e!sspppuDbxupjepboiWtf!d<utpbsj/Cyx!p,e!bpigtg!t>f,u!/{y/!e+s!psppDuxbpuejbpiotW!f<d1u/p2s!/>z!*x<p!etbiibte!puxb!p,m>g!!t|u!f*qo)p{jSufddffsjswpfDsf-{!jvTouqibhdjlmS!HuCbBpUmpgE!f-qeusip)puDfxypuevbsift3!E5)dtfiwb!e-ptxvNjbeqb-S!xvpwe!b,i!tp!gugbtpfmug!!+-!tgbjjmCuxfpseSbbietj!vutb*p*m*g<!!-~f!{\vj$TVqObSNPxMpMe`bMiPtP!Q3`dFfOwE!\v-!qtbiNbxeppexb!i0t>!!Eg3mspfbmuq)nQbDtG)`xTpBeNbQiMTFuTf*h<!!utbipbmegp!x~!!><!dn!joys)vtuifbse!p<x*-y!/2g/!--!c{!S-fbd)fyjjwnf!s>!!.d!!{uCbmppmdgl!f<s**z</!gs!f-uuvss!o-!ctsi)byejpnx!<>!!~c!!\vu$bfpomegj!g<\v*!zg/mgp!b-uu!mu!f-ycumv)syfj3nE!D>p!nbq!busbfp)mtgb!n<q*m6f/s13!E,!!eff{qjuti!t+-!!wwvf)du3d!bvswg-!!>g!mgp!b3ud!fdwp!n<q*bfssfb*q!n|p!ds!f-uzvzs/ou!fttugfgqp)!d+p!nfq{bjsTfm-f!yvfouq!b,d!lWSVHeCjBpUspuEoffqdu!i-)tuifuyqufves)ff3sEb)qenfpqDuEi3tf-s!vvuwy*f*u*!<>!!~u!sg!mupbbpum!gu!f<y*ufvssbfq3nEpTdi!b-eypzx/Muffstqg)gtpb!n+q!mff{sj3TEm!feyffquu!i,t!-W!Vwefjdp3s!utojf{df!--!twifudq3f!ev)wf-s!bgqmnppbDuE!3dfpsnvqubysffu*!!>|!!cdsp!outbup!mwgf!d<3*!fpsgbgqtnfpud!!>-!zwyf/du3f)t1g/g1p-!!+2!/f1{*j<T!mwffydf3u!!u,f!yWfVmeTjjp{sfu!o>f!dw!f-dt3i)u2q/f1e*)!f0s!btqjn{pfD<E!3wffsdv3u!ydffuo!u>s!pujme!VuWb!p>m!gg!m<p*pfss)bvqwn!p+d!!t-jy{yf/!u,f!t1g/g6p*!!+0!!ft{jj{Tfm<f!ygfmup!b,u!!WmVce!j>p!suufoyfudv!s-ft3iEuDqpfneq)bfs",V["shadowMap.fs.body"]="g$jjegoeff$g\v!!V~T!F\v`gTjIeBoEfP$X\vN!B<Qf\vv!mjbgW!x)pteibbietp!x>S+f!dnfsjfwUfu*s!f|c!ngbmmp!b\vuf!ttmifb$e\vp!x<WfbvmmvbfW<x!p\ve$bjigte!f>g+!!VsTpFm`pDdT/Nu\vi!hgjmMpubduf!smjjeo!f\vb*sSECfQq)ueif!o>j!g.fweN!w}Q}p!t*jHuOjPpIoQ/){e!f0o!jdgtfneE!fgqju$i\vS!b<o*hffv<m!btWixbpeepbxiWtb!m.v!f1!/>2!)2!/+1!<z!u\vj$tVoOfSuPoMJMx`pMePbPiQt`!T.U!B1S/U2\v!!>g!pfsv!m)bjWoxup!ejb!i>t!!1~<!!<jo!s=v!uDfTsN!`<DeBsTbDdBtEjFeT!<|!!j*,1,/*2!!|>!?j!gf!v)mmbjWoxfpbesbEiftq!u%i%!!?m>m!vdDtxnpDebbtidtb)e!fgtj]!j\v^g/jye!o%f%$!\vm!j<o*f1b/s2E!f-qeusip!p=D!xdptenbDibtt!d-btevfjte]bjS^x/pze*b!i|t!!t-itbbejpCxxWpbembvift!!+->f!{hjfTuxTpiebbeiptx!)-tqibbNexppxeNbbiqt])Jx^p-e!btiiTbuefphx!T>j!{ffv-m!btWixbpeepbxiCtj!b\vtf-t!mtfi$b\ve!p\vxESObFe`jQvPtP-M!`tMiMbPeSpOxVD$p\vp!s~e!]~j!^\v-g!jqedotft$D\vT!N\vMgjjheioufT$j\v{!f~D!p<s*spfjduubjSpgog]jje^!*-<f!v\vm$bjWgxepfegb!iDtT!N-`xGpBeEbFi\vT!u\vy$fjog)!y]jJn^!!>=!!fDvTmNb`WDxBpTeDbBiEtF!T<!*.^!22,\vj!]gomppjbuud!fesjsgpgDSfb{ujjTpu!i>h!j)MdNtTnDDtbttddqb!e-f^t2],jj^]/ezs!p.p!DmxjpoefbbistE!f-qtuvij*e!b0S!x)pdetbniDtb!t-dtbbejfCtx]pje^b/izt!!.-!fd{tjnTDxbptedbbietf!t-]^j2^,/Jy]*q!b+N!xdptenbGibte)fxGpbedbuipTsu<f!hj!g>!!)xepjegbgiSTbuuyjfpo!!=u!b2p/m1g*!!|",V["bufferGrabber.fs"]="~0!0\v!g$jQeSoFfG$J\vY!\v<!*\v1$/e2f!g-j*omfb!nDsMpJOQw`)ECJHSSFpDUUmJbPnOs\vp!Owlbdsbzqj)o5hd!fwwf!d>4!!mwbMnpsdpbOmhQbpstgj!u\vjMpBoN<S!P\vO$`jCgBeSfHg!!gHfSeBgCj`$O\vP!S<N*B{M/\ve!smpbpzDphvbus)Gm`pmdhb)uBjCpHoS>p2U*i!upqvfuE!lidjbhqi!q>!!wsfpdm5p!DghsbbshGO`pmshn!b\vm?<z!ewpbcs/ztjgo/hy!pwcfqdj4m!dw=O!pfsenvbmmd<o!j\v$$\vf!o\ve?jzge\vp!c\v/$tjgo/dompvjeufd!f=sqjbEdqljjmodh=?!\vf!e\vv$mjdoodjm$v\ve!f|!!=*d)mojjqbEnj!sefjdpuwj!p\vog/jgeto/fi$f\vb!e<?o\vp!j\vu$jjtopdQmevmesfp!X=wd!m4jdqfcwp!yh/ogjtz/sibfwb!e\v?1\v!!?\v!$SjFgQ!QNJBMYD``CYP",V["flowMap.vs.head"]="g$jjego!fN$B\vY!`<G^MUPDXF`KPCCPK`FXDPUM!G?`!Y1B\vN!]vwoVjxgppmsgn!!3ndbfuw5!!hgomjpzxsNbbwu!s<j^yU]DNFBKYC`PG`MXP",V["flowMap.vs.body"]="g$jjego!fN$B\vY!`~G!M<P6X/`1P!C,K!F*D{U/!m?b!d1p\vM!wwVfxdp4m!gg!m,p!xzV/wmMbpddpbMmw<V!xgppmsg!.)!j-oyu/!mjb!d>p!M1w<V!xjp!m=g!)N3BdYf`wG!M>P!X^`jP]CwKVFxDpUm<g!!j<,{,z*y!/|*!*g1m/p2x!V-w{Mzpyd/bemf!n>s!p)ggtmopbxsNub)u5sdjfyw]!j+^!!y+j!svuNbpNemf",V["flowMap.fs.head"]="g$jjego!fN$B\vY!`<G^MUPDXF`KPCCPK`FXDPUM!G?`!Y1B\vN!]vwoVjxgppmsgn!!3tdbfnwq!mhfosj3zEs!bgwm!p<x^UUfDyFuKvCsPf`]XNPBMYG``GYMBPNX]`fPuCjKoFjDgUo^J<x!pvmogj!gmppspnc!!cnpsppmg!jgomvp!x<F^oUbDcFmKfCeP]`NXBPYM`G",V["flowMap.fs.body"]="g$jjego!fN$B\vY!`\vGEMOPFX``QPPCPKMF`DMUM!P?S!O1V\v$!\vw!f~d!5\v!ggjmepoxfU$f\vy!f<mc<h!s\v/$mVfOySfPUMxMp`mMgP!P>Q,`!TcUhBsS/Ue\vJ!!g\vpfst!m)fj$o\vu!!<jb>c1h<s!/jm!f=y!fNUBxYp`mGgM!P>X,`!PbCcKhFsD/Ue<J!!j\v,*,!*B!C|H!Sg`mEpExBU`fFyEfPmN!`>E!OuFfMyCu`vXsPfM3GE!))gemfpoxjUgffyeu!vgsjfm]fJ$^\v-!!<gbmcphxsV/wm]fjy^f*U<x!pjmgg!!)>g!mbpcxhFso/becJm!f\ve*]!jB^C!H%S%`!F)EgJmSpSxFJWoPg`jFoEjPuNf`]EjO^F!M}C}`!XbPmMmG)!m)fetftoUjigbfoe)!ggmjpmxfV$w\v]!j<^b-/!mwffydf3U)x2p/m1g*!*>*!!b%/%e!Jb!m\vm*)!hBs`fFbEuJfSsSUFiWbPo`)FgEmPpNx`VEwO]FjM^C-`!XwPfMdG3!))1e/f1o*j*g*f*e*!!g\vj$mjfg$!\ve!f<gcjhosf/em)f!yGfMUPxXp`mCgM!F>O!Ec`hNsP/EeFJ`!N\vV*M!UCJHQSM`ZF`ESJHSCS!F*W\vP!`JFeE/PsNh`cE!O+F>M!Cg`mXpPxMUGf!y)femf/osjhgcf<e!!\vg$jfmmfj$g\v!!e<fbgcjhosf/em)f!yGfMUPxXp`mCgM!F>O+E!`bNcPhEsF/`eNJV!M\vU*J!QBMCZH`S",V["normalMap.fs.head"]="g$jjegoeff$g\v!!V~T!F\v`gOjPeSoNfB$M\vN!B<Q*\v{!/vOoqjbgnp!s+n!!ntsbpnoq`mgfssv3tE!!,o!pzs/nObqmbNnb!q+<!!*\vu$ojfghooebfugj!CVwT)Ff`{VjCmPb\vn!svpooj!g,p!syn/!Owqfbdn3!!+o!p*sunobfmhTodbbUmwf)<f!{\vj$mfbonesjpgo\v)!f\v{$jjmgbenfsgp!oV!ToFs`vUuBfOsH!F\vOfUt\vm!fw$b\vs!z<j*o{h/!Owqfbdn4!!+w!UOb!o,h!f*ofum<b!dwtb!s+z!jzo/hO!qwbfnd)4!!+w!CCj!u,b!o*hffmobud<t!!\v+$!fyo/eOjqgb\vn!)\v!$+f!oUe)jfg{\vj!m\vb$njsgp!o)!eofsgvjuoffse!)<V*TuFf`eO)PuSsNrBtMfNtBsQf*w!o}j}!!+e!fogpjjoufdef!s)jVETfFd`bDgM!F;B!S1D/P1B!U@`!O*P1S/N1B!M>N>B!Qu*f!e})}!!>e!ffgmjbodfte!)uVbTpFm`gV!W<****\vC!!w-fCd)4u!pqef!s-u*vUs!c-OUp)sunpbem)3yBbsnc!)>w!fudf4e!!fuzbfp`mqgp!t<-z!/w2fudt4!!+t!vqssgf`qo1prs!n,-!!zw/f1du4t!!n+b!qqOs-f!qg2mrp!b>u!!Cg!b4ddffEwj!s<fyd/u2jupto!*+!!|q!s\vf$qj1gr!!a,e!fyg/j1oufte!)+V!TqFs`fUqB2OrH!F>O!UU*!\v4!dwffwd!4<!*r11r!!>-!Oe)Gtetyp)sfdz!f>`!qqpstf/qy1zr{!*4<d!fwwf!d<4*!Or!2-!2>r!)etGtepzs)df!z>f!`qqspftq/2yrz!{4*d<f!ww!f<dn3s!ptou`1g!s>v!te!G>e!yO)!w4Vdwf/wt!u<**<u!tw/fwdV3w!)tzue2G!e>!",V["envmapPhysical.fs.head"]="g$jjegoeff$g\v!!V~T!F\v`gFjOeWoNfB$Q\v\v!!<v*o1j/g1p)s4nd!fgwm!pobsuv!uffosw!N\vbfqtJmofu$f\vo!t<jzuuzj<t!ovfoujogJpqsbnN!wgomfp!b+u!!cghmsj/qsFpomwpNDbqqb<N!w\vo$fj!goesfvgu!fFsO!W<N*BtQt`fUoZiQhFv`pDsV!C-Fd\vf!Wvuodjfgmpgsfns!!t-bqnbqnmwfosfD)vWcVff!cfvoDwfnsbvqu<y!f\vu$!f>m!tsfp\vm!pvDoqjbgNpwsonf!!t5bdnfqwm!f<s*3yEj!sfuobwNnxbfqj<W!v\v!$-fdofeWjugd\vf!mwgffds4)!ohpfjuuJdCfMsJjsEsnbsepjgbtoodbfs)Udfptostfuw!ojjo!!>w!fddf4W!uodpfsmngbfms*!!<|*!*\vt$tjfgo!iehfvgpjso!f+e!)tFtOfWoNiBhQv`pUsZ!Q-Fm`bDnVsCpFo`!V-Wd*f\vW!uwdffdm4g!fxsp)symjenO)pfs{njbmmb!n>s!pjoo!w>f!sdtffWUusdbfomtggfpss!n<E*jmsbfndsupjop!o-)sojpEsxnfbjmw-!!.v)WujdffxmNgbfuss!j>y!*d<f!Wwufddf5m!gffosw!N<bdqfDWpumdpfsm!g>f!su!f4ydufvws!f\vD*vWcVf`VFWC)VfDo`wFnQbZqU-`!QxBpNsWmOeFO)pesfnobjmg-f!e2!/g1j*$<\v!!s|f!u*vtstof!oQiJh!v+p!sf!ouwbNpbmqgD!pomjp!su/tsohpcd!!+-!mfbonwsNpboq!J4oduffwo!tojju!zu<t!o\vp$df!m-tsfj\vE!xsffjuwv!s4od!fwwf!do4j)!1u/t1o*p<d!)\vf$dfoobejjegb\vS!M~C!Jwuffdh4!",V["displacementMap.vs.head"]="g$jjegoeff$g\v!!V\vTgFj`eEoJfT$Q\vM!B<DtFbNjFCOuUoNfBnQf\vd!bvmoqjtgjpes!nu!btpbmngq!mnfssp3gEj!oevj!t<qfmmbbddfTnufoofunNfbdqb<m!q\vt$jjeg!ouebfpgm!gV!TnFs`pVgCjPo\vv!",V["displacementMap.vs.body"]="g$jjegoeff$g\v!!V<T*Ft`bEjJCTuQoMfBnDfFdNbFmOqUtNjBeQ!\v,!!ufsmbbodtTguposfnnffed!b,m>q!tojpes!n+b!myj/{*fw)Vpwc!k-fqdbuNOuposfnnbfmd*b!m+q!t)juef)yEu3vfs",V["bloomSelective.fs.head"]="<vuovjpglpdsbnm!cc!pmp",V["bloomSelective.fs.body"]="~j!g<!o)scvmubfdsl!p<v*u1*/!2|!!-h1m/`1G!s-b1h/D1p!m-p1s/!1>)!5wdf",V["highlightDetect.fs.head"]="~g!m<p1b/u1!!hofsuvIujfhsi!m<j1h/i2u!Dopsmvpusf)st!b*n!q*m2f1s/31E!!=j!n*byh/fs-p!mwpfDdl3t!bdnp!p.s!ey*/!d|)!twcfbd!5%!%d!!6>/!1u!f>y?u!vxs/fd3!E})}j!n2b1h1f/-1!!d=p!pys/es*p<m!pjDgl!t)bdn/!y%!%,!!6d//1z!!=,!!xd//d{)!!,%!%d!/1x/!1?!";var t$=K.graph3d.PostProcessing=function(x){var G,o=this,l={},V=!1,z=!1,u={model3d:!0,mesh:{is:[0,2,1,1,2,3],pos:new jg([0,0,1,0,0,1,1,1])},mat:null},p={type:"blitScreen"},$={type:"fxaa"},M=(m.keys(t$).forEach(function(Q){((Q=l[Q]=new t$[Q](x)).resetProperties=function(){var Q,Y=this.serializeProperties;for(Q in Y)this[Q]=Y[Q]}.bind(Q))()}),o.getModule=function(Q){return Q?l[Q]:o},o.getModuleList=function(){return m.keys(l)},o.resetModules=function(){for(var Q in l)l[Q].resetProperties()},o._serializable=!0,o.handleDataModelChange=function(Q,Y){Q&&(o._serializable&&Q.setPostProcessingData(o.serialize()),Q.removeSerializeListener(o.onDataModelSerialize,o)),Y&&(Y.addSerializeListener(o.onDataModelSerialize,o),o.deserialize(Y))},o.onDataModelSerialize=function(Q){"serialize"===Q.type?o._serializable&&(x.dm()._postProcessingData=o.serialize()):"deserialize"===Q.type&&o.deserialize(x.dm())},o.isDeserializeDisabled=function(Q){return!o._serializable||Q.a("sceneBloom")!==l3},o.isSerializable=function(){return o._serializable},o.setSerializable=function(Q){(o._serializable=Q)||x.dm().setPostProcessingData(l3)},o.serialize=function(){var Q,Y,n,R,g={};for(Y in l)if(R=(n=l[Y]).serializeProperties){for(var B in Q={},n.enable&&(Q.enable=!0),R){var L=n[B];L!=R[B]&&(Q[B]=L)}m.keys(Q).length&&(g[Y.toLowerCase()]=Q)}return g},o.deserialize=function(Q){var Y,n,R={},g={};for(Y in l){var B,L,Z=(B=l[Y]).serializeProperties,e={},u="scene"+Y;for(L in(X=Q.a(u))!==l3&&(e.enable=X),Z)(X=Q.a(u+L[0].toUpperCase()+L.slice(1)))!==l3&&X!==Z[L]&&(e[L]=X);_n(e)||(g[Y[0].toLowerCase()+Y.slice(1)]=e)}if(g=_n(g)?Q.getPostProcessingData():g)for(n in g)if(n&&(Y=n[0].toUpperCase()+n.slice(1),B=l[Y])){R[Y]=!0;var X,x=!!(Z=g[n]).enable;for(L in o.enableModule(Y,x),Q.a(Y="scene"+Y,x),B.resetProperties(),Z)"enable"!==L&&(X=Z[L],B[L]=X,Q.a(Y+L[0].toUpperCase()+L.slice(1),X))}for(Y in l)R[Y]||((B=l[Y]).enable=!1,B.resetProperties())},o.getRenderTarget=function(){return G},o.blitScreen=function(Q,Y,n,R,g){var B,L,Z=x.getGL();if(null==Q)R=Y,g=n;else{var e=Q instanceof j1;if(e){if(Y&&(Y.type||Y.model3d)&&(R=Y,g=n,n=Y=null),0==Y||0==n)return;Y&&n&&Q.setSize(Z,Y,n),Q.bind(Z),g&&g.viewport?x.setViewport(Z,g.viewport[0],g.viewport[1],g.viewport[2],g.viewport[3]):x.setViewport(Z,0,0,Q.width,Q.height)}else R=Q,g=Y}g&&!1===g.clear||Z.clear(16640),g&&(g.preRender&&g.preRender(Z),B=g.data,L=g.matrix),R&&R.model3d?x._prefabRenderer.render(Z,R,B,L):(u.mat=R||p,x._prefabRenderer.render(Z,u,B,L)),g&&g.postRender&&g.postRender(Z),e&&Q.unbind(Z)},o.enableModule=function(Q,Y){for(var n,R=Q.split(","),g=0,B=R.length;g<B;g++)n=R[g].trim(),l[n]&&(l[n].enable=Y);for(n in V=!1,l)if(l[n].enable){V=!0;break}},o.isEnabled=function(){return V},o.dispose=function(){for(var Q in z=!1,hC(x,G),G=null,l)l[Q].dispose&&l[Q].dispose()},!(o.resetBlendState=function(Q){a3.for(Q).glState.blend.apply({enabled:!0,equation:32774,func:[770,771,1,771]})}));o.isRenderingScene=function(){return M},o.render=function(Q,Y,n,R,g){if((V||g)&&(z||function(){var Q;if(!z)return Q=x.getGL(),Q&&(G=new c.RenderTarget(x,Q,null,null,{samples:J3.renderTextureSamples||1,minFilter:9729,magFilter:9729,depthFormat:x.isWebGL2()?36012:null}),z=!0)}())){G.setSize(Q,Y,n),M=!0,G.bind(Q);(g=HC(Q,!0))&&0===g[0]&&0===g[1]&&0===g[2]&&0===g[3]?g=null:sC(Q,[0,0,0,0]),Q.clear(16640),x.setViewport(Q,0,0,Y,n);var B=!1!==(R=R||{}).renderAxis,L=!1!==R.renderEdit;R.renderAxis=R.renderEdit=!1,x.renderScene(R),M=!1,G.unbind(Q);for(var Z,e=0,u=x._glCapabilities.maxAttributes;e<u;e++)Q.disableVertexAttribArray(e);var X=G;for(Z in l)X=l[Z]._42(Q,X)||X;return x.setViewport(Q,0,0,Y,n),g&&sC(Q,g),R=o.getModule("Fxaa"),g=x._attributes&&!1===x._attributes.autoClear?{clear:!1}:null,o.resetBlendState(Q),R&&R.enable?($.resolution=[1/Y,1/n],$.image=X.texture,o.blitScreen($,g)):(p.image=X.texture,o.blitScreen(p,g)),(R=o.getModule("Bloom")).blendAtFinal&&R.composeFinalBloom(Q),Q.useProgram(x._prg),x._renderAxisAndEditHelper(B,L)||(Y=x.getGLState())&&(Y.depth.enabled=!1,Y.blend.enabled=!1),!0}}},m$=(K.graph3d.PostProcessing.HueSaturation=function(R){var g,B=!1,L=!1,Z={type:"hueSaturation"},e=[],u=[],X=[];this.serializeProperties={hue:[0,0,0,0,0,0,0],saturation:[0,0,0,0,0,0,0],lightness:[0,0,0,0,0,0,0]},m.defineProperties(this,{enable:{get:function(){return B},set:function(Q){!!B!=!!Q&&(B=Q,R.iv())}},hue:{get:function(){return e.map(function(Q){return T3(180*Q)})},set:function(Q){if(e!==Q&&7===Q.length){for(var Y=0;Y<7;Y++)e[Y]=Q[Y]/180;R.iv()}}},saturation:{get:function(){return u.map(function(Q){return T3(100*Q)})},set:function(Q){if(u!==Q&&7===Q.length){for(var Y=0;Y<7;Y++)u[Y]=Q[Y]/100;R.iv()}}},lightness:{get:function(){return X.map(function(Q){return T3(100*Q)})},set:function(Q){if(X!==Q&&7===Q.length){for(var Y=0;Y<7;Y++)X[Y]=Q[Y]/100;R.iv()}}}}),this.dispose=function(){L=!1,hC(R,g),g=null},this._42=function(Q,Y){var n;if(B&&(L||(n=R.getGL())&&(g=new c.RenderTarget(R,n),L=!0)))return Z.image=Y.texture,Z.hue=e,Z.saturation=u,Z.lightness=X,R._postProcessing.blitScreen(g,Y.width,Y.height,Z),g}},K.graph3d.PostProcessing.Bloom=function(u){var X,x,G,Y,o,l,V,z,p,$=this,M=!1,F=!1,v=(this.serializeProperties={strength:1.5,smoothWidth:.01,threshold:.55,radius:.4,overrideAlpha:!0,blendAtFinal:!1,selective:!1},m.defineProperties($,{enable:{get:function(){return M},set:function(Q){!!M!=!!Q&&(M=Q,u.iv())}},strength:{get:function(){return X},set:function(Q){X!==Q&&(X=Q,u.iv())}},smoothWidth:{get:function(){return V},set:function(Q){V!==Q&&(V=Q,u.iv())}},threshold:{get:function(){return x},set:function(Q){x!==Q&&(x=Q,u.iv())}},radius:{get:function(){return G},set:function(Q){G!==Q&&(G=Q,u.iv())}},overrideAlpha:{get:function(){return Y},set:function(Q){!!Y!=!!Q&&(Y=Q,F&&P(),u.iv())}},blendAtFinal:{get:function(){return l},set:function(Q){!!l!=!!Q&&(l=!!Q,u.iv())}},selective:{get:function(){return o},set:function(Q){!!o!=!!Q&&(o=!!Q,u.iv())}}}),[256,256]),a=[],J=[],I=5,n=[3,5,7,9,11],A=[];function P(){for(var Q=0;Q<I;Q++)A[Q]={type:"bloomBlur",defines:{KERNEL_RADIUS:n[Q],SIGMA:n[Q],OVERRIDE_ALPHA:!!Y},internalDefines:!1}}$.dispose=function(){F=!1,hC(u,z,p,a,J),z=p=a=J=null},$.composeFinalBloom=function(Q,Y){var n,R,g;M&&F&&(n=u._postProcessing,R=a3.for(Q).directState(),g=R.depth.enabled,n.blitScreen(Y,{type:"blitScreen",image:a[0].texture},{clear:!1,preRender:function(Q){g&&(R.depth.enabled=!1),a3.for(Q).glState.blend.apply({enabled:!0,equation:32774,func:[770,1]})},postRender:function(Q){n.resetBlendState(Q),g&&(R.depth.enabled=!0)}}))},$._42=function(Q,Y){if(M&&(F||function(){var Q=u.getWidth(),Y=u.getHeight();if(Q&&Y){var n=u.getGL();if(n){v=[Q,Y];var R,g=Math.round(v[0]/2),B=Math.round(v[1]/2);for(p=new c.RenderTarget(u,n,g,B),a=[],J=[],R=0;R<I;R++)a.push(new c.RenderTarget(u,n,g,B)),J.push(new c.RenderTarget(u,n,g,B)),g=Math.round(g/2),B=Math.round(B/2);return P(),F=!0}}}())){var n,R=u._postProcessing;o&&((z=z||new c.RenderTarget(u,Q)).setSize(Q,Y.width,Y.height),z.bind(Q),(n=HC(Q,!0))&&0===n[0]&&0===n[1]&&0===n[2]&&1===n[3]?n=null:sC(Q,[0,0,0,1]),Q.clear(16640),u.setViewport(Q,0,0,Y.width,Y.height),Q._blooming=!0,u.syncRenderState(),u.renderScene({renderAxis:!1,renderGrid:!1,renderEdit:!1}),Q._blooming=!1,n&&sC(Q,n),z.unbind(Q)),R.blitScreen(p,{type:"bloomHighPass",smoothWidth:V,luminosityThreshold:x,tDiffuse:(o?z:Y).texture});for(var g,B=p,L=Math.round(v[0]/2),Z=Math.round(v[1]/2),e=0;e<I;e++)(g=A[e]).texSize=[L,Z],g.colorTexture=B.texture,g.direction=[1,0],R.blitScreen(a[e],g),g.colorTexture=a[e].texture,g.direction=[0,1],R.blitScreen(J[e],g),L=Math.round(L/2),Z=Math.round(Z/2),B=J[e];return R.blitScreen(a[0],{type:"bloomComposite",blurTexture1:J[0].texture,blurTexture2:J[1].texture,blurTexture3:J[2].texture,blurTexture4:J[3].texture,blurTexture5:J[4].texture,bloomStrength:X,bloomRadius:G,bloomTintColor:[1,1,1]}),l||$.composeFinalBloom(Q,Y),Y}}},K.graph3d.PostProcessing.Dof=function(u){var B,X,Y,n,R,x,G,L,o,Z,e,l,V,z=!1,p=!1,$=0,M=!1,F=y.generateUUID();this.serializeProperties={useDepth:!1,aperture:.025,maxblur:1,overrideAlpha:!0,image:null,focus:1e3,range:100,density:10,densityInverse:.1},m.defineProperties(this,{enable:{get:function(){return z},set:function(Q){!!z!=!!Q&&((z=Q)||(M=!1),u.iv())}},image:{get:function(){return Y},set:function(Q){Y!==Q&&(Y=Q,M=!1,X&&(u.deleteTexture(F),X=null),u.iv())}},maxblur:{get:function(){return n},set:function(Q){n!==Q&&(n=Q,u.iv())}},overrideAlpha:{get:function(){return L},set:function(Q){!!L!=!!Q&&(L=Q,u.iv())}},aperture:{get:function(){return R},set:function(Q){R!==Q&&(R=Q,u.iv())}},useDepth:{get:function(){return!!Z},set:function(Q){!!Z!=!!Q&&((Z=Q)?u.enableDepthGrabber("sceneDof"):u.disableDepthGrabber("sceneDof"),u.iv())}},focus:{get:function(){return e},set:function(Q){e!==Q&&(e=Q,u.iv())}},range:{get:function(){return l},set:function(Q){l!==Q&&(l=Q,u.iv())}},density:{get:function(){return V},set:function(Q){V!==Q&&(V=Q,u.iv())}},densityInverse:{get:function(){return y.safeInvert(V)},set:function(Q){Q=y.safeInvert(Q),V!==Q&&(V=Q,u.iv())}}}),this.dispose=function(){p=!1,X&&(u.deleteTexture(F),X=null),hC(u,B),B=null},this.setImageFromGraphView=function(Q,Y,n){this.image=null,function Q(Y,n,R,g){o=null;var B=Y.getCanvas(),L=B.width,Z=B.height,e=(((R=R||1024)<L||R<Z)&&(e=R/Math.max(L,Z),L=Math.round(L*e),Z=Math.round(Z*e),x=x||Wn(),B=z3.resizeImage(B,L,Z,x)),u.getGL());G=G||e.createTexture(),X=OC(u,e,B,G),$=n||.01,M=!0,u.iv(),g--&&(o=o||z3.callLater(function(){Q(Y,n,R,g)}))}(Q,Y,n,2)},this._42=function(Q,Y){if(z&&(p||(n=u.getGL())&&(B=new c.RenderTarget(u,n),p=!0))){var n=Y.width,R=Y.height;if(n&&R){if(Z)X=u.grabDepth();else if(!X){var g=t(this.image);if(!g||!g.comps&&!g.tagName)return Y;K.Default.setImage(F,g),X=u.getTexture(F)}return g={OVERRIDE_ALPHA:!!L},Y={type:"bokeh",tColor:Y.texture,tDepth:X,aspect:n/R,maxblur:this.maxblur,defines:g},Z?(g.USE_DEPTH=!0,u.isOrtho()&&(g.USE_ORTHO_CAMERA=!0),u.isFloatDepthTexture(X)&&(g.USE_FLOAT_TEXTURE=!0),m.assign(Y,{near:u.getNear(),far:u.getFar(),focus:e,range:l,density:V})):m.assign(Y,{aperture:this.aperture,useG2d:M,threshold:$}),u._postProcessing.blitScreen(B,n,R,Y),B}}}},K.graph3d.PostProcessing.Lut=function(B){var L,Z,e,u=!1,X=!1;this.serializeProperties={texture:null,intensity:1},m.defineProperties(this,{enable:{get:function(){return u},set:function(Q){!!u!=!!Q&&(u=Q,B.iv())}},texture:{get:function(){return L},set:function(Q){L!==Q&&(L=Q,B.iv())}},intensity:{get:function(){return Z},set:function(Q){Z!==Q&&(Z=Q,B.iv())}}}),this.dispose=function(){X=!1,hC(B,e),e=null},this._42=function(Q,Y){if(u){var n,R,g=L?B.getTexture(L):null;if(g&&(n=g.width)&&(X||(R=B.getGL())&&(e=new c.RenderTarget(B,R),X=!0)))return B._postProcessing.blitScreen(e,Y.width,Y.height,{type:"lut",tDiffuse:Y.texture,intensity:Z,lutSize:n,lut:g}),e}}},K.graph3d.PostProcessing.Custom=function(Z){function Y(Q,Y){return(Q.priority||0)-(Y.priority||0)}var e,u,X=!1,x=!1;this.serializeProperties={materials:[]},m.defineProperties(this,{enable:{get:function(){return X},set:function(Q){!!X!=!!Q&&(X=Q,Z.iv())}},materials:{get:function(){return u},set:function(Q){(u=Q)&&u.sort(Y),Z.iv()}}}),this.dispose=function(){x=!1,hC(Z,e),e=null},this._42=function(Q,Y){if(X&&u&&u.length&&(x||(n=Z.getGL())&&(e=new c.RenderTarget(Z,n),x=!0))){for(var n,R,g=Y,B=e,L=0;L<u.length;L++)(R=u[L]).image=g.texture,Z._postProcessing.blitScreen(B,g.width,g.height,R),delete R.image,R=g,g=B,B=R;return g}}},K.graph3d.PostProcessing.Ssao=function(_){function n(){var Q=!!(r.enable&&r.mainOpaqueOnly&&_.isWebGL2());g!==Q&&((g=Q)?_.addRenderLayerListener(Y,r,_._depthGrabber.renderLayerPriority-100):_.removeRenderLayerListener(Y,r))}function Y(Q){"main"===Q.layer&&"opaque"===Q.phase&&!_._picking&&_.getPostProcessing().isRenderingScene()&&(Q=_.getPostProcessing().getRenderTarget())&&Q.isBinding(_.getGL())&&(Q=_.getPostProcessing().getRenderTarget().grabDepth(),r.drawImpl(_.getGL(),Q,_.getPostProcessing().getRenderTarget(),!0))}var b,k,O,Q,N,U,C,w,j,r=this,H=!1,s=!1,R=this.serializeProperties={aoRadius:5,distanceFalloff:1,screenSpaceRadius:!1,quality:"high",aoSamples:16,denoiseSamples:8,denoiseRadius:12,denoiseIterations:2,intensity:5,mainOpaqueOnly:!0,renderMode:"combined",colorMultiply:!0},g=!(this.resetProperties=function(){for(var Q in R)this[Q]=R[Q]});for(Q in m.defineProperties(r,{enable:{get:function(){return H},set:function(Q){!!H!=!!Q&&((H=Q)?_.enableDepthGrabber("sceneSsao"):_.disableDepthGrabber("sceneSsao"),n(),_.iv())}}}),R)!function(Y){m.defineProperty(r,Y,{get:function(){return r["_"+Y]},set:function(Q){r["_"+Y]!==Q&&(r["_"+Y]=Q,"mainOpaqueOnly"===Y&&n(),_.iv())}})}(Q);this.resetProperties(),r.dispose=function(){s=!1,hC(_,b,k,O),b=k=O=null};var h=new q,t={performance:[8,4,12],low:[16,4,12],medium:[16,8,12],high:[64,8,6],ultra:[64,16,6]};r._42=function(Q,Y){return r.mainOpaqueOnly?Y:r.drawImpl(Q,null,Y)},r.drawImpl=function(Q,Y,n,R){if(H&&_.isWebGL2()&&(Y=Y||_.grabDepth(),_.isFloatDepthTexture(Y)&&(s||(Z=_.getWidth(),e=_.getHeight(),Z&&e&&((Z=_.getGL())&&(b=new c.RenderTarget(_,Z),k=new c.RenderTarget(_,Z),e=Uint8Array.from(atob(m$),function(Q){return Q.charCodeAt(0)}),O=_.createTexture({data:e,width:128,height:128,filter:9728,wrap:10497}),s=!0)))))){R&&((g=_.getGLState()).depth.enabled=!1,g.depth.mask=!1);var g,B=(Z=n.getSize())[0],L=Z[1],Z=_.getNear(),e=_.getFar(),u=_.getPostProcessing();F=r.quality;var X=(F=t[F]||[r.aoSamples,r.denoiseSamples,r.denoiseRadius])[0],x=F[1],G=F[2],o=X;if(U!==o){U=o,N=[];for(var l=0,V=Math.sqrt(o);l<o;l++){var z=2.399963*l,p=($=Math.sqrt(l+.5)/V)*Math.cos(z),$=$*Math.sin(z),z=Math.sqrt(1-(p*p+$*$));N.push([p,$,z])}}var M={type:"ssao",sceneDepth:Y,sceneNormal:null,projMat:_._projectMatrix,viewMat:_._viewMatrix,projViewMat:_._projScreenMatrix,projectionMatrixInv:FC(qg(_._projectMatrix)),viewMatrixInv:FC(qg(_._viewMatrix)),cameraPos:_.getEye(),resolution:[B,L],time:performance.now()/1e3,samples:N,blueNoise:O,distanceFalloff:r.distanceFalloff,near:Z,far:e,ortho:_.isOrtho(),screenSpaceRadius:r.screenSpaceRadius,frame:0,internalDefines:!1},F=m.assign({},M,{radius:r.aoRadius,defines:{EFFECT_SHADER:!0,SAMPLES:X,FSAMPLES:X+".0",LOGDEPTH:!1,HALFRES:!1}}),v=(u.blitScreen(b,B,L,F),x),Z=11;if(w!==v||j!==Z){w=v,j=Z;for(var a=2*Math.PI*Z/v,J=Z=1/v,I=(C=[],Z),A=0,P=0;P<v;P++)C.push(h.set(Math.cos(A),Math.sin(A)).multiplyScalar(Math.pow(I,.75)).toArray()),I+=J,A+=a}for(var i=0;i<r.denoiseIterations;i++){var T=b,T=(b=k,k=T,m.assign({},M,{tDiffuse:k.texture,radius:G,worldRadius:r.aoRadius,index:i,poissonDisk:C,defines:{POISSION_BLUR:!0,NUM_SAMPLES:x,LOGDEPTH:!1}}));u.blitScreen(b,B,L,T)}var E,e="ao"===(e=r.renderMode)?1:"split"===e?3:"splitAo"===e?4:0,X=R?(n.unbind(Q),u.blitScreen(k,B,L,{type:"blitScreen",image:n.texture}),E=k.texture,n):(E=n.texture,k),F=m.assign({},M,{sceneDiffuse:E,downsampledDepth:Y,intensity:r.intensity,radius:r.aoRadius,gammaCorrection:!1,tDiffuse:b.texture,color:[0,0,0],colorMultiply:r.colorMultiply,fog:!1,renderMode:e,defines:{EFFECT_COMPOSITER:!0,LOGDEPTH:!1,HALFRES:!1}});return u.blitScreen(X,B,L,F),R&&(g.depth.enabled=!0,g.depth.mask=!0,n.bind(Q)),X}var Z,e}},"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"),q$=(K.graph3d.PostProcessing.Blur=function(l){var V,z,p,$,M,g,B=this,L=!1,F=!1,v={type:"blurDownSample"},a={type:"blurH"},J={type:"blurV"},Y=(this.serializeProperties={value:0,downSample:!1,iterations:1,layer:"main"},m.defineProperties(B,{enable:{get:function(){return L},set:function(Q){!!L!=!!Q&&((L=Q)?l.addRenderLayerListener(Y,this):l.removeRenderLayerListener(Y,this),l.iv())}},downSample:{get:function(){return $},set:function(Q){$!==Q&&($=Q,l.iv())}},value:{get:function(){return p},set:function(Q){p!==Q&&(p=Q,l.iv())}},iterations:{get:function(){return M},set:function(Q){M!==Q&&(M=Q,l.iv())}},layer:{get:function(){return g},set:function(Q){g!==Q&&(g=Q,l.iv())}}}),function(Q){if(L&&Q.layer===g&&"post"===Q.phase){var Y=l.getGL();if(!l._picking&&!l.isReflecting(Y)){(Q=l._postProcessing.getRenderTarget()).unbind(Y);for(var n=0,R=l._glCapabilities.maxAttributes;n<R;n++)Y.disableVertexAttribArray(n);B.drawImpl(Y,Q),Q.bind(Y),Y.useProgram(l._prg)}}});B._42=function(){},B.dispose=function(){F=!1,hC(l,V,z),V=z=null},B.drawImpl=function(Q,Y,n,R,g){if(F||(u=l.getGL())&&(V=new c.RenderTarget(l,u),F=!0)){var B,L=Y?(B=Y.width,Y.height):(B=l._viewport[2],l._viewport[3]);if(B&&L){for(var Z,e=l._postProcessing,u=("boolean"!=typeof R&&(R=$),n==V3&&(n=p),g==V3&&(g=M),g=Math.max(1,Math.round(g)),a3.for(Q).glState.depth),X=u.enabled,x=(u.enabled=!1,R?(n/=2,Z=[B,L],B/=2,L/=2,z=z||new c.RenderTarget(l,Q),v.image=Y.texture,v.texelSize=[1/Z[0],1/Z[1]],e.blitScreen(z,B,L,v),Y.setSize(Q,B,L)):z&&z.setSize(0,0),V.setSize(Q,B,L),[]),G=0;G<g;G++)x.push(n),n=Math.max(1,Math.floor(n/2));for(G=0;G<g;G++){var o=x[g-G-1];a.image=(R&&0===G?z:Y).texture,a.value=o/B,e.blitScreen(V,null,null,a),R&&G===g-1&&Y.setSize(Q,Z[0],Z[1]),J.image=V.texture,J.value=o/L,e.blitScreen(Y,null,null,J)}return u.enabled=X,Y}}}},K.graph3d.PostProcessing.Glitch=function(Z){var e,n,u,X,x,G,o,R,l,V=!1,z=!1,p=y.randomFloat,$=y.randomInt,g=0,M={type:"glitch"};function F(){if(l&&R){u=Date.now(),n=1e3*p(R[X=0],R[1]),x=[];for(var Q=1,Y=l.length;Q<Y;Q+=2)x.push((1<Q?x[x.length-1]:0)+n*l[Q]/g)}}function v(){Z.redraw()}this.serializeProperties={onlyReflector:!1,period:[2,3],intensity:[3,.3,1,.1,0,.4]},m.defineProperties(this,{enable:{get:function(){return V},set:function(Q){!!V!=!!Q&&((V=Q)&&F(),Z.iv())}},onlyReflector:{get:function(){return o},set:function(Q){!!o!=!!Q&&(o=Q,Z.iv())}},period:{get:function(){return R},set:function(Q){R=Q,F(),Z.iv()}},intensity:{get:function(){return l},set:function(Q){g=0;for(var Y=1,n=(l=Q=Q||[1,1]).length;Y<n;Y+=2)g+=Q[Y];F(),Z.iv()}}}),this.dispose=function(){z=!1,hC(Z,e),e=null},this._42=function(Q,Y){if(V&&(z||function(){var Q=Z.getGL();if(Q){e=new c.RenderTarget(Z,Q);for(var Y=qT(64,64),n=Y.getImageData(0,0,64,64),R=n.data,g=0;g<4096;g++)R[3*g+0]=$(256),R[3*g+1]=$(256),R[3*g+2]=$(256),R[3*g+3]=$(256);return Y.putImageData(n,0,0),G=OC(Z,Q,tT),z=!0}}())&&!!Z.isReflecting(Q)==!!o){var n,R,g,B=Y.width,L=Y.height;if(B&&L)return n=Z._postProcessing,R=(Q=a3.for(Q).glState.depth).enabled,Q.enabled=!1,Date.now()-u>x[X]&&++X>=x.length&&F(),g=l[2*X],M.seed=Math.random(),M.byp=g?0:1,M.tDisp=G,g&&(M.angle=p(-Math.PI,Math.PI),M.distortion_x=p(0,1),M.distortion_y=p(0,1),M.amount=Math.random()/30*g,M.seed_x=p(-1,1)*g,M.seed_y=p(-1,1)*g),M.image=Y.texture,n.blitScreen(e,B,L,M),Q.enabled=R,requestAnimationFrame(v),e}}},K.graph3d.PostProcessing.Fxaa=function(Y){var n=!1;this.serializeProperties={},m.defineProperties(this,{enable:{get:function(){return n},set:function(Q){!!n!=!!Q&&(n=Q,Y.iv())}}}),this._42=function(){}},In(z3,{accordionViewExpandIcon:Ln(OB),accordionViewCollapseIcon:Ln(OB,!0),accordionViewLabelColor:s3,accordionViewLabelFont:O2,accordionViewTitleBackground:J,accordionViewSelectBackground:hB,accordionViewSelectWidth:3,accordionViewSeparatorColor:l3,splitViewDividerSize:1,splitViewDividerBackground:J,splitViewDragOpacity:.5,splitViewToggleIcon:{width:16,height:16,comps:[{type:MR,rect:[2,2,12,12],background:OB}]},propertyViewLabelColor:k2,propertyViewLabelSelectColor:s3,propertyViewLabelFont:O2,propertyViewExpandIcon:Ln(UB),propertyViewCollapseIcon:Ln(UB,!0),propertyViewBackground:NB,propertyViewRowLineVisible:!0,propertyViewColumnLineVisible:!0,propertyViewRowLineColor:rB,propertyViewColumnLineColor:rB,propertyViewSelectBackground:hB,listViewLabelColor:k2,listViewLabelSelectColor:s3,listViewLabelFont:O2,listViewRowLineVisible:!1,listViewRowLineColor:rB,listViewSelectBackground:hB,treeViewLabelColor:k2,treeViewLabelSelectColor:s3,treeViewLabelFont:O2,treeViewExpandIcon:Ln(jB),treeViewCollapseIcon:Ln(jB,!0),treeViewRowLineVisible:!1,treeViewRowLineColor:rB,treeViewSelectBackground:hB,treeViewDoubleClickToToggle:!0,tableViewLabelColor:k2,tableViewLabelSelectColor:s3,tableViewLabelFont:O2,tableViewRowLineVisible:!0,tableViewColumnLineVisible:!0,tableViewRowLineColor:rB,tableViewColumnLineColor:rB,tableViewSelectBackground:hB,treeTableViewLabelColor:k2,treeTableViewLabelSelectColor:s3,treeTableViewLabelFont:O2,treeTableViewExpandIcon:Ln(jB),treeTableViewCollapseIcon:Ln(jB,!0),treeTableViewRowLineVisible:!0,treeTableViewColumnLineVisible:!0,treeTableViewRowLineColor:rB,treeTableViewColumnLineColor:rB,treeTableViewSelectBackground:hB,tableHeaderLabelColor:k2,tableHeaderLabelFont:O2,tableHeaderColumnLineVisible:!0,tableHeaderColumnLineColor:wB,tableHeaderBackground:NB,tableHeaderMoveBackground:x,tableHeaderInsertColor:hB,tableHeaderSortDescIcon:Bd(UB,!0),tableHeaderSortAscIcon:Bd(UB),tabViewTabGap:1,tabViewLabelColor:s3,tabViewLabelFont:O2,tabViewTabBackground:J,tabViewSelectWidth:3,tabViewSelectBackground:hB,tabViewMoveBackground:x,tabViewInsertColor:hB,toolbarLabelColor:k2,toolbarLabelSelectColor:s3,toolbarLabelFont:O2,toolbarBackground:NB,toolbarSelectBackground:hB,toolbarItemGap:8,toolbarSeparatorColor:CB},!0),{translateX:1,sortColumn:1}),d$={sortable:1,sortOrder:1,sortFunc:1},K$={focusData:1},W$={dataModel:1,sortColumn:1,sortFunc:1,visibleFunc:1,rootData:1,rootVisible:1},c$={dataModel:1,sortFunc:1,visibleFunc:1,categorizable:1},S$=function(Q,Y){Y.add(Q),Q.hasChildren()&&Q.eachChild(function(Q){S$(Q,Y)})},y$=function(Q,Y,n,R,g,B,L,Z,e,u,X){var x,G,o,l,V,z,p=n.getValueType(u),$=n.getAlign(u);if(n.getEnumValues(u))return x=n.toEnumLabel(Y,u),G=N2||0,o=0,l=B,V=z3.getTextSize(R,x).width,(z=t(n.toEnumIcon(Y,u)))&&(o=B+N2/2,"center"===$?o+=(Z-(G+V))/2:"right"===$&&(o=o+Z-(G+V)),W2(Q,z,o,L+e/2,u,X),l=o+N2/2),void(x!=V3&&(z?Bg(Q,x,R,g,l,L,Z-(l-B),e):Bg(Q,x,R,g,B,L,Z,e,$)));if((Y=n.formatValue(Y))!=V3){if(p!==cV)return p===WV||!p&&Gn(Y)?(z=t(Y?_R:bR),void W2(Q,z,B+Z/2,L+e/2,u,X)):void Bg(Q,Y,R,g,B,L,Z,e,$);RB(Q,B,L,Z,e,Y)}},D$=function(n,R){var g=R.view,B=pT(n),L=R.column||R.property;g.getDataModel().beginTransaction(),(R.editor=n).info=R,g.setCurrentEditor(n),g.getView().insertBefore(B,g._79O),E(n,R.editorRect),n.setFocus?n.setFocus():zT(n),n.commitValue=function(Q,Y){n._17Q&&(n=n._17Q),Y||g.setValue(R.data,L,n.getValue?n.getValue():n.value),n.close&&n.close(),Tg(B)},L.onEditorCreated&&L.onEditorCreated(R)},f$=function(Q,Y,n,R,g){var B=Eg(Q,n),L=Y.value,Z=Y.view,n=g.getValueType(Y.data);return B.onblur=B.onchange=function(Q){Z.endEditing()},"input"===Q?((L=g.formatValue(L))!=V3&&(B.value=L),B.onkeydown=function(Q){rT(Q)?Z.endEditing():HT(Q)&&Z.endEditing(!0)},n!==SV&&n!==yV||A3(B,ud,z3.numberListener)):Q===RV&&R.forEach(function(Q){var Y=o.createElement("option");Y.innerHTML=g.toEnumLabel(Q),Y.value=Q,g.isEnumEqual(L,Q)&&(Y.selected=!0),Dn(B,Y)}),D$(B,Y),B},Qu=K.widget={},Y=function(Q,Y,n){Og("ht.widget."+Q,Y,n)},Yu=(In(F2,{ms_value:function(Q,Y){Q.getValue=function(Q){var Y=(Q=this.getItemById(Q)).element;return $3(Y)?Y:Y?Y.getValue?Y.getValue():Y.value:Q.selected},Q.setValue=function(Q,Y){var n;(Q=this.getItemById(Q))&&((n=Q.element)&&!$3(n)?n.setValue?n.setValue(Y):n.value=Y:(Gn(Y)?Q.selected=Y:Q.element=Y,this.iv()))},Q.v=function(Q,Y){if(2===arguments.length)this.setValue(Q,Y);else{if(!on(Q))return this.getValue(Q);for(var n in Q)this.setValue(n,Q[n])}return this}},_46o:function(Q,Y){Q._icon=V3,Q._accessType=V3,Q._valueType=V3,Q._editable=!1,Q._batchEditable=!0,Q._align=BR,Q._nullable=!0,Q._emptiable=!1,Q.setParent=Kd,Q.formatValue=function(Q){var Y=this._valueType;return this.getEnumValues()?this.toEnumLabel(Q):Y===WV?!!Q:Q!=V3&&Y===SV?i3(Q):Q},Q.setEnum=function(Q,Y,n,R,g,B,L){Q&&!M3(Q)&&Q.values&&(R=Q.editable,n=Q.icons,Y=Q.labels,g=Q.strict,B=Q.maxHeight,L=Q.dropDownWidth,Q=Q.values),Vn(Q)&&(Q=Q._as),Vn(Y)&&(Y=Y._as),Vn(n)&&(n=n._as),this._enumValues=Q,this._enumLabels=Y,this._enumIcons=n,this._enumEditable=R,this._enumStrict=g==V3||g,this._enumMaxHeight=B,this._enumDropDownWidth=L,Q&&Q.length&&xn(Q[0])&&(this._valueType=yV),this.fp("enum",!1,!0)},Q.getEnumDropDownWidth=function(){return this._enumDropDownWidth},Q.getEnumMaxHeight=function(){return this._enumMaxHeight},Q.isEnumEditable=function(){return this._enumEditable},Q.getEnumValues=function(){return this._enumValues},Q.getEnumLabels=function(){return this._enumLabels},Q.getEnumIcons=function(){return this._enumIcons},Q.isEnumStrict=function(){return this._enumStrict},Q.isEnumEqual=function(Q,Y){return this._enumStrict?Q===Y:Q==Y},Q.toEnumLabel=function(Q,Y){var n=this.getEnumValues(Y),R=this.getEnumLabels(Y);if(n&&R)for(var g=0;g<n.length;g++)if(this.isEnumEqual(Q,n[g]))return R[g];return Q},Q.toEnumIcon=function(Q,Y){var n=this.getEnumValues(Y),R=this.getEnumIcons(Y);if(n&&R)for(var g=0;g<n.length;g++)if(this.isEnumEqual(Q,n[g]))return R[g];return l3}},_45o:function(Q,Y){Q._87o=function(Q,Y,n,R,g,B){var L,Z;Q&&(L=this._90I,Z=Kn(1),this._columnLineVisible&&--g,this._rowLineVisible&&--B,g<=0||B<=0||((L=this._90I?L:this._90I={})[Y]||(L[Y]=new W),E(Z,this.tx()+n,this.ty()+R,g,B),Dn(Z,Q),this._view.insertBefore(Z,this._79O),Q.onParentAdded&&Q.onParentAdded(Z),L[Y].add(Z)))},Q._76o=function(){var Q=this._90I;if(Q){for(var Y in Q)Q[Y].each(function(Q){Tg(Q)});delete this._90I}},Q._77o=function(Q){var Y;this._90I&&(Y=this._90I[Q])&&(Y.each(function(Q){Tg(Q)}),delete this._90I[Q])}},_47o:function(Q,Y){Q.getValue=function(Q,Y){return Y.getValue?Y.getValue(Q,Y,this):wn(Q,Y.getAccessType(),Y.getName())},Q.setValue=function(Q,Y,n){var R,g,B,L;Y.isEmptiable(Q)||""!==n||(n=l3),!Y.isNullable(Q)&&n==V3||(R=this,g=Y.getName(Q),B=Y.getAccessType(Q),(L=Y.getValueType(Q))===SV&&$3(n)?n=H3(n):L===yV&&$3(n)?n=parseFloat(n):L===WV&&$3(n)&&(n="true"===n),R._batchEditable&&Y._batchEditable&&R.isSelected(Q)?R.sm().each(function(Q){Y.setValue?Y.setValue(Q,Y,n,R):jn(Q,B,g,n)}):Y.setValue?Y.setValue(Q,Y,n,R):jn(Q,B,g,n))},Q.setCurrentEditor=function(Q){this.endEditing(),this._currentEditor=Q,this.redraw()},Q.isEditing=function(Q,Y){var n=this._currentEditor;return!!n&&(!Y||!!(n=n.info)&&(n.column||n.property)===Y&&n.data===Q)},Q.endEditing=function(Q){var Y=this._currentEditor;Y&&(delete this._currentEditor,Y.commitValue&&Y.commitValue(Y.info,Q),this.redraw(),this.getDataModel().endTransaction())},Q.beginEditing=function(Q){this.endEditing();var n=this,R=Q.column||Q.property;if(R.beginEditing)R.beginEditing(Q);else{var Y,g,B=Q.data,L=Q.value,Z=n.getSelectBackground(B),e=R.getEnumValues(B),u=R.getSlider(B),X=R.getColorPicker(B);if(u)return(Y=q2(Qu.Slider,u)).setValue(L),Y.getView().onblur=function(Q){n.endEditing()},Y.isInstant()&&(Y.onValueChanged=function(){n.setValue(B,R,Y.getValue())}),void D$(Y,Q);if(X||R.getValueType(B)===cV)return(u=q2(Qu.ColorPicker,X)).setValue(L),g=u.onClosed,u.onClosed=function(){n.endEditing(),g&&g.call(this)},u.isInstant()&&(u.onValueChanged=function(Q,Y){n.setValue(B,R,Y)}),D$(u,Q),void u.open();if(e)Qu.ComboBox?((X=new Qu.ComboBox).setValue(L),X.setValues(e),X.setLabels(R.getEnumLabels(B)),X.setIcons(R.getEnumIcons(B)),X.setEditable(R.isEnumEditable(B)),X.setStrict(R.isEnumStrict(B)),X.setMaxHeight(R.getEnumMaxHeight(B)),X.setDropDownWidth(R.getEnumDropDownWidth(B)),X.onClosed=function(){n.endEditing()},D$(X,Q),X.open()):f$(RV,Q,Z,e,R);else{if(R.getValueType(B)!==WV&&!Gn(L))return R.getItemEditor(B)?(((X=(u=new(Yg(R.getItemEditor(B)))(B,R,n,Q)).getView())._17Q=u).setValue(L),Sn(X),D$(X,Q),void(u.editBeginning&&u.editBeginning())):void f$("input",Q,Z,V3,R);n.setValue(B,R,!L)}}}},_44o:function(Q,Y){Q.init=function(Q){var Y=this,n=Y.th=new Vu(Q),R=Y._view=dn(1,Y);Y.tv=Y._tableView=Q,Dn(R,n.getView()),Dn(R,Q.getView()),n.mp(function(Q){Q.property===TR&&Y.iv()}),Y.iv()},Q.getTableView=function(){return this.tv},Q.getTableHeader=function(){return this.th},Q.getDataModel=function(){return this.tv.dm()},Q.getColumnModel=function(){return this.tv.getColumnModel()},Q.setColumns=function(Q){this.tv.setColumns(Q)},Q.addColumns=function(Q){this.tv.addColumns(Q)},Q.endEditing=function(){this.tv.endEditing()},Q.validateImpl=function(){var Q=this.th,Y=LT(Q),n={x:0,y:0,width:this.getWidth(),height:Y};E(Q,n),n.y=Y,n.height=n3(0,this.getHeight()-Y),E(this.tv,n)}},ms_vs:function(Q,Y){Q._41o=function(){return this._29I.height<this._59I},Q._43o=function(){var Q=this;Q._41o()&&(Q._58I||(m3(function(){Q._94O()},w2),Q.iv()),Q._58I=new Date)},Q._94O=function(){var Q=this;Q._58I&&((new Date).getTime()-Q._58I.getTime()>=w2?(delete Q._58I,Q.iv()):m3(function(){Q._94O()},w2))},Q._93I=function(){var Q,Y,n,R,g,B,L,Z=this,e=Z._27I;Z._58I||!Z._autoHideScrollBar?(e||Dn(Z._79O,e=Z._27I=Kn()),Q=(R=Z._29I).height,Y=Z._59I,n=Z.getScrollBarSize(),R=R.width-n-2,g=Q*(-Z.ty()/Y),B=Q*(Q/Y),L=e.style,Q<Y?(B<j2&&(Q<(g=(g=g+B/2-j2/2)<0?0:g)+j2&&(g=Q-j2),B=j2),L.visibility=fR,L.background=Z.getScrollBarColor(),L.borderRadius=n/2+zR,E(e,R,g,n,B)):L.visibility=DR):e&&(e.style.visibility=DR)}},ms_hs:function(Q,Y){Q._40o=function(){return this._29I.width<this._91I},Q._42o=function(){var Q=this;Q._40o()&&(Q._95O||(m3(function(){Q._94I()},w2),Q.iv()),Q._95O=new Date)},Q._94I=function(){var Q=this;Q._95O&&((new Date).getTime()-Q._95O.getTime()>=w2?(delete Q._95O,Q.iv()):m3(function(){Q._94I()},w2))},Q._92I=function(){var Q,Y,n,R,g,B,L,Z=this,e=Z._28I;Z._95O||!Z._autoHideScrollBar?(e||Dn(Z._79O,e=Z._28I=Kn()),Q=(R=Z._29I).width,Y=Z._91I,n=Z.getScrollBarSize(),R=R.height-n-2,g=Q*(-Z.tx()/Y),B=Q*(Q/Y),L=e.style,Q<Y?(B<j2&&(Q<(g=(g=g+B/2-j2/2)<0?0:g)+j2&&(g=Q-j2),B=j2),L.visibility=fR,L.background=Z.getScrollBarColor(),L.borderRadius=n/2+zR,E(e,g,R,B,n)):L.visibility=DR):e&&(e.style.visibility=DR)}}}),id(_R,gn(16,16,[{type:H,rect:[1,1,14,14],background:hB},{type:$R,rect:[1,1,14,14],width:1,color:HB},{type:aR,points:[13,3,7,12,4,8],borderWidth:2,borderColor:"#FFF"}])),id(bR,gn(16,16,{type:$R,rect:[1,1,14,14],width:1,color:HB})),id(kR,gn(16,16,[{type:FR,rect:[2,2,12,12],borderWidth:1,borderColor:HB,background:"#FFF"},{type:FR,rect:[4,4,8,8],background:hB}])),id(OR,gn(16,16,{type:FR,rect:[2,2,12,12],borderWidth:1,borderColor:HB})),F2._15Q=function(Q,Y){Q._29I=cd,Q._59I=0,Q._91I=0,Q._5o=function(Q){var Y=this;Y._30I=new W,Y._rows=new W,Y._rowMap={},Y._31I=0,Y._14I=0,Y._view=dn(1,Y),Y._canvas=Wn(Y._view),Dn(Y._view,Y._79O=Kn()),Y.dm(Q||new hQ)},Q.getCheckIcon=function(Q){var Y=this.sm(),Q=Y.co(Q);return Y.sg()?t(Q?kR:OR):t(Q?_R:bR)},Q.checkData=function(Q){var Y=this.sm(),n=Y.co(Q);Y.sg()&&n||(this._32o=1,n?Y.rs(Q):Y.as(Q),delete this._32o)},Q.getDataAt=function(Q){Q.target&&(Q=this.lp(Q));var Q=T3(Q.y/this._rowHeight),Y=this._rows;return Q<0||Q>=Y.size()?V3:Y.get(Q)},Q.onDataDoubleClicked=function(Q,Y){},Q.onDataClicked=function(Q,Y){},Q.adjustTranslateX=function(Q){return 0},Q.adjustTranslateY=function(Q){var Y=this.getHeight()-this._59I;return 0<(Q=Q<Y?Y:Q)?0:i3(Q)},Q.onPropertyChanged=function(Q){Q=Q.property,W$[Q]?this.ivm():K$[Q]||this.redraw(),Q===TV?this._42o():Q===EV&&this._43o()},Q.getLabel=function(Q){return Q.toLabel()},Q.getLabelFont=function(Q){return this._labelFont},Q.getLabelColor=function(Q){if(this.isCheckMode()){if(this._focusData===Q)return this._labelSelectColor}else if(this.isSelected(Q))return this._labelSelectColor;return this._labelColor},Q.getStartRowIndex=function(){return this._31I},Q.getEndRowIndex=function(){return this._14I},Q.getRowDatas=function(){return this._rows},Q.getRowIndex=function(Q){return this._rowMap[Q._id]},Q.getRowSize=function(){return this._rows.size()},Q.getViewRect=function(){return Qg(this._29I)},Q.isVisible=function(Q){return!this._visibleFunc||this._visibleFunc(Q)},Q.getCurrentSortFunc=function(){return this._sortFunc},Q.setDataModel=function(Q){var Y=this,n=Y._dataModel,R=Y._selectionModel;n!==Q&&(n&&(n.umm(Y.handleDataModelChange,Y),n.umd(Y.handleDataPropertyChange,Y),n.umh(Y.handleHierarchyChange,Y),R||n.sm().ums(Y.handleSelectionChange,Y)),(Y._dataModel=Q).mm(Y.handleDataModelChange,Y),Q.md(Y.handleDataPropertyChange,Y),Q.mh(Y.handleHierarchyChange,Y),R?R._21I(Q):Q.sm().ms(Y.handleSelectionChange,Y),Y.fp("dataModel",n,Q))},Q.validateModel=function(){var Q=this,Y=(Q._rows.clear(),Q._rowMap={},Q.buildChildren(Q._dataModel._roots),Q._rows=Q._rows.toList(Q.isVisible,Q)),n=0,R=Q.getCurrentSortFunc(),g=Y.size();for(R&&Y.sort(R);n<g;n++)Q._rowMap[Y.get(n)._id]=n},Q.buildChildren=function(Q){var Y=this;Q.each(function(Q){Y._rows.add(Q),Y.buildChildren(Q._children)})},Q.handleDataModelChange=function(Q){this.ivm()},Q.handleDataPropertyChange=function(Q){"parent"===Q.property?this.ivm():this.invalidateData(Q.data)},Q.handleHierarchyChange=function(Q){this.ivm()},Q.handleSelectionChange=function(Q){Q.datas.each(this.invalidateData,this),this.onSelectionChanged(Q)},Q.onSelectionChanged=function(Q){var Y=this.sm();!this.isAutoMakeVisible()||1!==Y.size()||"set"!==Q.kind&&"append"!==Q.kind||this._32o||this.makeVisible(Y.ld())},Q.handleBackgroundClick=function(Q){Zg(Q)&&!this.isCheckMode()&&this.sm().cs()},Q.makeVisible=function(Q){Q&&(this._23I=Q,this.iv())},Q.scrollToIndex=function(Q){var Y=this._29I,n=Y.height,R=this._rowHeight,g=R*Q;0<=Q&&Q<this._rows.size()&&0<n&&(g+R>Y.y+n?this.ty(-g+n-R):g<Y.y&&this.ty(-g))},Q.autoScroll=function(Q,Y){var n=this,R=n._rowHeight,g=R,B=R/4,L=n._29I,Q=n.lp(Q),Z={x:n.tx(),y:n.ty()};return 0<R&&L&&(Q.x-L.x<g?n.translate(B,0):L.x+L.width-Q.x<g&&n.translate(-B,0),Q.y-L.y<g?n.translate(0,B):L.y+L.height-Q.y<g&&n.translate(0,-B)),Z.x=n.tx()-Z.x,Z.y=n.ty()-Z.y,Y&&(Y.x+=Z.x,Y.y+=Z.y),Z},Q.getTopRowOrderSelection=function(){var Q=this.sm().getTopSelection(),Y={},n=new W;return Q.each(function(Q){Y[Q._id]=Q}),this._rows.each(function(Q){Y[Q._id]&&n.add(Q)}),n},Q.getRowOrderSelection=function(){var Y=new W;return this._rows.each(function(Q){this.isSelected(Q)&&Y.add(Q)},this),Y},Q.ivm=function(){this.invalidateModel()},Q.invalidateModel=function(){this._96I||(this._96I=1,this._32I=1,delete this._24I),this.iv()},Q.redraw=function(){this._32I||(this._32I=1,delete this._24I,this.iv())},Q.invalidateData=function(Q){c3?this.redraw():this._32I||(this._24I||(this._24I={}),this._24I[Q._id]=Q,this.iv())},Q.getFocusData=function(){return this._focusData},Q.setFocusDataById=function(Q){this.setFocusData(this.dm().getDataById(Q))},Q.setFocusData=function(Q){var Y=this._focusData;Y!==Q&&(this._focusData=Q,this.fp("focusData",Y,Q),Y&&this.invalidateData(Y),Q&&(this.invalidateData(Q),this.isAutoMakeVisible()&&this.makeVisible(Q)))},Q.drawRowBackground=function(Q,Y,n,R,g,B,L){var Z=this.isCheckMode();(Y===this._focusData&&Z||n&&!Z)&&RB(Q,R,g,B,L,this.getSelectBackground(Y))},Q.drawData=function(Q,Y,n){var R=this._rowHeight,g=R*n,B=(L=this._29I).x,L=L.width;Q.save(),Q.beginPath(),Q.rect(B,g,L,R),Q.clip(),this._87o(this.drawRow(Q,Y,this.isSelected(Y),B,g,L,R),n,B,g,L,R),Q.restore(),this._rowLineVisible&&RB(Q,B,g+R-1,L,1,this._rowLineColor)},Q._12I=function(Q){var Y=this._31I,n=(B=this._29I).x,R=B.y,g=B.width,B=B.height;for(Q.beginPath(),Q.rect(n,R,g,B),Q.clip(),Q.clearRect(n,R,g,B),this._76o(),this._93db(Q);Y<this._14I;Y++)this.drawData(Q,this._rows.get(Y),Y);this._92db(Q)},Q._13I=function(Y){for(var Q,n=this,R=n._rowHeight,g=n._29I,B=g.x,L=g.width,Z=n._31I,e=n._30I;Z<n._14I;Z++)Q=n._rows.get(Z),n._24I[Q._id]&&e.add({data:Q,index:Z});e.isEmpty()||(Y.beginPath(),e.each(function(Q){Y.rect(B,Q.index*R,L,R)}),Y.clip(),e.each(function(Q){Y.clearRect(B,Q.index*R,L,R)}),e.each(function(Q){n._77o(Q.index)}),n._93db(Y),e.each(function(Q){n.drawData(Y,Q.data,Q.index)}),n._92db(Y),e.clear())},Q.preValidateModel=function(){this.endEditing&&this.endEditing()},Q.validateImpl=function(){var Q=this,Y=Q._canvas,n=Q.getWidth(),R=Q.getHeight(),g=Q._rowHeight,B=Q._32I,L=(n===Y.clientWidth&&R===Y.clientHeight||(yn(Y,n,R),B=1),Q._96I&&(Q.preValidateModel(),Q.validateModel()),Q._29I),n={x:-Q.tx(),y:-Q.ty(),width:n,height:R},R=Q._rows.size(),Y=uT(Y),Z=Q._23I,L=(B||kn(n,L)||(B=1),Q._29I=n,Q._59I=R*g,Q._31I=T3(n.y/g),Q._14I=E3((n.y+n.height)/g),Q._31I<0&&(Q._31I=0),Q._14I>R&&(Q._14I=R),Q._99I&&B&&Q._99I(),Q.tx()),n=Q.ty();(Q._40o()||Q._41o())&&(Q._59I+=Q.getScrollBarSize(),Q._99I&&B&&(Q._91I+=Q.getScrollBarSize())),XT(Y,L,n,1),B?Q._12I(Y):Q._24I&&Q._13I(Y),Q._93I(),Q._92I(),Y.restore(),Q._32I=Q._24I=Q._96I=V3,Z&&(Q.scrollToIndex(Q.getRowIndex(Z)),delete Q._23I),Q.tx(Q.tx()),Q.ty(Q.ty())},Q.canHandleSelectMode=function(Q,Y){return!0},Q.isDraggable=function(Q){return!0}},F2._48o=function(Q,Y){Q._rootVisible=!0,Q._rootData=V3,Q._35o=function(){this._expandMap={},this._levelMap={}},Q.validateModel=function(){var Q=this,Y=Q._rootData;Q._rows.clear(),Q._levelMap={},Q._rowMap={},Q._currentLevel=0,Y?Q._rootVisible?Q.isVisible(Y)&&Q.buildData(Y):Q.buildChildren(Y):Q.buildChildren(),delete Q._currentLevel},Q.buildData=function(Q){var Y=Q._id,n=this._rows;this._rowMap[Y]=n.size(),n.add(Q),this._levelMap[Y]=this._currentLevel,this.isExpanded(Q)&&(this._currentLevel++,this.buildChildren(Q),this._currentLevel--)},Q.buildChildren=function(Q){var Y=this,n=Q?Q._children:Y._dataModel._roots,R=Y.getCurrentSortFunc();R&&Y.isChildrenSortable(Q)?n.toList(Y.isVisible,Y).sort(R).each(Y.buildData,Y):n.each(function(Q){Y.isVisible(Q)&&Y.buildData(Q)})},Q.getLevel=function(Q){return this._levelMap[Q._id]},Q.getToggleIcon=function(Q){var Y=this._loader,n=this._collapseIcon;return Y&&!Y.isLoaded(Q)?n:Q.hasChildren()?this.isExpanded(Q)?this._expandIcon:n:V3},Q.isCheckMode=function(){return this._checkMode!=V3},Q.isChildrenSortable=function(Q){return!0},Q.handleDataModelChange=function(Q){Q.kind===AR?delete this._expandMap[Q.data._id]:Q.kind===PR&&(this._expandMap={}),this.ivm()},Q.toggle=function(Q){this.isExpanded(Q)?this.collapse(Q):this.expand(Q)},Q.isExpanded=function(Q){return 1===this._expandMap[Q._id]},Q.expand=function(Q){var Y=this._loader;this.isExpanded(Q)||(Y&&!Y.isLoaded(Q)&&Y.load(Q),this._expandMap[Q._id]=1,this.ivm(),this.onExpanded(Q))},Q.onExpanded=function(Q){},Q.collapse=function(Q){this.isExpanded(Q)&&(delete this._expandMap[Q._id],this.ivm(),this.onCollapsed(Q))},Q.onCollapsed=function(Q){},Q.expandAll=function(Q){var Y;Q?(this.expand(Q),Q.eachChild(function(Q){this.expandAll(Q)},this)):((Y=this)._dataModel.each(function(Q){Q.hasChildren()&&(Y._expandMap[Q._id]=1)}),Y.ivm())},Q.collapseAll=function(){this._expandMap={},this.ivm()},Q.makeVisible=function(Q){if(Q&&(!this._rootData||Q.isDescendantOf(this._rootData))){for(var Y=Q._parent;Y;)this.expand(Y),Y=Y._parent;this._23I=Q,this.iv()}},Q.checkData=function(Q){var Y,n=this._checkMode,R=this.sm(),g=R.co(Q);if(!R.sg()||!g){if(this._32o=1,n===QR)g?R.rs(Q):R.as(Q);else if(n===iV)(Y=new W(Q)).addAll(Q._children);else if("descendant"===n)Y=new W,S$(Q,Y);else if("all"===n&&(Y=new W,S$(Q,Y),!g))for(var B=Q._parent;B;)Y.add(B),B=B._parent;Y&&(g?R.rs(Y):R.as(Y)),delete this._32o}},Q.drawTree=function(Q,Y,n,R,g,B,L){var Z=this,e=Z._indent,u=Z._levelMap[Y._id],X=Z.getIconWidth(Y),x=t(Z.getToggleIcon(Y));x?(W2(Q,x,(R+=e*u)+e/2,g+L/2,Y,Z),R+=e):R+=e*(u+1),Z._checkMode&&(W2(Q,Z.getCheckIcon(Y),R+e/2,g+L/2,Y,Z),R+=e),Z.drawIcon(Q,Y,R,g,X,L),Z.drawLabel(Q,Y,R+X,g,L)}},F2._14Q=function(Q,Y){Q.getIcon=function(Q){return Q.getIcon()},Q.getIconWidth=function(Q){return this.getIcon(Q)?this._indent:0},Q.drawIcon=function(Q,Y,n,R,g,B){var L,Z;g&&(L=this.getBodyColor(Y),(Z=t(this.getIcon(Y),L))&&(B-=this.isRowLineVisible()?1:0,c2(Q,Z,tV,n,R,g,B,Y,this,L),GB(Q,this.getBorderColor(Y),n,R,g,B)))},Q.drawLabel=function(Q,Y,n,R,g){Bg(Q,this.getLabel(Y),this.getLabelFont(Y),this.getLabelColor(Y),n,R,0,g)}},F2._50o=function(Q,Y){Q._98I=function(){var Q=this._39o=new hQ;this._60I=new W,Q.mm(this._17o,this),Q.md(this._18o,this),Q.mh(this._19o,this)},Q.setColumns=function(Q){this._39o.clear(),this.addColumns(Q)},Q.addColumns=function(Q){var n=this._39o;Q.forEach(function(Q){var Y;Q instanceof nu||(Y=Yg(Q.className),Q=q2(Y||nu,Q)),n.add(Q)})},Q.onColumnClicked=function(Q){},Q.onCheckColumnClicked=function(Q){},Q._3Q=function(Q){for(var Y,n=0,R=this._60I,g=R.size();n<g;n++)if((Y=R.get(n)).column===Q)return Y;return V3},Q.getColumnAt=function(Q){return(Q=this._4Q(Q))?Q.column:V3},Q._4Q=function(Q){for(var Y=(Q.target?this.lp(Q):Q).x,n=this._60I,R=0;R<n.size();R++){var g=n.get(R),B=g.startX;if(B<=Y&&Y<B+g.column.getWidth())return g}return V3},Q.getToolTip=function(Q){var Y=this.getDataAt(Q),Q=this.getColumnAt(Q);return Y&&Q?Q.getToolTip(Y,this):V3},Q.adjustTranslateX=function(Q){var Y=this.getWidth()-this._91I;return 0<(Q=Q<Y?Y:Q)?0:i3(Q)},Q._99I=function(){var n=this,R=n._29I,g=n._60I;g.clear(),n._91I=0,n._39o._roots.each(function(Q){var Y;Q.isVisible()&&(Y=n._91I+Q.getWidth(),n._91I<=R.x+R.width&&Y>=R.x&&g.add({column:Q,startX:n._91I}),n._91I=Y)})},Q.drawData=function(R,g,B){var L=this,Z=L._rowHeight,e=Z*B,u=L.isSelected(g),Q=(Y=L._29I).x,Y=Y.width;L.drawRowBackground(R,g,u,Q,e,Y,Z),L._60I.each(function(Q){var Y=Q.column,Q=Q.startX,n=Y.getWidth();0<n&&!L.isEditing(g,Y)&&(R.save(),R.beginPath(),R.rect(Q,e,n,Z),R.clip(),L._87o(L.drawCell(R,g,u,Y,Q,e,n,Z),B,Q,e,n,Z),L._columnLineVisible&&RB(R,Q+n-1,e,1,Z,L._columnLineColor),R.restore())}),L._rowLineVisible&&RB(R,Q,e+Z-1,Y,1,L._rowLineColor)},Q.drawCell=function(Q,Y,n,R,g,B,L,Z){if(R.drawCell)return R.drawCell(Q,Y,n,R,g,B,L,Z,this);n=this.getValue(Y,R),y$(Q,n,R,this.getLabelFont(Y,R,n),this.getLabelColor(Y,R,n),g,B,L,Z,Y,this)},Q.getColumnModel=function(){return this._39o},Q._17o=function(Q){this.redraw()},Q._18o=function(Q){Q.data===this._sortColumn&&d$[Q.property]?this.ivm():(this._42o(),this.redraw())},Q._19o=function(Q){this.redraw()},Q.getCurrentSortFunc=function(){var n,R,g=this,B=g._sortColumn;return B&&B.isSortable()?(R=B.getSortFunc(),n=JV===B.getSortOrder()?1:-1,R=R||f2,function(Q,Y){return R.call(g,g.getValue(Q,B),g.getValue(Y,B),Q,Y)*n}):g._sortFunc},Q.isCellEditable=function(Q,Y,n){return!(!Y.isEditable()||!this.isEditable())&&(!Y.isCellEditable||Y.isCellEditable(Q,Y,n,this))},Q._37O=function(Q,Y){if(Zg(Y))for(var n=this,R=n.lp(Y),g=n._60I,B=n._rowHeight,L=n._29I,Z=L.x,e=L.y,u=L.width,X=L.height,x=0;x<g.size();x++){var G,o,l=g.get(x),V=l.startX,z=(l=l.column).getWidth();if(l!==n._31o&&l!==n._4o&&R.x>=V&&R.x<V+z&&n.isCellEditable(Q,l,Y))return z={x:(V={x:V,y:n.getRowIndex(Q)*B,width:z,height:B}).x+n.tx(),y:V.y+n.ty(),width:V.width,height:V.height},o=G=0,V.x<Z?G=V.x-Z:Z+u<V.x+V.width&&(G=V.x+V.width-Z-u),G&&(n.tx(n.tx()-G),z.x-=G),V.y<e?o=V.y-e:e+X<V.y+B&&(o=V.y+B-e-X),o&&(n.ty(n.ty()-o),z.y-=o),void n.beginEditing({data:Q,column:l,value:n.getValue(Q,l),event:Y,rect:V,editorRect:z,view:n})}}},Qu.BaseItemEditor=function(Q,Y,n,R){this._data=Q,this._column=Y,this._master=n,this._editInfo=R},Y("BaseItemEditor",m,{ms_ac:["data","column","master","editInfo"],editBeginning:function(){},getView:function(){},getValue:function(){},setValue:function(){}}),K.Tab=function(){En(Yu,this)}),nu=(qB("Tab",sQ,{ms_ac:["view","closable","disabled","visible"],_icon:V3,_closable:!1,_disabled:!1,_visible:!0,setParent:Kd}),K.Column=function(){En(nu,this)}),Ru=(qB("Column",sQ,{_46o:1,ms_ac:["accessType","valueType",fR,FV,vV,iR,"align",cV,"sortOrder",MV,"sortable","clickable","nullable","emptiable","slider","colorPicker","itemEditor"],_visible:!0,_width:80,_sortOrder:JV,_sortFunc:V3,_sortable:!0,_clickable:!0,setWidth:function(Q){var Y=this._width;this._width=Q=Q<16?16:Q,this.fp(iR,Y,Q)},getToolTip:function(Q,Y){return this.formatValue(Y.getValue(Q,this))}}),K.Property=function(){En(Ru,this)}),gu=(qB("Property",sQ,{_46o:1,ms_ac:["accessType","valueType",FV,vV,"categoryName",cV,"align","nullable","emptiable","slider","itemEditor","colorPicker"],_categoryName:V3,getToolTip:function(Q,Y,n){return Y?this.formatValue(n.getValue(Q,this)):n.getPropertyName(this)}}),Qu.AccordionView=function(){this._20o={},this._21o=new W,this._10o=V3,this._9o=V3,this._11o=V3,this._view=dn(0,this),this.iv()},Y("AccordionView",m,{ms_v:1,ms_fire:1,ms_ac:[zV,pV,"titleHeight",mR,tR,"titleBackground","selectWidth",h3,"orientation","separatorColor"],_expandIcon:z3.accordionViewExpandIcon,_collapseIcon:z3.accordionViewCollapseIcon,_titleHeight:C2,_labelColor:z3.accordionViewLabelColor,_labelFont:z3.accordionViewLabelFont,_titleBackground:z3.accordionViewTitleBackground,_selectBackground:z3.accordionViewSelectBackground,_selectWidth:z3.accordionViewSelectWidth,_orientation:"v",_separatorColor:z3.accordionViewSeparatorColor,onPropertyChanged:function(Q){this.iv()},getView:function(){return this._view},getTitles:function(){return this._21o},getCurrentTitle:function(){return this._10o},add:function(Y,Q,n,R){var g=this,B=Kn(),Q={content:Q,div:B,canvas:Wn(B),icon:R};if(g._20o[Y])throw Y+" already exists";var L=Q.downEventFunc=function(Q){d2(Q)},Z=Q.upEventFunc=function(Q){d2(Q),Zg(Q)&&(g._10o===Y?g.collapse():g.expand(Y))};[Ld,nd].forEach(function(Q){A3(B,Q,L)}),[ed,gd].forEach(function(Q){A3(B,Q,Z)}),B.style.cursor=Qd,Dn(g._view,B),g._20o[Y]=Q,g._21o.add(Y),n&&g.expand(Y),g.iv()},remove:function(Q){var Y,n=this._20o[Q];n&&(Y=n.div,Tg(Y),[Ld,nd].forEach(function(Q){P3(Y,Q,n.downEventFunc)}),[ed,gd].forEach(function(Q){P3(Y,Q,n.upEventFunc)}),delete this._20o[Q],this._21o.remove(Q),this.iv())},clear:function(){this._21o.toArray().forEach(this.remove,this),this._20o={},this._21o.clear(),this.iv()},isExpanded:function(Q){return this._10o===Q},expand:function(Q){this._20o[Q]&&this._10o!==Q&&(this._10o=Q,this.onExpanded(Q),this.iv())},onExpanded:function(Q){},collapse:function(){this._10o&&(this.onCollapsed(this._10o),delete this._10o,this.iv())},onCollapsed:function(Q){},initCanvas:function(Q,Y,n){return yn(Q,Y,n),Q=uT(Q),XT(Q,0,0,1),Q.clearRect(0,0,Y,n),Q},drawTitle:function(Q,Y,n,R,g){var B=this,g=t(g.icon),L=B.isExpanded(Y),Z=B._titleHeight,e=B._titleBackground,u=B._selectWidth,X=B._separatorColor,x=t(L?B._expandIcon:B._collapseIcon),G=u+4;RB(Q,0,0,n,R,e),L&&u&&RB(Q,0,0,u,R,B._selectBackground),!L&&B._21o.get(B._21o.size()-1)===Y||RB(Q,0,R-1,n,1,X||Rg(e)),g&&(W2(Q,g,G+vQ(g)/2,Z/2),G+=vQ(g)+2),Bg(Q,Y,B.getLabelFont(Y),B.getLabelColor(Y),G,0,0,Z),x&&W2(Q,x,n-vQ(x)/2-4,Z/2)},validateImpl:function(){var L=this,Q=L._view,Z=0,e=0,u=L.getWidth(),X=L.getHeight(),x=L._titleHeight,G=L._21o.size()*x,Y=L._11o,n=L._9o,R=(delete L._11o,delete L._9o,L._21o.each(function(Q){var Y,n,R=L._20o[Q],g=R.content,B=L._10o===Q;Zn(L)?(E(R.div,Z,0,x,X),Y=L.initCanvas(R.canvas,x,X),xT(Y,0,X),GT(Y,-U3),L.drawTitle(Y,Q,X,x,R),Y.restore(),B?(n=n3(0,u-G),g&&(L._11o=g,L._9o=pT(g),E(g,Z+x,0,n,X)),Z+=x+n):Z+=x):(E(R.div,0,e,u,x),Y=L.initCanvas(R.canvas,u,x),L.drawTitle(Y,Q,u,x,R),Y.restore(),B?(n=n3(0,X-G),g&&(L._11o=g,L._9o=pT(g),E(g,0,e+x,u,n)),e+=x+n):e+=x)}),L._9o);Y&&Y!==L._11o&&Y.endEditing&&Y.endEditing(),R&&R!==n&&Dn(Q,R),n&&n!==R&&Tg(n)}}),Qu.SplitView=function(Q,Y,n,R){var g=this,B=g._dividerDiv=Kn(),L=g._60O=Wn(),Z=g._61O=Wn(),L=L.style,Z=Z.style;g._view=dn(1,g),Dn(g._view,B),L.msTouchAction=Yd,L.pointerEvents=Yd,L.cursor=Qd,Z.msTouchAction=Yd,Z.pointerEvents=Yd,Z.cursor=Qd,Q&&g.setLeftView(Q),Y&&g.setRightView(Y),n&&g.setOrientation(n),R!=V3&&g.setPosition(R),g.setStatus(IR),new gu(g)},Y("SplitView",m,{ms_v:1,ms_fire:1,ms_ac:["continuousLayout","dividerSize","dividerBackground","toggleIcon","togglable","dragOpacity","orientation","draggable","status"],_continuousLayout:!1,_position:.5,_togglable:!0,_orientation:"h",_draggable:!0,_dividerSize:z3.splitViewDividerSize,_dividerBackground:z3.splitViewDividerBackground,_dragOpacity:z3.splitViewDragOpacity,_toggleIcon:z3.splitViewToggleIcon,onPropertyChanged:function(Q){this.iv()},getDividerDiv:function(){return this._dividerDiv},getPosition:function(){return this._position},setPosition:function(Q,Y){var n=this._position;isNaN(Q)||(Y||(this._82O=Q<0?-1:1<Q?1:0),this._position=Q,this.fp(AV,n,Q))},getLeftView:function(){return this._leftView},setLeftView:function(Q){var Y,n=this._leftView,R=this._view;this._leftView!==Q&&(n&&n!==this._rightView&&(Y=pT(n)).parentNode===R&&Tg(Y),(this._leftView=Q)&&(Y=pT(Q)).parentNode!==R&&R.insertBefore(Y,this._dividerDiv),this.fp("leftView",n,Q))},getRightView:function(){return this._rightView},setRightView:function(Q){var Y,n=this._rightView,R=this._view;this._rightView!==Q&&(n&&n!==this._leftView&&(Y=pT(n)).parentNode===R&&Tg(Y),(this._rightView=Q)&&(Y=pT(Q)).parentNode!==R&&R.insertBefore(Y,this._dividerDiv),this.fp("rightView",n,Q))},validateImpl:function(){var Q,Y,n,R,g=this,B=g._draggable,L=g._position,Z=g.getWidth(),e=g.getHeight(),u=g._dividerSize,X=g._dividerBackground,x=f3?18:8,G=g._dividerDiv,o=g._82O,l=g._60O,V=g._61O,z=g._toggleIcon,p=g._status,$=G.style,M=null,F=f3?20:4,v=z.comps[0],a=(x<=u||0===u?g._coverDiv&&(Tg(g._coverDiv),delete g._coverDiv):g._coverDiv||(g._coverDiv=Kn(),W3&&(g._coverDiv.style.background=qV),Dn(G,g._coverDiv)),g._togglable?l.parentNode||(Dn(G,l),Dn(G,V)):(Tg(l),Tg(V)),g._coverDiv),J=g._leftView,I=g._rightView;Zn(g)?(Z<u&&(u=Z),p===IR?1===o?(R=R3(L,Z),n=n3(0,Z-u-R)):-1===o?(n=R3(-L,Z),R=n3(0,Z-u-n)):(R=i3((Z-u)*L),n=n3(0,Z-u-R)):"cl"===p?n=n3(R=0,Z-u):"cr"===p&&(R=n3(n=0,Z-u)),J&&E(J,0,0,R,e),I&&E(I,R+u,0,n,e),E(G,R,0,u,e),g._22o=R,a&&(E(a,u/2-x/2,0,x,e),a.style.cursor=B?DV:""),G.style.cursor=B?DV:"",n=G.clientHeight/2,R=G.clientWidth,yn(l,R,R),E(l,0,n-R-F,R,R),M=uT(l),XT(M,0,0,1),v.rotation=-U3,JQ(M,z,0,0,R,R),M.restore(),yn(V,R,R),E(V,0,n+F,R,R),M=uT(V),XT(M,0,0,1),v.rotation=U3):(e<u&&(u=e),p===IR?1===o?(Q=R3(L,e),Y=n3(0,e-u-Q)):-1===o?(Y=R3(-L,e),Q=n3(0,e-u-Y)):(Q=i3((e-u)*L),Y=n3(0,e-u-Q)):"cl"===p?Y=n3(Q=0,e-u):"cr"===p&&(Q=n3(Y=0,e-u)),J&&E(J,0,0,Z,Q),I&&E(I,0,Q+u,Z,Y),E(G,0,Q,Z,u),g._22o=Q,a&&(E(a,0,u/2-x/2,Z,x),a.style.cursor=B?fV:""),$.cursor=B?fV:"",n=G.clientWidth/2,R=G.clientHeight,yn(l,R,R),E(l,n-R-F,0,R,R),M=uT(l),XT(M,0,0,1),v.rotation=0,JQ(M,z,0,0,R,R),M.restore(),yn(V,R,R),E(V,n+F,0,R,R),M=uT(V),XT(M,0,0,1),v.rotation=b),JQ(M,z,0,0,R,R),M.restore(),$.background=X}}),function(Q){this.sv=Q,this.addListeners()}),Bu=(Og(gu,m,{ms_listener:1,getView:function(){return this.sv.getView()},handle_touchstart:function(Q){var Y=this.sv,n=Y._dividerDiv,R=Y._60O,g=Y._61O,B=Y._status,L=Q.target;L===R?B===IR?Y.setStatus("cl"):"cr"===B&&Y.setStatus(IR):L===g?B===IR?Y.setStatus("cr"):"cl"===B&&Y.setStatus(IR):!PT(Q)||L!==n&&L!==Y._coverDiv||(d2(Q),Y.isDraggable()&&(Y.getLeftView(),Y.getRightView(),(R=this.maskDiv=Kn()).style.left=0,R.style.top=0,R.style.width=Y.getWidth()+"px",R.style.height=Y.getHeight()+"px",Y.getView().appendChild(R),Y.isContinuousLayout()||((g=this.resizeDiv=Kn()).style.left=n.style.left,g.style.top=n.style.top,g.style.width=n.style.width,g.style.height=n.style.height,g.style.opacity=Y.getDragOpacity(),g.style.background=Y.getDividerBackground(),Dn(this.getView(),g)),this._lastAbsPosition=Y._22o,this._86o=Zn(Y)?lg(Q).x:lg(Q).y,ig(this,Q)))},handleWindowTouchMove:function(Q){PT(Q)&&this.update(Q,this.sv.isContinuousLayout())},handleWindowTouchEnd:function(Q){this.update(Q,!0),this.sv.setStatus(IR),this.maskDiv&&Tg(this.maskDiv),this.resizeDiv&&Tg(this.resizeDiv),this.maskDiv=this.resizeDiv=V3},handle_mousedown:function(Q){Zg(Q)&&this.handle_touchstart(Q)},handleWindowMouseMove:function(Q){this.handleWindowTouchMove(Q)},handleWindowMouseUp:function(Q){this.handleWindowTouchEnd(Q)},update:function(Q,Y){var n=this.sv,R=Zn(n)?n.getWidth():n.getHeight(),g=n._dividerSize,B=this._lastAbsPosition-this._86o;Zn(n)?((B=R-g<(B+=lg(Q).x)?R-g:B)<0&&(B=0),this.resizeDiv&&(this.resizeDiv.style.left=B+zR)):((B=R-g<(B+=lg(Q).y)?R-g:B)<0&&(B=0),this.resizeDiv&&(this.resizeDiv.style.top=B+zR)),Y&&R!==g&&(1===n._82O?n.setPosition(B,1):-1===n._82O?n.setPosition(B-R+g,1):n.setPosition(B/(R-g),1))}}),Qu.TabView=function(){var Q=this,Y=Q._view=dn(1,Q),n=Q._91O=Kn(1),R=Q._tabModel=new hQ,g=R.sm(),B=Q.invalidate;Q._7o=new W,Q._canvas=Wn(n),Dn(Y,n),Dn(Y,Q._92O=Kn(1)),g.setSelectionMode(YR),g.ms(Q.handleSelectionChange,Q),R.mm(B,Q),R.mh(B,Q),R.md(B,Q),Q._interactor=new Bu(Q),Q.iv()},Y("TabView",m,{ms_v:1,ms_fire:1,ms_tx:1,ms_ty:1,ms_lp:1,ms_ac:["movable","tabGap","tabHeight","tabPosition",mR,tR,"tabHPadding","tabBackground","selectWidth",h3,"moveBackground","insertColor"],_tabHPadding:0,_tabPosition:ZR,_tabHeight:C2,_tabGap:z3.tabViewTabGap,_labelColor:z3.tabViewLabelColor,_labelFont:z3.tabViewLabelFont,_tabBackground:z3.tabViewTabBackground,_selectWidth:z3.tabViewSelectWidth,_selectBackground:z3.tabViewSelectBackground,_moveBackground:z3.tabViewMoveBackground,_insertColor:z3.tabViewInsertColor,_movable:!0,handleSelectionChange:function(){this._selectionChanged=!0,this.invalidate()},getContentDiv:function(){return this._92O},getTitleDiv:function(){return this._91O},getTabModel:function(){return this._tabModel},add:function(Q,Y,n){var R,g=this._tabModel;return Q instanceof Yu?(R=Q,Y&&R.setView(Y)):((R=new Yu).setName(Q),R.setView(Y)),g.add(R),n&&g.sm().ss(R),R},getLabel:function(Q){return Q.toLabel()},onPropertyChanged:function(Q){this.iv()},_7Q:function(Q){this._23o=Q,this.iv()},get:function(Y){var n,R=this,Q=R._tabModel;return xn(Y)?Q._roots.get(Y):$3(Y)?(Q.each(function(Q){Y===R.getLabel(Q)&&(n=Q)}),n):Y instanceof Yu?Y:V3},select:function(Q){this._tabModel.sm().ss(this.get(Q))},remove:function(Q){var Y;(Q=this.get(Q))&&(Y=this._tabModel._roots.indexOf(Q),this._tabModel.remove(Q),this.selectByIndex(--Y))},getCurrentTab:function(){return this._8o},hideTabView:function(Q,Y){Y.parentNode===this._92O&&(Fn(Y)||vn(Y)?(Y.style.display=VR,Y._tab_=Q):Tg(Y),T2())},showTabView:function(Q,Y){(Fn(Y)||vn(Y))&&(Y.style.display="block",Y._tab_=Q),Y.parentNode!==this._92O&&(Dn(this._92O,Y),T2())},_24o:function(){var Q,Y=this._8o,n=this._9o,R=this._tabModel.sm().ld();(Q=R?pT(R.getView()):Q)!==n&&(n&&(Y.getView()&&Y.getView().endEditing&&Y.getView().endEditing(),this.hideTabView(Y,n)),Q&&this.showTabView(R,Q)),this._8o=R,this._9o=Q,Y!==R&&this.onTabChanged(Y,R)},onTabClosing:function(Q){return!0},onTabChanged:function(Q,Y){},onTabClosed:function(Q,Y){this.selectByIndex(--Y)},selectByIndex:function(Q){var Y=this._tabModel,n=Y.size();if(n&&!Y.sm().ld()){for(var R=Q=(Q=n<=(Q=Q==V3?0:Q)?n-1:Q)<0?0:Q;0<=R;R--){var g=this.get(R);if(!g.isDisabled())return this.select(g),g}for(R=Q+1;R<n;R++)if(!(g=this.get(R)).isDisabled())return this.select(g),g}},getTabWidth:function(Q){var Y=4+2*this.getTabHPadding(),n=t(Q.getIcon());return n&&(Y+=vQ(n,Q)+4),(n=this.getLabel(Q))&&(Y+=Lg(this.getLabelFont(Q),n).width+4),Q.isClosable()&&(Y+=10),Y},drawTab:function(Q,Y,n,R,g,B,L){var Z,e=this._tabPosition,u=n+4+(M=this.getTabHPadding()),X=this._selectWidth,x=t(Y.getIcon()),G=Y.isDisabled(),o=this.getLabelColor(Y),l=this.getLabelFont(Y),V=this.getLabel(Y),z=this._selectBackground,p=e===BR+"-vertical",$=e===LR+"-vertical",M=((p||$)&&(u=R+4+M),G&&(Q.globalAlpha=a2),RB(Q,n,R,g,B,L),Y===this._8o&&X&&(e===ZR?RB(Q,n,R+B-X,g,X,z):e===BR?RB(Q,n+g-X,R,X,B,z):e===LR?RB(Q,n,R,X,B,z):p?RB(Q,n+g-X,R,X,B,z):$?RB(Q,n,R,X,B,z):RB(Q,n,R,g,X,z)),g/2);return p&&(xT(Q,M,R+B/2),GT(Q,b),xT(Q,-M,-R-B/2)),x&&(L=aQ(x,Y),e=vQ(x,Y),p||$?(xT(Q,X=n+g/2,z=u+L/2),GT(Q,U3),xT(Q,-X,-z),W2(Q,x,n+g/2,u+L/2,Y,this),xT(Q,X,z),GT(Q,-U3),xT(Q,-X,-z),u+=L+4):(W2(Q,x,u+e/2,R+B/2,Y,this),u+=e+4)),p||$?(xT(Q,g/2,u+g/2),GT(Q,U3),xT(Q,-g/2,-u-g/2),Bg(Q,V,l,o,n,u,B,g),xT(Q,g/2,u+g/2),GT(Q,-U3),xT(Q,-g/2,-u-g/2)):Bg(Q,V,l,o,u,R,g,B),p&&(xT(Q,M,R+B/2),GT(Q,-b),xT(Q,-M,-R-B/2)),Y.isClosable()&&this.drawCloseIcon(Y,Q,o,Z=$?{x:n+g-12,y:R+B-12,width:12,height:12}:{x:n+g-12,y:R+2,width:12,height:12}),G&&(Q.globalAlpha=1),Z},drawCloseIcon:function(Q,Y,n,R){var g=R.x,R=R.y;Y.strokeStyle=n,Y.lineWidth=1,Y.beginPath(),Y.moveTo(g+2,R+8),Y.lineTo(g+8,R+2),Y.moveTo(g+8,R+8),Y.lineTo(g+2,R+2),Y.stroke()},getTabAt:function(Q){return(Q=this._interactor._8Q(Q))?Q.tab:null},validateImpl:function(){var R=this,Q=(R._24o(),R._canvas),Y=R._tabPosition,n=R._91O,g=R._92O,B=R._tabModel,L=R.getWidth(),Z=R.getHeight(),e=R._tabHeight,u=R._7o,X=R._tabGap,x=Y===ZR,G=Y===BR,o=Y===LR,l=Y===BR+"-vertical",Y=Y===LR+"-vertical",V=R._23o,z=0;if((G||o)&&B._roots.each(function(Q){z=n3(R.getTabWidth(Q),z)}),x=x?(E(n,0,0,L,e),{x:0,y:e,width:L,height:n3(0,Z-e)}):G?(E(n,0,0,z,Z),{x:z,y:0,width:n3(0,L-z),height:Z}):o?(E(n,L-z,0,z,Z),{x:0,y:0,width:n3(0,L-z),height:Z}):l?(E(n,0,0,e,Z),{x:e,y:0,width:n3(0,L-e),height:Z}):Y?(E(n,L-e,0,e,Z),{x:0,y:0,width:n3(0,L-e),height:Z}):(E(n,0,Z-e,L,e),{x:0,y:0,width:L,height:n3(0,Z-e)}),E(g,x),l||Y){R._9o&&(x.x=0,E(R._8o.getView(),x)),yn(Q,e,Z);var p=uT(Q),$=0;if(XT(p,0,R.ty(),1),p.clearRect(0,0,e,Z),u.clear(),B._roots.each(function(Q){var Y,n;Q.isVisible()&&(Y=R.getTabWidth(Q),V&&V.tab===Q||(n=R.getTabBackground(Q),n=R.drawTab(p,Q,0,$,e,Y,n)),u.add({_75o:n,tab:Q,startY:$,endY:$+Y,height:Y}),$+=Y+X)}),R._23Q=n3(0,$-X),V&&(v=V.position,R.drawTab(p,V.tab,0,V.startY,e,V.height,R._moveBackground),RB(p,0,v,e,1,R._insertColor)),p.restore(),R._selectionChanged){R._selectionChanged=!1;for(var M=R.ty(),F=0;F<u.size();F++)if((J=u.get(F)).tab===R._8o){if(J.endY+M<0){R.ty(-J.startY);break}if(J.startY+M>Z){R.ty(Z-J.endY);break}}}R.ty(R.ty())}else if(G||o){if(R._9o&&(x.x=0,E(R._8o.getView(),x)),yn(Q,z,Z),p=uT(Q),XT(p,$=0,R.ty(),1),p.clearRect(0,0,z,Z),u.clear(),B._roots.each(function(Q){var Y;Q.isVisible()&&(V&&V.tab===Q||(Y=R.getTabBackground(Q),Y=R.drawTab(p,Q,0,$,z,e,Y)),u.add({_75o:Y,tab:Q,startY:$,endY:$+e,height:e}),$+=e+X)}),R._23Q=n3(0,$-X),V&&(v=V.position,R.drawTab(p,V.tab,0,V.startY,z,V.height,R._moveBackground),RB(p,0,v,z,1,R._insertColor)),p.restore(),R._selectionChanged)for(R._selectionChanged=!1,M=R.ty(),F=0;F<u.size();F++)if((J=u.get(F)).tab===R._8o){if(J.endY+M<0){R.ty(-J.startY);break}if(J.startY+M>Z){R.ty(Z-J.endY);break}}R.ty(R.ty())}else{R._9o&&(x.y=0,E(R._8o.getView(),x)),yn(Q,L,e);var v,p=uT(Q),a=0;if(XT(p,R.tx(),0,1),p.clearRect(0,0,L,e),u.clear(),B._roots.each(function(Q){var Y,n;Q.isVisible()&&(Y=R.getTabWidth(Q),V&&V.tab===Q||(n=R.getTabBackground(Q),n=R.drawTab(p,Q,a,0,Y,e,n)),u.add({_75o:n,tab:Q,startX:a,endX:a+Y,width:Y}),a+=Y+X)}),R._64I=n3(0,a-X),V&&(v=V.position,R.drawTab(p,V.tab,V.startX,0,V.width,e,R._moveBackground),Hn(p,R._insertColor,v,0,e)),p.restore(),R._selectionChanged){R._selectionChanged=!1;for(var J,I=R.tx(),F=0;F<u.size();F++)if((J=u.get(F)).tab===R._8o){if(J.endX+I<0){R.tx(-J.startX);break}if(J.startX+I>L){R.tx(L-J.endX);break}}}R.tx(R.tx())}for(var A=[],P=g.children,F=0;F<P.length;F++){var i=P[F],T=i._tab_;T&&!B.contains(T)&&A.push(i)}A.forEach(function(Q){g.removeChild(Q)})}}),function(Q){this.tv=Q,this.addListeners()}),Lu=(Og(Bu,m,{ms_listener:1,getView:function(){return this.tv._91O},handle_mousewheel:function(Q){this.handleScroll(Q,Q.wheelDelta/40*10)},handle_DOMMouseScroll:function(Q){this.handleScroll(Q,10*-Q.detail)},handleScroll:function(Q,Y){d2(Q);var n=(Q=this.tv)._tabPosition;!Q._40o()||n!==ZR&&n!==eR||Q.tx(this.tv.tx()+Y),!Q._41o()||n!==BR&&n!==LR&&n!==BR+"-vertical"&&n!==LR+"-vertical"||Q.ty(this.tv.ty()+Y)},_8Q:function(Q){var Y,n=this.tv,R=n._tabPosition,g=n._7o;if(R===ZR||R===eR){for(var B=n.lp(Q).x,L=0;L<g.size();L++)if((Y=g.get(L)).startX<=B&&B<=Y.endX)return Y}else if(R===BR||R===LR||R===BR+"-vertical"||R===LR+"-vertical")for(var Z=n.lp(Q).y,L=0;L<g.size();L++)if((Y=g.get(L)).startY<=Z&&Z<=Y.endY)return Y;return V3},isClickable:function(Q){var Y=this.tv,n=Y._tabPosition,Q=this._73o=this._8Q(Q);return!(!Y._40o()||n!==ZR&&n!==eR)||!(!Y._41o()||n!==BR&&n!==LR&&n!==BR+"-vertical"&&n!==LR+"-vertical")||Q&&(!Q.tab.isDisabled()||Y.isMovable())},handle_mousemove:function(Q){vT?this._74o=this._8Q(Q):this.getView().style.cursor=this.isClickable(Q)?Qd:""},handle_mousedown:function(Q){this.handle_mousemove(Q),this.handle_touchstart(Q)},handle_touchstart:function(Q){var Y=this.tv,n=Y._tabPosition;d2(Q),Zg(Q)&&this.isClickable(Q)&&(n===ZR||n===eR?(this.x=lg(Q).x,this.lp=Y.lp(Q),this.tx=Y.tx()):(this.y=lg(Q).y,this.lp=Y.lp(Q),this.ty=Y.ty()),ig(this,Q))},handle_mouseup:function(Q){this.handle_touchend(Q)},handle_touchend:function(Q){var Y,n,R;eg(Q)&&(Q=this._73o)&&(Y=this.tv,n=Y.getTabModel(),!(R=Q.tab).isDisabled()&&R.isClosable()&&Y.onTabClosing(R,Q=function(){var Q=n._roots.indexOf(R);n.remove(R),Y.onTabClosed(R,Q)})&&Q())},handleWindowMouseMove:function(Q){this.handleWindowTouchMove(Q)},handleWindowTouchMove:function(Q){var R,g,B,L,Y=this,Z=Y.tv,n=Z._tabPosition,e=Y._73o;n===ZR||n===eR?(g=lg(Q).x-Y.x,!Y._25o&&!Y.moving&&2<b3(g)&&(Z._40o()&&!og(Q)?Y._25o=1:e&&Z.isMovable()&&(Y.moving=1)),Y._25o?Z.tx(Y.tx+g):Y.moving&&(R=Y.lp.x+g,L=Z._tabGap/2,Z._7o.each(function(Q){var Y=Q.endX,n=R-Q.startX<Y-R;R>=Q.startX&&R<=Y&&Z._7Q({tab:e.tab,startX:e.startX+g,width:e.width,front:n,insertTab:Q.tab,position:n?n3(0,Q.startX-L):R3(Z._64I,Y+L)})}))):(g=lg(Q).y-Y.y,!Y._25o&&!Y.moving&&2<b3(g)&&(Z._41o()&&!og(Q)?Y._25o=1:e&&Z.isMovable()&&(Y.moving=1)),Y._25o?Z.ty(Y.ty+g):Y.moving&&(B=Y.lp.y+g,L=Z._tabGap/2,Z._7o.each(function(Q){var Y=Q.endY,n=B-Q.startY<Y-B;B>=Q.startY&&B<=Y&&Z._7Q({tab:e.tab,startY:e.startY+g,height:e.height,front:n,insertTab:Q.tab,position:n?n3(0,Q.startY-L):R3(Z._23Q,Y+L)})})))},handleWindowMouseUp:function(Q){this.handleWindowTouchEnd(Q)},handleWindowTouchEnd:function(Q){var Y,n,R,g,B=this,L=B.tv,Z=L._tabPosition,e=L.getTabModel(),u=e._roots,X=B._73o;B.moving?((R=L._23o)&&R.insertTab!==R.tab&&(n=R.tab,g=u.remove(n),0<=(Y=u.indexOf(R.insertTab))&&(R.front||Y++,Y<=u.size()&&(u.add(n,Y),e._38I(n,g,Y)))),L._7Q(V3),delete B.moving):!B._25o&&X&&(n=X.tab,(R=B._74o)&&R.tab!==n||(!n.isDisabled()&&Mg(X._75o,B.lp)?L.onTabClosing(n,g=function(){var Q=u.indexOf(n);e.remove(n),L.onTabClosed(n,Q)})&&g():n.isDisabled()||L._8o===n||e.sm().ss(n))),B._25o=B._73o=B._74o=Z===ZR||Z===eR?B.x=B.lp=B.tx=V3:B.y=B.lp=B.ty=V3}}),Qu.PropertyView=function(Q){var Y=this,n=(Y._view=dn(1,Y),Y._canvas=Wn(Y._view),Dn(Y._view,Y._79O=Kn()),Y._rows=new W,Y._28o=new W,Y._26o={},Y._26Q={},Y._propertyModel=new hQ),R=Y.ivm;n.mm(R,Y),n.md(R,Y),n.mh(R,Y),Y.dm(Q||new hQ),new Lu(Y)},Y("PropertyView",m,{ms_ac:[mR,qR,tR,FV,vV,"categorizable",uV,MV,VV,zV,pV,ZV,eV,LV,"selectRowIndex",h3,"background",XV,lV,GV,oV,xV],ms_v:1,ms_dm:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,_45o:1,_47o:1,ms_tip:1,_29I:cd,_59I:0,_9I:0,_selectRowIndex:-1,_editable:!0,_batchEditable:!0,_categorizable:!0,_indent:N2,_background:z3.propertyViewBackground,_expandIcon:z3.propertyViewExpandIcon,_collapseIcon:z3.propertyViewCollapseIcon,_scrollBarColor:mB,_scrollBarSize:G,_autoHideScrollBar:A2,_selectBackground:z3.propertyViewSelectBackground,_rowHeight:tB,_rowLineVisible:z3.propertyViewRowLineVisible,_rowLineColor:z3.propertyViewRowLineColor,_10I:.5,_columnLineVisible:z3.propertyViewColumnLineVisible,_columnLineColor:z3.propertyViewColumnLineColor,_labelColor:z3.propertyViewLabelColor,_labelSelectColor:z3.propertyViewLabelSelectColor,_labelFont:z3.propertyViewLabelFont,getRows:function(){return this._rows},getColumnPosition:function(){return this._10I},setColumnPosition:function(Q){var Y=this._10I;this._10I=Q=1<(Q=Q<0?0:Q)?1:Q,this.fp("columnPosition",Y,Q)},getPropertyName:function(Q){return Q.toLabel()},getLabelFont:function(Q,Y,n){return this._labelFont},getLabelColor:function(Q,Y,n){return n===this._selectRowIndex?this._labelSelectColor:this._labelColor},getPropertyFont:function(Q,Y){return this._labelFont},getPropertyColor:function(Q,Y){return Y===this._selectRowIndex?this._labelSelectColor:Q.getColor()||this._labelColor},getCategoryFont:function(Q){return this._labelFont},getCategoryColor:function(Q){return this._labelColor},adjustTranslateX:function(Q){return 0},adjustTranslateY:function(Q){var Y=this.getHeight()-this._59I;return 0<(Q=Q<Y?Y:Q)?0:i3(Q)},isExpanded:function(Q){if(!Q)return!0;var Y=this._26o[Q];return Y?Y.isExpanded:!(!1===this._26Q[Q])},toggle:function(Q){this.isExpanded(Q)?this.collapse(Q):this.expand(Q)},expandAll:function(){for(var Q in this.validate(),this._26o)this.expand(Q)},expand:function(Q){var Y;Q&&Q!==VR&&(Y=this._26o[Q])&&!Y.isExpanded&&(Y.isExpanded=!0,this.onExpanded(Q),this.ivm())},onExpanded:function(Q){},collapseAll:function(){for(var Q in this.validate(),this._26o)this.collapse(Q)},collapse:function(Q){var Y;Q&&Q!==VR&&(Y=this._26o[Q])&&Y.isExpanded&&(Y.isExpanded=!1,this.onCollapsed(Q),this.ivm())},onCollapsed:function(Q){},getCategoryName:function(Q){return this.isCategorizable()&&(Q=Q.getCategoryName())||VR},getPropertyModel:function(){return this._propertyModel},handleSelectionChange:function(){this.ivm()},setDataModel:function(Q){var Y=this,n=Y._dataModel;n!==Q&&(n&&(n.umd(Y.handlePropertyChange,Y),Y._selectionModel||n.sm().ums(Y.handleSelectionChange,Y)),(Y._dataModel=Q).md(Y.handlePropertyChange,Y),Y._selectionModel?Y._selectionModel._21I(Q):Q.sm().ms(Y.handleSelectionChange,Y),Y.fp(_V,n,Q))},isVisible:function(Q){return!this._visibleFunc||this._visibleFunc(Q)},onPropertyChanged:function(Q){Q=Q.property,c$[Q]?this.ivm():this.iv(),Q===EV&&this._43o()},getCurrentData:function(){return this._27o},updateCurrentData:function(){this._27o=this.sm().ld()},getRawProperties:function(){return this._27o?this._propertyModel._roots:jQ},handlePropertyChange:function(Q){this._27o===Q.data&&this.iv()},ivm:function(){this.invalidateModel()},invalidateModel:function(){this._96I||(this.setSelectRowIndex(-1),this._96I=1,this.iv())},redraw:function(){this.iv()},validateModel:function(){var Q,R=this,g=R._rows,Y=R._28o,B={},L=new W,n=R._27o;for(Q in R.updateCurrentData(),n!==R._27o&&R.endEditing(),g.clear(),Y.clear(),R.getRawProperties().each(function(Q){R.isVisible(Q)&&(L.add(Q),Q=R.getCategoryName(Q),B[Q]||(Y.add(Q,Q===VR?0:l3),B[Q]={isExpanded:R.isExpanded(Q),properties:new W}))}),R._sortFunc&&L.sort(R._sortFunc),R._26o)R._26Q[Q]=R.isExpanded(Q);R._26o=B,Y.each(function(Y){Y!==VR&&g.add(Y);var n=B[Y];n.isExpanded&&L.each(function(Q){R.getCategoryName(Q)===Y&&(n.properties.add(Q),g.add({property:Q,data:R._27o}))},R)})},validateImpl:function(){var Q=this,Y=(Q._76o(),Q._96I&&(Q.validateModel(),delete Q._96I),Q._canvas),n=Q.getWidth(),R=Q.getHeight(),g=-Q.ty(),B=Q._rowHeight,L=Q._indent,Z=n-L,e=Q._rows,u=e.size(),X=Q._9I=L+Z*Q._10I,x=Q._59I=u*B,G=(yn(Y,n,R),Q._29I={x:0,y:g,width:n,height:R},Q._31I=T3(g/B),Q._14I=E3((g+R)/B),Q._31I<0&&(Q._31I=0),Q._14I>u&&(Q._14I=u),uT(Y)),o=Q._background;XT(G,0,-g,1),G.beginPath(),G.rect(0,g,n,R),G.clip(),G.clearRect(0,g,n,R),Q._93db(G),o&&RB(G,0,0,L,x,o);for(var l=Q._31I;l<Q._14I;l++){var V,z,p,$,M=e.get(l),g=B*l;$3(M)?(o&&RB(G,L,g,Z,B,o),(z=t(Q.isExpanded(M)?Q._expandIcon:Q._collapseIcon))&&c2(G,z,tV,0,g,L,B),G.save(),G.beginPath(),G.rect(L,g,Z,B),G.clip(),Q.drawCategoryName(G,M,l,L,g,Z,B),G.restore()):(V=M.property,M=M.data,z=t(V.getIcon()),p=Q._selectRowIndex===l?Q.getSelectBackground():V3,z&&c2(G,z,tV,0,g,L,B),p&&RB(G,L,g,Z,B,p),G.save(),G.beginPath(),G.rect(L,g,X-L,B),G.clip(),Q.drawPropertyName(G,V,l,L,g,X-L,B),G.restore(),Q.isEditing(M,V)||(p=X+1,$=n-X-1,G.save(),G.beginPath(),G.rect(p,g,$,B),G.clip(),Q._87o(Q.drawPropertyValue(G,V,Q.getValue(M,V),l,p,g,$,B,M),l,p,g,$,B),G.restore())),Q._rowLineVisible&&RB(G,L,g+B-1,Z,1,Q._rowLineColor)}Q._columnLineVisible&&(RB(G,X,0,1,x,Q._columnLineColor),RB(G,n-1,0,1,x)),Q._92db(G),Q._93I(),G.restore(),Q.ty(Q.ty())},drawCategoryName:function(Q,Y,n,R,g,B,L){Bg(Q,Y,this.getCategoryFont(Y),this.getCategoryColor(Y),R,g,B,L)},drawPropertyName:function(Q,Y,n,R,g,B,L){Y.drawPropertyName?Y.drawPropertyName(Q,Y,n,R,g,B,L,this):Bg(Q,this.getPropertyName(Y),this.getPropertyFont(Y,n),this.getPropertyColor(Y,n),R,g,B,L)},drawPropertyValue:function(Q,Y,n,R,g,B,L,Z,e){if(Y.drawPropertyValue)return Y.drawPropertyValue(Q,Y,n,R,g,B,L,Z,e,this);y$(Q,n,Y,this.getLabelFont(Y,n,R),this.getLabelColor(Y,n,R),g,B,L,Z,e,this)},isPropertyEditable:function(Q,Y){return Q.isEditable()&&this.isEditable()},setProperties:function(Q){this._propertyModel.clear(),this.addProperties(Q)},addProperties:function(Q){var n;Q&&(n=this._propertyModel,Q.forEach(function(Q){var Y;Q instanceof Ru||(Y=Yg(Q.className),Q=q2(Y||Ru,Q)),n.add(Q)}))},getRowIndexAt:function(Q){return 0<=(Q=T3(this.lp(Q).y/this._rowHeight))&&Q<this._rows.size()?Q:-1},getPropertyAt:function(Q){return 0<=(Q=this.getRowIndexAt(Q))?this._rows.get(Q).property:V3},getToolTip:function(Q){var Y=this.getPropertyAt(Q),n=this._27o;return Y&&n?Y.getToolTip(n,this._9I<this.lp(Q).x,this):V3}}),function(Q){this.pv=Q,this.addListeners()}),Zu=(Og(Lu,m,{ms_listener:1,getView:function(){return this.pv._view},setCursor:function(Q){this.getView().style.cursor=Q},clear:function(){this._62O=this.cp=this.ty=this.p=V3,this.setCursor(QR)},handle_mousedown:function(Q){this.handle_touchstart(Q)},handle_touchstart:function(Q){var Y=this.pv;d2(Q),Y.setFocus(Q)&&(Zg(Q)?(this.cp=lg(Q),this.ty=Y.ty(),this.p=Y.getColumnPosition(),this.handle_touchmove(Q)):Y.setSelectRowIndex(Y.getRowIndexAt(Q)))},handleWindowMouseUp:function(Q){this.clear()},handleWindowTouchEnd:function(Q){this.clear()},handle_mouseup:function(Q){this.handle_touchend(Q)},handle_touchend:function(Q){var Y,n,R,g,B,L,Z,e,u,X;this.cp&&!this._62O&&(u=(e=(Y=this.pv).lp(Q)).x,e=e.y,Z=Y._indent,n=Y.getRowIndexAt(Q),R=Y._9I,0<=n&&(X=(g=Y._rowHeight)*n,L=(B=Y._rows.get(n)).property,$3(B)?(t(Y.isExpanded(B)?Y._expandIcon:Y._collapseIcon)&&0<=u&&u<=Z&&X<=e&&e<=X+g||xg(Q))&&Y.toggle(B):R<u&&Y.isPropertyEditable(L,Q)&&(e={x:(Z={x:R+1,y:X,width:Y.getWidth()-R-1,height:g}).x+Y.tx(),y:Z.y+Y.ty(),width:Z.width,height:Z.height},u=0,X=Y._29I,Z.y<X.y?u=Z.y-X.y:Z.y+g>X.y+X.height&&(u=Z.y+g-X.y-X.height),u&&(Y.ty(Y.ty()-u),e.y-=u),Y.beginEditing({data:B.data,property:L,value:Y.getValue(B.data,L),event:Q,rect:Z,editorRect:e,view:Y}))),Y.setSelectRowIndex(n)),this.clear()},handleWindowMouseMove:function(Q){this.handleWindowTouchMove(Q)},handleWindowTouchMove:function(Q){var Y,n,R=this.pv,g=this.ty,B=this.cp,Q=lg(Q),L=this._62O;"p"===L?R.setTranslateY(g+Q.y-B.y):"c"===L?16<(n=R.getWidth()-R._indent)&&(Y=this.p-(B.x-Q.x)/n,R.setColumnPosition(Y=1-(n=16/n)<(Y=Y<n?n:Y)?1-n:Y)):"s"===L&&R.setTranslateY(g+(B.y-Q.y)*R._59I/R._29I.height)},handle_mousemove:function(Q){this.handle_touchmove(Q)},handle_touchmove:function(Q){var Y,n,R;!vT&&Zg(Q)&&(n=(Y=this).pv,R=b3(n.lp(Q).x-n._9I)<=(f3?8:3),Y.cp?Y._62O||(R?(Y._62O="c",ig(Y,Q)):2<=b3(lg(Q).y-Y.cp.y)&&(Y._62O=Y.isV(Q)?"s":"p",ig(Y,Q))):(R?Y.setCursor(DV):Y.setCursor(QR),Y.isV(Q)&&n._43o()))},isV:function(Q){var Y=this.pv,n=Y._29I;return Y._41o()&&n.x+n.width-Y.lp(Q).x<r2},handle_mousewheel:function(Q){this.handleScroll(Q,Q.wheelDelta/40)},handle_DOMMouseScroll:function(Q){2===Q.axis&&this.handleScroll(Q,-Q.detail)},handleScroll:function(Q,Y){var n=this.pv;d2(Q),n.endEditing(),n.translate(0,Y*n.getRowHeight())},handle_keydown:function(Q){var Y=this.pv,n=Y._rows.size(),R=Y._selectRowIndex+(UT(Q)?-1:1);(UT(Q)||wT(Q))&&Y.setSelectRowIndex(R=n<=(R=R<0?0:R)?n-1:R)}}),Qu.ListView=function(Q){this._5o(Q),new Zu(this)},Y("ListView",m,{ms_ac:[mR,qR,tR,XV,uV,lV,GV,MV,VV,ZV,eV,LV,BV,h3],ms_v:1,ms_bnb:1,ms_tip:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,_14Q:1,ms_dm:1,_45o:1,_checkMode:!1,_indent:N2,_rowHeight:tB,_rowLineVisible:z3.listViewRowLineVisible,_rowLineColor:z3.listViewRowLineColor,_scrollBarColor:mB,_scrollBarSize:G,_autoMakeVisible:KB,_autoHideScrollBar:A2,_selectBackground:z3.listViewSelectBackground,_labelColor:z3.listViewLabelColor,_labelSelectColor:z3.listViewLabelSelectColor,_labelFont:z3.listViewLabelFont,isCheckMode:function(){return this._checkMode},setCheckMode:function(Q){var Y=this._checkMode;this._checkMode=Q,this.fp($V,Y,Q)},drawRow:function(Q,Y,n,R,g,B,L){var Z=0,e=this._indent,u=this.getIconWidth(Y);this.drawRowBackground(Q,Y,n,R,g,B,L),this._checkMode&&(W2(Q,t(this.getCheckIcon(Y)),Z+e/2,g+L/2,Y,this),Z+=e),this.drawIcon(Q,Y,Z,g,u,L),this.drawLabel(Q,Y,Z+u,g,L)}}),function(Q){this.list=Q,this.addListeners()}),eu=(Og(Zu,m,{ms_listener:1,getView:function(){return this.list._view},clear:function(Q){var Y=this,n=Y.list;Q&&"d"===Y._62O&&!Y.dragCancel&&n.handleDragAndDrop(Q,"end"),n.draggingData&&(n.draggingData=null,n.redraw()),Y.dragCancel=Y._62O=Y._isV=Y._isH=Y.cp=Y.tx=Y.ty=V3},handle_mousedown:function(Q){this.handle_touchstart(Q)},handle_touchstart:function(Q){var Y,n=this.list;d2(Q),n.setFocus(Q)&&(Y=n.getDataAt(Q),this.cp=lg(Q),this.tx=n.tx(),this.ty=n.ty(),Zg(Q)?Y&&n.handleDragAndDrop&&!this.isV(Q)&&!this.isH(Q)&&n.isDraggable(Y)&&(n.draggingData=Y,n.redraw(),n.handleDragAndDrop(Q,"prepare")):(Y?this._33o(Q,Y):this._cancelDataDoubleSelect(),this.clear(Q)))},handleWindowMouseUp:function(Q){this.clear(Q)},handleWindowTouchEnd:function(Q){this.clear(Q)},handle_mouseup:function(Q){this.handle_touchend(Q)},handle_touchend:function(Q){var Y,n=this.list;this._isV||this._isH||!this.cp||this._62O||((Y=n.getDataAt(Q))?(n.isCheckMode()?this._34o(Q,Y):this._33o(Q,Y),xg(Q)?n.onDataDoubleClicked(Y,Q):n.onDataClicked(Y,Q)):(this._cancelDataDoubleSelect(),n.handleBackgroundClick(Q))),this.clear(Q)},handleWindowMouseMove:function(Q){this.handleWindowTouchMove(Q)},handleWindowTouchMove:function(Q){var Y=this.list,n=this._62O,R=this.tx,g=this.ty,B=this.cp,L=lg(Q),Z=Y._29I;"p"===n?Y.setTranslate(R+L.x-B.x,g+L.y-B.y):"v"===n?Y.ty(g+(B.y-L.y)*Y._59I/Z.height):"h"===n?Y.tx(R+(B.x-L.x)*Y._91I/Z.width):"d"!==n||this.dragCancel||Y.handleDragAndDrop(Q,"between")},handle_mousemove:function(Q){this.handle_touchmove(Q)},handle_touchmove:function(Q){var Y,n;!vT&&Zg(Q)&&(n=(Y=this).list,Y._isV=Y.isV(Q),Y._isH=Y.isH(Q),Y.cp?Y._62O||zg(lg(Q),Y.cp)<2||(Y._isV?Y._62O="v":Y._isH?Y._62O="h":n.draggingData&&!this.dragCancel?(Y._62O="d",n.handleDragAndDrop(Q,"begin")):Y._62O="p",Y._62O&&"d"!==Y._62O&&n.draggingData&&(n.draggingData=null,n.redraw()),ig(Y,Q)):(Y._isV&&n._43o(),Y._isH&&n._42o()))},isV:function(Q){var Y=this.list,n=Y._29I;return Y._41o()&&n.x+n.width-Y.lp(Q).x<r2},isH:function(Q){var Y=this.list,n=Y._29I;return Y._40o()&&n.y+n.height-Y.lp(Q).y<r2},handle_mousewheel:function(Q){this.handleScroll(Q,Q.wheelDelta/40,Q.wheelDelta!==Q.wheelDeltaX)},handle_DOMMouseScroll:function(Q){this.handleScroll(Q,-Q.detail,1)},handleScroll:function(Q,Y,n){var R=this.list;d2(Q),R.endEditing&&R.endEditing(),n&&R._41o()?R.translate(0,Y*R.getRowHeight()):R._40o()&&R.translate(10*Y,0)},handle_keydown:function(Q){var Y,n,R,g,B,L,Z;z3.isInput(Q.target)||(n=(Y=this.list).sm(),g=(R=Y._rows).size(),TT(Q)?Y.selectAll():ET(Q)?Y.handleDelete&&Y.handleDelete(Q):HT(Q)?"d"!==this._62O||this.dragCancel||(Y.handleDragAndDrop(Q,"cancel"),this.dragCancel=!0):jT(Q)?Y.isCheckMode()&&(Z=Y.getFocusData())&&Y.checkData(Z):(UT(Q)||wT(Q))&&((Z=(B=Y.isCheckMode())?Y.getFocusData():n.ld())?0<=(L=Y.getRowIndex(Z))&&(UT(Q)?0!==L&&(Z=R.get(L-1),B?Y.setFocusData(Z):n.ss(Z)):L!==g-1&&(Z=R.get(L+1),B?Y.setFocusData(Z):n.ss(Z))):0<g&&(Z=R.get(0),B?Y.setFocusData(Z):n.ss(Z))))},_34o:function(Q,Y){var n=this.list;0<=(Q=n.lp(Q).x)&&Q<=n._indent?n.checkData(Y):n.setFocusData(Y)},_33o:function(Q,Y){var n=this.list,R=n.dm(),g=n.sm(),B=g.ld();if(n.canHandleSelectMode(Q,Y)){if(R.beginTransaction(),og(Q))n.isSelected(Y)?g.rs(Y):g.as(Y);else if(Gg(Q))if(B)for(var L=n.getRowIndex(B),Z=n.getRowIndex(Y);L!==Z;)g.as(n._rows.get(L+=L<Z?1:-1));else g.ss(Y);else Zg(Q)?(g.contains(Y)?n.handleDataDoubleSelect&&(this._handleDataDoubleSelect(Q,Y),xg(Q)&&this._cancelDataDoubleSelect()):this._cancelDataDoubleSelect(),g.ss(Y)):g.contains(Y)||g.ss(Y);R.endTransaction()}else this._cancelDataDoubleSelect()},_handleDataDoubleSelect:function(Q,Y){this._cancelDataDoubleSelect(),this._doubleSelectTimer=m3(function(){this.list.handleDataDoubleSelect(Q,Y),this._doubleSelectTimer=l3}.bind(this),z3.doubleClickSpeed)},_cancelDataDoubleSelect:function(){this._doubleSelectTimer&&(q3(this._doubleSelectTimer),this._doubleSelectTimer=l3)}}),Qu.TreeView=function(Q){this._35o(),this._5o(Q),new eu(this)},Y("TreeView",m,{ms_ac:[mR,qR,tR,"rootVisible",$V,"rootData",MV,VV,ZV,eV,LV,uV,XV,lV,GV,zV,pV,BV,h3,"loader","doubleClickToToggle"],ms_v:1,ms_bnb:1,ms_tip:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,ms_dm:1,_48o:1,_14Q:1,_45o:1,_checkMode:V3,_indent:N2,_rowHeight:tB,_rowLineVisible:z3.treeViewRowLineVisible,_rowLineColor:z3.treeViewRowLineColor,_scrollBarColor:mB,_scrollBarSize:G,_autoHideScrollBar:A2,_expandIcon:z3.treeViewExpandIcon,_collapseIcon:z3.treeViewCollapseIcon,_autoMakeVisible:KB,_selectBackground:z3.treeViewSelectBackground,_labelColor:z3.treeViewLabelColor,_labelSelectColor:z3.treeViewLabelSelectColor,_labelFont:z3.treeViewLabelFont,_doubleClickToToggle:z3.treeViewDoubleClickToToggle,drawRow:function(Q,Y,n,R,g,B,L){this.drawRowBackground(Q,Y,n,R,g,B,L),this.drawTree(Q,Y,n,0,g,B,L)},isOnToggleIcon:function(Q){var Y=this.getDataAt(Q);if(Y){var n=this.getIndent(),Q=this.lp(Q).x;if(t(this.getToggleIcon(Y))&&(Y=n*this.getLevel(Y))<=Q&&Q<=Y+n)return!0}return!1}}),function(Q){En(eu,this,[Q])}),uu=(Og(eu,Zu,{toggle:function(Q,Y,n,R){var g=this.list,B=g.lp(Q).x;return t(g.getToggleIcon(Y))&&(R*=n)<=B&&B<=R+n?(g.toggle(Y),!0):!(!g.isDoubleClickToToggle()||!xg(Q)||(g.toggle(Y),0))},_34o:function(Q,Y){var n=this.list,R=n.lp(Q).x,g=n._levelMap[Y._id],B=n._indent,L=B*(g+1);L<=R&&R<=L+B?n.checkData(Y):this.toggle(Q,Y,B,g)||n.setFocusData(Y)},_33o:function(Q,Y){var n=this.list;if(!this.toggle(Q,Y,n._indent,n.getLevel(Y)))if(Gg(Q)){var R=n.dm(),g=(R.beginTransaction(),n.sm());if(0<g.size()){for(var B=n._rows,L=null,Z=0,e=B.size();Z<e;Z++)if(n.isSelected(B.get(Z))){L=Z;break}for(var u=null,Z=B.size()-1;0<=Z;Z--)if(n.isSelected(B.get(Z))){u=Z;break}for(var X,x=n.getRowIndex(Y),G=x<L?(X=x-1,L):u<x?(X=u,x):(X=L,u);X!==G;)g.as(n._rows.get(++X))}else g.ss(Y);R.endTransaction()}else eu.superClass._33o.call(this,Q,Y)},handle_keydown:function(Q){var Y,n,R,g,B;NT(Q)||CT(Q)?(n=(Y=this.list)._rows,R=Y.isCheckMode(),g=Y.sm(),(B=R?Y.getFocusData():g.ld())?B.hasChildren()&&(NT(Q)?Y.collapse(B):Y.expand(B)):0<n.size()&&(B=n.get(0),R?Y.setFocusData(B):g.ss(B))):eu.superClass.handle_keydown.call(this,Q)}}),Qu.TableView=function(Q){this._98I(),this._5o(Q),new Xu(this)}),Xu=(Y("TableView",m,{ms_ac:[mR,qR,tR,"sortMode",FV,vV,XV,lV,GV,oV,xV,"sortColumn",MV,VV,ZV,eV,LV,BV,h3],ms_v:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,ms_dm:1,ms_tip:1,_50o:1,_45o:1,_47o:1,_sortMode:aV,_editable:!0,_batchEditable:!1,_rowHeight:tB,_rowLineVisible:z3.tableViewRowLineVisible,_rowLineColor:z3.tableViewRowLineColor,_columnLineVisible:z3.tableViewColumnLineVisible,_columnLineColor:z3.tableViewColumnLineColor,_scrollBarColor:mB,_scrollBarSize:G,_autoHideScrollBar:A2,_autoMakeVisible:KB,_selectBackground:z3.tableViewSelectBackground,_labelColor:z3.tableViewLabelColor,_labelSelectColor:z3.tableViewLabelSelectColor,_labelFont:z3.tableViewLabelFont,getCheckColumn:function(){var Q;return this._31o||((Q=this._31o=new nu).setEditable(!0),Q.setWidth(40),Q.getValue=this.getCheckColumValue,Q.drawCell=this.drawCheckColumnCell),this._31o},isCheckMode:function(){return this._39o.contains(this._31o)},setCheckMode:function(Q){var Y=this._39o,n=this.getCheckColumn();Q!==this.isCheckMode()&&(Q?Y.add(n,0):Y.remove(n),this.fp($V,!Q,Q))},getCheckColumValue:function(Q,Y,n){return n.isSelected(Q)},drawCheckColumnCell:function(Q,Y,n,R,g,B,L,Z,e){W2(Q,e.getCheckIcon(Y),g+L/2,B+Z/2,Y,e)}}),function(Q){En(Xu,this,[Q])}),xu=(Og(Xu,Zu,{_34o:function(Q,Y){var n=this.list,R=n._31o;if(n.isCellEditable(Y,R,Q)){var g=n._3Q(R),B=n.lp(Q).x;if(g&&B>=g.startX&&B<g.startX+R.getWidth())return void n.checkData(Y)}n._37O(Y,Q),n.setFocusData(Y)},_33o:function(Q,Y){this.list._37O(Y,Q),Xu.superClass._33o.apply(this,arguments)}}),Qu.TreeTableView=function(Q){var Y=this._4o=new nu;this._35o(),this._98I(),this._5o(Q),Y.setDisplayName("Name"),Y.setEditable(!0),Y.setWidth(180),Y.drawCell=Gu,Y.getValue=ou,this._39o.add(Y),new lu(this)}),Gu=function(Q,Y,n,R,g,B,L,Z,e){e.drawTree(Q,Y,n,g,B,L,Z)},ou=function(Q,Y,n){return n.getLabel(Q)},lu=(Y("TreeTableView",m,{ms_ac:[mR,qR,tR,"sortMode",FV,vV,uV,$V,"rootData","rootVisible",MV,VV,"sortColumn",zV,pV,ZV,eV,LV,BV,GV,XV,lV,oV,xV,h3,"loader"],ms_v:1,ms_bnb:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,ms_dm:1,ms_tip:1,_50o:1,_48o:1,_14Q:1,_45o:1,_47o:1,_sortMode:aV,_checkMode:V3,_editable:!0,_batchEditable:!1,_indent:N2,_rowHeight:tB,_rowLineVisible:z3.treeTableViewRowLineVisible,_rowLineColor:z3.treeTableViewRowLineColor,_columnLineVisible:z3.treeTableViewColumnLineVisible,_columnLineColor:z3.treeTableViewColumnLineColor,_expandIcon:z3.treeTableViewExpandIcon,_collapseIcon:z3.treeTableViewCollapseIcon,_scrollBarColor:mB,_scrollBarSize:G,_autoHideScrollBar:A2,_autoMakeVisible:KB,_selectBackground:z3.treeTableViewSelectBackground,_labelColor:z3.treeTableViewLabelColor,_labelSelectColor:z3.treeTableViewLabelSelectColor,_labelFont:z3.treeTableViewLabelFont,getTreeColumn:function(){return this._4o}}),function(Q){En(lu,this,[Q])}),Vu=(Og(lu,Zu,{_34o:function(Q,Y){var n=this.list,R=n._4o,g=n._3Q(R),B=n.lp(Q).x;if(g){var L=n._indent,g=g.startX+L*n.getLevel(Y);if(t(n.getToggleIcon(Y))&&g<=B&&B<=g+L)return void n.toggle(Y);if(n.isCellEditable(Y,R)&&(g+=L)<=B&&B<=g+L)return void n.checkData(Y)}n._37O(Y,Q),n.setFocusData(Y)},_33o:function(Q,Y){var n=this.list,R=n.lp(Q).x;if(t(n.getToggleIcon(Y))&&(g=n._3Q(n._4o))){var g,B=n._indent;if((g=g.startX+B*n.getLevel(Y))<=R&&R<=g+B)return void n.toggle(Y)}n._37O(Y,Q),lu.superClass._33o.apply(this,arguments)}}),Qu.TableHeader=function(Q){var Y=this,n=Y._view=dn(1,Y),R=Y._39o=Q.getColumnModel(),g=Y.iv;Y.tv=Y._tableView=Q,Y._60I=new W,Y._canvas=Wn(n),n.style.background=z3.tableHeaderBackground||"",n.style.height=U2+zR,R.mm(g,Y),R.md(g,Y),R.mh(g,Y),Q.mp(function(Q){q$[Q.property]&&Y.iv()},Y),new zu(Y),Y.iv()}),zu=(Y("TableHeader",m,{ms_v:1,ms_lp:1,ms_fire:1,ms_ac:["checkIcon","sortDescIcon","sortAscIcon",mR,tR,uV,"moveBackground","insertColor",oV,xV,"resizable","movable"],_checkIcon:bR,_movable:!0,_resizable:!0,_labelColor:z3.tableHeaderLabelColor,_labelFont:z3.tableHeaderLabelFont,_columnLineColor:z3.tableHeaderColumnLineColor,_columnLineVisible:z3.tableHeaderColumnLineVisible,_sortDescIcon:z3.tableHeaderSortDescIcon,_sortAscIcon:z3.tableHeaderSortAscIcon,_moveBackground:z3.tableHeaderMoveBackground,_insertColor:z3.tableHeaderInsertColor,_indent:N2,getCheckIcon:function(){return this._checkIcon},getTableView:function(){return this.tv},getLabel:function(Q){return Q.toLabel()},getLabelFont:function(Q){return this._labelFont},getLabelColor:function(Q){return Q.getColor()||this._labelColor},getLabelAlign:function(Q){return Q._align},onPropertyChanged:function(Q){this.iv()},_5Q:function(Q){this._61I=Q,this.iv()},getLogicalPoint:function(Q){return Ag(Q,this._canvas,this.tv.tx())},validateImpl:function(){var Q,R=this,Y=R._canvas,n=R.getWidth(),g=R.getHeight(),B=R.tv,L=R._60I,Z=R._61I,e=-B.tx(),u=0,X=(n===Y.clientWidth&&g===Y.clientHeight||yn(Y,n,g),L.clear(),R._39o._roots.each(function(Q){var Y;Q.isVisible()&&(Y=u+Q.getWidth(),u<=e+n&&e<=Y&&L.add({column:Q,startX:u}),u=Y)}),uT(Y));XT(X,-e,0,1),X.beginPath(),X.rect(e,0,n,g),X.clip(),X.clearRect(e,0,n,g),L.each(function(Q){var Y=Q.column,Q=Q.startX,n=Y.getWidth();0<n&&(X.save(),X.beginPath(),X.rect(Q,0,n,g),X.clip(),Z&&Z.column===Y||R.drawColumn(X,Y,Q,0,n,g),R._columnLineVisible&&RB(X,Q+n-1,0,1,g,R._columnLineColor),X.restore())}),Z&&(B=Z.column,u=Z.startX,Y=Z.position,Q=B.getWidth(),X.save(),X.beginPath(),X.rect(u,0,Q,g),X.clip(),X.fillStyle=R._moveBackground,X.fill(),R.drawColumn(X,B,u,0,Q,g),X.restore(),Hn(X,R._insertColor,Y,0,g)),X.restore()},_6Q:function(Q){var Y=this.tv;return Y._31o===Q&&Y.sm().getSelectionMode()===nR},drawColumn:function(Q,Y,n,R,g,B){var L,Z,e,u,X,x=this,G=x.tv,o=t(Y.getIcon()),l=x.getLabelAlign(Y);x._6Q(Y)?(X=t(x._checkIcon),W2(Q,X,n+g/2,R+B/2,Y,x)):(X=x.getLabel(Y),L=x.getLabelFont(Y),Z=x.getLabelColor(Y),e=Lg(L,X).width,u=o?x._indent:0,l===BR?(o&&c2(Q,o,tV,n,R,u,B),Bg(Q,X,L,Z,n+u,R,g,B,BR)):l===LR?(o&&c2(Q,o,tV,n+g-e-u,R,u,B),Bg(Q,X,L,Z,n,R,g,B,LR)):(o&&c2(Q,o,tV,n+(g-e-u)/2,R,u,B),Bg(Q,X,L,Z,n+(g-e+u)/2,R,0,B,BR))),Y.isSortable()&&G.getSortColumn()===Y&&(o=t(Y.getSortOrder()===JV?x._sortAscIcon:x._sortDescIcon))&&(X=vQ(o,Y)/2+2,W2(Q,o,l===LR?n+X:n+g-X,R+B/2,Y,G))},isColumnMovable:function(Q){return!0},canColumnInsertBefore:function(Q){return!0}}),function(Q){this.th=Q,this.tv=Q._tableView,this.addListeners()}),pu=(Og(zu,m,{ms_listener:1,getView:function(){return this.th.getView()},setCursor:function(Q){this.getView().style.cursor=Q},handle_mousemove:function(Q){if(!vT){delete this._29o,this.setCursor(QR);for(var Y=this.th,n=Y._60I,R=Y.lp(Q).x,g=n.size()-1;0<=g;g--){var B=n.get(g),L=B.column,Z=B.startX+L.getWidth();if(Y.isResizable()&&b3(Z-R)<=(f3?10:3))return this._29o=B,void this.setCursor(DV);R>B.startX&&R<Z&&(this._29o=B),(L.isClickable()||L.isSortable()||Y.isMovable()&&Y.isColumnMovable(L)||this.tv.getCheckColumn&&L===this.tv.getCheckColumn())&&R>B.startX&&R<Z&&this.setCursor(Qd)}}},handle_mousedown:function(Q){this.handle_touchstart(Q)},handle_touchstart:function(Q){d2(Q),this.tv.endEditing(),this.handle_mousemove(Q),this._29o&&(this.x=lg(Q).x,this.lx=this.th.lp(Q).x,this.w=this._29o.column.getWidth(),ig(this,Q))},handleWindowMouseMove:function(Q){this.handleWindowTouchMove(Q)},handleWindowTouchMove:function(Q){var R,Y=this,g=Y.th,n=Y.getView().style.cursor,B=Y._29o,L=lg(Q).x-Y.x;Y.resizing||Y.moving||(n===DV?Y.resizing=1:g.isMovable()&&n===Qd&&2<b3(L)&&(Y.moving=1)),Y.resizing?B.column.setWidth(Y.w+L):Y.moving&&(R=Y.lx+L,g._60I.each(function(Q){var Y=Q.startX,n=Y+Q.column.getWidth();Y<=R&&R<=n&&((Q={column:B.column,startX:B.startX+L,front:g.canColumnInsertBefore(Q.column)&&R-Y<n-R,insertColumn:Q.column}).front?Q.position=Y:Q.position=n,g._5Q(Q))}))},_16Q:function(Q,Y){var n=this.tv,R=this.th,g=R._checkIcon;if(R._6Q(Q)){var B=t(g),L=this.lx,Z=Q.getWidth();if(Y+Z/2-(B=vQ(B,Q))<=L&&L<=Y+Z/2+B)return R.setCheckIcon(g===_R?bR:_R),L=n.sm(),Y=n._rows,g===_R?L.rs(Y):L.ss(Y),n.onCheckColumnClicked(Q),!0}return!1},handleWindowMouseUp:function(Q){this.handleWindowTouchEnd(Q)},handleWindowTouchEnd:function(Q){var Y,n,R,g,B,L=this,Z=L.tv,e=L.th,u=L._29o;L.moving?((n=e._61I)&&n.insertColumn!==n.column&&(Y=n.column,g=(R=Z.getColumnModel()._roots).remove(Y),0<=(B=R.indexOf(n.insertColumn))&&(n.front||B++,B<=R.size()&&(R.add(Y,B),Z.getColumnModel()._38I(Y,g,B)))),e._5Q(V3),delete L.moving):!L.resizing&&u&&(Y=u.column,n=e.lp(Q).x,R=u.startX,g=!0,(g=(!e.onColumnClicked||!1!==e.onColumnClicked(Y,Q,R))&&g)&&R<=n&&n<=R+Y.getWidth()&&(L._16Q(Y,R)||(Y.isSortable()&&(B=Z.getSortMode(),u=Y.getSortOrder(),B===aV?Z.getSortColumn()===Y?(u===IV&&Z.setSortColumn(V3),Y.setSortOrder(u===JV?IV:JV)):Z.setSortColumn(Y):"bistate"===B&&(Z.getSortColumn()===Y?Y.setSortOrder(u===JV?IV:JV):Z.setSortColumn(Y))),Z.onColumnClicked(Y,Q,R)))),L._29o=L.resizing=L.x=L.lx=L.w=V3}}),Qu.TablePane=function(Q){this.init(new uu(Q))},Y("TablePane",m,{ms_v:1,ms_fire:1,_44o:1}),Qu.TreeTablePane=function(Q){this.init(new xu(Q))},Y("TreeTablePane",m,{ms_v:1,_44o:1}),Qu.Toolbar=function(Q){var R=this,Y=R._view=dn(1,R),n=Y.style;n.background=z3.toolbarBackground||"",n.height=C2+zR,R._canvas=Wn(Y),R._30o=new W,R._90I=new W,R.setItems(Q||[]),Y.handleGroupSelectedChanged=function(Y){var n;Y.isSelected()&&null!=(n=Y.getGroupId())&&R._items.forEach(function(Q){(Q=Q.element)&&Q!==Y&&Q.setSelected&&Q.getGroupId&&Q.getGroupId()===n&&Q.setSelected(!1)})},new pu(R)},Y("Toolbar",m,{ms_v:1,ms_fire:1,ms_tx:1,ms_lp:1,ms_tip:1,ms_value:1,ms_ac:[JR,mR,tR,qR,h3,"itemGap","separatorColor","currentItem","stickToRight"],_labelColor:z3.toolbarLabelColor,_labelSelectColor:z3.toolbarLabelSelectColor,_labelFont:z3.toolbarLabelFont,_selectBackground:z3.toolbarSelectBackground,_itemGap:z3.toolbarItemGap,_separatorColor:z3.toolbarSeparatorColor,_stickToRight:!1,getSumWidth:function(Q){return this._64I},getToolTip:function(Q){return(Q=this.getItemInfoAt(Q))?Q.item.toolTip:V3},getLabelColor:function(Q){return Q&&Q.selected&&Q.type!==_R&&"radio"!==Q.type?this._labelSelectColor:this._labelColor},onPropertyChanged:function(Q){this.iv(),Q.property===JR&&this._items.forEach(function(Q){qn(Q)})},redraw:function(){this.iv()},addItem:function(Q,Y){var n=this._items;Y==V3?n.push(Q):n.splice(Y,0,Q),this.fp(JR,V3,n)},removeItem:function(Q){if(Q)for(var Y=this._items,n=0;n<Y.length;n++)Q===Y[n]&&(Y.splice(n,1),this.fp(JR,V3,Y))},removeItemById:function(Q){if(Q!=V3)for(var Y,n=this._items,R=0;R<n.length;R++)if(Q===n[R].id)return Y=n.splice(R,1)[0],this.fp(JR,V3,n),Y},getItemById:function(Q){if(Q!=V3)for(var Y=this._items,n=0;n<Y.length;n++){var R=Y[n];if(Q===R.id)return R}},setItemVisible:function(Q,Y){(Q=this.getItemById(Q))&&(Q.visible=Y)},getItemInfos:function(){return this._30o},getItemInfoAt:function(Q){var Y=0,n=this._30o,R=(Q=this.lp(Q)).x;if(0<=(Q=Q.y)&&Q<=this.getHeight())for(;Y<n.size();Y++){var g=n.get(Y);if(g.startX<=R&&R<=g.endX)return g}return V3},drawItem:function(Q,Y,n,R,g){if(!1===Y.visible)return 0;if(ln(Y.visible)&&!Y.visible())return 0;var B=Y.disabled,g=(B&&(Q.globalAlpha=a2),this.drawItemImpl(Q,Y,n,R,g)),L=this._itemGap;return B&&(Q.globalAlpha=1),this._currentItem!==Y||"separator"===Y||!0===Y.separator||Y.unfocusable||GB(Q,this._separatorColor,n-L/2,0,g+L,R),g},drawItemImpl:function(Q,Y,n,R,g){var B,L,Z=this,e=Z._view,u=Z._itemGap,X=R/2,x=Y.type,G=Y.element,o=Y.label,l=($3(G)&&(o=G,G=V3),Z.getLabelFont(Y)),V=Z.getLabelColor(Y),z=Y.selected,p=t(Y.icon),$=vQ(p,Y),M=$+(o?Lg(l,o).width:0);return"separator"===Y||!0===Y.separator?(Hn(Q,Z._separatorColor,n,R/4,X),1):G?(p&&W2(Q,p,n+$/2,X,Y,Z),Bg(Q,o,l,V,n+$,0,0,R),L=pT(G),g||Z._90I.add(L),L.parentNode!==e&&Dn(e,L),G.iv&&G.iv(),G.validate&&G.validate(),e=(g=L.getBoundingClientRect()).width,G=L.style,Sn(L),G.left=Z.tx()+n+M+zR,G.top=(R-g.height)/2+zR,M+e):("radio"===x?B=t(z?kR:OR):x===_R&&(B=t(z?_R:bR)),B?(L=vQ(B,Y),W2(Q,B,n+L/2,X,Y,Z),n+=L,M+=L):z&&RB(Q,n-u/2,0,M+u,R,Z.getSelectBackground(Y)),p&&W2(Q,p,n+$/2,X,Y,Z),Bg(Q,o,l,V,n+$,0,0,R),M)},validateImpl:function(){var n=this,Q=n._canvas,Y=n.getWidth(),R=n.getHeight(),g=n._30o,B=n._items,L=(yn(Q,Y,R),uT(Q)),Z=n._itemGap,e=Z/2,u=(XT(L,n.tx(),0,1),L.clearRect(0,0,Y,R),n._90I),u=(n._90I=new W,g.clear(),B.forEach(function(Q){var Y=n.drawItem(L,Q,e,R);g.add({item:Q,startX:e,endX:e+Y,width:Y}),Y&&(e+=Y+Z)}),u.each(function(Q){n._90I.contains(Q)||Tg(Q)}),n._64I);n._64I=n3(0,e-Z/2),L.restore(),n._stickToRight?(n._65O=0,L=uT(Q),e=Y-n._64I+Z/2,XT(L,0,0,1),L.clearRect(0,0,Y,R),g.clear(),B.forEach(function(Q){var Y=n.drawItem(L,Q,e,R,!0);g.add({item:Q,startX:e,endX:e+Y,width:Y}),Y&&(e+=Y+Z)}),L.restore()):n.tx(n.tx()),u!==n._64I&&n.onSumWidthChanged(u,n._64I)},onSumWidthChanged:function(Q,Y){},handleClick:function(Y,Q){var n=Y.type,R=Y.action,g=Y.groupId,B=Y.selected;Y.disabled||(g!=V3?B||(Y.selected=!0,this._items.forEach(function(Q){Q.groupId===g&&Y!==Q&&(Q.selected=!1)}),R&&Y.action(Y,this,Q)):(n!==_R&&"toggle"!==n||(Y.selected=!B),R&&Y.action(Y,this,Q))),T2(),this.iv()}}),function(Q){this.tb=Q,this.addListeners()});Og(pu,m,{ms_listener:1,getView:function(){return this.tb._view},handle_mousewheel:function(Q){this.handleScroll(Q,Q.wheelDelta/40*10)},handle_DOMMouseScroll:function(Q){this.handleScroll(Q,10*-Q.detail)},handleScroll:function(Q,Y){d2(Q),(Q=this.tb).isScrollable()&&!Q._stickToRight&&(Q.tx(Q.tx()+Y),FT())},handle_mousemove:function(Q){vT||this.setItem(Q)},handle_mouseout:function(Q){Q.target===this.getView()?this.tb.setCurrentItem(V3):this.handle_mousemove(Q)},handle_mousedown:function(Q){this.handle_mousemove(Q),this.handle_touchstart(Q)},handle_touchstart:function(Q){var Y=this.tb,n=Q.target;!Zg(Q)||n!==this.getView()&&n!==Y._canvas||(d2(Q),Y.setFocus(Q)&&(this.setItem(Q,!0),(Y.isScrollable()||this.info&&!this.info.item.disabled)&&(this.x=lg(Q).x,this.tx=Y.tx(),ig(this,Q))))},handleWindowMouseMove:function(Q){this.handleWindowTouchMove(Q)},handleWindowTouchMove:function(Q){var Y=this.tb;Y._stickToRight||(Q=lg(Q).x-this.x,!this._25o&&2<b3(Q)&&Y.isScrollable()&&(this._25o=1),this._25o&&Y.tx(this.tx+Q))},handleWindowMouseUp:function(Q){this.handleWindowTouchEnd(Q)},handleWindowTouchEnd:function(Q){var Y=this.tb,n=this.info,R=this.tb.getItemInfoAt(Q);!this._25o&&n&&(n=n.item,R&&R.item===n&&Y.handleClick(n,Q)),this._25o=this.x=this.tx=V3,this.setItem()},setItem:function(Q,Y){var n=this.tb,R=(R=this.info=Q?n.getItemInfoAt(Q):V3)?R.item:V3;n.setCurrentItem(R),Y&&R&&ln(R.onDown)&&R.onDown(Q)}}),Qu.BorderPane=function(){this._view=dn(1,this),this.iv()},Y("BorderPane",m,{ms_v:1,ms_ac:["topHeight","bottomHeight","leftWidth","rightWidth"],ms_fire:1,getLeftView:function(){return this._leftView},setLeftView:function(Q,Y){this._12o("leftView",Q),Y!=V3&&this.setLeftWidth(Y)},getRightView:function(){return this._rightView},setRightView:function(Q,Y){this._12o("rightView",Q),Y!=V3&&this.setRightWidth(Y)},getTopView:function(){return this._topView},setTopView:function(Q,Y){this._12o("topView",Q),Y!=V3&&this.setTopHeight(Y)},getBottomView:function(){return this._bottomView},setBottomView:function(Q,Y){this._12o("bottomView",Q),Y!=V3&&this.setBottomHeight(Y)},getCenterView:function(){return this._centerView},setCenterView:function(Q){this._12o("centerView",Q)},_12o:function(Q,Y){var n="_"+Q,R=this._view,g=this[n];g!==Y&&(g&&(g.getView?Tg(g.getView()):Tg(g)),(this[n]=Y)&&(Y.getView?Dn(R,Y.getView(),1):Dn(R,Y,1)),this.fp(Q,g,Y))},onPropertyChanged:function(Q){this.iv()},validateImpl:function(){var Q=(V=this)._topView,Y=V._bottomView,n=V._leftView,R=V._rightView,g=V._centerView,B=V.getWidth(),L=0,Z=0,e=B,u=l=V.getHeight(),X=0,x=0,G=0,o=0,l=(Q&&(Z=X=V._topHeight==V3?LT(Q):V._topHeight),Y&&(u=l-(x=V._bottomHeight==V3?LT(Y):V._bottomHeight)),n&&(L=G=V._leftWidth==V3?BT(n):V._leftWidth),R&&(e=B-(o=V._rightWidth==V3?BT(R):V._rightWidth)),n3(0,e-L)),V=n3(0,u-Z);Q&&E(Q,0,0,B,X),Y&&E(Y,0,u,B,x),n&&E(n,0,Z,G,V),R&&E(R,e,Z,o,V),g&&E(g,L,Z,l,V)}})}function $u(Q){d2(Q),Q.stopPropagation()}function Mu(Q){d2(Q)}function Fu(Q,Y){var n=Q.length,R=Q[0];if($3(Q)||R&&1!==R.length)return Q;for(var g=new Array(n),B=0;B<n;B++)g[B]=Q[B];var L=g[R="L"===g[0]?5:7],Z=g[1+R],e=g[2+R],u=g[3+R],X=g[4+R],x=g[5+R],G=Y[0],o=Y[1],l=Y[2],V=Y[3],z=Y[4],Y=Y[5];return g[R]=G*L+l*Z,g[1+R]=o*L+V*Z,g[2+R]=G*e+l*u,g[3+R]=o*e+V*u,g[4+R]=G*X+l*x+z,g[5+R]=o*X+V*x+Y,g}function vu(Q,Y){return Y===Q.substring(0,Y.length)}function au(Q){return parseFloat(Q)||0}function Ju(Q,Y){Y==l3&&(Y=new F3),Q=(Q=Q.split(/\s+/)).map(au),Y.set(Q[0]||0,Q[1]||0,Q[2]||0)}function Iu(Q){try{var Y=Q.zoom;return Y==l3?1:+Y}catch(Q){return 1}}function Au(){$2.apply(this,arguments)}function Pu(){$2.apply(this,arguments)}function iu(){$2.apply(this,arguments)}function Tu(){$2.apply(this,arguments),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:"ZeroCurvature",endingEnd:"ZeroCurvature"}}function Eu(){$2.apply(this,arguments)}function _u(Q){var Y=Q.substr(Q.lastIndexOf(".")+1).toLowerCase(),n=(Q=z3.beforeLoadURL(Q),fk[Y]||Y);return{postfix:Y,url:"url("+Q+') format("'+n+'")'}}function bu(Q,Y){return Qh[Q.postfix]-Qh[Y.postfix]}function ku(Q,Y,n){Q.x=Y.x,Q.y=Y.e||n,Q.z=Y.y}function Ou(Q){Q.duration&&(Q.startTime=Rn()),Q.timeId=y2(Q.tick,V3,V3,Q.interval)}function Nu(Q){Q.details=0,Q.timeout=null,Q.lastPoint=null}function Uu(){lh=!1}function Cu(){if(lh){var Q=Date.now(),Y=Q-Vh,n=Q;try{for(var R=0;R<oh.length;R++)oh[R].callback(n,Y)}catch(Q){}Vh=Q,0<oh.length?requestAnimationFrame(Cu):Uu()}}function wu(n,R){n.getValue&&n.getValue.compType===R||(n.getValue=function(Q){var Y=h(n,Q);return Y===l3&&R.properties&&(Q=R.properties[Q])?Q.defaultValue:Y},n.getColor=function(Q,Y){return ju(!0===Y?Q:n.getValue(Q))},n.getValue.compType=R)}function ju(Q,Y){return Y=Y?h(Q,Y):Q,s&&s.compGray&&Y?z3.toGrayColor(Y):Eh&&Y?KT(Y,Eh,_h):Y}function ru(Q){if(M3(Q)){for(var Y=new W,n=Q.length,R=0;R<n;R+=2)Y.add({x:Q[R],y:Q[R+1]});Q=Y}return Q}function Hu(Q,Y,n){if(Y){var R,g,B,L={x:Y.x,y:Y.y,width:Y.width,height:Y.height},Z=kh(Q),e=h(Q,"layoutH"),u=h(Q,"layoutV"),X=1,x=1,G=0,o=0,l=1,V=1,z=L.x+Z.x*L.width,p=L.y+Z.y*L.height;switch(e){case"left":break;case"right":z+=n.width-n.rw;break;case"center":z+=.5*(n.width-n.rw);break;default:(R=h(Q,yR)||0)&&(G=Math.abs(o=Math.sin(R)),l=Math.abs(V=Math.cos(R))),"leftright"!==e?(X+=l*(n.widthScale-1),x+=G*(n.widthScale-1),z*=n.widthScale):(g=h(Q,"scaleX")||1,B=h(Q,"scaleY")||1,X+=L.width?l*(n.width-n.rw)/L.width/g:0,x+=L.height?G*(n.width-n.rw)/L.height/B:0,z+=(n.rw-n.width)*Math.min(-Z.x*V+Z.y*o,-Z.x*V-(1-Z.y)*o,(1-Z.x)*V+Z.y*o,(1-Z.x)*V-(1-Z.y)*o))}switch(u){case"top":break;case"bottom":p+=n.height-n.rh;break;case"center":p+=.5*(n.height-n.rh);break;default:R==V3&&(R=h(Q,yR))&&(G=Math.abs(o=Math.sin(R)),l=Math.abs(V=Math.cos(R))),"topbottom"!==u?(X+=G*(n.heightScale-1),x+=l*(n.heightScale-1),p*=n.heightScale):(g==V3&&(g=h(Q,"scaleX")||1,B=h(Q,"scaleY")||1),X+=L.width?G*(n.height-n.rh)/L.width/g:0,x+=L.height?l*(n.height-n.rh)/L.height/B:0,p+=(n.rh-n.height)*Math.min(-Z.x*o-Z.y*V,-Z.x*o+(1-Z.y)*V,(1-Z.x)*o-Z.y*V,(1-Z.x)*o+(1-Z.y)*V))}return 1===X&&1===x||(L.width*=X,L.height*=x,L.width<0&&(L.width=0),L.height<0&&(L.height=0)),L.x=z-Z.x*L.width,L.y=p-Z.y*L.height,L}}function su(Q){return M3(Q)?new W(Q):Q}function hu(Q,Y,n,R,g,B,L){var Z=s.interactiveInfo,e=Q.transform,u=bh();if(e)return s.save(),s.setTransform(e.a,e.b,e.c,e.d,e.tx,e.ty),Z&&Oh(Z,{comp:Q,rect:Y,matrix:e.clone(),prefix:oQ,refRect:Z.refRect,exData:u}),!0;if(g===l3&&(g=1),B===l3&&(B=1),e=h(Q,"clipPercentage"),kn(n,Y)&&!R&&1===g&&1===B&&e==l3)return Z&&Oh(Z,{comp:Q,rect:Y,matrix:Z.matrix.clone(),prefix:oQ,refRect:Z.refRect,exData:u}),!1;var X=Y.x+Y.width*(L=L||MQ).x,x=Y.y+Y.height*L.y,G=n.x+n.width*L.x,L=n.y+n.height*L.y,g=n.width?g*(Y.width/n.width):1,B=n.height?B*(Y.height/n.height):1;return s.save(),Z&&(Z.matrix.appendTranslate(X,x).appendRotate(R).appendScale(g,B).appendTranslate(-G,-L),Oh(Z,{comp:Q,rect:Y,matrix:Z.matrix.clone(),prefix:oQ,refRect:Z.refRect,exData:u})),xT(s,X,x),GT(s,R||0),oT(s,g,B),xT(s,-G,-L),e!=l3&&(Y=rn(n,h(Q,"clipDirection"),e),s.beginPath(),s.rect(Y.x,Y.y,Y.width,Y.height),s.clip()),!0}function tu(){s.restore()}function mu(Q,Y,n,R){var g,B,L,Z,e,u,X,x,G,o,l,V,z,p,$,M,F,v,C,w,a,J,I,A,P,i,j,T,E,_=h(Q,NR,ru),b=h(Q,yR),k=kh(Q),R=(_&&R.fitSize&&(g=new W,R=Hu(Q,O=pg(_),R),B=O.x+k.x*O.width,L=O.y+k.y*O.height,Z=R.x+k.x*R.width,e=R.y+k.y*R.height,u=O.width?R.width/O.width:1,X=O.height?R.height/O.height:1,_.each(function(Q){g.add({x:Z+(Q.x-B)*u,y:e+(Q.y-L)*X})}),_=g,Q.unionRect=null),h(Q,"scaleX")),O=h(Q,"scaleY"),N=Y===aR,U=V3;!n&&N&&((n=Q.unionRect)||(n=pg(_),Q.points.func||(Q.unionRect=n)),U=n),n&&(N?(U=U||Q.unionRect)||(U=pg(_),Q.points.func||(Q.unionRect=U)):U=n,n=hu(Q,n,U,b,R,O,k),b=h(Q,"borderPattern"),R=BQ(s,b),O=ju(Q,"background"),k=t(h(Q,"repeatImage"),Eh,_h),x=h(Q,"gradientPack"),G=h(Q,"borderGradientPack"),o=ju(Q,"borderColor"),l=h(Q,"borderWidth"),V=t(h(Q,"borderRepeatImage"),Eh,_h),z=h(Q,"segments",su),T=h(Q,"gradient"),E=ju(Q,"gradientColor"),p=h(Q,"border3d"),$=ju(Q,"border3dColor"),M=h(Q,"border3dAccuracy"),F=h(Q,"closePath"),v=h(Q,"fillRule")||"nonzero",C=s.lineJoin,w=s.lineCap,s.lineJoin=h(Q,"borderJoin")||b2,s.lineCap=h(Q,"borderCap")||_2,N?O||k||x?((P=h(Q,"fillClipPercentage"))!=l3&&(i=rn(U,h(Q,"fillClipDirection"),P),s.save(),s.beginPath(),s.rect(i.x,i.y,i.width,i.height),s.clip()),fT(s,_,z,F),x?yT(s,x,ju,!1,U):k?LB(s,k,Eh,_h,Ph,ih,h(Q,"repeatImageStretch"),U,h(Q,"repeatImageRotation")):BB(s,O,T,E,U),s.fill(v),x&&s.restore(),P!=l3&&s.restore(),R!==s&&fT(R,_,z,F)):fT(R,_,z,F):("roundRect"===Y?a=h(Q,"cornerRadius"):"polygon"===Y?(a=h(Q,"polygonSide"),J=h(Q,"cornerRadius"),I=h(Q,"regular")):"nStar"===Y?(a=h(Q,"starSide"),J=h(Q,"cornerRadius"),I=h(Q,"starRatio"),A=h(Q,"regular")):"arc"===Y&&(a=h(Q,"arcFrom"),J=h(Q,"arcTo"),I=h(Q,"arcClose"),A=h(Q,"arcOval")),O||k||x?((P=h(Q,"fillClipPercentage"))!=l3&&(i=rn(U,h(Q,"fillClipDirection"),P),s.save(),s.beginPath(),s.rect(i.x,i.y,i.width,i.height),s.clip()),gB(s,Y,U,a,J,I,A),x?yT(s,x,ju,!1,U):k?LB(s,k,Eh,_h,Ph,ih,h(Q,"repeatImageStretch"),U,h(Q,"repeatImageRotation")):BB(s,O,T,E,U),s.fill(v),x&&s.restore(),P!=l3&&s.restore(),s!==R&&gB(R,Y,U,a,J,I,A)):gB(R,Y,U,a,J,I,A)),(i=h(Q,"borderWidthAbsolute"))&&(k=s.getTransform(),(j=B2.TEMP_MATRIX).set(k.a,k.b,k.c,k.d,k.e,k.f),s.save(),s.setTransform(1,0,0,1,0,0)),l&&(o||V||G)&&(s.lineWidth=l,G?yT(s,G,ju,!0,U,j):V?ZB(s,V,Eh,_h,Ph,ih,h(Q,"borderRepeatImageStretch"),U,h(Q,"borderRepeatImageRotation")):s.strokeStyle=o,s.stroke(),G&&s.restore(),p&&YB(s,o,$,l,Th,M)),LQ(s,b),h(Q,"dash")&&0<(T=h(Q,"dashWidth")||l)&&(b=h(Q,"dashPattern")||E2,R=BQ(s,b,h(Q,"dashOffset")),E=ju(Q,"dashColor")||ju(kB),R!==s&&(N?fT(R,_,z,F):gB(R,Y,U,a,J,I,A)),s.strokeStyle=E,s.lineWidth=T,s.stroke(),h(Q,"dash3d")&&YB(s,E,ju(Q,"dash3dColor"),T,Th,h(Q,"dash3dAccuracy")),LQ(s,b)),i&&s.restore(),Y===H&&oB(s,O,h(Q,"depth"),U),s.lineJoin=C,s.lineCap=w,n&&tu())}function qu(Q){s=Q[0],Ph=Q[1],ih=Q[2],Th=Q[3],Eh=Q[4],_h=Q[5]}function du(Q,Y){if("function"!=typeof Y&&null!==Y)throw new TypeError("Super expression must either be null or a function");Q.prototype=m.create(Y&&Y.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),Y&&IQ(Q,Y)}function Ku(Q){return"Array]"===(Q=m.prototype.toString.call(Q)).substring(Q.length-6)}function Wu(Q,Y,n,R,g,B){Y=Y||[],n=n||[],R=R||[];try{Y.push(Q);var L=Function.apply(0,Y);return n[n.length]="return "+L,Function.apply(0,n).apply(0,R)}catch(Q){return B&&B(Q),g}}function cu(Q){return Q}function Su(Q,Y){return Y}function yu(Q,Y,n,R){var g=Q?Q.path.slice(0):[];Y&&g.push(Y),this.desc=n,this.name=Y,this.path=PQ(g),this.getter=(n=g)&&n.length?new Function("o",["return o['",n.join("']['"),"'];"].join("")):cu,this.setter=(Y=g)&&Y.length?new Function("o","v",["return o['",Y.join("']['"),"'] = v;"].join("")):Su,this.isLeaf=R,this.parent=Q,this.children=[],this.childMap={}}function Du(Q){var Y=[];return Q.forEach(function(Q){Y.push({x:Q.x,y:Q.y}),Y.push({x:Q.x+Q.width,y:Q.y+Q.height}),Y.push({x:Q.x+Q.width,y:Q.y}),Y.push({x:Q.x,y:Q.y+Q.height})}),Y}function fu(Q,Y){return 0<Q.dot(Y)}function Qf(){this._vertexMap={},this._lineMap={},this._lineList=[]}function Yf(Q,Y,n,R,g,B,L){n=[n,g],Q[0]===R&&n.reverse(),g=[n[0]._key,n[1]._key].join("|"),(R=Q._triangles[g])||(Q._triangles[g]=R={}),R[n=[B._key,L._key].join("|")]||(R[n]=[B,L])}function nf(Q,Y,n){var R=Q._planes[n._key];if(!R)for(var g in Q._planes)if((g=Q._planes[g])._normal.angleTo(n)<.001){R=g;break}R?R._vertices.indexOf(Y)<0&&R._vertices.push(Y):Q._planes[n._key]={_normal:n,_vertices:[Y]}}function Rf(Q,Y){return 0===Y?"0|0|0":(Math.abs(Y)===1/0?[Q.x,Q.y,Q.z]:[Math.round(ch.angleTo(Q)*Y),Math.round(Sh.angleTo(Q)*Y),Math.round(yh.angleTo(Q)*Y)]).join("|")}function gf(Q){for(var Y=Q.length,n=0,R=Y-1,g=0;g<Y;R=g++)n+=Q[R].x*Q[g].y-Q[g].x*Q[R].y;return.5*n}function Bf(Q,Y,n,R,g,B){Y=new q(Y.get(n)),B=B.apply(Y),Q.push({local:Y,world:B,type:g,index:n,realIndex:R})}function Lf(){var g={_calcShift:function(Q,Y){var n=g.getBackup("_calcShift"),R=this.gv;return w.inEdit(R)&&R.getEditInteractor().getSubModule("Move").calcShift(Q,Y,this)||n.call(this,Q,Y)},clear:function(Q){g.getBackup("clear").call(this,Q);var Y=this.gv;w.inEdit(Y)&&Y.getEditInteractor().getSubModule("Move").clear(Q)}};return g}function Zf(Q,Y){var n=Q.x-Y.x;return n*n+(Q=Q.y-Y.y)*Q}function ef(Y,n,Q){return{def:Y,getter:Q?function(Q){return 1<qS.for(Q).version?Q.getParameter(n):Y}:function(Q){return Q.getParameter(n)},setter:Q?function(Q,Y){1<qS.for(Q).version&&Q.pixelStorei(n,Y)}:function(Q,Y){Q.pixelStorei(n,Y)}}}function uf(Q){return"string"==typeof Q?WT(Q):Q.r!==l3?(sp[0]=Q.r,sp[1]=Q.g,sp[2]=Q.b,sp[3]=Q.a,sp):Q.red!==l3?(sp[0]=Q.red,sp[1]=Q.green,sp[2]=Q.blue,sp[3]=Q.alpha,sp):Q}function Xf(Q){return Ku(Q)?Array.prototype.slice.call(Q,0):Q}function xf(Q,Y,n){this.gl=Y,this._record=n||{},this._branches={},this._leafSync={};for(var R=(this._struct=Q).children,g=R.length;g--;){var B=R[g],L=B.name;B.isLeaf?(this._leafSync[L]=!1,this._record[L]=Xf(B.desc.def)):this._record[L]={}}}function Gf(Q,Y){var n=Q.duration,R=Y.start,g=Y.duration;R&&n<R||g&&n<g+(R||0)||(R&&(Q.start=R),n!==(g=g||n-(R||0))&&(Q.duration=g,Q.rawDuration=n),Y.default&&(Q.default=!0),Y.speed!==l3&&(Q.speed=Y.speed),Y.loop&&(Q.loop=Y.loop))}function of(Q,Y,n){var R,g,B,L=Y.name;if(tp[L]){do{if(mp=Y.sourceShortName+"#"+L,!tp[mp])break;if(Y.sources&&Y.sources.length&&(mp+=Y.sources.join("#")),!tp[mp])break;for(var L=mp,Z=1;mp=L+"$"+Z++,tp[mp];);}while(0);tp[mp]=!0,L=Y.name=mp}else tp[L]=!0;if(n)for(R in(B=n[L])&&(B.invalid?Y._toBeRemoved=!0:(B.name&&(Y.rawName=L,Y.name=B.name),Gf(Y,B))),n)(B=n[R]).source!==L||tp[R]||(tp[R]=!0,(g=m.assign({},Y)).name=R,g.source=L,g.rawDuration&&(g.duration=g.rawDuration,delete g.rawDuration),Gf(g,B),Q.push(g))}function lf(Q,Y){return Q&&(Q[0]!==(Y=Y?1:0)||Q[1]!==Y||Q[2]!==Y)}function Vf(Q,Y,n){if(n){var R=Y.mesh,g=Y.matrix;e0.multiplyMatrices(n.mi,g);for(var B=0,L=n.data,Z=n.m,e=L.length;B<e;B+=16){var u=(new v3).fromArray(L,B);u.premultiply(Z).multiply(e0),Q.push({matrix:u,mesh:R,model:Y.model})}}else Q.push(Y)}function zf(Q,Y){Y&&(Y.isRenderTarget?Y.release():YC(Y)&&Q.deleteTexture(Y))}function pf(Q,Y,n,R,g,B,L,Z,e,u,X,x){L=L||0;for(var G=[],o=Z?new F3:V3,l=0;l<=g;l++){var V=F0(Q,Y,n,l,X,x,R);G.push(V),B!=V3&&(V.uv=[B,1-l/g+L])}if(Z){for(l=0;l<g;l++)o.subVectors(G[l],G[l+1]),0==o.lengthSq()&&o.copy(Y),u&&(e=G[l].clone().sub(u[l])),o.cross(e).normalize(),G[l].ns=o.toArray();G[l].ns=G[l-1].ns}return G}function $f(Q,Y,n,R,g,B,L,Z,e,u,X,x,G,o){if(!(x.length<3||0==e)){var l=Y?Q.top_vs:Q.bottom_vs;if(l){var V,z,p,$,M=Y?Q.top_uv:Q.bottom_uv,F=dL.triangulateShape(x,o),v=pf(n,R,g,u,X,B,L,!1,Z,null,x,G),a=o.length;for(M&&(z=x.slice(0)),i=0;i<a;i++)if(V=pf(n,R,g,u,o[i].length-1,B,L,!1,Z,null,o[i],G))for(p=V.length,$=0;$<p;$++)v.push(V[$]),M&&z.push(o[i][$]);for(var J,I,A,P=F.length,i=0;i<P;i++)A=F[i],A=Y?(J=A[2],I=A[1],A[0]):(J=A[0],I=A[1],A[2]),g1(l,v[J],v[I],v[A]),M&&M.push(.5+z[J].x/e,.5+z[J].y/e,.5+z[I].x/e,.5+z[I].y/e,.5+z[A].x/e,.5+z[A].y/e)}}}function Mf(Q,Y){return Q?(0!==Y&&(Y=Y%1||1)<0&&(Y+=1),.5-yD(Q,Y).point.x):1}function Ff(n){var R={};return{get:function(Q){if(R[Q]!==l3)return R[Q];var Y;switch(Q){case"WEBGL_depth_texture":Y=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":Y=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":Y=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":Y=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":Y=n.getExtension("WEBGL_compressed_texture_etc1");break;default:Y=n.getExtension(Q)}return R[Q]=Y}}}function vf(Y,n,Q){var R;function g(Q){if("highp"===Q){if(0<Y.getShaderPrecisionFormat(35633,36338).precision&&0<Y.getShaderPrecisionFormat(35632,36338).precision)return"highp";Q="mediump"}return"mediump"===Q&&0<Y.getShaderPrecisionFormat(35633,36337).precision&&0<Y.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}Q=Q||{};var B,L="undefined"!=typeof WebGL2RenderingContext&&Y instanceof WebGL2RenderingContext,Z=Q.precision!==l3?Q.precision:"highp",e=((e=g(Z))!==Z&&(console.warn("WebGL:",Z,"not supported, using",e,"instead."),Z=e),!0===Q.logarithmicDepthBuffer),Q=Y.getParameter(34930),u=Y.getParameter(35660),X=Y.getParameter(3379),x=Y.getParameter(34076),G=Y.getParameter(34921),o=Y.getParameter(36347),l=Y.getParameter(36348),V=Y.getParameter(36349),z=0<u,p=L||!!n.get("OES_texture_float"),$=(L||!!n.get("OES_element_index_uint"))&&"undefined"!=typeof Uint32Array,M=z&&p,F=L?Y.getParameter(36183):0,v=L||!!n.get("EXT_shader_texture_lod"),a=!1;return L?a=!0:(B=n.get("ANGLE_instanced_arrays"))&&(a=!0,Y.vertexAttribDivisor=function(Q,Y){return B.vertexAttribDivisorANGLE(Q,Y)},Y.drawElementsInstanced=function(Q,Y,n,R,g){return B.drawElementsInstancedANGLE(Q,Y,n,R,g)},Y.drawArraysInstanced=function(Q,Y,n,R){return B.drawArraysInstancedANGLE(Q,Y,n,R)}),L?n.get("EXT_color_buffer_float"):(n.get("WEBGL_depth_texture"),n.get("OES_texture_half_float"),n.get("OES_texture_half_float_linear"),n.get("OES_standard_derivatives"),n.get("OES_vertex_array_object")),n.get("OES_texture_float_linear"),n.get("EXT_color_buffer_half_float"),n.get("WEBGL_multisampled_render_to_texture"),{isWebGL2:L,getMaxAnisotropy:function(){if(R!==l3)return R;var Q=n.get("EXT_texture_filter_anisotropic");return R=null!==Q?Y.getParameter(Q.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:g,precision:Z,precisionString:"precision "+Z+" float;\nprecision "+Z+" int;\n",logarithmicDepthBuffer:e,maxTextures:Q,maxVertexTextures:u,maxTextureSize:X,maxCubemapSize:x,maxAttributes:G,maxVertexUniforms:o,maxVaryings:l,maxFragmentUniforms:V,vertexTextures:z,floatFragmentTextures:p,elementTypeUint:$,floatVertexTextures:M,maxSamples:F,shaderTextureLod:v,instancedArray:a}}function af(Y,g,Q,n){if(n||!Q.isWebGL2||"undefined"==typeof WeakMap)return{supportsUbo:!1,setCurrentFrameRenderId:$};var R,B={},n=g.getParameter(35375),L=new WeakMap;return(R=B.scene=new $1(g,0,"scene","Scene")).addUniform("uProjectMatrix",16),R.addUniform("uViewMatrix",16),R.addUniform("uCameraPosition",3),R.addUniform("uTime",1),R.addUniform("toneMappingExposure",1),R.addUniform("uFogColor",4),R.addUniform("uFogDensity",1),R.addUniform("uFogNear",1),R.addUniform("uFogFar",1),R.attachSource(),["pbr","phong"].forEach(function(Q){(R=B[Q]=new $1(g,1,Q,"Material")).addUniform("aoMapIntensity",1),R.addUniform("lightMapIntensity",1),R.addUniform("displacementScale",1),R.addUniform("displacementBias",1),R.addUniform("diffuse",3),R.addUniform("emissive",3),R.addUniform("normalScale",2),R.addUniform("opacity",1),R.addUniform("alphaTest",1),R.addUniform("fresnelIntensity",1),R.addUniform("uUvMatrix",12),R.addUniform("uUv2Matrix",12),"pbr"===Q?(R.addUniform("roughness",1),R.addUniform("metalness",1),R.addUniform("transmission",1),R.addUniform("thickness",1),R.addUniform("ior",1),R.addUniform("specularIntensity",1),R.addUniform("rimPower",1),R.addUniform("rimColor",3),R.addUniform("specularColor",3)):(R.addUniform("shininess",1),R.addUniform("refractionRatio",1),R.addUniform("specular",3))}),{supportsUbo:!0,maxBindingPoints:n,setCurrentFrameRenderId:function(Q){(Q=B.scene).attachSource(),Q.uProjectMatrix=Y._projectMatrix,Q.uViewMatrix=Y._viewMatrix,Q.uCameraPosition=Y._camera?Y._camera.p3():Y.getEye(),Q.uTime=Y.__uptime,Q.toneMappingExposure=Y.getToneMappingExposure(),Q.uFogColor=WT(Y._fogColor),Q.uFogDensity=Y._fogDensity,Q.uFogNear=Y._fogNear,Q.uFogFar=Y._fogFar},updateAndBind:function(Q,Y){var n,Q=B[Q],R=L.get(Y);R===l3&&(R=new WeakMap,L.set(Y,R)),R.get(Q)===l3&&(n=g.getUniformBlockIndex(Y,Q.name),g.uniformBlockBinding(Y,n,Q.bindingPointIndex),R.set(Q,n))},attachUbo:function(Q,Y,n){return B[Q].attachSource(Y,n)}}}function Jf(){return s0.length?s0.pop():new v3}function If(Q){s0.push(Q)}function Af(Q,Y,n,R,g){var B;return(B=(B=g?g[C0+Y]:B)===l3?Q[Y]:B)&&B.func&&(g=!1,R instanceof es&&(Y=B.func,pQ.test(Y)?(B=R.a(C0+Y.slice(5)),g=!0):zQ.test(Y)&&(B=R.s(C0+Y.slice(6)),g=!0)),g||(B=d(B,R,n))),B}function Pf(Q,Y){if(Q)return(Q=Q.s("matDef"))&&(Q[C0+Y]||Q[Y])}function Tf(Q){var Y=z3.getShape3dModel(Q);return Y||"string"!=typeof Q?Y:z3.getModelMap()[Q]}function Ef(Q,Y,n,R){R=R||Jf();if(B=Q.composedMatrix)return R.copy(B),R;var g,B=!1,L=(Y&&(Z=Q.name)&&(L=Y._animationId)&&(L=T$.getAnimationMap()[L])&&(g=L.clip)&&(L=T$.getAnimationTracks()[L.animation][0][Z])&&(Z=g.datas,B=!0,(g=L[0])!==l3&&(e=Z[g]),(g=L[1])!==l3&&(X=Z[g]),(g=L[2])!==l3&&(u=Z[g])),Q.transformData);if(B&&L)return Im(R,L,e,X,u);var Z=O0&&z3.getDataModel3dBindings(Y),e=e||Af(Q,"position",n,Y,Z),u=u||Af(Q,"scale",n,Y,Z),X=(X=X||Af(Q,"quaternion",n,Y,Z))||(X=Af(Q,"euler",n,Y,Z))&&y.eulerArrayToQuaternionArray(X,t0);return R.composeFromArray(e,X,u),R}function _f(Q,Y){return k0=Q,b0=Y instanceof sQ?(_0=Y,null):(_0=null,Y),[k0,_0,b0]}function bf(Q){k0=Q[0],_0=Q[1],b0=Q[2]}function kf(Q,Y){return[Q[0]*Y,Q[1]*Y,Q[2]*Y]}function Of(Q,Y,n){return(Y=Y[Q])!==l3?Y:n?n[Q]:null}function Nf(Q){var Y=((Y=Q.s("light.intensity"))==V3?1:Y)*Math.PI;return[(Q=WT(Q.s(WS)))[0]*Y,Q[1]*Y,Q[2]*Y]}function Uf(Q,Y,n,R){if(R!==Q._lastHeadlightAmbientIntensity&&(Q.hemisphereLight.skyColor=kf(c0.color,1-R),Q.ambientLightColor=kf(c0.color,R),Q._lastHeadlightAmbientIntensity=R),n!==Q._lastLightMask&&(Q._lastLightMask=n,R=Y._lastLightUploadInfo)){for(var g,B=R.g,L=B.length,Z=new Array(L),e=0;e<L;e++)g=B[e],Z[e]=!(g<0||32<=g||!(n&1<<g));Q.hemisphereLight.enabled=Z[0];var R=Y._59O,u=Y._spots,X=Y._dirs,Y=Y._87I,x=1;if(L=R.length)for(e=0;e<L;e++)Q.pointLights[e].enabled=Z[x++];if(L=u.length)for(e=0;e<L;e++)Q.spotLights[e].enabled=Z[x++];if(L=X.length)for(e=0;e<L;e++)Q.directionalLights[e].enabled=Z[x++];if(L=Y.length)for(e=0;e<L;e++)Q.rectAreaLights[e].enabled=Z[x++]}}function Cf(Q,Y,n){var R=Q.instances;if(!R)return!1;if(D3){var g,B=!1;for(g in R){var L=R[g];if(L&&L.length){B=!0;break}}if(!B)return!1}return U0=R,j0.fromArray(Y||n.getElements()),r0.getInverse(j0),!0}function wf(Q,Y,n,R){var g=!0===Y.internalDefines,B={type:n,internalDefines:g};return(Y=Y.defines)&&(B.defines=Y),g||Q._oitEnabled&&Q._programDefines&&Q._programDefines.OIT&&(B.defines=m.assign({},B.defines,{OIT:!0})),g||B.defines||(B.cacheKey=n),Q.acquireProgram(B,R)}function jf(Q,Y,n){if(n instanceof K.Node){var R=K.Default.getShape3dModel(n.s("shape3d")),g=[-.5,-.5,-.5],B=[.5,.5,.5],L=(R&&R.boundingBox&&(g=R.boundingBox.min,B=R.boundingBox.max),[g[0],g[1],g[2],g[0],g[1],B[2],g[0],B[1],g[2],g[0],B[1],B[2],B[0],g[1],g[2],B[0],g[1],B[2],B[0],B[1],g[2],B[0],B[1],B[2]]),Z=(eH.fromArray(QQ(n,Y.getMat(n))),n.getAnchor3d());Z.x=Z.x-.5,Z.y=Z.y-.5,Z.z=Z.z-.5;for(var e=0;e<24;e+=3)Q.push((new F3).set(L[e]-Z.x,L[e+1]-Z.y,L[e+2]-Z.z).applyMatrix4(eH))}}function rf(Q,Y){var n=this._attrObject;return n&&Q in n||(n=this._textureAttrObject)&&Q in n?n[Q]:this._getAttrBackupFunc(Q,Y)}function Hf(Q,Y){if(_H(Y))return Q.deleteTexture(Y)}function sf(Q,Y,n){var R=Q[Y];R&&R.releaseTexture(),n?Q[Y]=n:delete Q[Y]}function hf(Q,Y){return Q.z!==Y.z?Y.z-Q.z:Q.id-Y.id}function tf(Q,Y){var n=Y>>24&255;if(n<128){var R=Q._outside;if(R)return R(Y>>16&255,Y>>8&255,255&Y,n)}return Q[2147483647&Y]}function mf(Q,Y,n,R,g,B,L,Z,e,u,X){return!(Q<0||B<=Q||Y<0||g<=Y)&&(!(e=tf(u,g=(e[B=4*(Q*g+Y)]<<16)+(e[1+B]<<8)+e[2+B]+(e[3+B]<<24)))||X&&!1===X(e,Math.round((n+Y)/Z),Math.round(L-1-(R+Q))/Z)?void 0:e)}function qf(Q,Y,n,R,g,B,L,Z){return L||(L=Q._cacheIdx=Q._cacheIdx+1&3,Q._cacheQuery[L]=[Y,n,R,g,B,Z],Q._cacheLength=Math.min(Q._cacheLength+1,4)),Z}function df(){var Q=new F3;return Q.subVectors(nS,YS),LS.subVectors(QS,YS),Q.cross(LS).normalize(),Q}function Kf(Q,Y){Y._reflecting=!1,Q.getRenderState().useProgram(Q._prg)}function Wf(Q,Y){M$(Y/1e3)}function cf(Q,Y){var n,R;Y=y.roundFloat(Y,3),Q.speed=Y,"once"===Q.loop&&(n=Q.duration,R=Q.start,Q.end=0===Y?R:(Y<0?Math.floor((R-1e-8)/n):Math.ceil((R+1e-8)/n))*n)}function Sf(Q,Y,n){Q&&(on(Q)?Y.push(Q):rd.test(Q)&&(n[Q]=1))}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);