!function(w,W){"use strict";var N="ht",e=w[N],E="px",P="left",J="top",b="bottom",R="right",I="innerHTML",p="className",H="",y="width",j="height",k="string",G="position",d="absolute",l="0",a="opacity",O="background",t=e.Default,B=t.getInternal(),n=e.Color,A=t.animate,q=t.isTouchable,T=t.isTouchEvent,s=null,u=(Math.sqrt,w.parseInt),i=w.setTimeout,L=(Math.round,n.titleIconBackground),f=function(D){return typeof D===k||D instanceof String},Z=function(){return document},x=function($){return Z().createElement($)},o=function(){var u=x("div");return u.tabIndex=-1,u.style.outline="none",u},Q=function(){return x("canvas")},M=function(y,e){r(y,"-webkit-transform",e),r(y,"-ms-transform",e),r(y,"transform",e)},r=function(d,g,L){d.style.setProperty(g,L,s)},D=function(J,h,r){t.def(e.widget[J],h,r)},U=function(G,w){G.appendChild(w)},$=function(){return Z().documentElement},K=function(){return $().clientWidth},V=function(){return $().clientHeight},z=B.addEventListener,h=B.removeEventListener,Y=function(s){var Z=s.touches[0];return Z?Z:s.changedTouches[0]};B.addMethod(t,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:L},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:L}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:L},{type:"rect",rect:[10,10,80,20],background:L}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:L},{type:"rect",rect:[10,34,56,14],background:L},{type:"rect",rect:[34,10,56,14],background:L},{type:"rect",rect:[82,10,8,56],background:L},{type:"rect",rect:[66,62,24,8],background:L}]},dialogTitleLabelColor:t.labelSelectColor,dialogTitleLabelFont:(q?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:t.labelFont,dialogTitleBackground:n.titleBackground,dialogHeaderBackground:n.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var X=function(U){var _=this;_.$1d=U,_.addListeners()};t.def(X,W,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(u){var A=this,x=A.$1d,Z=x.$6d,j=x._config,I=x.$7d,o=u,k=u.target;if(I.contains(k)||t.preventDefault(u),t.isLeftButton(u)){T(u)&&(o=Y(u));var i=A.$8d={x:o.pageX,y:o.pageY};A.$9d={x:i.x,y:i.y},!j.maximized&&j.draggable&&Z.contains(k)&&(A.$4d=!0,t.startDragging(A,u)),A.handle_mousemove(u)&&(A.$2d=!0,t.startDragging(A,u)),I.contains(u.target)||x.$41d.focus()}},handle_mousedown:function(m){this.handle_touchstart(m)},handle_touchend:function(E){if(t.isLeftButton(E)&&!this.$5d&&!this.$3d){var y=this,c=y.$1d,L=E.target,$=c._config,f=c.$18d,n=c.$16d;for($.closable&&f.contains(L)&&c.hide(),$.maximizable&&n.contains(L)&&($.maximized?c.restore():c.maximize());L&&(L.className||"").indexOf("dialog-button")<0;)L=L.parentNode;L&&L.buttonItem&&c.action&&c.action(L.buttonItem,E),delete y.$8d,delete y.$9d}},handle_mouseup:function(g){this.handle_touchend(g)},handleWindowTouchEnd:function(E){var B=this,T=B.$1d,I=T.$10d;B.$2d&&B.$3d?I.fire({kind:"endResize",target:T,originEvent:E}):B.$4d&&B.$5d&&I.fire({kind:"endMove",target:T,originEvent:E}),this.clear()},handleWindowMouseUp:function(P){this.handleWindowTouchEnd(P)},handle_mousemove:function(Q){var k=this.$1d._config;if(k.maximized)return!1;if("w"!==k.resizeMode&&"h"!==k.resizeMode&&"wh"!==k.resizeMode)return!1;var E=this,W=E.getView(),s=W.querySelector(".resize-area"),I=s.getBoundingClientRect(),_={x:I.left,y:I.top,width:I.width,height:I.height};Q=T(Q)?Y(Q):Q;var N=Q.clientX,x=Q.clientY,f={x:N,y:x};return t.containsPoint(_,f)?(r(W,"cursor","nwse-resize"),!0):(r(W,"cursor",H),void 0)},handleWindowTouchMove:function(l){l.preventDefault();var H=l;T(l)&&(H=Y(l));var y=this,_=y.$8d,q=y.$9d;if(!(q.x==_.x&&q.y==_.y&&t.getDistance(q,{x:H.pageX,y:H.pageY})<=1)){var n=y.$1d,W=n._config,i=n.$21d,I=W.resizeMode||"wh",z=H.pageX-_.x,w=H.pageY-_.y;if(y.$2d){var g=i.offsetWidth,o=i.offsetHeight,L=g+z,p=o+w;if(L=Math.max(L,50),p=Math.max(p,50),"center"===W.position||W.position==s){var v={},x=i.getBoundingClientRect();v.x=x.left,v.y=x.top,W.position=v}"w"===I?(n.setSize(L,o),_.x+=L-g):"h"===I?(n.setSize(g,p),_.y+=p-o):"wh"===I&&(n.setSize(L,p),_.x+=L-g,_.y+=p-o),y.$3d?n.$10d.fire({kind:"betweenResize",target:n,originEvent:l}):(y.$3d=!0,n.$10d.fire({kind:"beginResize",target:n,originEvent:l}))}else if(y.$4d){var e=i.getBoundingClientRect(),k=e.width,m=e.height,S=K(),G=V(),d=u(i.style.left)||0,X=u(i.style.top)||0,D=d+z,O=X+w,Z=n.adjustPosition({x:D,y:O},{width:k,height:m},{width:S,height:G});Z&&(D=Z.x,O=Z.y);var U=D-d,M=O-X;r(i,P,D+E),r(i,J,O+E),_.x+=U,_.y+=M,W.position={x:D,y:O},y.$5d?n.$10d.fire({kind:"betweenMove",target:n,originEvent:l}):(y.$5d=!0,n.$10d.fire({kind:"beginMove",target:n,originEvent:l}))}}},handleWindowMouseMove:function(O){this.handleWindowTouchMove(O)},handleWindowResize:function(){var x=this,b=x,e=b._config,B=b.$21d,d=K(),X=V(),W=e.width,D=e.height,R=e.position||"center";e.maximized?(r(B,y,d+E),r(B,j,X+E),r(B,J,l),r(B,P,l)):(r(B,y,W+E),r(B,j,D+E),"center"===R?(r(B,P,(d-W)/2+E),r(B,J,(X-D)/2+E)):(r(B,P,R.x+E),r(B,J,R.y+E))),b.iv()},handle_mousewheel:function(Q){Q.stopPropagation()},handle_DOMMouseScroll:function(R){R.stopPropagation()}}),e.widget.Dialog=function(c){var T=this,H=T._view=B.createView(null,T);H[p]="ht-widget-dialog",r(H,G,d),r(H,J,l),r(H,b,l),r(H,P,l),r(H,R,l),r(H,y,"auto"),r(H,j,"auto"),t.baseZIndex!=s&&r(H,"z-index",t.baseZIndex+"");var U=T.$11d=new X(T);T.bindingHandleWindowResize=U.handleWindowResize.bind(T),T.$10d=new e.Notifier,c&&T.setConfig(c)},D("Dialog",W,{ms_v:1,ms_fire:1,_modal:!0,setTitle:function(l){this._config.title=l,this.getView().querySelector(".dialog-container-title span").innerHTML=l},clearNodes:function(m){if(m)for(;m.firstChild;)m.removeChild(m.firstChild)},$31d:function(){var K=this,L=K.$6d=o(),Z=K._config,W=K.$12d=K.$13d();L[p]="dialog-container-title",r(L,"cursor","default"),r(L,"white-space","nowrap"),r(L,"overflow","hidden"),r(L,"font",t.dialogTitleLabelFont),r(L,O,Z.titleBackground||t.dialogTitleBackground),r(L,"color",Z.titleColor||t.dialogTitleLabelColor);var u=x("span"),B=K.$25d();if(Z.titleAlign&&r(L,"text-align",Z.titleAlign),Z.titleIcon){var d=K.$14d=K.$15d();U(L,d)}if(Z.title&&Z.title.trim&&(Z.title=Z.title.trim()),u[I]=Z.title||"&nbsp;",U(L,u),Z.maximizable){var M=K.$16d=K.$17d();U(W,M)}if(Z.closable){var q=K.$18d=K.$19d();U(W,q)}return U(L,W),r(L,"display","block"),r(L,"line-height",B+E),L},$13d:function(){var q=o();return r(q,G,d),r(q,P,l),r(q,R,5+E),r(q,J,l),r(q,b,l),r(q,"text-align",R),r(q,"white-space","nowrap"),q[p]="dialog-title-controls",q},$20d:function(){var N=this.$21d=o(),e=this._config,Z=e.borderWidth;return r(N,G,"fixed"),r(N,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),r(N,"padding",l+" "+Z+E+" "+Z+E+" "+Z+E),r(N,"box-sizing","border-box"),r(N,"-moz-box-sizing","border-box"),N[p]="dialog-container",r(N,O,e.titleBackground||t.dialogTitleBackground),N},$22d:function(){var k,N=this,Z=N._config,a=N.$7d=o(),n=Z.content,T=0,A=Z.contentPadding||0;Z.buttons!=s&&Z.buttons.length>0&&(T=32),f(n)?a[I]=n:n.getView?(k=n.getView(),U(a,k)):(k=n,U(a,k)),r(a,G,d),r(a,"font",t.dialogContentLabelFont),Z.width&&r(a,y,Z.width-10-2*A+E),e.Default.appendToScreen(a);var K=a.offsetWidth+1,w=a.offsetHeight,Q=N.$25d();return Z.width==s?Z.width=K+10+2*A:r(a,y,"auto"),Z.height==s&&(Z.height=w+Q+T+5+2*A),e.Default.removeHTML(a),k&&(r(k,"box-sizing","border-box"),r(k,"-moz-box-sizing","border-box"),r(k,y,"100%"),r(k,j,"100%")),a[p]="dialog-content",r(a,J,Q+A+E),r(a,b,T+A+E),r(a,P,A+E),r(a,R,A+E),r(a,"overflow","hidden"),a},getOverlayDiv:function(){return this.$41d},$23d:function(){if(this.$41d)return this.$41d;var v=this.$41d=o();return v[p]="dialog-overlay",r(v,G,d),r(v,J,l),r(v,b,l),r(v,P,l),r(v,R,l),r(v,O,"rgba(235, 235, 235, 0.7)"),v},_config:s,setSize:function(b,f){var J=this,U=J._config;U&&(U.width=b,U.height=f,J.isShowing()&&(J.bindingHandleWindowResize(),J.iv()))},getConfig:function(){return this._config},$24d:function(){var l=this._config,K=l.titleIconSize||16;return q&&(K*=1.2),K},$25d:function(){var y=this._config,O=y.titleHeight||t.widgetTitleHeight;return O},$26d:function(R){r(R,"cursor","pointer"),r(R,"display","inline-block"),r(R,"margin-right",(q?8:4)+E),r(R,"vertical-align",J)},$27d:function(){var m=this.$30d=o(),B=10;return q&&(B=20),r(m,y,B+E),r(m,j,B+E),r(m,G,d),r(m,b,l),r(m,R,l),m[p]="resize-area",m},$15d:function(){var g=this,D=Q();D[p]="dialog-title-control dialog-title-control-icon";var i=g.$25d(),J=g.$24d();return g.$26d(D),B.setCanvas(D,J,i),D},$17d:function(){var Y=Q();Y[p]="dialog-title-control dialog-title-control-maximize";var h=this.$25d(),v=this.$24d();return this.$26d(Y),B.setCanvas(Y,v,h),Y},$19d:function(){var N=Q();N[p]="dialog-title-control dialog-title-control-close";var P=this.$25d(),q=this.$24d();return this.$26d(N),B.setCanvas(N,q,P),N},$28d:function(){var U=o();return r(U,O,t.dialogContentBackground||"white"),r(U,y,"100%"),r(U,j,"100%"),r(U,G,"relative"),U},$29d:function(){var K=this,z=o();r(z,"line-height",32+E),r(z,G,d),r(z,b,l),r(z,P,l),r(z,"white-space","nowrap"),r(z,"overflow","hidden"),r(z,R,l),r(z,O,t.dialogHeaderBackground),z[p]="dialog-container-buttons";var L=this._config,g=L.buttonsAlign||R,F=0;return r(z,"text-align",g),K.$42d=[],L.buttons.forEach(function(s){var $={};for(var H in s)$[H]=s[H];s.background||($.background=t.dialogButtonBackground),s.selectBackground||($.selectBackground=t.dialogButtonSelectBackground),s.labelColor||($.labelColor=t.dialogButtonLabelColor);var A=t.createObject(e.widget.Button,$),M=A.getView();M[p]="dialog-button "+s.className,M.buttonItem=s,K.$42d.push(A),r(M,G,"relative"),r(M,"display","inline-block"),r(M,"text-align",P),r(M,"height",24+E);var T=q?10:5;g===P||g===R?r(M,"margin-"+g,T+E):0===F||r(M,"margin-"+P,T+E),r(M,"vertical-align","middle");var h=t.getTextSize(A.getLabelFont(),s.label).width+10;A.onClicked=function(I){s.action&&s.action.call(K,s,I)},r(M,y,h+E),U(z,A.getView()),F++}),z},setConfig:function(M){if(M){var o=this,F=o._view;o._config=M,o.action=M.action,o.clearNodes(F),M.borderWidth==s&&(M.borderWidth=5);var e=o.$23d(),y=o.$28d(),b=o.$31d(),i=o.$22d(),f=o.$20d(),m=o.$30d=o.$27d();if(U(F,e),U(F,f),U(f,y),U(y,b),U(y,i),M.buttons!=s&&M.buttons.length>0){var v=o.$29d();U(y,v)}U(f,m),M.maximized?(M.maximized=!1,o.bindingHandleWindowResize(),o.maximize(!0)):o.bindingHandleWindowResize(),o.isShowing()&&o.iv()}},hide:function(){var q=this,i=q.$21d,V=q.$41d,O=q._view;O[p]="ht-widget-dialog",A(i).duration(200).scale(.7).set(a,l).end(function(){q.onHidden&&q.onHidden(),e.Default.removeHTML(O),q.$10d.fire({kind:"hide",target:q})}),A(V).duration(200).set(a,l).end(),h(w,"resize",q.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(k){this._modal=k;var L=this.$23d();L.style.display=k?"block":"none";var z=this._view;r(z,y,k?"auto":l),r(z,j,k?"auto":l)},isModal:function(){return this._modal},$32d:function(){var C=this,I=C._config,V=C.$21d;M(V,H),C.iv(),I.maximized?C.$10d.fire({kind:"maximize",target:C}):C.$10d.fire({kind:"restore",target:C})},maximize:function(M){var S=this,e=S.$21d,Q=S._config;if(!Q.maximized){Q.maximized=!0,S.$33d(),S.$16d[p]="dialog-title-control dialog-title-control-minimize";var D=Q.width,K=Q.height,x=u(e.style.left)||0,v=u(e.style.top)||0;S.$36d=D,S.$37d=K,S.$34d=x,S.$35d=v;var a,W=M?0:200,T=this._view.parentNode;a=T&&T!==document.body?this._view.parentNode.getBoundingClientRect():t.getWindowInfo(),A(e).duration(W).set(P,a.left+E).set(J,a.top+E).set(y,a.width+E).set(j,a.height+E).end(function(){S.$32d()})}},restore:function(){var F=this,o=F.$34d,t=F.$35d,v=F.$36d,l=F.$37d,T=F._config;if(T.maximized&&(T.maximized=!1,F.$33d(),F.$16d[p]="dialog-title-control dialog-title-control-maximize",F.isShowing()&&o!=s&&t!=s&&v!=s&&l!=s)){var Q=F.$21d;A(Q).duration(200).set(P,o+E).set(J,t+E).set(y,v+E).set(j,l+E).end(function(){F.$32d()})}delete F.$34d,delete F.$35d,delete F.$36d,delete F.$37d},show:function(J){var h=this,f=h._view,k=h._config,G=h.$21d,L=h.$41d;J=J||k.parentDOM,k&&k.zIndex!=s&&r(f,"z-index",k.zIndex+H),J?e.Default.appendChild(J,f):e.Default.appendToScreen(f),M(G,"scale(0.7)"),r(G,a,l),h.iv(),h.validate(),h._view[p]+=" dialog-show",i(function(){A(G).duration(200).scale(1).set(a,"1").end(function(){r(G,y,G.clientWidth+E),r(G,j,G.clientHeight+E),h.onShown&&h.onShown(),h.$10d.fire({kind:"show",target:h});var l=k&&k.content;l&&l.iv&&l.iv()}),A(L).duration(200).set(a,"1").end(),z(w,"resize",h.bindingHandleWindowResize)},30)},setPosition:function(Y){var v=this.$21d;v.style.left=Y.x+"px",v.style.top=Y.y+"px"},addEventListener:function(l,T,M){this.$10d.add(l,T,M)},removeEventListener:function(l,G){this.$10d.remove(l,G)},$38d:function(e,c,A,O){var E=B.initContext(e);B.translateAndScale(E,0,0,1),E.clearRect(0,0,A,A);var T=(A-O)/2;t.drawStretchImage(E,t.getImage(c),"fill",0,T,O,O),E.restore()},$33d:function(){var Q=this,x=Q._config,H=Q.$16d,b=x.maximized?t.dialogRestoreIcon:t.dialogMaximizeIcon;if(H&&b){var X=Q.$25d(),e=Q.$24d();Q.$38d(H,t.getImage(b),X,e)}},$39d:function(){var R=this,$=R._config,H=R.$14d,M=$.titleIcon;if(H&&M){var C=R.$25d(),F=R.$24d();R.$38d(H,t.getImage(M),C,F)}},$40d:function(){var X=this,H=X.$18d,d=t.dialogCloseIcon;if(H&&d){var Z=X.$25d(),J=X.$24d();X.$38d(H,t.getImage(d),Z,J)}},invalidate:function(d){var y=this,h=y.$42d;y._68I||(y._68I=1,t.callLater(y.validate,y,s,d),y.onInvalidated&&y.onInvalidated(),y.fireViewEvent("invalidate"));var B=y._config.content;B.invalidate&&B.invalidate(),h&&h.forEach(function(l){l.iv()})},validateImpl:function(){var f=this;f.$40d(),f.$33d(),f.$39d();var Z=f._config.content;Z.initView&&(Z.setX(0),Z.setY(0),Z.setWidth(f.$7d.clientWidth),Z.setHeight(f.$7d.clientHeight))},adjustPosition:function(v,r,Y){var e=r.width,c=r.height,T=Y.width,B=Y.height,W=v.x,U=v.y,H=this._config,$=H.minDragSize||20;return"inside"===H.dragMode?(W+e>T&&(W=T-e),U+c>B&&(U=B-c),0>W&&(W=0),0>U&&(U=0)):(null==H.dragMode||"none"===H.dragMode)&&(-e+$>W&&(W=-e+$),W>T-$&&(W=T-$),U>B-$&&(U=B-$),0>U&&(U=0)),{x:W,y:U}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);