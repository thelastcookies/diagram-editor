!function(t,i){"use strict";var Y="ht",C=t[Y],h="position",X="absolute",z="px",Q="left",s="top",k="innerHTML",o="className",e="width",p="height",T="0",V="display",u="none",w="visibility",E="user-select",j="margin",g="padding",Z=null,$=C.Color,x=C.Default,N=x.getInternal(),D=t.setTimeout,O=t.setInterval,F=t.clearTimeout,r=t.clearInterval,L=t.parseInt,q=x.isLeftButton,I=x.isDragging,H=x.startDragging,n=x.getDistance,K=x.isTouchable,M=x.isTouchEvent,y=x.getPagePoint,m=x.isRightButton,G=$.widgetIconHighlight,d=$.widgetIconBorder,J=$.widgetIconGradient,U=function(){return document},P=function(D,n){return D.querySelectorAll(n)},W=function(s){var K=U().createElement(s);return"ul"===s&&(S(K,h,"relative"),S(K,j,T),S(K,g,T),S(K,"list-style",u),S(K,"box-sizing","border-box"),S(K,"-moz-box-sizing","border-box"),S(K,V,"inline-block"),S(K,"vertical-align","text-bottom"),S(K,"border","1px solid "+x.contextMenuBorderColor),S(K,"box-shadow","0 0 16px 1px "+x.contextMenuShadowColor),S(K,"overflow","hidden"),x.contextMenuBorderRadius&&S(K,"border-radius",x.contextMenuBorderRadius+z)),K},A=function(J){var d=J.touches[0];return d?d:J.changedTouches[0]},l=function(){return W("div")},R=function(){return W("canvas")},S=function(e,i,E){e.style.setProperty(i,E,Z)},a=function(G,q,L){x.def(C.widget[G],q,L)},v=function(I,B){I.appendChild(B)},b=function(x,P){x.removeChild(P)},B=N.addEventListener,f=N.removeEventListener;N.addMethod(x,{contextMenuCheckIcon:{width:16,height:16,comps:[{type:"border",rect:[1,1,14,14],width:1,color:d},{type:"shape",points:[13,3,7,12,4,8],borderWidth:2,borderColor:G}]},contextMenuRadioIcon:{width:16,height:16,comps:[{type:"circle",rect:[2,2,12,12],borderWidth:1,borderColor:d},{type:"circle",rect:[4,4,8,8],borderWidth:1,borderColor:G,gradient:x.imageGradient,gradientColor:J,background:G}]},contextMenuLabelFont:(K?"16":"13")+"px arial, sans-serif",contextMenuLabelColor:"#000",contextMenuBackground:"#fff",contextMenuDisabledLabelColor:"#888",contextMenuHoverBackground:"#648BFE",contextMenuHoverLabelColor:"#fff",contextMenuSeparatorWidth:1,contextMenuSeparatorColor:"#E5E5E5",contextMenuScrollerColor1:"#FDFDFD",contextMenuScrollerColor2:"#D3D3D3",contextMenuScrollerBorderColor:"#C3C3C3",contextMenuBorderColor:"#C3C3C3",contextMenuShadowColor:"rgba(128, 128, 128, 0.5)",contextMenuBorderRadius:5,contextMenuSubmenuMark:"▶"},!0);var _=function(K){var W=this,y=K._view;W.$11b=K,W.addListeners(),B(y,"contextmenu",function(f){f.preventDefault()});var v=W.$37b=W.$36b.bind(W);B(y,"mouseover",v),B(y,"mouseout",v)};x.def(_,i,{ms_listener:1,getView:function(){return this.$11b._view},handle_touchstart:function(M){if(x.preventDefault(M),q(M)){for(var m=this,N=m.$11b,L=m.getView(),F=L.children,r=0;r<F.length;r++){var E=F[r],u=E.$24b,B=E.$25b;if(u&&u.contains(M.target))return N.scrollUp(E),m.$28b=D(function(){m.$29b=O(function(){N.scrollUp(E)},100)},500),H(m,M),void 0;if(B&&B.contains(M.target))return N.scrollDown(E),m.$28b=D(function(){m.$29b=O(function(){N.scrollDown(E)},100)},500),H(m,M),void 0}m.$30b=y(M)}},handle_mousedown:function(D){this.handle_touchstart(D)},handle_touchend:function(g){if(q(g)){var x=this,y=x.$30b,G=M(g)?{x:A(g).pageX,y:A(g).pageY}:{x:g.pageX,y:g.pageY};if(!y||n(y,G)>1)return delete x.$30b,void 0;for(var e=x.getView(),_=x.$11b,Y=g.target,u=Z,F=Z,N=_._items,B=e.$26b,C=0;C<B.length;C++)if(F=B[C],F.contains(Y)){u=F.getAttribute("data-id");break}if(u&&N){var d=_.$17b(N,function(n){return n._id===u});if(d){var p=!1;d.disabled instanceof Function?p=d.disabled.call(_,d):d.disabled===!0&&(p=!0),p||(d.items?M(g)&&x.$36b(F,!0):_.$1b(d,g))}}delete x.$30b}},$36b:function(c,T){if(!I()){var R,E=this,L=E.$11b,Y=E.getView(),j=L.$20b||Y.children[0],M=L.$19b,J=Y.$26b,t=Y.children,m=c.target,u=Y.getBoundingClientRect(),g=x.getWindowInfo(),n=g.width,V=g.height,k=function(r){for(var h=0;h<t.length;h++){var Z=t[h],u=new RegExp(r+"$"),l=Z[o];if(l&&(u.test(l)||l.indexOf(r+" ")>=0))return Z}},y=function(R){for(var N=0;N<J.length;N++){var M=J[N],v=new RegExp(R+"$"),l=M[o];if(l&&(v.test(l)||l.indexOf(R+" ")>=0))return M}},O=function(l){var I=y("menu-item"+l.$45b),e=I.getBoundingClientRect(),w=e.top-u.top,J=e.left-u.left;S(l,s,w+z),S(l,Q,J+e.width+z);var M=l.getBoundingClientRect(),v=M.top,r=M.left,x=M.height,Z=M.width,f=v+x+2,L=r+Z+2;f>V&&S(l,s,w+V-f+z),L>n&&S(l,Q,J-Z+z)};if(T)R=c;else{if("mouseover"===c.type){for(var W=0;W<J.length;W++){var b=J[W];if(b.contains(m)){R=b;break}}if(!R&&M){var H=M.parentNode,l=k("submenu"+M.getAttribute("data-id"));(l&&l.contains(m)||H&&H.contains(m))&&(R=M)}}else if("mouseout"===c.type){for(var C=!1,h=c.relatedTarget,W=0;W<t.length;W++){var G=t[W];if("hidden"!==G.style.visibility&&G.contains(h)){C=!0;break}}if(C)return}!R&&j&&(R=y("menu-item"+(j.$45b||"NaN")))}if(R!=M){if(M)for(var i=M;i;){if(i[o]=i[o].replace(" menu-item-hover",""),i[o].indexOf("disabled")<0){var B=L.getItemByProperty("_id",i.getAttribute("data-id"));null!=B.background?B.background instanceof Function?S(i,"background-color",B.background.call(L,B)):S(i,"background-color",B.background):S(i,"background-color",x.contextMenuBackground),S(i,"color",x.contextMenuLabelColor)}var F=k("submenu"+i.getAttribute("data-id"));F&&S(F,w,"hidden");var p=i.parentNode;i=y("menu-item"+(p.$45b||"NaN"))}if(R){for(var Z=R,r=[];Z;){Z[o]+=" menu-item-hover",Z[o].indexOf("disabled")<0&&(S(Z,"background-color",x.contextMenuHoverBackground),S(Z,"color",x.contextMenuHoverLabelColor));var v=k("submenu"+Z.getAttribute("data-id"));v&&(S(v,w,"visible"),r.push(v));var p=Z.parentNode;Z=y("menu-item"+(p.$45b||"NaN"))}r.reverse(),r.forEach(function(f){O(f)})}}L.$19b=R,L.$20b=R?R.parentNode:Y.children[0]}},handle_mouseup:function(B){this.handle_touchend(B)},handleWindowTouchEnd:function(){var Q=this;Q.$28b!=Z&&(F(Q.$28b),delete Q.$28b),Q.$29b!=Z&&(r(Q.$29b),delete Q.$29b),delete Q.$34b,delete Q.$30b,delete Q.$35b},handleWindowMouseUp:function(k){this.handleWindowTouchEnd(k)},handle_mousemove:function(r){this.handle_touchmove(r)},handle_touchmove:function(E){if(!I()&&q(E)){for(var f=this,O=f.getView().children,i=Z,o=0;o<O.length;o++){var W=O[o];if(W.contains(E.target)){i=W;break}}var K=f.$30b,l=M(E)?{x:A(E).pageX,y:A(E).pageY}:{x:E.pageX,y:E.pageY};i&&K&&n(K,l)>2&&(H(f,E),f.$34b=i,f.$35b=i.$18b)}},handleWindowTouchMove:function(v){v.preventDefault();var y=this,i=y.$11b,d=y.$34b,T=y.$35b,q=y.$30b;if(q&&d){var m=M(v)?{x:A(v).pageX,y:A(v).pageY}:{x:v.pageX,y:v.pageY},h=m.y-q.y;h>0?i.scrollUp(d,d.$18b-(T-h)):i.scrollDown(d,T-h-d.$18b)}},handleWindowMouseMove:function(B){this.handleWindowTouchMove(B)},$10b:function(q,t){q.preventDefault();for(var K=this,p=K.getView().children,s=Z,O=0;O<p.length;O++){var w=p[O];if(w.contains(q.target)){s=w;break}}if(s){var h=this.$11b,b=h.getRowHeight();Math.abs(t)>.05&&(t>0?h.scrollUp(s,t*b):0>t&&h.scrollDown(s,-t*b))}},handle_mousewheel:function(c){this.$10b(c,c.wheelDelta/40)},handle_DOMMouseScroll:function(n){this.$10b(n,-n.detail)},$44b:function(r){this.getView().contains(r.target)||this.$11b.hide()},$41b:function(O){x.preventDefault(O)},$4b:function(f,X){var l=this.$11b;if(X=X||l._items,X&&X.length&&f.keyCode){var H=[f.keyCode];f.shiftKey&&H.push(16),f.ctrlKey&&H.push(17),f.altKey&&H.push(18),/mac/.test(t.navigator?t.navigator.userAgent.toLowerCase():"")?f.metaKey&&H.push(17):f.metaKey&&H.push(91),H.sort();var Y=H.join(),s=l.$17b(X,function(S){if(S.key){var L=S.key.slice(0);return L.sort(),Y===L.join()}});if(s){s.preventDefault!==!1&&f.preventDefault();var g=!1;s.disabled instanceof Function?g=s.disabled.call(l,s):s.disabled===!0&&(g=!0),g||l.$1b(s,f)}}},$39b:function(Q){this.$32b=y(Q)},$38b:function($){if(x.preventDefault($),!q($)){var Y=this;Y._showContextMenu=m($),Y._showContextMenu||(Y.$31b=y($),Y.$33b=D(function(){Y._showContextMenu=!0,delete Y.$33b},600))}},$40b:function(M){var c=this;c._showContextMenu&&(m(M)?c.$11b.show(M):c.$31b&&(c.$32b?n(c.$31b,c.$32b)<10&&c.$11b.show(M):c.$11b.show(M))),c.$33b!=Z&&(F(c.$33b),delete c.$33b),delete c.$31b,delete c.$32b}}),C.widget.ContextMenu=function(W){var J=this,q=J._view=N.createView(null,J);q[o]="ht-widget-contextmenu",J.setItems(W),J.$13b=new _(J),S(q,"font",x.contextMenuLabelFont),S(q,h,X),S(q,"cursor","default"),S(q,"-webkit-"+E,u),S(q,"-moz-"+E,u),S(q,"-ms-"+E,u),S(q,E,u),S(q,"box-sizing","border-box"),S(q,"-moz-box-sizing","border-box"),x.baseZIndex!=Z&&S(q,"z-index",L(x.baseZIndex)+2+""),J.$3b=function(B){J.$13b.$4b(B)}},a("ContextMenu",i,{$16b:Z,$5b:0,_items:Z,$21b:Z,_enableGlobalKey:!1,ms_v:1,enableGlobalKey:function(){var X=this,V=X._enableGlobalKey;V===!1&&(B(U(),"keydown",X.$3b),X._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,f(U(),"keydown",this.$3b)},setItems:function(F){this._items=F},getItems:function(){return this._items},getVisibleFunc:function(){return this.$16b},setVisibleFunc:function(t){this.$16b=t},setLabelMaxWidth:function(O){this.$43b=O},$1b:function(g,c){var o=this;if("check"===g.type)g.selected=!g.selected;else if("radio"===g.type){var Y=g.groupId;o.$17b(o._items,function(Q){Q.groupId===Y&&(Q.selected=!1)}),g.selected=!0}if(o.hide(),g.action)g.action.apply(g.scope||o,[g,c]);else if(g.href){var T=g.linkTarget||"_self";t.open(g.href,T)}},getItemById:function(J){return this.getItemByProperty("id",J)},setItemVisible:function(o,v){var C=this.getItemById(o);C&&(C.visible=v)},getItemByProperty:function(a,i,u){var y=this;if(u=u||y._items,!u||0===u.length)return Z;var q=y.$17b(u,function($){return $[a]===i});return q||Z},scrollUp:function(l,d){var N=this;if(d=d==Z?20:d,d=L(d),0!==d){var O=0;l.$18b>d&&(O=l.$18b-d),N.$42b(l,O),l.scrollTop=O,l.$18b=O}},scrollDown:function(D,i){var J=this;if(i=i==Z?20:i,i=L(i),0!==i){var z=D.$22b,U=D.$23b,H=z-U;U+D.$18b+i<z&&(H=D.$18b+i),J.$42b(D,H),D.scrollTop=H,D.$18b=H}},$42b:function(T,c){c=c==Z?T.$18b:c;var H=T.$24b,K=T.$25b;H&&(S(H,"top",c+z),0==c?S(H,V,u):S(H,V,"block")),K&&(S(K,"bottom",-c+z),c==T.$22b-T.$23b?S(K,V,u):S(K,V,"block"))},getRowHeight:function(){return this._view.querySelector(".menu-item").offsetHeight},$17b:function(n,X){for(var b=0;b<n.length;b++){var k=n[b];if(X(k))return k;if(k.items){var g=this.$17b(k.items,X);if(g)return g}}},$2b:function(P,f){for(var u=this,y=0;y<P.length;y++){u.$5b++;var I=P[y];if(I.visible!==!1)if(x.isFunction(I.visible)&&I.visible()===!1)this._clearItemId(I);else if(!u.$16b||u.$16b.call(u,I)){var E=W("li"),D=u.$5b+"";if(S(E,"white-space","nowrap"),S(E,V,"block"),"separator"===I||I.separator===!0){var J=l();J[o]="separator",S(J,p,x.contextMenuSeparatorWidth+z),S(J,"background",x.contextMenuSeparatorColor),v(E,J)}else{I._id=D,E.setAttribute("data-id",D);var m=W("span"),a=W("span"),B=R(),A=l();if(S(m,V,"inline-block"),S(m,p,"1.2em"),S(a,V,"inline-block"),S(a,p,"1.2em"),S(a,"line-height","1.2em"),B[o]="prefix",S(B,V,"inline-block"),S(B,e,"1em"),S(B,p,"1em"),S(B,"vertical-align","middle"),S(B,j,"0 0.2em"),"check"===I.type&&I.selected?B[o]+=" check-prefix":"radio"===I.type&&I.selected&&(B[o]+=" radio-prefix"),v(E,B),I.icon){var N=R();N[o]="contextmenu-item-icon",S(N,V,"inline-block"),S(N,p,"1.2em"),S(N,e,"1.2em"),S(N,"margin-right","0.2em"),S(N,"float","left"),N.$50b=I.icon,N._item=I,v(m,N)}if(a[k]=I.label,v(m,a),v(E,m),A[o]="suffix",S(A,V,"inline-block"),S(A,"margin-left","1em"),S(A,"margin-right","0.4em"),S(A,"text-align","right"),S(A,"font-size","75%"),I.items&&(A[k]=x.contextMenuSubmenuMark),I.suffix&&(A[k]=I.suffix),v(E,A),E[o]="menu-item menu-item"+D,null!=I.background?I.background instanceof Function?S(E,"background-color",I.background.call(u,I)):S(E,"background-color",I.background):S(E,"background-color",x.contextMenuBackground),S(E,"color",x.contextMenuLabelColor),S(E,g,"3px 0"),I.disabled instanceof Function){var L=I.disabled.call(u,I);L&&(E[o]+=" disabled",S(E,"color",x.contextMenuDisabledLabelColor))}else I.disabled&&(E[o]+=" disabled",S(E,"color",x.contextMenuDisabledLabelColor));if(I.items){u.$21b||(u.$21b=new C.List);var Y=W("ul");Y[o]="submenu"+D,Y.$45b=D,S(Y,w,"hidden"),S(Y,h,X),v(u._view,Y),u.$21b.add(Y),u.$2b(I.items,Y)}}v(f,E)}else this._clearItemId(I);else this._clearItemId(I)}},rebuild:function(){var O=this,X=O._items,F=O._view;if(F&&(F[k]="",O.$21b=Z,O.$5b=0,O.$19b=Z,O.$20b=Z,F.$26b=Z,X&&0!==X.length)){var R=W("ul",O._r);v(F,R),O.$2b(X,R)}},addTo:function(o){if(o){var Y=this,I=Y.$13b;Y.$12b=o,Y.$9b=function(m){I.$44b(m)};var T=Y.$6b=function(S){I.$38b(S)},E=Y.$7b=function(w){I.$39b(w)},e=Y.$8b=function(c){I.$40b(c)};x.mockTouch&&(B(o,"touchstart",T,!0),B(o,"touchmove",E),B(o,"touchend",e)),B(o,"mousedown",T,!0),B(o,"mousemove",E),B(o,"mouseup",e),Y.$27b=function(R){I.$41b(R)},B(o,"contextmenu",Y.$27b)}},showOnView:function(y,H,u){y=y.getView?y.getView():y;var N=x.getWindowInfo(),L=y.getBoundingClientRect();this.show(L.left+N.left+H,L.top+N.top+u)},show:function(K,i,w){var Y=this,w=w==Z?!0:!1,j=Y._view;if(j){if(Y.invalidate(),1===arguments.length){var $=K;if(M($)){var y=A($);K=y.pageX,i=y.pageY}else K=$.pageX,i=$.pageY}var b=x.getWindowInfo(),E=b.width,n=b.height,H=b.left,L=b.top,d={pageX:K,pageY:i,clientX:K-H,clientY:i-L,target:1,originEvent:$},G=d.clientX,g=d.clientY,D=function(r){r.style.height=n-6+z;var t=l(),J=l(),G=function(j){S(j,h,X),S(j,"text-align","center"),S(j,e,"100%"),S(j,"font-size",10+z),S(j,"padding","2px 0"),S(j,"border","0px solid "+x.contextMenuScrollerBorderColor),S(j,"background-color",x.contextMenuScrollerColor1),j.style.backgroundImage="-webkit-linear-gradient(top, "+x.contextMenuScrollerColor1+", "+x.contextMenuScrollerColor2+")",j.style.backgroundImage="linear-gradient(to bottom, "+x.contextMenuScrollerColor1+", "+x.contextMenuScrollerColor2+")"};t[o]="menu-arrow-item menu-arrow-item-top",J[o]="menu-arrow-item menu-arrow-item-bottom",G(t),S(t,"top",T),S(t,"left",T),S(t,"border-bottom-width",1+z),t[k]="▲",G(J),S(J,"bottom",T),S(J,"left",T),S(J,"border-top-width",1+z),J[k]="▼",r.$24b=t,r.$25b=J,r.$18b=r.scrollTop,r.$22b=r.scrollHeight,r.$23b=r.clientHeight,v(r,t),v(r,J),Y.$42b(r)};Y.beforeShow&&Y.beforeShow(d);var a=Y._items;if(a&&($&&$.preventDefault(),a.length)){Y.rebuild();var N=j.$26b=P(j,".menu-item");if(N.length){x.appendToScreen(j);var t=j.children[0];t.offsetHeight>n&&D(t);var O=g+(w?1:0),J=G+(w?1:0),I=function(O){for(var M=0,J=0,W=0,r=Y.$43b;W<O.children.length;W++){var K=O.children[W];if(K.getAttribute("data-id")){var f=K.children[1],P=K.children[2],u=f.children;if(r){var s=u[0];u.length>1&&(s=u[1]),s.offsetWidth>r&&(s[k]="<marquee scrollamount='3'>"+s[k]+"</marquee>",s.children[0].style.verticalAlign="text-bottom",S(s,e,r+z),S(s,V,"inline-block"))}var A=f.offsetWidth,T=P.offsetWidth;A>M&&(M=A),T>J&&(J=T)}}for(W=0;W<O.children.length;W++){var K=O.children[W];if(K.getAttribute("data-id")){var f=K.children[1],P=K.children[2],t=f.children[0],X=f.children[1];!X&&t.style.width&&S(t,e,M+z),S(f,e,M+z),S(P,e,J+z)}}};I(t);var F=g+3+j.offsetHeight,C=G+3+j.offsetWidth;F>n?S(j,s,O-(F-n)+L+z):S(j,s,O+L+z),C>E?S(j,Q,J-(C-E)+H+z):S(j,Q,J+H+z);var f=Y.$21b;f&&f.each(function(R){I(R),R.offsetHeight>n&&D(R)}),Y.$9b&&(x.mockTouch&&B(U(),"touchstart",Y.$9b,!0),B(U(),"mousedown",Y.$9b,!0)),Y.afterShow&&Y.afterShow(d),Y.$47b()}}}},isShowing:function(){return this._view?this._view.parentNode!=Z:!1},getRelatedView:function(){return this.$12b},hide:function(){var F=this,t=F._view;t&&t.parentNode&&(b(t.parentNode,t),x.mockTouch&&f(U(),"touchstart",F.$9b,!0),f(U(),"mousedown",F.$9b,!0),F.afterHide&&F.afterHide())},dispose:function(){var q=this,m=q.$12b,H=q._view;H&&(this.hide(),q.disableGlobalKey(),m&&(x.mockTouch&&(f(m,"touchstart",q.$6b,!0),f(m,"touchmove",q.$7b),f(m,"touchend",q.$8b)),f(m,"mousedown",q.$6b,!0),f(m,"mousemove",q.$7b),f(m,"mouseup",q.$8b),f(m,"contextmenu",q.$27b)),q._view=q._items=q.$21b=q.$19b=q.$12b=q.beforeShow=q.afterShow=q.afterHide=q.$9b=q.$3b=q.$6b=q.$7b=q.$8b=q.$27b=Z)},$46b:function(Y,A,l,d,r){var o=N.initContext(Y);N.translateAndScale(o,0,0,1),o.clearRect(0,0,l,d),x.drawStretchImage(o,x.getImage(A),"fill",0,0,l,d,r,this),o.restore()},$47b:function(){var s,H,U,v=this,Y=v._view;if(v.isShowing()){var F=P(Y,".check-prefix");for(U=0;U<F.length;U++){var f=F[U];s=f.clientWidth,H=f.clientHeight,f.$48b=s,f.$49b=H,N.setCanvas(f,s,H)}var y=P(Y,".radio-prefix");for(U=0;U<y.length;U++){var a=y[U];s=a.clientWidth,H=a.clientHeight,a.$48b=s,a.$49b=H,N.setCanvas(a,s,H)}var r=P(Y,".contextmenu-item-icon");for(U=0;U<r.length;U++){var D=r[U];s=D.clientWidth,H=D.clientHeight,D.$48b=s,D.$49b=H,N.setCanvas(D,s,H)}}},validateImpl:function(){var D,g,E,s=this,r=s._view;if(s.isShowing()){var U=P(r,".check-prefix");for(E=0;E<U.length;E++){var $=U[E];D=$.$48b,g=$.$49b,D&&g&&s.$46b($,x.contextMenuCheckIcon,D,g)}var n=P(r,".radio-prefix");for(E=0;E<n.length;E++){var N=n[E];D=N.$48b,g=N.$49b,D&&g&&s.$46b(N,x.contextMenuRadioIcon,D,g)}var H=P(r,".contextmenu-item-icon");for(E=0;E<H.length;E++){var J=H[E];D=J.$48b,g=J.$49b,D&&g&&s.$46b(J,x.getImage(J.$50b),D,g,J._item)}}},_clearItemId:function(Z){var $=this;delete Z._id,Z.items&&Z.items.forEach(function(w){$._clearItemId(w)})}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);