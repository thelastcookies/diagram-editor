!function(u,N){"use strict";var n="ht",b=u[n],H="innerHTML",e="className",Z=null,I="px",C=b.Default,h=C.getInternal(),F="0",i=function(){return document},o=function(B){return i().createElement(B)},v=function(){return o("canvas")},X=function(a,s,F){a.style.setProperty(s,F,Z)},T=function(I,d,U){C.def(b.widget[I],d,U)},$=function(b,K){b.appendChild(K)},f=function(B,o){B.removeChild(o)},m=h.addEventListener,V=h.removeEventListener,s=C.isTouchable,t=C.isTouchEvent;h.addMethod(C,{menuLabelFont:(s?"16":"13")+"px arial, sans-serif",menuLabelColor:"#000",menuBackground:"#F0EFEE",menuHoverBackground:"#648BFE",menuHoverLabelColor:"#fff",menuSeparatorWidth:1,menuSeparatorColor:"#999"},!0),b.widget.Menu=function(K){var T=this,j=T._view=h.createView(null,T),D=T.$1g=new b.widget.ContextMenu,l=o("ul");D._r=!0,D._view[e]+=" ht-widget-dropdownmenu",j[e]="ht-widget-menu",l[e]="header",X(j,"margin",F),X(j,"padding",F),X(j,"background",C.menuBackground),X(j,"-webkit-user-select","none"),X(j,"-moz-user-select","none"),X(j,"user-select","none"),X(j,"text-align","left"),X(j,"border-bottom",C.menuSeparatorWidth+"px solid "+C.menuSeparatorColor),X(j,"cursor","default"),X(j,"overflow","auto"),X(j,"white-space","nowrap"),X(j,"font",C.menuLabelFont),X(j,"color",C.menuLabelColor),X(j,"box-sizing","border-box"),X(j,"-moz-box-sizing","border-box"),X(l,"list-style","none"),X(l,"margin",F),X(l,"padding",F),X(l,"display","inline-block"),$(j,l),T.setItems(K),T.$2g=function(X){T.$3g(X)},T.$4g=function(R){T.$5g(R)},T.$6g=function(S){T.$7g(S)},T.$8g=function(_){T.$9g(_)},T.$9b=function(n){T.$10g(n)},T._autoShow=!0,T.setAutoShow(!1),D.afterHide=function(){T.$11g()},D.afterShow=function(){T.$12g()},V(i(),"keydown",D.$3b),T.$3b=function(C){T.$13g(C)},T.invalidate()},T("Menu",N,{_items:Z,$14g:C.menuHoverBackground,$15g:C.menuHoverLabelColor,$16g:{},_enableGlobalKey:!1,ms_v:1,$21g:"smallicons",$22g:0,$23g:0,$24g:"left",getDropDownMenu:function(){return this.$1g},setLayout:function(S){var q=this;if(q.$21g=S,q.setItems(q._items),"largeicons"===S){for(var Z=q._view.querySelectorAll(".header-item"),i=0,U=0;U<Z.length;U++){var p=Z[U];i=Math.max(i,p.clientWidth)}for(var U=0;U<Z.length;U++){var p=Z[U];X(p,"min-width",i+I)}}this.invalidate()},getLayout:function(){return this.$21g},setHeaderItemHGap:function(J){this.$22g=J;for(var d=this._view.querySelectorAll(".header-item"),s=0;s<d.length;s++){var g=d[s];X(g,"margin-left",J+I),X(g,"margin-right",J+I)}},getHeaderItemHGap:function(){return this.$22g},setHeaderItemVGap:function(r){this.$23g=r;for(var p=this._view.querySelectorAll(".header-item"),V=0;V<p.length;V++){var Z=p[V];X(Z,"margin-top",r+I),X(Z,"margin-bottom",r+I)}},getHeaderItemVGap:function(){return this.$24g},setHeaderItemAlign:function(Q){this.$24g=Q,X(this._view,"text-align",Q)},getHeaderItemAlign:function(){return this.$23g},enableGlobalKey:function(){var z=this,S=z._enableGlobalKey;S===!1&&(m(i(),"keydown",z.$3b),z._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,V(i(),"keydown",this.$3b)},setHoverBackground:function(R){this.$14g=R},setHoverColor:function(n){this.$15g=n},setItems:function(k){var g=this,p=g._view,j=g.$21g;if(g._items=k,p.children[0][H]="",g.$16g={},k&&k.length){for(var L=p.children[0],w=0,U=i().createDocumentFragment();w<k.length;w++){var V=k[w],O=o("li"),Z=o("span");if(V.icon){var x=v();x[e]="menu-item-icon","smallicons"===j?(X(x,"height","1.2em"),X(x,"width","1.2em"),X(x,"vertical-align","middle")):(X(x,"height","32px"),X(x,"width","32px"),X(x,"display","block"),X(x,"margin","0 auto")),x.$20g=V.icon,$(O,x)}O[e]="header-item",X(O,"display","inline-block"),X(O,"vertical-align","top"),X(O,"padding","0 1.2em"),X(O,"line-height","1.8em"),"largeicons"===j&&X(O,"text-align","center"),X(O,"background-color","rgba(0,0,0,0)"),O.setAttribute("data-index",w),g.$16g[w]=V.items,Z[H]=V.label,"iconsonly"!==j&&$(O,Z),$(U,O)}$(L,U)}},showDropdownMenu:function(t){var f=this,M=f.$16g[t],x=f.$1g,T=f._view.children[0].children[t],I=f.$17g;if(T&&T!==I){I&&f.hideDropdownMenu();var k=T.getBoundingClientRect(),L=C.getWindowInfo();f.$17g=T,x.setItems(M),x.show(k.left+L.left,k.top+k.height+L.top,!1)}},hideDropdownMenu:function(){this.$1g.hide()},getItemByProperty:function(w,v){var b=this,N=b._items;return N&&0!==N.length?b.$1g.getItemByProperty(w,v,N):Z},$12g:function(){var W=this,u=W.$17g;u.style.background=W.$14g,u.style.color=W.$15g,W._autoShow||m(i(),s?"touchstart":"mousedown",W.$9b)},$11g:function(){var N=this,z=N.$17g;z&&(z.style.background="",z.style.color="",N.$17g=Z),V(i(),s?"touchstart":"mousedown",N.$9b)},$10g:function(L){var Y=this,H=Y._view,Z=Y.$1g,j=H.children[0];!i().body.contains(H)||j.contains(L.target)||Z._view.contains(L.target)||Y.hideDropdownMenu()},$13g:function(M){var $=this,G=$.$1g;i().body.contains($._view)&&G.$13b.$4b.call(G.$13b,M,$._items)},setAutoShow:function(T){var v=this,x=v.$1g,w=v._view;v._autoShow!==T&&(v._autoShow?(V(w,"mouseover",v.$2g),V(w,"mouseout",v.$4g),V(x._view,"mouseout",v.$4g),s||(m(w,"mouseover",v.$8g),m(w,"mouseout",v.$8g)),m(w,s?"touchstart":"mousedown",v.$6g)):(V(w,"mouseover",v.$8g),V(w,"mouseout",v.$8g),V(w,s?"touchstart":"mousedown",v.$6g),V(i(),s?"touchstart":"mousedown",v.$9b),s||(m(w,"mouseover",v.$2g),m(w,"mouseout",v.$4g),m(x._view,"mouseout",v.$4g))),v._autoShow=T)},$3g:function(N){var E=this,W=E._view.children[0],$=N.target;if(W!==$&&W.contains($)){for(;"header-item"!==$[e];)$=$.parentNode;E.showDropdownMenu($.getAttribute("data-index"))}},$5g:function(D){var t=this,y=t._view.children[0],n=t.$1g,P=D.target,O=D.relatedTarget;!y.contains(P)&&!n._view.contains(P)||y.contains(O)||n._view.contains(O)||t.hideDropdownMenu()},$7g:function(Y){Y.preventDefault();var Q=this,n=Q._view.children[0],j=Q.$1g,o=Y.target;if(C.isLeftButton(Y)&&n!==o&&n.contains(o))if(t(Y)){for(;"header-item"!==o[e];)o=o.parentNode;var k=o.getAttribute("data-index"),j=Q.$1g,E=Q._view.children[0].children[k],d=Q.$17g;j.isShowing()&&Q.hideDropdownMenu(),E!==d&&Q.showDropdownMenu(k)}else if(j.isShowing())Q.hideDropdownMenu();else{for(;"header-item"!==o[e];)o=o.parentNode;Q.showDropdownMenu(o.getAttribute("data-index"))}},$9g:function($){var T=this,Q=T._view,Y=T.$1g,e=$.target;if(Q.contains(e)){for(var h=Q.querySelectorAll(".header-item"),j=Z,K=0;K<h.length;K++){var A=h[K];A.style.background="",A.style.color="","mouseover"===$.type?A.contains(e)&&(j=A):"mouseout"===$.type&&Y.isShowing()&&T.$17g===A&&(j=A)}Y.isShowing()&&(j||(j=T.$17g),T.showDropdownMenu(j.getAttribute("data-index"))),j&&(j.style.background=T.$14g,j.style.color=T.$15g)}},getShowingMenuIndex:function(){var b=this.$17g;return b?b.getAttribute("data-index"):-1},addTo:function(I){var c=this,r=c._view;$(I,r),c.invalidate()},dispose:function(){var T=this,R=T._view,F=T.$1g;R&&(T._autoShow?(V(R,"mouseover",T.$2g),V(R,"mouseout",T.$4g),V(F._view,"mouseout",T.$4g)):(V(R,"mouseover",T.$8g),V(R,"mouseout",T.$8g),V(R,s?"touchstart":"mousedown",T.$6g),V(i(),s?"touchstart":"mousedown",T.$9b)),V(i(),"keydown",T.$3b),F.dispose(),R.parentNode&&f(R.parentNode,R),T._view=T.$1g=T.$16g=T._items=T.$17g=T.$2g=T.$4g=T.$6g=T.$8g=T.$9b=T.$3b=Z)},$19g:function(l,J,q,p){var Y=h.initContext(l);h.translateAndScale(Y,0,0,1),Y.clearRect(0,0,q,p),C.drawStretchImage(Y,C.getImage(J),"fill",0,0,q,p),Y.restore()},validateImpl:function(){var D,v,Z,O=this,m=O._view,e=m.querySelectorAll(".menu-item-icon");for(Z=0;Z<e.length;Z++){var z=e[Z];D=z.clientWidth,v=z.clientHeight,D&&v&&(h.setCanvas(z,D,v),O.$19g(z,C.getImage(z.$20g),D,v))}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);