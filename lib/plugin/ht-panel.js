!function(g,w,c){"use strict";var C="ht",S=g[C],J=S.Default,l=J.isTouchable,o=J.isTouchEvent,K=S.Color,$="px",b="0",x="innerHTML",D="className",q="position",r="absolute",i="width",_="height",d="left",E="top",e="right",j="bottom",y="max-width",V="max-height",p=null,B="none",U="",T=g.parseInt,A=g.setTimeout,W=J.getInternal(),h=J.animate,X=K.titleIconBackground,O=function(){return document},R=function(y){return O().createElement(y)},k=function(){return R("div")},u=function(){return R("canvas")},N=function(J,t,q){J.style.setProperty(t,q,p)},z=function(e,A){return e.style.getPropertyValue(A)},f=function(y,a){y.appendChild(a)},n=function(F,Z){F.removeChild(Z)},G=W.addEventListener,t=(W.removeEventListener,function(S){var C=S.scrollWidth,w=S.scrollHeight;return S===O().body&&(C=Math.max(C,O().documentElement.scrollWidth),w=Math.max(w,O().documentElement.scrollHeight)),{width:C,height:w}}),L=function(U){var R=U.touches[0];return R?R:U.changedTouches[0]};W.addMethod(J,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:X,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:X}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:X},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:X}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:X},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:X}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:X},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:X},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:X},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:X}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:X},{type:"rect",rect:[10,118,268,56],background:X},{type:"rect",rect:[10,213,268,56],background:X}]},panelTitleLabelColor:J.labelSelectColor,panelTitleLabelFont:J.labelFont,panelContentLabelFont:J.labelFont,panelTitleBackground:K.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:c},!0);var v=S.widget.Panel=function(f){var A=this,h=A._view=W.createView(null,A);A.$1i=0,A.$18i=new S.Notifier,A.$2i="leftTop",N(h,E,b),N(h,d,b),N(h,q,r),N(h,"overflow","hidden"),A._interactor=new P(A),A.setConfig(f),A.addEventListener(function(i){var Z=A.getPanelConfig(i.id),W=Z.content;("beginRestore"===i.kind||"betweenResize"===i.kind||"endToggle"===i.kind)&&(W&&W.invalidate&&W.invalidate(),Z.items&&Z.items.forEach(function(Q){Q&&Q.content&&Q.content.invalidate&&Q.content.invalidate()}))})};J.def(v,w,{ms_v:1,_dragContainment:"parent",setConfig:function(x){function B(q){q.expanded=!q.expanded,h.togglePanel(q.id,!0,!0)}if(x){for(var h=this,E=h._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);h._config=x,h.$35i=[],x.expanded==p&&(x.expanded=x.expand!=p?x.expand:!0);var F=h._view,P=h.$24i(x,F,!0),K=P[2],v=x.width;h.$35i.push(P[1]),x.items&&x.items.forEach(function(L){L.expanded==p&&(L.expanded=L.expand!=p?L.expand:!0);var C=h.$24i(L,K.children[0]);h.$35i.push(C[1])});var G=k();N(G,i,10+$),N(G,_,10+$),N(G,q,r),N(G,j,b),N(G,e,b),G[D]="resize-area",f(F,G),h.$10i(),x.flowLayout&&N(F,q,"relative"),N(F,"opacity",b),f(O().body,F),v==p&&(v=F.offsetWidth),N(F,i,v+$),N(F,y,v+$);var M=x.content;M&&M.isSelfViewEvent&&(M.setX(0),M.setY(0),M.setWidth(v-2*(x.borderWidth||0)),M.setHeight(x.contentHeight)),x.items&&x.items.forEach(function(N){B(N)}),x.buttons&&x.buttons.indexOf("toggle")<0||B(x),x.minimized==p&&x.minimize!=p&&(x.minimized=x.minimize),x.minimized&&x.minimizable!==!1&&h.minimize(!0),n(O().body,F),N(F,"opacity",U),E&&f(E,F),h.iv()}},getPanelConfig:function(k){var o=this,C=o._config,P=C.items;if(C.id===k)return C;if(P)for(var a=0;a<P.length;a++){var m=P[a];if(m.id===k)return m}},getPanelView:function(M){for(var t=this,m=t.$35i,Q=0;Q<m.length;Q++){var _=m[Q],T=_.parentNode;if(T.$15i===M)return T}},setDragContainment:function(F){this._dragContainment=F},getDragContainment:function(){return this._dragContainment},$20i:function(){var x=this._config,s=x.restoreIconSize||24;return s},$5i:function(x){var K=x.titleIconSize||16;return l&&(K*=1.2),K},$4i:function(B){var g=B.titleHeight||J.widgetTitleHeight;return g},setTitle:function(o,E){if(E==p&&(E=this._config.id),E!=p){var y=this.getPanelConfig(E),b=this.getPanelView(E);y.title=o,b.querySelector(".panel-title span").innerHTML=o}},setInnerPanel:function(h){var Y,o,b=this,x=h.id,P=b.$35i,r=!1;if(h.expanded==p&&(h.expanded=!0),x!=p){var k=b.getPanelConfig(x);if(k){r=!0;var O,C=b.getPanelView(x),i=C.parentNode,K=C.children[0];if(C!==b._view){b.$11i();for(O in k)delete k.key;for(O in h)k[O]=h[O];Y=b.$24i(h,i,!1,C),o=Y[1],i.removeChild(C);for(var v=0;v<P.length;v++)if(P[v]===K){P.splice(v,1,o);break}b.$12i(),k.expanded=!k.expanded,b.togglePanel(k.id,!0,!0),b.iv()}}}if(!r){b.$11i(),Y=b.$24i(h,b._view.children[1]),o=Y[1],P.push(o),b._config.items||(b._config.items=[]);var R=b._config.items;if(R.push(h),b.$12i(),R.length>1){var n=R[R.length-2],H=b.getPanelView(n.id).children[0];N(H,"border-bottom",b.$55i(n))}h.expanded=!h.expanded,b.togglePanel(h.id,!0,!0),b.iv()}},removeInnerPanel:function(q){var H,s=this,w=-1,L=s._config.items;if(L)for(H=0;H<L.length;H++){var S=L[H];if(S.id===q){w=H;break}}if(s.$11i(),w>=0){var x=s.$35i,$=s.getPanelView(q),e=$.children[0];for(H=0;H<x.length;H++)if(x[H]===e){x.splice(H,1);break}L.splice(w,1),$.parentNode.removeChild($)}if(s.$12i(),L.length>0){var O=L[L.length-1],f=s.getPanelView(O.id).children[0];N(f,"border-bottom",s.$55i(O))}},$6i:function(S){N(S,"cursor","pointer"),N(S,"display","inline-block"),N(S,"margin-right",(l?8:4)+$),N(S,"vertical-align",E)},$24i:function(q,h,M,t){var x=this,F=x._config.flowLayout,C=M?h:k(),y=x.$50i(q),s=x.$3i(q,M);C[D]="ht-widget-panel"+(M?" outer-panel":" inner-panel"),q.borderWidth==p&&(q.borderWidth=M?2:0);var r=q.borderWidth;if(r="0 "+r+$+" "+r+$+" "+r+$+" ",N(C,"border-width",r),N(C,"border-color",q.titleBackground||J.panelTitleBackground),N(C,"border-style","solid"),f(C,s),f(C,y),M||(t?h.insertBefore(C,t):f(h,C)),!F&&M&&q.minimizable!==!1){var G=u(),Z=x.$20i(),O=q.restoreToolTip;W.setCanvas(G,Z,Z),G[D]="control-button button-minimize button-minimize-restore",x.$6i(G),N(G,"display","none"),f(h,G),G.title=O||""}var S=q.panelBackground||q.titleBackground||J.panelTitleBackground;if(N(C,"background-color",S),q.id==p){for(var b=x.$1i++;x.getPanelConfig(b);)b=x.$1i++;q.id=b}return C.$15i=q.id,q.width&&(C.style.width=q.width+$),[C,s,y]},$9i:function(U){var n=u();n[D]="control-button button-toggle button-toggle-expand",n.title=U.toggleToolTip||"";var $=this.$4i(U),P=this.$5i(U);return this.$6i(n),W.setCanvas(n,P,$),n},$8i:function(m){var y=u(),Z="control-button button-independent-switch";y[D]=m.independent===!0?Z+" button-independent-switch-on":Z+" button-independent-switch-off",y.title=m.independentSwitchToolTip||"";var x=this.$4i(m),H=this.$5i(m);return this.$6i(y),W.setCanvas(y,H,x),y},$7i:function(t){var A=u();A[D]="control-button button-minimize button-minimize-minimize",A.title=t.minimizeToolTip||"";var g=this.$4i(t),M=this.$5i(t);return this.$6i(A),W.setCanvas(A,M,g),A},$55i:function(m){var R=this._config,r=R.items,d=m.separatorWidth||J.panelSeparatorWidth,Q=m.titleBackground||J.panelTitleBackground,p=m.expanded!==!1?Q:m.separatorColor||J.panelSeparatorColor||J.brighter(Q);return(R===m||r&&r.indexOf(m)===r.length-1)&&(d=0),d+$+" solid "+p},$3i:function(a,U){var Q=this,g=Q._config.flowLayout,s=k(),w=k(),A=Q.$4i(a),Y=a.titleBackground,p=a.titleColor,C=a.titleIcon,O=a.buttons;if(s[D]="panel-title",N(s,q,"relative"),N(s,"background",Y||J.panelTitleBackground),N(s,"color",p||J.panelTitleLabelColor),N(s,E,b),N(s,"box-sizing","border-box"),N(s,"-moz-box-sizing","border-box"),N(s,"padding","0 5px 0 0"),N(s,i,"100%"),N(s,"cursor","default"),N(s,"white-space","nowrap"),N(s,"font",J.panelTitleLabelFont),C){var Z=u();Z[D]="control-button panel-title-icon";var B=Q.$4i(a),h=Q.$5i(a);Q.$6i(Z),W.setCanvas(Z,h,B),f(s,Z)}var l=R("span");N(l,"display","inline-block"),N(l,"margin-left","5px"),l[x]="<span>"+a.title+"</span>",f(s,l),N(s,"line-height",A+$),w[D]="panel-title-controls",N(w,q,r),N(w,d,b),N(w,e,5+$),N(w,E,b),N(w,j,b),N(w,"text-align",e);var I=function(){var h=Q.$9i(a);f(w,h)},t=function(){if(!g&&U&&a.minimizable!==!1){var S=Q.$7i(a);f(w,S)}},c=function(){if(!U){var P=Q.$8i(a);f(w,P)}},m=function(P){var g=u();g[D]="control-button custombutton-"+P.name,g.title=P.toolTip||"",g._action=P.action;var x=Q.$4i(a),i=Q.$5i(a);Q.$6i(g),W.setCanvas(g,i,x),f(w,g)};if(O)for(var _=0;_<O.length;_++){var L=O[_];"string"==typeof L?"minimize"===L?t():"independentSwitch"===L?c():"toggle"===L&&I():"object"==typeof L&&m(L)}else t(),I();return f(s,w),s},$50i:function(b){var T=k(),P=b.contentHeight,v=k();N(v,q,"relative"),T[D]="panel-body",N(T,"overflow","hidden");var t=b.contentBackground;if(t===c&&(t="white"),N(T,"background",t),N(T,"font",J.panelContentLabelFont),f(T,v),b.content){var Y,L=b.content;L.getView?(f(v,L.getView()),Y=v.children[0]):L instanceof Element?(f(v,L),Y=v.children[0]):v[x]=L,L.isSelfViewEvent||Y&&(N(Y,i,"100%"),N(Y,_,"100%")),P&&N(v,_,P+$)}return T},$10i:function(){var v=this,Y=v._config,L=v._view,N=L.querySelector(".resize-area").style;N.display=Y.flowLayout||Y.minimized===!0||Y.expanded===!1?B:"block"},$11i:function(){var R=this._view,M=R.children[1];this.$13i>=0?this.$13i++:this.$13i=1,N(M,V,U),N(R,y,U)},$12i:function(){var M=--this.$13i;if(0===M){var v=this._view,C=v.children[1];N(C,V,C.scrollHeight+$),N(v,y,v.offsetWidth+$)}},$14i:function(){var Z=this._view,p=Z.children[0],m=p.children[1].children,H=this._config,e=0;Z.$26i=Z.offsetWidth,e+=p.children[0].offsetWidth,H.titleIcon&&(e+=p.children[1].offsetWidth,m=p.children[2].children);for(var r=0;r<m.length;r++){var I=m[r];e+=I.offsetWidth+5}Z.$51i=e+15},togglePanel:function(S,w,I){function l(N){var l=N.target,f=l.parentNode,X=g.getPanelConfig(f.$15i);delete f.$19i,l!==A&&g.$12i(),g.$18i.fire({kind:"endToggle",target:g,id:X.id})}for(var g=this,G=g._view,A=G.children[1],o=p,z=g.$35i,d=z.length,Y=g._config.exclusive,e=g.$2i,n=[],P=g._config.narrowWhenCollapse,E=0;d>E;E++){var H=z[E],k=H.parentNode,M=k.$15i,J=g.getPanelConfig(M);M===S&&(o=k),!w&&Y&&J.expanded&&k!==G&&M!==S&&J.independent!==!0&&n.push(k)}if(o&&!o.$19i){o.$19i=!0;var x=o.children[1],v=o.querySelector(".button-toggle"),F=g.getPanelConfig(o.$15i);if(!v)return;o===G||F.expanded||F.independent===!0||n.forEach(function(B){g.togglePanel(B.$15i,!0)}),o!==G&&g.$11i();var X=200;if(I&&(X=0),g.$18i.fire({kind:"beginToggle",target:g,id:o.$15i}),F.expanded){var m=function(){v[D]="control-button button-toggle",v[D]+=e.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",N(x,i,x.clientWidth+$),F.expanded=!1,N(o.children[0],"border-bottom",g.$55i(F)),h(x).duration(X).set("opacity",b).set(V,b).end(l),P&&o===G&&h(o).duration(X).set(y,o.$51i+$).end(),o[D]+=" panel-collapse",h(o).duration(X).set("padding-bottom",b).end(),g.$28i(F,!0),g.$10i()};P&&o===G&&g.$14i(),m()}else v[D]="control-button button-toggle",v[D]+=e.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",N(x,i,U),F.expanded=!0,N(o.children[0],"border-bottom",g.$55i(F)),h(x).duration(X).set("opacity","1").set(V,x.scrollHeight+$).end(l),P&&o===G&&h(o).duration(X).set(y,(o.$26i||o.offsetWidth)+$).end(),o[D]=o[D].replace(" panel-collapse",U),h(o).duration(X).end(),g.$28i(F,!0),g.$10i()}},$16i:function(){var R=this._view,n=R.$22i,K=R.$23i,U=this.$2i;return n==p&&(U.indexOf(d)>=0?n=R.$22i=0:U.indexOf(e)>=0&&(n=R.$22i=100)),K==p&&(U.indexOf("Top")>=0?K=R.$23i=0:U.indexOf("Bottom")>=0&&(K=R.$23i=100)),[n,K]},$25i:function(){var v=this,L=v._view,w=L.$21i,h=v.$20i(),i=v.$16i(),q=i[0],c=i[1],n=v.$2i;L.children[0].style.display=B,L.children[1].style.display=B,L.children[2].style.display=U,N(L,"padding",b),N(L,y,h+$),"leftTop"===n?(N(L,d,T(z(L,d))+(w.width-h)*q/100+$),N(L,E,T(z(L,E))+(w.height-h)*c/100+$)):"leftBottom"===n?(N(L,d,T(z(L,d))+(w.width-h)*q/100+$),N(L,j,T(z(L,j))+(w.height-h)*(1-c/100)+$)):"rightTop"===n?(N(L,e,T(z(L,e))+(w.width-h)*(1-q/100)+$),N(L,E,T(z(L,E))+(w.height-h)*c/100+$)):"rightBottom"===n&&(N(L,e,T(z(L,e))+(w.width-h)*(1-q/100)+$),N(L,j,T(z(L,j))+(w.height-h)*(1-c/100)+$)),L[D]+=" panel-minimized",v.$18i.fire({kind:"endMinimize",target:v,id:L.$15i})},$17i:function(){var E=this,W=E._config,y=E._view;N(y,"-webkit-transform",U),N(y,"-ms-transform",U),N(y,"transform",U),W.minimized?E.$25i():(E.$18i.fire({kind:"endRestore",target:E,id:W.id}),y[D]=y[D].replace(" panel-minimized",U)),delete y.$19i},minimize:function(g){var S=this,f=S._view;if(!f.$19i&&f.children[0].style.display!==B){var s=S._config,z=f.getBoundingClientRect(),T=S.$20i(),Q=z.width,v=z.height,k=T/Q,p=T/v,e=S.$16i(),K=e[0],x=e[1];f.$52i=k,f.$53i=p,f.$21i=z,S.$18i.fire({kind:"beginMinimize",target:S,id:f.$15i});var m=200;g&&(m=0),s.minimized=!0,f.$19i=!0,s.expanded&&(f.$26i=f.offsetWidth);var A=K+"% "+x+"%";N(f,"-webkit-transform-origin",A),N(f,"-ms-transform-origin",A),N(f,"transform-origin",A),h(f).duration(m).scale(k,p).end(function(){S.$17i()}),S.$10i()}},restore:function(){var Z,I,J,k,w,c,U,F,C,_,i,r,V=this,p=V._view,x=p.parentNode,l=V._config;if(!p.$19i&&l.minimized){var n=p.$21i,S=p.$52i,Q=p.$53i,L=(l.borderWidth+$,V.$20i()),Y=t(x),K=V.$2i;"leftTop"===K?(Z=T(z(p,d)),J=T(z(p,E)),w=Z,U=J,C=Z+n.width-Y.width,_=J+n.height-Y.height,C>0&&(C>=Z?Z=0:Z-=C),_>0&&(_>=J?J=0:J-=_),i=100*((w-Z)/(n.width-L)),r=100*((U-J)/(n.height-L)),N(p,d,Z+$),N(p,E,J+$)):"leftBottom"===K?(Z=T(z(p,d)),k=T(z(p,j)),w=Z,F=k,C=Z+n.width-Y.width,_=k+n.height-Y.height,C>0&&(C>=Z?Z=0:Z-=C),_>0&&(_>=k?k=0:k-=_),i=100*((w-Z)/(n.width-L)),r=100*(1-(F-k)/(n.height-L)),N(p,d,Z+$),N(p,j,k+$)):"rightTop"===K?(I=T(z(p,e)),J=T(z(p,E)),c=I,U=J,C=I+n.width-Y.width,_=J+n.height-Y.height,C>0&&(C>=I?I=0:I-=C),_>0&&(_>=J?J=0:J-=_),i=100*(1-(c-I)/(n.width-L)),r=100*((U-J)/(n.height-L)),N(p,e,I+$),N(p,E,J+$)):"rightBottom"===K&&(I=T(z(p,e)),k=T(z(p,j)),c=I,F=k,C=I+n.width-Y.width,_=k+n.height-Y.height,C>0&&(C>=I?I=0:I-=C),_>0&&(_>=k?k=0:k-=_),i=100*(1-(c-I)/(n.width-L)),r=100*(1-(F-k)/(n.height-L)),N(p,e,I+$),N(p,j,k+$)),p.children[0].style.display="block",p.children[1].style.display="block",p.children[2].style.display=B,N(p,"-webkit-transform","scale("+S+", "+Q+")"),N(p,"-ms-transform","scale("+S+", "+Q+")"),N(p,"transform","scale("+S+", "+Q+")"),p.$22i=i,p.$23i=r,N(p,"-webkit-transform-origin",i+"% "+r+"%"),N(p,"-ms-transform-origin",i+"% "+r+"%"),N(p,"transform-origin",i+"% "+r+"%"),l.narrowWhenCollapse&&!l.expanded?N(p,y,p.$51i+$):N(p,y,p.$26i+$),V.$18i.fire({kind:"beginRestore",target:V,id:p.$15i}),p.$19i=!0,l.minimized=!1,A(function(){h(p).scale(1,1).end(function(){V.$17i()})},30),V.$10i()}},addEventListener:function(O,o,S){this.$18i.add(O,o,S)},removeEventListener:function(P,G){this.$18i.remove(P,G)},setPosition:function(O,D){var u=this._view,K=this.$2i;"leftTop"===K?(N(u,d,O+$),N(u,E,D+$),N(u,e,U),N(u,j,U)):"leftBottom"===K?(N(u,d,O+$),N(u,j,D+$),N(u,e,U),N(u,E,U)):"rightTop"===K?(N(u,e,O+$),N(u,E,D+$),N(u,d,U),N(u,j,U)):"rightBottom"===K&&(N(u,e,O+$),N(u,j,D+$),N(u,d,U),N(u,E,U)),delete u.$22i,delete u.$23i},getPosition:function(){var g=this._view,N=this.$2i;return"leftTop"===N?{x:T(z(g,d)),y:T(z(g,E))}:"leftBottom"===N?{x:T(z(g,d)),y:T(z(g,j))}:"rightTop"===N?{x:T(z(g,e)),y:T(z(g,E))}:"rightBottom"===N?{x:T(z(g,e)),y:T(z(g,j))}:void 0},setPositionRelativeTo:function(O){var I=this,T=I._view.querySelectorAll(".button-toggle"),E="control-button button-toggle",S=I.getPosition();I.$2i=O,I.setPosition(S.x,S.y);for(var $=0;$<T.length;$++){var M=T[$],p=I.getPanelConfig(M.parentNode.parentNode.parentNode.$15i);M[D]=p.expanded?O.indexOf("Bottom")>=0?E+" button-toggle-collapse":E+" button-toggle-expand":O.indexOf("Bottom")>=0?E+" button-toggle-expand":E+" button-toggle-collapse"}I.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(S){var $=this;$._68I||($._68I=1,J.callLater($.validate,$,p,S),$.onInvalidated&&$.onInvalidated(),$.fireViewEvent("invalidate"));var Z=this._config,G=Z.content;G&&G.invalidate&&G.invalidate(),Z.items&&Z.items.forEach(function(E){E&&E.content&&E.content.invalidate&&E.content.invalidate()})},getIconStretch:function(){var t=this._config.iconStretch||"fill";return t},$27i:function(T,b,v,X,q){var t=W.initContext(T);W.translateAndScale(t,0,0,1),t.clearRect(0,0,v,v);var h=(v-X)/2;J.drawStretchImage(t,J.getImage(b),this.getIconStretch(q),0,h,X,X),t.restore()},$28i:function(u){var Z,W,k,E=this,r=u.id,P=E.getPanelView(r),n=P.querySelector(".button-toggle"),V=E.$2i.indexOf("Bottom")>=0;if(W=V?J.panelCollapseIcon:J.panelExpandIcon,k=V?J.panelExpandIcon:J.panelCollapseIcon,n){Z=u.expanded?J.getImage(k):J.getImage(W);var e=E.$4i(u),A=E.$5i(u);E.$27i(n,Z,e,A,"toggle")}},$29i:function(A){var H,f=this,q=A.id,P=f.getPanelView(q),E=P.querySelector(".button-independent-switch"),X=J.panelUnLockIcon,s=J.panelLockIcon;if(E){H=A.independent!==!0?J.getImage(s):J.getImage(X);var B=f.$4i(A),W=f.$5i(A);f.$27i(E,H,B,W,"switch")}},$30i:function(L){var K=this,X=L.id,R=K.getPanelView(X),A=R.querySelector(".button-minimize-minimize"),o=J.panelMinimizeIcon;if(A){var j=K.$4i(L),g=K.$5i(L);K.$27i(A,J.getImage(o),j,g,"miminize")}},$31i:function(j){var N=this,z=j.id,C=N.getPanelView(z),V=C.querySelector(".button-minimize-restore"),p=j.titleIcon||J.panelRestoreIcon;if(V){var Y=N.$20i();N.$27i(V,J.getImage(p),Y,Y,"restore")}},$32i:function(I){var T=this,G=I.id,i=T.getPanelView(G);if(I.buttons){var y=I.buttons;y.forEach(function($){var l=$.name,v=$.icon;if(l&&v){var S=i.querySelector(".custombutton-"+l);if(S){var x=T.$4i(I),u=T.$5i(I)-1;T.$27i(S,J.getImage(v),x,u,"custom")}}})}},$33i:function(G){var l=this,K=G.id,A=l.getPanelView(K),S=A.querySelector(".panel-title-icon"),_=G.titleIcon;if(S&&_){var m=l.$4i(G),Q=l.$5i(G);l.$27i(S,J.getImage(_),m,Q,"title")}},validateImpl:function(){var f=this,N=f._config;f.$28i(N),f.$30i(N),f.$31i(N),f.$32i(N),f.$33i(N),N.items&&N.items.forEach(function(F){f.$28i(F),f.$29i(F),f.$32i(F)})}});var P=function($){var X=this,m=$.getView();X.$34i=$,X.addListeners(),G(m,"dblclick",X.$42i.bind(X))};J.def(P,w,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(l){for(var S=this.$34i,B=l.target,v=S.$35i,c=v.length,H=0;c>H;H++){var L=v[H];L.contains(B)&&(l.preventDefault(),S.togglePanel(L.parentNode.$15i))}},handle_touchstart:function(v){var Y=this,u=Y.$34i,t=u._config,h=t.flowLayout,S=v;if(J.isLeftButton(v)){var Q=v.target,m=u.getView().children[0],T=u.getView().querySelector(".button-minimize-restore");o(v)&&(S=L(v));var M=Y.$40i={x:S.pageX,y:S.pageY};Y.$41i={x:M.x,y:M.y},(!h&&m.contains(Q)||T&&T.contains(Q))&&(Y.$38i=!0,J.startDragging(Y,v)),!h&&Y.handle_mousemove(v)&&(Y.$37i=!0,J.startDragging(Y,v),u.$11i())}},handle_mousedown:function(W){this.handle_touchstart(W)},handle_touchend:function(z){var T=this,d=T.$34i,M=z.target,G=d.$35i,t=G.length,I=0,k=d.getView(),w=k.querySelector(".button-minimize"),f=k.querySelector(".button-minimize-restore");if(!T.$39i&&!T.$36i){if(w&&w.contains(M)||f&&f.contains(M))z.preventDefault(),d._config.minimized?d.restore():d.minimize();else for(;t>I;I++){var H=G[I],m=H.parentNode,c=m.$15i,X=d.getPanelConfig(c),n=H.querySelector(".button-toggle"),V=H.querySelector(".button-independent-switch");if(n===M)z.preventDefault(),d.togglePanel(c);else if(V===M){z.preventDefault();var j="button-independent-switch-off",$="button-independent-switch-on";X.independent=X.independent==p?!0:!X.independent,V[D]=X.independent?V[D].replace(j,$):V[D].replace($,j),d.$29i(X)}else M[D]&&M[D].indexOf("control-button custombutton-")>=0&&H.contains(M)&&M._action.call(d,X,d.getPanelView(c),z)}delete T.$40i,delete T.$41i}},handle_mouseup:function(i){this.handle_touchend(i)},handleWindowTouchEnd:function(){var D=this,S=D.$34i;D.$37i&&D.$36i?(S.$18i.fire({kind:"endResize",target:S,id:S.getView().$15i}),S.$12i()):D.$38i&&D.$39i&&S.$18i.fire({kind:"endMove",target:S,id:S.getView().$15i}),this.clear()},handleWindowMouseUp:function(N){this.handleWindowTouchEnd(N)},handle_mousemove:function(Y){var G=this,O=G.getView(),n=O.querySelector(".resize-area"),P=n.getBoundingClientRect(),R={x:P.left,y:P.top,width:P.width,height:P.height};Y=o(Y)?L(Y):Y;var k=Y.clientX,r=Y.clientY,H=G.$34i._config;return H.expanded&&H.minimized!==!0&&J.containsPoint(R,{x:k,y:r})?(O.style.cursor="nwse-resize",!0):(O.style.cursor=U,void 0)},handleWindowTouchMove:function(Y){Y.preventDefault();var v=Y;o(Y)&&(v=L(Y));var s=this,l=s.$40i,r=s.$41i;if(!(r.x==l.x&&r.y==l.y&&J.getDistance(r,{x:v.pageX,y:v.pageY})<=1)){var Z=s.$34i,m=s.getView(),h=m.parentNode,p=Z._config,W=p.resizeMode||"wh",c=v.pageX-l.x,k=v.pageY-l.y,y=Z.$2i;if(s.$37i){var u=m.children[1].children[0],D=m.offsetWidth,F=u.offsetHeight,w=D+c,I=F+k;w=Math.max(w,100),I=Math.max(I,100),"w"===W?(N(m,i,w+$),p.width=w):"h"===W?(N(u,_,I+$),p.contentHeight=I):"wh"===W&&(N(m,i,w+$),N(u,_,I+$),p.width=w,p.contentHeight=I),y.indexOf("right")>=0&&N(m,e,T(z(m,e))-(w-D)+$),y.indexOf("Bottom")>=0&&N(m,j,T(z(m,j))-(I-F)+$),l.x=v.pageX,l.y=v.pageY;var H=p.content;H&&H.isSelfViewEvent&&(H.setX(0),H.setY(0),H.setWidth(p.width-2*(p.borderWidth||0)),H.setHeight(p.contentHeight)),s.$36i?Z.$18i.fire({kind:"betweenResize",target:Z,id:Z.getView().$15i}):(s.$36i=!0,Z.$18i.fire({kind:"beginResize",target:Z,id:Z.getView().$15i}))}else if(s.$38i){var f,R,Q,a,X,P,G,K,n,O,C=m.getBoundingClientRect(),U=C.width,g=C.height,A=t(h),b=A.width,x=A.height,B=Z._dragContainment;"leftTop"===y?(f=T(z(m,d))||0,Q=T(z(m,E))||0,X=f+c,G=Q+k,"parent"===B&&(X+U>b&&(X=b-U),G+g>x&&(G=x-g),0>X&&(X=0),0>G&&(G=0)),n=X-f,O=G-Q,Z.setPosition(X,G),l.x+=n,l.y+=O):"rightBottom"===y?(R=T(z(m,e))||0,a=T(z(m,j))||0,P=R-c,K=a-k,"parent"===B&&(0>P&&(P=0),0>K&&(K=0),P+U>b&&(P=b-U),K+g>x&&(K=x-g)),n=P-R,O=K-a,Z.setPosition(P,K),l.x-=n,l.y-=O):"rightTop"===y?(R=T(z(m,e))||0,Q=T(z(m,E))||0,P=R-c,G=Q+k,"parent"===B&&(0>P&&(P=0),0>G&&(G=0),P+U>b&&(P=b-U),G+g>x&&(G=x-g)),n=P-R,O=G-Q,Z.setPosition(P,G),l.x-=n,l.y+=O):"leftBottom"===y&&(f=T(z(m,d))||0,a=T(z(m,j))||0,X=f+c,K=a-k,"parent"===B&&(0>X&&(X=0),0>K&&(K=0),X+U>b&&(X=b-U),K+g>x&&(K=x-g)),n=X-f,O=K-a,Z.setPosition(X,K),l.x+=n,l.y-=O),s.$39i?Z.$18i.fire({kind:"betweenMove",target:Z,id:Z.getView().$15i}):(s.$39i=!0,Z.$18i.fire({kind:"beginMove",target:Z,id:Z.getView().$15i}))}}},handleWindowMouseMove:function(q){this.handleWindowTouchMove(q)}});var Q=S.widget.PanelGroup=function(x){var o=this,M=o._view=W.createView(null,o);M.style.border="1px dashed black",M.style.position="absolute",M.style.background="rgba(120, 120, 120, 0.4)",o.$48i=new S.List,o._tolerance=100,o._config=x||{hGap:0,vGap:0},o.bindHandlePanelMove=o.handlePanelMove.bind(o),o.bindHandlePanelEvent=o.handlePanelEvent.bind(o),o.invalidate()};J.def(Q,w,{invalidate:function(){var u=this;u._68I||(u._68I=1,A(function(){u.validate()},50))},validate:function(){if(this._68I){delete this._68I;var c=this.$48i.get(0);if(c){var a=c.getView().parentNode;a&&(this.layoutPanels(a,"leftTop"),this.layoutPanels(a,"rightTop"),this.layoutPanels(a,"leftBottom"),this.layoutPanels(a,"rightBottom"))}}},setLeftTopPanels:function(){var W=this,h=W.$43i,r=W.$48i;h==p&&(h=W.$43i=new S.List);for(var D=0;D<arguments.length;D++){var f=arguments[D];if("string"==typeof f)h.$49i=f;else{if(f._config.flowLayout)continue;f.setPositionRelativeTo("leftTop"),h.contains(f)||h.add(f),r.contains(f)||W.add(f)}}},setRightTopPanels:function(){var K=this,W=K.$44i,Y=K.$48i;W==p&&(W=K.$44i=new S.List);for(var j=0;j<arguments.length;j++){var P=arguments[j];if("string"==typeof P)W.$49i=P;else{if(P._config.flowLayout)continue;P.setPositionRelativeTo("rightTop"),W.contains(P)||W.add(P),Y.contains(P)||K.add(P)}}},setLeftBottomPanels:function(){var Y=this,X=Y.$45i,V=Y.$48i;X==p&&(X=Y.$45i=new S.List);for(var E=0;E<arguments.length;E++){var L=arguments[E];if("string"==typeof L)X.$49i=L;else{if(L._config.flowLayout)continue;L.setPositionRelativeTo("leftBottom"),X.contains(L)||X.add(L),V.contains(L)||Y.add(L)}}},setRightBottomPanels:function(){var m=this,O=m.$46i,i=m.$48i;O==p&&(O=m.$46i=new S.List);for(var x=0;x<arguments.length;x++){var c=arguments[x];if("string"==typeof c)O.$49i=c;else{if(c._config.flowLayout)continue;c.setPositionRelativeTo("rightBottom"),O.contains(c)||O.add(c),i.contains(c)||m.add(c)}}},add:function(M){if(!M._config.flowLayout){var _=this,W=_.$48i;W.contains(M)||(M.addEventListener(_.bindHandlePanelMove),M.addEventListener(_.bindHandlePanelEvent),W.add(M))}},remove:function(m){var h=this,d=h.$48i;d.contains(m)&&(m.removeEventListener(h.bindHandlePanelMove),m.removeEventListener(h.bindHandlePanelEvent),d.remove(m),h.$43i.contains(m)&&h.$43i.remove(m),h.$44i.contains(m)&&h.$44i.remove(m),h.$45i.contains(m)&&h.$45i.remove(m),h.$46i.contains(m)&&h.$46i.remove(m))},layoutPanels:function(w,V,N){var i=this,W=i._config,D=W.hGap||0,T=W.vGap||0;if(w){var m=i.$43i;if("leftBottom"===V?m=i.$45i:"rightTop"===V?m=i.$44i:"rightBottom"===V&&(m=i.$46i),!m)return;var X=m.$49i,H=D,n=T;if(w.contains(i._view)&&w.removeChild(i._view),m&&m.size()>0)for(var u=0;u<m.size();u++){var S=m.get(u),I=S.getView();w=w||I.parentNode,N!==u?S.setPosition(H,n):("leftTop"===V?(i._view.style.right="",i._view.style.bottom="",i._view.style.left=H+$,i._view.style.top=n+$):"leftBottom"===V?(i._view.style.right="",i._view.style.top="",i._view.style.left=H+$,i._view.style.bottom=n+$):"rightTop"===V?(i._view.style.left="",i._view.style.bottom="",i._view.style.right=H+$,i._view.style.top=n+$):"rightBottom"===V&&(i._view.style.left="",i._view.style.top="",i._view.style.right=H+$,i._view.style.bottom=n+$),i._view.style.width=I.offsetWidth+$,i._view.style.height=I.offsetHeight+$,w.insertBefore(i._view,I)),"h"===X?H+=I.offsetWidth+D:"v"===X&&(n+=I.offsetHeight+T)}}},handlePanelEvent:function(q){if("beginToggle"===q.kind||"endToggle"===q.kind||"beginRestore"===q.kind||"endMinimize"===q.kind||"endResize"===q.kind){var Z=this,I=q.target,G=I.getView(),e=G.parentNode,a=Z.$43i,i=Z.$44i,U=Z.$45i,M=Z.$46i,W=Z._config,D=p,l=p,n=I.$47i;if(n==p&&(n=I.$47i=0),"beginToggle"===q.kind?n=I.$47i=n+1:"endToggle"===q.kind&&(n=I.$47i=n-1),a&&a.contains(I)?(D="leftTop",l=a):U&&U.contains(I)?(D="leftBottom",l=U):i&&i.contains(I)?(D="rightTop",l=i):M&&M.contains(I)&&(D="rightBottom",l=M),"beginToggle"===q.kind&&D&&1===n){var F=k(),P=F.style,z=l.$49i,g="each";P.fontSize="0",P.position="absolute",P.width="100%","leftTop"===D?(P.left=0,P.top=0):"leftBottom"===D?(P.left=0,P.bottom=0,"v"===z&&(g="reverseEach")):"rightTop"===D?(P.right=0,P.top=0,P.textAlign="right","h"===z&&(g="reverseEach")):"rightBottom"===D&&(P.right=0,P.bottom=0,P.textAlign="right",g="reverseEach"),l[g](function(l){var G=l.getView(),s=G.style,E=k();s.position="static",E.style.textAlign="left",E.style.position="relative",E.style.display="inline-block","leftTop"===D?(E.style.marginLeft=W.hGap+$,E.style.marginTop=W.vGap+$):"leftBottom"===D?(E.style.marginLeft=W.hGap+$,E.style.marginBottom=W.vGap+$):"rightTop"===D?(E.style.marginRight=W.hGap+$,E.style.marginTop=W.vGap+$):"rightBottom"===D&&(E.style.marginRight=W.hGap+$,E.style.marginBottom=W.vGap+$),E.appendChild(G),F.appendChild(E),"h"===z?E.style.verticalAlign="leftTop"===D||"rightTop"===D?"top":"bottom":F.appendChild(R("br"))}),Z.$54i=F,e.appendChild(F)}else"endToggle"===q.kind&&D&&0===n?A(function(){e=e.parentNode.parentNode,e.removeChild(Z.$54i),delete Z.$54i,l.each(function(o){var V=o.getView(),Q=V.style;Q.position="absolute",e.appendChild(V)}),Z.layoutPanels(e,D)},30):("beginRestore"===q.kind||"endMinimize"===q.kind||"endResize"===q.kind)&&D&&Z.layoutPanels(e,D)}},handlePanelMove:function(d){if(!(d.kind.indexOf("Move")<0)){var Q=this,$=Q._config,Z=$.hGap||0,j=$.vGap||0,u=d.target,N=u._view,X=N.getBoundingClientRect(),l=X.width,k=X.height,v=l/2,s=k/2,W=N.parentNode,K=Q.$43i,O=Q.$44i,R=Q.$45i,f=Q.$46i,H=W.getBoundingClientRect(),P=Q._tolerance;if("endMove"===d.kind){var z=Q._corner;z&&(u.setPositionRelativeTo(z),Q.layoutPanels(W,z)),delete Q._corner}if("betweenMove"===d.kind){var w=H.left,i=H.top,r=H.width,G=H.height,C=X.left+l/2,m=X.top+k/2;K==p&&(K=Q.$43i=new S.List),R==p&&(R=Q.$45i=new S.List),O==p&&(O=Q.$44i=new S.List),f==p&&(f=Q.$46i=new S.List),delete Q._corner,K.contains(u)?(K.remove(u),Q.layoutPanels(W,"leftTop")):R.contains(u)?(R.remove(u),Q.layoutPanels(W,"leftBottom")):O.contains(u)?(O.remove(u),Q.layoutPanels(W,"rightTop")):f.contains(u)&&(f.remove(u),Q.layoutPanels(W,"rightBottom"));var a=function(y,K){var I=w+Z,R=i+j;if(0===K.size()){var M=I+v,l=R+s;"leftBottom"===y?l=i+G-j-s:"rightTop"===y?M=w+r-Z-v:"rightBottom"===y&&(M=w+r-Z-v,l=i+G-j-s);var A=C-M,O=m-l,H=Math.sqrt(A*A+O*O);if(P>H)return Q._corner=y,K.add(u),Q.layoutPanels(W,y,0),!0}else if(1===K.size()){var z=K.get(0),q=z.getView().getBoundingClientRect(),$=q.left+v,d=q.top+s,S=q.left+q.width+Z+v,Y=R+s,a=I+v,n=q.top+q.height+j+s;"leftBottom"===y?(d=q.top+q.height-s,Y=i+G-j-s,n=q.top-j-s):"rightTop"===y?($=q.left+q.width-v,S=q.left-Z-v,a=w+r-Z-v):"rightBottom"===y&&($=q.left+q.width-v,d=q.top+q.height-s,S=q.left-Z-v,Y=i+G-j-s,a=w+r-Z-v,n=q.top-j-s);var k=C-$,X=m-d,_=C-S,D=m-Y,b=C-a,o=m-n,N=T(Math.sqrt(k*k+X*X)),f=T(Math.sqrt(_*_+D*D)),x=T(Math.sqrt(b*b+o*o)),e=[N,f,x];e.sort(function(F,D){return F-D});var B=e[0];if(P>B){if(Q._corner=y,B===N)return K.add(u,0),Q.layoutPanels(W,y,0),!0;if(B===f)return K.add(u),K.$49i="h",Q.layoutPanels(W,y,1),!0;if(B===x)return K.add(u),K.$49i="v",Q.layoutPanels(W,y,1),!0}}else if(K.size()>1){for(var L=p,J={},E=[],F=K.$49i,V=0;V<K.size();V++){var t=K.get(V),g=t.getView(),h=g.getBoundingClientRect(),c=h.left+v,U=h.top+s;"leftBottom"===y?U=h.top+h.height-s:"rightTop"===y?c=h.left+h.width-v:"rightBottom"===y&&(c=h.left+h.width-v,U=h.top+h.height-s),V===K.size()-1&&(L=h);var A=C-c,O=m-U,H=T(Math.sqrt(A*A+O*O));J[H]=V,E.push(H)}"leftTop"===y&&"h"===F?(M=L.left+L.width+Z+v,l=R+s):"leftTop"===y&&"v"===F?(M=I+v,l=L.top+L.height+j+s):"leftBottom"===y&&"h"===F?(M=L.left+L.width+Z+v,l=i+G-j-s):"leftBottom"===y&&"v"===F?(M=I+v,l=L.top-j-s):"rightTop"===y&&"h"===F?(M=L.left-Z-v,l=R+s):"rightTop"===y&&"v"===F?(M=w+r-Z-v,l=L.top+L.height+j+s):"rightBottom"===y&&"h"===F?(M=L.left-Z-v,l=i+G-j-s):"rightBottom"===y&&"v"===F&&(M=w+r-Z-v,l=L.top-j-s),A=C-M,O=m-l,H=T(Math.sqrt(A*A+O*O)),J[H]=V,E.push(H),E.sort(function(r,s){return r-s});var B=E[0];if(P>B)return Q._corner=y,K.add(u,J[B]),Q.layoutPanels(W,y,J[B]),!0}};a("leftTop",K)||a("leftBottom",R)||a("rightTop",O)||a("rightBottom",f)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);